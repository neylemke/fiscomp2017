/*!
 * This file is part of SageMathCloud.
 * It was compiled 2017-05-12T12:44:12.962Z at revision 54fddee03658407e336dc864f6f91d8d990ed373 and version 1494252317.
 * See https://github.com/sagemathinc/smc for its GPLv3 code.
 */
!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,o){for(var s,a,l=0,c=[];l<r.length;l++)a=r[l],i[a]&&c.push.apply(c,i[a]),i[a]=0;for(s in o)if(Object.prototype.hasOwnProperty.call(o,s)){var u=o[s];switch(typeof u){case"object":e[s]=function(t){var n=t.slice(1),r=t[0];return function(t,i,o){e[r].apply(this,[t,i,o].concat(n))}}(u);break;case"function":e[s]=u;break;default:e[s]=e[u]}}for(n&&n(r,o);c.length;)c.shift().call(null,t)};var r={},i={1:0};return t.e=function(e,n){if(0===i[e])return n.call(null,t);if(void 0!==i[e])i[e].push(n);else{i[e]=[n];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+""+e+"-295dd75d69e3289d337e.js",r.appendChild(o)}},t.m=e,t.c=r,t.p="/static/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,exports,t){t(1002),t(303),t(921)},function(e,exports,t){"use strict";e.exports=t(72)},function(e,exports,t){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e){return RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function s(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function a(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function l(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function c(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function u(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function d(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}function p(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function h(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);o==-1&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function f(e){for(;Ms.length<=e;)Ms.push(m(Ms)+" ");return Ms[e]}function m(e){return e[e.length-1]}function _(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function g(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function v(){}function y(e,t){var n;return Object.create?n=Object.create(e):(v.prototype=e,n=new v),t&&u(t,n),n}function b(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ts.test(e))}function w(e,t){return t?!!(t.source.indexOf("\\w")>-1&&b(e))||t.test(e):b(e)}function x(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function k(e){return e.charCodeAt(0)>=768&&Os.test(e)}function A(e,t,n){for(;(n<0?t>0:t<e.length)&&k(e.charAt(t));)t+=n;return t}function C(e,t,n){for(;;){if(Math.abs(t-n)<=1)return e(t)?t:n;var r=Math.floor((t+n)/2);e(r)?n=r:t=r}}function E(e,t,n){var o=this;this.input=n,o.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=r("div",null,"CodeMirror-cursors"),o.measure=r("div",null,"CodeMirror-measure"),o.lineMeasure=r("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var s=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=r("div",[s],null,"position: relative"),o.sizer=r("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=r("div",null,null,"position: absolute; height: "+As+"px; width: 1px;"),o.gutters=r("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=r("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=r("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),es&&ts<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),ns||Qo&&ds||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function S(e,t){if(t-=e.first,t<0||t>=e.size)throw Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function j(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function M(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function T(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function O(e){if(null==e.parent)return null;for(var t=e.parent,n=p(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function N(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s],l=a.height;if(t<l)break;t-=l}return n+s}function I(e,t){return t>=e.first&&t<e.first+e.size}function D(e,t){return e.lineNumberFormatter(t+e.firstLineNumber)+""}function L(e,t,n){return void 0===n&&(n=null),this instanceof L?(this.line=e,this.ch=t,void(this.sticky=n)):new L(e,t,n)}function z(e,t){return e.line-t.line||e.ch-t.ch}function R(e,t){return e.sticky==t.sticky&&0==z(e,t)}function P(e){return L(e.line,e.ch)}function B(e,t){return z(e,t)<0?t:e}function q(e,t){return z(e,t)<0?e:t}function F(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function U(e,t){if(t.line<e.first)return L(e.first,0);var n=e.first+e.size-1;return t.line>n?L(n,S(e,n).text.length):W(t,S(e,t.line).text.length)}function W(e,t){var n=e.ch;return null==n||n>t?L(e.line,t):n<0?L(e.line,0):e}function H(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=U(e,t[r]);return n}function K(){Ns=!0}function G(){Is=!0}function Y(e,t,n){this.marker=e,this.from=t,this.to=n}function J(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function V(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Q(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Z(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Y(s,o.from,l?null:o.to))}}return r}function X(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Y(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function ee(e,t){if(t.full)return null;var n=I(e,t.from.line)&&S(e,t.from.line).markedSpans,r=I(e,t.to.line)&&S(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==z(t.from,t.to),a=Z(n,i,s),l=X(r,o,s),c=1==t.text.length,u=m(t.text).length+(c?i:0);if(a)for(var d=0;d<a.length;++d){var p=a[d];if(null==p.to){var h=J(l,p.marker);h?c&&(p.to=null==h.to?null:h.to+u):p.to=i}}if(l)for(var f=0;f<l.length;++f){var _=l[f];if(null!=_.to&&(_.to+=u),null==_.from){var g=J(a,_.marker);g||(_.from=u,c&&(a||(a=[])).push(_))}else _.from+=u,c&&(a||(a=[])).push(_)}a&&(a=te(a)),l&&l!=a&&(l=te(l));var v=[a];if(!c){var y,b=t.text.length-2;if(b>0&&a)for(var w=0;w<a.length;++w)null==a[w].to&&(y||(y=[])).push(new Y(a[w].marker,null,null));for(var x=0;x<b;++x)v.push(y);v.push(l)}return v}function te(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ne(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&p(r,n)!=-1||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(z(c.to,a.from)<0||z(c.from,a.to)>0)){var u=[l,1],d=z(c.from,a.from),h=z(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}function re(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ie(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function oe(e){return e.inclusiveLeft?-1:0}function se(e){return e.inclusiveRight?1:0}function ae(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=z(r.from,i.from)||oe(e)-oe(t);if(o)return-o;var s=z(r.to,i.to)||se(e)-se(t);return s?s:t.id-e.id}function le(e,t){var n,r=Is&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||ae(n,i.marker)<0)&&(n=i.marker);return n}function ce(e){return le(e,!0)}function ue(e){return le(e,!1)}function de(e,t,n,r,i){var o=S(e,t),s=Is&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=z(c.from,n)||oe(l.marker)-oe(i),d=z(c.to,r)||se(l.marker)-se(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?z(c.to,n)>=0:z(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?z(c.from,r)<=0:z(c.from,r)<0)))return!0}}}function pe(e){for(var t;t=ce(e);)e=t.find(-1,!0).line;return e}function he(e){for(var t;t=ue(e);)e=t.find(1,!0).line;return e}function fe(e){for(var t,n;t=ue(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function me(e,t){var n=S(e,t),r=pe(n);return n==r?t:O(r)}function _e(e,t){if(t>e.lastLine())return t;var n,r=S(e,t);if(!ge(e,r))return t;for(;n=ue(r);)r=n.find(1,!0).line;return O(r)+1}function ge(e,t){var n=Is&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ve(e,t,r))return!0}}function ve(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ve(e,r.line,J(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ve(e,t,i))return!0}function ye(e){e=pe(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function be(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=ce(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=ue(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function we(e){var t=e.display,n=e.doc;t.maxLine=S(n,n.first),t.maxLineLength=be(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=be(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function xe(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function ke(e,t,n){var r;Ds=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:Ds=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:Ds=i)}return null!=r?r:Ds}function Ae(e,t){var n=e.order;return null==n&&(n=e.order=Ls(e.text,t)),n}function Ce(e,t,n){var r=A(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ee(e,t,n){var r=Ce(e,t.ch,n);return null==r?null:new L(t.line,r,n<0?"after":"before")}function Se(e,t,n,r,i){if(e){var o=Ae(n,t.doc.direction);if(o){var s,a=i<0?m(o):o[0],l=i<0==(1==a.level),c=l?"after":"before";if(a.level>0){var u=Zt(t,n);s=i<0?n.text.length-1:0;var d=$t(t,u,s).top;s=C(function(e){return $t(t,u,e).top==d},i<0==(1==a.level)?a.from:a.to-1,s),"before"==c&&(s=Ce(n,s,1,!0))}else s=i<0?a.to:a.from;return new L(r,s,c)}}return new L(r,i<0?n.text.length:0,i<0?"before":"after")}function je(e,t,n,r){var i=Ae(t,e.doc.direction);if(!i)return Ee(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ke(i,n.ch,n.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return Ee(t,n,r);var a,l=function(e,n){return Ce(t,e instanceof L?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||Zt(e,t),gn(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var d=1==s.level==r<0,p=l(n,d?1:-1);if(null!=p&&(d?p<=s.to&&p<=u.end:p>=s.from&&p>=u.begin)){var h=d?"before":"after";return new L(n.line,p,h)}}var f=function(e,t,r){for(var o=function(e,t){return t?new L(n.line,l(e,1),"before"):new L(n.line,e,"after")};e>=0&&e<i.length;e+=t){var s=i[e],a=t>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},m=f(o+r,r,u);if(m)return m;var _=r>0?u.end:l(u.begin,-1);return null==_||r>0&&_==t.text.length||!(m=f(r>0?0:i.length-1,r,c(_)))?null:m}function Me(e,t){return e._handlers&&e._handlers[t]||zs}function Te(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=p(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Oe(e,t){var n=Me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Ne(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Oe(e,n||t.type,e,t),Pe(t)||t.codemirrorIgnore}function Ie(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)p(n,t[r])==-1&&n.push(t[r])}function De(e,t){return Me(e,t).length>0}function Le(e){e.prototype.on=function(e,t){Rs(this,e,t)},e.prototype.off=function(e,t){Te(this,e,t)}}function ze(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Re(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Pe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Be(e){ze(e),Re(e)}function qe(e){return e.target||e.srcElement}function Fe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),ps&&e.ctrlKey&&1==t&&(t=3),t}function Ue(e){if(null==xs){var t=r("span","​");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(xs=t.offsetWidth<=1&&t.offsetHeight>2&&!(es&&ts<8))}var i=xs?r("span","​"):r("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function We(e){if(null!=ks)return ks;var r=n(e,document.createTextNode("AخA")),i=_s(r,0,1).getBoundingClientRect(),o=_s(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(ks=o.right-i.right<3)}function He(e){if(null!=Us)return Us;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=_s(t,0,1).getBoundingClientRect();return Us=Math.abs(i.left-o.left)>1}function Ke(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ws[e]=t}function Ge(e,t){Hs[e]=t}function Ye(e){if("string"==typeof e&&Hs.hasOwnProperty(e))e=Hs[e];else if(e&&"string"==typeof e.name&&Hs.hasOwnProperty(e.name)){var t=Hs[e.name];"string"==typeof t&&(t={name:t}),e=y(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ye("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ye("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Je(e,t){t=Ye(t);var n=Ws[t.name];if(!n)return Je(e,"text/plain");var r=n(e,t);if(Ks.hasOwnProperty(t.name)){var i=Ks[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}function Ve(e,t){var n=Ks.hasOwnProperty(e)?Ks[e]:Ks[e]={};u(t,n)}function Qe(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ze(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),n&&n.mode!=e);)t=n.state,e=n.mode;return n||{mode:e,state:t}}function $e(e,t,n){return!e.startState||e.startState(t,n)}function Xe(e,t,n,r){var i=[e.state.modeGen],o={};at(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var s=function(n){var r=e.state.overlays[n],s=1,a=0;at(e,t.text,r.mode,!0,function(e,t){for(var n=s;a<e;){var o=i[s];o>e&&i.splice(s,1,e,i[s+1],o),s+=2,a=Math.min(e,o)}if(t)if(r.opaque)i.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var l=i[n+1];i[n+1]=(l?l+" ":"")+"overlay "+t}},o)},a=0;a<e.state.overlays.length;++a)s(a);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function et(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=tt(e,O(t)),i=Xe(e,t,t.text.length>e.options.maxHighlightLength?Qe(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function tt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=lt(e,t,n),s=o>r.first&&S(r,o-1).stateAfter;return s=s?Qe(r.mode,s):$e(r.mode),r.iter(o,t,function(n){nt(e,n.text,s);var a=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=a?Qe(r.mode,s):null,++o}),n&&(r.frontier=o),s}function nt(e,t,n,r){var i=e.doc.mode,o=new Gs(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&rt(i,n);!o.eol();)it(i,o,n),o.start=o.pos}function rt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ze(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function it(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ze(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw Error("Mode "+e.name+" failed to advance stream.")}function ot(e,t,n,r){var i,o=function(e){return{start:d.start,end:d.pos,string:d.current(),type:i||null,state:e?Qe(s.mode,u):u}},s=e.doc,a=s.mode;t=U(s,t);var l,c=S(s,t.line),u=tt(e,t.line,n),d=new Gs(c.text,e.options.tabSize);for(r&&(l=[]);(r||d.pos<t.ch)&&!d.eol();)d.start=d.pos,i=it(a,d,u),r&&l.push(o(!0));return r?l:o()}function st(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function at(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new Gs(t,e.options.tabSize),p=e.options.addModeClass&&[null];for(""==t&&st(rt(n,r),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,s&&nt(e,t,r,d.pos),d.pos=t.length,l=null):l=st(it(n,d,r,p),o),p){var h=p[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e3),i(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);i(f,u),c=f}}function lt(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=S(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=d(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=a-1,r=c)}return i}function ct(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),re(e),ie(e,n);var i=r?r(e):1;i!=e.height&&T(e,i)}function ut(e){e.parent=null,re(e)}function dt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Qs:Vs;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function pt(e,t){var n=i("span",null,null,ns?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(es||ns)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var s=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=ft,We(e.display.measure)&&(a=Ae(s,e.doc.direction))&&(r.addToken=_t(r.addToken,a)),r.map=[];var c=t!=e.display.externalMeasured&&O(s);vt(s,r,et(e,s,c)),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=l(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=l(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ue(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(ns){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Oe(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=l(r.pre.className,r.textClass||"")),r}function ht(e){var t=r("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ft(e,t,n,i,o,s,a){if(t){var l,c=e.splitSpaces?mt(t,e.trailingSpace):t,u=e.cm.state.specialChars,d=!1;if(u.test(t)){l=document.createDocumentFragment();for(var p=0;;){u.lastIndex=p;var h=u.exec(t),m=h?h.index-p:t.length-p;if(m){var _=document.createTextNode(c.slice(p,p+m));es&&ts<9?l.appendChild(r("span",[_])):l.appendChild(_),e.map.push(e.pos,e.pos+m,_),e.col+=m,e.pos+=m}if(!h)break;p+=m+1;var g=void 0;if("\t"==h[0]){var v=e.cm.options.tabSize,y=v-e.col%v;g=l.appendChild(r("span",f(y),"cm-tab")),g.setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=y}else"\r"==h[0]||"\n"==h[0]?(g=l.appendChild(r("span","\r"==h[0]?"␍":"␤","cm-invalidchar")),g.setAttribute("cm-text",h[0]),e.col+=1):(g=e.cm.options.specialCharPlaceholder(h[0]),g.setAttribute("cm-text",h[0]),es&&ts<9?l.appendChild(r("span",[g])):l.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),es&&ts<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||i||o||d||a){var b=n||"";i&&(b+=i),o&&(b+=o);var w=r("span",[l],b,a);return s&&(w.title=s),e.content.appendChild(w)}e.content.appendChild(l)}}function mt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function _t(e,t){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,p=0;p<t.length&&(d=t[p],!(d.to>c&&d.from<=c));p++);if(d.to>=u)return e(n,r,i,o,s,a,l);e(n,r.slice(0,d.to-c),i,o,null,a,l),o=null,r=r.slice(d.to-c),c=d.to}}}function gt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function vt(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,c,u,d,p,h=i.length,f=0,m=1,_="",g=0;;){if(g==f){l=c=u=d=a="",p=null,g=1/0;for(var v=[],y=void 0,b=0;b<r.length;++b){var w=r[b],x=w.marker;"bookmark"==x.type&&w.from==f&&x.widgetNode?v.push(x):w.from<=f&&(null==w.to||w.to>f||x.collapsed&&w.to==f&&w.from==f)?(null!=w.to&&w.to!=f&&g>w.to&&(g=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&w.from==f&&(u+=" "+x.startStyle),x.endStyle&&w.to==g&&(y||(y=[])).push(x.endStyle,w.to),x.title&&!d&&(d=x.title),x.collapsed&&(!p||ae(p.marker,x)<0)&&(p=w)):w.from>f&&g>w.from&&(g=w.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==g&&(c+=" "+y[k]);if(!p||p.from==f)for(var A=0;A<v.length;++A)gt(t,0,v[A]);if(p&&(p.from||0)==f){if(gt(t,(null==p.to?h+1:p.to)-f,p.marker,null==p.from),null==p.to)return;p.to==f&&(p=!1)}}if(f>=h)break;for(var C=Math.min(h,g);;){if(_){var E=f+_.length;if(!p){var S=E>C?_.slice(0,C-f):_;t.addToken(t,S,s?s+l:l,u,f+S.length==g?c:"",d,a)}if(E>=C){_=_.slice(C-f),f=C;break}f=E,u=""}_=i.slice(o,o=n[m++]),s=dt(n[m++],t.cm.options)}}else for(var j=1;j<n.length;j+=2)t.addToken(t,i.slice(o,o=n[j]),dt(n[j+1],t.cm.options))}function yt(e,t,n){this.line=t,this.rest=fe(t),this.size=this.rest?O(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ge(e,t)}function bt(e,t,n){for(var r,i=[],o=t;o<n;o=r){var s=new yt(e.doc,S(e.doc,o),o);r=o+s.size,i.push(s)}return i}function wt(e){Zs?Zs.ops.push(e):e.ownsGroup=Zs={ops:[e],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function kt(e,t){var n=e.ownsGroup;if(n)try{xt(n)}finally{Zs=null,t(n)}}function At(e,t){var n=Me(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Zs?r=Zs.delayedCallbacks:$s?r=$s:(r=$s=[],setTimeout(Ct,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},s=0;s<n.length;++s)o(s)}}function Ct(){var e=$s;$s=null;for(var t=0;t<e.length;++t)e[t]()}function Et(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Tt(e,t):"gutter"==o?Nt(e,t,n,r):"class"==o?Ot(e,t):"widget"==o&&It(e,t,r)}t.changes=null}function St(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),es&&ts<8&&(e.node.style.zIndex=2)),e.node}function jt(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=St(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function Mt(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):pt(e,t)}function Tt(e,t){var n=t.text.className,r=Mt(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Ot(e,t)):n&&(t.text.className=n)}function Ot(e,t){jt(e,t),t.line.wrapClass?St(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Nt(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=St(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var a=St(t),l=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(r("div",D(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var c=0;c<e.options.gutters.length;++c){var u=e.options.gutters[c],d=s.hasOwnProperty(u)&&s[u];d&&l.appendChild(r("div",[d],"CodeMirror-gutter-elt","left: "+i.gutterLeft[u]+"px; width: "+i.gutterWidth[u]+"px"))}}}function It(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Lt(e,t,n)}function Dt(e,t,n,r){var i=Mt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Ot(e,t),Nt(e,t,n,r),Lt(e,t,r),t.node}function Lt(e,t,n){if(zt(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)zt(e,t.rest[r],t,n,!1)}function zt(e,t,n,i,o){if(t.widgets)for(var s=St(n),a=0,l=t.widgets;a<l.length;++a){var c=l[a],u=r("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Rt(c,u,n,i),e.display.input.setUneditable(u),o&&c.above?s.insertBefore(u,n.gutter||n.text):s.appendChild(u),At(c,"redraw")}}function Rt(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Pt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Bt(e,t){for(var n=qe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function qt(e){return e.lineSpace.offsetTop}function Ft(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ut(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Wt(e){return As-e.display.nativeBarWidth}function Ht(e){return e.display.scroller.clientWidth-Wt(e)-e.display.barWidth}function Kt(e){return e.display.scroller.clientHeight-Wt(e)-e.display.barHeight;
}function Gt(e,t,n){var r=e.options.lineWrapping,i=r&&Ht(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Yt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(O(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Jt(e,t){t=pe(t);var r=O(t),i=e.display.externalMeasured=new yt(e.doc,t,r);i.lineN=r;var o=i.built=pt(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function Vt(e,t,n,r){return $t(e,Zt(e,t),n,r)}function Qt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[En(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Zt(e,t){var n=O(t),r=Qt(e,n);r&&!r.text?r=null:r&&r.changes&&(Et(e,r,n,wn(e)),e.curOp.forceUpdate=!0),r||(r=Jt(e,t));var i=Yt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function $t(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Gt(e,t.view,t.rect),t.hasHeights=!0),o=tn(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Xt(e,t,n){for(var r,i,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(i=0,o=1,s="left"):t<l?(i=t-a,o=i+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-a,i=o-1,t>=l&&(s="right")),null!=i){if(r=e[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[(c-=3)+2],s="left";if("right"==n&&i==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function en(e,t){var n=Xs;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function tn(e,t,n,r){var i,o=Xt(t.map,n,r),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&k(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&k(t.line.text.charAt(o.coverStart+l));)++l;if(i=es&&ts<9&&0==a&&l==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():en(_s(s,a,l).getClientRects(),r),i.left||i.right||0==a)break;l=a,a-=1,c="right"}es&&ts<11&&(i=nn(e.display.measure,i))}else{a>0&&(c=r="right");var d;i=e.options.lineWrapping&&(d=s.getClientRects()).length>1?d["right"==r?d.length-1:0]:s.getBoundingClientRect()}if(es&&ts<9&&!a&&(!i||!i.left&&!i.right)){var p=s.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+bn(e.display),top:p.top,bottom:p.bottom}:Xs}for(var h=i.top-t.rect.top,f=i.bottom-t.rect.top,m=(h+f)/2,_=t.view.measure.heights,g=0;g<_.length-1&&!(m<_[g]);g++);var v=g?_[g-1]:0,y=_[g],b={left:("right"==c?i.right:i.left)-t.rect.left,right:("left"==c?i.left:i.right)-t.rect.left,top:v,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=h,b.rbottom=f),b}function nn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!He(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function rn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function on(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)rn(e.display.view[n])}function sn(e){on(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function an(){return is&&us?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ln(){return is&&us?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function cn(e,t,n,r,i){if(!i&&t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var s=Pt(t.widgets[o]);n.top+=s,n.bottom+=s}if("line"==r)return n;r||(r="local");var a=ye(t);if("local"==r?a+=qt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:ln());var c=l.left+("window"==r?0:an());n.left+=c,n.right+=c}return n.top+=a,n.bottom+=a,n}function un(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=an(),i-=ln();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function dn(e,t,n,r,i){return r||(r=S(e.doc,t.line)),cn(e,r,Vt(e,r,t.ch,i),n)}function pn(e,t,n,r,i,o){function s(t,s){var a=$t(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,cn(e,r,a,n)}function a(e,t,n){var r=l[t],i=r.level%2!=0;return s(n?e-1:e,i!=n)}r=r||S(e.doc,t.line),i||(i=Zt(e,r));var l=Ae(r,e.doc.direction),c=t.ch,u=t.sticky;if(c>=r.text.length?(c=r.text.length,u="before"):c<=0&&(c=0,u="after"),!l)return s("before"==u?c-1:c,"before"==u);var d=ke(l,c,u),p=Ds,h=a(c,d,"before"==u);return null!=p&&(h.other=a(c,p,"before"!=u)),h}function hn(e,t){var n=0;t=U(e.doc,t),e.options.lineWrapping||(n=bn(e.display)*t.ch);var r=S(e.doc,t.line),i=ye(r)+qt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function fn(e,t,n,r,i){var o=L(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function mn(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return fn(r.first,0,null,!0,-1);var i=N(r,n),o=r.first+r.size-1;if(i>o)return fn(r.first+r.size-1,S(r,o).text.length,null,!0,1);t<0&&(t=0);for(var s=S(r,i);;){var a=vn(e,s,i,t,n),l=ue(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;i=O(s=c.to.line)}}function _n(e,t,n,r){var i=function(r){return cn(e,t,$t(e,n,r),"line")},o=t.text.length,s=C(function(e){return i(e-1).bottom<=r},o,0);return o=C(function(e){return i(e).top>r},s,o),{begin:s,end:o}}function gn(e,t,n,r){var i=cn(e,t,$t(e,n,r),"line").top;return _n(e,t,n,i)}function vn(e,t,n,r,i){i-=ye(t);var o,s=0,a=t.text.length,l=Zt(e,t),c=Ae(t,e.doc.direction);if(c){if(e.options.lineWrapping){var u;u=_n(e,t,l,i),s=u.begin,a=u.end,u}o=new L(n,s);var d,p,h=pn(e,o,"line",t,l).left,f=h<r?1:-1,m=h-r;do{if(d=m,p=o,o=je(e,t,o,f),null==o||o.ch<s||a<=("before"==o.sticky?o.ch-1:o.ch)){o=p;break}m=pn(e,o,"line",t,l).left-r}while(f<0!=m<0&&Math.abs(m)<=Math.abs(d));if(Math.abs(m)>Math.abs(d)){if(m<0==d<0)throw Error("Broke out of infinite loop in coordsCharInner");o=p}}else{var _=C(function(n){var o=cn(e,t,$t(e,l,n),"line");return o.top>i?(a=Math.min(n,a),!0):!(o.bottom<=i)&&(o.left>r||!(o.right<r)&&r-o.left<o.right-r)},s,a);_=A(t.text,_,1),o=new L(n,_,_==a?"before":"after")}var g=pn(e,o,"line",t,l);return(i<g.top||g.bottom<i)&&(o.outside=!0),o.xRel=r<g.left?-1:r>g.right?1:0,o}function yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Js){Js=r("pre");for(var i=0;i<49;++i)Js.appendChild(document.createTextNode("x")),Js.appendChild(r("br"));Js.appendChild(document.createTextNode("x"))}n(e.measure,Js);var o=Js.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function bn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t]);n(e.measure,i);var o=t.getBoundingClientRect(),s=(o.right-o.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function wn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[s]]=o.clientWidth;return{fixedPos:xn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function xn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function kn(e){var t=yn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/bn(e.display)-3);return function(i){if(ge(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function An(e){var t=e.doc,n=kn(e);t.iter(function(e){var t=n(e);t!=e.height&&T(e,t)})}function Cn(e,t,n,r){var i=e.display;if(!n&&"true"==qe(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(e){return null}var l,c=mn(e,o,s);if(r&&1==c.xRel&&(l=S(e.doc,c.line).text).length==c.ch){var u=d(l,l.length,e.options.tabSize)-l.length;c=L(c.line,Math.max(0,Math.round((o-Ut(e.display).left)/bn(e.display))-u))}return c}function En(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Sn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function jn(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Mn(e,a.head,i),l||Tn(e,a,o)}}return r}function Mn(e,t,n){var i=pn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var s=n.appendChild(r("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=i.other.left+"px",s.style.top=i.other.top+"px",s.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Tn(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?d-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return dn(e,L(t,n),"div",c,r)}var s,l,c=S(a,t),p=c.text.length;return xe(Ae(c,a.direction),n||0,null==r?p:r,function(e,t,a){var c,h,f,m=o(e,"left");if(e==t)c=m,h=f=m.left;else{if(c=o(t-1,"right"),"rtl"==a){var _=m;m=c,c=_}h=m.left,f=c.right}null==n&&0==e&&(h=u),c.top-m.top>3&&(i(h,m.top,null,m.bottom),h=u,m.bottom<c.top&&i(h,m.bottom,null,c.top)),null==r&&t==p&&(f=d),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),h<u+1&&(h=u),i(h,c.top,f-h,c.bottom)}),{start:s,end:l}}var s=e.display,a=e.doc,l=document.createDocumentFragment(),c=Ut(e.display),u=c.left,d=Math.max(s.sizerWidth,Ht(e)-s.sizer.offsetLeft)-c.right,p=t.from(),h=t.to();if(p.line==h.line)o(p.line,p.ch,h.ch);else{var f=S(a,p.line),m=S(a,h.line),_=pe(f)==pe(m),g=o(p.line,p.ch,_?f.text.length+1:null).end,v=o(h.line,_?0:null,h.ch).start;_&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(u,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(u,g.bottom,null,v.top)}n.appendChild(l)}function On(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Nn(e){e.state.focused||(e.display.input.focus(),Dn(e))}function In(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Ln(e))},100)}function Dn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Oe(e,"focus",e,t),e.state.focused=!0,a(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ns&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),On(e))}function Ln(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Oe(e,"blur",e,t),e.state.focused=!1,ys(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function zn(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=xn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Rn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=D(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=o.firstChild.offsetWidth,a=o.offsetWidth-s;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(s,i.lineGutter.offsetWidth-a)+1,i.lineNumWidth=i.lineNumInnerWidth+a,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",jr(e),!0}return!1}function Pn(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(es&&ts<8){var s=i.node.offsetTop+i.node.offsetHeight;o=s-n,n=s}else{var a=i.node.getBoundingClientRect();o=a.bottom-a.top}var l=i.line.height-o;if(o<2&&(o=yn(t)),(l>.001||l<-.001)&&(T(i.line,o),Bn(i.line),i.rest))for(var c=0;c<i.rest.length;c++)Bn(i.rest[c])}}}function Bn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function qn(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-qt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=N(t,r),s=N(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=N(t,ye(S(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=N(t,ye(S(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Fn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Qo||Er(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),Qo&&Er(e),wr(e,100))}function Un(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,zn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Wn(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Hn(e){var t=Wn(e);return t.x*=ta,t.y*=ta,t}function Kn(e,t){var n=Wn(t),r=n.x,i=n.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(r&&a||i&&l){if(i&&ps&&ns)e:for(var c=t.target,u=o.view;c!=s;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(r&&!Qo&&!os&&null!=ta)return i&&l&&Fn(e,Math.max(0,Math.min(s.scrollTop+i*ta,s.scrollHeight-s.clientHeight))),Un(e,Math.max(0,Math.min(s.scrollLeft+r*ta,s.scrollWidth-s.clientWidth))),(!i||i&&l)&&ze(t),void(o.wheelStartX=null);if(i&&null!=ta){var p=i*ta,h=e.doc.scrollTop,f=h+o.wrapper.clientHeight;p<0?h=Math.max(0,h+p-50):f=Math.min(e.doc.height,f+p+50),Er(e,{top:h,bottom:f})}ea<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(ta=(ta*ea+n)/(ea+1),++ea)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Gn(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ft(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Wt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function Yn(e,t){t||(t=Gn(e));var n=e.display.barWidth,r=e.display.barHeight;Jn(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Pn(e),Jn(e,Gn(e)),n=e.display.barWidth,r=e.display.barHeight}function Jn(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function Vn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&ys(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ia[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Rs(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Un(e,t):Fn(e,t)},e),e.display.scrollbars.addClass&&a(e.display.wrapper,e.display.scrollbars.addClass)}function Qn(e,t){if(!Ne(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!ls){var s=r("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-qt(e.display))+"px;\n                         height: "+(t.bottom-t.top+Wt(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(o),e.display.lineSpace.removeChild(s)}}}function Zn(e,t,n,r){null==r&&(r=0);for(var i,o=0;o<5;o++){var s=!1,a=pn(e,t),l=n&&n!=t?pn(e,n):a;i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r};var c=Xn(e,i),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Fn(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(Un(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(s=!0)),!s)break}return i}function $n(e,t){var n=Xn(e,t);null!=n.scrollTop&&Fn(e,n.scrollTop),null!=n.scrollLeft&&Un(e,n.scrollLeft)}function Xn(e,t){var n=e.display,r=yn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Kt(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Ft(n),l=t.top<r,c=t.bottom>a-r;if(t.top<i)s.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=i&&(s.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,p=Ht(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?s.scrollLeft=0:t.left<d?s.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>p+d-3&&(s.scrollLeft=t.right+(h?0:10)-p),s}function er(e,t,n){null==t&&null==n||nr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function tr(e){nr(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?L(t.line,t.ch-1):t,r=L(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin}}function nr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=hn(e,t.from),r=hn(e,t.to),i=Xn(e,{left:Math.min(n.left,r.left),top:Math.min(n.top,r.top)-t.margin,right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)+t.margin});e.scrollTo(i.scrollLeft,i.scrollTop)}}function rr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++oa},wt(e.curOp)}function ir(e){var t=e.curOp;kt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;or(e)})}function or(e){for(var t=e.ops,n=0;n<t.length;n++)sr(t[n]);for(var r=0;r<t.length;r++)ar(t[r]);for(var i=0;i<t.length;i++)lr(t[i]);for(var o=0;o<t.length;o++)cr(t[o]);for(var s=0;s<t.length;s++)ur(t[s])}function sr(e){var t=e.cm,n=t.display;kr(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new sa(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ar(e){e.updatedDisplay=e.mustUpdate&&Ar(e.cm,e.update)}function lr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Pn(t),e.barMeasure=Gn(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Vt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Wt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ht(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function cr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Un(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==s()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Yn(t,e.barMeasure),e.updatedDisplay&&Mr(t,e.barMeasure),e.selectionChanged&&On(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Nn(e.cm)}function ur(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Cr(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,zn(t)),e.scrollToPos){var i=Zn(t,U(r,e.scrollToPos.from),U(r,e.scrollToPos.to),e.scrollToPos.margin);Qn(t,i)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Oe(o[a],"hide");if(s)for(var l=0;l<s.length;++l)s[l].lines.length&&Oe(s[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Oe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function dr(e,t){if(e.curOp)return t();rr(e);try{return t()}finally{ir(e)}}function pr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);rr(e);try{return t.apply(e,arguments)}finally{ir(e)}}}function hr(e){return function(){if(this.curOp)return e.apply(this,arguments);rr(this);try{return e.apply(this,arguments)}finally{ir(this)}}}function fr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);rr(t);try{return e.apply(this,arguments)}finally{ir(t)}}}function mr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Is&&me(e.doc,t)<i.viewTo&&gr(e);else if(n<=i.viewFrom)Is&&_e(e.doc,n+r)>i.viewFrom?gr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)gr(e);else if(t<=i.viewFrom){var o=vr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):gr(e)}else if(n>=i.viewTo){var s=vr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):gr(e)}else{var a=vr(e,t,t,-1),l=vr(e,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(bt(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):gr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function _r(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[En(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);p(s,n)==-1&&s.push(n)}}}function gr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function vr(e,t,n,r){var i,o=En(e,t),s=e.display.view;if(!Is||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-t,o++}else i=a-t;t+=i,n+=i}for(;me(e.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function yr(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=bt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=bt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(En(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(bt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,En(e,n)))),r.viewTo=n}function br(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function wr(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,c(xr,e))}function xr(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Qe(t.mode,tt(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength,l=Xe(e,o,a?Qe(t.mode,r):r,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!d&&p<s.length;++p)d=s[p]!=o.styles[p];d&&i.push(t.frontier),o.stateAfter=a?r:Qe(t.mode,r)}else o.text.length<=e.options.maxHighlightLength&&nt(e,o.text,r),o.stateAfter=t.frontier%5==0?Qe(t.mode,r):null;if(++t.frontier,+new Date>n)return wr(e,e.options.workDelay),!0}),i.length&&dr(e,function(){for(var t=0;t<i.length;t++)_r(e,i[t],"text")})}}function kr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Wt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Wt(e)+"px",t.scrollbarsClipped=!0)}function Ar(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return gr(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==br(e))return!1;Rn(e)&&(gr(e),n.dims=wn(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),l=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(o,r.viewTo)),Is&&(a=me(e.doc,a),l=_e(e.doc,l));var c=a!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;yr(e,a,l),r.viewOffset=ye(S(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=br(e);if(!c&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var d=s();return u>4&&(r.lineDiv.style.display="none"),Sr(e,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,d&&s()!=d&&d.offsetHeight&&d.focus(),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,c&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,wr(e,400)),r.updateLineNumbers=null,!0}function Cr(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Ht(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ft(e.display)-Kt(e),n.top)}),t.visible=qn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Ar(e,t);r=!1){Pn(e);var i=Gn(e);Sn(e),Yn(e,i),Mr(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Er(e,t){var n=new sa(e,t);if(Ar(e,n)){Pn(e),Cr(e,n);var r=Gn(e);Sn(e),Yn(e,r),Mr(e,r),n.finish()}}function Sr(e,n,r){function i(t){var n=t.nextSibling;return ns&&ps&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,s=e.options.lineNumbers,a=o.lineDiv,l=a.firstChild,c=o.view,u=o.viewFrom,d=0;d<c.length;d++){var h=c[d];if(h.hidden);else if(h.node&&h.node.parentNode==a){for(;l!=h.node;)l=i(l);var f=s&&null!=n&&n<=u&&h.lineNumber;h.changes&&(p(h.changes,"gutter")>-1&&(f=!1),Et(e,h,u,r)),f&&(t(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(D(e.options,u)))),l=h.node.nextSibling}else{var m=Dt(e,h,u,r);a.insertBefore(m,l)}u+=h.size}for(;l;)l=i(l)}function jr(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Mr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Wt(e)+"px"}function Tr(e){var n=e.display.gutters,i=e.options.gutters;t(n);for(var o=0;o<i.length;++o){var s=i[o],a=n.appendChild(r("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",jr(e)}function Or(e){var t=p(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Nr(e,t){var n=e[t];e.sort(function(e,t){return z(e.from(),t.from())}),t=p(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(z(o.to(),i.from())>=0){var s=q(o.from(),i.from()),a=B(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new la(l?a:s,l?s:a))}}return new aa(e,t)}function Ir(e,t){return new aa([new la(e,t||e)],0)}function Dr(e){return e.text?L(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Lr(e,t){if(z(e,t.from)<0)return e;if(z(e,t.to)<=0)return Dr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;
return e.line==t.to.line&&(r+=Dr(t).ch-t.to.ch),L(n,r)}function zr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new la(Lr(i.anchor,t),Lr(i.head,t)))}return Nr(n,e.sel.primIndex)}function Rr(e,t,n){return e.line==t.line?L(n.line,e.ch-t.ch+n.ch):L(n.line+(e.line-t.line),e.ch)}function Pr(e,t,n){for(var r=[],i=L(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=Rr(a.from,i,o),c=Rr(Dr(a),i,o);if(i=a.to,o=c,"around"==n){var u=e.sel.ranges[s],d=z(u.head,u.anchor)<0;r[s]=new la(d?c:l,d?l:c)}else r[s]=new la(l,l)}return new aa(r,e.sel.primIndex)}function Br(e){e.doc.mode=Je(e.options,e.doc.modeOption),qr(e)}function qr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,wr(e,100),e.state.modeGen++,e.curOp&&mr(e)}function Fr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ur(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){ct(e,n,i,r),At(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new Ys(c[o],i(o),r));return n}var a=t.from,l=t.to,c=t.text,u=S(e,a.line),d=S(e,l.line),p=m(c),h=i(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Fr(e,t)){var _=s(0,c.length-1);o(d,d.text,h),f&&e.remove(a.line,f),_.length&&e.insert(a.line,_)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,a.ch)+p+u.text.slice(l.ch),h);else{var g=s(1,c.length-1);g.push(new Ys(p+u.text.slice(l.ch),h,r)),o(u,u.text.slice(0,a.ch)+c[0],i(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),i(0)),e.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],i(0)),o(d,p+d.text.slice(l.ch),h);var v=s(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,v)}At(e,"change",e,t)}function Wr(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function Hr(e,t){if(t.cm)throw Error("This document is already in use.");e.doc=t,t.cm=e,An(e),Br(e),Kr(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,mr(e)}function Kr(e){("rtl"==e.doc.direction?a:ys)(e.display.lineDiv,"CodeMirror-rtl")}function Gr(e){dr(e,function(){Kr(e),mr(e)})}function Yr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Jr(e,t){var n={from:P(t.from),to:Dr(t),text:j(e,t.from,t.to)};return ti(e,n,t.from.line,t.to.line+1),Wr(e,function(e){return ti(e,n,t.from.line,t.to.line+1)},!0),n}function Vr(e){for(;e.length;){var t=m(e);if(!t.ranges)break;e.pop()}}function Qr(e,t){return t?(Vr(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function Zr(e,t,n,r){var i=e.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=Qr(i,i.lastOp==r)))s=m(o.changes),0==z(t.from,t.to)&&0==z(t.from,s.to)?s.to=Dr(t):o.changes.push(Jr(e,t));else{var l=m(i.done);for(l&&l.ranges||ei(e.sel,i.done),o={changes:[Jr(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||Oe(e,"historyAdded")}function $r(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Xr(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||$r(e,o,m(i.done),t))?i.done[i.done.length-1]=t:ei(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&Vr(i.undone)}function ei(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ti(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function ni(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ri(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(ni(n[i]));return r}function ii(e,t){var n=ri(e,t),r=ee(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function oi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?aa.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&p(t,+u[1])>-1&&(m(a)[d]=c[d],delete c[d])}}}return r}function si(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=z(n,i)<0;o!=z(r,i)<0?(i=n,n=r):o!=z(n,r)<0&&(n=r)}return new la(i,n)}return new la(r||n,n)}function ai(e,t,n,r){hi(e,new aa([si(e,e.sel.primary(),t,n)],0),r)}function li(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=si(e,e.sel.ranges[i],t[i],null);var o=Nr(r,e.sel.primIndex);hi(e,o,n)}function ci(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,hi(e,Nr(i,e.sel.primIndex),r)}function ui(e,t,n,r){hi(e,Ir(t,n),r)}function di(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new la(U(e,t[r].anchor),U(e,t[r].head))},origin:n&&n.origin};return Oe(e,"beforeSelectionChange",e,r),e.cm&&Oe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Nr(r.ranges,r.ranges.length-1):t}function pi(e,t,n){var r=e.history.done,i=m(r);i&&i.ranges?(r[r.length-1]=t,fi(e,t,n)):hi(e,t,n)}function hi(e,t,n){fi(e,t,n),Xr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function fi(e,t,n){(De(e,"beforeSelectionChange")||e.cm&&De(e.cm,"beforeSelectionChange"))&&(t=di(e,t,n));var r=n&&n.bias||(z(t.primary().head,e.sel.primary().head)<0?-1:1);mi(e,gi(e,t,r,!0)),n&&n.scroll===!1||!e.cm||tr(e.cm)}function mi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ie(e.cm)),At(e,"cursorActivity",e))}function _i(e){mi(e,gi(e,e.sel,null,!1),Es)}function gi(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=yi(e,s.anchor,a&&a.anchor,n,r),c=yi(e,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new la(l,c))}return i?Nr(i,t.primIndex):t}function vi(e,t,n,r,i){var o=S(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(i&&(Oe(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var c=l.find(r<0?1:-1),u=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(c=bi(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=z(c,n))&&(r<0?u<0:u>0))return vi(e,c,t,r,i)}var d=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(d=bi(e,d,r,d.line==t.line?o:null)),d?vi(e,d,t,r,i):null}}return t}function yi(e,t,n,r,i){var o=r||1,s=vi(e,t,n,o,i)||!i&&vi(e,t,n,o,!0)||vi(e,t,n,-o,i)||!i&&vi(e,t,n,-o,!0);return s?s:(e.cantEdit=!0,L(e.first,0))}function bi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?U(e,L(t.line-1)):null:n>0&&t.ch==(r||S(e,t.line)).text.length?t.line<e.first+e.size-1?L(t.line+1,0):null:new L(t.line,t.ch+n)}function wi(e){e.setSelection(L(e.firstLine(),0),L(e.lastLine()),Es)}function xi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=U(e,t)),n&&(r.to=U(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),Oe(e,"beforeChange",e,r),e.cm&&Oe(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ki(e,t,n){if(e.cm){if(!e.cm.curOp)return pr(e.cm,ki)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(De(e,"beforeChange")||e.cm&&De(e.cm,"beforeChange"))||(t=xi(e,t,!0))){var r=Ns&&!n&&ne(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Ai(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Ai(e,t)}}function Ai(e,t){if(1!=t.text.length||""!=t.text[0]||0!=z(t.from,t.to)){var n=zr(e,t);Zr(e,t,n,e.cm?e.cm.curOp.id:NaN),Si(e,t,n,ee(e,t));var r=[];Wr(e,function(e,n){n||p(r,e.history)!=-1||(Ni(e.history,t),r.push(e.history)),Si(e,t,null,ee(e,t))})}}function Ci(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,s="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,l=0;l<s.length&&(r=s[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;r=s.pop(),r.ranges;){if(ei(r,a),n&&!r.equals(e.sel))return void hi(e,r,{clearRedo:!1});o=r}var c=[];ei(o,a),a.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=De(e,"beforeChange")||e.cm&&De(e.cm,"beforeChange"),d=function(n){var i=r.changes[n];if(i.origin=t,u&&!xi(e,i,!1))return s.length=0,{};c.push(Jr(e,i));var o=n?zr(e,i):m(s);Si(e,i,o,ii(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Dr(i)});var a=[];Wr(e,function(e,t){t||p(a,e.history)!=-1||(Ni(e.history,i),a.push(e.history)),Si(e,i,null,ii(e,i))})},h=r.changes.length-1;h>=0;--h){var f=d(h);if(f)return f.v}}}}function Ei(e,t){if(0!=t&&(e.first+=t,e.sel=new aa(_(e.sel.ranges,function(e){return new la(L(e.anchor.line+t,e.anchor.ch),L(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){mr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)_r(e.cm,r,"gutter")}}function Si(e,t,n,r){if(e.cm&&!e.cm.curOp)return pr(e.cm,Si)(e,t,n,r);if(t.to.line<e.first)return void Ei(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ei(e,i),t={from:L(e.first,0),to:L(t.to.line+i,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:L(o,S(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=j(e,t.from,t.to),n||(n=zr(e,t)),e.cm?ji(e.cm,t,r):Ur(e,t,r),fi(e,n,Es)}}function ji(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=O(pe(S(r,o.line))),r.iter(l,s.line+1,function(e){if(e==i.maxLine)return a=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Ie(e),Ur(r,t,n,kn(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=be(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),wr(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?mr(e):o.line!=s.line||1!=t.text.length||Fr(e.doc,t)?mr(e,o.line,s.line+1,c):_r(e,o.line,"text");var u=De(e,"changes"),d=De(e,"change");if(d||u){var p={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&At(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Mi(e,t,n,r,i){if(r||(r=n),z(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),ki(e,{from:n,to:r,text:t,origin:i})}function Ti(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Oi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Ti(o.ranges[a].anchor,t,n,r),Ti(o.ranges[a].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=L(c.from.line+r,c.from.ch),c.to=L(c.to.line+r,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function Ni(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Oi(e.done,n,r,i),Oi(e.undone,n,r,i)}function Ii(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=S(e,F(e,t)):i=O(t),null==i?null:(r(o,i)&&e.cm&&_r(e.cm,i,n),o)}function Di(e,t,n){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&er(e,null,n)}function Li(e,t,n,r){var i=new da(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ii(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ge(e,t)){var r=ye(t)<e.scrollTop;T(t,t.height+Pt(i)),r&&er(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),At(o,"lineWidgetAdded",o,i,"number"==typeof t?t:O(t)),i}function zi(e,t,n,r,o){if(r&&r.shared)return Ri(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return pr(e.cm,zi)(e,t,n,r,o);var s=new ha(e,o),a=z(t,n);if(r&&u(r,s,!1),a>0||0==a&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=i("span",[s.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(de(e,t.line,t,n,s)||t.line!=n.line&&de(e,n.line,t,n,s))throw Error("Inserting collapsed marker partially overlapping an existing one");G()}s.addToHistory&&Zr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,c=t.line,d=e.cm;if(e.iter(c,n.line+1,function(e){d&&s.collapsed&&!d.options.lineWrapping&&pe(e)==d.display.maxLine&&(l=!0),s.collapsed&&c!=t.line&&T(e,0),Q(e,new Y(s,c==t.line?t.ch:null,c==n.line?n.ch:null)),++c}),s.collapsed&&e.iter(t.line,n.line+1,function(t){ge(e,t)&&T(t,0)}),s.clearOnEnter&&Rs(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(K(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++pa,s.atomic=!0),d){if(l&&(d.curOp.updateMaxLine=!0),s.collapsed)mr(d,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var p=t.line;p<=n.line;p++)_r(d,p,"text");s.atomic&&_i(d.doc),At(d,"markerAdded",d,s)}return s}function Ri(e,t,n,r,i){r=u(r),r.shared=!1;var o=[zi(e,t,n,r,i)],s=o[0],a=r.widgetNode;return Wr(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(zi(e,U(e,t),U(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=m(o)}),new fa(o,s)}function Pi(e){return e.findMarks(L(e.first,0),e.clipPos(L(e.lastLine())),function(e){return e.parent})}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(z(o,s)){var a=zi(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function qi(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Wr(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];p(r,o.doc)==-1&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}function Fi(e){var t=this;if(Hi(t),!Ne(t,e)&&!Bt(t.display,e)){ze(e),es&&(ga=+new Date);var n=Cn(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,a=function(e,r){if(!t.options.allowDropFileTypes||p(t.options.allowDropFileTypes,e.type)!=-1){var a=new FileReader;a.onload=pr(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){n=U(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};ki(t.doc,l),pi(t.doc,Ir(n,Dr(l)))}}),a.readAsText(e)}},l=0;l<i;++l)a(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),fi(t.doc,Ir(n,n)),u)for(var d=0;d<u.length;++d)Mi(t.doc,"",u[d].anchor,u[d].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ui(e,t){if(es&&(!e.state.draggingText||+new Date-ga<100))return void Be(t);if(!Ne(e,t)&&!Bt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!ss)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",os&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),os&&n.parentNode.removeChild(n)}}function Wi(e,t){var i=Cn(e,t);if(i){var o=document.createDocumentFragment();Mn(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Hi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ki(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Gi(){va||(Yi(),va=!0)}function Yi(){var e;Rs(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ki(Ji)},100))}),Rs(window,"blur",function(){return Ki(Ln)})}function Ji(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Vi(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,s=0;s<t.length-1;s++){var a=t[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw Error("Unrecognized modifier name: "+a);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Qi(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=_(n.split(" "),Vi),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e}function Zi(e,t,n,r){t=eo(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Zi(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=Zi(e,t.fallthrough[o],n,r);if(s)return s}}}function $i(e){var t="string"==typeof e?e:ya[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Xi(e,t){if(os&&34==e.keyCode&&e.char)return!1;var n=ya[e.keyCode],r=n;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(gs?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(gs?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)}function eo(e){return"string"==typeof e?ka[e]:e}function to(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&z(o.from,m(r).to)<=0;){var s=r.pop();if(z(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}dr(e,function(){for(var t=r.length-1;t>=0;t--)Mi(e.doc,"",r[t].from,r[t].to,"+delete");tr(e)})}function no(e,t){var n=S(e.doc,t),r=pe(n);return r!=n&&(t=O(r)),Se(!0,e,r,t,1)}function ro(e,t){var n=S(e.doc,t),r=he(n);return r!=n&&(t=O(r)),Se(!0,e,n,t,-1)}function io(e,t){var n=no(e,t.line),r=S(e.doc,n.line),i=Ae(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return L(n.line,s?0:o,n.sticky)}return n}function oo(e,t,n){if("string"==typeof t&&(t=Ea[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Cs}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function so(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Zi(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Zi(t,e.options.extraKeys,n,e)||Zi(t,e.options.keyMap,n,e)}function ao(e,t,n,r){var i=e.state.keySeq;if(i){if($i(t))return"handled";Sa.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=so(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&At(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(ze(n),On(e)),i&&!o&&/\'$/.test(t)?(ze(n),!0):!!o}function lo(e,t){var n=Xi(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ao(e,"Shift-"+n,t,function(t){return oo(e,t,!0)})||ao(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return oo(e,t)}):ao(e,n,t,function(t){return oo(e,t)}))}function co(e,t,n){return ao(e,"'"+n+"'",t,function(t){return oo(e,t,!0)})}function uo(e){var t=this;if(t.curOp.focus=s(),!Ne(t,e)){es&&ts<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=lo(t,e);os&&(ja=r?n:null,!r&&88==n&&!Fs&&(ps?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||po(t)}}function po(e){function t(e){18!=e.keyCode&&e.altKey||(ys(n,"CodeMirror-crosshair"),Te(document,"keyup",t),Te(document,"mouseover",t))}var n=e.display.lineDiv;a(n,"CodeMirror-crosshair"),Rs(document,"keyup",t),Rs(document,"mouseover",t)}function ho(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ne(this,e)}function fo(e){var t=this;if(!(Bt(t.display,e)||Ne(t,e)||e.ctrlKey&&!e.altKey||ps&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(os&&n==ja)return ja=null,void ze(e);if(!os||e.which&&!(e.which<10)||!lo(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(co(t,e,i)||t.display.input.onKeyPress(e))}}}function mo(e){var t=this,n=t.display;if(!(Ne(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Bt(n,e))return void(ns||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!bo(t,e)){var r=Cn(t,e);switch(window.focus(),Fe(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?_o(t,e,r):qe(e)==n.scroller&&ze(e);break;case 2:ns&&(t.state.lastMiddleDown=+new Date),r&&ai(t.doc,r),setTimeout(function(){return n.input.focus()},20),ze(e);break;case 3:vs?wo(t,e):In(t)}}}}function _o(e,t,n){es?setTimeout(c(Nn,e),0):e.curOp.focus=s();var r,i=+new Date;Ca&&Ca.time>i-400&&0==z(Ca.pos,n)?r="triple":Aa&&Aa.time>i-400&&0==z(Aa.pos,n)?(r="double",Ca={time:i,pos:n}):(r="single",Aa={time:i,pos:n});var o,a=e.doc.sel,l=ps?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ps&&!e.isReadOnly()&&"single"==r&&(o=a.contains(n))>-1&&(z((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(z(o.to(),n)>0||n.xRel<0)?go(e,t,n,l):vo(e,t,n,r,l)}function go(e,t,n,r){var i=e.display,o=!1,s=pr(e,function(t){ns&&(i.scroller.draggable=!1),e.state.draggingText=!1,Te(document,"mouseup",s),Te(document,"mousemove",a),Te(i.scroller,"dragstart",l),Te(i.scroller,"drop",s),o||(ze(t),r||ai(e.doc,n),ns||es&&9==ts?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),a=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return o=!0};ns&&(i.scroller.draggable=!0),e.state.draggingText=s,s.copy=ps?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),Rs(document,"mouseup",s),Rs(document,"mousemove",a),Rs(i.scroller,"dragstart",l),Rs(i.scroller,"drop",s),In(e),setTimeout(function(){return i.input.focus()},20)}function vo(e,t,n,r,i){function o(t){if(0!=z(y,t))if(y=t,"rect"==r){for(var i=[],o=e.options.tabSize,s=d(S(u,n.line).text,n.ch,o),a=d(S(u,t.line).text,t.ch,o),l=Math.min(s,a),c=Math.max(s,a),_=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));_<=g;_++){var v=S(u,_).text,b=h(v,l,o);l==c?i.push(new la(L(_,b),L(_,b))):v.length>b&&i.push(new la(L(_,b),L(_,h(v,c,o))))}i.length||i.push(new la(n,n)),hi(u,Nr(m.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w=p,x=w.anchor,k=t;if("single"!=r){var A;A="double"==r?e.findWordAt(t):new la(L(t.line,0),U(u,L(t.line+1,0))),z(A.anchor,x)>0?(k=A.head,x=q(w.from(),A.anchor)):(k=A.anchor,x=B(w.to(),A.head))}var C=m.ranges.slice(0);C[f]=new la(U(u,x),k),hi(u,Nr(C,f),Ss)}}function a(t){var n=++w,i=Cn(e,t,!0,"rect"==r);if(i)if(0!=z(i,y)){e.curOp.focus=s(),o(i);var l=qn(c,u);(i.line>=l.to||i.line<l.from)&&setTimeout(pr(e,function(){w==n&&a(t)}),150)}else{var d=t.clientY<b.top?-20:t.clientY>b.bottom?20:0;d&&setTimeout(pr(e,function(){w==n&&(c.scroller.scrollTop+=d,a(t))}),50)}}function l(t){e.state.selectingText=!1,w=1/0,ze(t),c.input.focus(),Te(document,"mousemove",x),Te(document,"mouseup",k),u.history.lastSelOrigin=null}var c=e.display,u=e.doc;ze(t);var p,f,m=u.sel,_=m.ranges;if(i&&!t.shiftKey?(f=u.sel.contains(n),p=f>-1?_[f]:new la(n,n)):(p=u.sel.primary(),f=u.sel.primIndex),hs?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(p=new la(n,n)),n=Cn(e,t,!0,!0),f=-1;else if("double"==r){var g=e.findWordAt(n);p=e.display.shift||u.extend?si(u,p,g.anchor,g.head):g}else if("triple"==r){var v=new la(L(n.line,0),U(u,L(n.line+1,0)));p=e.display.shift||u.extend?si(u,p,v.anchor,v.head):v}else p=si(u,p,n);i?f==-1?(f=_.length,hi(u,Nr(_.concat([p]),f),{scroll:!1,origin:"*mouse"})):_.length>1&&_[f].empty()&&"single"==r&&!t.shiftKey?(hi(u,Nr(_.slice(0,f).concat(_.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),m=u.sel):ci(u,f,p,Ss):(f=0,hi(u,new aa([p],0),Ss),m=u.sel);var y=n,b=c.wrapper.getBoundingClientRect(),w=0,x=pr(e,function(e){Fe(e)?a(e):l(e)}),k=pr(e,l);e.state.selectingText=k,Rs(document,"mousemove",x),Rs(document,"mouseup",k)}function yo(e,t,n,r){var i,o;try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ze(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!De(e,n))return Pe(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=N(e.doc,o),d=e.options.gutters[l];return Oe(e,n,e,u,d,t),Pe(t)}}}function bo(e,t){return yo(e,t,"gutterClick",!0)}function wo(e,t){Bt(e.display,t)||xo(e,t)||Ne(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function xo(e,t){return!!De(e,"gutterContextMenu")&&yo(e,t,"gutterContextMenu",!1)}function ko(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),sn(e)}function Ao(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=Ma&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=Ma,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Br(e)},!0),t("indentUnit",2,Br,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){qr(e),sn(e),mr(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,n.push(L(r,o))}r++});for(var i=n.length-1;i>=0;i--)Mi(e.doc,t,n[i],L(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ma&&e.refresh()}),t("specialCharPlaceholder",ht,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",ds?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!fs),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){ko(e),Co(e)},!0),t("keyMap","default",function(e,t,n){var r=eo(t),i=n!=Ma&&eo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("lineWrapping",!1,So,!0),t("gutters",[],function(e){Or(e.options),Co(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?xn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return Yn(e)},!0),t("scrollbarStyle","native",function(e){Vn(e),Yn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Or(e.options),Co(e)},!0),t("firstLineNumber",1,Co,!0),t("lineNumberFormatter",function(e){return e},Co,!0),t("showCursorWhenSelecting",!1,Sn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("readOnly",!1,function(e,t){"nocursor"==t?(Ln(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Eo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Sn,!0),t("singleCursorHeightPerLine",!0,Sn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,qr,!0),t("addModeClass",!1,qr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,qr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}function Co(e){Tr(e),mr(e),zn(e)}function Eo(e,t,n){var r=n&&n!=Ma;if(!t!=!r){var i=e.display.dragFunctions,o=t?Rs:Te;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function So(e){e.options.lineWrapping?(a(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ys(e.display.wrapper,"CodeMirror-wrap"),we(e)),An(e),mr(e),sn(e),setTimeout(function(){return Yn(e)},100)}function jo(e,t){var n=this;if(!(this instanceof jo))return new jo(e,t);this.options=t=t?u(t):{},u(Ta,t,!1),Or(t);var r=t.value;"string"==typeof r&&(r=new _a(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new jo.inputStyles[t.inputStyle](this),o=this.display=new E(e,r,i);o.wrapper.CodeMirror=this,Tr(this),ko(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ws,keySeq:null,specialChars:null},t.autofocus&&!ds&&o.input.focus(),es&&ts<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Mo(this),Gi(),rr(this),this.curOp.forceUpdate=!0,Hr(this,r),t.autofocus&&!ds||this.hasFocus()?setTimeout(c(Dn,this),20):Ln(this);for(var s in Oa)Oa.hasOwnProperty(s)&&Oa[s](n,t[s],Ma);Rn(this),t.finishInit&&t.finishInit(this);for(var a=0;a<Na.length;++a)Na[a](n);ir(this),ns&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Mo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),s=i.activeTouch,s.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;Rs(i.scroller,"mousedown",pr(e,mo)),es&&ts<11?Rs(i.scroller,"dblclick",pr(e,function(t){if(!Ne(e,t)){var n=Cn(e,t);if(n&&!bo(e,t)&&!Bt(e.display,t)){ze(t);var r=e.findWordAt(n);ai(e.doc,r.anchor,r.head)}}})):Rs(i.scroller,"dblclick",function(t){return Ne(e,t)||ze(t)}),vs||Rs(i.scroller,"contextmenu",function(t){return wo(e,t)});var o,s={end:0};Rs(i.scroller,"touchstart",function(t){if(!Ne(e,t)&&!n(t)){
i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-s.end<=300?s:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Rs(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Rs(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Bt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(i.activeTouch,"page");s=!o.prev||r(o,o.prev)?new la(a,a):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(a):new la(L(a.line,0),U(e.doc,L(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),ze(n)}t()}),Rs(i.scroller,"touchcancel",t),Rs(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Fn(e,i.scroller.scrollTop),Un(e,i.scroller.scrollLeft,!0),Oe(e,"scroll",e))}),Rs(i.scroller,"mousewheel",function(t){return Kn(e,t)}),Rs(i.scroller,"DOMMouseScroll",function(t){return Kn(e,t)}),Rs(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ne(e,t)||Be(t)},over:function(t){Ne(e,t)||(Wi(e,t),Be(t))},start:function(t){return Ui(e,t)},drop:pr(e,Fi),leave:function(t){Ne(e,t)||Hi(e)}};var a=i.input.getField();Rs(a,"keyup",function(t){return ho.call(e,t)}),Rs(a,"keydown",pr(e,uo)),Rs(a,"keypress",pr(e,fo)),Rs(a,"focus",function(t){return Dn(e,t)}),Rs(a,"blur",function(t){return Ln(e,t)})}function To(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=tt(e,t):n="prev");var s=e.options.tabSize,a=S(o,t),l=d(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(i,a.text.slice(u.length),a.text),c==Cs||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?d(S(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var p="",h=0;if(e.options.indentWithTabs)for(var m=Math.floor(c/s);m;--m)h+=s,p+="\t";if(h<c&&(p+=f(c-h)),p!=u)return Mi(o,p,L(t,0),L(t,u.length),"+input"),a.stateAfter=null,!0;for(var _=0;_<o.sel.ranges.length;_++){var g=o.sel.ranges[_];if(g.head.line==t&&g.head.ch<u.length){var v=L(t,u.length);ci(o,_,new la(v,v));break}}}function Oo(e){Ia=e}function No(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=e.state.pasteIncoming||"paste"==i,a=Bs(t),l=null;if(s&&r.ranges.length>1)if(Ia&&Ia.text.join("\n")==t){if(r.ranges.length%Ia.text.length==0){l=[];for(var c=0;c<Ia.text.length;c++)l.push(o.splitLines(Ia.text[c]))}}else a.length==r.ranges.length&&(l=_(a,function(e){return[e]}));for(var u,d=r.ranges.length-1;d>=0;d--){var p=r.ranges[d],h=p.from(),f=p.to();p.empty()&&(n&&n>0?h=L(h.line,h.ch-n):e.state.overwrite&&!s?f=L(f.line,Math.min(S(o,f.line).text.length,f.ch+m(a).length)):Ia&&Ia.lineWise&&Ia.text.join("\n")==t&&(h=f=L(h.line,0))),u=e.curOp.updateInput;var g={from:h,to:f,text:l?l[d%l.length]:a,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};ki(e.doc,g),At(e,"inputRead",e,g)}t&&!s&&Do(e,t),tr(e),e.curOp.updateInput=u,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Io(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||dr(t,function(){return No(t,n,0,null,"paste")}),!0}function Do(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=To(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(S(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=To(e,i.head.line,"smart"));s&&At(e,"electricInput",e,i.head.line)}}}function Lo(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:L(i,0),head:L(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function zo(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Ro(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ns?e.style.width="1000px":e.setAttribute("wrap","off"),cs&&(e.style.border="1px solid black"),zo(e),t}function Po(e,t,n,r,i){function o(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new L(r,t.ch,t.sticky),c=S(e,r))}function s(r){var s;if(s=i?je(e.cm,c,t,n):Ee(c,t,n),null==s){if(r||!o())return!1;t=Se(i,e.cm,c,t.line,n)}else t=s;return!0}var a=t,l=n,c=S(e,t.line);if("char"==r)s();else if("column"==r)s(!0);else if("word"==r||"group"==r)for(var u=null,d="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||s(!h);h=!1){var f=c.text.charAt(t.ch)||"\n",m=w(f,p)?"w":d&&"\n"==f?"n":!d||/\s/.test(f)?null:"p";if(!d||h||m||(m="s"),u&&u!=m){n<0&&(n=1,s(),t.sticky="after");break}if(m&&(u=m),n>0&&!s(!h))break}var _=yi(e,t,a,l,!0);return R(a,_)&&(_.hitSide=!0),_}function Bo(e,t,n,r){var i,o=e.doc,s=t.left;if("page"==r){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(a-.5*yn(e.display),3);i=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var c;c=mn(e,s,i),c.outside;){if(n<0?i<=0:i>=o.height){c.hitSide=!0;break}i+=5*n}return c}function qo(e,t){var n=Qt(e,t.line);if(!n||n.hidden)return null;var r=S(e.doc,t.line),i=Yt(n,r,t.line),o=Ae(r,e.doc.direction),s="left";if(o){var a=ke(o,t.ch);s=a%2?"right":"left"}var l=Xt(i.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function Fo(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function Uo(e,t){return t&&(e.bad=!0),e}function Wo(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function s(){u&&(c+=d,u=!1)}function a(e){e&&(s(),c+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void a(n||t.textContent.replace(/\u200b/g,""));var c,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(L(r,0),L(i+1,0),o(+p));return void(h.length&&(c=h[0].find())&&a(j(e.doc,c.from,c.to).join(d)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p)$/i.test(t.nodeName);f&&s();for(var m=0;m<t.childNodes.length;m++)l(t.childNodes[m]);f&&(u=!0)}else 3==t.nodeType&&a(t.nodeValue)}for(var c="",u=!1,d=e.doc.lineSeparator();l(t),t!=n;)t=t.nextSibling;return c}function Ho(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return Uo(e.clipPos(L(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Ko(o,t,n)}}function Ko(e,t,n){function r(t,n,r){for(var i=-1;i<(d?d.length:0);i++)for(var o=i<0?u.map:d[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=O(i<0?e.line:e.rest[i]),c=o[s]+r;return(r<0||a!=t)&&(c=o[s+(r?1:0)]),L(l,c)}}}var i=e.text.firstChild,s=!1;if(!t||!o(i,t))return Uo(L(O(e.line),0),!0);if(t==i&&(s=!0,t=i.childNodes[n],n=0,!t)){var a=e.rest?m(e.rest):e.line;return Uo(L(O(a),a.text.length),s)}var l=3==t.nodeType?t:null,c=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));c.parentNode!=i;)c=c.parentNode;var u=e.measure,d=u.maps,p=r(l,c,n);if(p)return Uo(p,s);for(var h=c.nextSibling,f=l?l.nodeValue.length-n:0;h;h=h.nextSibling){if(p=r(h,h.firstChild,0))return Uo(L(p.line,p.ch-f),s);f+=h.textContent.length}for(var _=c.previousSibling,g=n;_;_=_.previousSibling){if(p=r(_,_.firstChild,-1))return Uo(L(p.line,p.ch+g),s);g+=_.textContent.length}}function Go(e,t){function n(){e.value=l.getValue()}if(t=t?u(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=s();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(Rs(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Te(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var l=jo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}function Yo(e){e.off=Te,e.on=Rs,e.wheelEventPixels=Hn,e.Doc=_a,e.splitLines=Bs,e.countColumn=d,e.findColumn=h,e.isWordChar=b,e.Pass=Cs,e.signal=Oe,e.Line=Ys,e.changeEnd=Dr,e.scrollbarModel=ia,e.Pos=L,e.cmpPos=z,e.modes=Ws,e.mimeModes=Hs,e.resolveMode=Ye,e.getMode=Je,e.modeExtensions=Ks,e.extendMode=Ve,e.copyState=Qe,e.startState=$e,e.innerMode=Ze,e.commands=Ea,e.keyMap=ka,e.keyName=Xi,e.isModifierKey=$i,e.lookupKey=Zi,e.normalizeKeyMap=Qi,e.StringStream=Gs,e.SharedTextMarker=fa,e.TextMarker=ha,e.LineWidget=da,e.e_preventDefault=ze,e.e_stopPropagation=Re,e.e_stop=Be,e.addClass=a,e.contains=o,e.rmClass=ys,e.keyNames=ya}var Jo=navigator.userAgent,Vo=navigator.platform,Qo=/gecko\/\d/i.test(Jo),Zo=/MSIE \d/.test(Jo),$o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jo),Xo=/Edge\/(\d+)/.exec(Jo),es=Zo||$o||Xo,ts=es&&(Zo?document.documentMode||6:+(Xo||$o)[1]),ns=!Xo&&/WebKit\//.test(Jo),rs=ns&&/Qt\/\d+\.\d+/.test(Jo),is=!Xo&&/Chrome\//.test(Jo),os=/Opera\//.test(Jo),ss=/Apple Computer/.test(navigator.vendor),as=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Jo),ls=/PhantomJS/.test(Jo),cs=!Xo&&/AppleWebKit/.test(Jo)&&/Mobile\/\w+/.test(Jo),us=/Android/.test(Jo),ds=cs||us||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Jo),ps=cs||/Mac/.test(Vo),hs=/\bCrOS\b/.test(Jo),fs=/win/i.test(Vo),ms=os&&Jo.match(/Version\/(\d*\.\d*)/);ms&&(ms=+ms[1]),ms&&ms>=15&&(os=!1,ns=!0);var _s,gs=ps&&(rs||os&&(null==ms||ms<12.11)),vs=Qo||es&&ts>=9,ys=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};_s=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var bs=function(e){e.select()};cs?bs=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:es&&(bs=function(e){try{e.select()}catch(e){}});var ws=function(){this.id=null};ws.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var xs,ks,As=30,Cs={toString:function(){return"CodeMirror.Pass"}},Es={scroll:!1},Ss={origin:"*mouse"},js={origin:"+move"},Ms=[""],Ts=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Os=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Ns=!1,Is=!1,Ds=null,Ls=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;return function(n,r){var c="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var u=n.length,d=[],p=0;p<u;++p)d.push(e(n.charCodeAt(p)));for(var h=0,f=c;h<u;++h){var _=d[h];"m"==_?d[h]=f:f=_}for(var g=0,v=c;g<u;++g){var y=d[g];"1"==y&&"r"==v?d[g]="n":s.test(y)&&(v=y,"r"==y&&(d[g]="R"))}for(var b=1,w=d[0];b<u-1;++b){var x=d[b];"+"==x&&"1"==w&&"1"==d[b+1]?d[b]="1":","!=x||w!=d[b+1]||"1"!=w&&"n"!=w||(d[b]=w),w=x}for(var k=0;k<u;++k){var A=d[k];if(","==A)d[k]="N";else if("%"==A){var C=void 0;for(C=k+1;C<u&&"%"==d[C];++C);for(var E=k&&"!"==d[k-1]||C<u&&"1"==d[C]?"1":"N",S=k;S<C;++S)d[S]=E;k=C-1}}for(var j=0,M=c;j<u;++j){var T=d[j];"L"==M&&"1"==T?d[j]="L":s.test(T)&&(M=T)}for(var O=0;O<u;++O)if(o.test(d[O])){var N=void 0;for(N=O+1;N<u&&o.test(d[N]);++N);for(var I="L"==(O?d[O-1]:c),D="L"==(N<u?d[N]:c),L=I==D?I?"L":"R":c,z=O;z<N;++z)d[z]=L;O=N-1}for(var R,P=[],B=0;B<u;)if(a.test(d[B])){var q=B;for(++B;B<u&&a.test(d[B]);++B);P.push(new t(0,q,B))}else{var F=B,U=P.length;for(++B;B<u&&"L"!=d[B];++B);for(var W=F;W<B;)if(l.test(d[W])){F<W&&P.splice(U,0,new t(1,F,W));var H=W;for(++W;W<B&&l.test(d[W]);++W);P.splice(U,0,new t(2,H,W)),F=W}else++W;F<B&&P.splice(U,0,new t(1,F,B))}return 1==P[0].level&&(R=n.match(/^\s+/))&&(P[0].from=R[0].length,P.unshift(new t(0,0,R[0].length))),1==m(P).level&&(R=n.match(/\s+$/))&&(m(P).to-=R[0].length,P.push(new t(0,u-R[0].length,u))),"rtl"==r?P.reverse():P}}(),zs=[],Rs=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||zs).concat(n)}},Ps=function(){if(es&&ts<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),Bs=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");s!=-1?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},qs=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Fs=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Us=null,Ws={},Hs={},Ks={},Gs=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Gs.prototype.eol=function(){return this.pos>=this.string.length},Gs.prototype.sol=function(){return this.pos==this.lineStart},Gs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Gs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Gs.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},Gs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Gs.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},Gs.prototype.skipToEnd=function(){this.pos=this.string.length},Gs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Gs.prototype.backUp=function(e){this.pos-=e},Gs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=d(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},Gs.prototype.indentation=function(){return d(this.string,null,this.tabSize)-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},Gs.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},Gs.prototype.current=function(){return this.string.slice(this.start,this.pos)},Gs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}};var Ys=function(e,t,n){this.text=e,ie(this,t),this.height=n?n(this):1};Ys.prototype.lineNo=function(){return O(this)},Le(Ys);var Js,Vs={},Qs={},Zs=null,$s=null,Xs={left:0,right:0,top:0,bottom:0},ea=0,ta=null;es?ta=-.53:Qo?ta=15:is?ta=-.7:ss&&(ta=-1/3);var na=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),Rs(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Rs(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,es&&ts<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};na.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},na.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},na.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},na.prototype.zeroWidthHack=function(){var e=ps&&!as?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ws,this.disableVert=new ws},na.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},na.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ra=function(){};ra.prototype.update=function(){return{bottom:0,right:0}},ra.prototype.setScrollLeft=function(){},ra.prototype.setScrollTop=function(){},ra.prototype.clear=function(){};var ia={native:na,null:ra},oa=0,sa=function(e,t,n){var r=e.display;this.viewport=t,this.visible=qn(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ht(e),this.force=n,this.dims=wn(e),this.events=[]};sa.prototype.signal=function(e,t){De(e,t)&&this.events.push(arguments)},sa.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Oe.apply(null,e.events[t])};var aa=function(e,t){this.ranges=e,this.primIndex=t};aa.prototype.primary=function(){return this.ranges[this.primIndex]},aa.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!R(r.anchor,i.anchor)||!R(r.head,i.head))return!1}return!0},aa.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new la(P(e.ranges[n].anchor),P(e.ranges[n].head));return new aa(t,this.primIndex)},aa.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},aa.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(z(t,i.from())>=0&&z(e,i.to())<=0)return r}return-1};var la=function(e,t){this.anchor=e,this.head=t};la.prototype.from=function(){return q(this.anchor,this.head)},la.prototype.to=function(){return B(this.anchor,this.head)},la.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};var ca=function(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n};ca.prototype.chunkSize=function(){return this.lines.length},ca.prototype.removeInner=function(e,t){for(var n=this,r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height,ut(o),At(o,"delete")}this.lines.splice(e,t)},ca.prototype.collapse=function(e){e.push.apply(e,this.lines)},ca.prototype.insertInner=function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},ca.prototype.iterN=function(e,t,n){for(var r=this,i=e+t;e<i;++e)if(n(r.lines[e]))return!0};var ua=function(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null};ua.prototype.chunkSize=function(){return this.size},ua.prototype.removeInner=function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e),a=i.height;if(i.removeInner(e,s),n.height-=a-i.height,o==s&&(n.children.splice(r--,1),i.parent=null),0==(t-=s))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ca))){var l=[];this.collapse(l),this.children=[new ca(l)],this.children[0].parent=this}},ua.prototype.collapse=function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},ua.prototype.insertInner=function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(e<=s){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var c=new ca(o.lines.slice(l,l+=25));o.height-=c.height,r.children.splice(++i,0,c),c.parent=r}o.lines=o.lines.slice(0,a),r.maybeSpill()}break}e-=s}},ua.prototype.maybeSpill=function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new ua(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=p(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new ua(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},ua.prototype.iterN=function(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(e<s){var a=Math.min(t,s-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=s}};var da=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};da.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=O(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var s=Pt(this);T(r,Math.max(0,r.height-s)),t&&(dr(t,function(){Di(t,r,-s),_r(t,i,"widget")}),At(t,"lineWidgetCleared",t,this,i))}},da.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Pt(this)-t;i&&(T(r,r.height+i),n&&dr(n,function(){n.curOp.forceUpdate=!0,Di(n,r,i),At(n,"lineWidgetChanged",n,e,O(r))}))},Le(da);var pa=0,ha=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++pa};ha.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&rr(t),De(this,"clear")){var r=this.find();r&&At(this,"clear",r.from,r.to)}for(var i=null,o=null,s=0;s<this.lines.length;++s){var a=e.lines[s],l=J(a.markedSpans,e);t&&!e.collapsed?_r(t,O(a),"text"):t&&(null!=l.to&&(o=O(a)),null!=l.from&&(i=O(a))),a.markedSpans=V(a.markedSpans,l),null==l.from&&e.collapsed&&!ge(e.doc,a)&&t&&T(a,yn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=pe(e.lines[c]),d=be(u);d>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&mr(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&_i(t.doc)),t&&At(t,"markerCleared",t,this,i,o),n&&ir(t),this.parent&&this.parent.clear()}},ha.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var s=n.lines[o],a=J(s.markedSpans,n);if(null!=a.from&&(r=L(t?s:O(s),a.from),e==-1))return r;if(null!=a.to&&(i=L(t?s:O(s),a.to),1==e))return i}return r&&{from:r,to:i}},ha.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&dr(r,function(){var i=t.line,o=O(t.line),s=Qt(r,o);if(s&&(rn(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!ge(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=Pt(n)-a;l&&T(i,i.height+l)}At(r,"markerChanged",r,e)})},ha.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&p(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ha.prototype.detachLine=function(e){if(this.lines.splice(p(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Le(ha);var fa=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};fa.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();At(this,"clear")}},fa.prototype.find=function(e,t){return this.primary.find(e,t)},Le(fa);var ma=0,_a=function(e,t,n,r,i){if(!(this instanceof _a))return new _a(e,t,n,r,i);null==n&&(n=0),ua.call(this,[new ca([new Ys("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var o=L(n,0);this.sel=Ir(o),this.history=new Yr(null),this.id=++ma,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ur(this,{from:o,to:o,text:e}),hi(this,Ir(o),Es)};_a.prototype=y(ua.prototype,{constructor:_a,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=M(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:fr(function(e){var t=L(this.first,0),n=this.first+this.size-1;ki(this,{from:t,to:L(n,S(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&this.cm.scrollTo(0,0),hi(this,Ir(t),Es)}),replaceRange:function(e,t,n,r){t=U(this,t),n=n?U(this,n):t,Mi(this,e,t,n,r)},getRange:function(e,t,n){var r=j(this,U(this,e),U(this,t));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(I(this,e))return S(this,e)},getLineNumber:function(e){return O(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=S(this,e)),pe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return U(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:fr(function(e,t,n){ui(this,U(this,"number"==typeof e?L(e,t||0):e),null,n)}),setSelection:fr(function(e,t,n){ui(this,U(this,e),U(this,t||e),n)}),extendSelection:fr(function(e,t,n){ai(this,U(this,e),t&&U(this,t),n)}),extendSelections:fr(function(e,t){li(this,H(this,e),t)}),extendSelectionsBy:fr(function(e,t){var n=_(this.sel.ranges,e);li(this,H(this,n),t)}),setSelections:fr(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new la(U(r,e[o].anchor),U(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),hi(this,Nr(i,t),n)}}),addSelection:fr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new la(U(this,e),U(this,t||e))),hi(this,Nr(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=j(n,r[i].from(),r[i].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=j(t,r[i].from(),r[i].to());e!==!1&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:fr(function(e,t,n){for(var r=this,i=[],o=this.sel,s=0;s<o.ranges.length;s++){var a=o.ranges[s];i[s]={from:a.from(),to:a.to(),text:r.splitLines(e[s]),origin:n}}for(var l=t&&"end"!=t&&Pr(this,i,t),c=i.length-1;c>=0;c--)ki(r,i[c]);l?pi(this,l):this.cm&&tr(this.cm)}),undo:fr(function(){Ci(this,"undo")}),redo:fr(function(){Ci(this,"redo")}),undoSelection:fr(function(){Ci(this,"undo",!0)}),redoSelection:fr(function(){Ci(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Yr(this.history.maxGeneration);
},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:oi(this.history.done),undone:oi(this.history.undone)}},setHistory:function(e){var t=this.history=new Yr(this.history.maxGeneration);t.done=oi(e.done.slice(0),null,!0),t.undone=oi(e.undone.slice(0),null,!0)},setGutterMarker:fr(function(e,t,n){return Ii(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&x(r)&&(e.gutterMarkers=null),!0})}),clearGutter:fr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Ii(t,n,"gutter",function(){return n.gutterMarkers[e]=null,x(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!I(this,e))return null;if(t=e,e=S(this,e),!e)return null}else if(t=O(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:fr(function(t,n,r){return Ii(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:fr(function(t,n,r){return Ii(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var s=o.match(e(r));if(!s)return!1;var a=s.index+s[0].length;t[i]=o.slice(0,s.index)+(s.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:fr(function(e,t,n){return Li(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return zi(this,U(this,e),U(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=U(this,e),zi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=U(this,e);var t=[],n=S(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=U(this,e),t=U(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>e?(t=e,!0):(e-=o,void++n)}),U(this,L(n,t))},indexFromPos:function(e){e=U(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new _a(M(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new _a(M(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Bi(r,Pi(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof jo&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),qi(Pi(t));break}}if(e.history==this.history){var i=[e.id];Wr(e,function(e){return i.push(e.id)},!0),e.history=new Yr(null),e.history.done=oi(this.history.done,i),e.history.undone=oi(this.history.undone,i)}},iterLinkedDocs:function(e){Wr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Bs(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:fr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Gr(this.cm))})}),_a.prototype.eachLine=_a.prototype.iter;for(var ga=0,va=!1,ya={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ba=0;ba<10;ba++)ya[ba+48]=ya[ba+96]=ba+"";for(var wa=65;wa<=90;wa++)ya[wa]=String.fromCharCode(wa);for(var xa=1;xa<=12;xa++)ya[xa+111]=ya[xa+63235]="F"+xa;var ka={};ka.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ka.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ka.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ka.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ka.default=ps?ka.macDefault:ka.pcDefault;var Aa,Ca,Ea={selectAll:wi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Es)},killLine:function(e){return to(e,function(t){if(t.empty()){var n=S(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:L(t.head.line+1,0)}:{from:t.head,to:L(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return to(e,function(t){return{from:L(t.from().line,0),to:U(e.doc,L(t.to().line+1,0))}})},delLineLeft:function(e){return to(e,function(e){return{from:L(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return to(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return to(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(L(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(L(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return no(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return io(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return ro(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},js)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},js)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?io(e,t.head):r},js)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=d(e.getLine(o.line),o.ch,r);t.push(f(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return dr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=S(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new L(i.line,i.ch-1)),i.ch>0)i=new L(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),L(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=S(e.doc,i.line-1).text;s&&(i=new L(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),L(i.line-1,s.length-1),i,"+transpose"))}n.push(new la(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return dr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);tr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Sa=new ws,ja=null,Ma={toString:function(){return"CodeMirror.Init"}},Ta={},Oa={};jo.defaults=Ta,jo.optionHandlers=Oa;var Na=[];jo.defineInitHook=function(e){return Na.push(e)};var Ia=null,Da=function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&pr(this,t[e])(this,n,i),Oe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](eo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:hr(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw Error("Overlays may not be stateful.");g(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,mr(this)}),removeOverlay:hr(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,void mr(t)}}),indentLine:hr(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),I(this.doc,e)&&To(this,e,t,n)}),indentSelection:hr(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(To(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&tr(t));else{var s=o.from(),a=o.to(),l=Math.max(r,s.line);r=Math.min(t.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<r;++c)To(t,c,e);var u=t.doc.sel.ranges;0==s.ch&&n.length==u.length&&u[i].from().ch>0&&ci(t.doc,i,new la(s,u[i].to()),Es)}}}),getTokenAt:function(e,t){return ot(this,e,t)},getLineTokens:function(e,t){return ot(this,L(e),t,!0)},getTokenTypeAt:function(e){e=U(this.doc,e);var t,n=et(this,S(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],s=this.getModeAt(e);if("string"==typeof s[t])o[s[t]]&&i.push(o[s[t]]);else if(s[t])for(var a=0;a<s[t].length;a++){var l=o[s[t][a]];l&&i.push(l)}else s.helperType&&o[s.helperType]?i.push(o[s.helperType]):o[s.name]&&i.push(o[s.name]);for(var c=0;c<o._global.length;c++){var u=o._global[c];u.pred(s,r)&&p(i,u.val)==-1&&i.push(u.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=F(n,null==e?n.first+n.size-1:e),tt(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?U(this.doc,e):e?r.from():r.to(),pn(this,n,t||"page")},charCoords:function(e,t){return dn(this,U(this.doc,e),t||"page")},coordsChar:function(e,t){return e=un(this,e,t||"page"),mn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=un(this,{top:e,left:0},t||"page").top,N(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=S(this.doc,e)}else r=e;return cn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-ye(r):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return bn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=pn(this,U(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&$n(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:hr(uo),triggerOnKeyPress:hr(fo),triggerOnKeyUp:ho,execCommand:function(e){if(Ea.hasOwnProperty(e))return Ea[e].call(null,this)},triggerElectric:hr(function(e){Do(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;t<0&&(o=-1,t=-t);for(var s=U(this.doc,e),a=0;a<t&&(s=Po(i.doc,s,o,n,r),!s.hitSide);++a);return s},moveH:hr(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Po(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},js)}),deleteH:hr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):to(this,function(n){var i=Po(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,s=r;t<0&&(o=-1,t=-t);for(var a=U(this.doc,e),l=0;l<t;++l){var c=pn(i,a,"div");if(null==s?s=c.left:c.left=s,a=Bo(i,c,o,n),a.hitSide)break}return a},moveV:hr(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=pn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Bo(n,a,e,t);return"page"==t&&s==r.sel.primary()&&er(n,null,dn(n,l,"div").top-a.top),l},js),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(e){var t=this.doc,n=S(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var s=n.charAt(r),a=w(s,o)?function(e){return w(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!w(e)};r>0&&a(n.charAt(r-1));)--r;for(;i<n.length&&a(n.charAt(i));)++i}return new la(L(e.line,r),L(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):ys(this.display.cursorDiv,"CodeMirror-overwrite"),Oe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==s()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:hr(function(e,t){null==e&&null==t||nr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Wt(this)-this.display.barHeight,width:e.scrollWidth-Wt(this)-this.display.barWidth,clientHeight:Kt(this),clientWidth:Ht(this)}},scrollIntoView:hr(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:L(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)nr(this),this.curOp.scrollToPos=e;else{var n=Xn(this,{left:Math.min(e.from.left,e.to.left),top:Math.min(e.from.top,e.to.top)-e.margin,right:Math.max(e.from.right,e.to.right),bottom:Math.max(e.from.bottom,e.to.bottom)+e.margin});this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:hr(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(e+"")?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&on(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){_r(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Oe(this,"refresh",this)}),operation:function(e){return dr(this,e)},refresh:hr(function(){var e=this.display.cachedTextHeight;mr(this),this.curOp.forceUpdate=!0,sn(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),jr(this),(null==e||Math.abs(e-yn(this.display))>.5)&&An(this),Oe(this,"refresh",this)}),swapDoc:hr(function(e){var t=this.doc;return t.cm=null,Hr(this,e),sn(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,At(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Le(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}},La=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ws,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};La.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Oo({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Lo(i);Oo({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Es),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=Ia.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var s=Ro(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=Ia.text.join("\n");var l=document.activeElement;bs(a),setTimeout(function(){i.display.lineSpace.removeChild(s),l.focus(),l==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=e.lineDiv;zo(o,i.options.spellcheck),Rs(o,"paste",function(e){Ne(i,e)||Io(e,i)||ts<=11&&setTimeout(pr(i,function(){return n.updateFromDOM()}),20)}),Rs(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),Rs(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),Rs(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),Rs(o,"touchstart",function(){return r.forceCompositionEnd()}),Rs(o,"input",function(){n.composing||n.readFromDOMSoon()}),Rs(o,"copy",t),Rs(o,"cut",t)},La.prototype.prepareSelection=function(){var e=jn(this.cm,!1);return e.focus=this.cm.state.focused,e},La.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},La.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=Ho(t,e.anchorNode,e.anchorOffset),s=Ho(t,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=z(q(o,s),r)||0!=z(B(o,s),i)){var a=t.display.view,l=r.line>=t.display.viewFrom&&qo(t,r)||{node:a[0].measure.map[2],offset:0},c=i.line<t.display.viewTo&&qo(t,i);if(!c){var u=a[a.length-1].measure,d=u.maps?u.maps[u.maps.length-1]:u.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!l||!c)return void e.removeAllRanges();var p,h=e.rangeCount&&e.getRangeAt(0);try{p=_s(l.node,l.offset,c.offset,c.node)}catch(e){}p&&(!Qo&&t.state.focused?(e.collapse(l.node,l.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):Qo&&this.startGracePeriod()),this.rememberSelection()}},La.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},La.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},La.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},La.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},La.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},La.prototype.blur=function(){this.div.blur()},La.prototype.getField=function(){return this.div},La.prototype.supportsTouch=function(){return!0},La.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():dr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},La.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},La.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(us&&is&&this.cm.options.gutters.length&&Fo(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ho(t,e.anchorNode,e.anchorOffset),r=Ho(t,e.focusNode,e.focusOffset);n&&r&&dr(t,function(){hi(t.doc,Ir(n,r),Es),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},La.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=L(r.line-1,S(e.doc,r.line-1).length)),i.ch==S(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=L(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,s,a;r.line==t.viewFrom||0==(o=En(e,r.line))?(s=O(t.view[0].line),a=t.view[0].node):(s=O(t.view[o].line),a=t.view[o-1].node.nextSibling);var l,c,u=En(e,i.line);if(u==t.view.length-1?(l=t.viewTo-1,c=t.lineDiv.lastChild):(l=O(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling),!a)return!1;for(var d=e.doc.splitLines(Wo(e,a,c,s,l)),p=j(e.doc,L(s,0),L(l,S(e.doc,l).text.length));d.length>1&&p.length>1;)if(m(d)==m(p))d.pop(),p.pop(),l--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),s++}for(var h=0,f=0,_=d[0],g=p[0],v=Math.min(_.length,g.length);h<v&&_.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=m(d),b=m(p),w=Math.min(y.length-(1==d.length?h:0),b.length-(1==p.length?h:0));f<w&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;if(1==d.length&&1==p.length&&s==r.line)for(;h&&h>r.ch&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)h--,f++;d[d.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var x=L(s,h),k=L(l,p.length?m(p).length-f:0);return d.length>1||d[0]||z(x,k)?(Mi(e.doc,d,x,k,"+input"),!0):void 0},La.prototype.ensurePolled=function(){this.forceCompositionEnd()},La.prototype.reset=function(){this.forceCompositionEnd()},La.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},La.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},La.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||dr(this.cm,function(){return mr(e.cm)})},La.prototype.setUneditable=function(e){e.contentEditable="false"},La.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||pr(this.cm,No)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},La.prototype.readOnlyChanged=function(e){this.div.contentEditable=("nocursor"!=e)+""},La.prototype.onContextMenu=function(){},La.prototype.resetPosition=function(){},La.prototype.needsContentAttribute=!0;var za=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ws,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};za.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Oo({lineWise:!1,text:i.getSelections()}),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,s.value=Ia.text.join("\n"),bs(s));else{if(!i.options.lineWiseCopyCut)return;var t=Lo(i);Oo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Es):(r.prevInput="",s.value=t.text.join("\n"),bs(s))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,r=this,i=this.cm,o=this.wrapper=Ro(),s=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),cs&&(s.style.width="0px"),Rs(s,"input",function(){es&&ts>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),Rs(s,"paste",function(e){Ne(i,e)||Io(e,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),Rs(s,"cut",t),Rs(s,"copy",t),Rs(e.scroller,"paste",function(t){Bt(e,t)||Ne(i,t)||(i.state.pasteIncoming=!0,r.focus())}),Rs(e.lineSpace,"selectstart",function(t){Bt(e,t)||ze(t)}),Rs(s,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Rs(s,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},za.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=jn(e);if(e.options.moveInputWithCursor){var i=pn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},za.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},za.prototype.reset=function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=Fs&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var s=t?"-":n||r.getSelection();this.textarea.value=s,r.state.focused&&bs(this.textarea),es&&ts>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",es&&ts>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},za.prototype.getField=function(){return this.textarea},za.prototype.supportsTouch=function(){return!1},za.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ds||s()!=this.textarea))try{this.textarea.focus()}catch(e){}},za.prototype.blur=function(){this.textarea.blur()},za.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},za.prototype.receivedFocus=function(){this.slowPoll()},za.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll();
})},za.prototype.fastPoll=function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},za.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||qs(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(es&&ts>=9&&this.hasSelection===i||ps&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,a=Math.min(r.length,i.length);s<a&&r.charCodeAt(s)==i.charCodeAt(s);)++s;return dr(t,function(){No(t,i.slice(s),r.length-s,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},za.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},za.prototype.onKeyPress=function(){es&&ts>=9&&(this.hasSelection=null),this.fastPoll()},za.prototype.onContextMenu=function(e){function t(){if(null!=s.selectionStart){var e=i.somethingSelected(),t="​"+(e?s.value:"");s.value="⇚",s.value=t,r.prevInput=e?"":"​",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=d,s.style.cssText=u,es&&ts<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!es||es&&ts<9)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==r.prevInput?pr(i,wi)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,s=r.textarea,a=Cn(i,e),l=o.scroller.scrollTop;if(a&&!os){var c=i.options.resetSelectionOnContextMenu;c&&i.doc.sel.contains(a)==-1&&pr(i,hi)(i.doc,Ir(a),Es);var u=s.style.cssText,d=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var p=r.wrapper.getBoundingClientRect();s.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(es?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var h;if(ns&&(h=window.scrollY),o.input.focus(),ns&&window.scrollTo(null,h),o.input.reset(),i.somethingSelected()||(s.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),es&&ts>=9&&t(),vs){Be(e);var f=function(){Te(window,"mouseup",f),setTimeout(n,20)};Rs(window,"mouseup",f)}else setTimeout(n,50)}},za.prototype.readOnlyChanged=function(e){e||this.reset()},za.prototype.setUneditable=function(){},za.prototype.needsContentAttribute=!1,Ao(jo),Da(jo);var Ra="iter insert remove copy getEditor constructor".split(" ");for(var Pa in _a.prototype)_a.prototype.hasOwnProperty(Pa)&&p(Ra,Pa)<0&&(jo.prototype[Pa]=function(e){return function(){return e.apply(this.doc,arguments)}}(_a.prototype[Pa]));return Le(_a),jo.inputStyles={textarea:za,contenteditable:La},jo.defineMode=function(e){jo.defaults.mode||"null"==e||(jo.defaults.mode=e),Ke.apply(this,arguments)},jo.defineMIME=Ge,jo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),jo.defineMIME("text/plain","null"),jo.defineExtension=function(e,t){jo.prototype[e]=t},jo.defineDocExtension=function(e,t){_a.prototype[e]=t},jo.fromTextArea=Go,Yo(jo),jo.version="5.25.2",jo})},function(e,exports,t){var n,r;!function(){"use strict";function t(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(t.apply(null,r));else if("object"===o)for(var s in r)i.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=t:(n=[],r=function(){return t}.apply(exports,n),!(void 0!==r&&(e.exports=r)))}()},function(e,exports){"use strict";exports.__esModule=!0,exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(441),i=n(r),o=t(440),s=n(o),a=t(136),l=n(a);exports.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(136),i=n(r);exports.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(208),i=n(r);exports.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,exports){"use strict";exports.__esModule=!0,exports.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(module,exports,__webpack_require__){(function(process){var ActivityLog,DEBUG,ELLIPSES,ISO_to_Date,RetryUntilSuccess,SOCKET_DATE_KEY,TEST_MODE,_,_done,apply_function_to_map_values,date_parser,defaults,env,escapeRegExp,filename_extension_re,fix_json_dates,has_null_leaf,is_array,is_date,is_object,l,len1,len2,map_without_undefined,mathjax_delim,mathjax_environments,reISO,reValidEmail,ref,ref1,ref2,required,round1,round2,s,seconds2hms,sha1,smc_logger_timestamp,smc_logger_timestamp_last,smc_start_time,smiley,smileys,smileys_definition,socket_date_parser,socket_date_replacer,timestamp_cmp0,u,underscore,zipcode,slice=[].slice,indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},bind=function(e,t){return function(){return e.apply(t,arguments)}};for(_=underscore=__webpack_require__(23),DEBUG=!(void 0===process||null===process||null==(ref={NODE_ENV:"production"})||!ref.DEVEL||(void 0!==process&&null!==process&&null!=(ref1={NODE_ENV:"production"})?ref1.SMC_TEST:void 0)),DEBUG?console.debug=console.log:console.debug=function(){},(void 0!==process&&null!==process&&null!=(ref2={NODE_ENV:"production"})?ref2.SMC_TEST:void 0)&&(TEST_MODE=!0),exports.RUNNING_IN_NODE="node"===(void 0!==process&&null!==process?process.title:void 0),exports.startswith=function(e,t){var n,r,i;if("string"==typeof t)return 0===e.indexOf(t);for(n=0,r=t.length;n<r;n++)if(i=t[n],0===e.indexOf(i))return!0;return!1},exports.endswith=function(e,t){return e.slice(e.length-t.length)===t},exports.merge=function(){var e,t,n,r,i,o,s;for(e=arguments[0],o=2<=arguments.length?slice.call(arguments,1):[],n=0,r=o.length;n<r;n++){i=o[n];for(t in i)s=i[t],e[t]=s}return e},exports.merge_copy=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],exports.merge.apply(exports,[{}].concat(slice.call(e)))},exports.random_choice=function(e){return e[Math.floor(Math.random()*e.length)]},exports.random_choice_from_obj=function(e){var t;return t=exports.random_choice(exports.keys(e)),[t,e[t]]},exports.randint=function(e,t){if(e>t)throw Error("randint: lower is larger than upper");return Math.floor(Math.random()*(t-e+1))+e},exports.split=function(e){var t;return t=e.match(/\S+/g),t?t:[]},exports.search_split=function(e){var t,n,r,i,o,s;for(s=[],e=e.split('"'),o=e.length,n=r=0,i=e.length;r<i;n=++r)t=e[n],t=t.trim(),0!==t.length&&(n%2===0||n===o-1&&o%2===0?s.push.apply(s,t.split(" ")):s.push(t));return s},exports.search_match=function(e,t){var n,r,i;for(n=0,r=t.length;n<r;n++)if(i=t[n],e.indexOf(i)===-1)return!1;return!0},exports.contains=function(e,t){return e.indexOf(t)!==-1},exports.count=function(e,t){var n,r;for(r=-1,n=-1;;)if(r=e.indexOf(t,r+1),n++,r===-1)break;return n},exports.min_object=function(e,t){var n,r,i;null==e&&(e={}),r=[];for(n in t)i=t[n],r.push(e[n]=e.hasOwnProperty(n)?e[n]=Math.min(e[n],t[n]):t[n]);return r},defaults=exports.defaults=function(e,t,n){var r,i,o,s,a;if(null==e&&(e={}),i=function(){var n,r;try{return r="(obj1="+exports.trunc(exports.to_json(e),1024)+", obj2="+exports.trunc(exports.to_json(t),1024)+")",TEST_MODE||console.log(r),r}catch(e){return n=e,""}},null==e&&(e={}),"object"!=typeof e){if(r="BUG -- Traceback -- misc.defaults -- TypeError: function takes inputs as an object "+i(),console.log(r),console.trace(),DEBUG||TEST_MODE)throw Error(r);return t}s={};for(o in t)if(a=t[o],e.hasOwnProperty(o)&&null!=e[o]){if(t[o]===exports.defaults.required&&null==e[o]&&(r="misc.defaults -- TypeError: property '"+o+"' must be specified: "+i(),console.warn(r),console.trace(),DEBUG||TEST_MODE))throw Error(r);s[o]=e[o]}else if(null!=t[o])if(t[o]===exports.defaults.required){if(r="misc.defaults -- TypeError: property '"+o+"' must be specified: "+i(),console.warn(r),console.trace(),DEBUG||TEST_MODE)throw Error(r)}else s[o]=t[o];if(!n)for(o in e)if(a=e[o],!t.hasOwnProperty(o)&&(r="misc.defaults -- TypeError: got an unexpected argument '"+o+"' "+i(),console.warn(r),console.trace(),DEBUG||TEST_MODE))throw Error(r);return s},required=exports.required=exports.defaults.required="__!!!!!!this is a required property!!!!!!__",exports.mswalltime=function(e){return null!=e?(new Date).getTime()-e:(new Date).getTime()},exports.walltime=function(e){return null!=e?exports.mswalltime()/1e3-e:exports.mswalltime()/1e3},exports.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"===e?t:3&t|8,n.toString(16)})},exports.is_valid_uuid_string=function(e){return"string"==typeof e&&36===e.length&&/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/i.test(e)},exports.is_valid_sha1_string=function(e){return"string"==typeof e&&40===e.length&&/[a-fA-F0-9]{40}/i.test(e)},sha1=__webpack_require__(131),exports.uuidsha1=function(e){var t,n;return n=sha1(e),t=-1,"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){switch(t+=1,e){case"x":return n[t];case"y":return(3&parseInt("0x"+n[t],16)|8).toString(16)}})},zipcode=RegExp("^\\d{5}(-\\d{4})?$"),exports.is_valid_zipcode=function(e){return zipcode.test(e)},exports.times_per_second=function(e,t,n){var r,i,o;for(null==t&&(t=5),null==n&&(n=1e3),i=exports.walltime(),r=0,o=0;;)if(e(),o=exports.walltime()-i,r+=1,o>=t||r>=n)break;return Math.ceil(r/o)},exports.to_json=JSON.stringify,SOCKET_DATE_KEY="DateEpochMS",socket_date_replacer=function(e,t){var n,r;return this[e]instanceof Date?(n=this[e],r={},r[""+SOCKET_DATE_KEY]=n-0,r):t},exports.to_json_socket=function(e){return JSON.stringify(e,socket_date_replacer)},socket_date_parser=function(e,t){return null!=(null!=t?t[SOCKET_DATE_KEY]:void 0)?new Date(t[SOCKET_DATE_KEY]):t},exports.from_json_socket=function(e){var t;try{return JSON.parse(e,socket_date_parser)}catch(n){throw t=n,console.debug("from_json: error parsing "+e+" (="+exports.to_json(e)+") from JSON"),t}},exports.to_safe_str=function(e){var t,n,r,i;n={};for(t in e)i=e[t],r=!1,t.indexOf("pass")!==-1?r=!0:"string"==typeof i&&"sha512$"===i.slice(0,7)&&(r=!0),r?n[t]="(unsafe)":("object"==typeof i?i="[object]":"string"==typeof i&&(i=exports.trunc(i,250)),n[t]=i);return e=exports.to_json(n)},reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,exports.date_parser=date_parser=function(e,t){return"string"==typeof t&&t.length>=20&&reISO.exec(t)?ISO_to_Date(t):t},exports.ISO_to_Date=ISO_to_Date=function(e){return e.indexOf("Z")===-1&&(e+="Z"),new Date(e)},exports.from_json=function(e){var t;try{return JSON.parse(e,date_parser)}catch(n){throw t=n,console.debug("from_json: error parsing "+e+" (="+exports.to_json(e)+") from JSON"),t}},exports.fix_json_dates=fix_json_dates=function(e,t){var n,r,i,o;if(null==t)return e;if(exports.is_object(e))for(r in e)i=e[r],"object"==typeof i?fix_json_dates(i,t):"string"==typeof i&&i.length>=20&&reISO.exec(i)&&("all"===t||indexOf.call(t,r)>=0)&&(e[r]=new Date(i));else if(exports.is_array(e))for(n in e)o=e[n],e[n]=fix_json_dates(o,t);else if("string"==typeof e&&e.length>=20&&reISO.exec(e)&&"all"===t)return new Date(e);return e},exports.to_iso=function(e){return new Date(e-60*e.getTimezoneOffset()*1e3).toISOString().slice(0,-5)},exports.to_iso_path=function(e){return exports.to_iso(e).replace("T","-").replace(/:/g,"")},exports.is_empty_object=function(e){return 0===Object.keys(e).length},exports.len=function(e){var t;return null==e?0:(t=e.length,null!=t?t:underscore.keys(e).length)},exports.keys=underscore.keys,exports.values=underscore.values,exports.dict=function(e){var t,n,r,i;for(i={},n=0,r=e.length;n<r;n++){if(t=e[n],2!==t.length)throw Error("ValueError: unexpected length of tuple");i[t[0]]=t[1]}return i},exports.remove=function(e,t){var n,r,i;for(n=r=0,i=e.length;0<=i?r<i:r>i;n=0<=i?++r:--r)if(e[n]===t)return void e.splice(n,1);throw Error("ValueError -- item not in array")},exports.pairs_to_obj=function(e){var t,n,r,i;for(r={},t=0,n=e.length;t<n;t++)i=e[t],r[i[0]]=i[1];return r},exports.obj_to_pairs=function(e){var t,n,r;t=[];for(n in e)r=e[n],t.push([n,r]);return t},exports.substring_count=function(e,t,n){var r,i,o;if(e+="",t+="",t.length<=0)return e.length+1;for(r=0,i=0,o=n?1:t.length;;){if(i=e.indexOf(t,i),!(i>=0))break;r++,i+=o}return r},exports.max=function(e){return e.reduce(function(e,t){return Math.max(e,t)})},exports.min=function(e){return e.reduce(function(e,t){return Math.min(e,t)})},filename_extension_re=/(?:\.([^.]+))?$/,exports.filename_extension=function(e){var t;return e=exports.path_split(e).tail,null!=(t=filename_extension_re.exec(e)[1])?t:""},exports.filename_extension_notilde=function(e){var t;for(t=exports.filename_extension(e);t&&"~"===t[t.length-1];)t=t.slice(0,t.length-1);return t},exports.separate_file_extension=function(e){var t;return t=exports.filename_extension(e),""!==t&&(e=e.slice(0,e.length-t.length-1)),{name:e,ext:t}},exports.change_filename_extension=function(e,t){var n,r;return r=exports.separate_file_extension(e),e=r.name,n=r.ext,e+"."+t},exports.copy=function(e){var t,n,r;if(null==e||"object"!=typeof e)return e;if(exports.is_array(e))return e.slice(0);t={};for(n in e)r=e[n],t[n]=r;return t},exports.copy_without=function(e,t){var n,r,i;"string"==typeof t&&(t=[t]),n={};for(r in e)i=e[r],indexOf.call(t,r)<0&&(n[r]=i);return n},exports.copy_with=function(e,t){var n,r,i;"string"==typeof t&&(t=[t]),n={};for(r in e)i=e[r],indexOf.call(t,r)>=0&&(n[r]=i);return n},exports.deep_copy=function(e){var t,n,r,i;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t="",null!=e.global&&(t+="g"),null!=e.ignoreCase&&(t+="i"),null!=e.multiline&&(t+="m"),null!=e.sticky&&(t+="y"),RegExp(e.source,t);try{r=new e.constructor}catch(e){r={}}for(n in e)i=e[n],r[n]=exports.deep_copy(i);return r},exports.path_split=function(e){var t;return t=e.split("/"),{head:t.slice(0,-1).join("/"),tail:t[t.length-1]}},exports.path_to_file=function(e,t){return""===e?t:e+"/"+t},exports.meta_file=function(e,t){var n;if(null!=e)return n=exports.path_split(e),e=n.head,""!==n.head&&(e+="/"),e+"."+n.tail+".sage-"+t},exports.original_path=function(e){var t,n,r;return n=exports.path_split(e),"."!==n.tail[0]||n.tail.indexOf(".sage-")===-1?e:(t=exports.filename_extension(n.tail),r=n.tail.slice("."===n.tail[0]?1:0,n.tail.length-(t.length+1)),""!==n.head&&(r=n.head+"/"+r),r)},ELLIPSES="…",exports.trunc=function(e,t){if(null==t&&(t=1024),null==e)return e;if("string"!=typeof e&&(e=""+e),e.length>t){if(t<1)throw Error("ValueError: max_length must be >= 1");return e.slice(0,t-1)+ELLIPSES}return e},exports.trunc_middle=function(e,t){var n;if(null==t&&(t=1024),null==e)return e;if("string"!=typeof e&&(e=""+e),e.length<=t)return e;if(t<1)throw Error("ValueError: max_length must be >= 1");return n=Math.floor(t/2),e.slice(0,n-1+(t%2?1:0))+ELLIPSES+e.slice(e.length-n)},exports.trunc_left=function(e,t){if(null==t&&(t=1024),null==e)return e;if("string"!=typeof e&&(e=""+e),e.length>t){if(t<1)throw Error("ValueError: max_length must be >= 1");return ELLIPSES+e.slice(e.length-t+1)}return e},exports.pad_left=function(e,t){var n,r,i,o;for(n=r=i=e.length,o=t;i<=o?r<o:r>o;n=i<=o?++r:--r)e=" "+e;return e},exports.pad_right=function(e,t){var n,r,i,o;for(n=r=i=e.length,o=t;i<=o?r<o:r>o;n=i<=o?++r:--r)e+=" ";return e},exports.plural=function(e,t,n){return null==n&&(n=t+"s"),"GB"===t||"MB"===t?t:1===e?t:n},exports.git_author=function(e,t,n){return e+" "+t+" <"+n+">"},reValidEmail=function(){var e,t,n,r,i,o,s,a,l,c,u,d,p;return a="[^\\x0d\\x22\\x5c\\x80-\\xff]",o="[^\\x0d\\x5b-\\x5d\\x80-\\xff]",t="[^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+",l="\\x5c[\\x00-\\x7f]",r="\\x5b("+o+"|"+l+")*\\x5d",c="\\x22("+a+"|"+l+")*\\x22",i=t,u="("+i+"|"+r+")",p="("+t+"|"+c+")",n=u+"(\\x2e"+u+")*",s=p+"(\\x2e"+p+")*",e=s+"\\x40"+n,d="^"+e+"$",RegExp(d)}(),exports.is_valid_email_address=function(e){return!!reValidEmail.test(e)},exports.canonicalize_email_address=function(e){var t,n;return"string"!=typeof e&&(e=JSON.stringify(e)),t=e.indexOf("+"),t!==-1&&(n=e.indexOf("@"),n!==-1&&(e=e.slice(0,t)+e.slice(n))),e.toLowerCase()},exports.lower_email_address=function(e){if(null!=e)return"string"!=typeof e&&(e=JSON.stringify(e)),e.toLowerCase()},exports.parse_user_search=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h;for(l=function(){var t,n,r,i;for(r=e.split(/,|;/),i=[],t=0,n=r.length;t<n;t++)a=r[t],i.push(a.trim().toLowerCase());return i}(),c={string_queries:[],email_queries:[]},n=/<(.*)>/,r=0,i=l.length;r<i;r++)if(h=l[r])if(h.indexOf("@")===-1)c.string_queries.push(h.split(/\s+/g));else for(u=exports.split(h),p=0,o=u.length;p<o;p++)t=u[p],"<"===t[0]&&(s=n.exec(t),t=null!=(d=null!=s?s[1]:void 0)?d:t),exports.is_valid_email_address(t)&&c.email_queries.push(t);return c},exports.delete_trailing_whitespace=function(e){return e.replace(/[^\S\n]+$/gm,"")},exports.assert=function(e,t){if(!e){if("string"==typeof t)throw Error(t);throw t}},exports.retry_until_success=function(e){var t,n,r,i;return e=exports.defaults(e,{f:exports.required,start_delay:100,max_delay:2e4,factor:1.4,max_tries:void 0,max_time:void 0,log:void 0,warn:void 0,name:"",cb:void 0}),t=e.start_delay,i=0,null!=e.max_time&&(r=new Date),(n=function(){return i+=1,null!=e.log&&(null!=e.max_tries&&e.log("retry_until_success("+e.name+") -- try "+i+"/"+e.max_tries),null!=e.max_time&&e.log("retry_until_success("+e.name+") -- try "+i+" (started "+(new Date-r)+"ms ago; will stop before "+e.max_time+"ms max time)"),null==e.max_tries&&null==e.max_time&&e.log("retry_until_success("+e.name+") -- try "+i)),e.f(function(o){return o?"not_public"===o?void("function"==typeof e.cb&&e.cb("not_public")):(o&&null!=e.warn&&e.warn("retry_until_success("+e.name+") -- err="+o),null!=e.log&&e.log("retry_until_success("+e.name+") -- err="+o),null!=e.max_tries&&e.max_tries<=i?void("function"==typeof e.cb&&e.cb("maximum tries (="+e.max_tries+") exceeded - last error "+o)):(t=Math.min(e.max_delay,e.factor*t),null!=e.max_time&&new Date-r+t>e.max_time?void("function"==typeof e.cb&&e.cb("maximum time (="+e.max_time+"ms) exceeded - last error "+o)):setTimeout(n,t))):(null!=e.log&&e.log("retry_until_success("+e.name+") -- success"),"function"==typeof e.cb?e.cb():void 0)})})()},exports.retry_until_success_wrapper=function(e){var t;return t=new RetryUntilSuccess(e),function(e){return t.call(e)}},RetryUntilSuccess=function(){function e(e){this.call=bind(this.call,this),this.opts=exports.defaults(e,{f:exports.defaults.required,start_delay:100,max_delay:2e4,exp_factor:1.4,max_tries:void 0,max_time:void 0,min_interval:100,logname:void 0,verbose:!1}),null!=this.opts.min_interval&&this.opts.start_delay<this.opts.min_interval&&(this.opts.start_delay=this.opts.min_interval),this.f=this.opts.f}return e.prototype.call=function(e,t){var n,r,i;if(null!=this.opts.logname&&console.debug(this.opts.logname+"(... "+t+")"),null==this._cb_stack&&(this._cb_stack=[]),null!=e&&this._cb_stack.push(e),!this._calling)return this._calling=!0,null==t&&(this.attempts=0),null!=this.opts.logname&&console.debug("actually calling -- "+this.opts.logname+"(... "+t+")"),null!=this.opts.max_time&&(r=new Date),n=function(e){return function(){return null!=e.opts.min_interval&&(e._last_call_time=exports.mswalltime()),e.f(function(n){var i,o;if(e.attempts+=1,e._calling=!1,n){if(e.opts.verbose&&console.debug(e.opts.logname+": error="+n),null!=e.opts.max_tries&&e.attempts>=e.opts.max_tries){for(;e._cb_stack.length>0;)e._cb_stack.pop()(n);return}if(t=null==t?e.opts.start_delay:Math.min(e.opts.max_delay,e.opts.exp_factor*t),null!=e.opts.max_time&&new Date-r+t>e.opts.max_time){for(n="maximum time (="+e.opts.max_time+"ms) exceeded - last error "+n;e._cb_stack.length>0;)e._cb_stack.pop()(n);return}return i=function(){return e.call(void 0,t)},setTimeout(i,t)}for(o=[];e._cb_stack.length>0;)o.push(e._cb_stack.pop()());return o})}}(this),null==this._last_call_time||null==this.opts.min_interval?n():(i=exports.mswalltime(this._last_call_time),i<this.opts.min_interval?setTimeout(n,this.opts.min_interval-i):n())},e}(),exports.eval_until_defined=function(opts){var delay,f,total;return opts=exports.defaults(opts,{code:exports.required,start_delay:100,max_time:1e4,exp_factor:1.4,cb:exports.required}),delay=void 0,total=0,(f=function(){var result;return result=eval(opts.code),null!=result?opts.cb(!1,result):(null==delay?delay=opts.start_delay:delay*=opts.exp_factor,total+=delay,total>opts.max_time?opts.cb("failed to eval code within "+opts.max_time):setTimeout(f,delay))})()},exports.async_debounce=function(e){var t,n,r,i,o,s,a;return e=defaults(e,{f:required,interval:1500,state:required,cb:void 0}),i=e.f,o=e.interval,a=e.state,r=e.cb,t=function(){var e;return e=o+1-(new Date-a.last),a.timer=setTimeout(function(e){return function(){return delete a.timer,exports.async_debounce({f:i,interval:o,state:a})}}(this),e)},null!=a.last&&new Date-a.last<=o?(null==a.next_callbacks&&(a.next_callbacks=[]),null!=r&&a.next_callbacks.push(r),void(null==a.timer&&t())):(a.last=new Date,n=exports.copy(null!=(s=a.next_callbacks)?s:[]),null!=r&&n.push(r),delete a.next_callbacks,i(function(e){return function(e){var i,o;for(i=0,o=n.length;i<o;i++)r=n[i],"function"==typeof r&&r(e);if(n=[],null!=a.next_callbacks&&null==a.timer)return t()}}(this)))},exports.StringCharMapping=function(){function e(e){var t,n,r,i;if(null==e&&(e={}),this.to_array=bind(this.to_array,this),this.to_string=bind(this.to_string,this),this._find_next_char=bind(this._find_next_char,this),e=exports.defaults(e,{to_char:void 0,to_string:void 0}),this._to_char={},this._to_string={},this._next_char="A",null!=e.to_string){n=e.to_string;for(t in n)i=n[t],this._to_string[t]=i,this._to_char[i]=t}if(null!=e.to_char){r=e.to_char;for(i in r)t=r[i],this._to_string[t]=i,this._to_char[i]=t}this._find_next_char()}return e.prototype._find_next_char=function(){var e;for(e=[];;){if(this._next_char=String.fromCharCode(this._next_char.charCodeAt(0)+1),null==this._to_string[this._next_char])break;e.push(void 0)}return e},e.prototype.to_string=function(e){var t,n,r,i,o;for(o="",n=0,r=e.length;n<r;n++)i=e[n],t=this._to_char[i],null!=t?o+=t:(o+=this._next_char,this._to_char[i]=this._next_char,this._to_string[this._next_char]=i,this._find_next_char());return o},e.prototype.to_array=function(e){var t;return function(){var n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this._to_string[t]);return i}.call(this)},e}(),exports.uniquify_string=function(e){var t,n,r,i,o;for(i={},o="",n=0,r=e.length;n<r;n++)t=e[n],null==i[t]&&(o+=t,i[t]=!0);return o},exports.PROJECT_GROUPS=["owner","collaborator","viewer","invited_collaborator","invited_viewer"],exports.make_valid_name=function(e){return e.replace(/\W/g,"_").toLowerCase()},exports.parse_bup_timestamp=function(e){var t;return t=[e.slice(0,4),e.slice(5,7),e.slice(8,10),e.slice(11,13),e.slice(13,15),e.slice(15,17),"0"],new Date(t[1]+"/"+t[2]+"/"+t[0]+" "+t[3]+":"+t[4]+":"+t[5]+" UTC")},exports.matches=function(e,t){var n,r,i;for(n=0,r=t.length;n<r;n++)if(i=t[n],e.indexOf(i)===-1)return!1;return!0},exports.hash_string=function(e){var t,n,r,i;if(n=0,r=void 0,t=void 0,i=void 0,0===e.length)return n;for(r=0,i=e.length;r<i;)t=e.charCodeAt(r),n=(n<<5)-n+t,n|=0,r++;return n},exports.parse_hashtags=function(e){var t,n,r;if(r=[],null==e)return r;for(t=0;;){if(n=e.indexOf("#"),n===-1||n===e.length-1)return r;if(t+=n+1,"#"===e[n+1]||0!==n&&!e[n-1].match(/\s/))e=e.slice(n+1);else if(e=e.slice(n+1),n=e.match(/\s|[^A-Za-z0-9_\-]/),n=n?n.index:-1,0===n)t+=n+1,e=e.slice(n+1);else{if(n===-1)return r.push([t-1,t+e.length]),r;r.push([t-1,t+n]),t+=n+1,e=e.slice(n+1)}}},mathjax_environments=["align","align*","alignat","alignat*","aligned","alignedat","array","Bmatrix","bmatrix","cases","CD","eqnarray","eqnarray*","equation","equation*","gather","gather*","gathered","matrix","multline","multline*","pmatrix","smallmatrix","split","subarray","Vmatrix","vmatrix"],mathjax_delim=[["$$","$$"],["\\(","\\)"],["\\[","\\]"]],l=0,len1=mathjax_environments.length;l<len1;l++)env=mathjax_environments[l],mathjax_delim.push(["\\begin{"+env+"}","\\end{"+env+"}"]);for(mathjax_delim.push(["$","$"]),exports.parse_mathjax=function(e){var t,n,r,i,o,s,a,l,c,u;if(u=[],null==e)return u;for(i=0;i<e.length;)if("\\$"!==e.slice(i,i+2)){for(c=0,s=mathjax_delim.length;c<s;c++)if(r=mathjax_delim[c],n=!1,e.slice(i,i+r[0].length)===r[0]){for(o=i+1;o<e.length&&e.slice(o,o+r[1].length)!==r[1]&&(a=e.slice(o,o+1),"\n"!==a||(n=!0,"$"!==r[0]));){if(l=e.slice(o-1,o),"`"===a&&"\\"!==l){o-=1;break}o+=1}o+=r[1].length,t=o>e.length,"$"===r[0]&&(n||t)||u.push([i,o]),i=o;break}i+=1}else i+=2;return u},exports.mathjax_escape=function(e){return e.replace(/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},exports.path_is_in_public_paths=function(e,t){return null!=exports.containing_public_path(e,t)},exports.containing_public_path=function(e,t){var n,r,i;if(0!==t.length&&null!=e&&e.indexOf("../")===-1){for(i=0,n=t.length;i<n;i++){if(r=t[i],""===r)return"";if(e===r)return r;if(e.slice(0,r.length+1)===r+"/")return r}return"zip"===exports.filename_extension(e)?exports.containing_public_path(e.slice(0,e.length-4),t):void 0}},exports.encode_path=function(e){return e=encodeURI(e),e.replace(/#/g,"%23").replace(/\?/g,"%3F")},exports.call_lock=function(e){var t;return e=exports.defaults(e,{obj:exports.required,timeout_s:30}),t=e.obj,t._call_lock=function(){return t.__call_lock=!0,t.__call_lock_timeout=function(){return t.__call_lock=!1,delete t.__call_lock_timeout},setTimeout(t.__call_lock_timeout,1e3*e.timeout_s)},t._call_unlock=function(){return null!=t.__call_lock_timeout&&(clearTimeout(t.__call_lock_timeout),delete t.__call_lock_timeout),t.__call_lock=!1},t._call_with_lock=function(e,n){return t.__call_lock?void("function"==typeof n&&n("error -- hit call_lock")):(t._call_lock(),e(function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],t._call_unlock(),"function"==typeof n?n.apply(null,e):void 0}))}},exports.cmp=function(e,t){return e<t?-1:e>t?1:0},exports.cmp_array=function(e,t){var n,r,i,o;for(r=o=0,i=Math.max(e.length,t.length);0<=i?o<i:o>i;r=0<=i?++o:--o)if(n=exports.cmp(e[r],t[r]))return n;return 0},exports.cmp_Date=function(e,t){return null==e?-1:null==t?1:e<t?-1:e>t?1:0},exports.timestamp_cmp=function(e,t,n){return null==n&&(n="timestamp"),-exports.cmp_Date(e[n],t[n])},timestamp_cmp0=function(e,t,n){return null==n&&(n="timestamp"),exports.cmp_Date(e[n],t[n])},exports.field_cmp=function(e){return function(t,n){return exports.cmp(t[e],n[e])}},ActivityLog=function(){function e(e){this._process_event=bind(this._process_event,this),this.process=bind(this.process,this),this.path=bind(this.path,this),this.obj=bind(this.obj,this),e=exports.defaults(e,{events:void 0,account_id:exports.required,notifications:{}}),this.notifications=e.notifications,this.account_id=e.account_id,null!=e.events&&this.process(e.events)}return e.prototype.obj=function(){return{notifications:this.notifications,account_id:this.account_id}},e.prototype.path=function(e){return e.project_id+"/"+e.path},e.prototype.process=function(e){var t,n,r,i,o,s,a,l,c;for(t={},c=0,s=e.length;c<s;c++)n=e[c],o=this.path(n),i=t[o],null==i?i=t[o]=[n]:i.push(n);l=[];for(a in t)i=t[a],i.sort(timestamp_cmp0),l.push(function(){var e,t,n;for(t=[],n=0,e=i.length;n<e;n++)r=i[n],t.push(this._process_event(r,a));return t}.call(this));return l},e.prototype._process_event=function(e,t){var n,r;if(null==t&&(t=this.path(e)),n=this.notifications[t],null==n&&(this.notifications[t]=n={}),n.timestamp=e.timestamp,n.id=e.id,null!=e.seen_by&&e.seen_by.indexOf(this.account_id)!==-1&&(n.seen=e.timestamp),null!=e.read_by&&e.read_by.indexOf(this.account_id)!==-1&&(n.read=e.timestamp),null!=e.action)return r=n[e.action],null==r&&(r=n[e.action]={}),r[e.account_id]=e.timestamp},e}(),exports.activity_log=function(e){return new ActivityLog(e)},exports.replace_all=function(e,t,n){return e.split(t).join(n)},exports.remove_c_comments=function(e){for(var t,n;;){if(t=e.indexOf("/*"),t===-1)return e;if(n=e.indexOf("*/"),t>=n)return e;e=e.slice(0,t)+e.slice(n+2)}},exports.date_to_snapshot_format=function(e){var t,n;return null==e&&(e=0),"number"==typeof e&&(e=new Date(e)),n=e.toJSON(),n=n.replace("T","-").replace(/:/g,""),t=n.lastIndexOf("."),n.slice(0,t)},exports.stripe_date=function(e){return new Date(1e3*e).toLocaleDateString("lookup",{year:"numeric",month:"long",day:"numeric"})},exports.to_money=function(e){return e.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},exports.stripe_amount=function(e,t){var n;if("usd"!==t)throw Error("not-implemented currency "+t);return n="$"+exports.to_money(e/100),".00"===n.slice(n.length-3)&&(n=n.slice(0,n.length-3)),n},exports.capitalize=function(e){if(null!=e)return e.charAt(0).toUpperCase()+e.slice(1)},exports.is_array=is_array=function(e){return"[object Array]"===Object.prototype.toString.call(e)},exports.is_integer=Number.isInteger,null==exports.is_integer&&(exports.is_integer=function(e){return"number"==typeof e&&e%1===0}),exports.is_string=function(e){return"string"==typeof e},exports.is_object=is_object=function(e){return"[object Object]"===Object.prototype.toString.call(e)},exports.is_date=is_date=function(e){return e instanceof Date},exports.get_array_range=function(e,t,n){var r,i,o;return r=e.indexOf(t),i=e.indexOf(n),r>i&&(o=[i,r],r=o[0],i=o[1]),e.slice(r,+i+1||9e9)},exports.milliseconds_ago=function(e){return new Date(new Date-e)},exports.seconds_ago=function(e){return exports.milliseconds_ago(1e3*e)},exports.minutes_ago=function(e){return exports.seconds_ago(60*e)},exports.hours_ago=function(e){return exports.minutes_ago(60*e)},exports.days_ago=function(e){return exports.hours_ago(24*e)},exports.weeks_ago=function(e){return exports.days_ago(7*e)},exports.months_ago=function(e){return exports.days_ago(30.5*e)},"undefined"!=typeof window&&null!==window?(exports.server_time=function(){var e;return new Date(new Date-parseFloat(null!=(e=exports.get_local_storage("clock_skew"))?e:0))},exports.server_milliseconds_ago=function(e){var t;return new Date(new Date-e-parseFloat(null!=(t=exports.get_local_storage("clock_skew"))?t:0))},exports.server_seconds_ago=function(e){return exports.server_milliseconds_ago(1e3*e);
},exports.server_minutes_ago=function(e){return exports.server_seconds_ago(60*e)},exports.server_hours_ago=function(e){return exports.server_minutes_ago(60*e)},exports.server_days_ago=function(e){return exports.server_hours_ago(24*e)},exports.server_weeks_ago=function(e){return exports.server_days_ago(7*e)},exports.server_months_ago=function(e){return exports.server_days_ago(30.5*e)}):(exports.server_time=function(){return new Date},exports.server_milliseconds_ago=exports.milliseconds_ago,exports.server_seconds_ago=exports.seconds_ago,exports.server_minutes_ago=exports.minutes_ago,exports.server_hours_ago=exports.hours_ago,exports.server_days_ago=exports.days_ago,exports.server_weeks_ago=exports.weeks_ago,exports.server_months_ago=exports.months_ago),exports.milliseconds_before=function(e,t){return new Date((null!=t?t:new Date)-e)},exports.seconds_before=function(e,t){return exports.milliseconds_before(1e3*e,t)},exports.minutes_before=function(e,t){return exports.seconds_before(60*e,t)},exports.hours_before=function(e,t){return exports.minutes_before(60*e,t)},exports.days_before=function(e,t){return exports.hours_before(24*e,t)},exports.weeks_before=function(e,t){return exports.days_before(7*e,t)},exports.months_before=function(e,t){return exports.days_before(30.5*e,t)},exports.expire_time=function(e){if(e)return new Date(new Date-0+1e3*e)},exports.YEAR=(new Date).getFullYear(),exports.round1=round1=function(e){return Math.round(10*e)/10},exports.round2=round2=function(e){return Math.round(100*(e+1e-5))/100},exports.seconds2hms=seconds2hms=function(e){var t,n,r;return r=round2(e%60),n=Math.floor(e/60)%60,t=Math.floor(e/60/60),0===t&&0===n?r+"s":t>0?t+"h"+n+"m"+r+"s":n>0?n+"m"+r+"s":void 0},exports.parse_number_input=function(e,t,n){var r;if(null==t&&(t=!0),null==n&&(n=!1),e=(e+"").split("/"),1===e.length||2===e.length){if(2===e.length&&(r=parseFloat(e[0])/parseFloat(e[1])),1===e.length){if(isNaN(e)||""===(""+e).trim())return;r=parseFloat(e)}if(t&&(r=round2(r)),!(isNaN(r)||Infinity===r||r<0&&!n))return r}},exports.range=function(e,t){var n,r;return null==t?function(){n=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)n.push(t);return n}.apply(this):function(){r=[];for(var n=e;e<=t?n<t:n>t;e<=t?n++:n--)r.push(n);return r}.apply(this)},exports.map_sum=function(e,t){var n,r,i,o;if(null==e)return t;if(null==t)return e;n={};for(r in e)o=e[r],n[r]=o+(null!=(i=t[r])?i:0);for(r in t)o=t[r],null==n[r]&&(n[r]=o);return n},exports.map_diff=function(e,t){var n,r,i,o;if(null==t)return e;if(null==e){n={};for(r in t)o=t[r],n[r]=-o;return n}n={};for(r in e)o=e[r],n[r]=o-(null!=(i=t[r])?i:0);for(r in t)o=t[r],null==n[r]&&(n[r]=-o);return n},exports.map_limit=function(e,t){var n,r,i,o;if(n={},"number"==typeof t)for(r in e)o=e[r],n[r]=Math.min(o,t);else for(r in e)o=e[r],n[r]=Math.min(o,null!=(i=t[r])?i:Number.MAX_VALUE);return n},exports.sum=function(e,t){return null==t&&(t=0),underscore.reduce(e,function(e,t){return e+t},t)},exports.apply_function_to_map_values=apply_function_to_map_values=function(e,t){var n,r;for(n in e)r=e[n],e[n]=t(r);return e},exports.coerce_codomain_to_numbers=function(e){return apply_function_to_map_values(e,function(e){return"boolean"==typeof e?e?1:0:parseFloat(e)})},exports.is_zero_map=function(e){var t,n;if(null==e)return!0;for(t in e)if(n=e[t])return!1;return!0},exports.map_without_undefined=map_without_undefined=function(e){var t,n,r;if(is_array(e))return e;if(null!=e){n={};for(t in e)r=e[t],null!=r&&(n[t]=is_object(r)?map_without_undefined(r):r);return n}},exports.map_mutate_out_undefined=function(e){var t,n,r;n=[];for(t in e)r=e[t],null==r?n.push(delete e[t]):n.push(void 0);return n},exports.should_open_in_foreground=function(e){return"SyntheticMouseEvent"===e.constructor.name&&(e=e.nativeEvent),!(2===e.which||e.metaKey||e.altKey||e.ctrlKey)},exports.enumerate=function(e){var t,n,r,i,o;for(t=0,i=[],r=0,n=e.length;r<n;r++)o=e[r],i.push([t,o]),t+=1;return i},exports.escapeRegExp=escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},smileys_definition=[[":-)","😁"],[":-(","😞"],["<3","♡",null,"\\b"],[":shrug:","¯\\\\_(ツ)_/¯"],["o_o","סּ_סּ","\\b","\\b"],[":-p","😛",null,"\\b"],[">_<","😆"],["^^","😄","^","S"],["^^ ","😄 "],[" ^^"," 😄"],[";-)","😉"],["-_-","😔"],[":-\\","😏"],[":omg:","😱"]],smileys=[],u=0,len2=smileys_definition.length;u<len2;u++)smiley=smileys_definition[u],s=escapeRegExp(smiley[0]),null!=smiley[2]&&(s=smiley[2]+s),null!=smiley[3]&&(s+=smiley[3]),smileys.push([RegExp(s,"g"),smiley[1]]);exports.smiley=function(e){var t,n,r,i;for(e=exports.defaults(e,{s:exports.required,wrap:void 0}),s=e.s.replace(/&gt;/g,">").replace(/&lt;/g,"<"),i=0,t=smileys.length;i<t;i++)r=smileys[i],n=r[1],e.wrap&&(n=e.wrap[0]+n+e.wrap[1]),s=s.replace(r[0],n);return s},_=underscore,exports.smiley_strings=function(){return _.filter(_.map(smileys_definition,_.first),function(e){return!_.contains(["^^ "," ^^"],e)})},exports.to_human_list=function(e){return e=_.map(e,function(e){return""+e}),e.length>1?e.slice(0,-1).join(", ")+" and "+e.slice(-1):1===e.length?""+e[0]:""},exports.emoticons=exports.to_human_list(exports.smiley_strings()),exports.history_path=function(e){var t;return t=exports.path_split(e),t.head?t.head+"/."+t.tail+".sage-history":"."+t.tail+".sage-history"},_done=function(){var e,t,n,r;return n=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[],r=new Date,t=function(){var e;if(e=1<=arguments.length?slice.call(arguments,0):[],1!==n)try{e=[JSON.stringify(e,null,n)]}catch(e){}return console.log.apply(console,["*** TOTALLY DONE! ("+(new Date-r)/1e3+"s since start) "].concat(slice.call(e)))},e.length>0?t.apply(null,e):t},exports.done=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],_done.apply(null,[0].concat(slice.call(e)))},exports.done1=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],_done.apply(null,[1].concat(slice.call(e)))},exports.done2=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],_done.apply(null,[2].concat(slice.call(e)))},smc_logger_timestamp=smc_logger_timestamp_last=smc_start_time=(new Date).getTime()/1e3,exports.get_start_time_ts=function(){return new Date(1e3*smc_start_time)},exports.get_uptime=function(){return seconds2hms((new Date).getTime()/1e3-smc_start_time)},exports.log=function(){var e,t,n,r,i,o;return smc_logger_timestamp=(new Date).getTime()/1e3,o=seconds2hms(smc_logger_timestamp-smc_start_time),t=seconds2hms(smc_logger_timestamp-smc_logger_timestamp_last),i=Array.prototype.slice.call(arguments),n=i[0],e=2<=i.length?slice.call(i,1):[],r="["+o+" Δ "+t+"]",_.isString(n)?(r=r+" "+n,console.log_original.apply(console,[r].concat(slice.call(e)))):console.log_original.apply(console,[r,n].concat(slice.call(e))),smc_logger_timestamp_last=smc_logger_timestamp},exports.wrap_log=function(){if(!exports.RUNNING_IN_NODE&&"undefined"!=typeof window&&null!==window)return window.console.log_original=window.console.log,window.console.log=exports.log},exports.this_fails=function(){return exports.op_to_function("noop")},exports.console_init_filename=function(e){var t;return t=exports.path_split(e),t.tail="."+t.tail+".init",""===t.head?t.tail:[t.head,t.tail].join("/")},exports.has_null_leaf=has_null_leaf=function(e){var t,n;for(t in e)if(n=e[t],null===n||"object"==typeof n&&has_null_leaf(n))return!0;return!1},exports.peer_grading=function(e,t){var n,r,i,o,s,a,l,c,u;if(null==t&&(t=2),t<=0)throw"Number of peer assigments must be at least 1";if(e.length<=t)throw"You need at least "+(t+1)+" students";for(r={},e.forEach(function(e){return r[e]=[]}),l=underscore.shuffle(e),n=e.length,i=u=0,a=n;0<=a?u<a:u>a;i=0<=a?++u:--u)r[l[i]]=function(){var e,r,s;for(s=[],o=e=1,r=t;1<=r?e<=r:e>=r;o=1<=r?++e:--e)s.push(l[(i+o)%n]);return s}();for(s in r)c=r[s],r[s]=underscore.sortBy(c,function(t){return e.indexOf(t)});return r},exports.peer_grading_demo=function(e,t){var n,r,i,o,a,l;null==e&&(e=10),null==t&&(t=2),r=exports.peer_grading,a=function(){o=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)o.push(t);return o}.apply(this),a=function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)s=a[e],n.push("S-"+s);return n}(),i=r(a,t=t),console.log(e+" students graded by "+t+" peers");for(n in i)l=i[n],console.log(n+" ←→ "+l);return i},exports.ticket_id_to_ticket_url=function(e){return"https://sagemathcloud.zendesk.com/requests/"+e},exports.transform_get_url=function(e){var t,n,r,i,o,s;if(t={"http://trac.sagemath.org/attachment/ticket/":"http://trac.sagemath.org/raw-attachment/ticket/","http://nbviewer.jupyter.org/url/":"http://","http://nbviewer.jupyter.org/urls/":"https://"},exports.startswith(e,"https://github.com/")&&(e.indexOf("/blob/")!==-1?e=e.replace("https://github.com","https://raw.githubusercontent.com").replace("/blob/","/"):3===(null!=(s=e.split("://")[1])?s.split("/").length:void 0)&&(e+=".git")),exports.startswith(e,"git@github.com:"))o="git",r=["clone",e];else if(".git"===e.slice(e.length-4))o="git",r=["clone",e];else{for(n in t)i=t[n],e=e.replace(n,i);exports.startswith(e,"http://nbviewer.jupyter.org/github/")&&(e=e.replace("http://nbviewer.jupyter.org/github/","https://raw.githubusercontent.com/"),e=e.replace("/blob/","/")),o="wget",r=[e]}return{command:o,args:r}},exports.ensure_bound=function(e,t,n){return e<t?t:e>n?n:e},exports.path_to_tab=function(e){return"editor-"+e},exports.tab_to_path=function(e){if(null!=e&&"editor-"===e.substring(0,7))return e.substring(7)},exports.suggest_duplicate_filename=function(e){var t,n,r,i,o,s,a,l,c,u;return c=exports.separate_file_extension(e),e=c.name,n=c.ext,i=e.lastIndexOf("-"),o=e.lastIndexOf("_"),r=exports.max([i,o]),s=null,r>0&&(u=[e.slice(0,r+1),e.slice(r+1)],l=u[0],t=u[1],a=parseInt(t),Number.isNaN(a)||(s=""+l+(a+1))),null==s&&(s=e+"-1"),(null!=n?n.length:void 0)>0&&(s+="."+n),s},exports.set_local_storage=function(e,t){var n;try{return localStorage[e]=t}catch(e){return n=e,console.warn("localStorage set error -- "+n)}},exports.get_local_storage=function(e){var t;try{return localStorage[e]}catch(e){return t=e,console.warn("localStorage get error -- "+t)}},exports.delete_local_storage=function(e){var t;try{return delete localStorage[e]}catch(e){return t=e,console.warn("localStorage delete error -- "+t)}},exports.has_local_storage=function(){var e,t;try{return e="__smc_test__",localStorage[e]="x",delete localStorage[e],!0}catch(e){return t=e,!1}},exports.local_storage_length=function(){var e;try{return localStorage.length}catch(t){return e=t,0}},exports.top_sort=function(e,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y;null==t&&(t={omit_sources:!1}),h=t.omit_sources,v=[],d=0,o={};for(c in e){for(m=e[c],null==o[c]&&(o[c]={}),u=o[c],u.name=c,null==u.children&&(u.children=[]),u.parent_set={},y=0,a=m.length;y<a;y++)f=m[y],u.parent_set[f]=!0,null==o[f]&&(o[f]={}),null==(n=o[f]).children&&(n.children=[]),o[f].children.push(u);0===m.length?v.push(c):d+=m.length}for(_=[],p=v.length;v.length>0;)for(i=v.shift(),_.push(i),g=o[i].children,s=0,l=g.length;s<l;s++)r=g[s],delete r.parent_set[i],d-=1,0===exports.len(r.parent_set)&&v.push(r.name);if(0===p)throw Error("No sources were detected");if(0!==d)throw"undefined"!=typeof window&&null!==window&&(window._DAG=e),Error("Store has a cycle in its computed values");return h?_.slice(p):_},exports.create_dependency_graph=function(e){return function(e){var t,n,r,i;t={};for(n in e)i=e[n],t[n]=null!=(r=i.dependency_names)?r:[];return t}}(this),exports.bind_objects=function(e,t){return underscore.map(t,function(t){return function(t){return underscore.mapObject(t,function(t){var n,r;return"function"==typeof t?(r=""+t,n=t.bind(e),n.toString=function(){return r},Object.assign(n,t),n):t})}}(this))},exports.remove_whitespace=function(e){return null!=e?e.replace(/\s/g,""):void 0},exports.is_whitespace=function(e){return 0===(null!=e?e.trim().length:void 0)},exports.lstrip=function(e){return null!=e?e.replace(/^\s*/g,""):void 0},exports.rstrip=function(e){return null!=e?e.replace(/\s*$/g,""):void 0},exports.operators=["!=","<>","<=",">=","==","<",">","="],exports.op_to_function=function(e){switch(e){case"=":case"==":return function(e,t){return e===t};case"!=":case"<>":return function(e,t){return e!==t};case"<=":return function(e,t){return e<=t};case">=":return function(e,t){return e>=t};case"<":return function(e,t){return e<t};case">":return function(e,t){return e>t};default:throw Error("operator must be one of '"+JSON.stringify(exports.operators)+"'")}},exports.obj_key_subs=function(e,t){var n,r,i;r=[];for(n in e)i=e[n],s=t[n],null!=s&&(delete e[n],e[s]=i),"object"==typeof i?r.push(exports.obj_key_subs(i,t)):"string"==typeof i?(s=t[i],null!=s?r.push(e[n]=s):r.push(void 0)):r.push(void 0);return r},exports.sanitize_html_attributes=function($,e){return $.each(e.attributes,function(){var t,n;if(t=this.name,n=this.value,0===(null!=t?t.indexOf("on"):void 0)||0===(null!=n?n.indexOf("javascript:"):void 0))return $(e).removeAttr(t)})}}).call(exports,__webpack_require__(84))},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[n.length-1];return"function"==typeof i?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function i(e,t){return null==e.bsClass?(0,_.default)(!1):void 0,e.bsClass+(t?"-"+t:"")}function o(e){var t,n=(t={},t[i(e)]=!0,t);if(e.bsSize){var r=y.SIZE_MAP[e.bsSize]||e.bsSize;n[i(e,r)]=!0}return e.bsStyle&&(n[i(e,e.bsStyle)]=!0),n}function s(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function a(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function l(e){var t={};return(0,p.default)(e).forEach(function(e){var n=e[0],r=e[1];a(n)||(t[n]=r)}),[s(e),t]}function c(e,t){var n={};t.forEach(function(e){n[e]=!0});var r={};return(0,p.default)(e).forEach(function(e){var t=e[0],i=e[1];a(t)||n[t]||(r[t]=i)}),[s(e),r]}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b(n,e)}exports.__esModule=!0,exports._curry=exports.bsSizes=exports.bsStyles=exports.bsClass=void 0;var d=t(209),p=n(d),h=t(7),f=n(h);exports.prefix=i,exports.getClassSet=o,exports.splitBsProps=l,exports.splitBsPropsAndOmit=c,exports.addStyle=u;var m=t(58),_=n(m),g=t(11),v=n(g),y=t(34),b=(exports.bsClass=r(function(e,t){var n=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return n.bsClass=v.default.string,r.bsClass=e,t}),exports.bsStyles=r(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.STYLES||[],i=n.propTypes||{};e.forEach(function(e){r.indexOf(e)===-1&&r.push(e)});var o=v.default.oneOf(r);if(n.STYLES=o._values=r,n.propTypes=(0,f.default)({},i,{bsStyle:o}),void 0!==t){var s=n.defaultProps||(n.defaultProps={});s.bsStyle=t}return n}));exports.bsSizes=r(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.SIZES||[],i=n.propTypes||{};e.forEach(function(e){r.indexOf(e)===-1&&r.push(e)});var o=[];r.forEach(function(e){var t=y.SIZE_MAP[e];t&&t!==e&&o.push(t),o.push(e)});var s=v.default.oneOf(o);return s._values=o,n.SIZES=r,n.propTypes=(0,f.default)({},i,{bsSize:s}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n}),exports._curry=r},function(e,exports,t){e.exports=t(603)()},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q=function(e,t){return function(){return e.apply(t,arguments)}},F=function(e,t){function n(){this.constructor=e}for(var r in t)U.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},U={}.hasOwnProperty,W=[].slice;o=t(63).EventEmitter,m=t(31),S=t(26),B=t(23),a=t(1),D=t(194),b=t(778).createSelector,L=t(324),s=L.Provider,v=L.connect,j=t(9),x=j.defaults,R=j.required,exports.COLOR={BG_RED:"#d9534f",FG_RED:"#c9302c",FG_BLUE:"#428bca"},M=void 0,exports.register_project_store=function(e){return M=e},d=function(){function e(e,n){this.name=e,this.redux=n,this.options=q(this.options,this),this.set=q(this.set,this),"undefined"!=typeof Primus&&null!==Primus&&(this._table=t(19).salvus_client.sync_table(this.query(),this.options()),null!=this._change&&this._table.on("change",function(e){return function(t){return e._change(e._table,t)}}(this)))}return e.prototype.set=function(e,t,n){return this._table.set(e,t,n)},e.prototype.options=function(){},e}(),n=function(){function e(e,t){if(this.name=e,this.redux=t,this.destroy=q(this.destroy,this),this.setState=q(this.setState,this),null==this.name)throw Error("@name must be defined");if(null==this.redux)throw Error("@redux must be defined")}return e.prototype.setState=function(e,t){var n;if(null!=t)throw Error("setState takes exactly one argument, which must be an object");this.redux._set_state((n={},n[""+this.name]=e,n))},e.prototype.destroy=function(){return this.redux.removeActions(this.name)},e}(),c=function(e){function t(e,t,n){var r,i,o,s,a,l,c;this.name=e,this.redux=t,this.wait=q(this.wait,this),this.getIn=q(this.getIn,this),this.get=q(this.get,this),this.getState=q(this.getState,this),this.destroy=q(this.destroy,this),this._handle_store_change=q(this._handle_store_change,this),this.setMaxListeners(150),null!=n&&(o=C(n),s=E(n),Object.assign(this,n),l=j.bind_objects(this,[s,o]),i=l[0],r=l[1],c=A(i,r),a={},B.map(c,function(e){return function(e,t){return a[t]={get:function(){return e(this.getState())},enumerable:!0}}}(this)),Object.defineProperties(this,a))}return F(t,e),t.prototype._handle_store_change=function(e){if(e!==this._last_state)return this._last_state=e,this.emit("change",e)},t.prototype.destroy=function(){return this.redux.removeStore(this.name)},t.prototype.getState=function(){return this.redux._redux_store.getState().get(this.name)},t.prototype.get=function(e){return this.redux._redux_store.getState().getIn([this.name,e])},t.prototype.getIn=function(){var e;return e=1<=arguments.length?W.call(arguments,0):[],this.redux._redux_store.getState().getIn([this.name].concat(e[0]))},t.prototype.wait=function(e){var t,n,r,i;return e=x(e,{until:R,throttle_ms:void 0,timeout:30,cb:R}),null!=e.throttle_ms&&(e.until=B.throttle(e.until,e.throttle_ms)),(i=e.until(this))?void e.cb(void 0,i):(e.timeout&&(r=function(n){return function(){return n.removeListener("change",t),e.cb("timeout")}}(this),n=setTimeout(r,1e3*e.timeout)),t=function(r){return function(){if(i=e.until(r))return n&&clearTimeout(n),r.removeListener("change",t),m.nextTick(function(){return e.cb(void 0,i)})}}(this),this.on("change",t))},t}(o),C=function(e){var t,n,r,i,o,s;r={},n=e.reduxState;for(i in n){s=n[i];for(t in s)o=s[t],r[t]=function(){var e,n;return e=this.redux.getStore(i),null!=e.__converted?n=e[prop]:(n=e.get(t),null==n&&(n="function"==typeof e[prop]?e[prop]():void 0)),n}}return delete e.reduxState,r},E=function(e){var t;return t={},B.map(e.stateTypes,function(n){return function(n,r){if(e[r])return t[r]=e[r],delete e[r];if(n.is_computed)throw"Computed value '"+r+"' in store '"+e.name+"' was declared but no definition was found.";return t[r]=function(){return this.get(r)}}}(this)),delete e.stateTypes,t},A=function(e,t){var n,r,i,o,s,a,l,c;for(r=Object.assign(e,t),n=j.create_dependency_graph(r),l=j.top_sort(n,{omit_sources:!0}),s=0,a=l.length;s<a;s++)o=l[s],c=b(function(){var e,t,s,a;for(s=n[o],a=[],e=0,t=s.length;e<t;e++)i=s[e],a.push(r[i]);return a}(),e[o]),e[o]=c,r[o]=c;return e},k=function(){var e;return e=1<=arguments.length?W.call(arguments,0):[],function(t){return function(t){return t.dependency_names=e,t}}(this)},h=function(e){var t;return t={type:"SET_STATE",change:S.fromJS(e)}},p=function(e){var t;return t={type:"REMOVE_STORE",name:e}},I=function(e,t){if(null==e)return S.Map();switch(t.type){case"SET_STATE":return t.change.map(function(t,n){var r,i,o;return r=null!=(i=null!=(o=e.get(n))?o.merge(t):void 0)?i:t,e=e.set(n,r)}),e;case"REMOVE_STORE":return e.delete(t.name);default:return e}},r=function(){function e(){this.removeProjectReferences=q(this.removeProjectReferences,this),this.getProjectTable=q(this.getProjectTable,this),this.getProjectActions=q(this.getProjectActions,this),this.getProjectStore=q(this.getProjectStore,this),this.getTable=q(this.getTable,this),this.removeActions=q(this.removeActions,this),this.removeStore=q(this.removeStore,this),this.removeTable=q(this.removeTable,this),this.createTable=q(this.createTable,this),this.getStore=q(this.getStore,this),this.createStore=q(this.createStore,this),this.getActions=q(this.getActions,this),this.createActions=q(this.createActions,this),this._set_state=q(this._set_state,this),this.log_states=q(this.log_states,this),this.show_state=q(this.show_state,this),this._redux_store_change=q(this._redux_store_change,this),this._tables={},this._redux_store=D.createStore(I),this._stores={},this._actions={},this._redux_store.subscribe(this._redux_store_change)}return e.prototype._redux_store_change=function(){var e,t,n,r,i,o;i=this._redux_store.getState(),null==this._last_state&&(this._last_state=S.Map()),t=this._stores,n=[];for(e in t)o=t[e],r=i.get(e),this._last_state.get(e)!==r?n.push(o._handle_store_change(r)):n.push(void 0);return n},e.prototype.show_state=function(){return console.log(JSON.stringify(this._redux_store.getState().toJS()))},e.prototype.log_states=function(){return this._redux_store.subscribe(this.show_state)},e.prototype._set_state=function(e){return this._redux_store.dispatch(h(e))},e.prototype.createActions=function(e,t){var r;if(null==t&&(t=n),null==e)throw Error("name must be a string");return null!=(r=this._actions)[e]?r[e]:r[e]=new t(e,this)},e.prototype.getActions=function(e){if(null==e)throw Error("name must be a string or an object with a project_id attribute, but is undefined");if("string"==typeof e)return this._actions[e];if(null==e.project_id)throw Error("Object must have project_id attribute");return null!=M?M.getActions(e.project_id,this):void 0},e.prototype.createStore=function(e,t,n){var r,i,o,s,a,l;if(null==t&&(t=c),null==n&&(n=void 0),"string"==typeof e){if(o=e,null==o)throw Error("name must be a string");null==n&&"function"!=typeof t&&(n=t,t=c),i=this._stores[o],null==i&&(i=this._stores[o]=new t(o,this),r=S.Map(i),r=r.delete("redux"),this._set_state((s={},s[""+o]=r,s)),null!=n&&this._set_state((a={},a[""+o]=n,a)))}else{if(null==e.name)throw Error("name must be a string");n="function"==typeof e.getInitialState?e.getInitialState():void 0,delete e.getInitialState,i=this._stores[e.name],null==i&&(i=this._stores[e.name]=new c(e.name,this,e),i.__converted=!0),null!=n&&this._set_state((l={},l[""+e.name]=n,l)),"function"==typeof i._init&&i._init()}return i},e.prototype.getStore=function(e){if(null==e)throw Error("name must be a string");return this._stores[e]},e.prototype.createTable=function(e,t){var n,r;if(null==t&&(t=d),null==e)throw Error("name must be a string");if(r=this._tables,null!=r[e])throw Error("createTable: table "+e+" already exists");if(null==t)throw Error("createTable: second argument must be a class that extends Table");if(n=new t(e,this),!n instanceof d)throw Error("createTable: takes a name and Table class (not object)");return r[e]=n},e.prototype.removeTable=function(e){var t;if(null==e)throw Error("name must be a string");if(null!=this._tables[e])return null!=(t=this._tables[e]._table)&&t.close(),delete this._tables[e]},e.prototype.removeStore=function(e){var t;if(null==e)throw Error("name must be a string");if(null!=this._stores[e])return t=this._stores[e],delete this._stores[e],t.removeAllListeners(),this._redux_store.dispatch(p(e))},e.prototype.removeActions=function(e){var t;if(null==e)throw Error("name must be a string");if(null!=this._actions[e])return t=this._actions[e],delete this._actions[e],t.destroy()},e.prototype.getTable=function(e){if(null==e)throw Error("name must be a string");if(null==this._tables[e])throw Error("getTable: table "+e+" not registered");return this._tables[e]},e.prototype.getProjectStore=function(e){return j.is_valid_uuid_string(e)||(console.trace(),console.warn("getProjectStore: INVALID project_id -- "+e)),null!=M?M.getStore(e,this):void 0},e.prototype.getProjectActions=function(e){return j.is_valid_uuid_string(e)||(console.trace(),console.warn("getProjectActions: INVALID project_id -- "+e)),null!=M?M.getActions(e,this):void 0},e.prototype.getProjectTable=function(e,t){return j.is_valid_uuid_string(e)||(console.trace(),console.warn("getProjectTable: INVALID project_id -- "+e)),null!=M?M.getTable(e,t,this):void 0},e.prototype.removeProjectReferences=function(e){return j.is_valid_uuid_string(e)||(console.trace(),console.warn("getProjectReferences: INVALID project_id -- "+e)),null!=M?M.deleteStoreActionsTable(e,this):void 0},e}(),N=new r,_=function(e,t,n,r,i){var o;return null==n&&(n="ANONYMOUS"),null==e[t]||null!=e[t].toJS?null:(o=typeof e[t],Error("Invalid prop '"+t+"' of"+(" type "+o+" supplied to")+(" '"+n+"', expected an immutable collection or frozen object.")))},f=function(e){var t,n;return n=function(t,n,r,i,o){return null==i&&(i="ANONYMOUS"),null==n[r]&&t?Error("Required prop `"+r+"` was not specified in '"+i+"'"):e(n,r,i,o)},t=n.bind(null,!1),t.isRequired=n.bind(null,!0),t.isRequired.category="IMMUTABLE",t.category="IMMUTABLE",t},w=function(e){var n,r;return r=function(n,r,i,o){var s;return null==o&&(o="ANONYMOUS"),n&&null!=r[i]?(s=n,null==r[i].toJS?Error("NOT EVEN IMMUTABLE, wanted immutable."+s+" "+r+", "+i):t(26)[""+s]["is"+s](r[i])?null:Error("Component '"+o+"'"+(" expected "+i+" to be an immutable."+s)+(" but was supplied "+r[i]))):e(r,i,o,location)},n=f(r.bind(null,void 0)),n.Map=f(r.bind(null,"Map")),n.List=f(r.bind(null,"List")),n.Set=f(r.bind(null,"Set")),n.Stack=f(r.bind(null,"Stack")),n.category="IMMUTABLE",n},P={},P.immutable=w(_),Object.assign(P,a.PropTypes),g=function(e){return function(e){var t;return t=e.bind({}),t.is_computed=!0,t}}(this),y=function(e){return function(e){var t;return t=function(t){var n,r,i,o,s,a;if(i={},null==t)return i;for(o in e){if(n=e[o],"undefined"===o)throw console.warn("spec = ",e),Error("store_name of spec *must* be defined");for(r in n)s=n[r],a=null!=N.getStore(o).__converted?N.getStore(o)[r]:t.getIn([o,r]),"IMMUTABLE"===s.category?i[r]=a:i[r]=null!=(null!=a?a.toJS:void 0)?a.toJS():a}return i},v(t)}}(this),O=function(e){var t,n,r,i,o,s,l,c,u;if("function"==typeof e)return n=a.createClass({render:function(){var t,n,r;if(null==this.cache&&(this.cache={}),n=e(this.props),r=j.keys(n.reduxProps).sort().join(""),null!=n.actions)throw Error("You may not define a method named actions in an rclass. This is used to expose redux actions");return n.actions=N.getActions,null==(t=this.cache)[r]&&(t[r]=T(n)),a.createElement(this.cache[r],this.props,this.props.children)}});if(null!=e.reduxProps){o=null!=(s=e.propTypes)?s:{},l=e.reduxProps;for(c in l){r=l[c];for(i in r)u=r[i],u!==P.immutable?o[i]=u:o[i]=P.object}e.propTypes=o}if(null!=e.actions&&e.actions!==N.getActions)throw Error("You may not define a method named actions in an rclass. This is used to expose redux actions");return e.actions=N.getActions,t=a.createClass(e),null!=e.reduxProps&&(t=y(e.reduxProps)(t)),t},i=!1,u=!1,i?(z={},T=function(e){return e._render=e.render,e.render=function(){var t;return z[e.displayName]=(null!=(t=z[e.displayName])?t:0)+1,this._render()},O(e)},window.get_render_count=function(){var e,t,n;t=0;for(e in z)n=z[e],t+=n;return{counts:z,total:t}},window.reset_render_count=function(){return z={}}):T=u?function(e){return function(e){var t,n,r;return n=performance.now(),t=O(e),r=performance.now(),r-n>1&&console.log(t.displayName,"took",r-n,"ms of time"),t}}(this):O,l=a.createClass({propTypes:{redux:a.PropTypes.object.isRequired},render:function(){return a.createElement(s,{store:this.props.redux._redux_store},this.props.children)}}),exports.is_redux=function(e){return e instanceof r},exports.is_redux_actions=function(e){return e instanceof n},exports.redux_name=function(e,t){return"editor-"+e+"-"+t},exports.rclass=T,exports.rtypes=P,exports.computed=g,exports.depends=k,exports.React=a,exports.Redux=l,exports.redux=N,exports.Actions=n,exports.Table=d,exports.Store=c,exports.ReactDOM=t(29)},function(e,exports){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAIklEQVQ4y2MsZ1jFxUBFwMRAZTBq4KiBowaOGjhq4FAxEADmzAFTki6ipQAAAABJRU5ErkJggg=="},function(e,exports,t){"use strict";function n(e,t,n,i,o,s,a,l){if(r(t),!e){var c;if(void 0===t)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,s,a,l],d=0;c=Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};e.exports=n},function(e,exports){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,exports,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(l(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:s}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],s=i[1],a=i[2],l=i[3],c={css:s,media:a,sourceMap:l};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function i(e,t){var n=m(),r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function a(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var n,r,i;if(t.singleton){var l=g++;n=_||(_=s(t)),r=c.bind(null,n,l,!1),i=c.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(t),r=d.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=u.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function u(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},f=h(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,g=0,v=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=f()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],s=0;s<i.length;s++){var a=i[s],l=p[a.id];l.refs--,o.push(l)}if(e){var c=r(e);n(c,t)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){
for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,_e,ge,ve,ye,be,we,xe,ke,Ae,Ce,Ee,Se,je;ne=t(31),ye=t(12),q=ye.React,F=ye.ReactDOM,ge=ye.rclass,Ae=ye.rtypes,pe=ye.is_redux,he=ye.is_redux_actions,ve=ye.redux,be=t(22),n=be.Alert,r=be.Button,i=be.ButtonToolbar,a=be.Checkbox,c=be.Col,b=be.FormControl,w=be.FormGroup,p=be.ControlLabel,E=be.InputGroup,I=be.OverlayTrigger,P=be.Popover,V=be.Tooltip,U=be.Row,X=be.Well,we=t(48),k=we.HelpEmailLink,K=we.SiteName,d=we.CompanyName,B=we.PricingUrl,R=we.PolicyTOSPageUrl,L=we.PolicyIndexPageUrl,z=we.PolicyPricingPageUrl,Ee=1494252317,re="2017-05-12T12:44:12.962Z",Ce="54fddee03658407e336dc864f6f91d8d990ed373",u=t(327),me=t(9),ce=t(26),je=t(23),fe=t(86),oe=me.defaults,ke=me.required,exports.UNIT=Q=15,exports.BS_BLUE_BGRND="rgb(66, 139, 202)",exports.SAGE_LOGO_COLOR=exports.BS_BLUE_BGRND,de=function(e,t){return"object"==typeof e||"object"==typeof t?pe(e)&&pe(t)||he(e)&&he(t)?e===t:ce.Iterable.isIterable(e)&&ce.Iterable.isIterable(t)?ce.is(e,t):!(null!=e&&null==t||null==e&&null!=t)&&(console.warn("Using mutable object in ImmutablePureRenderMixin:",e,t),!1):e===t},ue=function(e,t){var n,r,i,o,s;if(ce.is(e,t))return!0;if(i=me.keys(e),o=me.keys(t),i.length!==o.length)return!1;for(n=0,s=i.length;n<s;n++)if(r=i[n],!t.hasOwnProperty(r)||!de(e[r],t[r]))return!1;return!0},exports.ImmutablePureRenderMixin=C={shouldComponentUpdate:function(e,t){return!ue(this.props,e)||!ue(this.state,t)}},exports.SetIntervalMixin={componentWillMount:function(){return this.intervals=[]},setInterval:function(e,t){return this.intervals.push(setInterval(e,t))},componentWillUnmount:function(){return this.intervals.forEach(clearInterval)}},exports.Space=G=function(){return q.createElement("span",null," ")},exports.Icon=A=ge({displayName:"Icon",propTypes:{name:Ae.string,size:Ae.oneOf(["lg","2x","3x","4x","5x"]),rotate:Ae.oneOf(["45","90","135","180","225","270","315"]),flip:Ae.oneOf(["horizontal","vertical"]),spin:Ae.bool,pulse:Ae.bool,fixedWidth:Ae.bool,stack:Ae.oneOf(["1x","2x"]),inverse:Ae.bool,className:Ae.string,style:Ae.object,onClick:Ae.func,onMouseOver:Ae.func,onMouseOut:Ae.func},getDefaultProps:function(){return{name:"square-o",onClick:function(){}}},render:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p;return a=this.props,o=a.name,c=a.size,l=a.rotate,r=a.flip,u=a.spin,s=a.pulse,n=a.fixedWidth,d=a.stack,i=a.inverse,e=a.className,p=a.style,t="fa-"===o.slice(0,3)?"fa "+o:"fa fa-"+o,c&&(t+=" fa-"+c),l&&(t+=" fa-rotate-"+l),r&&(t+=" fa-flip-"+r),n&&(t+=" fa-fw"),u&&(t+=" fa-spin"),s&&(t+=" fa-pulse"),d&&(t+=" fa-stack-"+d),i&&(t+=" fa-inverse"),e&&(t+=" "+e),q.createElement("i",{style:p,className:t,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,onClick:this.props.onClick},this.props.children)}}),exports.Octicon=ge({displayName:"Octicon",propTypes:{name:Ae.string.isRequired,mega:Ae.bool,spin:Ae.bool},getDefaultProps:function(){return{name:"flame",mega:!1,spin:!1}},render:function(){var e;return e=["octicon","octicon-"+this.props.name],this.props.spin&&e.push("spin-octicon"),this.props.mega&&e.push("mega-octicon"),q.createElement("span",{className:e.join(" ")})}}),exports.Loading=j=ge({displayName:"Misc-Loading",propTypes:{style:Ae.object},render:function(){return q.createElement("span",{style:this.props.style},q.createElement(A,{name:"circle-o-notch",spin:!0})," Loading...")}}),exports.Saving=W=ge({displayName:"Misc-Saving",render:function(){return q.createElement("span",null,q.createElement(A,{name:"circle-o-notch",spin:!0})," Saving...")}}),ie={float:"right",marginLeft:"5px"},exports.CloseX=l=ge({displayName:"Misc-CloseX",propTypes:{on_close:Ae.func.isRequired,style:Ae.object},render:function(){return q.createElement("a",{href:"",style:ie,onClick:function(e){return function(t){return t.preventDefault(),e.props.on_close()}}(this)},q.createElement(A,{style:this.props.style,name:"times"}))}}),se={marginRight:"1ex",whiteSpace:"pre-line",maxWidth:"80ex"},exports.ErrorDisplay=y=ge({displayName:"Misc-ErrorDisplay",propTypes:{error:Ae.oneOfType([Ae.string,Ae.object]),error_component:Ae.any,title:Ae.string,style:Ae.object,bsStyle:Ae.string,onClose:Ae.func},render_close_button:function(){return q.createElement(l,{on_close:this.props.onClose,style:{fontSize:"11pt"}})},render_title:function(){return q.createElement("h4",null,this.props.title)},render:function(){var e,t,r,i;return null!=this.props.style?(i=me.copy(se),me.merge(i,this.props.style)):i=se,t=null!=this.props.error?"string"==typeof this.props.error?this.props.error:me.to_json(this.props.error):this.props.error_component,e=null!=(r=this.props.bsStyle)?r:"danger",q.createElement(n,{bsStyle:e,style:i},null!=this.props.onClose?this.render_close_button():void 0,this.props.title?this.render_title():void 0,t)}}),exports.Footer=ge({displayName:"Footer",mixins:[C],render:function(){return q.createElement("footer",{style:{fontSize:"small",color:"gray",textAlign:"center",padding:2*Q+"px 0"}},q.createElement("hr",null),q.createElement(G,null),q.createElement(K,null)," by ",q.createElement(d,null)," "," · "," ",q.createElement("a",{target:"_blank",href:L},"Policies")," "," · "," ",q.createElement("a",{target:"_blank",href:R},"Terms of Service")," "," · "," ",q.createElement(k,null)," "," · "," ",q.createElement("span",{title:"Version "+Ee+" @ "+re+" | "+Ce.slice(0,9)},"© ",me.YEAR))}}),exports.MessageDisplay=T=ge({displayName:"Misc-MessageDisplay",propTypes:{message:Ae.string,onClose:Ae.func},render:function(){return q.createElement(U,{style:{backgroundColor:"white",margin:"1ex",padding:"1ex",border:"1px solid lightgray",dropShadow:"3px 3px 3px lightgray",borderRadius:"3px"}},q.createElement(c,{md:8,xs:8},q.createElement("span",{style:{color:"gray",marginRight:"1ex"}},this.props.message)),q.createElement(c,{md:4,xs:4},q.createElement(r,{className:"pull-right",onClick:this.props.onClose,bsSize:"small"},q.createElement(A,{name:"times"}))))}}),exports.SelectorInput=H=ge({displayName:"Misc-SelectorInput",propTypes:{selected:Ae.string,on_change:Ae.func,disabled:Ae.bool},render_options:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f;if(me.is_array(this.props.options)){if(this.props.options.length>0&&"string"==typeof this.props.options[0]){for(t=0,p=[],l=this.props.options,n=0,i=l.length;n<i;n++)f=l[n],p.push(q.createElement("option",{key:t,value:f},f)),t+=1;return p}for(c=this.props.options,u=[],r=0,o=c.length;r<o;r++)f=c[r],u.push(q.createElement("option",{key:f.value,value:f.value},f.display));return u}for(p=me.keys(this.props.options),p.sort(),d=[],a=0,s=p.length;a<s;a++)h=p[a],e=this.props.options[h],d.push(q.createElement("option",{key:h,value:h},e));return d},render:function(){return q.createElement(w,null,q.createElement(b,{value:this.props.selected,componentClass:"select",ref:"input",onChange:function(e){return function(){var t;return"function"==typeof(t=e.props).on_change?t.on_change(F.findDOMNode(e.refs.input).value):void 0}}(this),disabled:this.props.disabled},this.render_options()))}}),exports.TextInput=ge({displayName:"Misc-TextInput",propTypes:{text:Ae.string.isRequired,on_change:Ae.func.isRequired,type:Ae.string,rows:Ae.number},componentWillReceiveProps:function(e){if(this.props.text!==e.text)return this.setState({text:e.text})},getInitialState:function(){return{text:this.props.text}},saveChange:function(e){return e.preventDefault(),this.props.on_change(this.state.text)},render_save_button:function(){if(null!=this.state.text&&this.state.text!==this.props.text)return q.createElement(r,{style:{marginBottom:"15px"},bsStyle:"success",onClick:this.saveChange},q.createElement(A,{name:"save"})," Save")},render_input:function(){var e;return q.createElement(w,null,q.createElement(b,{type:null!=(e=this.props.type)?e:"text",ref:"input",rows:this.props.rows,componentClass:"textarea"===this.props.type?"textarea":"input",value:null!=this.state.text?this.state.text:this.props.text,onChange:function(e){return function(){return e.setState({text:F.findDOMNode(e.refs.input).value})}}(this)}))},render:function(){return q.createElement("form",{onSubmit:this.saveChange},this.render_input(),this.render_save_button())}}),exports.NumberInput=N=ge({displayName:"Misc-NumberInput",propTypes:{number:Ae.number.isRequired,min:Ae.number.isRequired,max:Ae.number.isRequired,on_change:Ae.func.isRequired,unit:Ae.string,disabled:Ae.bool},componentWillReceiveProps:function(e){if(this.props.number!==e.number)return this.setState({number:e.number})},getInitialState:function(){return{number:this.props.number}},saveChange:function(e){var t;return null!=e&&e.preventDefault(),t=parseInt(this.state.number),""+t=="NaN"&&(t=this.props.number),t<this.props.min?t=this.props.min:t>this.props.max&&(t=this.props.max),this.setState({number:t}),this.props.on_change(t)},render_save_button:function(){if(null!=this.state.number&&this.state.number!==this.props.number)return q.createElement(r,{className:"pull-right",bsStyle:"success",onClick:this.saveChange},q.createElement(A,{name:"save"})," Save")},render:function(){var e;return e=null!=this.props.unit?""+this.props.unit:"",q.createElement(U,null,q.createElement(c,{xs:6},q.createElement("form",{onSubmit:this.saveChange},q.createElement(w,null,q.createElement(b,{type:"text",ref:"input",value:null!=this.state.number?this.state.number:this.props.number,onChange:function(e){return function(){return e.setState({number:F.findDOMNode(e.refs.input).value})}}(this),onBlur:this.saveChange,onKeyDown:function(e){return function(t){if(27===t.keyCode)return e.setState({number:e.props.number})}}(this),disabled:this.props.disabled})))),q.createElement(c,{xs:6,className:"lighten"},e))}}),exports.LabeledRow=S=ge({displayName:"Misc-LabeledRow",propTypes:{label:Ae.any.isRequired,style:Ae.object,label_cols:Ae.number},getDefaultProps:function(){return{label_cols:4}},render:function(){return q.createElement(U,{style:this.props.style},q.createElement(c,{xs:this.props.label_cols},this.props.label),q.createElement(c,{xs:12-this.props.label_cols},this.props.children))}}),le={backgroundColor:"white",padding:"10px",borderRadius:"5px",margin:"5px"},exports.Help=ge({displayName:"Misc-Help",propTypes:{button_label:Ae.string.isRequired,title:Ae.string.isRequired},getDefaultProps:function(){return{button_label:"Help",title:"Help"}},getInitialState:function(){return{closed:!0}},render_title:function(){return q.createElement("span",null,this.props.title)},render:function(){return this.state.closed?q.createElement("div",null,q.createElement(r,{bsStyle:"info",onClick:function(e){return function(){return e.setState({closed:!1})}}(this)},q.createElement(A,{name:"question-circle"})," ",this.props.button_label)):q.createElement(X,{style:{width:500,zIndex:10,boxShadow:"3px 3px 3px #aaa",position:"absolute"},className:"well"},q.createElement("a",{href:"",style:{float:"right"},onClick:function(e){return function(t){return t.preventDefault(),e.setState({closed:!0})}}(this)},q.createElement(A,{name:"times"})),q.createElement("h4",null,this.props.title),q.createElement("div",{style:le},this.props.children))}}),Se=function(e,t,n,r){return 0===e?"now":"second"===t?"less than a minute "+n:(1!==e&&(t+="s"),e+" "+t+" "+n)},Y=t(325).default,exports.TimeAgo=ge({displayName:"Misc-TimeAgo",propTypes:{popover:Ae.bool,placement:Ae.string,tip:Ae.string},getDefaultProps:function(){return{popover:!0,minPeriod:45,placement:"top"}},render_timeago:function(e){return q.createElement(Y,{title:"",date:e,style:this.props.style,formatter:Se,minPeriod:this.props.minPeriod})},render:function(){var e,t;return e=me.is_date(this.props.date)?this.props.date:new Date(this.props.date),isNaN(e)?q.createElement("div",null,"Invalid Date"):this.props.popover?(t=e.toLocaleString(),q.createElement(J,{title:t,tip:this.props.tip,id:t,placement:this.props.placement},this.render_timeago(e))):this.render_timeago(e)}}),exports.SearchInput=ge({displayName:"Misc-SearchInput",propTypes:{autoFocus:Ae.bool,autoSelect:Ae.bool,placeholder:Ae.string,default_value:Ae.string,value:Ae.string,on_change:Ae.func,on_submit:Ae.func,on_escape:Ae.func,on_up:Ae.func,on_down:Ae.func,on_clear:Ae.func,clear_on_submit:Ae.bool,buttonAfter:Ae.object},getInitialState:function(){var e;return{value:null!=(e=this.props.value||this.props.default_value)?e:"",ctrl_down:!1}},get_opts:function(){return{ctrl_down:this.state.ctrl_down}},componentWillReceiveProps:function(e){if(null!=e.value)return this.setState({value:e.value})},componentDidMount:function(){var e;if(this.props.autoSelect)try{return F.findDOMNode(this.refs.input).select()}catch(t){e=t}},clear_value:function(){var e;return this.set_value(""),"function"==typeof(e=this.props).on_clear?e.on_clear():void 0},clear_and_focus_search_input:function(){return this.clear_value(),F.findDOMNode(this.refs.input).focus()},search_button:function(){var e,t;return null!=this.props.buttonAfter?this.props.buttonAfter:(t=(null!=(e=this.state.value)?e.length:void 0)>0?"warning":"default",q.createElement(r,{onClick:this.clear_and_focus_search_input,bsStyle:t},q.createElement(A,{name:"times-circle"})))},set_value:function(e){var t;return this.setState({value:e}),"function"==typeof(t=this.props).on_change?t.on_change(e,this.get_opts()):void 0},submit:function(e){var t,n;if(null!=e&&e.preventDefault(),"function"==typeof(t=this.props).on_submit&&t.on_submit(this.state.value,this.get_opts()),this.props.clear_on_submit)return this.clear_value(),"function"==typeof(n=this.props).on_change?n.on_change(this.state.value,this.get_opts()):void 0},key_down:function(e){var t,n;switch(e.keyCode){case 27:return this.escape();case 40:return"function"==typeof(t=this.props).on_down?t.on_down():void 0;case 38:return"function"==typeof(n=this.props).on_up?n.on_up():void 0;case 17:return this.setState({ctrl_down:!0});case 13:return this.submit()}},key_up:function(e){switch(e.keyCode){case 17:return this.setState({ctrl_down:!1})}},escape:function(){var e;return"function"==typeof(e=this.props).on_escape&&e.on_escape(this.state.value),this.clear_value()},render:function(){return q.createElement(w,null,q.createElement(E,null,q.createElement(b,{autoFocus:this.props.autoFocus,ref:"input",type:"text",placeholder:this.props.placeholder,value:this.state.value,onChange:function(e){return function(){return e.set_value(F.findDOMNode(e.refs.input).value)}}(this),onKeyDown:this.key_down,onKeyUp:this.key_up}),q.createElement(E.Button,null,this.search_button())))}}),exports.MarkdownInput=ge({displayName:"Misc-MarkdownInput",propTypes:{default_value:Ae.string,on_change:Ae.func,on_save:Ae.func,on_edit:Ae.func,on_cancel:Ae.func,rows:Ae.number,placeholder:Ae.string},getInitialState:function(){return{editing:!1,value:void 0}},edit:function(){var e,t;return"function"==typeof(e=this.props).on_edit&&e.on_edit(),this.setState({value:null!=(t=this.props.default_value)?t:"",editing:!0})},cancel:function(){var e;return"function"==typeof(e=this.props).on_cancel&&e.on_cancel(),this.setState({editing:!1})},save:function(){var e;return"function"==typeof(e=this.props).on_save&&e.on_save(this.state.value),this.setState({editing:!1})},keydown:function(e){return 27===e.keyCode?this.setState({editing:!1}):13===e.keyCode&&e.shiftKey?this.save():void 0},to_html:function(){return this.props.default_value?{__html:fe.markdown_to_html(this.props.default_value).s}:{__html:""}},render:function(){var e,t;return this.state.editing?(t=q.createElement("span",null,"You may enter (Github flavored) markdown here.  In particular, use # for headings, > for block quotes, *'s for italic text, **'s for bold text, - at the beginning of a line for lists, back ticks ` for code, and URL's will automatically become links."),q.createElement("div",null,q.createElement(i,{style:{paddingBottom:"5px"}},q.createElement(r,{key:"save",bsStyle:"success",onClick:this.save,disabled:this.state.value===this.props.default_value},q.createElement(A,{name:"edit"})," Save"),q.createElement(r,{key:"cancel",onClick:this.cancel},"Cancel")),q.createElement("form",{onSubmit:this.save,style:{marginBottom:"-20px"}},q.createElement(w,null,q.createElement(b,{autoFocus:!0,ref:"input",componentClass:"textarea",rows:null!=(e=this.props.rows)?e:4,placeholder:this.props.placeholder,value:this.state.value,onChange:function(e){return function(){var t,n;return n=F.findDOMNode(e.refs.input).value,e.setState({value:n}),"function"==typeof(t=e.props).on_change?t.on_change(n):void 0}}(this),onKeyDown:this.keydown}))),q.createElement("div",{style:{paddingTop:"8px",color:"#666"}},q.createElement(J,{title:"Use Markdown",tip:t},"Format using ",q.createElement("a",{href:"https://help.github.com/articles/getting-started-with-writing-and-formatting-on-github/",target:"_blank"},"Markdown"))))):q.createElement("div",null,q.createElement(r,{onClick:this.edit},"Edit"),q.createElement("div",{onClick:this.edit,dangerouslySetInnerHTML:this.to_html()}))}}),exports.HTML=ge({displayName:"Misc-HTML",propTypes:{value:Ae.string,style:Ae.object,has_mathjax:Ae.bool,project_id:Ae.string,file_path:Ae.string,className:Ae.string,safeHTML:Ae.bool,href_transform:Ae.func,post_hook:Ae.func},getDefaultProps:function(){return{has_mathjax:!0,safeHTML:!0}},shouldComponentUpdate:function(e){return this.props.value!==e.value||!je.isEqual(this.props.style,e.style)||this.props.safeHTML!==e.safeHTML},_update_mathjax:function(e){return this._is_mounted?this.props.has_mathjax?$(F.findDOMNode(this)).mathjax({cb:function(t){return function(){return"function"==typeof e&&e(),e=void 0}}(this)}):e():void e()},_update_links:function(){if(this._is_mounted)return $(F.findDOMNode(this)).process_smc_links({project_id:this.props.project_id,file_path:this.props.file_path,href_transform:this.props.href_transform})},_update_tables:function(){if(this._is_mounted)return $(F.findDOMNode(this)).find("table").addClass("table")},update_content:function(){if(this._is_mounted)return this._update_mathjax(function(e){return function(){if(e._is_mounted)return e._update_links(),e._update_tables()}}(this))},componentDidUpdate:function(){return this.update_content()},componentDidMount:function(){return this._is_mounted=!0,this.update_content()},componentWillUnmount:function(){return this._is_mounted=!1},render_html:function(){var e;return this.props.value?(e=this.props.safeHTML?t(30).sanitize_html_safe(this.props.value,this.props.post_hook):t(30).sanitize_html(this.props.value,!0,!0,this.props.post_hook),{__html:e}):{__html:""}},render:function(){return q.createElement("span",{className:this.props.className,dangerouslySetInnerHTML:this.render_html(),style:this.props.style})}}),exports.Markdown=ge({displayName:"Misc-Markdown",propTypes:{value:Ae.string,style:Ae.object,project_id:Ae.string,file_path:Ae.string,className:Ae.string,safeHTML:Ae.bool,href_transform:Ae.func,post_hook:Ae.func},getDefaultProps:function(){return{safeHTML:!0}},to_html:function(){var e;return this.props.value?(e=this.props.value.replace(/&gt;/g,">").replace(/&lt;/g,"<"),fe.markdown_to_html(e)):{s:"",has_mathjax:!1}},render:function(){var e,t;return e=exports.HTML,t=this.to_html(),q.createElement(e,{value:t.s,has_mathjax:t.has_mathjax,style:this.props.style,project_id:this.props.project_id,file_path:this.props.file_path,className:this.props.className,href_transform:this.props.href_transform,post_hook:this.props.post_hook,safeHTML:this.props.safeHTML})}}),te={float:"right",backgroundColor:"white",position:"absolute",right:"25px",top:"65px",border:"1px solid #ccc",padding:"10px",zIndex:"10",borderRadius:"5px",boxShadow:"3px 3px 3px #ccc"},ee={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},exports.ActivityDisplay=ge({displayName:"ActivityDisplay",propTypes:{activity:Ae.array.isRequired,trunc:Ae.number,on_clear:Ae.func},render_items:function(){var e,t,n,r,i,o,s,a,l;for(i=null!=(o=this.props.trunc)?o:80,l=function(e){return me.trunc(e,i)},s=this.props.activity,a=[],t=n=0,r=s.length;n<r;t=++n)e=s[t],a.push(q.createElement("div",{key:t,style:ee},q.createElement(A,{style:{padding:"2px 1px 1px 2px"},name:"circle-o-notch",spin:!0})," ",l(e)));return a},render:function(){return me.len(this.props.activity)>0?q.createElement("div",{key:"activity",style:te},null!=this.props.on_clear?q.createElement(l,{on_close:this.props.on_clear}):void 0,this.props.activity.length>0?this.render_items():void 0):q.createElement("span",null)}}),exports.Tip=J=ge({displayName:"Tip",propTypes:{title:Ae.oneOfType([Ae.string,Ae.node]).isRequired,placement:Ae.string,tip:Ae.oneOfType([Ae.string,Ae.node]),size:Ae.string,delayShow:Ae.number,delayHide:Ae.number,rootClose:Ae.bool,icon:Ae.string,id:Ae.string,style:Ae.object},getDefaultProps:function(){return{placement:"right",delayShow:500,delayHide:100,rootClose:!1}},getInitialState:function(){return{display_trigger:!1}},render_title:function(){return q.createElement("span",null,this.props.icon?q.createElement(A,{name:this.props.icon}):void 0," ",this.props.title)},render_popover:function(){var e,t;return this.props.tip?q.createElement(P,{bsSize:this.props.size,title:this.render_title(),id:null!=(e=this.props.id)?e:"tip",style:{zIndex:"1000"}},q.createElement("span",{style:{wordWrap:"break-word"}},this.props.tip)):q.createElement(V,{bsSize:this.props.size,id:null!=(t=this.props.id)?t:"tip",style:{zIndex:"1000"}},this.render_title())},render:function(){return this.state.display_trigger?q.createElement(I,{placement:this.props.placement,overlay:this.render_popover(),delayShow:this.props.delayShow,delayHide:this.props.delayHide,rootClose:this.props.rootClose},q.createElement("span",{style:this.props.style,onMouseLeave:function(e){return function(){return e.setState({display_trigger:!1})}}(this)},this.props.children)):q.createElement("span",{style:this.props.style,onMouseEnter:function(e){return function(){return e.setState({display_trigger:!0})}}(this)},this.props.children)}}),exports.SaveButton=ge({displayName:"Misc-SaveButton",propTypes:{unsaved:Ae.bool,disabled:Ae.bool,on_click:Ae.func.isRequired},render:function(){return q.createElement(r,{bsStyle:"success",disabled:this.props.saving||!this.props.unsaved,onClick:this.props.on_click},q.createElement(A,{name:"save"})," Sav",this.props.saving?q.createElement("span",null,"ing... ",q.createElement(A,{name:"circle-o-notch",spin:!0})):q.createElement("span",null,"e"))}}),exports.PathLink=ge({displayName:"Misc-PathLink",propTypes:{path:Ae.string.isRequired,project_id:Ae.string.isRequired,display_name:Ae.string,full:Ae.bool,trunc:Ae.number,style:Ae.object,link:Ae.bool},getDefaultProps:function(){return{style:{},full:!1,link:!0}},handle_click:function(e){var t;return e.preventDefault(),t="files","/"!==this.props.path[0]&&(t+="/"),this.actions("projects").open_project({project_id:this.props.project_id,target:t+this.props.path,switch_to:me.should_open_in_foreground(e)})},render_link:function(e){return this.props.link?q.createElement("a",{onClick:this.handle_click,style:this.props.style,href:""},e):q.createElement("span",{style:this.props.style},e)},render:function(){var e,t,n,r;return e=this.props.full?this.props.path:me.path_split(this.props.path).tail,e.length>this.props.trunc||null!=this.props.display_name&&this.props.display_name!==e?(r=null!=this.props.trunc?me.trunc_middle(null!=(t=this.props.display_name)?t:e,this.props.trunc):null!=(n=this.props.display_name)?n:e,q.createElement(J,{title:"",tip:e},this.render_link(r))):this.render_link(e)}}),x=t(1085),ae=t(1256),ae(x),m=t(745),f=["MMM d, yyyy h:mm tt","MMMM d, yyyy h:mm tt","MMM d, yyyy","MMM d, yyyy H:mm","MMMM d, yyyy","MMMM d, yyyy H:mm"],exports.DateTimePicker=ge({displayName:"Misc-DateTimePicker",propTypes:{value:Ae.oneOfType([Ae.string,Ae.object]),on_change:Ae.func.isRequired},render:function(){return q.createElement(m,{step:60,editFormat:"MMM d, yyyy h:mm tt",parse:f,value:this.props.value,onChange:this.props.on_change})}}),s=t(326),exports.Calendar=ge({displayName:"Misc-Calendar",propTypes:{value:Ae.oneOfType([Ae.string,Ae.object]),on_change:Ae.func.isRequired},render:function(){return q.createElement(s,{defaultValue:this.props.value,onChange:this.props.on_change})}}),exports.r_join=function(e,t){var n,r,i,o,s,a;for(null==t&&(t=", "),s=[],o=me.len(e),n=r=0,i=e.length;r<i;n=++r)a=e[n],s.push(a),n<o-1&&s.push(q.createElement("span",{key:-n-1},t));return s},exports.DirectoryInput=ge({displayName:"DirectoryInput",reduxProps:{projects:{directory_trees:Ae.immutable}},propTypes:{project_id:Ae.string.isRequired,on_change:Ae.func.isRequired,default_value:Ae.string,placeholder:Ae.string,autoFocus:Ae.bool,on_key_down:Ae.func,on_key_up:Ae.func,exclusions:Ae.array},render:function(){var e,t,n,r,i;return i=null!=(t=this.props.directory_trees)&&null!=(n=t.get(this.props.project_id))?n.toJS():void 0,(null==i||new Date-i.updated>=15e3)&&ve.getActions("projects").fetch_directory_tree(this.props.project_id,{exclusions:this.props.exclusions}),r=null!=i?i.tree:void 0,e=null!=r?function(e){var t;return t=e.indexOf("/"),t===-1?e:e.slice(0,t)}:function(e){return e},q.createElement(u,{autoFocus:this.props.autoFocus,data:r,filter:"contains",groupBy:e,defaultValue:this.props.default_value,placeholder:this.props.placeholder,messages:{emptyFilter:"",emptyList:""},onChange:function(e){return function(t){return e.props.on_change(t)}}(this),onKeyDown:this.props.on_key_down,onKeyUp:this.props.on_key_up})}}),exports.DeletedProjectWarning=function(){return q.createElement(n,{bsStyle:"danger",style:{marginTop:"10px"}},q.createElement("h4",null,q.createElement(A,{name:"exclamation-triangle"}),"  Warning: this project is ",q.createElement("strong",null,"deleted!")),q.createElement("p",null,"If you intend to use this project, you should ",q.createElement("strong",null,"undelete it")," in Hide or delete under project settings."))},exports.course_warning=function(e){var n;return!!e&&(n=t(19).salvus_client,n.server_time()<=me.months_before(-3,e))},_e=function(e){var t,n,r,i,o,s,a,l,c,u,d;return c=e.upgrades_you_can_use,l=e.upgrades_you_applied_to_all_projects,n=e.course_info,t=e.account_id,r=e.email_address,a=e.upgrade_type,s=null!=(i=null!=c?c[a]:void 0)?i:0,u=null!=(o=null!=l?l[a]:void 0)?o:0,d={total:s,used:u,avail:s-u,course_warning:exports.course_warning(null!=n&&"function"==typeof n.get?n.get("pay"):void 0),course_info:e.course_info,account_id:t,email_address:r}},exports.CourseProjectExtraHelp=h=function(){return q.createElement("div",{style:{marginTop:"10px"}},'If you have already paid, you can go to the settings in your project and click the "Adjust  your quotas..." button, then click the checkboxes next to network and member hosting.  If it says you do not have enough quota, visit the Upgrades tab in account settings, see where the upgrades are, remove them from another project, then try again.')},exports.CourseProjectWarning=function(e){var r,i,o,s,a,l,c,u,d,p,f,m,_,g,v,y;return m=_e(e),v=m.total,y=m.used,o=m.avail,a=m.course_info,l=m.course_warning,r=m.account_id,u=m.email_address,l?(f=a.get("pay"),s=t(186),i=o>0?q.createElement(s.BillingPageLink,{text:"move this project to a members only server"}):q.createElement(s.BillingPageLink,{text:"buy a course subscription"}),d=r===a.get("account_id")||u===a.get("email_address"),_=t(19).salvus_client,f>_.server_time()?(c=d?q.createElement("span",null,"Your instructor requires you to ",i," within ",q.createElement(Y,{date:f}),"."):q.createElement("span",null,"Your student must buy a course subscription within ",q.createElement(Y,{date:f}),"."),g="warning",p="Warning"):(c=d?q.createElement("span",null,"Your instructor requires you to ",i," now to continuing using this project.",v>0?q.createElement(h,null):void 0):q.createElement("span",null,"Your student must buy a course subscription to continue using this project."),g="danger",p="Error"),q.createElement(n,{bsStyle:g,style:{marginTop:"10px"}},q.createElement("h4",null,q.createElement(A,{name:"exclamation-triangle"}),"  ",p,": course payment required"),c)):q.createElement("span",null)},exports.NonMemberProjectWarning=function(e){var t,r,i,o,s,a,l;return i=_e(e),s=i.total,l=i.used,t=i.avail,r=i.course_warning,t>0?o=q.createElement("span",null,q.createElement("b",null,q.createElement("i",null,"You have ",t," unused members-only hosting ",me.plural(t,"upgrade"))),".  Click 'Adjust your quotas...' below."):t<=0&&(a=z,o=s>0?q.createElement("span",null,"Your ",s," members-only hosting ",me.plural(s,"upgrade")," are already in use on other projects.  You can ",q.createElement("a",{href:a,target:"_blank",style:{cursor:"pointer"}},"purchase further upgrades ")," by adding a subscription (you can add the same subscription multiple times), or disable member-only hosting for another project to free a spot up for this one."):q.createElement("span",null,q.createElement(G,null),q.createElement("a",{href:a,target:"_blank",style:{cursor:"pointer"}},"Subscriptions start at only $7/month."))),q.createElement(n,{bsStyle:"warning",style:{marginTop:"10px"}},q.createElement("h4",null,q.createElement(A,{name:"exclamation-triangle"}),"  Warning: this project is ",q.createElement("strong",null,"running on a free server")),q.createElement("p",null,"Projects running on free servers compete for resources with a large number of other free projects.\nThe free servers are ",q.createElement("b",null,q.createElement("i",null,"randomly rebooted frequently")),",\nand are often ",q.createElement("b",null,q.createElement("i",null,"much more heavily loaded"))," than members-only servers.",o))},exports.NoNetworkProjectWarning=function(e){var t,r,i,o,s,a;return r=_e(e),o=r.total,a=r.used,t=r.avail,t>0?i=q.createElement("span",null,q.createElement("b",null,q.createElement("i",null,"You have ",t," unused internet access ",me.plural(t,"upgrade"))),".  Click 'Adjust your quotas...' below."):t<=0&&(s=z,i=o>0?q.createElement("span",null,"Your ",o," internet access ",me.plural(o,"upgrade")," are already in use on other projects.  You can ",q.createElement("a",{href:s,target:"_blank",style:{cursor:"pointer"}},"purchase further upgrades ")," by adding a subscription (you can add the same subscription multiple times), or disable an internet access upgrade for another project to free a spot up for this one."):q.createElement("span",null,q.createElement(G,null),q.createElement("a",{href:s,target:"_blank",style:{cursor:"pointer"}},"Subscriptions start at only $7/month."))),q.createElement(n,{bsStyle:"warning",style:{marginTop:"10px"}},q.createElement("h4",null,q.createElement(A,{name:"exclamation-triangle"}),"  Warning: this project ",q.createElement("strong",null,"does not have full internet access")),q.createElement("p",null,"Projects without internet access enabled, cannot connect to external websites or download software packages.",i))},exports.LoginLink=ge({displayName:"Misc-LoginLink",render:function(){return q.createElement(n,{bsStyle:"info",style:{margin:"15px"}},q.createElement(A,{name:"sign-in",style:{fontSize:"13pt",marginRight:"10px"}})," Please",q.createElement(G,null),q.createElement("a",{style:{cursor:"pointer"},onClick:function(e){return function(){return ve.getActions("page").set_active_tab("account")}}(this)},"login or create an account..."))}}),o=t(24).COMPUTE_STATES,exports.ProjectState=ge({displayName:"Misc-ProjectState",propTypes:{state:Ae.string},getDefaultProps:function(){return{state:"unknown"}},render_spinner:function(){return q.createElement("span",null,"... ",q.createElement(A,{name:"circle-o-notch",spin:!0}))},render:function(){var e,t,n,r,i;return r=o[this.props.state],null==r?q.createElement(j,null):(t=r.display,e=r.desc,n=r.icon,i=r.stable,q.createElement(J,{title:t,tip:e},q.createElement(A,{name:n})," ",t," ",i?void 0:this.render_spinner()))}}),xe=t(22),g=xe.DropdownButton,M=xe.MenuItem,v=ge({displayName:"Misc-EditorFileInfoDropdown",propTypes:{filename:Ae.string.isRequired,actions:Ae.object.isRequired,
is_public:Ae.bool},getDefaultProps:function(){return{is_public:!1}},handle_click:function(e){var t,n;return n=me.path_split(this.props.filename),t=function(){return n.tail},this.props.actions.open_directory(n.head),this.props.actions.set_all_files_unchecked(),this.props.actions.set_file_checked(this.props.filename,!0),this.props.actions.set_file_action(e,t)},render_menu_item:function(e,t){return q.createElement(M,{onSelect:function(t){return function(){return t.handle_click(e)}}(this),key:e},q.createElement(A,{name:t,fixedWidth:!0})," ",me.capitalize(e)+"...")},render_menu_items:function(){var e,n,r,i,o,s,a;this.props.is_public?r={download:"cloud-download",copy:"files-o"}:(e=t(334).file_action_buttons,r=_.object(function(){var t;t=[];for(i in e)a=e[i],t.push([i,a.icon]);return t}())),s=[];for(o in r)n=r[o],s.push(this.render_menu_item(o,n));return s},render_dropdown_button:function(e,t){return q.createElement(g,{style:{marginRight:"2px"},id:"file_info_button",bsStyle:"info",bsSize:e,title:q.createElement(A,{name:"info-circle"}),className:t},this.render_menu_items())},render:function(){return q.createElement("div",null,this.render_dropdown_button("large","pull-left visible-xs"),this.render_dropdown_button(null,"pull-left hidden-xs"))}}),exports.render_file_info_dropdown=function(e,t,n,r){return F.render(q.createElement(v,{filename:e,actions:t,is_public:r}),n)},exports.UPGRADE_ERROR_STYLE=Z={color:"white",background:"red",padding:"1ex",borderRadius:"3px",fontWeight:"bold",marginBottom:"1em"},D=t(24).PROJECT_UPGRADES,exports.NoUpgrades=O=ge({displayName:"NoUpgrades",propTypes:{cancel:Ae.func.isRequired},billing:function(e){return e.preventDefault(),t(186).visit_billing_page()},render:function(){return q.createElement(n,{bsStyle:"info"},q.createElement("h3",null,q.createElement(A,{name:"exclamation-triangle"})," Your account has no upgrades available"),q.createElement("p",null,"You can purchase upgrades starting at $7 / month."),q.createElement("p",null,q.createElement("a",{href:"",onClick:this.billing},"Visit the billing page...")),q.createElement(r,{onClick:this.props.cancel},"Cancel"))}}),exports.UpgradeAdjustor=ge({displayName:"UpgradeAdjustor",propTypes:{quota_params:Ae.object.isRequired,submit_upgrade_quotas:Ae.func.isRequired,cancel_upgrading:Ae.func.isRequired,disable_submit:Ae.bool,upgrades_you_can_use:Ae.object,upgrades_you_applied_to_all_projects:Ae.object,upgrades_you_applied_to_this_project:Ae.object},getDefaultProps:function(){return{upgrades_you_can_use:{},upgrades_you_applied_to_all_projects:{},upgrades_you_applied_to_this_project:{}}},getInitialState:function(){var e,t,n,r,i,o,s,a,l;l={},e=this.props.upgrades_you_applied_to_this_project,o=this.props.quota_params;for(i in o)n=o[i],r=n.display_factor,t="checkbox"===n.input_type&&"Create project with upgrades"===this.props.submit_text?null!=(s=e[i])?s:1:null!=(a=e[i])?a:0,l["upgrade_"+i]=me.round2(t*r);return l},get_quota_info:function(){var e,n,r,i;return e=this.props.upgrades_you_applied_to_this_project,i=me.map_diff(this.props.upgrades_you_can_use,this.props.upgrades_you_applied_to_all_projects),n=me.map_sum(e,i),r=t(24).PROJECT_UPGRADES.max_per_project,n=me.map_limit(n,r),{limits:n,remaining:i,current:e}},clear_upgrades:function(){return this.set_upgrades("min")},max_upgrades:function(){return this.set_upgrades("max")},set_upgrades:function(e){var t,n,r,i,o,s,a;i=this.get_quota_info(),s={},a=this.props.quota_params;for(o in a){switch(n=a[o],r=n.display_factor,e){case"max":t=i.limits[o];break;case"min":t=0}s["upgrade_"+o]=me.round2(t*r)}return this.setState(s)},is_upgrade_input_valid:function(e,t){var n,r;return r=me.parse_number_input(e,n=!1),!(null==r||r>Math.max(0,t))},render_max_button:function(e,t){return q.createElement(r,{bsSize:"xsmall",onClick:function(n){return function(){var r;return n.setState((r={},r["upgrade_"+e]=t,r))}}(this),style:{padding:"0px 5px"}},"Max")},render_addon:function(e,t,n,r){return q.createElement("div",{style:{minWidth:"81px"}},""+e.plural(2,n)," ",this.render_max_button(t,r))},render_upgrade_row:function(e,t,n,r,i){var o,s,l,u,d,p,h,f,m,_,g,v,y,x,k,A,C;if(null==n&&(n=0),null==r&&(r=0),null==i&&(i=0),null!=t)return u=t.display,l=t.desc,p=t.display_factor,h=t.display_unit,f=t.input_type,"checkbox"===f?(C=this.state["upgrade_"+e],x=n+r-C,x=Math.max(x,0),m=this.is_upgrade_input_valid(C,i)?0===C?"Enable":"Enabled":q.createElement("div",{style:Z},"Uncheck this: you do not have enough upgrades"),q.createElement(U,{key:e,style:{marginTop:"5px"}},q.createElement(c,{sm:6},q.createElement(J,{title:u,tip:l},q.createElement("strong",null,u)),q.createElement("br",null),"You have ",x," unallocated ",me.plural(x,h)),q.createElement(c,{sm:6},q.createElement("form",null,q.createElement(a,{ref:"upgrade_"+e,checked:C>0,onChange:function(t){return function(n){var r;return t.setState((r={},r["upgrade_"+e]=n.target.checked?1:0,r))}}(this)},m))))):"number"===f?(n=me.round2(n*p),d=r*p,r=0!==r&&0!==me.round2(d)?me.round2(d):d,i=me.round2(i*p),s=null!=(_=me.parse_number_input(this.state["upgrade_"+e]))?_:0,x=me.round2(n+r-s),C=this.state["upgrade_"+e],this.is_upgrade_input_valid(C,i)?m=q.createElement("span",null):(o="error",m=null!=me.parse_number_input(C)?q.createElement("div",{style:Z},"Value too high: not enough upgrades or exceeding limit"):q.createElement("div",{style:Z},"Please enter a number")),g=Math.max(x,0),y=D.max_per_project,p=D.params[e].display_factor,k=y[e]*p,A=me.plural(x,h),v=k<n?q.createElement("span",null," You have ",g," unallocated ",A," (you may allocate up to ",k," ",A," here)"):q.createElement("span",null,"You have ",g," unallocated ",A),q.createElement(U,{key:e,style:{marginTop:"5px"}},q.createElement(c,{sm:6},q.createElement(J,{title:u,tip:l},q.createElement("strong",null,u)),q.createElement("br",null),v),q.createElement(c,{sm:6},q.createElement(w,null,q.createElement(E,null,q.createElement(b,{ref:"upgrade_"+e,type:"text",value:C,bsStyle:o,onChange:function(t){return function(){var n;return t.setState((n={},n["upgrade_"+e]=F.findDOMNode(t.refs["upgrade_"+e]).value,n))}}(this)}),q.createElement(E.Addon,null,this.render_addon(me,e,h,i)))),m))):void console.warn("Invalid input type in render_upgrade_row: ",f)},save_upgrade_quotas:function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_;t=this.props.upgrades_you_applied_to_this_project,l={},c={},u=this.props.quota_params;for(a in u)r=u[a],i=r.display_factor,n=me.round2((null!=(d=t[a])?d:0)*i),m=Math.max(me.round2((null!=(p=e[a])?p:0)*i),0),"checkbox"===r.input_type?(o=null!=(h=this.state["upgrade_"+a])?h:n,_=o&&(m>0||n>0)?1:0):(o=null!=(f=me.parse_number_input(this.state["upgrade_"+a]))?f:n,o=Math.max(o,0),s=n+m,_=Math.min(o,s)),c["upgrade_"+a]=_,l[a]=me.round2(_/i);return this.props.submit_upgrade_quotas(l),this.setState(c)},valid_changed_upgrade_inputs:function(e,t){var n,r,i,o,s,a,l,c,u,d;c=this.props.quota_params;for(a in c){if(i=c[a],o=i.display_factor,s=Math.max(0,me.round2((null!=(u=t[a])?u:0)*o)),r=me.round2((null!=(d=e[a])?d:0)*o),l=me.parse_number_input(this.state["upgrade_"+a]),null==l||l>s)return!1;r!==l&&(n=!0)}return n},render:function(){var e,o,s,a,l,u,d;return me.is_zero_map(this.props.upgrades_you_can_use)?q.createElement(O,{cancel:this.props.cancel_upgrading}):(l=this.props.quota_params,d=this.props.upgrades_you_applied_to_all_projects,e=this.props.upgrades_you_applied_to_this_project,u=me.map_diff(this.props.upgrades_you_can_use,d),o=me.map_sum(e,u),s=t(24).PROJECT_UPGRADES.max_per_project,o=me.map_limit(o,s),q.createElement(n,{bsStyle:"warning"},q.createElement("h3",null,q.createElement(A,{name:"arrow-circle-up"})," Adjust your project quota contributions"),q.createElement("span",{style:{color:"#666"}},"Adjust ",q.createElement("i",null,"your")," contributions to the quotas on this project (disk space, memory, cores, etc.).  The total quotas for this project are the sum of the contributions of all collaborators and the free base quotas."),q.createElement("hr",null),q.createElement(U,null,q.createElement(c,{md:1},q.createElement("b",{style:{fontSize:"12pt"}},"Quota")),q.createElement(c,{md:5},q.createElement(r,{bsSize:"xsmall",onClick:this.max_upgrades,style:{padding:"0px 5px"}},"Max all upgrades")," ",q.createElement(r,{bsSize:"xsmall",onClick:this.clear_upgrades,style:{padding:"0px 5px"}},"Remove all upgrades")),q.createElement(c,{md:6},q.createElement("b",{style:{fontSize:"12pt"}},"Your contribution"))),q.createElement("hr",null),function(){var t,n,r,i;for(r=D.field_order,i=[],t=0,n=r.length;t<n;t++)a=r[t],i.push(this.render_upgrade_row(a,l[a],u[a],e[a],o[a]));return i}.call(this),this.props.children,q.createElement(i,{style:{marginTop:"10px"}},q.createElement(r,{bsStyle:"success",onClick:function(e){return function(){return e.save_upgrade_quotas(u)}}(this),disabled:this.props.disable_submit||!this.valid_changed_upgrade_inputs(e,o)},q.createElement(A,{name:"arrow-circle-up"})," ",this.props.submit_text?this.props.submit_text:"Submit changes"),q.createElement(r,{onClick:this.props.cancel_upgrading},"Cancel"))))}})},function(e,exports,t){"use strict";var n=t(42),r=n;e.exports=r},function(e,exports,t){var n;"undefined"!=typeof window&&null!==window?(null==window.smc_base_url&&(window.smc_base_url=""),window.location.hash.length>1&&(window.smc_target=decodeURIComponent(window.location.hash.slice(1))),n=t(303),exports.salvus_client=n.connect()):exports.salvus_client=new(t(338).Client)},function(e,exports){"use strict";function t(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,o){var a=e[t],l=void 0===a?"undefined":i(a);return s.default.isValidElement(a)?Error("Invalid "+r+" `"+o+"` of type ReactElement "+("supplied to `"+n+"`, expected an element type (a string ")+"or a ReactClass)."):"function"!==l&&"string"!==l?Error("Invalid "+r+" `"+o+"` of value `"+a+"` "+("supplied to `"+n+"`, expected an element type (a string ")+"or a ReactClass)."):null}exports.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=t(1),s=n(o),a=t(123),l=n(a);exports.default=(0,l.default)(r)},function(e,exports,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.utils=exports.Well=exports.Tooltip=exports.Thumbnail=exports.Tabs=exports.TabPane=exports.Table=exports.TabContent=exports.TabContainer=exports.Tab=exports.SplitButton=exports.SafeAnchor=exports.Row=exports.ResponsiveEmbed=exports.Radio=exports.ProgressBar=exports.Popover=exports.PanelGroup=exports.Panel=exports.PaginationButton=exports.Pagination=exports.Pager=exports.PageItem=exports.PageHeader=exports.OverlayTrigger=exports.Overlay=exports.NavItem=exports.NavDropdown=exports.NavbarBrand=exports.Navbar=exports.Nav=exports.ModalTitle=exports.ModalHeader=exports.ModalFooter=exports.ModalBody=exports.Modal=exports.MenuItem=exports.Media=exports.ListGroupItem=exports.ListGroup=exports.Label=exports.Jumbotron=exports.InputGroup=exports.Image=exports.HelpBlock=exports.Grid=exports.Glyphicon=exports.FormGroup=exports.FormControl=exports.Form=exports.Fade=exports.DropdownButton=exports.Dropdown=exports.Collapse=exports.Col=exports.ControlLabel=exports.Clearfix=exports.Checkbox=exports.CarouselItem=exports.Carousel=exports.ButtonToolbar=exports.ButtonGroup=exports.Button=exports.BreadcrumbItem=exports.Breadcrumb=exports.Badge=exports.Alert=exports.Accordion=void 0;var i=t(606),o=r(i),s=t(607),a=r(s),l=t(608),c=r(l),u=t(609),d=r(u),p=t(243),h=r(p),f=t(93),m=r(f),_=t(244),g=r(_),v=t(610),y=r(v),b=t(611),w=r(b),x=t(245),k=r(x),A=t(613),C=r(A),E=t(614),S=r(E),j=t(616),M=r(j),T=t(615),O=r(T),N=t(157),I=r(N),D=t(113),L=r(D),z=t(617),R=r(z),P=t(114),B=r(P),q=t(619),F=r(q),U=t(620),W=r(U),H=t(623),K=r(H),G=t(158),Y=r(G),J=t(247),V=r(J),Q=t(624),Z=r(Q),X=t(625),ee=r(X),te=t(626),ne=r(te),re=t(629),ie=r(re),oe=t(630),se=r(oe),ae=t(631),le=r(ae),ce=t(248),ue=r(ce),de=t(159),pe=r(de),he=t(638),fe=r(he),me=t(639),_e=r(me),ge=t(249),ve=r(ge),ye=t(250),be=r(ye),we=t(251),xe=r(we),ke=t(252),Ae=r(ke),Ce=t(253),Ee=r(Ce),Se=t(642),je=r(Se),Me=t(255),Te=r(Me),Oe=t(641),Ne=r(Oe),Ie=t(254),De=r(Ie),Le=t(256),ze=r(Le),Re=t(646),Pe=r(Re),Be=t(647),qe=r(Be),Fe=t(648),Ue=r(Fe),We=t(649),He=r(We),Ke=t(650),Ge=r(Ke),Ye=t(258),Je=r(Ye),Ve=t(651),Qe=r(Ve),Ze=t(259),$e=r(Ze),Xe=t(652),et=r(Xe),tt=t(653),nt=r(tt),rt=t(654),it=r(rt),ot=t(655),st=r(ot),at=t(656),lt=r(at),ct=t(50),ut=r(ct),dt=t(657),pt=r(dt),ht=t(659),ft=r(ht),mt=t(160),_t=r(mt),gt=t(161),vt=r(gt),yt=t(660),bt=r(yt),wt=t(260),xt=r(wt),kt=t(661),At=r(kt),Ct=t(662),Et=r(Ct),St=t(663),jt=r(St),Mt=t(664),Tt=r(Mt),Ot=t(668),Nt=n(Ot);exports.Accordion=o.default,exports.Alert=a.default,exports.Badge=c.default,exports.Breadcrumb=d.default,exports.BreadcrumbItem=h.default,exports.Button=m.default,exports.ButtonGroup=g.default,exports.ButtonToolbar=y.default,exports.Carousel=w.default,exports.CarouselItem=k.default,exports.Checkbox=C.default,exports.Clearfix=S.default,exports.ControlLabel=M.default,exports.Col=O.default,exports.Collapse=I.default,exports.Dropdown=L.default,exports.DropdownButton=R.default,exports.Fade=B.default,exports.Form=F.default,exports.FormControl=W.default,exports.FormGroup=K.default,exports.Glyphicon=Y.default,exports.Grid=V.default,exports.HelpBlock=Z.default,exports.Image=ee.default,exports.InputGroup=ne.default,exports.Jumbotron=ie.default,exports.Label=se.default,exports.ListGroup=le.default,exports.ListGroupItem=ue.default,exports.Media=pe.default,exports.MenuItem=fe.default,exports.Modal=_e.default,exports.ModalBody=ve.default,exports.ModalFooter=be.default,exports.ModalHeader=xe.default,exports.ModalTitle=Ae.default,exports.Nav=Ee.default,exports.Navbar=je.default,exports.NavbarBrand=Te.default,exports.NavDropdown=Ne.default,exports.NavItem=De.default,exports.Overlay=ze.default,exports.OverlayTrigger=Pe.default,exports.PageHeader=qe.default,exports.PageItem=Ue.default,exports.Pager=He.default,exports.Pagination=Ge.default,exports.PaginationButton=Je.default,exports.Panel=Qe.default,exports.PanelGroup=$e.default,exports.Popover=et.default,exports.ProgressBar=nt.default,exports.Radio=it.default,exports.ResponsiveEmbed=st.default,exports.Row=lt.default,exports.SafeAnchor=ut.default,exports.SplitButton=pt.default,exports.Tab=ft.default,exports.TabContainer=_t.default,exports.TabContent=vt.default,exports.Table=bt.default,exports.TabPane=xt.default,exports.Tabs=At.default,exports.Thumbnail=Et.default,exports.Tooltip=jt.default,exports.Well=Tt.default,exports.utils=Nt},function(e,exports,t){var n,r;(function(){function t(e){function t(t,n,r,i,o,s){for(;o>=0&&o<s;o+=e){var a=i?i[o]:o;r=n(r,t[a],a,t)}return r}return function(n,r,i,o){r=x(r,o,4);var s=!M(n)&&w.keys(n),a=(s||n).length,l=e>0?0:a-1;return arguments.length<3&&(i=n[s?s[l]:l],l+=e),t(n,r,i,s,l,a)}}function i(e){return function(t,n,r){n=k(n,r);for(var i=j(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function o(e,t,n){return function(r,i,o){var s=0,a=j(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(h.call(r,s,a),w.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}function s(e,t){var n=D.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||u,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=D[n],o in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var a=this,l=a._,c=Array.prototype,u=Object.prototype,d=Function.prototype,p=c.push,h=c.slice,f=u.toString,m=u.hasOwnProperty,_=Array.isArray,g=Object.keys,v=d.bind,y=Object.create,b=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};void 0!==e&&e.exports&&(exports=e.exports=w),exports._=w,w.VERSION="1.8.3";var x=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?w.identity:w.isFunction(e)?x(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return k(e,t,1/0)};var A=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},C=function(e){if(!w.isObject(e))return{};if(y)return y(e);b.prototype=e;var t=new b;return b.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,j=E("length"),M=function(e){var t=j(e);return"number"==typeof t&&t>=0&&t<=S};w.each=w.forEach=function(e,t,n){t=x(t,n);var r,i;if(M(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){t=k(t,n);for(var r=!M(e)&&w.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o},w.reduce=w.foldl=w.inject=t(1),w.reduceRight=w.foldr=t(-1),w.find=w.detect=function(e,t,n){var r;if(r=M(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},w.filter=w.select=function(e,t,n){var r=[];return t=k(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(k(t)),n)},w.every=w.all=function(e,t,n){t=k(t,n);for(var r=!M(e)&&w.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},w.some=w.any=function(e,t,n){t=k(t,n);for(var r=!M(e)&&w.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return M(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=h.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-(1/0),s=-(1/0);if(null==t&&null!=e){e=M(e)?e:w.values(e);for(var a=0,l=e.length;a<l;a++)r=e[a],r>o&&(o=r)}else t=k(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i>s||i===-(1/0)&&o===-(1/0))&&(o=e,s=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t&&null!=e){e=M(e)?e:w.values(e);for(var a=0,l=e.length;a<l;a++)r=e[a],r<o&&(o=r)}else t=k(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},w.shuffle=function(e){for(var t,n=M(e)?e:w.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=w.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(M(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=k(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=k(n,r),w.each(t,function(r,o){var s=n(r,o,t);e(i,r,s)}),i}};w.groupBy=T(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=T(function(e,t,n){e[n]=t}),w.countBy=T(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?h.call(e):M(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:M(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var O=function(e,t,n,r){for(var i=[],o=0,s=r||0,a=j(e);s<a;s++){var l=e[s];if(M(l)&&(w.isArray(l)||w.isArguments(l))){t||(l=O(l,t,n));var c=0,u=l.length;for(i.length+=u;c<u;)i[o++]=l[c++]}else n||(i[o++]=l)}return i};w.flatten=function(e,t){return O(e,t,!1)},w.without=function(e){return w.difference(e,h.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],o=[],s=0,a=j(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t?(s&&o===c||i.push(l),o=c):n?w.contains(o,c)||(o.push(c),i.push(l)):w.contains(i,l)||i.push(l)}return i},w.union=function(){return w.uniq(O(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=j(e);r<i;r++){var o=e[r];if(!w.contains(t,o)){for(var s=1;s<n&&w.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},w.difference=function(e){var t=O(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,j).length||0,n=Array(t),r=0;r<t;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=j(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=i(1),w.findLastIndex=i(-1),w.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),o=0,s=j(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var N=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=C(e.prototype),s=e.apply(o,i);return w.isObject(s)?s:o};w.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,h.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function(){return N(e,r,t,this,n.concat(h.call(arguments)))};return r},w.partial=function(e){var t=h.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),s=0;s<i;s++)o[s]=t[s]===w?arguments[r++]:t[s];for(;r<arguments.length;)o.push(arguments[r++]);return N(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:w.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var c=w.now();a||n.leading!==!1||(a=c);var u=t-(c-a);return r=this,i=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(r,i),s||(r=i=null)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},w.debounce=function(e,t,n){var r,i,o,s,a,l=function(){var c=w.now()-s;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=w.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(o,i),o=i=null),a}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},w.once=w.partial(w.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return I&&s(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&s(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=k(t,n);for(var r,i=w.keys(e),o=i.length,s={},a=0;a<o;a++)r=i[a],s[r]=t(e[r],r,e);return s},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=A(w.allKeys),w.extendOwn=w.assign=A(w.keys),w.findKey=function(e,t,n){t=k(t,n);for(var r,i=w.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,o={},s=e;if(null==s)return o;w.isFunction(t)?(i=w.allKeys(s),r=x(t,n)):(i=O(arguments,!1,!1,1),r=function(e,t,n){return t in n},s=Object(s));for(var a=0,l=i.length;a<l;a++){var c=i[a],u=s[c];r(u,c,s)&&(o[c]=u)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(O(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=A(w.allKeys,!0),w.create=function(e,t){var n=C(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0};var L=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(w.isFunction(s)&&s instanceof s&&w.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],n,r))return!1}else{var c,u=w.keys(e);if(l=u.length,w.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!w.has(t,c)||!L(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return L(e,t)},w.isEmpty=function(e){return null==e||(M(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=_||function(e){return"[object Array]"===f.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&m.call(e,t)},w.noConflict=function(){return a._=l,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=E,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=x(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=w.invert(z),P=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=P(z),w.unescape=P(R),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var B=0;w.uniqueId=function(e){var t=++B+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+F[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(U,W),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,w)},l=t.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},w.chain=function(e){var t=w(e);return t._chain=!0,t};var H=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),H(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),w.each(["concat","join","slice"],function(e){var t=c[e];w.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},n=[],r=function(){return w}.apply(exports,n),!(void 0!==r&&(e.exports=r))}).call(this)},function(e,exports,t){var n,r,i;exports.RECENT_TIMES={active:5,last_hour:60,last_day:1440,last_week:10080,last_month:43200},exports.RECENT_TIMES_KEY={active:"5min",last_hour:"1h",last_day:"1d",last_week:"7d",last_month:"30d"},n=t(341),r=exports.SCHEMA=n.SCHEMA,exports.client_db=n.client_db,exports.site_settings_conf=n.site_settings_conf,t(344),exports.COMPUTE_STATES=t(340).COMPUTE_STATES,i=t(201),exports.PROJECT_UPGRADES=i.upgrades,exports.DEFAULT_QUOTAS=i.DEFAULT_QUOTAS},function(e,exports){"use strict";function t(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");
if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e,n){for(var s,a,l=t(e),c=1;c<arguments.length;c++){s=Object(arguments[c]);for(var u in s)i.call(s,u)&&(l[u]=s[u]);if(r){a=r(s);for(var d=0;d<a.length;d++)o.call(s,a[d])&&(l[a[d]]=s[a[d]])}}return l}},function(e,exports,t){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return o(e)?e:M(e)}function n(e){return s(e)?e:T(e)}function r(e){return a(e)?e:O(e)}function i(e){return o(e)&&!l(e)?e:N(e)}function o(e){return!(!e||!e[un])}function s(e){return!(!e||!e[dn])}function a(e){return!(!e||!e[pn])}function l(e){return s(e)||a(e)}function c(e){return!(!e||!e[hn])}function u(e){return e.value=!1,e}function d(e){e&&(e.value=!0)}function p(){}function h(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function f(e){return void 0===e.size&&(e.size=e.__iterate(_)),e.size}function m(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?f(e)+t:t}function _(){return!0}function g(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function v(e,t){return b(e,t,0)}function y(e,t){return b(e,t,t)}function b(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function w(e){this.next=e}function x(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function k(){return{value:void 0,done:!0}}function A(e){return!!S(e)}function C(e){return e&&"function"==typeof e.next}function E(e){var t=S(e);return t&&t.call(e)}function S(e){var t=e&&(An&&e[An]||e[Cn]);if("function"==typeof t)return t}function j(e){return e&&"number"==typeof e.length}function M(e){return null===e||void 0===e?P():o(e)?e.toSeq():F(e)}function T(e){return null===e||void 0===e?P().toKeyedSeq():o(e)?s(e)?e.toSeq():e.fromEntrySeq():B(e)}function O(e){return null===e||void 0===e?P():o(e)?s(e)?e.entrySeq():e.toIndexedSeq():q(e)}function N(e){return(null===e||void 0===e?P():o(e)?s(e)?e.entrySeq():e:q(e)).toSetSeq()}function I(e){this._array=e,this.size=e.length}function D(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function L(e){this._iterable=e,this.size=e.length||e.size}function z(e){this._iterator=e,this._iteratorCache=[]}function R(e){return!(!e||!e[Sn])}function P(){return jn||(jn=new I([]))}function B(e){var t=Array.isArray(e)?new I(e).fromEntrySeq():C(e)?new z(e).fromEntrySeq():A(e)?new L(e).fromEntrySeq():"object"==typeof e?new D(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function q(e){var t=U(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function F(e){var t=U(e)||"object"==typeof e&&new D(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function U(e){return j(e)?new I(e):C(e)?new z(e):A(e)?new L(e):void 0}function W(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var a=i[n?o-s:s];if(t(a[1],r?a[0]:s,e)===!1)return s+1}return s}return e.__iterateUncached(t,n)}function H(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,s=0;return new w(function(){var e=i[n?o-s:s];return s++>o?k():x(t,r?e[0]:s-1,e[1])})}return e.__iteratorUncached(t,n)}function K(e,t){return t?G(t,e,"",{"":e}):Y(e)}function G(e,t,n,r){return Array.isArray(t)?e.call(r,n,O(t).map(function(n,r){return G(e,n,r,t)})):J(t)?e.call(r,n,T(t).map(function(n,r){return G(e,n,r,t)})):t}function Y(e){return Array.isArray(e)?O(e).map(Y).toList():J(e)?T(e).map(Y).toMap():e}function J(e){return e&&(e.constructor===Object||void 0===e.constructor)}function V(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function Q(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||a(e)!==a(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&V(i[1],e)&&(n||V(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var u=e;e=t,t=u}var d=!0,p=t.__iterate(function(t,r){if(n?!e.has(t):i?!V(t,e.get(r,vn)):!V(e.get(r,vn),t))return d=!1,!1});return d&&e.size===p}function Z(e,t){if(!(this instanceof Z))return new Z(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Mn)return Mn;Mn=this}}function X(e,t){if(!e)throw Error(t)}function ee(e,t,n){if(!(this instanceof ee))return new ee(e,t,n);if(X(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Tn)return Tn;Tn=this}}function te(){throw TypeError("Abstract")}function ne(){}function re(){}function ie(){}function oe(e){return e>>>1&1073741824|3221225471&e}function se(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return oe(n)}if("string"===t)return e.length>Pn?ae(e):le(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return ce(e);if("function"==typeof e.toString)return le(""+e);throw Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=Fn[e];return void 0===t&&(t=le(e),qn===Bn&&(qn=0,Fn={}),qn++,Fn[e]=t),t}function le(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return oe(t)}function ce(e){var t;if(Ln&&(t=On.get(e),void 0!==t))return t;if(t=e[Rn],void 0!==t)return t;if(!Dn){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Rn],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++zn,1073741824&zn&&(zn=0),Ln)On.set(e,t);else{if(void 0!==In&&In(e)===!1)throw Error("Non-extensible objects are not allowed as keys.");if(Dn)Object.defineProperty(e,Rn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Rn]=t;else{if(void 0===e.nodeType)throw Error("Unable to set a non-enumerable property on object.");e[Rn]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function de(e){X(e!==1/0,"Cannot perform this action with an infinite size.")}function pe(e){return null===e||void 0===e?ke():he(e)&&!c(e)?e:ke().withMutations(function(t){var r=n(e);de(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function he(e){return!(!e||!e[Un])}function fe(e,t){this.ownerID=e,this.entries=t}function me(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function _e(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ye(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&we(e._root)}function be(e,t){return x(e,t[0],t[1])}function we(e,t){return{node:e,index:0,__prev:t}}function xe(e,t,n,r){var i=Object.create(Wn);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function ke(){return Hn||(Hn=xe(0))}function Ae(e,t,n){var r,i;if(e._root){var o=u(yn),s=u(bn);if(r=Ce(e._root,e.__ownerID,0,void 0,t,n,o,s),!s.value)return e;i=e.size+(o.value?n===vn?-1:1:0)}else{if(n===vn)return e;i=1,r=new fe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?xe(i,r):ke()}function Ce(e,t,n,r,i,o,s,a){return e?e.update(t,n,r,i,o,s,a):o===vn?e:(d(a),d(s),new ve(t,r,[i,o]))}function Ee(e){return e.constructor===ve||e.constructor===ge}function Se(e,t,n,r,i){if(e.keyHash===r)return new ge(t,r,[e.entry,i]);var o,s=(0===n?e.keyHash:e.keyHash>>>n)&gn,a=(0===n?r:r>>>n)&gn,l=s===a?[Se(e,t,n+mn,r,i)]:(o=new ve(t,r,i),s<a?[e,o]:[o,e]);return new me(t,1<<s|1<<a,l)}function je(e,t,n,r){e||(e=new p);for(var i=new ve(e,se(n),[n,r]),o=0;o<t.length;o++){var s=t[o];i=i.update(e,0,void 0,s[0],s[1])}return i}function Me(e,t,n,r){for(var i=0,o=0,s=Array(n),a=0,l=1,c=t.length;a<c;a++,l<<=1){var u=t[a];void 0!==u&&a!==r&&(i|=l,s[o++]=u)}return new me(e,i,s)}function Te(e,t,n,r,i){for(var o=0,s=Array(_n),a=0;0!==n;a++,n>>>=1)s[a]=1&n?t[o++]:void 0;return s[r]=i,new _e(e,o+1,s)}function Oe(e,t,r){for(var i=[],s=0;s<r.length;s++){var a=r[s],l=n(a);o(a)||(l=l.map(function(e){return K(e)})),i.push(l)}return De(e,t,i)}function Ne(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):V(e,t)?e:t}function Ie(e){return function(t,n,r){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return V(t,i)?t:i}}function De(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,vn,function(e){return e===vn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)}):e.constructor(n[0])}function Le(e,t,n,r){var i=e===vn,o=t.next();if(o.done){var s=i?n:e,a=r(s);return a===s?e:a}X(i||e&&e.set,"invalid keyPath");var l=o.value,c=i?vn:e.get(l,vn),u=Le(c,t,n,r);return u===c?e:u===vn?e.remove(l):(i?ke():e).set(l,u)}function ze(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Re(e,t,n,r){var i=r?e:h(e);return i[t]=n,i}function Pe(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=Array(i),s=0,a=0;a<i;a++)a===t?(o[a]=n,s=-1):o[a]=e[a+s];return o}function Be(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=Array(r),o=0,s=0;s<r;s++)s===t&&(o=1),i[s]=e[s+o];return i}function qe(e){var t=Ke();if(null===e||void 0===e)return t;if(Fe(e))return e;var n=r(e),i=n.size;return 0===i?t:(de(i),i>0&&i<_n?He(0,i,mn,null,new Ue(n.toArray())):t.withMutations(function(e){e.setSize(i),n.forEach(function(t,n){return e.set(n,t)})}))}function Fe(e){return!(!e||!e[Jn])}function Ue(e,t){this.array=e,this.ownerID=t}function We(e,t){function n(e,t,n){return 0===t?r(e,n):i(e,t,n)}function r(e,n){var r=n===a?l&&l.array:e&&e.array,i=n>o?0:o-n,c=s-n;return c>_n&&(c=_n),function(){if(i===c)return Zn;var e=t?--c:i++;return r&&r[e]}}function i(e,r,i){var a,l=e&&e.array,c=i>o?0:o-i>>r,u=(s-i>>r)+1;return u>_n&&(u=_n),function(){for(;;){if(a){var e=a();if(e!==Zn)return e;a=null}if(c===u)return Zn;var o=t?--u:c++;a=n(l&&l[o],r-mn,i+(o<<r))}}}var o=e._origin,s=e._capacity,a=$e(s),l=e._tail;return n(e._root,e._level,0)}function He(e,t,n,r,i,o,s){var a=Object.create(Vn);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function Ke(){return Qn||(Qn=He(0,0,mn))}function Ge(e,t,n){if(t=m(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Qe(e,t).set(0,n):Qe(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=u(bn);return t>=$e(e._capacity)?r=Ye(r,e.__ownerID,0,t,n,o):i=Ye(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):He(e._origin,e._capacity,e._level,i,r):e}function Ye(e,t,n,r,i,o){var s=r>>>n&gn,a=e&&s<e.array.length;if(!a&&void 0===i)return e;var l;if(n>0){var c=e&&e.array[s],u=Ye(c,t,n-mn,r,i,o);return u===c?e:(l=Je(e,t),l.array[s]=u,l)}return a&&e.array[s]===i?e:(d(o),l=Je(e,t),void 0===i&&s===l.array.length-1?l.array.pop():l.array[s]=i,l)}function Je(e,t){return t&&e&&t===e.ownerID?e:new Ue(e?e.array.slice():[],t)}function Ve(e,t){if(t>=$e(e._capacity))return e._tail;if(t<1<<e._level+mn){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&gn],r-=mn;return n}}function Qe(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new p,i=e._origin,o=e._capacity,s=i+t,a=void 0===n?o:n<0?o+n:i+n;if(s===i&&a===o)return e;if(s>=a)return e.clear();for(var l=e._level,c=e._root,u=0;s+u<0;)c=new Ue(c&&c.array.length?[void 0,c]:[],r),l+=mn,u+=1<<l;u&&(s+=u,i+=u,a+=u,o+=u);for(var d=$e(o),h=$e(a);h>=1<<l+mn;)c=new Ue(c&&c.array.length?[c]:[],r),l+=mn;var f=e._tail,m=h<d?Ve(e,a-1):h>d?new Ue([],r):f;if(f&&h>d&&s<o&&f.array.length){c=Je(c,r);for(var _=c,g=l;g>mn;g-=mn){var v=d>>>g&gn;_=_.array[v]=Je(_.array[v],r)}_.array[d>>>mn&gn]=f}if(a<o&&(m=m&&m.removeAfter(r,0,a)),s>=h)s-=h,a-=h,l=mn,c=null,m=m&&m.removeBefore(r,0,s);else if(s>i||h<d){for(u=0;c;){var y=s>>>l&gn;if(y!==h>>>l&gn)break;y&&(u+=(1<<l)*y),l-=mn,c=c.array[y]}c&&s>i&&(c=c.removeBefore(r,l,s-u)),c&&h<d&&(c=c.removeAfter(r,l,h-u)),u&&(s-=u,a-=u)}return e.__ownerID?(e.size=a-s,e._origin=s,e._capacity=a,e._level=l,e._root=c,e._tail=m,e.__hash=void 0,e.__altered=!0,e):He(s,a,l,c,m)}function Ze(e,t,n){for(var i=[],s=0,a=0;a<n.length;a++){var l=n[a],c=r(l);c.size>s&&(s=c.size),o(l)||(c=c.map(function(e){return K(e)})),i.push(c)}return s>e.size&&(e=e.setSize(s)),De(e,t,i)}function $e(e){return e<_n?0:e-1>>>mn<<mn}function Xe(e){return null===e||void 0===e?nt():et(e)?e:nt().withMutations(function(t){var r=n(e);de(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function et(e){return he(e)&&c(e)}function tt(e,t,n,r){var i=Object.create(Xe.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function nt(){return $n||($n=tt(ke(),Ke()))}function rt(e,t,n){var r,i,o=e._map,s=e._list,a=o.get(t),l=void 0!==a;if(n===vn){if(!l)return e;s.size>=_n&&s.size>=2*o.size?(i=s.filter(function(e,t){return void 0!==e&&a!==t}),r=i.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(l){if(n===s.get(a)[1])return e;r=o,i=s.set(a,[t,n])}else r=o.set(t,s.size),i=s.set(s.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):tt(r,i)}function it(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function st(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function lt(e){var t=Mt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Tt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===kn){var r=e.__iterator(t,n);return new w(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===xn?wn:xn,n)},t}function ct(e,t,n){var r=Mt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,vn);return o===vn?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,s){return r(t.call(n,e,i,s),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(kn,i);return new w(function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return x(r,a,t.call(n,s[1],a,e),i)})},r}function ut(e,t){var n=Mt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=lt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Tt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function dt(e,t,n,r){var i=Mt(e);return r&&(i.has=function(r){var i=e.get(r,vn);return i!==vn&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,vn);return o!==vn&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return e.__iterate(function(e,o,l){if(t.call(n,e,o,l))return a++,i(e,r?o:a-1,s)},o),a},i.__iteratorUncached=function(i,o){var s=e.__iterator(kn,o),a=0;return new w(function(){for(;;){var o=s.next();if(o.done)return o;var l=o.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return x(i,r?c:a++,u,o)}})},i}function pt(e,t,n){var r=pe().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}function ht(e,t,n){var r=s(e),i=(c(e)?Xe():pe()).asMutable();e.__iterate(function(o,s){i.update(t.call(n,o,s,e),function(e){return e=e||[],e.push(r?[s,o]:o),e})});var o=jt(e);return i.map(function(t){return Ct(e,o(t))})}function ft(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),g(t,n,i))return e;var o=v(t,i),s=y(n,i);if(o!==o||s!==s)return ft(e.toSeq().cacheResult(),t,n,r);var a,l=s-o;l===l&&(a=l<0?0:l);var c=Mt(e);return c.size=0===a?a:e.size&&a||void 0,!r&&R(e)&&a>=0&&(c.get=function(t,n){return t=m(this,t),t>=0&&t<a?e.get(t+o,n):n}),c.__iterateUncached=function(t,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var s=0,l=!0,c=0;return e.__iterate(function(e,n){if(!l||!(l=s++<o))return c++,t(e,r?n:c-1,i)!==!1&&c!==a}),c},c.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);var i=0!==a&&e.__iterator(t,n),s=0,l=0;return new w(function(){for(;s++<o;)i.next();if(++l>a)return k();var e=i.next();return r||t===xn?e:t===wn?x(t,l-1,void 0,e):x(t,l-1,e.value[1],e)})},c}function mt(e,t,n){var r=Mt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return e.__iterate(function(e,i,a){return t.call(n,e,i,a)&&++s&&r(e,i,o)}),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=e.__iterator(kn,i),a=!0;return new w(function(){if(!a)return k();var e=s.next();if(e.done)return e;var i=e.value,l=i[0],c=i[1];return t.call(n,c,l,o)?r===kn?e:x(r,l,c,e):(a=!1,k())})},r}function _t(e,t,n,r){var i=Mt(e);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,l=0;return e.__iterate(function(e,o,c){if(!a||!(a=t.call(n,e,o,c)))return l++,i(e,r?o:l-1,s)}),l},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(kn,o),l=!0,c=0;return new w(function(){var e,o,u;do{if(e=a.next(),e.done)return r||i===xn?e:i===wn?x(i,c++,void 0,e):x(i,c++,e.value[1],e);var d=e.value;o=d[0],u=d[1],l&&(l=t.call(n,u,o,s))}while(l);return i===kn?e:x(i,o,u,e)})},i}function gt(e,t){var r=s(e),i=[e].concat(t).map(function(e){return o(e)?r&&(e=n(e)):e=r?B(e):q(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var l=i[0];if(l===e||r&&s(l)||a(e)&&a(l))return l}var c=new I(i);return r?c=c.toKeyedSeq():a(e)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),c}function vt(e,t,n){var r=Mt(e);return r.__iterateUncached=function(r,i){function s(e,c){var u=this;e.__iterate(function(e,i){return(!t||c<t)&&o(e)?s(e,c+1):r(e,n?i:a++,u)===!1&&(l=!0),!l},i)}var a=0,l=!1;return s(e,0),a},r.__iteratorUncached=function(r,i){var s=e.__iterator(r,i),a=[],l=0;return new w(function(){for(;s;){var e=s.next();if(e.done===!1){var c=e.value;if(r===kn&&(c=c[1]),t&&!(a.length<t)||!o(c))return n?e:x(r,l++,c,e);a.push(s),s=c.__iterator(r,i)}else s=a.pop()}return k()})},r}function yt(e,t,n){var r=jt(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}function bt(e,t){var n=Mt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e,r){return(!o||n(t,o++,i)!==!1)&&n(e,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(xn,r),s=0;return new w(function(){return(!i||s%2)&&(i=o.next(),i.done)?i:s%2?x(n,s++,t):x(n,s++,i.value,i)})},n}function wt(e,t,n){t||(t=Ot);var r=s(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?T(o):a(e)?O(o):N(o)}function xt(e,t,n){if(t||(t=Ot),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return kt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return kt(t,e,n)?n:e})}function kt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function At(e,n,r){var i=Mt(e);return i.size=new I(r).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(xn,t),i=0;!(n=r.next()).done&&e(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(e,i){var o=r.map(function(e){return e=t(e),E(i?e.reverse():e)}),s=0,a=!1;return new w(function(){var t;return a||(t=o.map(function(e){return e.next()}),a=t.some(function(e){return e.done})),a?k():x(e,s++,n.apply(null,t.map(function(e){return e.value})))})},i}function Ct(e,t){return R(e)?t:e.constructor(t)}function Et(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function St(e){return de(e.size),f(e)}function jt(e){return s(e)?n:a(e)?r:i}function Mt(e){return Object.create((s(e)?T:a(e)?O:N).prototype)}function Tt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):M.prototype.cacheResult.call(this)}function Ot(e,t){return e>t?1:e<t?-1:0}function Nt(e){var n=E(e);if(!n){if(!j(e))throw new TypeError("Expected iterable or array-like: "+e);n=E(t(e))}return n}function It(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(e);zt(i,s),i.size=s.length,i._name=t,i._keys=s,i._defaultValues=e}this._map=pe(o)},i=r.prototype=Object.create(Xn);return i.constructor=r,r}function Dt(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Lt(e){return e._name||e.constructor.name||"Record"}function zt(e,t){try{t.forEach(Rt.bind(void 0,e))}catch(e){}}function Rt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){X(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Pt(e){return null===e||void 0===e?Ut():Bt(e)&&!c(e)?e:Ut().withMutations(function(t){var n=i(e);de(n.size),n.forEach(function(e){return t.add(e)})})}function Bt(e){return!(!e||!e[er])}function qt(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ft(e,t){var n=Object.create(tr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Ut(){return nr||(nr=Ft(ke()))}function Wt(e){return null===e||void 0===e?Gt():Ht(e)?e:Gt().withMutations(function(t){var n=i(e);de(n.size),n.forEach(function(e){return t.add(e)})})}function Ht(e){return Bt(e)&&c(e)}function Kt(e,t){var n=Object.create(rr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Gt(){return ir||(ir=Kt(nt()))}function Yt(e){return null===e||void 0===e?Qt():Jt(e)?e:Qt().unshiftAll(e)}function Jt(e){return!(!e||!e[or])}function Vt(e,t,n,r){var i=Object.create(sr);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Qt(){return ar||(ar=Vt(0))}function Zt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function $t(e,t){return t}function Xt(e,t){return[t,e]}function en(e){return function(){return!e.apply(this,arguments)}}function tn(e){return function(){return-e.apply(this,arguments)}}function nn(e){return"string"==typeof e?JSON.stringify(e):e+""}function rn(){return h(arguments)}function on(e,t){return e<t?1:e>t?-1:0}function sn(e){if(e.size===1/0)return 0;var t=c(e),n=s(e),r=t?1:0,i=e.__iterate(n?t?function(e,t){r=31*r+ln(se(e),se(t))|0}:function(e,t){r=r+ln(se(e),se(t))|0}:t?function(e){r=31*r+se(e)|0}:function(e){r=r+se(e)|0});return an(i,r)}function an(e,t){return t=Nn(t,3432918353),t=Nn(t<<15|t>>>-15,461845907),t=Nn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Nn(t^t>>>16,2246822507),t=Nn(t^t>>>13,3266489909),t=oe(t^t>>>16)}function ln(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var cn=Array.prototype.slice;e(n,t),e(r,t),e(i,t),t.isIterable=o,t.isKeyed=s,t.isIndexed=a,t.isAssociative=l,t.isOrdered=c,t.Keyed=n,t.Indexed=r,t.Set=i;var un="@@__IMMUTABLE_ITERABLE__@@",dn="@@__IMMUTABLE_KEYED__@@",pn="@@__IMMUTABLE_INDEXED__@@",hn="@@__IMMUTABLE_ORDERED__@@",fn="delete",mn=5,_n=1<<mn,gn=_n-1,vn={},yn={value:!1},bn={value:!1},wn=0,xn=1,kn=2,An="function"==typeof Symbol&&Symbol.iterator,Cn="@@iterator",En=An||Cn;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=wn,w.VALUES=xn,w.ENTRIES=kn,w.prototype.inspect=w.prototype.toSource=function(){return""+this},w.prototype[En]=function(){return this},e(M,t),M.of=function(){return M(arguments)},M.prototype.toSeq=function(){return this},M.prototype.toString=function(){return this.__toString("Seq {","}")},M.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},M.prototype.__iterate=function(e,t){return W(this,e,t,!0)},M.prototype.__iterator=function(e,t){return H(this,e,t,!0)},e(T,M),T.prototype.toKeyedSeq=function(){return this},e(O,M),O.of=function(){return O(arguments)},O.prototype.toIndexedSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq [","]")},O.prototype.__iterate=function(e,t){return W(this,e,t,!1)},O.prototype.__iterator=function(e,t){return H(this,e,t,!1)},e(N,M),N.of=function(){return N(arguments)},N.prototype.toSetSeq=function(){return this},M.isSeq=R,M.Keyed=T,M.Set=N,M.Indexed=O;var Sn="@@__IMMUTABLE_SEQ__@@";M.prototype[Sn]=!0,e(I,O),I.prototype.get=function(e,t){return this.has(e)?this._array[m(this,e)]:t},I.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(e(n[t?r-i:i],i,this)===!1)return i+1;return i},I.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new w(function(){return i>r?k():x(e,i,n[t?r-i++:i++])})},e(D,T),D.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},D.prototype.has=function(e){return this._object.hasOwnProperty(e)},D.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var s=r[t?i-o:o];if(e(n[s],s,this)===!1)return o+1}return o},D.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new w(function(){var s=r[t?i-o:o];return o++>i?k():x(e,s,n[s])})},D.prototype[hn]=!0,e(L,O),L.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=E(n),i=0;if(C(r))for(var o;!(o=r.next()).done&&e(o.value,i++,this)!==!1;);return i},L.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=E(n);if(!C(r))return new w(k);var i=0;return new w(function(){var t=r.next();return t.done?t:x(e,i++,t.value)})},e(z,O),z.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(e(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var s=o.value;if(r[i]=s,e(s,i++,this)===!1)break}return i},z.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new w(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return x(e,i,r[i++])})};var jn;e(Z,O),Z.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Z.prototype.get=function(e,t){return this.has(e)?this._value:t},Z.prototype.includes=function(e){return V(this._value,e)},Z.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:new Z(this._value,y(t,n)-v(e,n))},Z.prototype.reverse=function(){return this},Z.prototype.indexOf=function(e){return V(this._value,e)?0:-1},Z.prototype.lastIndexOf=function(e){return V(this._value,e)?this.size:-1},Z.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},Z.prototype.__iterator=function(e,t){var n=this,r=0;return new w(function(){return r<n.size?x(e,r++,n._value):k()})},Z.prototype.equals=function(e){return e instanceof Z?V(this._value,e._value):Q(e)};var Mn;e(ee,O),ee.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ee.prototype.get=function(e,t){return this.has(e)?this._start+m(this,e)*this._step:t},ee.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ee.prototype.slice=function(e,t){return g(e,t,this.size)?this:(e=v(e,this.size),t=y(t,this.size),t<=e?new ee(0,0):new ee(this.get(e,this._end),this.get(t,this._end),this._step))},ee.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ee.prototype.lastIndexOf=function(e){return this.indexOf(e)},ee.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(e(i,o,this)===!1)return o+1;i+=t?-r:r}return o},ee.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new w(function(){var s=i;return i+=t?-r:r,o>n?k():x(e,o++,s)})},ee.prototype.equals=function(e){return e instanceof ee?this._start===e._start&&this._end===e._end&&this._step===e._step:Q(this,e)};var Tn;e(te,t),e(ne,te),e(re,te),e(ie,te),te.Keyed=ne,te.Indexed=re,te.Set=ie;var On,Nn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e|=0,t|=0;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},In=Object.isExtensible,Dn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Ln="function"==typeof WeakMap;Ln&&(On=new WeakMap);var zn=0,Rn="__immutablehash__";"function"==typeof Symbol&&(Rn=Symbol(Rn));var Pn=16,Bn=255,qn=0,Fn={};e(pe,ne),pe.of=function(){var e=cn.call(arguments,0);return ke().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},pe.prototype.toString=function(){return this.__toString("Map {","}")},pe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},pe.prototype.set=function(e,t){return Ae(this,e,t)},pe.prototype.setIn=function(e,t){return this.updateIn(e,vn,function(){return t})},pe.prototype.remove=function(e){return Ae(this,e,vn)},pe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return vn})},pe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},pe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Le(this,Nt(e),t,n);return r===vn?void 0:r},pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ke()},pe.prototype.merge=function(){return Oe(this,void 0,arguments)},pe.prototype.mergeWith=function(e){
var t=cn.call(arguments,1);return Oe(this,e,t)},pe.prototype.mergeIn=function(e){var t=cn.call(arguments,1);return this.updateIn(e,ke(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},pe.prototype.mergeDeep=function(){return Oe(this,Ne,arguments)},pe.prototype.mergeDeepWith=function(e){var t=cn.call(arguments,1);return Oe(this,Ie(e),t)},pe.prototype.mergeDeepIn=function(e){var t=cn.call(arguments,1);return this.updateIn(e,ke(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},pe.prototype.sort=function(e){return Xe(wt(this,e))},pe.prototype.sortBy=function(e,t){return Xe(wt(this,t,e))},pe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},pe.prototype.asImmutable=function(){return this.__ensureOwner()},pe.prototype.wasAltered=function(){return this.__altered},pe.prototype.__iterator=function(e,t){return new ye(this,e,t)},pe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},pe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},pe.isMap=he;var Un="@@__IMMUTABLE_MAP__@@",Wn=pe.prototype;Wn[Un]=!0,Wn[fn]=Wn.remove,Wn.removeIn=Wn.deleteIn,fe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(V(n,i[o][0]))return i[o][1];return r},fe.prototype.update=function(e,t,n,r,i,o,s){for(var a=i===vn,l=this.entries,c=0,u=l.length;c<u&&!V(r,l[c][0]);c++);var p=c<u;if(p?l[c][1]===i:a)return this;if(d(s),(a||!p)&&d(o),!a||1!==l.length){if(!p&&!a&&l.length>=Kn)return je(e,l,r,i);var f=e&&e===this.ownerID,m=f?l:h(l);return p?a?c===u-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),f?(this.entries=m,this):new fe(e,m)}},me.prototype.get=function(e,t,n,r){void 0===t&&(t=se(n));var i=1<<((0===e?t:t>>>e)&gn),o=this.bitmap;return 0===(o&i)?r:this.nodes[ze(o&i-1)].get(e+mn,t,n,r)},me.prototype.update=function(e,t,n,r,i,o,s){void 0===n&&(n=se(r));var a=(0===t?n:n>>>t)&gn,l=1<<a,c=this.bitmap,u=0!==(c&l);if(!u&&i===vn)return this;var d=ze(c&l-1),p=this.nodes,h=u?p[d]:void 0,f=Ce(h,e,t+mn,n,r,i,o,s);if(f===h)return this;if(!u&&f&&p.length>=Gn)return Te(e,p,c,a,f);if(u&&!f&&2===p.length&&Ee(p[1^d]))return p[1^d];if(u&&f&&1===p.length&&Ee(f))return f;var m=e&&e===this.ownerID,_=u?f?c:c^l:c|l,g=u?f?Re(p,d,f,m):Be(p,d,m):Pe(p,d,f,m);return m?(this.bitmap=_,this.nodes=g,this):new me(e,_,g)},_e.prototype.get=function(e,t,n,r){void 0===t&&(t=se(n));var i=(0===e?t:t>>>e)&gn,o=this.nodes[i];return o?o.get(e+mn,t,n,r):r},_e.prototype.update=function(e,t,n,r,i,o,s){void 0===n&&(n=se(r));var a=(0===t?n:n>>>t)&gn,l=i===vn,c=this.nodes,u=c[a];if(l&&!u)return this;var d=Ce(u,e,t+mn,n,r,i,o,s);if(d===u)return this;var p=this.count;if(u){if(!d&&(p--,p<Yn))return Me(e,c,p,a)}else p++;var h=e&&e===this.ownerID,f=Re(c,a,d,h);return h?(this.count=p,this.nodes=f,this):new _e(e,p,f)},ge.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(V(n,i[o][0]))return i[o][1];return r},ge.prototype.update=function(e,t,n,r,i,o,s){void 0===n&&(n=se(r));var a=i===vn;if(n!==this.keyHash)return a?this:(d(s),d(o),Se(this,e,t,n,[r,i]));for(var l=this.entries,c=0,u=l.length;c<u&&!V(r,l[c][0]);c++);var p=c<u;if(p?l[c][1]===i:a)return this;if(d(s),(a||!p)&&d(o),a&&2===u)return new ve(e,this.keyHash,l[1^c]);var f=e&&e===this.ownerID,m=f?l:h(l);return p?a?c===u-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),f?(this.entries=m,this):new ge(e,this.keyHash,m)},ve.prototype.get=function(e,t,n,r){return V(n,this.entry[0])?this.entry[1]:r},ve.prototype.update=function(e,t,n,r,i,o,s){var a=i===vn,l=V(r,this.entry[0]);return(l?i===this.entry[1]:a)?this:(d(s),a?void d(o):l?e&&e===this.ownerID?(this.entry[1]=i,this):new ve(e,this.keyHash,[r,i]):(d(o),Se(this,e,t,se(r),[r,i])))},fe.prototype.iterate=ge.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(e(n[t?i-r:r])===!1)return!1},me.prototype.iterate=_e.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&o.iterate(e,t)===!1)return!1}},ve.prototype.iterate=function(e,t){return e(this.entry)},e(ye,w),ye.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return be(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return be(e,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return be(e,o.entry);t=this._stack=we(o,t)}continue}t=this._stack=this._stack.__prev}return k()};var Hn,Kn=_n/4,Gn=_n/2,Yn=_n/4;e(qe,re),qe.of=function(){return this(arguments)},qe.prototype.toString=function(){return this.__toString("List [","]")},qe.prototype.get=function(e,t){if(e=m(this,e),e>=0&&e<this.size){e+=this._origin;var n=Ve(this,e);return n&&n.array[e&gn]}return t},qe.prototype.set=function(e,t){return Ge(this,e,t)},qe.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},qe.prototype.insert=function(e,t){return this.splice(e,0,t)},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=mn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ke()},qe.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Qe(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},qe.prototype.pop=function(){return Qe(this,0,-1)},qe.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Qe(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},qe.prototype.shift=function(){return Qe(this,1)},qe.prototype.merge=function(){return Ze(this,void 0,arguments)},qe.prototype.mergeWith=function(e){var t=cn.call(arguments,1);return Ze(this,e,t)},qe.prototype.mergeDeep=function(){return Ze(this,Ne,arguments)},qe.prototype.mergeDeepWith=function(e){var t=cn.call(arguments,1);return Ze(this,Ie(e),t)},qe.prototype.setSize=function(e){return Qe(this,0,e)},qe.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:Qe(this,v(e,n),y(t,n))},qe.prototype.__iterator=function(e,t){var n=0,r=We(this,t);return new w(function(){var t=r();return t===Zn?k():x(e,n++,t)})},qe.prototype.__iterate=function(e,t){for(var n,r=0,i=We(this,t);(n=i())!==Zn&&e(n,r++,this)!==!1;);return r},qe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?He(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},qe.isList=Fe;var Jn="@@__IMMUTABLE_LIST__@@",Vn=qe.prototype;Vn[Jn]=!0,Vn[fn]=Vn.remove,Vn.setIn=Wn.setIn,Vn.deleteIn=Vn.removeIn=Wn.removeIn,Vn.update=Wn.update,Vn.updateIn=Wn.updateIn,Vn.mergeIn=Wn.mergeIn,Vn.mergeDeepIn=Wn.mergeDeepIn,Vn.withMutations=Wn.withMutations,Vn.asMutable=Wn.asMutable,Vn.asImmutable=Wn.asImmutable,Vn.wasAltered=Wn.wasAltered,Ue.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&gn;if(r>=this.array.length)return new Ue([],e);var i,o=0===r;if(t>0){var s=this.array[r];if(i=s&&s.removeBefore(e,t-mn,n),i===s&&o)return this}if(o&&!i)return this;var a=Je(this,e);if(!o)for(var l=0;l<r;l++)a.array[l]=void 0;return i&&(a.array[r]=i),a},Ue.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r=n-1>>>t&gn;if(r>=this.array.length)return this;var i;if(t>0){var o=this.array[r];if(i=o&&o.removeAfter(e,t-mn,n),i===o&&r===this.array.length-1)return this}var s=Je(this,e);return s.array.splice(r+1),i&&(s.array[r]=i),s};var Qn,Zn={};e(Xe,pe),Xe.of=function(){return this(arguments)},Xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Xe.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):nt()},Xe.prototype.set=function(e,t){return rt(this,e,t)},Xe.prototype.remove=function(e){return rt(this,e,vn)},Xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Xe.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Xe.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Xe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?tt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Xe.isOrderedMap=et,Xe.prototype[hn]=!0,Xe.prototype[fn]=Xe.prototype.remove;var $n;e(it,T),it.prototype.get=function(e,t){return this._iter.get(e,t)},it.prototype.has=function(e){return this._iter.has(e)},it.prototype.valueSeq=function(){return this._iter.valueSeq()},it.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},it.prototype.map=function(e,t){var n=this,r=ct(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},it.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?St(this):0,function(i){return e(i,t?--n:n++,r)}),t)},it.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(xn,t),r=t?St(this):0;return new w(function(){var i=n.next();return i.done?i:x(e,t?--r:r++,i.value,i)})},it.prototype[hn]=!0,e(ot,O),ot.prototype.includes=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(xn,t),r=0;return new w(function(){var t=n.next();return t.done?t:x(e,r++,t.value,t)})},e(st,N),st.prototype.has=function(e){return this._iter.includes(e)},st.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},st.prototype.__iterator=function(e,t){var n=this._iter.__iterator(xn,t);return new w(function(){var t=n.next();return t.done?t:x(e,t.value,t.value,t)})},e(at,T),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Et(t);var r=o(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(xn,t);return new w(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Et(r);var i=o(r);return x(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},ot.prototype.cacheResult=it.prototype.cacheResult=st.prototype.cacheResult=at.prototype.cacheResult=Tt,e(It,ne),It.prototype.toString=function(){return this.__toString(Lt(this)+" {","}")},It.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},It.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},It.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Dt(this,ke()))},It.prototype.set=function(e,t){if(!this.has(e))throw Error('Cannot set unknown key "'+e+'" on '+Lt(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:Dt(this,r)},It.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Dt(this,t)},It.prototype.wasAltered=function(){return this._map.wasAltered()},It.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},It.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},It.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Dt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Xn=It.prototype;Xn[fn]=Xn.remove,Xn.deleteIn=Xn.removeIn=Wn.removeIn,Xn.merge=Wn.merge,Xn.mergeWith=Wn.mergeWith,Xn.mergeIn=Wn.mergeIn,Xn.mergeDeep=Wn.mergeDeep,Xn.mergeDeepWith=Wn.mergeDeepWith,Xn.mergeDeepIn=Wn.mergeDeepIn,Xn.setIn=Wn.setIn,Xn.update=Wn.update,Xn.updateIn=Wn.updateIn,Xn.withMutations=Wn.withMutations,Xn.asMutable=Wn.asMutable,Xn.asImmutable=Wn.asImmutable,e(Pt,ie),Pt.of=function(){return this(arguments)},Pt.fromKeys=function(e){return this(n(e).keySeq())},Pt.prototype.toString=function(){return this.__toString("Set {","}")},Pt.prototype.has=function(e){return this._map.has(e)},Pt.prototype.add=function(e){return qt(this,this._map.set(e,!0))},Pt.prototype.remove=function(e){return qt(this,this._map.remove(e))},Pt.prototype.clear=function(){return qt(this,this._map.clear())},Pt.prototype.union=function(){var e=cn.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Pt.prototype.intersect=function(){var e=cn.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return i(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Pt.prototype.subtract=function(){var e=cn.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return i(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Pt.prototype.merge=function(){return this.union.apply(this,arguments)},Pt.prototype.mergeWith=function(e){var t=cn.call(arguments,1);return this.union.apply(this,t)},Pt.prototype.sort=function(e){return Wt(wt(this,e))},Pt.prototype.sortBy=function(e,t){return Wt(wt(this,t,e))},Pt.prototype.wasAltered=function(){return this._map.wasAltered()},Pt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Pt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Pt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Pt.isSet=Bt;var er="@@__IMMUTABLE_SET__@@",tr=Pt.prototype;tr[er]=!0,tr[fn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Wn.withMutations,tr.asMutable=Wn.asMutable,tr.asImmutable=Wn.asImmutable,tr.__empty=Ut,tr.__make=Ft;var nr;e(Wt,Pt),Wt.of=function(){return this(arguments)},Wt.fromKeys=function(e){return this(n(e).keySeq())},Wt.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Wt.isOrderedSet=Ht;var rr=Wt.prototype;rr[hn]=!0,rr.__empty=Gt,rr.__make=Kt;var ir;e(Yt,re),Yt.of=function(){return this(arguments)},Yt.prototype.toString=function(){return this.__toString("Stack [","]")},Yt.prototype.get=function(e,t){var n=this._head;for(e=m(this,e);n&&e--;)n=n.next;return n?n.value:t},Yt.prototype.peek=function(){return this._head&&this._head.value},Yt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Vt(e,t)},Yt.prototype.pushAll=function(e){if(e=r(e),0===e.size)return this;de(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Vt(t,n)},Yt.prototype.pop=function(){return this.slice(1)},Yt.prototype.unshift=function(){return this.push.apply(this,arguments)},Yt.prototype.unshiftAll=function(e){return this.pushAll(e)},Yt.prototype.shift=function(){return this.pop.apply(this,arguments)},Yt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Qt()},Yt.prototype.slice=function(e,t){if(g(e,t,this.size))return this;var n=v(e,this.size),r=y(t,this.size);if(r!==this.size)return re.prototype.slice.call(this,e,t);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Vt(i,o)},Yt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Vt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Yt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},Yt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new w(function(){if(r){var t=r.value;return r=r.next,x(e,n++,t)}return k()})},Yt.isStack=Jt;var or="@@__IMMUTABLE_STACK__@@",sr=Yt.prototype;sr[or]=!0,sr.withMutations=Wn.withMutations,sr.asMutable=Wn.asMutable,sr.asImmutable=Wn.asImmutable,sr.wasAltered=Wn.wasAltered;var ar;t.Iterator=w,Zt(t,{toArray:function(){de(this.size);var e=Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new ot(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new it(this,!0)},toMap:function(){return pe(this.toKeyedSeq())},toObject:function(){de(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Xe(this.toKeyedSeq())},toOrderedSet:function(){return Wt(s(this)?this.valueSeq():this)},toSet:function(){return Pt(s(this)?this.valueSeq():this)},toSetSeq:function(){return new st(this)},toSeq:function(){return a(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Yt(s(this)?this.valueSeq():this)},toList:function(){return qe(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=cn.call(arguments,0);return Ct(this,gt(this,e))},includes:function(e){return this.some(function(t){return V(t,e)})},entries:function(){return this.__iterator(kn)},every:function(e,t){de(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return Ct(this,dt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return de(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){de(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?""+r:""}),t},keys:function(){return this.__iterator(wn)},map:function(e,t){return Ct(this,ct(this,e,t))},reduce:function(e,t,n){de(this.size);var r,i;return arguments.length<2?i=!0:r=t,this.__iterate(function(t,o,s){i?(i=!1,r=t):r=e.call(n,r,t,o,s)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ct(this,ut(this,!0))},slice:function(e,t){return Ct(this,ft(this,e,t,!0))},some:function(e,t){return!this.every(en(e),t)},sort:function(e){return Ct(this,wt(this,e))},values:function(){return this.__iterator(xn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return f(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return pt(this,e,t)},equals:function(e){return Q(this,e)},entrySeq:function(){var e=this;if(e._cache)return new I(e._cache);var t=e.toSeq().map(Xt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(en(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(_)},flatMap:function(e,t){return Ct(this,yt(this,e,t))},flatten:function(e){return Ct(this,vt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return V(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,i=Nt(e);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,vn):vn,r===vn)return t}return r},groupBy:function(e,t){return ht(this,e,t)},has:function(e){return this.get(e,vn)!==vn},hasIn:function(e){return this.getIn(e,vn)!==vn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return V(t,e)})},keySeq:function(){return this.toSeq().map($t).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return xt(this,e)},maxBy:function(e,t){return xt(this,t,e)},min:function(e){return xt(this,e?tn(e):on)},minBy:function(e,t){return xt(this,t?tn(t):on,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Ct(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Ct(this,_t(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(en(e),t)},sortBy:function(e,t){return Ct(this,wt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Ct(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Ct(this,mt(this,e,t))},takeUntil:function(e,t){return this.takeWhile(en(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=sn(this))}});var lr=t.prototype;lr[un]=!0,lr[En]=lr.values,lr.__toJS=lr.toArray,lr.__toStringMapper=nn,lr.inspect=lr.toSource=function(){return""+this},lr.chain=lr.flatMap,lr.contains=lr.includes,Zt(n,{flip:function(){return Ct(this,lt(this))},mapEntries:function(e,t){var n=this,r=0;return Ct(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ct(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var cr=n.prototype;cr[dn]=!0,cr[En]=lr.entries,cr.__toJS=lr.toObject,cr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+nn(e)},Zt(r,{toKeyedSeq:function(){return new it(this,!1)},filter:function(e,t){return Ct(this,dt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ct(this,ut(this,!1))},slice:function(e,t){return Ct(this,ft(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=v(e,e<0?this.count():this.size);var r=this.slice(0,e);return Ct(this,1===n?r:r.concat(h(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Ct(this,vt(this,e,!1))},get:function(e,t){return e=m(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=m(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Ct(this,bt(this,e))},interleave:function(){var e=[this].concat(h(arguments)),t=At(this.toSeq(),O.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ct(this,n)},keySeq:function(){return ee(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Ct(this,_t(this,e,t,!1))},zip:function(){var e=[this].concat(h(arguments));return Ct(this,At(this,rn,e))},zipWith:function(e){var t=h(arguments);return t[0]=this,Ct(this,At(this,e,t))}}),r.prototype[pn]=!0,r.prototype[hn]=!0,Zt(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=lr.includes,i.prototype.contains=i.prototype.includes,Zt(T,n.prototype),Zt(O,r.prototype),Zt(N,i.prototype),Zt(ne,n.prototype),Zt(re,r.prototype),Zt(ie,i.prototype);var ur={Iterable:t,Seq:M,Collection:te,Map:pe,OrderedMap:Xe,List:qe,Stack:Yt,Set:Pt,OrderedSet:Wt,Record:It,Range:ee,Repeat:Z,is:V,fromJS:K};return ur})},function(e,exports){"use strict";function t(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e,t){return e===t}function r(e,r){if(null==e||null==r)return!1;var i=Object.keys(e),o=Object.keys(r);if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(!t(r,i[s])||!n(e[i[s]],r[i[s]]))return!1;return!0}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=0,s=e.exports={has:t,result:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},isShallowEqual:function(e,t){return e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():"object"!==(void 0===e?"undefined":i(e))&&"object"!==(void 0===t?"undefined":i(t))?e===t:(void 0===e?"undefined":i(e))===(void 0===t?"undefined":i(t))&&r(e,t))},transform:function(e,t,n){return s.each(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n},each:function(e,n,r){if(Array.isArray(e))return e.forEach(n,r);for(var i in e)t(e,i)&&n.call(r,e[i],i,e)},pick:function(e,t){return t=[].concat(t),s.transform(e,function(e,n,r){t.indexOf(r)!==-1&&(e[r]=n)},{})},pickProps:function(e,t){return s.pick(e,Object.keys(t.propTypes))},omit:function(e,t){return t=[].concat(t),s.transform(e,function(e,n,r){t.indexOf(r)===-1&&(e[r]=n)},{})},omitOwnProps:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.reduce(function(e,t){return e.concat(Object.keys(t.propTypes))},Object.keys(e.constructor.propTypes));return s.omit(e.props,i)},find:function(e,n,r){var i;if(Array.isArray(e))return e.every(function(t,o){return!n.call(r,t,o,e)||(i=t,!1)}),i;for(var o in e)if(t(e,o)&&n.call(r,e[o],o,e))return e[o]},chunk:function(e,t){var n=0,r=e?e.length:0,i=[];for(t=Math.max(+t||1,1);n<r;)i.push(e.slice(n,n+=t));return i},splat:function(e){return null==e?[]:[].concat(e)},noop:function(){},uniqueId:function(e){return""+((null==e?"":e)+ ++o)}}},function(e,exports,t){"use strict";function n(e,t){return 1===e.nodeType&&e.getAttribute(h)===t+""||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=r(e);n._hostNode=t,t[m]=n}function o(e){var t=e._hostNode;t&&(delete t[m],e._hostNode=null)}function s(e,t){if(!(e._flags&f.hasCachedChildNodes)){var o=e._renderedChildren,s=t.firstChild;e:for(var a in o)if(o.hasOwnProperty(a)){var l=o[a],c=r(l)._domID;if(0!==c){for(;null!==s;s=s.nextSibling)if(n(s,c)){i(l,s);continue e}u("32",c)}}e._flags|=f.hasCachedChildNodes}}function a(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&s(r,e);return n}function l(e){var t=a(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode?u("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:u("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var u=t(20),d=t(79),p=t(265),h=(t(14),d.ID_ATTRIBUTE_NAME),f=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),_={getClosestInstanceFromNode:a,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:i,uncacheNode:o};e.exports=_},function(e,exports,t){"use strict";e.exports=t(682)},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},b=[].slice;$=window.$,r=t(49).IS_MOBILE,f=t(9),l=t(73).dmp,i=t(797),u=t(86),m=t(12).redux,v=$("#salvus-misc-templates"),exports.is_shift_enter=function(e){return 13===e.which&&e.shiftKey},exports.is_enter=function(e){return 13===e.which&&!e.shiftKey},exports.is_ctrl_enter=function(e){return 13===e.which&&e.ctrlKey},exports.is_escape=function(e){return 27===e.which},c=exports.local_diff=function(e,t){var n,r,i,o,s;if(null==e)return{pos:0,orig:"",repl:t};for(r=0;r<e.length&&e[r]===t[r];)r+=1;for(o=e.slice(r),s=t.slice(r),i=o.length-1,n=s.length-o.length;i>=0&&n+i>=0&&o[i]===s[n+i];)i-=1;return o=o.slice(0,i+1),s=s.slice(0,n+i+1),{pos:r,orig:o,repl:s}},exports.scroll_top=function(){return $("html, body").animate({scrollTop:0})},exports.human_readable_size=function(e){var t;return e<1e3?e+" bytes":e<1e6?(t=Math.floor(e/100),t/10+" KB"):e<1e9?(t=Math.floor(e/1e5),t/10+" MB"):(t=Math.floor(e/1e8),t/10+" GB")},_=t(9),g=_.required,a=_.defaults,$.fn.spin=function(e){return this.each(function(){var n,r,i;if(n=$(this),i=n.data(),i.spinner&&(i.spinner.stop(),delete i.spinner),e!==!1)return r=t(1273),i.spinner=new r($.extend({color:n.css("color")},e)).spin(this)}),this},$.fn.exactly_cover=function(e){return this.each(function(){var t;return t=$(this),t.offset(e.offset()),t.width(e.width()),t.height(e.height())}),this},$.fn.process_smc_links=function(e){return null==e&&(e={}),this.each(function(){var n,r,i,o,s,a,l,c,u,d,p,h,_,g,v,y,b,w,x,k,A,C,E;for(i=$(this),n=i.find("a"),c=0,u=n.length;c<u;c++)if(C=n[c],E=$(C),o=E.attr("href"),null!=o){if("#"===o[0])continue;null!=e.href_transform&&(o=e.href_transform(o)),0===o.indexOf(document.location.origin)&&o.indexOf("/projects/")!==-1?E.click(function(e){var t,n,r;return r=$(this).attr("href"),t=r.indexOf("/projects/"),n=r.slice(t+10),m.getActions("projects").load_target(decodeURI(n),!(2===e.which||e.ctrlKey||e.metaKey)),!1}):0!==o.indexOf("http://")&&0!==o.indexOf("https://")?E.click(function(n){var r,i;return i=$(this).attr("href"),r=t(129).join,0===i.indexOf("/projects/")?i=decodeURI(i.slice(10)):"/"===i[0]&&"/"===i[37]&&f.is_valid_uuid_string(i.slice(1,37))?i=decodeURI(i.slice(1)):"/"===i[0]&&e.project_id?i=r(e.project_id,"files",decodeURI(i)):e.project_id&&null!=e.file_path&&(i=r(e.project_id,"files",e.file_path,decodeURI(i))),m.getActions("projects").load_target(i,!(2===n.which||n.ctrlKey||n.metaKey)),!1}):n.attr("target","_blank")}if(e.project_id&&null!=e.file_path)for(b=[["img","src"],["object","data"]],_=0,d=b.length;_<d;_++)for(w=b[_],A=w[0],r=w[1],x=i.find(A),y=0,p=x.length;y<p;y++)if(C=x[y],E=$(C),k=E.attr(r),null!=k){if(null!=e.href_transform&&(k=e.href_transform(k)),"/"===k[0]||"data:"===k.slice(0,5))h=k;else{if(l=t(129).join,s=k.indexOf("/projects/"),a=k.indexOf("/files/"),0===k.indexOf(document.location.origin)&&s!==-1&&a!==-1&&a>s){g=k.slice(a+7),v=k.slice(s+10,a),h=l("/",window.smc_base_url,v,"raw",g),E.attr(r,h);continue}if(k.indexOf("://")!==-1)continue;h=l("/",window.smc_base_url,e.project_id,"raw",e.file_path,k)}
E.attr(r,h)}return i})},$.fn.smc_toggle_details=function(e){return e=a(e,{show:g,hide:g,target:g}),this.each(function(){var t;return t=$(this),t.find(e.show).click(function(){return t.find(e.show).hide(),t.find(e.hide).show(),t.find(e.target).show(),t.addClass("smc-toggle-show")}),t.find(e.hide).click(function(){return t.find(e.hide).hide(),t.find(e.show).show(),t.find(e.target).hide(),t.removeClass("smc-toggle-show")}),t})},$.fn.html_noscript=function(e){return this.each(function(){var t;return this.innerHTML=e,t=$(this),t.find("script").remove(),t})},p=[],d=function(e){return null!=("undefined"!=typeof MathJax&&null!==MathJax?MathJax.Hub:void 0)?"Typeset"===e[0]?MathJax.Hub.Queue([e[0],MathJax.Hub,e[1]]):MathJax.Hub.Queue(e):p.push(e)},exports.mathjax_finish_startup=function(){var e,t,n;for(e=0,t=p.length;e<t;e++)n=p[e],d(n)},h=function(e){return d(["Typeset",e])},$.fn.extend({mathjax:function(e){return null==e&&(e={}),e=a(e,{tex:void 0,display:!1,inline:!1,hide_when_rendering:!1,cb:void 0}),this.each(function(){var t,n,r,i;if(r=$(this),null!=e.tex||e.display||e.inline)i=null!=e.tex?e.tex:r.html(),e.display?i="$${"+i+"}$$":e.inline&&(i="\\({"+i+"}\\)"),t=r.html(i);else{if(n=r.html().toLowerCase(),n.indexOf("$")===-1&&n.indexOf("\\")===-1&&n.indexOf("math/tex")===-1)return"function"==typeof e.cb&&e.cb(),r;t=r}return e.hide_when_rendering&&r.hide(),h(t[0]),e.hide_when_rendering&&d([function(e){return function(){return r.show()}}(this)]),null!=e.cb&&d([e.cb,r]),r})}}),$.fn.extend({unmathjax:function(e){return null==e&&(e={}),e=a(e,{}),this.each(function(){var e,t,n,r,i,o,s,a,l,c,u,d,p;for(p=$(this),l="MathJax_Preview MathJax_SVG MathJax_SVG_Display MathJax MathJax_MathML".split(" "),n=0,r=l.length;n<r;n++)t=l[n],p.find("."+t).remove();for(c=p.find("script[type='math/tex']"),s=0,i=c.length;s<i;s++)d=c[s],e=$(d),e.replaceWith(" $"+e.text()+"$ ");for(u=p.find("script[type='math/tex; mode=display']"),a=0,o=u.length;a<o;a++)d=u[a],e=$(d),e.replaceWith(" $$"+e.text()+"$$ ");return p})}}),$.fn.extend({equation_editor:function(e){return null==e&&(e={}),e=a(e,{display:!1,value:"",onchange:void 0}),this.each(function(){var t,n,r,i,o,s,a,l,c;return a=$(this),e.display?(n="$$",s=$("<div class='sagews-editor-latex-raw' style='width:50%'><textarea></textarea><br><div class='sagews-editor-latex-preview'></div></div>")):(n="$",s=$("<div class='sagews-editor-latex-raw' style='width:50%'><textarea></textarea><br><div class='sagews-editor-latex-preview'></div></span>")),s.attr("id",f.uuid()),r=s.find("textarea"),i={autofocus:!0,mode:{name:"stex",globalVars:!0},lineNumbers:!1,showTrailingSpace:!1,indentUnit:4,tabSize:4,smartIndent:!0,electricChars:!0,undoDepth:100,matchBrackets:!0,autoCloseBrackets:!0,autoCloseTags:!0,lineWrapping:!0,readOnly:!1,styleActiveLine:15,indentWithTabs:!1,showCursorWhenSelecting:!0,viewportMargin:Infinity,extraKeys:{}},a.replaceWith(s),t=CodeMirror.fromTextArea(r[0],i),l=function(e){for(e=e.trim();"$"===e[0];)e=e.slice(1);for(;"$"===e[e.length-1];)e=e.slice(0,e.length-1);return e.trim()},t.setValue(n+"\n\n"+e.value+"\n\n"+n),t.setCursor({line:2,ch:0}),r.val(e.value),$(t.getWrapperElement()).css({height:"auto"}),o=s.find(".sagews-editor-latex-preview"),o.click(function(e){return function(){return t.focus()}}(this)),c=function(){return o.mathjax({tex:l(t.getValue()),display:e.display,inline:!e.display})},null!=e.onchange&&t.on("change",function(n){return function(){return c(),e.onchange(),r.val(l(t.getValue()))}}(this)),s.data("delim",n),c(),a})}}),$.fn.extend({make_editable:function(e){return null==e&&(e={}),this.each(function(){var t,n,r,i,o,s,c,u,d,p,h,f,m,_,g;if(e=a(e,{value:void 0,onchange:void 0,interval:250,one_line:!1,mathjax:!1,cancel:!1}),g=$(this),e.cancel)return void("function"==typeof(t=g.data("cancel_editor"))&&t());null==e.value&&(e.value=g.html()),u=e.value,g.data("onchange",e.onchange),n=void 0,h=function(){var t,r;if(n=void 0,t=g.data("last_update"),r="edit"===g.data("mode")?g.html():g.data("raw"),t!==r)return e.onchange(r,g),g.data("last_update",r),u=r},f=function(){if(null!=e.onchange)return null!=n&&clearTimeout(n),n=setTimeout(h,e.interval)},_=function(t){return g.data({raw:t,mode:"view"}),g.html(t),e.mathjax&&g.mathjax(),f()},s=function(){return"view"===g.data("mode")?g.data("raw"):g.html()},m=function(e){var t,n,r,i;if(t=s(),t!==e&&(n=u,i=l.patch_make(n,e),r=l.patch_apply(i,t)[0],u=r,r!==t))return _(r),h()},p=function(){var e;if("edit"!==g.data("mode"))return g.data("mode","edit"),g=$(this),e=g.data("raw")},d=function(){if(g=$(this),g.data({raw:g.html(),mode:"view"}),e.mathjax)return g.mathjax()},g.attr("contenteditable",!0),c={focus:p,blur:d,paste:f,keyup:f,keydown:f};for(i in c)o=c[i],g.on(i,o);return r={set_value:_,get_value:s,set_upstream:m,last_update:e.value},g.data(r),g.data("cancel_editor",function(e){return function(){var e,t,n;g.attr("contenteditable",!1);for(i in c)o=c[i],g.unbind(i,o);n=[];for(t in r)e=r[t],n.push(g.removeData(t));return n}}(this)),_(e.value),g})}}),exports.cm_define_diffApply_extension=function(e){return e.defineExtension("diffApply",function(e){var t,n,r,i,o,s,a,l,c,u;for(n=this,s=function(e,t){var n;return n=(e.match(/\n/g)||[]).length,0===n?{line:t.line,ch:t.ch+e.length}:{line:t.line+n,ch:e.length-e.lastIndexOf("\n")-1}},l={line:0,ch:0},i=void 0,r=0,o=e.length;r<o;r++)switch(t=e[r],a=t[0],u=t[1],c=s(u,l),a){case 0:l=c;break;case-1:n.replaceRange("",l,c),i=l;break;case 1:n.replaceRange(u,l),l=c,i=c}return i})},exports.cm_define_testbot=function(e){return e.defineExtension("testbot",function(e){var t,n,r,i,o;return e=a(e,{n:30,delay:500,f:void 0}),n=this,o=n.getCursor(),t=o.ch,i=1,(r=function(){var s;if(s=i+" ",t+=s.length,n.replaceRange(s,{line:o.line,ch:t}),"function"==typeof e.f&&e.f(),i<e.n)return i+=1,setTimeout(r,e.delay)})()})},exports.sagews_canonical_mode=function(e,t){switch(e){case"markdown":return"md";case"xml":return"html";case"mediawiki":return"mediawiki";case"stex":return"tex";case"python":return"python";case"r":return"r";case"sagews":return"sage";case"shell":return"shell";default:return t}},exports.define_codemirror_extensions=function(){var e,s,c;return s=function(e){var t,n;return t=e.indexOf("{"),n=e.indexOf("}"),t!==-1&&n!==-1?e.slice(t+1,n).trim():void 0},c=f.startswith,CodeMirror.registerHelper("fold","stex",function(e,n){var r,i,o,a,l,u,d,p;return p=t(1215),l=p(e.getLine(n.line)),r=function(){var t,r,i,o,a,u,d,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K;if(t="\\begin",c(l,t)){if(u=s(l.slice(t.length)),null==u)return[void 0,void 0];for(r="\\end",y=0,i=RegExp("\\\\begin\\s*{"+u+"}"),a=RegExp("\\\\end\\s*{"+u+"}"),d=g=C=n.line,z=e.lastLine();C<=z?g<=z:g>=z;d=C<=z?++g:--g)if(o=e.getLine(d),b=o.search(i),f=o.search(a),b!==-1&&(f===-1||b<f)&&(y+=1),f!==-1&&(y-=1,0===y))return[d,f+r.length-1]}else if(c(l,"\\[")){for(d=k=P=n.line+1,B=e.lastLine();P<=B?k<=B:k>=B;d=P<=B?++k:--k)if(c(p(e.getLine(d)),"\\]"))return[d,0]}else if(c(l,"\\(")){for(d=A=q=n.line+1,F=e.lastLine();q<=F?A<=F:A>=F;d=q<=F?++A:--A)if(c(p(e.getLine(d)),"\\)"))return[d,0]}else if(c(l,"\\documentclass")){for(d=K=U=n.line+1,W=e.lastLine();U<=W?K<=W:K>=W;d=U<=W?++K:--K)if(c(p(e.getLine(d)),"\\begin{document}"))return[d-1,0]}else{if(c(l,"\\chapter")){for(d=h=H=n.line+1,E=e.lastLine();H<=E?h<=E:h>=E;d=H<=E?++h:--h)if(c(p(e.getLine(d)),["\\chapter","\\end{document}"]))return[d-1,0];return e.lastLine()}if(c(l,"\\section")){for(d=m=S=n.line+1,j=e.lastLine();S<=j?m<=j:m>=j;d=S<=j?++m:--m)if(c(p(e.getLine(d)),["\\chapter","\\section","\\end{document}"]))return[d-1,0];return e.lastLine()}if(c(l,"\\subsection")){for(d=_=M=n.line+1,T=e.lastLine();M<=T?_<=T:_>=T;d=M<=T?++_:--_)if(c(p(e.getLine(d)),["\\chapter","\\section","\\subsection","\\end{document}"]))return[d-1,0];return e.lastLine()}if(c(l,"\\subsubsection")){for(d=v=O=n.line+1,N=e.lastLine();O<=N?v<=N:v>=N;d=O<=N?++v:--v)if(c(p(e.getLine(d)),["\\chapter","\\section","\\subsection","\\subsubsection","\\end{document}"]))return[d-1,0];return e.lastLine()}if(c(l,"\\subsubsubsection")){for(d=w=I=n.line+1,D=e.lastLine();I<=D?w<=D:w>=D;d=I<=D?++w:--w)if(c(p(e.getLine(d)),["\\chapter","\\section","\\subsection","\\subsubsection","\\subsubsubsection","\\end{document}"]))return[d-1,0];return e.lastLine()}if(c(l,"%\\begin{}"))for(d=x=L=n.line+1,R=e.lastLine();L<=R?x<=R:x>=R;d=L<=R?++x:--x)if(c(p(e.getLine(d)),"%\\end{}"))return[d,0]}return[void 0,void 0]},d=r(),i=d[0],o=d[1],null!=i?(l=e.getLine(n.line),a=l.indexOf("}"),a===-1&&(a=l.length),u={from:CodeMirror.Pos(n.line,a+1),to:CodeMirror.Pos(i,o)}):void 0}),CodeMirror.defineExtension("unindent_selection",function(){var e,t,n,r,i,s,a,l,c,u,d,p,h,f,m,_,g;for(t=this,c=t.listSelections(),r=0,i=c.length;r<i;r++){for(_=c[r],u=o(_),g=u.start_line,n=u.end_line,e=!0,s=a=d=g,p=n;d<=p?a<=p:a>=p;s=d<=p?++a:--a){if(m=t.getLine(s),null==m)return;if(0!==m.length&&"\t"!==m[0]&&" "!==m[0]){e=!1;break}}if(e)for(s=l=h=g,f=n;h<=f?l<=f:l>=f;s=h<=f?++l:--l)t.indentLine(s,"subtract")}}),CodeMirror.defineExtension("tab_as_space",function(){var e,t,n,r,i;for(e=this.getCursor(),i=[],t=n=0,r=this.options.tabSize;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(this.replaceRange(" ",e));return i}),CodeMirror.defineExtension("apply_changeObj",function(e){if(this.replaceRange(e.text,e.from,e.to),null!=e.next)return this.apply_changeObj(e.next)}),exports.cm_define_diffApply_extension(CodeMirror),exports.cm_define_testbot(CodeMirror),CodeMirror.defineExtension("delete_trailing_whitespace",function(e){var t,n,r,i,o,s,l,c,u,d;if(null==e&&(e={}),e=a(e,{omit_lines:{}}),t=void 0,d=this.getValue(),c=d.split("\n"),u=f.delete_trailing_whitespace(d).split("\n"),s=this.getCursor(),c.length!==u.length)return void console.log("Internal error -- there is a bug in misc.delete_trailing_whitespace; please report.");for(e.omit_lines[s.line]=!0,r=i=0,l=c.length;0<=l?i<l:i>l;r=0<=l?++i:--i)null==e.omit_lines[r]&&c[r].length!==u[r].length&&(o={from:{line:r,ch:u[r].length},to:{line:r,ch:c[r].length},text:[""]},null==t?(t=o,n=t):(n.next=o,n=o));return null!=t?this.apply_changeObj(t):void 0}),CodeMirror.defineExtension("setValueNoJump",function(e,t){var n,r,i,o,s,a,c,u;if(null!=e&&(i=this.getValue(),e!==i))return a=this.getOption("readOnly"),a||this.setOption("readOnly",!0),this._setValueNoJump=!0,u=this.getScrollInfo().top,n=this.setBookmark({line:this.lineAtHeight(u,"local")}),r=this.heightAtLine(this.lineAtHeight(u,"local")),o=this.diffApply(l.diff_main(i,e)),s=null!=(c=n.find())?c.line:void 0,null!=s&&(this.scrollTo(void 0,this.getScrollInfo().top-(r-this.heightAtLine(n.find().line))),n.clear()),a||(this.setOption("readOnly",!1),t&&null!=o&&(this.scrollIntoView(o),this.setCursor(o))),delete this._setValueNoJump}),CodeMirror.defineExtension("patchApply",function(e){var t,n,r;return t=this.getValue(),r=l.patch_apply(e,t)[0],n=l.diff_main(t,r),this.diffApply(n)}),CodeMirror.defineExtension("showCompletions",function(e){var t,n,i,o,s,l,c,u,d,p,h,f,m,_,v,y,b,w,x;if(m=a(e,{from:g,to:g,completions:g,target:g,completions_size:20}),c=m.from,w=m.to,o=m.completions,y=m.target,s=m.completions_size,0!==o.length){if(v=this.getCursor(),b=this,u=function(e){var t,n;return t=b.getCursor(),c.line=t.line,w.line=t.line,n=t.ch-v.ch,c.ch+=n,w.ch+=n,b.replaceRange(e,c,w)},1===o.length)return void u(y.indexOf("*")===-1?y+o[0]:o[0]);for(_=$("<select>").css("width","auto"),i=$("<div>").addClass("salvus-completions").append(_),d=0,p=o.length;d<p;d++)t=o[d],y.indexOf("*")===-1?_.append($("<option>").text(y+t)):_.append($("<option>").text(t));return _.find(":first").attr("selected",!0),_.attr("size",Math.min(s,o.length)),f=this.cursorCoords(c),i.css({left:f.left+"px",top:f.bottom+"px"}),$("body").append(i),x=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x-f.left<_.attr("clientWidth")&&i.css({left:f.left-_.attr("clientWidth")+"px"}),o.length<=s&&i.css({width:_.attr("clientWidth")-1+"px"}),l=!1,n=function(){if(!l)return l=!0,i.remove()},h=function(){if(u(_.val()),n(),!r)return setTimeout(function(){return b.focus()},50)},_.blur(h),_.dblclick(h),r||_.click(h),_.keydown(function(e){var t;switch(t=e.keyCode){case 13:return h(),!1;case 27:return n(),b.focus(),!1;default:if(38!==t&&40!==t&&33!==t&&34!==t&&!CodeMirror.isModifierKey(e))return n(),b.focus(),b.triggerOnKeyDown(e)}}),_.focus(),_}}),CodeMirror.defineExtension("showIntrospect",function(e){var t;return e=a(e,{from:g,content:g,type:g,target:g}),"string"!=typeof e.content&&(e.content=""+JSON.stringify(e.content)),t=v.find(".salvus-codemirror-introspect"),t.find(".salvus-codemirror-introspect-title").text(e.target),t.modal(),t.find(".salvus-codemirror-introspect-content-docstring").text(""),t.find(".salvus-codemirror-introspect-content-source-code").text(""),t.data("editor",this),"source-code"===e.type?CodeMirror.runMode(e.content,"python",t.find(".salvus-codemirror-introspect-content-source-code")[0]):CodeMirror.runMode(e.content,"text/x-rst",t.find(".salvus-codemirror-introspect-content-docstring")[0])}),CodeMirror.defineExtension("spellcheck_highlight",function(e){var t,n,r,i,o,s;if(t=this,null!=t._spellcheck_highlight_overlay&&(t.removeOverlay(t._spellcheck_highlight_overlay),delete t._spellcheck_highlight_overlay),null!=e&&e.length>0){for(o={},n=0,r=e.length;n<r;n++)s=e[n],o[s]=!0;return e=o,i=function(t,n){if(t.match(/^\w+/)&&e[t.current()])return"spell-error";for(;null!=t.next();)if(t.match(/^\w+/,!1))return},t._spellcheck_highlight_overlay={token:i},t.addOverlay(t._spellcheck_highlight_overlay)}}),CodeMirror.defineExtension("foldCodeSelectionAware",function(e){var t,n,r,i,s,a,l,c,u,d,p,h;for(t=this,c=t.listSelections(),d=[],i=0,s=c.length;i<s;i++)p=c[i],u=o(p),h=u.start_line,n=u.end_line,d.push(function(){var i,o,s,c;for(c=[],a=i=o=h,s=n;o<=s?i<=s:i>=s;a=o<=s?++i:--i)l=CodeMirror.Pos(a),null!=e?c.push(t.foldCode(l,null,e)):(r=t.isFolded(l),t.foldCode(l),t.isFolded(l)!==r?c.push(e=t.isFolded(l)?"fold":"unfold"):c.push(void 0));return c}());return d}),t.e(0,function(e){return function(){var e,n,r;return e=t(982),n=e.split("\n"),r=function(e){var t,r,i,o,s,a;return o=e.getCursor(),a=e.getTokenAt(o),s=a.string,i=function(){var e,r,i;for(i=[],e=0,r=n.length;e<r;e++)t=n[e],t.slice(0,s.length)===s&&i.push(t);return i}(),r={list:i,from:CodeMirror.Pos(o.line,a.start),to:CodeMirror.Pos(o.line,a.end)}},CodeMirror.registerHelper("hint","stex",r)}}(this)),e=i.commands,CodeMirror.defineExtension("get_edit_mode",function(e){var t,n;switch(e=a(e,{}),t=this,t.getModeAt(t.getCursor()).name){case"markdown":return"md";case"xml":return"html";case"mediawiki":return"mediawiki";case"stex":return"tex";case"python":return"python";case"r":return"r";case"julia":return"julia";case"sagews":return"sage";default:if(n=t.getOption("mode").name,"gfm"===n.slice(0,3))return"md";if("htmlmixed"===n.slice(0,9))return"html";if(n.indexOf("mediawiki")!==-1)return"mediawiki";if(n.indexOf("rst")!==-1)return"rst";if(n.indexOf("stex")!==-1)return"tex";if("md"!==n&&"html"!==n&&"tex"!==n&&"rst"!==n&&"mediawiki"!==n&&"sagews"!==n&&"r"!==n)return"html"}}),CodeMirror.defineExtension("edit_selection",function(t){var r,i,o,s,l,c,d,p,h,f,m,_,v,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y;for(t=a(t,{cmd:g,args:void 0,mode:void 0}),o=this,c=t.mode,null==c&&(c=o.get_edit_mode()),i=function(e){return exports.sagews_canonical_mode(e,c)},r=t.args,s=t.cmd,W=function(e,t,n){var r,i,o;if(t=t.toLowerCase(),n=n.toLowerCase(),o=e.toLowerCase(),r=o.indexOf(t),r!==-1&&(i=o.lastIndexOf(n),i!==-1))return e.slice(0,r)+e.slice(r+t.length,i)+e.slice(i+n.length)},z=o.listSelections(),b=0,A=z.length;b<A;b++){if(L=z[b],E=i(o.getModeAt(L.head).name),f=L.from(),K=L.to(),B=o.getRange(f,K),U=0===f.ch,G=o.getLine(K.line).length===K.ch,S=E,l=e[S],null==l)return void console.warn("mode '"+S+"' is not defined!");if(m=l[s],null==m&&("md"===S||"mediawiki"===S||"rst"===S?S="html":"python"===S&&(S="sage"),m=e[S][s]),_=0,v=B.length-1,null!=m&&(null==m.trim||m.trim)){for(;_<B.length&&/\s/.test(B[_]);)_+=1;for(;v>0&&/\s/.test(B[v]);)v-=1}if(v+=1,k=B.slice(0,_),D=B.slice(v),B=B.slice(_,v),q=B,p=!1,null!=(null!=m?m.url:void 0)&&(H=window.open(m.url,"_blank"),H.focus(),p=!0),null!=(null!=m?m.wrap:void 0)&&(P=m.wrap.space,x=null!=(O=m.wrap.left)?O:"",I=null!=(N=m.wrap.right)?N:"",M=function(t){var n,r,i,o,s,a,l,c;if(null!=m.strip)for(o=m.strip,i=0,r=o.length;i<r;i++)n=o[i],c=e[S][n].wrap,null!=c&&(l=W(t,null!=(s=c.left)?s:"",null!=(a=c.right)?a:""),null!=l&&(t=l,P&&" "===t[0]&&(t=t.slice(1))));return l=W(t,x,I),l?(t=l,P&&" "===t[0]&&(t=t.slice(1))):t=""+x+(P?" ":"")+t+I,t},B=m.wrap.multi?function(){var e,t,n,r;for(n=B.split("\n"),r=[],t=0,e=n.length;t<e;t++)Y=n[t],r.push(M(Y));return r}().join("\n"):M(B),m.wrap.newline&&(B="\n"+B+"\n",U||(B="\n"+B),G||(B+="\n")),p=!0),null!=(null!=m?m.insert:void 0)&&(B=L.empty()&&0===f.ch?m.insert:B+"\n"+m.insert,p=!0),"font_size"===s)if("html"===E||"md"===E||"mediawiki"===E){for(_=j=1;j<=7;_=++j)F=W(B,"<font size="+_+">","</font>"),F&&(B=F);"3"!==r&&(B="<font size="+r+">"+B+"</font>")}else"tex"===E&&(w=["tiny","footnotesize","normalsize","large","LARGE","huge","Huge"],_=parseInt(r),y.call([1,2,3,4,5,6,7],_)>=0&&(R=w[_-1],B="{\\"+R+" "+B+"}"));if("color"===s&&("html"!==E&&"md"!==E&&"mediawiki"!==E||(q=B.toLowerCase().trim(),"<font color="===q.slice(0,12)&&(_=B.indexOf(">"),v=B.lastIndexOf("<"),B=B.slice(_+1,v)),B="<font color="+r+">"+B+"</font>")),"background-color"===s&&("html"!==E&&"md"!==E&&"mediawiki"!==E||(q=B.toLowerCase().trim(),"<span style='background"===q.slice(0,23)&&(_=B.indexOf(">"),v=B.lastIndexOf("<"),B=B.slice(_+1,v)),B="<span style='background-color:"+r+"'>"+B+"</span>")),"font_face"===s&&("html"===E||"md"===E||"mediawiki"===E)){for(T=0,C=n.length;T<C;T++)h=n[T],F=W(B,"<font face='"+h+"'>","</font>"),F&&(B=F);B="<font face='"+r+"'>"+B+"</font>"}if("clean"===s&&"html"===E&&(B=html_beautify($("<div>").html(B).html()),p=!0),"unformat"===s&&("html"===E?(B=$("<div>").html(B).text(),p=!0):"md"===E&&(B=$("<div>").html(u.markdown_to_html(B).s).text(),p=!0)),null==p)return"not implemented";B!==q&&(o.focus(),o.replaceRange(k+B+D,f,K),null==(null!=m?m.insert:void 0)&&null==(null!=m?m.wrap:void 0)&&(L.empty()?(d=null!=x?x.length:0,o.setCursor({line:f.line,ch:K.ch+d})):(d=B.length-q.length,o.extendSelection(f,{line:K.line,ch:K.ch+d}))))}}),CodeMirror.defineExtension("insert_link",function(e){var t,n,r,i,o,s,l,c,u;return null==e&&(e={}),e=a(e,{cb:void 0}),t=this,n=$("#salvus-editor-templates").find(".salvus-html-editor-link-dialog").clone(),n.modal("show"),n.find(".btn-close").off("click").click(function(){return n.modal("hide"),setTimeout(focus,50),!1}),u=n.find(".salvus-html-editor-url"),u.focus(),r=n.find(".salvus-html-editor-display"),l=n.find(".salvus-html-editor-target"),c=n.find(".salvus-html-editor-title"),o=t.getSelection(),r.val(o),i=t.get_edit_mode(),"md"!==i&&"rst"!==i&&"tex"!==i||n.find(".salvus-html-editor-target-row").hide(),s=function(o){return function(){var o,s,a,d,p,h;for(n.modal("hide"),"md"===i?(c=c.val(),c.length>0&&(c=' "'+c+'"'),o=r.val(),d=o.length>0?"["+o+"]("+u.val()+c+")":u.val()):"rst"===i?(r=r.val().length>0?""+r.val():""+u.val(),d="`"+r+" <"+u.val()+">`_"):"tex"===i?("function"==typeof t.tex_ensure_preamble&&t.tex_ensure_preamble("\\usepackage{url}"),r=r.val().trim(),u=u.val(),u=u.replace(/#/g,"\\#"),u=u.replace(/&/g,"\\&"),u=u.replace(/_/g,"\\_"),d=r.length>0?"\\href{"+u+"}{"+r+"}":"\\url{"+u+"}"):"mediawiki"===i?(r=r.val().trim(),r.length>0&&(r=" "+r),d="["+u.val()+r+"]"):(l=l.val().trim(),c=c.val().trim(),"_blank"===l&&(l=" target='_blank'"),c.length>0&&(c=" title='"+c+"'"),r=r.val().length>0?""+r.val():u.val(),d="<a href='"+u.val()+"'"+c+l+">"+r+"</a>"),h=t.listSelections(),h.reverse(),s=0,a=h.length;s<a;s++)p=h[s],p.empty()?t.replaceRange(d,p.head):t.replaceRange(d,p.from(),p.to());return"function"==typeof e.cb?e.cb():void 0}}(this),n.find(".btn-submit").off("click").click(s),n.keydown(function(t){return function(t){return 13===t.which?(s(),!1):27===t.which?(n.modal("hide"),"function"==typeof e.cb&&e.cb(),!1):void 0}}(this))}),CodeMirror.defineExtension("tex_ensure_preamble",function(e){var t;return t=this}),CodeMirror.defineExtension("insert_image",function(e){var t,n,r,i,o;return null==e&&(e={}),e=a(e,{cb:void 0}),t=this,n=$("#salvus-editor-templates").find(".salvus-html-editor-image-dialog").clone(),n.modal("show"),n.find(".btn-close").off("click").click(function(){return n.modal("hide"),!1}),o=n.find(".salvus-html-editor-url"),o.focus(),r=t.get_edit_mode(),"tex"===r&&(n.find(".salvus-html-editor-height-row").hide(),n.find(".salvus-html-editor-image-width-header-tex").show(),n.find(".salvus-html-editor-image-width-header-default").hide(),n.find(".salvus-html-editor-width").val("80")),i=function(i){return function(){var i,s,a,l,c,u,d,p,h,f,m;for(n.modal("hide"),h=n.find(".salvus-html-editor-title").val().trim(),s=m="",i=n.find(".salvus-html-editor-height").val().trim(),i.length>0&&(s=" height="+i),f=n.find(".salvus-html-editor-width").val().trim(),f.length>0&&(m=" width="+f),"rst"===r?(c="\n.. image:: "+o.val()+"\n",s=n.find(".salvus-html-editor-height").val().trim(),s.length>0&&(c+="   :height: "+s+"px\n"),m=n.find(".salvus-html-editor-width").val().trim(),m.length>0&&(c+="   :width: "+m+"px\n"),h.length>0&&(c+="   :alt: "+h+"\n")):"md"===r&&0===m.length&&0===s.length?(h.length>0&&(h=' "'+h+'"'),c="![]("+o.val()+h+")"):"tex"===r?(t.tex_ensure_preamble("\\usepackage{graphicx}"),m=parseInt(n.find(".salvus-html-editor-width").val(),10),m=""+m=="NaN"?"0.8":""+m/100,c=h.length>0?"\\begin{figure}[p]\n    \\centering\n    \\includegraphics[width="+m+"\\textwidth]{"+o.val()+"}\n    \\caption{"+h+"}\n\\end{figure}":"\\includegraphics[width="+m+"\\textwidth]{"+o.val()+"}"):"mediawiki"===r?(p="",f.length>0&&(p="|"+f,i.length>0&&(p+="x"+i),p+="px"),c="[[File:"+o.val()+p+"]]"):(h.length>0&&(h=" title='"+h+"'"),c="<img src='"+o.val()+"'"+m+s+h+">"),d=t.listSelections(),d.reverse(),a=0,l=d.length;a<l;a++)u=d[a],t.replaceRange(c,u.head);return"function"==typeof e.cb?e.cb():void 0}}(this),n.find(".btn-submit").off("click").click(i),n.keydown(function(t){return function(t){return 13===t.which?(i(),!1):27===t.which?(n.modal("hide"),"function"==typeof e.cb&&e.cb(),!1):void 0}}(this))}),CodeMirror.defineExtension("insert_special_char",function(e){var t,n,r,i;return null==e&&(e={}),e=a(e,{cb:void 0}),t=this,r=t.get_edit_mode(),"html"!==r&&"md"!==r?void bootbox.alert("<h3>Not Implemented</h3><br>"+r+" special symbols not yet implemented"):(n=$("#salvus-editor-templates").find(".salvus-html-editor-symbols-dialog").clone(),n.modal("show"),n.find(".btn-close").off("click").click(function(){return n.modal("hide"),!1}),i=function(r){return function(r){var i,o,s,a,l,c,u;if(u=$(r.target),"SPAN"===u.prop("tagName")){for(n.modal("hide"),i=u.attr("title"),a="&"+i+";",c=t.listSelections(),c.reverse(),o=0,s=c.length;o<s;o++)l=c[o],t.replaceRange(a,l.head);return"function"==typeof e.cb?e.cb():void 0}}}(this),n.find(".salvus-html-editor-symbols-dialog-table").off("click").click(i),n.keydown(function(t){return function(t){return 13===t.which?(submit(),!1):27===t.which?(n.modal("hide"),"function"==typeof e.cb&&e.cb(),!1):void 0}}(this)))}),CodeMirror.defineExtension("find_in_line",function(e){var t,n,r;if(r=void 0,t=void 0,n=0,this.eachLine(function(i){return t=i.text.indexOf(e),t!==-1?(r=n,!0):(n+=1,!1)}),null!=r)return{line:r,ch:t}}),CodeMirror.defineExtension("align_assignments",function(){var e,t,n,r,i,s,a,l,c,u,d,p,h,f,m,_,g,v;for(c=this.listSelections(),h=[],i=0,s=c.length;i<s;i++){for(f=c[i],u=o(f),_=u.start_line,t=u.end_line,g=void 0,e=0,a=l=d=_,p=t;d<=p?l<=p:l>=p;a=d<=p?++l:--l)if(v=this.getLine(a),null==g&&(y.call(v,":")>=0?g=":":y.call(v,"=")>=0&&(g="=")),n=v.indexOf(g),n!==-1){for(;n>0&&""===v[n-1].trim();)n-=1;n+=1,e=Math.max(n,e)}null!=g&&e&&h.push(function(){var i,o,s,l;for(l=[],a=i=o=_,s=t;o<=s?i<=s:i>=s;a=o<=s?++i:--i)if(v=this.getLine(a),n=v.indexOf(g),n!==-1){for(n<e?(m=function(){var t,i,o;for(i=[],r=o=0,t=e-n;0<=t?o<t:o>t;r=0<=t?++o:--o)i.push(" ");return i}().join(""),this.replaceRange(m,{line:a,ch:n},{line:a,ch:n})):n>e&&this.replaceRange("",{line:a,ch:e},{line:a,ch:n}),r=n+1;r<v.length&&""===v[r].trim();)r+=1;r-n>=2?l.push(this.replaceRange("",{line:a,ch:e+1},{line:a,ch:e+(r-n-1)})):r-n===1?l.push(this.replaceRange(" ",{line:a,ch:e+1},{line:a,ch:e+1})):l.push(void 0)}else l.push(void 0);return l}.call(this))}return h})},n=i.FONT_FACES,o=function(e){var t,n,r,i,o,s,a;return i=e.head,t=e.anchor,s=i,n=t,(n.line<=s.line||n.line===s.line&&n.ch<=s.ch)&&(o=[n,s],s=o[0],n=o[1]),a=s.line,r=n.ch>0?n.line:n.line-1,r<a&&(r=a),{start_line:a,end_line:r}},s=v.find(".salvus-codemirror-introspect"),s.find("button").click(function(){return s.modal("hide")}),s.on("hidden.bs.modal",function(){var e;return"function"==typeof(e=s.data("editor")).focus&&e.focus(),s.data("editor",0)}),exports.download_file=function(e){var t;return t=$("<iframe>").addClass("hide").attr("src",e).appendTo($("body")),setTimeout(function(){return t.remove()},6e4)},exports.get_selection_start_node=function(){var e,t,n;if(e=void 0,n=void 0,window.getSelection){if(n=getSelection(),n.isCollapsed)return $();e=n.anchorNode}return!e&&document.selection&&(n=document.selection,t=n.getRangeAt?n.getRangeAt(0):n.createRange(),e=t.commonAncestorContainer?t.commonAncestorContainer:t.parentElement?t.parentElement():t.item(0)),e?$("#text"===e.nodeName?e.parentNode:e):$()},exports.is_valid_date=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},$("html").on("hide.bs.modal","body > .modal",function(e){$(this).remove()}),$("body").on("show.bs.tooltip",function(e){return setTimeout(function(){return $(e.target).parent().find(".tooltip").tooltip("hide")},3e3)}),exports.load_coffeescript_compiler=function(e){return"undefined"!=typeof CoffeeScript&&null!==CoffeeScript?"function"==typeof e?e():void 0:t.e(0,function(n){return function(){return t(995),console.log("loaded CoffeeScript via require.ensure"),"function"==typeof e?e():void 0}}(this))},exports.html_to_text=function(e){return $($.parseHTML(e)).text()},exports.language=function(){return("undefined"!=typeof navigator&&null!==navigator?navigator.languages:void 0)?"undefined"!=typeof navigator&&null!==navigator?navigator.languages[0]:void 0:("undefined"!=typeof navigator&&null!==navigator?navigator.language:void 0)||("undefined"!=typeof navigator&&null!==navigator?navigator.userLanguage:void 0)},exports.save_selection=function(){var e,t;return window.getSelection?(t=window.getSelection(),t.getRangeAt&&t.rangeCount&&(e=t.getRangeAt(0))):document.selection&&(e=document.selection.createRange()),e},exports.restore_selection=function(e){var t,n;if(window.getSelection||document.createRange){if(n=window.getSelection(),e){try{n.removeAllRanges()}catch(e){t=e,document.body.createTextRange().select(),document.selection.empty()}return n.addRange(e)}}else if(document.selection&&e)return e.select()},exports.sanitize_html=function(e){return jQuery("<div>").html(e).html()},exports.sanitize_html=function(e,n,r,i){var o,s;return null==n&&(n=!0),null==r&&(r=!0),null==i&&(i=void 0),s=t(9).sanitize_html_attributes,o=jQuery(jQuery.parseHTML("<div>"+e+"</div>",null,n)),r||o.find("*").each(function(){return s(jQuery,this)}),null!=i&&i(o),o.html()},exports.sanitize_html_safe=function(e,t){return null==t&&(t=void 0),exports.sanitize_html(e,!1,!1,t)},exports.analytics=function(){var e,t,n;if(n=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],null!=window.GoogleAnalyticsObject&&(t=window[window.GoogleAnalyticsObject],null!=t))switch(n){case"event":case"pageview":return t.apply(null,["send",n].concat(b.call(e)));default:return console.warn("unknown analytics event '"+n+"'")}},exports.analytics_pageview=function(){var e;return e=1<=arguments.length?b.call(arguments,0):[],exports.analytics.apply(exports,["pageview"].concat(b.call(e)))},exports.analytics_event=function(){var e;return e=1<=arguments.length?b.call(arguments,0):[],exports.analytics.apply(exports,["event"].concat(b.call(e)))},exports.drag_start_iframe_disable=function(){return $("iframe:visible").css("pointer-events","none")},exports.drag_stop_iframe_enable=function(){return $("iframe:visible").css("pointer-events","auto")},exports.open_popup_window=function(e){var t;return exports.open_new_tab(e,t=!0)},exports.open_new_tab=function(e,n){var r,i;return null==n&&(n=!1),i=n?window.open(e,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=600"):window.open(e),!i||i.closed||void 0===i.closed?(r=t(36).alert_message,r({title:"Pop-ups blocked.",message:"Either enable pop-ups for this website or <a href='"+e+"' target='_blank'>click on this link</a>.",type:"error",timeout:10}),null):i},exports.clear_selection=function(){var e;return null!=("function"==typeof window.getSelection?window.getSelection().empty:void 0)?window.getSelection().empty():null!=("function"==typeof window.getSelection?window.getSelection().removeAllRanges:void 0)?window.getSelection().removeAllRanges():null!=(e=document.selection)&&"function"==typeof e.empty?e.empty():void 0}},function(e,exports,t){var n,r;(function(t,i,o){!function(){function s(){}function a(e){return e}function l(e){return!!e}function c(e){return!e}function u(e){return function(){if(null===e)throw Error("Callback was already called.");e.apply(this,arguments),e=null}}function d(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function p(e){return U(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function h(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e)}function f(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function m(e){return f(Array(e),function(e,t){return t})}function _(e,t,n){return h(e,function(e,r,i){n=t(n,e,r,i)}),n}function g(e,t){h(H(e),function(n){t(e[n],n)})}function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function y(e){var t,n,r=-1;return p(e)?(t=e.length,function(){return r++,r<t?r:null}):(n=H(e),t=n.length,function(){return r++,r<t?n[r]:null})}function b(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r)}}}function w(e){return function(t,n,r){return e(t,r)}}function x(e){return function(t,n,r){r=d(r||s),t=t||[];var i=y(t);if(e<=0)return r(null);var o=!1,a=0,l=!1;!function s(){if(o&&a<=0)return r(null);for(;a<e&&!l;){var c=i();if(null===c)return o=!0,void(a<=0&&r(null));a+=1,n(t[c],c,u(function(e){a-=1,e?(r(e),l=!0):s()}))}}()}}function k(e){return function(t,n,r){return e(B.eachOf,t,n,r)}}function A(e){return function(t,n,r,i){return e(x(n),t,r,i)}}function C(e){return function(t,n,r){return e(B.eachOfSeries,t,n,r)}}function E(e,t,n,r){r=d(r||s),t=t||[];var i=p(t)?[]:{};e(t,function(e,t,r){n(e,function(e,n){i[t]=n,r(e)})},function(e){r(e,i)})}function S(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n){n&&i.push({index:t,value:e}),r()})},function(){r(f(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function j(e,t,n,r){S(e,t,function(e,t){n(e,function(e){t(!e)})},r)}function M(e,t,n){return function(r,i,o,s){function a(){s&&s(n(!1,void 0))}function l(e,r,i){return s?void o(e,function(r){s&&t(r)&&(s(n(!0,e)),s=o=!1),i()}):i()}arguments.length>3?e(r,i,l,a):(s=o,o=i,e(r,l,a))}}function T(e,t){return t}function O(e,t,n){n=n||s;var r=p(t)?[]:{};e(t,function(e,t,n){e(b(function(e,i){i.length<=1&&(i=i[0]),r[t]=i,n(e)}))},function(e){n(e,r)})}function N(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function I(e,t,n){function r(e,t,n,r){if(null!=r&&"function"!=typeof r)throw Error("task callback must be a function");return e.started=!0,U(t)||(t=[t]),0===t.length&&e.idle()?B.setImmediate(function(){e.drain()}):(h(t,function(t){var i={data:t,callback:r||s};n?e.tasks.unshift(i):e.tasks.push(i),e.tasks.length===e.concurrency&&e.saturated();
}),void B.setImmediate(e.process))}function i(e,t){return function(){o-=1;var n=!1,r=arguments;h(t,function(e){h(a,function(t,r){t!==e||n||(a.splice(r,1),n=!0)}),e.callback.apply(e,r)}),e.tasks.length+o===0&&e.drain(),e.process()}}if(null==t)t=1;else if(0===t)throw Error("Concurrency must not be zero");var o=0,a=[],l={tasks:[],concurrency:t,payload:n,saturated:s,empty:s,drain:s,started:!1,paused:!1,push:function(e,t){r(l,e,!1,t)},kill:function(){l.drain=s,l.tasks=[]},unshift:function(e,t){r(l,e,!0,t)},process:function(){for(;!l.paused&&o<l.concurrency&&l.tasks.length;){var t=l.payload?l.tasks.splice(0,l.payload):l.tasks.splice(0,l.tasks.length),n=f(t,function(e){return e.data});0===l.tasks.length&&l.empty(),o+=1,a.push(t[0]);var r=u(i(l,t));e(n,r)}},length:function(){return l.tasks.length},running:function(){return o},workersList:function(){return a},idle:function(){return l.tasks.length+o===0},pause:function(){l.paused=!0},resume:function(){if(l.paused!==!1){l.paused=!1;for(var e=Math.min(l.concurrency,l.tasks.length),t=1;t<=e;t++)B.setImmediate(l.process)}}};return l}function D(e){return b(function(t,n){t.apply(null,n.concat([b(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&h(n,function(t){console[e](t)}))})]))})}function L(e){return function(t,n,r){e(m(t),n,r)}}function z(e){return b(function(t,n){var r=b(function(n){var r=this,i=n.pop();return e(t,function(e,t,i){e.apply(r,n.concat([i]))},i)});return n.length?r.apply(this,n):r})}function R(e){return b(function(t){var n=t.pop();t.push(function(){var e=arguments;r?B.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var r=!0;e.apply(this,t),r=!1})}var P,B={},q="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this;null!=q&&(P=q.async),B.noConflict=function(){return q.async=P,B};var F=Object.prototype.toString,U=Array.isArray||function(e){return"[object Array]"===F.call(e)},W=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},H=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},K="function"==typeof i&&i,G=K?function(e){K(e)}:function(e){setTimeout(e,0)};"object"==typeof o&&"function"==typeof o.nextTick?B.nextTick=o.nextTick:B.nextTick=G,B.setImmediate=K?G:B.nextTick,B.forEach=B.each=function(e,t,n){return B.eachOf(e,w(t),n)},B.forEachSeries=B.eachSeries=function(e,t,n){return B.eachOfSeries(e,w(t),n)},B.forEachLimit=B.eachLimit=function(e,t,n,r){return x(t)(e,w(n),r)},B.forEachOf=B.eachOf=function(e,t,n){function r(e){a--,e?n(e):null===i&&a<=0&&n(null)}n=d(n||s),e=e||[];for(var i,o=y(e),a=0;null!=(i=o());)a+=1,t(e[i],i,u(r));0===a&&n(null)},B.forEachOfSeries=B.eachOfSeries=function(e,t,n){function r(){var s=!0;return null===o?n(null):(t(e[o],o,u(function(e){if(e)n(e);else{if(o=i(),null===o)return n(null);s?B.setImmediate(r):r()}})),void(s=!1))}n=d(n||s),e=e||[];var i=y(e),o=i();r()},B.forEachOfLimit=B.eachOfLimit=function(e,t,n,r){x(t)(e,n,r)},B.map=k(E),B.mapSeries=C(E),B.mapLimit=A(E),B.inject=B.foldl=B.reduce=function(e,t,n,r){B.eachOfSeries(e,function(e,r,i){n(t,e,function(e,n){t=n,i(e)})},function(e){r(e,t)})},B.foldr=B.reduceRight=function(e,t,n,r){var i=f(e,a).reverse();B.reduce(i,t,n,r)},B.transform=function(e,t,n,r){3===arguments.length&&(r=n,n=t,t=U(e)?[]:{}),B.eachOf(e,function(e,r,i){n(t,e,r,i)},function(e){r(e,t)})},B.select=B.filter=k(S),B.selectLimit=B.filterLimit=A(S),B.selectSeries=B.filterSeries=C(S),B.reject=k(j),B.rejectLimit=A(j),B.rejectSeries=C(j),B.any=B.some=M(B.eachOf,l,a),B.someLimit=M(B.eachOfLimit,l,a),B.all=B.every=M(B.eachOf,c,c),B.everyLimit=M(B.eachOfLimit,c,c),B.detect=M(B.eachOf,a,T),B.detectSeries=M(B.eachOfSeries,a,T),B.detectLimit=M(B.eachOfLimit,a,T),B.sortBy=function(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}B.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,f(t.sort(r),function(e){return e.value}))})},B.auto=function(e,t,n){function r(e){f.unshift(e)}function i(e){var t=v(f,e);t>=0&&f.splice(t,1)}function o(){l--,h(f.slice(0),function(e){e()})}"function"==typeof arguments[1]&&(n=t,t=null),n=d(n||s);var a=H(e),l=a.length;if(!l)return n(null);t||(t=l);var c={},u=0,p=!1,f=[];r(function(){l||n(null,c)}),h(a,function(s){function a(){return u<t&&_(m,function(e,t){return e&&c.hasOwnProperty(t)},!0)&&!c.hasOwnProperty(s)}function l(){a()&&(u++,i(l),h[h.length-1](f,c))}if(!p){for(var d,h=U(e[s])?e[s]:[e[s]],f=b(function(e,t){if(u--,t.length<=1&&(t=t[0]),e){var r={};g(c,function(e,t){r[t]=e}),r[s]=t,p=!0,n(e,r)}else c[s]=t,B.setImmediate(o)}),m=h.slice(0,h.length-1),y=m.length;y--;){if(!(d=e[m[y]]))throw Error("Has nonexistent dependency in "+m.join(", "));if(U(d)&&v(d,s)>=0)throw Error("Has cyclic dependencies")}a()?(u++,h[h.length-1](f,c)):r(l)}})},B.retry=function(e,t,n){function r(e,t){if("number"==typeof t)e.times=parseInt(t,10)||o;else{if("object"!=typeof t)throw Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||o,e.interval=parseInt(t.interval,10)||s}}function i(e,t){function n(e,n){return function(r){e(function(e,t){r(!e||n,{err:e,result:t})},t)}}function r(e){return function(t){setTimeout(function(){t(null)},e)}}for(;l.times;){var i=!(l.times-=1);a.push(n(l.task,i)),!i&&l.interval>0&&a.push(r(l.interval))}B.series(a,function(t,n){n=n[n.length-1],(e||l.callback)(n.err,n.result)})}var o=5,s=0,a=[],l={times:o,interval:s},c=arguments.length;if(c<1||c>3)throw Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return c<=2&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&r(l,e),l.callback=n,l.task=t,l.callback?i():i},B.waterfall=function(e,t){function n(e){return b(function(r,i){if(r)t.apply(null,[r].concat(i));else{var o=e.next();o?i.push(n(o)):i.push(t),R(e).apply(null,i)}})}if(t=d(t||s),!U(e)){var r=Error("First argument to waterfall must be an array of functions");return t(r)}return e.length?void n(B.iterator(e))():t()},B.parallel=function(e,t){O(B.eachOf,e,t)},B.parallelLimit=function(e,t,n){O(x(t),e,n)},B.series=function(e,t){O(B.eachOfSeries,e,t)},B.iterator=function(e){function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}return t(0)},B.apply=b(function(e,t){return b(function(n){return e.apply(null,t.concat(n))})}),B.concat=k(N),B.concatSeries=C(N),B.whilst=function(e,t,n){if(n=n||s,e()){var r=b(function(i,o){i?n(i):e.apply(this,o)?t(r):n.apply(null,[null].concat(o))});t(r)}else n(null)},B.doWhilst=function(e,t,n){var r=0;return B.whilst(function(){return++r<=1||t.apply(this,arguments)},e,n)},B.until=function(e,t,n){return B.whilst(function(){return!e.apply(this,arguments)},t,n)},B.doUntil=function(e,t,n){return B.doWhilst(e,function(){return!t.apply(this,arguments)},n)},B.during=function(e,t,n){n=n||s;var r=b(function(t,r){t?n(t):(r.push(i),e.apply(this,r))}),i=function(e,i){e?n(e):i?t(r):n(null)};e(i)},B.doDuring=function(e,t,n){var r=0;B.during(function(e){r++<1?e(null,!0):t.apply(this,arguments)},e,n)},B.queue=function(e,t){var n=I(function(t,n){e(t[0],n)},t,1);return n},B.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function r(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function i(e,t,i,o){if(null!=o&&"function"!=typeof o)throw Error("task callback must be a function");return e.started=!0,U(t)||(t=[t]),0===t.length?B.setImmediate(function(){e.drain()}):void h(t,function(t){var a={data:t,priority:i,callback:"function"==typeof o?o:s};e.tasks.splice(r(e.tasks,a,n)+1,0,a),e.tasks.length===e.concurrency&&e.saturated(),B.setImmediate(e.process)})}var o=B.queue(e,t);return o.push=function(e,t,n){i(o,e,t,n)},delete o.unshift,o},B.cargo=function(e,t){return I(e,1,t)},B.log=D("log"),B.dir=D("dir"),B.memoize=function(e,t){var n={},r={},i=Object.prototype.hasOwnProperty;t=t||a;var o=b(function(o){var s=o.pop(),a=t.apply(null,o);i.call(n,a)?B.setImmediate(function(){s.apply(null,n[a])}):i.call(r,a)?r[a].push(s):(r[a]=[s],e.apply(null,o.concat([b(function(e){n[a]=e;var t=r[a];delete r[a];for(var i=0,o=t.length;i<o;i++)t[i].apply(null,e)})])))});return o.memo=n,o.unmemoized=e,o},B.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},B.times=L(B.map),B.timesSeries=L(B.mapSeries),B.timesLimit=function(e,t,n,r){return B.mapLimit(m(e),t,n,r)},B.seq=function(){var e=arguments;return b(function(t){var n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=s,B.reduce(e,t,function(e,t,r){t.apply(n,e.concat([b(function(e,t){r(e,t)})]))},function(e,t){r.apply(n,[e].concat(t))})})},B.compose=function(){return B.seq.apply(null,Array.prototype.reverse.call(arguments))},B.applyEach=z(B.eachOf),B.applyEachSeries=z(B.eachOfSeries),B.forever=function(e,t){function n(e){return e?r(e):void i(n)}var r=u(t||s),i=R(e);n()},B.ensureAsync=R,B.constant=b(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),B.wrapSync=B.asyncify=function(e){return b(function(t){var n,r=t.pop();try{n=e.apply(this,t)}catch(e){return r(e)}W(n)&&"function"==typeof n.then?n.then(function(e){r(null,e)}).catch(function(e){r(e.message?e:Error(e))}):r(null,n)})},"object"==typeof e&&e.exports?e.exports=B:(n=[],r=function(){return B}.apply(exports,n),!(void 0!==r&&(e.exports=r)))}()}).call(exports,function(){return this}(),t(306).setImmediate,t(84))},function(e,exports){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(e,t){if("function"!=typeof t)throw Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},null)}exports.__esModule=!0,exports.default=t,e.exports=exports.default},function(e,exports){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAIklEQVQ4y2NUEpzJxUBFwMRAZTBq4KiBowaOGjhq4FAxEADNMAD++rnhUgAAAABJRU5ErkJggg=="},function(e,exports){"use strict";exports.__esModule=!0;exports.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},exports.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},exports.DEVICE_SIZES=["lg","md","sm","xs"],exports.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},exports.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},function(e,exports){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};$="undefined"!=typeof window&&null!==window?window.$:void 0,s=t(9),i=s.defaults,l=s.to_json,a=t(19).salvus_client,c=["error","default","success","info"],r={error:5,default:2,success:2,info:3},"function"==typeof $&&$("#alert-templates").hide(),o={},exports.alert_message=function(e){var t,n,d;if(null==e&&(e={}),e=i(e,{type:"default",title:void 0,message:i.required,block:void 0,timeout:void 0}),null==e.timeout&&(e.timeout=r[e.type]),"string"!=typeof e.message&&(e.message=l(e.message)),t=s.hash_string(e.message+e.type),!(o[t]>=s.server_seconds_ago(5))){if(o[t]=s.server_time(),null==e.block&&("error"===e.type?e.block=!0:e.block=!1),n=e.type,u.call(c,n)<0)return void alert("Unknown alert_message type "+e.type+".");$.pnotify({title:null!=(d=e.title)?d:"",type:e.type,text:e.message,nonblock:!1,animation_speed:"fast",closer_hover:!1,opacity:.9,delay:1e3*e.timeout}),"error"===e.type&&a.log_error(e.message)}},n=function(){var e,t;if(e=new Date,t=Math.ceil(Math.abs(a.server_time()-e)/1e3),t>30)return exports.alert_message({type:"error",timeout:9999,message:"Your computer's clock is off by about "+t+" seconds!  You MUST set it correctly then refresh your browser before using SageMathCloud.  Expect nothing to work until you fix this."})},setTimeout(n,6e4),"undefined"!=typeof window&&null!==window&&(window.alert_message=exports.alert_message)},function(e,exports,t){var n,r;!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(t,i){"use strict";function o(e,t){t=t||se;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function s(e){var t=!!e&&"length"in e&&e.length,n=ye.type(e);return"function"!==n&&!ye.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function a(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,n){return ye.isFunction(t)?ye.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?ye.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ye.grep(e,function(e){return de.call(t,e)>-1!==n}):Me.test(t)?ye.filter(t,e,n):(t=ye.filter(t,e),ye.grep(e,function(e){return de.call(t,e)>-1!==n&&1===e.nodeType}))}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return ye.each(e.match(Le)||[],function(e,n){t[n]=!0}),t}function d(e){return e}function p(e){throw e}function h(e,t,n,r){var i;try{e&&ye.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&ye.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function f(){se.removeEventListener("DOMContentLoaded",f),t.removeEventListener("load",f),ye.ready()}function m(){this.expando=ye.expando+m.uid++}function _(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ue.test(e)?JSON.parse(e):e)}function g(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(We,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=_(n)}catch(e){}Fe.set(e,t,n)}else n=void 0;return n}function v(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return ye.css(e,t,"")},l=a(),c=n&&n[3]||(ye.cssNumber[t]?"":"px"),u=(ye.cssNumber[t]||"px"!==c&&+l)&&Ke.exec(ye.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do o=o||".5",u/=o,ye.style(e,t,u+c);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}function y(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ve[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=ye.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ve[r]=i,i)}function b(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=qe.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ye(r)&&(i[o]=y(r))):"none"!==n&&(i[o]="none",qe.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function w(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&a(e,t)?ye.merge([e],n):n}function x(e,t){for(var n=0,r=e.length;n<r;n++)qe.set(e[n],"globalEval",!t||qe.get(t[n],"globalEval"))}function k(e,t,n,r,i){for(var o,s,a,l,c,u,d=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if(o=e[h],o||0===o)if("object"===ye.type(o))ye.merge(p,o.nodeType?[o]:o);else if(et.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(Ze.exec(o)||["",""])[1].toLowerCase(),l=Xe[a]||Xe._default,s.innerHTML=l[1]+ye.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;ye.merge(p,s.childNodes),s=d.firstChild,s.textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",h=0;o=p[h++];)if(r&&ye.inArray(o,r)>-1)i&&i.push(o);else if(c=ye.contains(o.ownerDocument,o),s=w(d.appendChild(o),"script"),c&&x(s),n)for(u=0;o=s[u++];)$e.test(o.type||"")&&n.push(o);return d}function A(){return!0}function C(){return!1}function E(){try{return se.activeElement}catch(e){}}function S(e,t,n,r,i,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(a in t)S(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=C;else if(!i)return e;return 1===o&&(s=i,i=function(e){return ye().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ye.guid++)),e.each(function(){ye.event.add(this,t,i,r,n)})}function j(e,t){return a(e,"table")&&a(11!==t.nodeType?t:t.firstChild,"tr")?ye(">tbody",e)[0]||e:e}function M(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function T(e){var t=lt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function O(e,t){var n,r,i,o,s,a,l,c;if(1===t.nodeType){if(qe.hasData(e)&&(o=qe.access(e),s=qe.set(t,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)ye.event.add(t,i,c[i][n])}Fe.hasData(e)&&(a=Fe.access(e),l=ye.extend({},a),Fe.set(t,l))}}function N(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Qe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function I(e,t,n,r){t=ce.apply([],t);var i,s,a,l,c,u,d=0,p=e.length,h=p-1,f=t[0],m=ye.isFunction(f);if(m||p>1&&"string"==typeof f&&!ge.checkClone&&at.test(f))return e.each(function(i){var o=e.eq(i);m&&(t[0]=f.call(this,i,o.html())),I(o,t,n,r)});if(p&&(i=k(t,e[0].ownerDocument,!1,e,r),s=i.firstChild,1===i.childNodes.length&&(i=s),s||r)){for(a=ye.map(w(i,"script"),M),l=a.length;d<p;d++)c=i,d!==h&&(c=ye.clone(c,!0,!0),l&&ye.merge(a,w(c,"script"))),n.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,ye.map(a,T),d=0;d<l;d++)c=a[d],$e.test(c.type||"")&&!qe.access(c,"globalEval")&&ye.contains(u,c)&&(c.src?ye._evalUrl&&ye._evalUrl(c.src):o(c.textContent.replace(ct,""),u))}return e}function D(e,t,n){for(var r,i=t?ye.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ye.cleanData(w(r)),r.parentNode&&(n&&ye.contains(r.ownerDocument,r)&&x(w(r,"script")),r.parentNode.removeChild(r));return e}function L(e,t,n){var r,i,o,s,a=e.style;return n=n||pt(e),n&&(s=n.getPropertyValue(t)||n[t],""!==s||ye.contains(e.ownerDocument,e)||(s=ye.style(e,t)),!ge.pixelMarginRight()&&dt.test(s)&&ut.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function z(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e){if(e in vt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=gt.length;n--;)if(e=gt[n]+t,e in vt)return e}function P(e){var t=ye.cssProps[e];return t||(t=ye.cssProps[e]=R(e)||e),t}function B(e,t,n){var r=Ke.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function q(e,t,n,r,i){var o,s=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(s+=ye.css(e,n+Ge[o],!0,i)),r?("content"===n&&(s-=ye.css(e,"padding"+Ge[o],!0,i)),"margin"!==n&&(s-=ye.css(e,"border"+Ge[o]+"Width",!0,i))):(s+=ye.css(e,"padding"+Ge[o],!0,i),"padding"!==n&&(s+=ye.css(e,"border"+Ge[o]+"Width",!0,i)));return s}function F(e,t,n){var r,i=pt(e),o=L(e,t,i),s="border-box"===ye.css(e,"boxSizing",!1,i);return dt.test(o)?o:(r=s&&(ge.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),o=parseFloat(o)||0,o+q(e,t,n||(s?"border":"content"),r,i)+"px")}function U(e,t,n,r,i){return new U.prototype.init(e,t,n,r,i)}function W(){bt&&(se.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(W):t.setTimeout(W,ye.fx.interval),ye.fx.tick())}function H(){return t.setTimeout(function(){yt=void 0}),yt=ye.now()}function K(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ge[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function G(e,t,n){for(var r,i=(V.tweeners[t]||[]).concat(V.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function Y(e,t,n){var r,i,o,s,a,l,c,u,d="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&Ye(e),_=qe.get(e,"fxshow");n.queue||(s=ye._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,ye.queue(e,"fx").length||s.empty.fire()})}));for(r in t)if(i=t[r],wt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!_||void 0===_[r])continue;m=!0}h[r]=_&&_[r]||ye.style(e,r)}if(l=!ye.isEmptyObject(t),l||!ye.isEmptyObject(h)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=_&&_.display,null==c&&(c=qe.get(e,"display")),u=ye.css(e,"display"),"none"===u&&(c?u=c:(b([e],!0),c=e.style.display||c,u=ye.css(e,"display"),b([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===ye.css(e,"float")&&(l||(p.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(r in h)l||(_?"hidden"in _&&(m=_.hidden):_=qe.access(e,"fxshow",{display:c}),o&&(_.hidden=!m),m&&b([e],!0),p.done(function(){m||b([e]),qe.remove(e,"fxshow");for(r in h)ye.style(e,r,h[r])})),l=G(m?_[r]:0,r,p),r in _||(_[r]=l.start,m&&(l.end=l.start,l.start=0))}}function J(e,t){var n,r,i,o,s;for(n in e)if(r=ye.camelCase(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=ye.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function V(e,t,n){var r,i,o=0,s=V.prefilters.length,a=ye.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=yt||H(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),o<1&&l?n:(l||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ye.extend({},t),opts:ye.extend(!0,{specialEasing:{},easing:ye.easing._default},n),originalProperties:t,originalOptions:n,startTime:yt||H(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ye.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(J(u,c.opts.specialEasing);o<s;o++)if(r=V.prefilters[o].call(c,e,u,c.opts))return ye.isFunction(r.stop)&&(ye._queueHooks(c.elem,c.opts.queue).stop=ye.proxy(r.stop,r)),r;return ye.map(u,G,c),ye.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),ye.fx.timer(ye.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function Q(e){var t=e.match(Le)||[];return t.join(" ")}function Z(e){return e.getAttribute&&e.getAttribute("class")||""}function X(e,t,n,r){var i;if(Array.isArray(t))ye.each(t,function(t,i){n||Nt.test(e)?r(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==ye.type(t))r(e,t);else for(i in t)X(e+"["+i+"]",t[i],n,r)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Le)||[];if(ye.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function te(e,t,n,r){function i(a){var l;return o[a]=!0,ye.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var o={},s=e===Ht;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ne(e,t){var n,r,i=ye.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ye.extend(!0,e,r),e}function re(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}function ie(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var oe=[],se=t.document,ae=Object.getPrototypeOf,le=oe.slice,ce=oe.concat,ue=oe.push,de=oe.indexOf,pe={},he=pe.toString,fe=pe.hasOwnProperty,me=fe.toString,_e=me.call(Object),ge={},ve="3.2.1",ye=function(e,t){return new ye.fn.init(e,t)},be=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,we=/^-ms-/,xe=/-([a-z])/g,ke=function(e,t){return t.toUpperCase()};ye.fn=ye.prototype={jquery:ve,constructor:ye,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ye.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ye.each(this,e)},map:function(e){return this.pushStack(ye.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ue,sort:oe.sort,splice:oe.splice},ye.extend=ye.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ye.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(c&&r&&(ye.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&ye.isPlainObject(n)?n:{},s[t]=ye.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},ye.extend({expando:"jQuery"+(ve+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return"function"===ye.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ye.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==he.call(e))&&(!(t=ae(e))||(n=fe.call(t,"constructor")&&t.constructor,"function"==typeof n&&me.call(n)===_e))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[he.call(e)]||"object":typeof e},globalEval:function(e){o(e)},camelCase:function(e){return e.replace(we,"ms-").replace(xe,ke)},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(be,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?ye.merge(n,"string"==typeof e?[e]:e):ue.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:de.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;o<s;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,a=[];if(s(e))for(r=e.length;o<r;o++)i=t(e[o],o,n),null!=i&&a.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&a.push(i);return ce.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),ye.isFunction(e))return r=le.call(arguments,2),i=function(){return e.apply(t||this,r.concat(le.call(arguments)))},i.guid=e.guid=e.guid||ye.guid++,i},now:Date.now,support:ge}),"function"==typeof Symbol&&(ye.fn[Symbol.iterator]=oe[Symbol.iterator]),ye.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var Ae=function(e){function t(e,t,n,r){var i,o,s,a,l,c,u,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&((t?t.ownerDocument||t:F)!==I&&N(t),t=t||I,L)){if(11!==f&&(l=ve.exec(e)))if(i=l[1]){if(9===f){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(p&&(s=p.getElementById(i))&&B(t,s)&&s.id===i)return n.push(s),n}else{if(l[2])return X.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(i)),n}if(x.qsa&&!G[e+" "]&&(!z||!z.test(e))){if(1!==f)p=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(xe,ke):t.setAttribute("id",a=q),c=E(e),o=c.length;o--;)c[o]="#"+a+" "+h(c[o]);u=c.join(","),p=ye.test(e)&&d(t.parentNode)||t}if(u)try{return X.apply(n,p.querySelectorAll(u)),n}catch(e){}finally{a===q&&t.removeAttribute("id")}}}return j(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[q]=!0,e}function i(e){var t=I.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)k.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ce(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function p(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=W++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,d,p=[U,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(d=t[q]||(t[q]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[o])&&c[0]===U&&c[1]===a)return p[2]=c[2];if(u[o]=p,p[2]=e(t,n,l))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function _(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function v(e,t,n,i,o,s){return i&&!i[q]&&(i=v(i)),o&&!o[q]&&(o=v(o,s)),r(function(r,s,a,l){var c,u,d,p=[],h=[],f=s.length,m=r||_(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?m:g(m,p,e,a,l),y=n?o||(r?e:f||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(c=g(y,h),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[h[u]]=!(v[h[u]]=d));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?te(r,d):p[u])>-1&&(r[c]=!(s[c]=d))}}else y=g(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):X.apply(s,y);
})}function y(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],s=o||k.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return te(t,e)>-1},s,!0),u=[function(e,n,r){var i=!o&&(r||n!==M)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];a<i;a++)if(n=k.relative[e[a].type])u=[f(m(u),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[q]){for(r=++a;r<i&&!k.relative[e[r].type];r++);return v(a>1&&m(u),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),n,a<r&&y(e.slice(a,r)),r<i&&y(e=e.slice(r)),r<i&&h(e))}u.push(n)}return m(u)}function b(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,l,c){var u,d,p,h=0,f="0",m=r&&[],_=[],v=M,y=r||o&&k.find.TAG("*",c),b=U+=null==v?1:Math.random()||.1,w=y.length;for(c&&(M=s===I||s||c);f!==w&&null!=(u=y[f]);f++){if(o&&u){for(d=0,s||u.ownerDocument===I||(N(u),a=!L);p=e[d++];)if(p(u,s||I,a)){l.push(u);break}c&&(U=b)}i&&((u=!p&&u)&&h--,r&&m.push(u))}if(h+=f,i&&f!==h){for(d=0;p=n[d++];)p(m,_,s,a);if(r){if(h>0)for(;f--;)m[f]||_[f]||(_[f]=Q.call(l));_=g(_)}X.apply(l,_),c&&!r&&_.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(U=b,M=v),m};return i?r(s):s}var w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q="sizzle"+1*new Date,F=e.document,U=0,W=0,H=n(),K=n(),G=n(),Y=function(e,t){return e===t&&(O=!0),0},J={}.hasOwnProperty,V=[],Q=V.pop,Z=V.push,X=V.push,ee=V.slice,te=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=RegExp(re+"+","g"),le=RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=RegExp("^"+re+"*,"+re+"*"),ue=RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),de=RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),pe=RegExp(se),he=RegExp("^"+ie+"$"),fe={ID:RegExp("^#("+ie+")"),CLASS:RegExp("^\\.("+ie+")"),TAG:RegExp("^("+ie+"|[*])"),ATTR:RegExp("^"+oe),PSEUDO:RegExp("^"+se),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:RegExp("^(?:"+ne+")$","i"),needsContext:RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ke=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ae=function(){N()},Ce=f(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(V=ee.call(F.childNodes),F.childNodes),V[F.childNodes.length].nodeType}catch(e){X={apply:V.length?function(e,t){Z.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==I&&9===r.nodeType&&r.documentElement?(I=r,D=I.documentElement,L=!C(I),F!==I&&(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ae,!1):n.attachEvent&&n.attachEvent("onunload",Ae)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(I.getElementsByClassName),x.getById=i(function(e){return D.appendChild(e).id=q,!I.getElementsByName||!I.getElementsByName(q).length}),x.getById?(k.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}},k.find.ID=function(e,t){if(void 0!==t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}}):(k.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},k.find.ID=function(e,t){if(void 0!==t.getElementById&&L){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),k.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&L)return t.getElementsByClassName(e)},R=[],z=[],(x.qsa=ge.test(I.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&z.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||z.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll("[id~="+q+"-]").length||z.push("~="),e.querySelectorAll(":checked").length||z.push(":checked"),e.querySelectorAll("a#"+q+"+*").length||z.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&z.push("name"+re+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&z.push(":enabled",":disabled"),D.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&z.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),z.push(",.*:")})),(x.matchesSelector=ge.test(P=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){x.disconnectedMatch=P.call(e,"*"),P.call(e,"[s!='']:x"),R.push("!=",se)}),z=z.length&&RegExp(z.join("|")),R=R.length&&RegExp(R.join("|")),t=ge.test(D.compareDocumentPosition),B=t||ge.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===F&&B(F,e)?-1:t===I||t.ownerDocument===F&&B(F,t)?1:T?te(T,e)-te(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!i||!o)return e===I?-1:t===I?1:i?-1:o?1:T?te(T,e)-te(T,t):0;if(i===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?s(a[r],l[r]):a[r]===F?-1:l[r]===F?1:0},I):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&N(e),n=n.replace(de,"='$1']"),x.matchesSelector&&L&&!G[n+" "]&&(!R||!R.test(n))&&(!z||!z.test(n)))try{var r=P.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&N(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&N(e);var n=k.attrHandle[t.toLowerCase()],r=n&&J.call(k.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:x.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,ke)},t.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!x.detectDuplicates,T=!x.sortStable&&e.slice(0),e.sort(Y),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return T=null,e},A=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=A(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,m=o!==s?"nextSibling":"previousSibling",_=t.parentNode,g=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(_){if(o){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?_.firstChild:_.lastChild],s&&v){for(p=_,d=p[q]||(p[q]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===U&&c[1],y=h&&c[2],p=h&&_.childNodes[h];p=++h&&p&&p[m]||(y=h=0)||f.pop();)if(1===p.nodeType&&++y&&p===t){u[e]=[U,h,y];break}}else if(v&&(p=t,d=p[q]||(p[q]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===U&&c[1],y=h),y===!1)for(;(p=++h&&p&&p[m]||(y=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++y||(v&&(d=p[q]||(p[q]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[U,y]),p!==t)););return y-=i,y===r||y%r===0&&y/r>=0}}},PSEUDO:function(e,n){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[q]?o(n):o.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=te(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(le,"$1"));return i[q]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:r(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return _e.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return p.prototype=k.filters=k.pseudos,k.setFilters=new p,E=t.tokenize=function(e,n){var r,i,o,s,a,l,c,u=K[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=k.preFilter;a;){r&&!(i=ce.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=ue.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),a=a.slice(r.length));for(s in k.filter)!(i=fe[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):K(e,l).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=G[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[q]?r.push(o):i.push(o);o=G(e,b(i,r)),o.selector=e}return o},j=t.select=function(e,t,n,r){var i,o,s,a,l,c="function"==typeof e&&e,u=!r&&E(e=c.selector||e);if(n=n||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&L&&k.relative[o[1].type]){if(t=(k.find.ID(s.matches[0].replace(be,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(s=o[i],!k.relative[a=s.type]);)if((l=k.find[a])&&(r=l(s.matches[0].replace(be,we),ye.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&h(o),!e)return X.apply(n,r),n;break}}return(c||S(e,u))(r,t,!L,n,!t||ye.test(e)&&d(t.parentNode)||t),n},x.sortStable=q.split("").sort(Y).join("")===q,x.detectDuplicates=!!O,N(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(I.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(t);ye.find=Ae,ye.expr=Ae.selectors,ye.expr[":"]=ye.expr.pseudos,ye.uniqueSort=ye.unique=Ae.uniqueSort,ye.text=Ae.getText,ye.isXMLDoc=Ae.isXML,ye.contains=Ae.contains,ye.escapeSelector=Ae.escape;var Ce=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ye(e).is(n))break;r.push(e)}return r},Ee=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Se=ye.expr.match.needsContext,je=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Me=/^.[^:#\[\.,]*$/;ye.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ye.find.matchesSelector(r,e)?[r]:[]:ye.find.matches(e,ye.grep(t,function(e){return 1===e.nodeType}))},ye.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ye(e).filter(function(){for(t=0;t<r;t++)if(ye.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ye.find(e,i[t],n);return r>1?ye.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&Se.test(e)?ye(e):e||[],!1).length}});var Te,Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ne=ye.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Te,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Oe.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ye?t[0]:t,ye.merge(this,ye.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:se,!0)),je.test(r[1])&&ye.isPlainObject(t))for(r in t)ye.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=se.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ye.isFunction(e)?void 0!==n.ready?n.ready(e):e(ye):ye.makeArray(e,this)};Ne.prototype=ye.fn,Te=ye(se);var Ie=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};ye.fn.extend({has:function(e){var t=ye(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ye.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&ye(e);if(!Se.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ye.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ye.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?de.call(ye(e),this[0]):de.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ye.uniqueSort(ye.merge(this.get(),ye(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ye.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,n){return Ce(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,n){return Ce(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ce(e,"previousSibling",n)},siblings:function(e){return Ee((e.parentNode||{}).firstChild,e)},children:function(e){return Ee(e.firstChild)},contents:function(e){return a(e,"iframe")?e.contentDocument:(a(e,"template")&&(e=e.content||e),ye.merge([],e.childNodes))}},function(e,t){ye.fn[e]=function(n,r){var i=ye.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ye.filter(r,i)),this.length>1&&(De[e]||ye.uniqueSort(i),Ie.test(e)&&i.reverse()),this.pushStack(i)}});var Le=/[^\x20\t\r\n\f]+/g;ye.Callbacks=function(e){e="string"==typeof e?u(e):ye.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){ye.each(n,function(n,r){ye.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==ye.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return ye.each(arguments,function(e,t){for(var n;(n=ye.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?ye.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ye.extend({Deferred:function(e){var n=[["notify","progress",ye.Callbacks("memory"),ye.Callbacks("memory"),2],["resolve","done",ye.Callbacks("once memory"),ye.Callbacks("once memory"),0,"resolved"],["reject","fail",ye.Callbacks("once memory"),ye.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return ye.Deferred(function(t){ye.each(n,function(n,r){var i=ye.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&ye.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){function o(e,n,r,i){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<s)){if(t=r.apply(a,l),t===n.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,ye.isFunction(c)?i?c.call(t,o(s,n,d,i),o(s,n,p,i)):(s++,c.call(t,o(s,n,d,i),o(s,n,p,i),o(s,n,d,n.notifyWith))):(r!==d&&(a=void 0,l=[t]),(i||n.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(t){ye.Deferred.exceptionHook&&ye.Deferred.exceptionHook(t,u.stackTrace),e+1>=s&&(r!==p&&(a=void 0,l=[t]),n.rejectWith(a,l))}};e?u():(ye.Deferred.getStackHook&&(u.stackTrace=ye.Deferred.getStackHook()),t.setTimeout(u))}}var s=0;return ye.Deferred(function(t){n[0][3].add(o(0,t,ye.isFunction(i)?i:d,t.notifyWith)),n[1][3].add(o(0,t,ye.isFunction(e)?e:d)),n[2][3].add(o(0,t,ye.isFunction(r)?r:p))}).promise()},promise:function(e){return null!=e?ye.extend(e,i):i}},o={};return ye.each(n,function(e,t){var s=t[2],a=t[5];i[t[1]]=s.add,a&&s.add(function(){r=a},n[3-e][2].disable,n[0][2].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=le.call(arguments),o=ye.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?le.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(h(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||ye.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)h(i[n],s(n),o.reject);return o.promise()}});var ze=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ye.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&ze.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ye.readyException=function(e){t.setTimeout(function(){throw e})};var Re=ye.Deferred();ye.fn.ready=function(e){return Re.then(e).catch(function(e){ye.readyException(e)}),this},ye.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--ye.readyWait:ye.isReady)||(ye.isReady=!0,e!==!0&&--ye.readyWait>0||Re.resolveWith(se,[ye]))}}),ye.ready.then=Re.then,"complete"===se.readyState||"loading"!==se.readyState&&!se.documentElement.doScroll?t.setTimeout(ye.ready):(se.addEventListener("DOMContentLoaded",f),t.addEventListener("load",f));var Pe=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===ye.type(n)){i=!0;for(a in n)Pe(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,ye.isFunction(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(ye(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},Be=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Be(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ye.camelCase(t)]=n;else for(r in t)i[ye.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ye.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(ye.camelCase):(t=ye.camelCase(t),t=t in r?[t]:t.match(Le)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||ye.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ye.isEmptyObject(t)}};var qe=new m,Fe=new m,Ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,We=/[A-Z]/g;ye.extend({hasData:function(e){return Fe.hasData(e)||qe.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return qe.access(e,t,n)},_removeData:function(e,t){qe.remove(e,t)}}),ye.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Fe.get(o),1===o.nodeType&&!qe.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=ye.camelCase(r.slice(5)),g(o,r,i[r])));qe.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Fe.set(this,e)}):Pe(this,function(t){var n;if(o&&void 0===t){if(n=Fe.get(o,e),void 0!==n)return n;if(n=g(o,e),void 0!==n)return n}else this.each(function(){Fe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),ye.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=qe.get(e,t),n&&(!r||Array.isArray(n)?r=qe.access(e,t,ye.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ye.queue(e,t),r=n.length,i=n.shift(),o=ye._queueHooks(e,t),s=function(){ye.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return qe.get(e,n)||qe.access(e,n,{empty:ye.Callbacks("once memory").add(function(){qe.remove(e,[t+"queue",n])})})}}),ye.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ye.queue(this[0],e):void 0===t?this:this.each(function(){var n=ye.queue(this,e,t);ye._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ye.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ye.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ye.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=qe.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Ge=["Top","Right","Bottom","Left"],Ye=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ye.contains(e.ownerDocument,e)&&"none"===ye.css(e,"display")},Je=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i},Ve={};ye.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ye(this)?ye(this).show():ye(this).hide()})}});var Qe=/^(?:checkbox|radio)$/i,Ze=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,$e=/^$|\/(?:java|ecma)script/i,Xe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var et=/<|&#?\w+;/;!function(){var e=se.createDocumentFragment(),t=e.appendChild(se.createElement("div")),n=se.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ge.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ge.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var tt=se.documentElement,nt=/^key/,rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;ye.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,d,p,h,f,m,_=qe.get(e);if(_)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&ye.find.matchesSelector(tt,i),n.guid||(n.guid=ye.guid++),(l=_.events)||(l=_.events={}),(s=_.handle)||(s=_.handle=function(t){return void 0!==ye&&ye.event.triggered!==t.type?ye.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Le)||[""],c=t.length;c--;)a=it.exec(t[c])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h&&(d=ye.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=ye.event.special[h]||{},u=ye.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ye.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,f,s)!==!1||e.addEventListener&&e.addEventListener(h,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),ye.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,d,p,h,f,m,_=qe.hasData(e)&&qe.get(e);if(_&&(l=_.events)){for(t=(t||"").match(Le)||[""],c=t.length;c--;)if(a=it.exec(t[c])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h){for(d=ye.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,p=l[h]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));s&&!p.length&&(d.teardown&&d.teardown.call(e,f,_.handle)!==!1||ye.removeEvent(e,h,_.handle),delete l[h])}else for(h in l)ye.event.remove(e,h+t[c],n,r,!0);ye.isEmptyObject(l)&&qe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=ye.event.fix(e),l=Array(arguments.length),c=(qe.get(this,"events")||{})[a.type]||[],u=ye.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,a)!==!1){for(s=ye.event.handlers.call(this,a,c),t=0;(i=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,r=((ye.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l),void 0!==r&&(a.result=r)===!1&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(o=[],s={},n=0;n<l;n++)r=t[n],i=r.selector+" ",void 0===s[i]&&(s[i]=r.needsContext?ye(i,this).index(c)>-1:ye.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(ye.Event.prototype,e,{enumerable:!0,configurable:!0,get:ye.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{
enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ye.expando]?e:new ye.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&a(this,"input"))return this.click(),!1},_default:function(e){return a(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ye.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ye.Event=function(e,t){return this instanceof ye.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?A:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ye.extend(this,t),this.timeStamp=e&&e.timeStamp||ye.now(),void(this[ye.expando]=!0)):new ye.Event(e,t)},ye.Event.prototype={constructor:ye.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=A,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=A,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=A,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ye.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&nt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&rt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ye.event.addProp),ye.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ye.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ye.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ye.fn.extend({on:function(e,t,n,r){return S(this,e,t,n,r)},one:function(e,t,n,r){return S(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ye(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=C),this.each(function(){ye.event.remove(this,e,n,t)})}});var ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,st=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^true\/(.*)/,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ye.extend({htmlPrefilter:function(e){return e.replace(ot,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ye.contains(e.ownerDocument,e);if(!(ge.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ye.isXMLDoc(e)))for(s=w(a),o=w(e),r=0,i=o.length;r<i;r++)N(o[r],s[r]);if(t)if(n)for(o=o||w(e),s=s||w(a),r=0,i=o.length;r<i;r++)O(o[r],s[r]);else O(e,a);return s=w(a,"script"),s.length>0&&x(s,!l&&w(e,"script")),a},cleanData:function(e){for(var t,n,r,i=ye.event.special,o=0;void 0!==(n=e[o]);o++)if(Be(n)){if(t=n[qe.expando]){if(t.events)for(r in t.events)i[r]?ye.event.remove(n,r):ye.removeEvent(n,r,t.handle);n[qe.expando]=void 0}n[Fe.expando]&&(n[Fe.expando]=void 0)}}}),ye.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?ye.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.appendChild(e)}})},prepend:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ye.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ye.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!st.test(e)&&!Xe[(Ze.exec(e)||["",""])[1].toLowerCase()]){e=ye.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ye.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return I(this,arguments,function(t){var n=this.parentNode;ye.inArray(this,e)<0&&(ye.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ye.fn[e]=function(e){for(var n,r=[],i=ye(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),ye(i[s])[t](n),ue.apply(r,n.get());return this.pushStack(r)}});var ut=/^margin/,dt=RegExp("^("+He+")(?!px)[a-z%]+$","i"),pt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",tt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,a.style.marginRight="50%",i="4px"===e.marginRight,tt.removeChild(s),a=null}}var n,r,i,o,s=se.createElement("div"),a=se.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ge.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ye.extend(ge,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),i},reliableMarginLeft:function(){return e(),o}}))}();var ht=/^(none|table(?!-c[ea]).+)/,ft=/^--/,mt={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},gt=["Webkit","Moz","ms"],vt=se.createElement("div").style;ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=L(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ye.camelCase(t),l=ft.test(t),c=e.style;return l||(t=P(a)),s=ye.cssHooks[t]||ye.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t]:(o=typeof n,"string"===o&&(i=Ke.exec(n))&&i[1]&&(n=v(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ye.cssNumber[a]?"":"px")),ge.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=ye.camelCase(t),l=ft.test(t);return l||(t=P(a)),s=ye.cssHooks[t]||ye.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=L(e,t,r)),"normal"===i&&t in _t&&(i=_t[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),ye.each(["height","width"],function(e,t){ye.cssHooks[t]={get:function(e,n,r){if(n)return!ht.test(ye.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?F(e,t,r):Je(e,mt,function(){return F(e,t,r)})},set:function(e,n,r){var i,o=r&&pt(e),s=r&&q(e,t,r,"border-box"===ye.css(e,"boxSizing",!1,o),o);return s&&(i=Ke.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=ye.css(e,t)),B(e,n,s)}}}),ye.cssHooks.marginLeft=z(ge.reliableMarginLeft,function(e,t){if(t)return(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ye.each({margin:"",padding:"",border:"Width"},function(e,t){ye.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ge[r]+t]=o[r]||o[r-2]||o[0];return i}},ut.test(e)||(ye.cssHooks[e+t].set=B)}),ye.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=pt(e),i=t.length;s<i;s++)o[t[s]]=ye.css(e,t[s],!1,r);return o}return void 0!==n?ye.style(e,t,n):ye.css(e,t)},e,t,arguments.length>1)}}),ye.Tween=U,U.prototype={constructor:U,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ye.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ye.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ye.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ye.fx.step[e.prop]?ye.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ye.cssProps[e.prop]]&&!ye.cssHooks[e.prop]?e.elem[e.prop]=e.now:ye.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ye.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ye.fx=U.prototype.init,ye.fx.step={};var yt,bt,wt=/^(?:toggle|show|hide)$/,xt=/queueHooks$/;ye.Animation=ye.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,Ke.exec(t),n),n}]},tweener:function(e,t){ye.isFunction(e)?(t=e,e=["*"]):e=e.match(Le);for(var n,r=0,i=e.length;r<i;r++)n=e[r],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),ye.speed=function(e,t,n){var r=e&&"object"==typeof e?ye.extend({},e):{complete:n||!n&&t||ye.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ye.isFunction(t)&&t};return ye.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ye.fx.speeds?r.duration=ye.fx.speeds[r.duration]:r.duration=ye.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ye.isFunction(r.old)&&r.old.call(this),r.queue&&ye.dequeue(this,r.queue)},r},ye.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ye.isEmptyObject(e),o=ye.speed(t,n,r),s=function(){var t=V(this,ye.extend({},e),o);(i||qe.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ye.timers,s=qe.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&xt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ye.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=qe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ye.timers,s=r?r.length:0;for(n.finish=!0,ye.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ye.each(["toggle","show","hide"],function(e,t){var n=ye.fn[t];ye.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(K(t,!0),e,r,i)}}),ye.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ye.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ye.timers=[],ye.fx.tick=function(){var e,t=0,n=ye.timers;for(yt=ye.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ye.fx.stop(),yt=void 0},ye.fx.timer=function(e){ye.timers.push(e),ye.fx.start()},ye.fx.interval=13,ye.fx.start=function(){bt||(bt=!0,W())},ye.fx.stop=function(){bt=null},ye.fx.speeds={slow:600,fast:200,_default:400},ye.fn.delay=function(e,n){return e=ye.fx?ye.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var e=se.createElement("input"),t=se.createElement("select"),n=t.appendChild(se.createElement("option"));e.type="checkbox",ge.checkOn=""!==e.value,ge.optSelected=n.selected,e=se.createElement("input"),e.value="t",e.type="radio",ge.radioValue="t"===e.value}();var kt,At=ye.expr.attrHandle;ye.fn.extend({attr:function(e,t){return Pe(this,ye.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ye.removeAttr(this,e)})}}),ye.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ye.prop(e,t,n):(1===o&&ye.isXMLDoc(e)||(i=ye.attrHooks[t.toLowerCase()]||(ye.expr.match.bool.test(t)?kt:void 0)),void 0!==n?null===n?void ye.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ye.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ge.radioValue&&"radio"===t&&a(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Le);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),kt={set:function(e,t,n){return t===!1?ye.removeAttr(e,n):e.setAttribute(n,n),n}},ye.each(ye.expr.match.bool.source.match(/\w+/g),function(e,t){var n=At[t]||ye.find.attr;At[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=At[s],At[s]=i,i=null!=n(e,t,r)?s:null,At[s]=o),i}});var Ct=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;ye.fn.extend({prop:function(e,t){return Pe(this,ye.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ye.propFix[e]||e]})}}),ye.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ye.isXMLDoc(e)||(t=ye.propFix[t]||t,i=ye.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ye.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ge.optSelected||(ye.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ye.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ye.propFix[this.toLowerCase()]=this}),ye.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(ye.isFunction(e))return this.each(function(t){ye(this).addClass(e.call(this,t,Z(this)))});if("string"==typeof e&&e)for(t=e.match(Le)||[];n=this[l++];)if(i=Z(n),r=1===n.nodeType&&" "+Q(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=Q(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(ye.isFunction(e))return this.each(function(t){ye(this).removeClass(e.call(this,t,Z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Le)||[];n=this[l++];)if(i=Z(n),r=1===n.nodeType&&" "+Q(i)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=Q(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ye.isFunction(e)?this.each(function(n){ye(this).toggleClass(e.call(this,n,Z(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=ye(this),o=e.match(Le)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=Z(this),t&&qe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":qe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Q(Z(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;ye.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ye.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ye(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=ye.map(i,function(e){return null==e?"":e+""})),t=ye.valHooks[this.type]||ye.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ye.valHooks[i.type]||ye.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(St,""):null==n?"":n)}}}),ye.extend({valHooks:{option:{get:function(e){var t=ye.find.attr(e,"value");return null!=t?t:Q(ye.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,l=s?null:[],c=s?o+1:i.length;for(r=o<0?c:s?o:0;r<c;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!a(n.parentNode,"optgroup"))){if(t=ye(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,r,i=e.options,o=ye.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=ye.inArray(ye.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ye.each(["radio","checkbox"],function(){ye.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ye.inArray(ye(e).val(),t)>-1}},ge.checkOn||(ye.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var jt=/^(?:focusinfocus|focusoutblur)$/;ye.extend(ye.event,{trigger:function(e,n,r,i){var o,s,a,l,c,u,d,p=[r||se],h=fe.call(e,"type")?e.type:e,f=fe.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||se,3!==r.nodeType&&8!==r.nodeType&&!jt.test(h+ye.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,e=e[ye.expando]?e:new ye.Event(h,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ye.makeArray(n,[e]),d=ye.event.special[h]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!ye.isWindow(r)){for(l=d.delegateType||h,jt.test(l+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||se)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||h,u=(qe.get(s,"events")||{})[e.type]&&qe.get(s,"handle"),u&&u.apply(s,n),u=c&&s[c],u&&u.apply&&Be(s)&&(e.result=u.apply(s,n),e.result===!1&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Be(r)||c&&ye.isFunction(r[h])&&!ye.isWindow(r)&&(a=r[c],a&&(r[c]=null),ye.event.triggered=h,r[h](),ye.event.triggered=void 0,a&&(r[c]=a)),e.result}},simulate:function(e,t,n){var r=ye.extend(new ye.Event,n,{type:e,isSimulated:!0});ye.event.trigger(r,null,t)}}),ye.fn.extend({trigger:function(e,t){return this.each(function(){ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ye.event.trigger(e,t,n,!0)}}),ye.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ye.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ye.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ge.focusin="onfocusin"in t,ge.focusin||ye.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ye.event.simulate(t,e.target,ye.event.fix(e))};ye.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=qe.access(r,t);i||r.addEventListener(e,n,!0),qe.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=qe.access(r,t)-1;i?qe.access(r,t,i):(r.removeEventListener(e,n,!0),qe.remove(r,t))}}});var Mt=t.location,Tt=ye.now(),Ot=/\?/;ye.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ye.error("Invalid XML: "+e),n};var Nt=/\[\]$/,It=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;ye.param=function(e,t){var n,r=[],i=function(e,t){var n=ye.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ye.isPlainObject(e))ye.each(e,function(){i(this.name,this.value)});else for(n in e)X(n,e[n],t,i);return r.join("&")},ye.fn.extend({serialize:function(){return ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ye.prop(this,"elements");return e?ye.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ye(this).is(":disabled")&&Lt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Qe.test(e))}).map(function(e,t){var n=ye(this).val();return null==n?null:Array.isArray(n)?ye.map(n,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:n.replace(It,"\r\n")}}).get()}});var zt=/%20/g,Rt=/#.*$/,Pt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,Ut=/^\/\//,Wt={},Ht={},Kt="*/".concat("*"),Gt=se.createElement("a");Gt.href=Mt.href,ye.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:"GET",isLocal:qt.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ye.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,ye.ajaxSettings),t):ne(ye.ajaxSettings,e)},ajaxPrefilter:ee(Wt),ajaxTransport:ee(Ht),ajax:function(e,n){function r(e,n,r,a){var c,p,h,b,w,x=n;u||(u=!0,l&&t.clearTimeout(l),i=void 0,s=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(b=re(f,k,r)),b=ie(f,b,k,c),c?(f.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(ye.lastModified[o]=w),w=k.getResponseHeader("etag"),w&&(ye.etag[o]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=b.state,p=b.data,h=b.error,c=!h)):(h=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(n||x)+"",c?g.resolveWith(m,[p,x,k]):g.rejectWith(m,[k,x,h]),k.statusCode(y),y=void 0,d&&_.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?p:h]),v.fireWith(m,[k,x]),d&&(_.trigger("ajaxComplete",[k,f]),--ye.active||ye.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,a,l,c,u,d,p,h,f=ye.ajaxSetup({},n),m=f.context||f,_=f.context&&(m.nodeType||m.jquery)?ye(m):ye.event,g=ye.Deferred(),v=ye.Callbacks("once memory"),y=f.statusCode||{},b={},w={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Bt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),r(0,t),this}};if(g.promise(k),f.url=((e||f.url||Mt.href)+"").replace(Ut,Mt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Le)||[""],null==f.crossDomain){c=se.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Gt.protocol+"//"+Gt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ye.param(f.data,f.traditional)),te(Wt,f,n,k),u)return k;d=ye.event&&f.global,d&&0===ye.active++&&ye.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ft.test(f.type),o=f.url.replace(Rt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(zt,"+")):(h=f.url.slice(o.length),f.data&&(o+=(Ot.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(Pt,"$1"),h=(Ot.test(o)?"&":"?")+"_="+Tt++ +h),f.url=o+h),f.ifModified&&(ye.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ye.lastModified[o]),ye.etag[o]&&k.setRequestHeader("If-None-Match",ye.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Kt+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)k.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(f.beforeSend.call(m,k,f)===!1||u))return k.abort();if(x="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),i=te(Ht,f,n,k)){if(k.readyState=1,d&&_.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},f.timeout));try{u=!1,i.send(b,r)}catch(e){if(u)throw e;r(-1,e)}}else r(-1,"No Transport");return k},getJSON:function(e,t,n){return ye.get(e,t,n,"json")},getScript:function(e,t){return ye.get(e,void 0,t,"script")}}),ye.each(["get","post"],function(e,t){ye[t]=function(e,n,r,i){return ye.isFunction(n)&&(i=i||r,r=n,n=void 0),ye.ajax(ye.extend({url:e,type:t,dataType:i,data:n,success:r},ye.isPlainObject(e)&&e))}}),ye._evalUrl=function(e){return ye.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ye.fn.extend({wrapAll:function(e){var t;return this[0]&&(ye.isFunction(e)&&(e=e.call(this[0])),t=ye(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ye.isFunction(e)?this.each(function(t){ye(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ye(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ye.isFunction(e);return this.each(function(n){ye(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ye(this).replaceWith(this.childNodes)}),this}}),ye.expr.pseudos.hidden=function(e){return!ye.expr.pseudos.visible(e)},ye.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ye.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Jt=ye.ajaxSettings.xhr();ge.cors=!!Jt&&"withCredentials"in Jt,ge.ajax=Jt=!!Jt,ye.ajaxTransport(function(e){var n,r;if(ge.cors||Jt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Yt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ye.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ye.globalEval(e),e}}}),ye.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ye.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ye("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),se.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Vt=[],Qt=/(=)\?(?=&|$)|\?\?/;ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||ye.expando+"_"+Tt++;return this[e]=!0,e}}),ye.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(Qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ye.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Qt,"$1"+i):e.jsonp!==!1&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||ye.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){void 0===o?ye(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Vt.push(i)),s&&ye.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),ge.createHTMLDocument=function(){var e=se.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ye.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ge.createHTMLDocument?(t=se.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=se.location.href,t.head.appendChild(r)):t=se),i=je.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=k([e],t,o),o&&o.length&&ye(o).remove(),ye.merge([],i.childNodes))},ye.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=Q(e.slice(a)),e=e.slice(0,a)),ye.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&ye.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?ye("<div>").append(ye.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e]);
})}),this},ye.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ye.fn[t]=function(e){return this.on(t,e)}}),ye.expr.pseudos.animated=function(e){return ye.grep(ye.timers,function(t){return e===t.elem}).length},ye.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c,u=ye.css(e,"position"),d=ye(e),p={};"static"===u&&(e.style.position="relative"),a=d.offset(),o=ye.css(e,"top"),l=ye.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(r=d.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),ye.isFunction(t)&&(t=t.call(e,n,ye.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):d.css(p)}},ye.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ye.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),t=o.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ye.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),a(e[0],"html")||(r=e.offset()),r={top:r.top+ye.css(e[0],"borderTopWidth",!0),left:r.left+ye.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-ye.css(n,"marginTop",!0),left:t.left-r.left-ye.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ye.css(e,"position");)e=e.offsetParent;return e||tt})}}),ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ye.fn[e]=function(r){return Pe(this,function(e,r,i){var o;return ye.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),ye.each(["top","left"],function(e,t){ye.cssHooks[t]=z(ge.pixelPosition,function(e,n){if(n)return n=L(e,t),dt.test(n)?ye(e).position()[t]+"px":n})}),ye.each({Height:"height",Width:"width"},function(e,t){ye.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ye.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Pe(this,function(t,n,i){var o;return ye.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ye.css(t,n,a):ye.style(t,n,i,a)},t,s?i:void 0,s)}})}),ye.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ye.holdReady=function(e){e?ye.readyWait++:ye.ready(!0)},ye.isArray=Array.isArray,ye.parseJSON=JSON.parse,ye.nodeName=a,n=[],r=function(){return ye}.apply(exports,n),!(void 0!==r&&(e.exports=r));var Zt=t.jQuery,$t=t.$;return ye.noConflict=function(e){return t.$===ye&&(t.$=$t),e&&t.jQuery===ye&&(t.jQuery=Zt),ye},i||(t.jQuery=t.$=ye),ye})},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var r=0;return p.default.Children.map(e,function(e){return p.default.isValidElement(e)?t.call(n,e,r++):e})}function i(e,t,n){var r=0;p.default.Children.forEach(e,function(e){p.default.isValidElement(e)&&t.call(n,e,r++)})}function o(e){var t=0;return p.default.Children.forEach(e,function(e){p.default.isValidElement(e)&&++t}),t}function s(e,t,n){var r=0,i=[];return p.default.Children.forEach(e,function(e){p.default.isValidElement(e)&&t.call(n,e,r++)&&i.push(e)}),i}function a(e,t,n){var r=0,i=void 0;return p.default.Children.forEach(e,function(e){i||p.default.isValidElement(e)&&t.call(n,e,r++)&&(i=e)}),i}function l(e,t,n){var r=0,i=!0;return p.default.Children.forEach(e,function(e){i&&p.default.isValidElement(e)&&(t.call(n,e,r++)||(i=!1))}),i}function c(e,t,n){var r=0,i=!1;return p.default.Children.forEach(e,function(e){i||p.default.isValidElement(e)&&t.call(n,e,r++)&&(i=!0)}),i}function u(e){var t=[];return p.default.Children.forEach(e,function(e){p.default.isValidElement(e)&&t.push(e)}),t}exports.__esModule=!0;var d=t(1),p=n(d);exports.default={map:r,forEach:i,count:o,find:a,filter:s,every:l,some:c,toArray:u},e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=[o.PropTypes.bool,o.PropTypes.oneOf([e])],n=o.PropTypes.oneOfType(t);return n.acceptsArray=o.PropTypes.oneOfType(t.concat(o.PropTypes.array)),n}function i(e){function t(t,n,r,i){i=i||"<<anonymous>>";for(var o=arguments.length,s=Array(o>4?o-4:0),a=4;a<o;a++)s[a-4]=arguments[a];return null!=n[r]?e.apply(void 0,[n,r,i].concat(s)):t?Error("Required prop `"+r+"` was not specified in  `"+i+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}var o=t(1),s=n(o),a=t(46),l=n(a),c=t(127),u=n(c),d=Object.keys(u.default).filter(function(e){return"filter"!==e});e.exports={elementType:i(function(e,t,n){if("function"!=typeof e[t]){if(s.default.isValidElement(e[t]))return Error("Invalid prop `"+t+"` specified in  `"+n+"`. Expected an Element `type`, not an actual Element");if("string"!=typeof e[t])return Error("Invalid prop `"+t+"` specified in  `"+n+"`. Expected an Element `type` such as a tag name or return value of React.createClass(...)")}return null}),numberFormat:i(function(){var e;return(e=l.default.number).propType.apply(e,arguments)}),dateFormat:i(function(){var e;return(e=l.default.date).propType.apply(e,arguments)}),disabled:r("disabled"),readOnly:r("readOnly"),accessor:s.default.PropTypes.oneOfType([s.default.PropTypes.string,s.default.PropTypes.func]),message:s.default.PropTypes.oneOfType([s.default.PropTypes.node,s.default.PropTypes.string]),filter:s.default.PropTypes.oneOfType([s.default.PropTypes.func,s.default.PropTypes.bool,s.default.PropTypes.oneOf(d)])}},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,_e,ge,ve,ye,be,we,xe,ke,Ae,Ce,Ee,Se,je,Me,Te,Oe,Ne,Ie,De,Le=[].slice,ze=function(e,t){return function(){return e.apply(t,arguments)}},Re=function(e,t){function n(){this.constructor=e}for(var r in t)Pe.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Pe={}.hasOwnProperty,Be=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};$=window.$,exports.SHOW_BUTTON_LABELS=4,exports.MIN_SPLIT=f=.02,exports.MAX_SPLIT=h=.98,k={delay:{show:500,hide:100}},O=t(31),se=t(188),ve=t(12).redux,S=Ie=t(23),Se=t(19).salvus_client,r=t(63).EventEmitter,M=t(36).alert_message,me=t(189).project_tasks,P=t(49),a=P.IS_MOBILE,ae=t(9),le=t(30),t(345),t(912),t(913),ye=t(9),D=ye.copy,Ne=ye.trunc,W=ye.from_json,Oe=ye.to_json,V=ye.keys,L=ye.defaults,Ae=ye.required,F=ye.filename_extension,U=ye.filename_extension_notilde,Z=ye.len,he=ye.path_split,De=ye.uuid,je=t(353),Ce=t(804),fe=t(352),N={c:"text/x-c","c++":"text/x-c++src",cql:"text/x-sql",cpp:"text/x-c++src",cc:"text/x-c++src",tcc:"text/x-c++src",conf:"nginx",csharp:"text/x-csharp","c#":"text/x-csharp",clj:"text/x-clojure",cljs:"text/x-clojure",cljc:"text/x-clojure",edn:"text/x-clojure",elm:"text/x-elm",cjsx:"text/cjsx",coffee:"coffeescript",css:"css",diff:"text/x-diff",dtd:"application/xml-dtd",e:"text/x-eiffel",ecl:"ecl",f:"text/x-fortran",f90:"text/x-fortran",f95:"text/x-fortran",h:"text/x-c++hdr",hpp:"text/x-c++hdr",hs:"text/x-haskell",lhs:"text/x-haskell",html:"htmlmixed",jade:"text/x-pug",java:"text/x-java",jl:"text/x-julia",js:"javascript",jsx:"jsx",json:"javascript",lua:"lua",m:"text/x-octave",md:"gfm2",ml:"text/x-ocaml",mysql:"text/x-sql",patch:"text/x-diff",gp:"text/pari",go:"text/x-go",pari:"text/pari",php:"php",pl:"text/x-perl",pug:"text/x-pug",py:"python",pyx:"python",r:"r",rmd:"gfm2",rnw:"stex2",rst:"rst",rb:"text/x-ruby",ru:"text/x-ruby",sage:"python",sagews:"sagews",scala:"text/x-scala",scm:"text/x-scheme",sh:"shell",spyx:"python",sql:"text/x-sql",ss:"text/x-scheme",sty:"stex2",txt:"text",tex:"stex2",ts:"application/typescript",toml:"text/x-toml",bib:"stex",bbl:"stex",xml:"xml",xsl:"xsl",yaml:"yaml","":"text"},B=exports.file_associations={};for(R in N)ce=N[R],ue=ce,G=ue.indexOf("x-"),G!==-1&&(ue=ue.slice(G+2)),ue=ue.replace("src",""),B[R]={editor:"codemirror",binary:!1,icon:"fa-file-code-o",opts:{mode:ce},name:ue};for(B["noext-Dockerfile"]={editor:"codemirror",binary:!1,icon:"fa-ship",opts:{mode:"dockerfile",indent_unit:2,tab_size:2},name:"Dockerfile"},B.tex={editor:"latex",icon:"fa-file-excel-o",opts:{mode:"stex2",indent_unit:4,tab_size:4},name:"LaTeX"},B.rnw={editor:"latex",icon:"fa-file-excel-o",opts:{mode:"stex2",indent_unit:4,tab_size:4},name:"R/knitr LaTeX"},B.html={editor:"html-md",icon:"fa-file-code-o",opts:{indent_unit:4,tab_size:4,mode:"htmlmixed"},name:"html"},B.md={editor:"html-md",icon:"fa-file-code-o",opts:{indent_unit:4,tab_size:4,mode:"gfm2"},name:"markdown"},B.rmd={editor:"html-md",icon:"fa-file-code-o",opts:{indent_unit:4,tab_size:4,mode:"gfm2"},name:"Rmd"},B.java={editor:"html-md",icon:"fa-file-code-o",opts:{indent_unit:4,tab_size:4,mode:"text/x-java"},name:"Java"},B.rst={editor:"html-md",icon:"fa-file-code-o",opts:{indent_unit:4,tab_size:4,mode:"rst"},name:"ReST"},B.mediawiki=B.wiki={editor:"html-md",icon:"fa-file-code-o",opts:{indent_unit:4,tab_size:4,mode:"mediawiki"},name:"MediaWiki"},B.sass={editor:"codemirror",icon:"fa-file-code-o",opts:{mode:"text/x-sass",indent_unit:2,tab_size:2},name:"SASS"},B.css={editor:"codemirror",icon:"fa-file-code-o",opts:{mode:"css",indent_unit:4,tab_size:4},name:"CSS"},be=["noext-makefile","noext-Makefile","noext-GNUmakefile","make","build"],Q=0,X=be.length;Q<X;Q++)oe=be[Q],B[oe]={editor:"codemirror",icon:"fa-cogs",opts:{mode:"makefile",indent_unit:4,tab_size:4,spaces_instead_of_tabs:!1},name:"Makefile"};for(B.term={editor:"terminal",icon:"fa-terminal",opts:{},name:"Terminal"},B.ipynb={editor:"ipynb",icon:"fa-list-alt",opts:{},name:"jupyter notebook"},we=["png","jpg","jpeg","gif","svg"],de=0,ee=we.length;de<ee;de++)R=we[de],B[R]={editor:"media",icon:"fa-file-image-o",opts:{},name:R,binary:!0,exclude_from_menu:!0};for(E=["webm","mp4","avi","mkv"],_e=0,te=E.length;_e<te;_e++)R=E[_e],B[R]={editor:"media",icon:"fa-file-video-o",opts:{},name:R,binary:!0,exclude_from_menu:!0};for(B.pdf={editor:"pdf",icon:"fa-file-pdf-o",opts:{},name:"pdf",binary:!0,exclude_from_menu:!0},B.tasks={editor:"tasks",icon:"fa-tasks",opts:{},name:"task list"},B.course={editor:"course",icon:"fa-graduation-cap",opts:{},name:"course"},B["sage-chat"]={editor:"chat",icon:"fa-comment",opts:{},name:"chat"},B["sage-git"]={editor:"git",icon:"fa-git-square",opts:{},name:"git"},B["sage-template"]={editor:"template",icon:"fa-clone",opts:{},name:"template"},B["sage-history"]={editor:"history",icon:"fa-history",opts:{},name:"sage history",exclude_from_menu:!0},T={editor:"archive",icon:"fa-file-archive-o",opts:{},name:"archive"},xe="zip gz bz2 z lz xz lzma tgz tbz tbz2 tb2 taz tz tlz txz lzip".split(" "),ge=0,ne=xe.length;ge<ne;ge++)R=xe[ge],B[R]=T;B.sage.name="sage code",B.sagews.name="sage worksheet",B.sagews.exclude_from_menu=!0,Y=function(){var e,t,n,r,i,o,s,a,l;for(n={},l=ae.keys(B),l.sort(),t=function(e,t,r){var i,o;if(t&&(i=B[t],!r||!i.exclude_from_menu))return null==i.name||n[i.name]?void 0:(n[i.name]=!0,o=$("<li><a href='#new-file' data-ext='"+t+"'><i style='width: 18px;' class='fa "+i.icon+"'></i> <span style='text-transform:capitalize'>"+i.name+" </span> <span class='lighten'>(."+t+")</span></a></li>"),e.append(o))},e=$(".smc-new-file-type-list"),a=0,i=l.length;a<i;a++)R=l[a],t(e,R,!0);for(e=$(".smc-mini-new-file-type-list"),n={},s=["sagews","term","ipynb","tex","md","tasks","course","sage","py"],r=0,o=s.length;r<o;r++)R=s[r],t(e,R);return e.append($("<li class='divider'></li><li><a href='#new-folder'><i style='width: 18px;' class='fa fa-folder'></i> <span>Folder </span></a></li>")),e.append($("<li class='divider'></li><li><a href='#projects-add-collaborators'><i style='width: 18px;' class='fa fa-user'></i> <span>Collaborators... </span></a></li>"))},Y(),exports.file_icon_class=q=function(e){var t;return t=exports.file_options("x."+e),t.icon},p=t(103).MARKERS,exports.sagews_decorator_modes=Ee=[["cjsx","text/cjsx"],["coffeescript","coffeescript"],["cython","cython"],["file","text"],["fortran","text/x-fortran"],["html","htmlmixed"],["javascript","javascript"],["java","text/x-java"],["latex","stex"],["lisp","ecl"],["md","gfm2"],["gp","text/pari"],["go","text/x-go"],["perl","text/x-perl"],["python3","python"],["python","python"],["ruby","text/x-ruby"],["r","r"],["sage","python"],["script","shell"],["sh","shell"],["julia","text/x-julia"],["wiki","mediawiki"],["mediawiki","mediawiki"]],z=function(){return CodeMirror.defineMode("gfm2",function(e){var t,n,r,i,o;for(n=[],r=[["$$","$$"],["$","$"],["\\[","\\]"],["\\(","\\)"]],i=0,t=r.length;i<t;i++)o=r[i],n.push({open:o[0],close:o[1],mode:CodeMirror.getMode(e,"stex")});return CodeMirror.multiplexingMode.apply(CodeMirror,[CodeMirror.getMode(e,"gfm")].concat(Le.call(n)))}),CodeMirror.defineMode("htmlmixed2",function(e){var t,n,r,i,o;for(n=[],r=[["$$","$$"],["$","$"],["\\[","\\]"],["\\(","\\)"]],i=0,t=r.length;i<t;i++)o=r[i],n.push({open:o[0],close:o[1],mode:CodeMirror.getMode(e,ce)});return CodeMirror.multiplexingMode.apply(CodeMirror,[CodeMirror.getMode(e,"htmlmixed")].concat(Le.call(n)))}),CodeMirror.defineMode("stex2",function(e){var t,n,r,i,o;for(n=[],r=["sagesilent","sageblock"],i=0,t=r.length;i<t;i++)o=r[i],n.push({open:"\\begin{"+o+"}",close:"\\end{"+o+"}",mode:CodeMirror.getMode(e,"sagews")});return n.push({open:"\\sage{",close:"}",mode:CodeMirror.getMode(e,"sagews")}),CodeMirror.multiplexingMode.apply(CodeMirror,[CodeMirror.getMode(e,"stex")].concat(Le.call(n)))}),CodeMirror.defineMode("cython",function(e){return CodeMirror.multiplexingMode(CodeMirror.getMode(e,"python"))}),CodeMirror.defineMode("sagews",function(e){var t,n,r,i,o;for(r=[],t=RegExp("["+p.output+p.cell+"]"),i=0,n=Ee.length;i<n;i++)o=Ee[i],r.push({open:"%"+o[0],start:!0,close:t,mode:CodeMirror.getMode(e,o[1])});return CodeMirror.smc_multiplexing_mode.apply(CodeMirror,[CodeMirror.getMode(e,"python")].concat(Le.call(r)))})},z(),le.define_codemirror_extensions(),H=function(e){var t;if(e=$.trim(e),G=e.indexOf("\n"),t=e.slice(0,G).toLowerCase(),"#!"===t.slice(0,2)){if(t.indexOf("python")!==-1)return"py";if(t.indexOf("bash")!==-1||t.indexOf("sh")!==-1)return"sh"}return t.indexOf("html")!==-1?"html":t.indexOf("/*")!==-1||t.indexOf("//")!==-1?"c++":void 0},exports.file_options=function(e,t){var n,r;return R=null!=(n=ae.filename_extension_notilde(e))?n.toLowerCase():void 0,null==R&&null!=t&&(R=H(t)),r=""===R?B["noext-"+ae.path_split(e).tail]:B[R],null==r&&(r=B[""]),null==r.icon&&(r.icon="fa-file-o"),r},x="︐",j=function(e,t,n){var r;return r=e,null!=t&&(r+=t+x),null!=n&&(r+=n),r},ae.has_local_storage()?(ie=exports.local_storage_delete=function(e,t,n){var r,i,o,s,a,l;if(a=window.localStorage,null!=a){o=j(e,t,n),i=o.length,s=[];for(r in a)l=a[r],r.slice(0,i)===o?s.push(delete a[r]):s.push(void 0);return s}},re=exports.local_storage=function(e,t,n,r){var i,o,s,a,l,c,u,d;if(l=window.localStorage,null!=l){if(a=j(e,t,n),o=a.length,null!=t){if(null!=n)return null!=r?l[a]=ae.to_json(r):(u=l[a],null==u?u:ae.from_json(u));s={};for(i in l)c=l[i],i.slice(0,o)===a&&(s[i.split(x)[1]]=c);return s}s={};for(i in l)c=l[i],i.slice(0,o)===a&&(u=i.slice(o),d=u.split(x),t=d[0],n=d[1],null==s[t]&&(s[t]={}),s[t][n]=c);return s}}):(console.warn("cursor saving won't work due to lack of localStorage"),ie=re=function(){}),Me=$("#salvus-editor-templates"),i=function(e){function t(e,t){var n;this.project_id=e,this.filename=t,this.terminate_session=ze(this.terminate_session,this),this.remove=ze(this.remove,this),this.hide=ze(this.hide,this),this._show=ze(this._show,this),this.show=ze(this.show,this),this.local_storage=ze(this.local_storage,this),this.disconnect_from_session=ze(this.disconnect_from_session,this),this.restore_cursor_position=ze(this.restore_cursor_position,this),this._set=ze(this._set,this),this._get=ze(this._get,this),this.focus=ze(this.focus,this),this._show_uncommitted_warning=ze(this._show_uncommitted_warning,this),this.has_uncommitted_changes=ze(this.has_uncommitted_changes,this),this.has_unsaved_changes=ze(this.has_unsaved_changes,this),this.val=ze(this.val,this),this.init_font_size=ze(this.init_font_size,this),this.is_active=ze(this.is_active,this),this.ext=null!=(n=ae.filename_extension_notilde(this.filename))?n.toLowerCase():void 0,this._show=Ie.debounce(this._show,50)}return Re(t,e),t.prototype.is_active=function(){return ae.tab_to_path(ve.getProjectStore(this.project_id).get("active_project_tab"))===this.filename},t.prototype.init_font_size=function(){return this.default_font_size=ve.getStore("account").get("font_size")},t.prototype.val=function(e){return null==e?this._get():this._set(e)},t.prototype.has_unsaved_changes=function(e){return null==e?this._has_unsaved_changes:(null!=this._has_unsaved_changes&&this._has_unsaved_changes===e||(e?this.save_button.removeClass("disabled"):(this._when_had_no_unsaved_changes=new Date,this.save_button.addClass("disabled"))),this._has_unsaved_changes=e)},t.prototype.has_uncommitted_changes=function(e){var t;return null==e?this._has_uncommitted_changes:(this._has_uncommitted_changes=e,e?null==this._show_uncommitted_warning_timeout?this._show_uncommitted_warning_timeout=setTimeout(function(e){return function(){return e._show_uncommitted_warning()}}(this),3e4):void 0:(null!=this._show_uncommitted_warning_timeout&&(clearTimeout(this._show_uncommitted_warning_timeout),delete this._show_uncommitted_warning_timeout),null!=(t=this.uncommitted_element)?t.hide():void 0))},t.prototype._show_uncommitted_warning=function(){var e;return delete this._show_uncommitted_warning_timeout,null!=(e=this.uncommitted_element)?e.show():void 0},t.prototype.focus=function(){},t.prototype._get=function(){return console.warn("Incomplete: editor -- needs to implement _get in derived class")},t.prototype._set=function(e){return console.warn("Incomplete: editor -- needs to implement _set in derived class")},t.prototype.restore_cursor_position=function(){},t.prototype.disconnect_from_session=function(e){},t.prototype.local_storage=function(e,t){return re(this.project_id,this.filename,e,t)},t.prototype.show=function(e){null==e&&(e=null!=this._last_show_opts?this._last_show_opts:{}),this._last_show_opts=e,("function"==typeof this.is_active?this.is_active():void 0)&&(this.element.show(),this._show(e),setTimeout(function(t){return function(){return t._show(e)}}(this),10))},t.prototype._show=function(e){null==e&&(e={})},t.prototype.hide=function(){},t.prototype.remove=function(){var e,t;return null!=(e=this.syncdoc)&&e.close(),null!=(t=this.element)&&t.remove(),this.removeAllListeners()},t.prototype.terminate_session=function(){},t}(r),exports.FileEditor=i,n=function(e){function n(e,t,r,i){var o,s,l,c,u,d,p,h,f,m,_;this.project_id=e,this.filename=t,this.init_sagews_edit_buttons=ze(this.init_sagews_edit_buttons,this),this.wizard_insert_handler=ze(this.wizard_insert_handler,this),this.wizard_handler=ze(this.wizard_handler,this),this.textedit_command=ze(this.textedit_command,this),this.focus=ze(this.focus,this),this._show=ze(this._show,this),this._show_codemirror_editors=ze(this._show_codemirror_editors,this),this._style_active_line=ze(this._style_active_line,this),this.restore_cursor_position=ze(this.restore_cursor_position,this),this.restore_view_state=ze(this.restore_view_state,this),this.save_view_state=ze(this.save_view_state,this),this._set=ze(this._set,this),this._get=ze(this._get,this),this.click_history_button=ze(this.click_history_button,this),this.click_save_button=ze(this.click_save_button,this),this.init_history_button=ze(this.init_history_button,this),this.init_uncommitted_element=ze(this.init_uncommitted_element,this),this.init_save_button=ze(this.init_save_button,this),this.print_sagews=ze(this.print_sagews,this),this.print_html=ze(this.print_html,this),this.print=ze(this.print,this),this.goto_line=ze(this.goto_line,this),this.toggle_split_view=ze(this.toggle_split_view,this),this.change_font_size=ze(this.change_font_size,this),this.set_font_size=ze(this.set_font_size,this),this.restore_font_size=ze(this.restore_font_size,this),this.click_edit_button=ze(this.click_edit_button,this),this.init_edit_buttons=ze(this.init_edit_buttons,this),this.tab_nothing_selected=ze(this.tab_nothing_selected,this),this.press_tab_key=ze(this.press_tab_key,this),this.interrupt_key=ze(this.interrupt_key,this),this.action_key=ze(this.action_key,this),this.focused_codemirror=ze(this.focused_codemirror,this),this.codemirrors=ze(this.codemirrors,this),this.disconnect_from_session=ze(this.disconnect_from_session,this),this.set_cursor_center_focus=ze(this.set_cursor_center_focus,this),this.set_readonly_ui=ze(this.set_readonly_ui,this),this.set_theme=ze(this.set_theme,this),this.is_active=ze(this.is_active,this),this.show_startup_message=ze(this.show_startup_message,this),this.hide_startup_message=ze(this.hide_startup_message,this),this.show_content=ze(this.show_content,this),this.hide_content=ze(this.hide_content,this),this.init_draggable_splits=ze(this.init_draggable_splits,this),this.init_file_actions=ze(this.init_file_actions,this),this.get_users_cursors=ze(this.get_users_cursors,this),this.programmatical_goto_line=ze(this.programmatical_goto_line,this),n.__super__.constructor.call(this,this.project_id,this.filename),s=ve.getStore("account").get_editor_settings(),i=this.opts=L(i,{mode:void 0,geometry:void 0,read_only:!1,delete_trailing_whitespace:s.strip_trailing_whitespace,show_trailing_whitespace:s.show_trailing_whitespace,allow_javascript_eval:!0,line_numbers:s.line_numbers,first_line_number:s.first_line_number,indent_unit:s.indent_unit,tab_size:s.tab_size,smart_indent:s.smart_indent,electric_chars:s.electric_chars,undo_depth:s.undo_depth,match_brackets:s.match_brackets,code_folding:s.code_folding,auto_close_brackets:s.auto_close_brackets,match_xml_tags:s.match_xml_tags,auto_close_xml_tags:s.auto_close_xml_tags,line_wrapping:s.line_wrapping,spaces_instead_of_tabs:s.spaces_instead_of_tabs,style_active_line:15,bindings:s.bindings,theme:s.theme,track_revisions:s.track_revisions,public_access:!1,latex_editor:!1,cursor_interval:1e3,sync_interval:500,completions_size:20}),this.element=Me.find(".salvus-editor-codemirror").clone(),this.element.data("editor",this),this.init_save_button(),this.init_uncommitted_element(),this.init_history_button(),this.init_edit_buttons(),this.init_file_actions(),p=this.filename,p.length>30&&(p="…"+p.slice(p.length-30)),this._video_is_on=this.local_storage("video_is_on"),null==this._video_is_on&&(this._video_is_on=!1),d={"Alt-Enter":function(e){return function(t){return e.action_key({execute:!0,advance:!1,split:!1})}}(this),"Cmd-Enter":function(e){return function(t){return e.action_key({execute:!0,advance:!1,split:!1})}}(this),"Ctrl-Enter":function(e){return function(t){return e.action_key({execute:!0,advance:!0,split:!0})}}(this),"Ctrl-;":function(e){return function(t){return e.action_key({split:!0,execute:!1,advance:!1})}}(this),"Cmd-;":function(e){return function(t){return e.action_key({split:!0,execute:!1,advance:!1})}}(this),"Ctrl-\\":function(e){return function(t){return e.action_key({execute:!1,toggle_input:!0})}}(this),"Shift-Ctrl-\\":function(e){return function(t){return e.action_key({execute:!1,toggle_output:!0})}}(this),"Cmd-S":function(e){return function(t){return e.click_save_button()}}(this),"Ctrl-L":function(e){return function(t){return e.goto_line(t)}}(this),"Cmd-L":function(e){return function(t){return e.goto_line(t)}}(this),"Ctrl-I":function(e){return function(t){return e.toggle_split_view(t)}}(this),"Cmd-I":function(e){return function(t){return e.toggle_split_view(t)}}(this),"Shift-Cmd-L":function(e){return function(e){return e.align_assignments()}}(this),"Shift-Ctrl-L":function(e){return function(e){return e.align_assignments()}}(this),"Shift-Ctrl-.":function(e){return function(t){return e.change_font_size(t,1)}}(this),"Shift-Ctrl-,":function(e){return function(t){return e.change_font_size(t,-1)}}(this),"Shift-Cmd-.":function(e){return function(t){return e.change_font_size(t,1)}}(this),"Shift-Cmd-,":function(e){return function(t){return e.change_font_size(t,-1)}}(this),"Shift-Tab":function(e){return function(e){return e.unindent_selection()}}(this),"Ctrl-'":"indentAuto","Cmd-'":"indentAuto","Cmd-/":"toggleComment","Ctrl-/":"toggleComment",Tab:function(e){return function(t){return e.press_tab_key(t)}}(this),"Shift-Ctrl-C":function(e){return function(t){return e.interrupt_key()}}(this),"Ctrl-Space":"autocomplete"},i.match_xml_tags&&(d["Ctrl-J"]="toMatchingTag"),"emacs"!==i.bindings&&(d["Ctrl-S"]=function(e){return function(t){return e.click_save_button()}}(this)),"sagews"===ae.filename_extension_notilde(p).toLowerCase()?(u=ve.getStore("account").get("evaluate_key").toLowerCase(),u="enter"===u?"Enter":"Shift-Enter",d[u]=function(e){return function(t){return e.action_key({execute:!0,advance:!0,split:!1})}}(this)):d["Shift-Enter"]=function(e){return function(){return M({type:"error",message:"You can only evaluate code in a file that ends with the extension 'sagews'.   Create a Sage Worksheet instead."})}}(this),a?this._layout=0:this._layout=null!=(f=this.local_storage("layout"))?f:0,0!==(m=this._layout)&&1!==m&&2!==m&&(this._layout=0),this._last_layout=void 0,P.isMobile.Android()&&(i.style_active_line=!1),h=function(e){return function(t){var n,r,o,s;return o={firstLineNumber:i.first_line_number,autofocus:!1,mode:{name:i.mode,globalVars:!0},lineNumbers:i.line_numbers,showTrailingSpace:i.show_trailing_whitespace,indentUnit:i.indent_unit,tabSize:i.tab_size,smartIndent:i.smart_indent,electricChars:i.electric_chars,undoDepth:i.undo_depth,matchBrackets:i.match_brackets,autoCloseBrackets:i.auto_close_brackets&&"hs"!==(s=ae.filename_extension_notilde(p))&&"lhs"!==s,autoCloseTags:i.auto_close_xml_tags,lineWrapping:i.line_wrapping,readOnly:i.read_only,styleActiveLine:i.style_active_line,indentWithTabs:!i.spaces_instead_of_tabs,showCursorWhenSelecting:!0,extraKeys:d,cursorScrollMargin:6,viewportMargin:10},i.match_xml_tags&&(o.matchTags={bothTags:!0}),i.code_folding&&(d["Ctrl-Q"]=function(e){return e.foldCodeSelectionAware()},o.foldGutter=!0,o.gutters=["CodeMirror-linenumbers","CodeMirror-foldgutter"]),i.latex_editor&&(null==o.gutters&&(o.gutters=[]),o.gutters.push("Codemirror-latex-errors")),null!=i.bindings&&"standard"!==i.bindings&&(o.keyMap=i.bindings),null!=i.theme&&"standard"!==i.theme&&(o.theme=i.theme),n=CodeMirror.fromTextArea(t,o),n.save=function(){return e.click_save_button()},r=$(n.getWrapperElement()),r.attr("style",r.attr("style")+"; height:100%; font-family:monospace !important;"),"vim"===i.bindings&&n.setOption("vimMode",!0),n}}(this),l=this.element.find(".salvus-editor-textarea-0"),l.text(r),this.codemirror=h(l[0]),this.codemirror.name="0",c=this.element.find(".salvus-editor-textarea-1"),this.codemirror1=h(c[0]),this.codemirror1.name="1",o=this.codemirror.linkedDoc({sharedHist:!0}),this.codemirror1.swapDoc(o),this.codemirror.on("focus",function(e){return function(){return e.codemirror_with_last_focus=e.codemirror}}(this)),this.codemirror1.on("focus",function(e){return function(){return e.codemirror_with_last_focus=e.codemirror1}}(this)),this.init_font_size(),this.restore_font_size(),this.init_draggable_splits(),i.read_only&&this.set_readonly_ui(),"sagews"===(null!=(_=ae.filename_extension(this.filename))?_.toLowerCase():void 0)&&this.init_sagews_edit_buttons(),this.wizard=null}return Re(n,e),n.prototype.programmatical_goto_line=function(e){var t,n,r;return t=this.codemirror_with_last_focus,r={line:e-1,ch:0},n=t.getScrollInfo(),t.scrollIntoView(r,n.clientHeight/2)},n.prototype.get_users_cursors=function(e){var t;return null!=(t=this.syncdoc)?t.get_users_cursors(e):void 0},n.prototype.init_file_actions=function(){var e,n;if(null!=this.element)return e=ve.getProjectActions(this.project_id),n=this.element.find(".smc-editor-file-info-dropdown")[0],t(17).render_file_info_dropdown(this.filename,e,n,this.opts.public_access)},n.prototype.init_draggable_splits=function(){var e,t;return this._layout1_split_pos=this.local_storage("layout1_split_pos"),this._layout2_split_pos=this.local_storage("layout2_split_pos"),e=this.element.find(".salvus-editor-resize-bar-layout-1"),e.draggable({axis:"y",containment:this.element,zIndex:10,start:le.drag_start_iframe_disable,stop:function(t){return function(n,r){var i,o,s,a;return le.drag_stop_iframe_enable(),i=t.element.find(".salvus-editor-codemirror-input-container-layout-1"),a=i.offset().top,o=i.height(),s=e.offset().top+e.height()/2,t._layout1_split_pos=(s-a)/o,t.local_storage("layout1_split_pos",t._layout1_split_pos),t.show()}}(this)}),t=this.element.find(".salvus-editor-resize-bar-layout-2"),t.draggable({axis:"x",containment:this.element,zIndex:100,start:le.drag_start_iframe_disable,stop:function(e){return function(n,r){var i,o,s,a;return le.drag_stop_iframe_enable(),i=e.element.find(".salvus-editor-codemirror-input-container-layout-2"),o=i.offset().left,a=i.width(),s=t.offset().left,e._layout2_split_pos=(s-o)/a,e.local_storage("layout2_split_pos",e._layout2_split_pos),e.show()}}(this)})},n.prototype.hide_content=function(){return this.element.find(".salvus-editor-codemirror-content").hide()},n.prototype.show_content=function(){var e,t,n,r,i;for(this.hide_startup_message(),this.element.find(".salvus-editor-codemirror-content").show(),n=this.codemirrors(),r=[],i=0,t=n.length;i<t;i++)e=n[i],r.push(e.refresh());return r},n.prototype.hide_startup_message=function(){return this.element.find(".salvus-editor-codemirror-startup-message").hide()},n.prototype.show_startup_message=function(e,t){var n,r,i,o,s;for(null==t&&(t="info"),this.hide_content(),"string"!=typeof e&&(e=JSON.stringify(e)),n=this.element.find(".salvus-editor-codemirror-startup-message").show().text(e),i=["success","info","warning","danger"],s=0,r=i.length;s<r;s++)o=i[s],n.removeClass("alert-"+o);return n.addClass("alert-"+t)},n.prototype.is_active=function(){return null!=this.codemirror&&ae.tab_to_path(ve.getProjectStore(this.project_id).get("active_project_tab"))===this.filename},n.prototype.set_theme=function(e){var t,n,r,i;for(r=this.codemirrors(),i=0,n=r.length;i<n;i++)t=r[i],t.setOption("theme",e);return this.opts.theme=e},n.prototype.set_readonly_ui=function(e){var t,n,r,i,o;for(null==e&&(e=!0),this.opts.read_only=e,this.element.find(".salvus-editor-write-only").toggle(!e),this.element.find(".salvus-editor-read-only").toggle(e),r=this.codemirrors(),i=[],o=0,n=r.length;o<n;o++)t=r[o],i.push(t.setOption("readOnly",e));return i},n.prototype.set_cursor_center_focus=function(e,t){var n,r,i;if(null==t&&(t=5),!(t<=0)&&(n=this.codemirror_with_last_focus,null==n&&(n=this.codemirror),null!=n)){n.setCursor(e),i=n.getScrollInfo();try{n.scrollIntoView(e,i.clientHeight/2)}catch(n){r=n,setTimeout(function(n){return function(){return n.set_cursor_center_focus(e,t-1)}}(this),250)}return n.focus()}},n.prototype.disconnect_from_session=function(e){var t;return null!=(t=this.syncdoc)&&t.disconnect_from_session(),"function"==typeof e?e():void 0},n.prototype.codemirrors=function(){var e;return e=[this.codemirror,this.codemirror1],Ie.filter(e,function(e){return null!=e})},n.prototype.focused_codemirror=function(){return null!=this.codemirror_with_last_focus?this.codemirror_with_last_focus:this.codemirror},n.prototype.action_key=function(e){return this.click_save_button()},n.prototype.interrupt_key=function(){},n.prototype.press_tab_key=function(e){
return e.somethingSelected()?CodeMirror.commands.defaultTab(e):this.tab_nothing_selected(e)},n.prototype.tab_nothing_selected=function(e){return this.opts.spaces_instead_of_tabs?e.tab_as_space():CodeMirror.commands.defaultTab(e)},n.prototype.init_edit_buttons=function(){var e,t,n,r,i,o;for(i=this,e=["search","next","prev","replace","undo","redo","autoindent","shift-left","shift-right","split-view","increase-font","decrease-font","goto-line"],fe.can_print(this.ext)?e.push("print"):this.element.find('a[href="#print"]').remove(),"sagews"===this.ext?e.push("sagews2pdf"):this.element.find('a[href="#sagews2pdf"]').remove(),r=[],o=0,n=e.length;o<n;o++)ue=e[o],t=this.element.find('a[href="#'+ue+'"]'),r.push(t.data("name",ue).tooltip({delay:{show:500,hide:100}}).click(function(e){return i.click_edit_button($(this).data("name")),!1}));return r},n.prototype.click_edit_button=function(e){var t,n,r,i;if(t=this.codemirror_with_last_focus,null==t&&(t=this.codemirror),null!=t)switch(e){case"search":return CodeMirror.commands.find(t);case"next":return(null!=(n=t._searchState)?n.query:void 0)?CodeMirror.commands.findNext(t):(CodeMirror.commands.goPageDown(t),t.focus());case"prev":return(null!=(r=t._searchState)?r.query:void 0)?CodeMirror.commands.findPrev(t):(CodeMirror.commands.goPageUp(t),t.focus());case"replace":return CodeMirror.commands.replace(t);case"undo":return t.undo(),t.focus();case"redo":return t.redo(),t.focus();case"split-view":return this.toggle_split_view(t);case"autoindent":return CodeMirror.commands.indentAuto(t);case"shift-left":return t.unindent_selection(),t.focus();case"shift-right":return this.press_tab_key(t),t.focus();case"increase-font":return this.change_font_size(t,1),t.focus();case"decrease-font":return this.change_font_size(t,-1),t.focus();case"goto-line":return this.goto_line(t);case"sagews2pdf":return this.print(i=!1);case"print":return this.print(i=!0)}},n.prototype.restore_font_size=function(){var e,t,n,r;t=this.codemirrors(),n=[];for(G in t)e=t[G],r=this.local_storage("font_size"+G),null!=r?n.push(this.set_font_size(e,r)):null!=this.default_font_size?n.push(this.set_font_size(e,this.default_font_size)):n.push(void 0);return n},n.prototype.get_font_size=function(e){var t,n;return t=$(e.getWrapperElement()),null!=(n=t.data("font-size"))?n:this.default_font_size},n.prototype.set_font_size=function(e,t){var n;if(t>1)return n=$(e.getWrapperElement()),n.css("font-size",t+"px"),n.data("font-size",t)},n.prototype.change_font_size=function(e,t){var n,r,i,o,s,a;return s=e.getScrollInfo(),n=$(e.getWrapperElement()),a=n.data("font-size"),null==a&&(o=n.css("font-size"),a=parseInt(o.slice(0,o.length-2))),i=a+t,this.set_font_size(e,i),this.local_storage("font_size"+e.name,i),r=function(t){return function(){var t,n,r;return e.refresh(),t=e.getScrollInfo(),n=s.left/s.width*t.width,r=(s.top+s.clientHeight/2)/s.height*t.height-t.clientHeight/2,e.scrollTo(n,r)}}(this),setTimeout(r,0)},n.prototype.toggle_split_view=function(e){var t;return this._layout=(this._layout+1)%3,this.local_storage("layout",this._layout),this.show(),null!=e&&(this._layout>0?e.focus():this.codemirror.focus()),t=function(e){return function(){var t,n,r,i,o;for(n=e.codemirrors(),r=[],i=0,t=n.length;i<t;i++)o=n[i],r.push(o.scrollIntoView());return r}}(this),setTimeout(t,1),this.emit("toggle-split-view")},n.prototype.goto_line=function(e){var t,n,r,i;return n=function(t){return function(){return t.focus(),e.focus()}}(this),t=Me.find(".salvus-goto-line-dialog").clone(),t.modal("show"),t.find(".btn-close").off("click").click(function(){return t.modal("hide"),setTimeout(n,50),!1}),r=t.find(".salvus-goto-line-input"),r.val(e.getCursor().line+1),t.find(".salvus-goto-line-range").text("1-"+e.lineCount()+" or n%"),t.find(".salvus-goto-line-input").focus().select(),i=function(i){return function(){var i,o,s,a;return t.modal("hide"),a=r.val().trim(),o=a.length>=1&&"%"===a[a.length-1]?Math.floor(e.lineCount()*parseInt(a.slice(0,a.length-1))/100):Math.min(parseInt(a)-1),o>=e.lineCount()&&(o=e.lineCount()-1),o<=0&&(o=0),s={line:o,ch:0},e.setCursor(s),i=e.getScrollInfo(),e.scrollIntoView(s,i.clientHeight/2),setTimeout(n,50)}}(this),t.find(".btn-submit").off("click").click(i),r.keydown(function(e){return function(e){return 13===e.which?(i(),!1):27===e.which?(setTimeout(n,50),t.modal("hide"),!1):void 0}}(this))},n.prototype.print=function(e){var t;switch(null==e&&(e=!0),this.ext){case"sagews":return e?this.print_html():this.print_sagews();case"txt":case"csv":return t=this.element.find('a[href="#print"]'),t.icon_spin({start:!0,delay:0}).addClass("disabled"),fe.Printer(this,this.filename+".pdf").print(function(e){if(t.removeClass("disabled"),t.icon_spin(!1),e)return M({type:"error",message:"Printing error -- "+e})})}},n.prototype.print_html=function(){var e,t,n,r,i,o,s,a;return o=null,t=null,r=null,n=null,i=S.noop,s=null,a=function(e){return function(a){var l;return o=$('<div class="modal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title">Print to HTML</h4>\n      </div>\n      <div class="modal-body">\n        <div class="progress">\n          <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">\n            0 %\n          </div>\n        </div>\n        <div class="content" style="text-align: center;"></div>\n        <div style="margin-top: 25px;">\n          <p><b>More information</b></p>\n          <p>\n          This SageWS to HTML conversion transforms the current worksheet\n          to a static HTML file.\n          <br/>\n          <a href="https://github.com/sagemathinc/smc/wiki/sagews2html" target=\'_blank\'>Click here for more information</a>.\n          </p>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn-download btn btn-primary disabled">Download</button>\n        <button type="button" class="btn-open btn btn-success disabled">Open</button>\n        <button type="button" class="btn-close btn btn-default" data-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>'),t=o.find(".content"),r=o.find(".btn-open"),n=o.find(".btn-download"),l=ve.getProjectActions(e.project_id),i=function(e){var t;return t=Math.round(100*e)+"%",o.find(".progress-bar").css("width",t).text(t)},o.find(".btn-close").click(function(){return o.modal("hide"),!1}),r.click(function(){return l.download_file({path:s,auto:!1})}),n.click(function(){return l.download_file({path:s,auto:!0})}),o.modal("show"),a()}}(this),e=function(e){return function(n){var r,a;switch(e.ext){case"sagews":return s=e.filename+".html",a=function(e,n){return t.text(n),i(e)},a=S.debounce(a,5),a(.01,"Loading ..."),r=function(e){return e?a(0,"Problem printing to HTML: "+e):(a(1,"Printing finished."),o.find("button.btn").removeClass("disabled"))},fe.Printer(e,s).print(r,a),void n()}return n("err -- unable to convert files with extension '@ext'")}}(this),O.series([a,e],function(e){return function(e){var t;if(e)return t="problem printing -- "+ae.to_json(e),M({type:"error",message:t}),o.content.text(t)}}(this))},n.prototype.print_sagews=function(){var e,n,r,i,o;return n=Me.find(".salvus-file-print-dialog").clone(),r=ae.path_split(this.filename),o=r.tail.split("."),o.length<=1?(R="",e=r.tail):(R=o[o.length-1],e=o.slice(0,o.length-1).join(".")),R=R.toLowerCase(),"sagews"!==R?void console.error("editor.print called on file with extension '"+R+"' but only supports 'sagews'."):(i=function(i){return function(){var o,s,a;return n.find(".salvus-file-printing-progress").show(),n.find(".salvus-file-printing-link").hide(),o=n.find(".smc-file-printing-tempdir"),o.hide(),s=n.find(".salvus-file-print-keepfiles").is(":checked"),n.find(".btn-submit").icon_spin({start:!0}),a=void 0,O.series([function(e){return i.save(e)},function(e){var t;return t={title:n.find(".salvus-file-print-title").text(),author:n.find(".salvus-file-print-author").text(),date:n.find(".salvus-file-print-date").text(),contents:n.find(".salvus-file-print-contents").is(":checked"),subdir:s,extra_data:ae.to_json(i.syncdoc.print_to_pdf_data())},fe.Printer(i,i.filename+".pdf").print({project_id:i.project_id,path:i.filename,options:t,cb:function(t,n){return t&&!s?e(t):(a=n,e())}})},function(e){return s||null==a?void e():me(i.project_id).file_nonzero_size({path:a,cb:function(t){var n;return t?(n="Unable to convert file to PDF. ",s||(n+="Enable 'Keep generated files in a sub-directory...' and check for Latex errors."),e(n)):e()}})},function(e){var t;return s||null==a?void e():(t=Se.read_file_from_project({project_id:i.project_id,path:a}),n.find(".salvus-file-printing-link").attr("href",t).text(a).show(),e())},function(a){var l,c;return s?(l=t(129).join,c=l(r.head,e+"-sagews2pdf","tmp.tex"),me(i.project_id).file_nonzero_size({path:c,cb:function(e){var t;return e?a("Unable to create directory of temporary Latex files."):(t=$("<a>").text("Click to open temporary file"),t.click(function(){return ve.getProjectActions(i.project_id).open_file({path:c,foreground:!0}),n.modal("hide"),!1}),o.html(t),o.show(),a())}})):void a()},function(e){return s||ve.getProjectActions(i.project_id).print_file({path:a}),e()}],function(e){if(n.find(".btn-submit").icon_spin(!1),n.find(".salvus-file-printing-progress").hide(),e)return M({type:"error",message:"problem printing '"+r.tail+"' -- "+ae.to_json(e)})}),!1}}(this),n.find(".salvus-file-print-filename").text(this.filename),n.find(".salvus-file-print-title").text(e),n.find(".salvus-file-print-author").text(ve.getStore("account").get_fullname()),n.find(".salvus-file-print-date").text((new Date).toLocaleDateString()),n.find(".btn-submit").click(i),n.find(".btn-close").click(function(){return n.modal("hide"),!1}),"sagews"===R&&n.find(".salvus-file-options-sagews").show(),n.modal("show"))},n.prototype.init_save_button=function(){return this.save_button=this.element.find('a[href="#save"]').tooltip().click(this.click_save_button),this.save_button.find(".spinner").hide()},n.prototype.init_uncommitted_element=function(){return this.uncommitted_element=this.element.find(".smc-uncommitted")},n.prototype.init_history_button=function(){if(!this.opts.public_access&&".sage-history"!==this.filename.slice(this.filename.length-13))return this.history_button=this.element.find(".salvus-editor-history-button"),this.history_button.click(this.click_history_button),this.history_button.show(),this.history_button.css({display:"inline-block"})},n.prototype.click_save_button=function(){if(!this.opts.read_only&&null!=this.save&&!this._saving)return this._saving=!0,this.save_button.icon_spin({start:!0,delay:8e3}),this.save(function(e){return function(t){return t?ve.getProjectStore(e.project_id).is_file_open(e.filename)&&M({type:"error",message:"Error saving '"+e.filename+"' ("+t+") -- (you might need to close and open this file or restart this project)"}):e.emit("saved"),e.save_button.icon_spin(!1),e._saving=!1}}(this)),!1},n.prototype.click_history_button=function(){return ve.getProjectActions(this.project_id).open_file({path:ae.history_path(this.filename),foreground:!0})},n.prototype._get=function(){var e;return null!=(e=this.codemirror)?e.getValue():void 0},n.prototype._set=function(e){var t;if(null!=this.codemirror)return t=this.codemirror.getViewport().from,this.codemirror.setValue(e),this.codemirror.scrollIntoView(t),setTimeout(function(e){return function(){return e.restore_cursor_position()}}(this),1)},n.prototype.save_view_state=function(){var e,t;return t={scroll:function(){var t,n,r,i;for(n=this.codemirrors(),r=[],i=0,t=n.length;i<t;i++)e=n[i],r.push(e.getScrollInfo());return r}.call(this)},this._view_state=t,t},n.prototype.restore_view_state=function(e){var t,n,r,i,o,s,a,l,c;if(a=this._view_state,null!=a){for(n=this.codemirrors(),G=0,o=a.scroll,s=[],l=0,i=o.length;l<i;l++)c=o[l],t=n[G],null!=t&&(t.scrollTo(c.left,c.top),r=t.getScrollInfo(),e||r.top===c.top||setTimeout(function(e){return function(){return e.restore_view_state(!0)}}(this),250)),s.push(G+=1);return s}},n.prototype.restore_cursor_position=function(){var e,t,n,r,i,o;i=this.codemirrors();for(G in i)if(e=i[G],null!=e&&(r=this.local_storage("cursor"+e.name),null!=r)){e.setCursor(r),n=e.getScrollInfo();try{e.scrollIntoView(r,n.clientHeight/2)}catch(e){t=e}}return null!=(o=this.codemirror)?o.focus():void 0},n.prototype._style_active_line=function(){var e,t,n,r,i;if(this.opts.style_active_line){for(t=$(this.codemirror.getWrapperElement()).css("background-color"),r=function(){var e,n,r,o;for(n=t.slice(4,t.length-1).split(","),r=[],o=0,e=n.length;o<e;o++)i=n[o],r.push(parseInt(i));return r}(),e=this.opts.style_active_line,G=n=0;n<=2;G=++n)r[G]>=128?r[G]-=e:r[G]+=e;return $("body").remove("#salvus-cm-activeline"),$("body").append("<style id='salvus-cm-activeline' type=text/css>.CodeMirror-activeline{background:rgb("+r[0]+","+r[1]+","+r[2]+");}</style>")}},n.prototype._show_codemirror_editors=function(e){var t,n,r,i,o,s,a,l,c,u,d;switch(this._layout){case 0:s=1;break;case 1:s=null!=(a=this._layout1_split_pos)?a:.5;break;case 2:s=null!=(l=this._layout2_split_pos)?l:.5}for(this._layout>0&&(s=Math.max(f,Math.min(h,s))),i=this.element.find(".salvus-editor-codemirror-input-container-layout-"+this._layout).show(),1===this._layout?this.element.find(".salvus-editor-resize-bar-layout-1").css({top:0}):2===this._layout&&this.element.find(".salvus-editor-resize-bar-layout-2").css({left:0}),n=i.find(".salvus-editor-codemirror-input-box"),0===this._layout?n.css("flex",1):n.css("flex-basis",100*s+"%"),this._last_layout!==this._layout&&(t=this.element.find('a[href="#split-view"]'),null!=this._last_layout&&(t.find(".salvus-editor-layout-"+this._last_layout).hide(),this.element.find(".salvus-editor-codemirror-input-container-layout-"+this._last_layout).hide()),t.find(".salvus-editor-layout-"+this._layout).show(),i.find(".salvus-editor-codemirror-input-box div").empty().append($(this.codemirror.getWrapperElement())),i.find(".salvus-editor-codemirror-input-box-1 div").empty().append($(this.codemirror1.getWrapperElement())),this._last_layout=this._layout),$.browser.safari&&1===this._layout&&this.element.find(".salvus-editor-codemirror-input-container-layout-"+this._layout).make_height_defined(),u=function(e){return function(e){if(null!=e)return e.refresh(),setTimeout(function(){return e.refresh()},1)}}(this),c=this.codemirrors(),d=0,o=c.length;d<o;d++)r=c[d],u(r);return this.emit("show")},n.prototype._show=function(e){return null==e&&(e={}),this._show_codemirror_editors()},n.prototype.focus=function(){var e;if(null!=this.codemirror)return this.show(),a?void 0:null!=(e=this.codemirror_with_last_focus)?e.focus():void 0},n.prototype.textedit_command=function(e,t,n){var r;switch(t){case"link":return e.insert_link({cb:function(e){return function(){var t;return null!=(t=e.syncdoc)?t.sync():void 0}}(this)}),!1;case"image":return e.insert_image({cb:function(e){return function(){var t;return null!=(t=e.syncdoc)?t.sync():void 0}}(this)}),!1;case"SpecialChar":return e.insert_special_char({cb:function(e){return function(){var t;return null!=(t=e.syncdoc)?t.sync():void 0}}(this)}),!1;default:return e.edit_selection({cmd:t,args:n}),null!=(r=this.syncdoc)&&r.sync(),!0}},n.prototype.wizard_handler=function(){var e,n,r,i;return null==this.wizard?(e=this.mode_display.parent().find(".react-target"),i=t(909).render_wizard,this.wizard=i(e[0],this.project_id,this.filename,r=this._current_mode,n=this.wizard_insert_handler)):this.wizard.show(r=this._current_mode)},n.prototype.wizard_insert_handler=function(e){var t,n,r,i,o,s,a,l;return r=e.code,i=e.lang,n=this.focused_codemirror(),o=n.getCursor().line,null!=e.descr&&(null!=(s=this.syncdoc)&&s.insert_new_cell(o),n.replaceRange("%md\n"+e.descr,{line:o+1,ch:0}),this.action_key({execute:!0,advance:!1,split:!1})),o=n.getCursor().line,null!=(a=this.syncdoc)&&a.insert_new_cell(o),t=r,i!==this._current_mode&&(t="%"+i+"\n"+t),n.replaceRange(t,{line:o+1,ch:0}),this.action_key({execute:!0,advance:!1,split:!1}),null!=(l=this.syncdoc)?l.sync():void 0},n.prototype.init_sagews_edit_buttons=function(){var e,n,r,i,o,s,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,A;if(!this.opts.read_only&&!a&&ve.getStore("account").get_editor_settings().extra_button_bar){for(e={xml:"html",markdown:"md",mediawiki:"wiki"},b=0,u=Ee.length;b<u;b++)A=Ee[b],ce=A[0],ue=A[1],x=ue.split("-"),x.length>1&&(ue=x[1]),e[ue]=""+ce;for(f=function(t){var n;return n=e[t],null!=n?n:""+t},i=this.element.find(".salvus-editor-codemirror-textedit-buttons"),this.textedit_buttons=Me.find(".salvus-editor-textedit-buttonbar").clone().hide(),i.append(this.textedit_buttons).show(),this.codeedit_buttons=Me.find(".salvus-editor-codeedit-buttonbar").clone(),i.append(this.codeedit_buttons),this.redit_buttons=Me.find(".salvus-editor-redit-buttonbar").clone(),i.append(this.redit_buttons),this.julia_edit_buttons=Me.find(".salvus-editor-julia-edit-buttonbar").clone(),i.append(this.julia_edit_buttons),this.sh_edit_buttons=Me.find(".salvus-editor-sh-edit-buttonbar").clone(),i.append(this.sh_edit_buttons),this.cython_buttons=Me.find(".salvus-editor-cython-buttonbar").clone(),i.append(this.cython_buttons),this.fallback_buttons=Me.find(".salvus-editor-fallback-edit-buttonbar").clone(),i.append(this.fallback_buttons),n=[this.textedit_buttons,this.codeedit_buttons,this.redit_buttons,this.cython_buttons,this.julia_edit_buttons,this.sh_edit_buttons,this.fallback_buttons],y=this,o=function(e){var t,n;if(e.preventDefault(),t=$(this).data("args"),n=$(this).attr("href").slice(1),"todo"!==n)return null!=t&&"object"!=typeof t&&(t=""+t,t.indexOf(",")!==-1&&(t=t.split(","))),y.textedit_command(y.focused_codemirror(),n,t)},this.element.find(".sagews-output-editor-foreground-color-selector").hide(),this.element.find(".sagews-output-editor-background-color-selector").hide(),this.fallback_buttons.find('a[href="#todo"]').click(function(e){return function(){return bootbox.alert("<i class='fa fa-wrench' style='font-size: 18pt;margin-right: 1em;'></i> Button bar not yet implemented in <code>"+h.text()+"</code> cells."),!1}}(this)),l=0,d=n.length;l<d;l++)s=n[l],s.find("a").click(o),s.find("*[title]").tooltip(k);for(this.mode_display=h=this.element.find(".salvus-editor-codeedit-buttonbar-mode"),this._current_mode="sage",this.mode_display.show(),v=function(e){return function(n){var r,i,o,s,a,l,c,u,d,p,h,f,m;for(r=t(797).commands,m=t(30).sagews_canonical_mode,s=null!=(u=null!=(d=e.focused_codemirror())?d.get_edit_mode():void 0)?u:"sage",ce=m(n,s),l=ae.keys(null!=(p=r[ce])?p:{}),l=l.concat(["link","image","SpecialChar","font_size"]),h=e.textedit_buttons.find("a"),f=[],a=0,c=h.length;a<c;a++)i=h[a],i=$(i),o=i.attr("href").slice(1),f.push(i.toggle("tex"!==ce||Be.call(l,o)>=0));return f}}(this),_=function(e){return function(t){return ce=null!=t?f(t):"",h.text("%"+ce),e._current_mode=ce}}(this),g=function(e){return function(t,r){var i,o;for(i=0,o=n.length;i<o;i++)s=n[i],s.toggle(s===t);return t===e.textedit_buttons&&v(r),_(r)}}(this),h.click(this.wizard_handler),w=function(e){return function(){var t,n;if(t=e.focused_codemirror(),null!=t)return n=t.getCursor(),ue=t.getModeAt(n).name,"xml"===ue||"stex"===ue||"markdown"===ue||"mediawiki"===ue?g(e.textedit_buttons,ue):"r"===ue?g(e.redit_buttons,ue):"julia"===ue?g(e.julia_edit_buttons,ue):"cython"===ue?g(e.cython_buttons,ue):"python"===ue?g(e.codeedit_buttons,"sage"):"shell"===ue?g(e.sh_edit_buttons,ue):g(e.fallback_buttons,ue)}}(this),m=this.codemirrors(),c=0,p=m.length;c<p;c++)r=m[c],r.on("cursorActivity",S.debounce(w,250));return w(),this.element.find(".salvus-editor-codemirror-textedit-buttons").mathjax()}},n}(i),I=exports.codemirror_session_editor=function(e,t,r){var i,o,s;switch(R=U(t).toLowerCase(),i=new n(e,t,"",r),o={cursor_interval:i.opts.cursor_interval,sync_interval:i.opts.sync_interval},R){case"sagews":o={cursor_interval:2e3,sync_interval:250},i.syncdoc=new Ce.SynchronizedWorksheet(i,o),i.action_key=i.syncdoc.action,i.interrupt_key=i.syncdoc.interrupt,i.tab_nothing_selected=function(e){return function(){return i.syncdoc.introspect()}}(this);break;case"sage-history":break;default:i.syncdoc=new je.SynchronizedDocument2(i,o)}return i.save=null!=(s=i.syncdoc)?s.save:void 0,i},Te=function(e){var t;return e=L(e,{project_id:Ae,path:Ae,ttl:120,cb:Ae}),t="."+De(),Be.call(e.path,"'")>=0?void e.cb("there is a disturbing ' in the path: '"+e.path+"'"):(ke({project_id:e.project_id,path:e.path,tmp_dir:t,ttl:e.ttl}),Se.exec({project_id:e.project_id,path:e.path,command:"mkdir",args:[t],cb:function(n){return function(n,r){return n?e.cb("Problem creating temporary directory in '"+e.path+"'"):e.cb(!1,t)}}(this)}))},ke=function(e){return e=L(e,{project_id:Ae,path:Ae,tmp_dir:Ae,ttl:120,cb:void 0}),Se.exec({project_id:e.project_id,command:"sleep "+e.ttl+" && rm -rf '"+e.path+"/"+e.tmp_dir+"'",timeout:10+e.ttl,cb:function(e){return function(e,t){return"function"==typeof cb?cb(e):void 0}}(this)})},_=function(){function e(e){this.update_images=ze(this.update_images,this),this._parse_text=ze(this._parse_text,this),this.trash_aux_files=ze(this.trash_aux_files,this),this.update_text=ze(this.update_text,this),this.update_number_of_pdf_pages=ze(this.update_number_of_pdf_pages,this),this.pdfinfo=ze(this.pdfinfo,this),this._run_patch_synctex=ze(this._run_patch_synctex,this),this._run_knitr=ze(this._run_knitr,this),this._run_bibtex=ze(this._run_bibtex,this),this._run_sage=ze(this._run_sage,this),this._run_latex=ze(this._run_latex,this),this.update_pdf=ze(this.update_pdf,this),this.forward_search=ze(this.forward_search,this),this.inverse_search=ze(this.inverse_search,this),this.spell_check=ze(this.spell_check,this),this._exec=ze(this._exec,this),this.page=ze(this.page,this),this.dbg=ze(this.dbg,this);var t,n;e=L(e,{project_id:Ae,filename:Ae,image_type:"png"}),this.project_id=e.project_id,this.filename=e.filename,this.image_type=e.image_type,this.ext=null!=(t=ae.filename_extension_notilde(this.filename))?t.toLowerCase():void 0,this._pages={},this.num_pages=0,this.latex_log="",n=he(this.filename),this.path=n.head,""===this.path&&(this.path="./"),"rnw"===this.ext?(this.filename_tex=ae.change_filename_extension(n.tail,"tex"),this.filename_rnw=n.tail):this.filename_tex=n.tail,this.base_filename=ae.separate_file_extension(this.filename_tex).name,this.filename_pdf=this.base_filename+".pdf"}return e.prototype.dbg=function(e){},e.prototype.page=function(e){return null==this._pages[e]&&(this._pages[e]={}),this._pages[e]},e.prototype._exec=function(e){return e=L(e,{path:this.path,project_id:this.project_id,command:Ae,args:[],timeout:30,err_on_exit:!1,bash:!1,cb:Ae}),Se.exec(e)},e.prototype.spell_check=function(e){return e=L(e,{lang:void 0,cb:Ae}),null==e.lang&&(e.lang=le.language()),"disable"===e.lang?void e.cb(void 0,[]):this._exec({command:"cat '"+this.filename_tex+"'|aspell --mode=tex --lang="+e.lang+" list|sort|uniq",bash:!0,cb:function(t){return function(t,n){return t?void e.cb(t):n.stderr?void e.cb(n.stderr):e.cb(void 0,n.stdout.slice(0,n.stdout.length-1).split("\n"))}}(this)})},e.prototype.inverse_search=function(e){var t,n,r;return e=L(e,{n:Ae,x:Ae,y:Ae,resolution:Ae,cb:Ae}),t=e.resolution/72,n=e.x/t,r=e.y/t,this._exec({command:"synctex",args:["edit","-o",e.n+":"+n+":"+r+":"+this.filename_pdf],path:this.path,timeout:7,cb:function(t){return function(n,r){var i,o,s,a,l;return n?void e.cb(n):r.stderr?void e.cb(r.stderr):(l=r.stdout,G=l.indexOf("\nInput:"),o=l.slice(G+7,l.indexOf("\n",G+3)),s=o.indexOf("/./"),s!==-1?i=o.slice(s+3):(s=o.indexOf("/../"),i=s!==-1?o.slice(s+1):o),o="./"!==t.path?t.path+"/"+i:i,G=l.indexOf("Line"),a=parseInt(l.slice(G+5,l.indexOf("\n",G+1))),e.cb(!1,{input:o,line:a-1}))}}(this)})},e.prototype.forward_search=function(e){var t;return e=L(e,{n:Ae,cb:Ae}),t=function(){switch(this.ext){case"tex":return this.filename_tex;case"rnw":return ae.change_filename_extension(this.filename_rnw,"Rnw");default:return e.cb("latex forward search: known extension '"+this.ext+"'")}}.call(this),this._exec({command:"synctex",args:["view","-i",e.n+":0:"+t,"-o",this.filename_pdf],path:this.path,cb:function(t){return function(t,n){var r,i,o,s;return t?void e.cb(t):n.stderr?void e.cb(n.stderr):(i=n.stdout,G=i.indexOf("\nPage:"),r=i.slice(G+6,i.indexOf("\n",G+3)),G=i.indexOf("\nx:"),o=parseInt(i.slice(G+3,i.indexOf("\n",G+3))),G=i.indexOf("\ny:"),s=parseInt(i.slice(G+3,i.indexOf("\n",G+3))),e.cb(!1,{n:r,x:o,y:s}))}}(this)})},e.prototype.default_tex_command=function(e){var t;switch(t=function(e){return function(t){return"latexmk -"+t+" -f -g -bibtex -synctex=1 -interaction=nonstopmode '"+e.filename_tex+"'"}}(this),null!=e?e:"pdflatex"){case"default":case"pdflatex":return t("pdf");case"xelatex":return t("xelatex");case"luatex":return t("lualatex");case"old":return"pdflatex -synctex=1 -interact=nonstopmode '"+this.filename_tex+"'";default:return t("pdf")}},e.prototype.update_pdf=function(e){var t,n,r,i,o,s,a,l;return null==e&&(e={}),e=L(e,{status:void 0,latex_command:void 0,cb:void 0}),this.pdf_updated=!0,null==e.latex_command&&(e.latex_command=this.default_tex_command()),this._need_to_run={knitr:"rnw"===this.ext,latex:!0,sage:!1,bibtex:!1},n="",r=e.status,s=function(t){return function(i){return t._need_to_run.latex?("function"==typeof r&&r({start:"latex"}),t._run_latex(e.latex_command,function(e,t){return n+=t,"function"==typeof r&&r({end:"latex",log:t}),i(e)})):i()}}(this),t=function(e){return function(t){return"function"==typeof r&&r({start:"bibtex"}),e._run_bibtex(function(e,i){return"function"==typeof r&&r({end:"bibtex",log:i}),n+=i,t(e)})}}(this),i=function(e){return function(n){return e._need_to_run.bibtex?O.series([t,s],n):n()}}(this),l=function(e){return function(t){return e._need_to_run.sage?("function"==typeof r&&r({start:"sage"}),e._run_sage(e._need_to_run.sage,function(e,i){return n+=i,"function"==typeof r&&r({end:"sage",log:i}),t(e)})):t()}}(this),o=function(e){return function(t){return e._need_to_run.knitr?("function"==typeof r&&r({start:"knitr"}),e._run_knitr(function(e,i){return"function"==typeof r&&r({end:"knitr",log:i}),n+=i,t(e)})):t()}}(this),a=function(e){return function(t){return e._need_to_run.knitr?("function"==typeof r&&r({start:"synctex"}),e._run_patch_synctex(function(e,i){return"function"==typeof r&&r({end:"synctex",log:i}),n+=i,t(e)})):t()}}(this),O.series([o,s,l,i,s,a,this.update_number_of_pdf_pages],function(t){return function(t){return"function"==typeof e.cb?e.cb(t,n):void 0}}(this))},e.prototype._run_latex=function(e,t){var n,r,i,o;return null==e&&(e=this.default_tex_command()),i=this.base_filename+".sagetex.sage",r=e.indexOf("latexmk")===-1,o="sha1sums",null==this._need_to_run&&(this._need_to_run={}),this._need_to_run.latex=!1,n="yes x 2> /dev/null | "+e+"; echo '"+o+"'; test -r '"+i+"' && sha1sum '"+i+"'",this._exec({command:n,bash:!0,timeout:30,err_on_exit:!1,cb:function(e){return function(n,s){var a,l,c,u,d,p,h,f,m,_;if(n)return"function"==typeof t?t(n):void 0;if(G=s.stdout.lastIndexOf(o),G!==-1)for(h=s.stdout.slice(G+o.length+1),s.stdout=s.stdout.slice(0,G),d=h.split("\n"),f=0,l=d.length;f<l;f++)_=d[f],m=_.split(/\s+/),2===m.length&&m[1]===i&&m[0]!==e._sagetex_file_sha&&(e._need_to_run.sage=i,e._sagetex_file_sha=m[0]);return c=s.stdout+"\n\n"+s.stderr,r&&c.indexOf("Rerun to get cross-references right")!==-1&&(e._need_to_run.latex=!0),p="\nRun Sage on",G=c.indexOf(p),G!==-1&&(a=c.indexOf(", and then run LaTeX",G),a!==-1&&(e._need_to_run.sage=c.slice(G+p.length,a).trim().replace(/"/g,""))),u="No file "+e.base_filename+".bbl.",r&&c.indexOf(u)!==-1&&(e._need_to_run.bibtex=!0),c+="\n\n"+ae.to_json(e._need_to_run)+"\n@_sagetex_file_sha: "+e._sagetex_file_sha,e.last_latex_log=c,"function"==typeof t?t(!1,c):void 0}}(this)})},e.prototype._run_sage=function(e,t){return null==this._need_to_run&&(this._need_to_run={}),Ie.isBoolean(e)&&!e&&t(),null==e&&(e=this.base_filename+".sagetex.sage"),this._exec({command:"sage",args:[e],timeout:45,cb:function(e){return function(n,r){var i;return n?"function"==typeof t?t(n):void 0:(i=r.stdout+"\n\n"+r.stderr,e._need_to_run.latex=!0,"function"==typeof t?t(!1,i):void 0)}}(this)})},e.prototype._run_bibtex=function(e){return null==this._need_to_run&&(this._need_to_run={}),this._exec({command:"bibtex",args:[this.base_filename],timeout:10,cb:function(t){return function(n,r){var i;return n?"function"==typeof e?e(n):void 0:(i=r.stdout+"\n\n"+r.stderr,t._need_to_run.latex=!0,"function"==typeof e?e(!1,i):void 0)}}(this)})},e.prototype._run_knitr=function(e){return null==this._need_to_run&&(this._need_to_run={}),this._exec({command:"echo 'require(knitr); opts_knit$set(concordance = TRUE); knit(\""+this.filename_rnw+"\")' | R --no-save",bash:!0,timeout:60,cb:function(t){return function(n,r){var i;return n?"function"==typeof e?e(n):void 0:(i=r.stdout+"\n\n"+r.stderr,t._need_to_run.latex=!0,"function"==typeof e?e(!1,i):void 0)}}(this)})},e.prototype._run_patch_synctex=function(e){return this._exec({command:"echo 'require(patchSynctex); patchSynctex(\""+this.filename_tex+"\");' | R --no-save",bash:!0,timeout:10,cb:function(t){return function(t,n){var r;return t?"function"==typeof e?e(t):void 0:(r=n.stdout+"\n\n"+n.stderr,"function"==typeof e?e(!1,r):void 0)}}(this)})},e.prototype.pdfinfo=function(e){return this._exec({command:"pdfinfo",args:[this.filename_pdf],bash:!1,err_on_exit:!0,cb:function(t){return function(t,n){var r,i,o,s,a,l,c;if(t)return console.log("Make sure pdfinfo is installed!  sudo apt-get install poppler-utils."),void e(t);for(a={},o=null!=(i=n.stdout)?i.split("\n"):void 0,s=0,r=o.length;s<r;s++)c=o[s],l=c.split(":"),2===l.length&&(a[l[0].trim()]=l[1].trim());return e(void 0,a)}}(this)})},e.prototype.update_number_of_pdf_pages=function(e){var t;return t=this.num_pages,this.pdfinfo(function(n){return function(r,i){var o,s,a,l;if(!r&&null!=(null!=i?i.Pages:void 0)&&(n.num_pages=i.Pages,n.num_pages<t))for(o=l=s=n.num_pages,a=t;s<=a?l<a:l>a;o=s<=a?++l:--l)delete n._pages[o];return e()}}(this))},e.prototype.update_text=function(e){return this._exec({command:"pdftotext",args:[this.filename_pdf,"-"],cb:function(t){return function(n,r){return n||t._parse_text(r.stdout),"function"==typeof e?e(n):void 0}}(this)})},e.prototype.trash_aux_files=function(e){var t,n,r;return r="",n=["aux","log","bbl","fls","synctex.gz","sagetex.py","sagetex.sage","sagetex.sage.py","sagetex.scmd","sagetex.sout"],n=function(){var e,r,i;for(r=[],i=0,e=n.length;i<e;i++)t=n[i],r.push("."+t);return r}(),n.push("-concordance.tex"),O.series([function(e){return function(t){return e._exec({command:"latexmk",args:["-c",e.base_filename],cb:function(e,n){return null!=n&&(r+=n.stdout+"\n\n"+n.stderr+"\n\n"),e&&(r+=""+e+"\n\n"),t(e)}})}}(this),function(e){return function(t){var i;return i=function(){var e,t,r;for(t=[],r=0,e=n.length;r<e;r++)R=n[r],t.push(this.base_filename+R);return t}.call(e),e._exec({command:"rm",args:["-v","-f","--"].concat(i),cb:function(e,n){return null!=n&&(r+=n.stdout+"\n\n"+n.stderr+"\n\n"),e&&(r+=""+e+"\n\n"),t(e)}})}}(this)],function(t){return function(t){return r+="done.","function"==typeof e?e(t,r):void 0}}(this))},e.prototype._parse_text=function(e){var t,n,r,i,o,s;for(this._text=e,n=1,r=e.split("\f"),i=[],s=0,t=r.length;s<t;s++)o=r[s],this.page(n).text=o,i.push(n+=1);return i},e.prototype.update_images=function(e){var t,n,r,i,o;return null==e&&(e={}),e=L(e,{first_page:1,last_page:void 0,cb:void 0,resolution:50,device:"16m",png_downscale:2,jpeg_quality:75}),r=e.resolution,"png"===this.image_type&&(r/=e.png_downscale),null==e.last_page&&(e.last_page=this.num_pages,0===e.last_page&&(e.last_page=99999)),e.first_page<=0&&(e.first_page=1),e.last_page>this.num_pages&&(e.last_page=this.num_pages),e.last_page<e.first_page?void("function"==typeof e.cb&&e.cb(!1,[])):(this.dbg("update_images: "+e.first_page+" to "+e.last_page+" with res="+e.resolution),
o=void 0,i=[],t=[],n=void 0,O.series([function(e){return function(t){return Te({project_id:e.project_id,path:"/tmp",ttl:180,cb:function(e,n){return o="/tmp/"+n,t(e)}})}}(this),function(e){return function(t){return n=o+"/"+e.filename_pdf,e._exec({command:"cp",args:[e.filename_pdf,n],timeout:15,err_on_exit:!0,cb:t})}}(this),function(t){return function(r){var i;if("png"===t.image_type)i=["-r"+e.resolution,"-dBATCH","-dNOPAUSE","-sDEVICE=png"+e.device,"-sOutputFile="+o+"/%d.png","-dFirstPage="+e.first_page,"-dLastPage="+e.last_page,"-dDownScaleFactor="+e.png_downscale,n];else{if("jpg"!==t.image_type)return void r("unknown image type "+t.image_type);i=["-r"+e.resolution,"-dBATCH","-dNOPAUSE","-sDEVICE=jpeg","-sOutputFile="+o+"/%d.jpg","-dFirstPage="+e.first_page,"-dLastPage="+e.last_page,"-dJPEGQ="+e.jpeg_quality,n]}return t._exec({command:"gs",args:i,err_on_exit:!0,timeout:120,cb:function(e,t){return r(e)}})}}(this),function(t){return function(n){return t._exec({command:"sha1sum *.png *.jpg",bash:!0,path:o,timeout:15,cb:function(r,o){var s,a,l,c,u,d,p,h;if(r)return void n(r);for(d=o.stdout.split("\n"),p=0,l=d.length;p<l;p++)if(c=d[p],h=c.split(" "),h.length>1)try{a=h[2],u=parseInt(a.split(".")[0])+e.first_page-1,t.page(u).sha1!==h[0]&&i.push({page_number:u,sha1:h[0],filename:a})}catch(e){s=e,console.log("sha1sum: error parsing line="+c)}return n()}})}}(this),function(e){return function(n){var s;return s=function(n,i){var s;return s=n.page_number,Se.read_file_from_project({project_id:e.project_id,path:o+"/"+n.filename,timeout:10,cb:function(o,a){var l;return o?i(o):null==a.url?i("no url in result for a page"):(l=e.page(s),l.sha1=n.sha1,l.url=a.url,l.resolution=r,t.push(s),i())}})},O.mapSeries(i,s,n)}}(this)],function(n){return function(n){return"function"==typeof e.cb?e.cb(n,t):void 0}}(this)))},e}(),g=function(e){function n(e,t,r,i){var o;this.project_id=e,this.filename=t,this.hide=ze(this.hide,this),this.show=ze(this.show,this),this._update_page=ze(this._update_page,this),this.update=ze(this.update,this),this.current_page=ze(this.current_page,this),this.focus=ze(this.focus,this),this.remove=ze(this.remove,this),this.scroll_into_view=ze(this.scroll_into_view,this),this.highlight_middle=ze(this.highlight_middle,this),this.watch_scroll=ze(this.watch_scroll,this),this.show_message=ze(this.show_message,this),this.show_pages=ze(this.show_pages,this),this.recenter=ze(this.recenter,this),this.zoom=ze(this.zoom,this),this._init_dragging=ze(this._init_dragging,this),this.dbg=ze(this.dbg,this),n.__super__.constructor.call(this,this.project_id,this.filename),this.pdflatex=new _({project_id:this.project_id,filename:this.filename,image_type:"png"}),this.opts=i,this._updating=!1,this.element=Me.find(".salvus-editor-pdf-preview").clone(),this.spinner=this.element.find(".salvus-editor-pdf-preview-spinner"),o=he(this.filename),this.path=o.head,""===this.path&&(this.path="./"),this.file=o.tail,this.last_page=0,this.output=this.element.find(".salvus-editor-pdf-preview-output"),this.page=this.element.find(".salvus-editor-pdf-preview-page"),this.message=this.element.find(".salvus-editor-pdf-preview-message"),this.highlight=this.element.find(".salvus-editor-pdf-preview-highlight").hide(),this.page.text("Loading preview..."),this._first_output=!0,this._needs_update=!0,this._dragpos=null,this._init_dragging()}return Re(n,e),n.prototype.dbg=function(e){},n.prototype._init_dragging=function(){var e,n,r;return n=function(e){return function(){return e.page.css("cursor",""),e._dragpos=null}}(this),this.page.on("mousedown",function(e){return function(t){return t.preventDefault(),document.activeElement.blur(),e._dragpos={left:t.clientX,top:t.clientY},!1}}(this)),this.page.on("mouseup",function(e){return function(e){return e.preventDefault(),n(),!1}}(this)),r=t(23).throttle,e=function(e){return function(t){var r;if(t.preventDefault(),null!=e._dragpos)return 1!==t.which?void n():(e.page.css("cursor","move"),r={left:t.clientX-e._dragpos.left,top:t.clientY-e._dragpos.top},e.output.scrollLeft(e.output.scrollLeft()-r.left),e.output.scrollTop(e.output.scrollTop()-r.top),e._dragpos={left:t.clientX,top:t.clientY},!1)}}(this),this.page.on("mousemove",r(e,20))},n.prototype.zoom=function(e){var t,n,r;if(e=L(e,{delta:void 0,width:void 0}),t=this.page.find("img"),0!==t.length)return null!=e.delta?(null==this.zoom_width&&(this.zoom_width=160),n=this.zoom_width,n+=e.delta):null!=e.width&&(n=e.width),null!=n&&(this.zoom_width=n,r=this.current_page().number,n+="%",this.page.find(".salvus-editor-pdf-preview-page-single").css({"max-width":n,width:n}),this.scroll_into_view({n:r,highlight_line:!1,y:$(window).height()/2})),this.recenter()},n.prototype.recenter=function(){var e,t,n;return e=this.page.width(),t=this.page.find(":first-child:first").width(),n=(t-e)/2,this.page.parent().scrollLeft(n)},n.prototype.show_pages=function(e){return this.page.toggle(e),this.message.toggle(!e)},n.prototype.show_message=function(e){return this.show_pages(!1),this.message.empty(),this.message.append(e)},n.prototype.watch_scroll=function(){var e,t;return null!=this._f&&clearInterval(this._f),t=void 0,this.output.on("scroll",function(e){return function(){return e._needs_update=!0}}(this)),e=function(e){return function(){if(e._needs_update&&e.element.is(":visible"))return e._needs_update=!1,e.update({cb:function(t){if(t)return e._needs_update=!0}})}}(this),this._f=setInterval(e,1e3)},n.prototype.highlight_middle=function(e){return null==e&&(e=5e3),this.highlight.show().offset({top:$(window).height()/2}),this.highlight.stop().animate({opacity:.3}).fadeOut(e)},n.prototype.scroll_into_view=function(e){var t,n,r,i;if(e=L(e,{n:Ae,y:0,highlight_line:!0}),n=this.pdflatex.page(e.n),t=this.element.find(".salvus-editor-pdf-preview-output"),null!=(null!=n?n.element:void 0)&&null!=t)return r=t.offset().top,t.scrollTop(0),i=n.element.offset().top+e.y-$(window).height()/2,t.scrollTop(i),e.highlight_line?this.highlight_middle():void 0},n.prototype.remove=function(){return null!=this._f&&clearInterval(this._f),n.__super__.remove.call(this)},n.prototype.focus=function(){},n.prototype.current_page=function(){var e,t,n,r,i,o,s,a;for(s=this.element.offset().top,o=this.page.children(),a=0,t=o.length;a<t;a++)if(e=o[a],i=$(e),r=i.offset(),r.top-s>0)return n=i.data("number"),n>1&&(n-=1),{number:n,offset:r.top};return null!=i?{number:i.data("number")}:{number:1}},n.prototype.update=function(e){var t,n,r,i,o,s,a,l;if(null==e&&(e={}),e=L(e,{window_size:4,cb:void 0}),this._updating)return void("function"==typeof e.cb&&e.cb("already updating"));if(this.dbg("update"),this._updating=!0,null!=this.pdflatex.num_pages)for(this.dbg("update: num_pages = "+this.pdflatex.num_pages),a=this.page.children(),l=0,r=a.length;l<r;l++)o=a[l],s=$(o),s.data("number")>this.pdflatex.num_pages&&(this.dbg("update: removing page number "+s.data("number")),s.remove());return i=this.current_page().number,this.dbg("update: current_page="+i),t=function(e){return function(t,n){return t.cb=function(t,r){var i;return t?n(t):0===r.length?n():(i=function(t,n){return e._update_page(t,n)},O.map(r,i,n))},e.pdflatex.update_images(t)}}(this),n=e.window_size,1===i&&(n*=2),t({first_page:i,last_page:i+1,resolution:3*this.opts.resolution,device:"16m",png_downscale:3},function(r){return function(o){var s,a,l,c;return o?(r._updating=!1,"function"==typeof e.cb?e.cb(o):void 0):null==r.pdflatex.pdf_updated||r.pdflatex.pdf_updated?(r.pdflatex.pdf_updated=!1,s=function(e,n){return e[2]?t({first_page:e[0],last_page:e[1],resolution:"300",device:"16m",png_downscale:3},n):t({first_page:e[0],last_page:e[1],resolution:"150",device:"gray",png_downscale:1},n)},c=[],c.push([i-n,i-1,!0]),c.push([i+2,i+n,!0]),a=Math.round((1+i-n-1)/2),c.push([1,a]),c.push([a+1,i-n-1]),r.pdflatex.num_pages?(l=Math.round((i+n+1+r.pdflatex.num_pages)/2),c.push([i+n+1,l]),c.push([l,r.pdflatex.num_pages])):c.push([i+n+1,999999]),O.map(c,s,function(t){return r._updating=!1,null==r._f&&r.watch_scroll(),"function"==typeof e.cb?e.cb():void 0})):(r._updating=!1,"function"==typeof e.cb?e.cb():void 0)}}(this))},n.prototype._update_page=function(e,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x;if(c=this.pdflatex.page(e),x=c.url,v=c.resolution,null==x){for(oe=w=h=e,f=this.last_page;h<=f?w<=f:w>=f;oe=h<=f?++w:--w)this.page.remove(".salvus-editor-pdf-preview-page-"+oe);this.last_page>=e&&(this.last_page=e-1)}else{if(this.dbg("_update_page("+e+") using "+x),p=0===this.last_page,b=this,u=this.page.find(".salvus-editor-pdf-preview-page-"+e),y=function(e){return function(t){var n;if(null!=e.zoom_width)return n=e.zoom_width+"%",t.css({"max-width":n,width:n})}}(this),0===u.length){for(oe=i=m=this.last_page+1,_=e;m<=_?i<=_:i>=_;oe=m<=_?++i:--i){for(u=$("<div class='salvus-editor-pdf-preview-page-single salvus-editor-pdf-preview-page-"+oe+"'>Page "+oe+"<br><img alt='Page "+oe+"' class='salvus-editor-pdf-preview-image'></div>"),u.data("number",oe),r=function(t){var n,r,i,o,s,a,l;return s=$(t.delegateTarget),e=s.data("number"),o=$(t.target).offset(),a=t.pageX-o.left,l=t.pageY-o.top,n=s.find("img"),r=n[0].naturalHeight,i=n[0].naturalWidth,l*=r/n.height(),a*=i/n.width(),b.emit("shift-click",{n:e,x:a,y:l,resolution:n.data("resolution")}),!1},u.click(function(e){return(e.shiftKey||e.ctrlKey)&&r(e),!1}),u.dblclick(r),y(u),this._first_output&&(this.page.empty(),this._first_output=!1),n=!1,g=this.page.children(),s=0,a=g.length;s<a;s++)if(c=g[s],d=$(c),d.data("number")>oe){u.insertBefore(d),n=!0;break}n||this.page.append(u),this.pdflatex.page(oe).element=u}this.last_page=e}o=u.find("img"),o.attr("src",x).data("resolution",v),l=function(){return o.off("error",l),setTimeout(function(){return o.attr("src",x)},2e3)},o.on("error",l),p&&o.one("load",function(e){return function(){return e.recenter()}}(this)),y(u)}return t()},n.prototype.show=function(){},n.prototype.hide=function(){},n}(i),exports.PDF_Preview=g,v=function(e){function t(e,n,r,i){var o;this.project_id=e,this.filename=n,this.opts=i,this.hide=ze(this.hide,this),this.focus=ze(this.focus,this),this.show=ze(this.show,this),this.update=ze(this.update,this),t.__super__.constructor.call(this,this.project_id,this.filename),this.element=Me.find(".salvus-editor-pdf-preview-embed").clone(),this.pdf_title=this.element.find(".salvus-editor-pdf-title"),this.pdf_title.find("span").text("loading ..."),this.spinner=this.element.find(".salvus-editor-pdf-preview-embed-spinner"),o=he(this.filename),this.path=o.head,""===this.path&&(this.path="./"),this.file=o.tail,this.output=this.element.find(".salvus-editor-pdf-preview-embed-page"),this.element.find('a[href="#refresh"]').click(function(e){return function(){return e.update(),!1}}(this)),this.update()}return Re(t,e),t.prototype.update=function(e){var t;return t=this.element.find('a[href="#refresh"]'),t.icon_spin(!0),this.spinner.show().spin(!0),Se.read_file_from_project({project_id:this.project_id,path:this.filename,timeout:20,cb:function(e){return function(n,r){return t.icon_spin(!1),e.spinner.spin(!1).hide(),n||null==r.url?M({type:"error",message:"unable to get pdf -- "+n}):(e.pdf_title.find("span").text(e.filename),e.pdf_title.attr("target","_blank").attr("href",r.url),e.output.find("iframe").attr("src",r.url),e.output.find("a").attr("href",r.url+"?random="+Math.random()),e.output.find("span").text(e.filename))}}(this)})},t.prototype.show=function(){if($.browser.safari)return this.element.find(".salvus-editor-pdf-preview-embed-page").make_height_defined()},t.prototype.focus=function(){},t.prototype.hide=function(){},t}(i),exports.PDF_PreviewEmbed=v,C=function(e){function t(e,n,r,i){var o;this.project_id=e,this.filename=n,this._show=ze(this._show,this),this.hide=ze(this.hide,this),this.remove=ze(this.remove,this),this.terminate_session=ze(this.terminate_session,this),this.blur=ze(this.blur,this),this.focus=ze(this.focus,this),this.save=ze(this.save,this),this._set=ze(this._set,this),this._get=ze(this._get,this),this.connect_to_server=ze(this.connect_to_server,this),t.__super__.constructor.call(this,this.project_id,this.filename),this.element=$("<div>").hide(),o=this.element.salvus_console({title:"Terminal",filename:this.filename,project_id:this.project_id,path:this.filename,editor:this}),this.console=o.data("console"),this.element=this.console.element,Se.read_text_file_from_project({project_id:this.project_id,path:this.filename,cb:function(e){return function(t,n){return t?M({type:"error",message:"Error connecting to console server -- "+t}):(null!=n.content&&n.content.length<36&&delete n.content,e.opts=L(i,{session_uuid:n.content}),e.connect_to_server())}}(this)})}return Re(t,e),t.prototype.connect_to_server=function(e){var t,n;return t={timeout:30,type:"console",project_id:this.project_id,cb:function(t){return function(n,r){return n?(M({type:"error",message:n}),"function"==typeof e?e(n):void 0):(t.element.is(":visible")&&t.show(),t.console.set_session(r),t.opts.session_uuid=r.session_uuid,Se.write_text_file_to_project({project_id:t.project_id,path:t.filename,content:r.session_uuid,cb:e}))}}(this)},n=ae.path_split(this.filename).head,t.params={command:"bash",rows:this.opts.rows,cols:this.opts.cols,path:n,filename:this.filename},null!=this.opts.session_uuid?(t.session_uuid=this.opts.session_uuid,Se.connect_to_session(t)):Se.new_session(t)},t.prototype._get=function(){var e;return null!=(e=this.opts.session_uuid)?e:""},t.prototype._set=function(e){},t.prototype.save=function(){return"function"==typeof cb?cb():void 0},t.prototype.focus=function(){var e;return null!=(e=this.console)?e.focus():void 0},t.prototype.blur=function(){var e;return null!=(e=this.console)?e.blur():void 0},t.prototype.terminate_session=function(){},t.prototype.remove=function(){return this.element.salvus_console(!1),t.__super__.remove.call(this)},t.prototype.hide=function(){var e;return null!=(e=this.console)?e.blur():void 0},t.prototype._show=function(){var e;return null!=(e=this.console)?e.resize():void 0},t}(i),m=function(e){function t(e,n,r,i){var o,s;this.project_id=e,this.filename=n,this.opts=i,this.show=ze(this.show,this),this.update=ze(this.update,this),this.set_src=ze(this.set_src,this),t.__super__.constructor.call(this,this.project_id,this.filename),this.mode=(o=this.ext,Be.call(E,o)>=0?"video":"image"),this.element=Me.find(".salvus-editor-image").clone(),this.element.find(".salvus-editor-image-title").text(this.filename),s=this.element.find('a[href="#refresh"]'),s.click(function(e){return function(){return s.icon_spin(!0),e.update(function(e){return s.icon_spin(!1)}),!1}}(this)),this.element.find('a[href="#close"]').click(function(e){return function(){return!1}}(this)),null!=r?(this.element.find(".salvus-editor-image-container").find("span").hide(),this.set_src(r)):this.update()}return Re(t,e),t.prototype.set_src=function(e){switch(this.mode){case"image":return this.element.find("img").attr("src",e),this.element.find("video").hide();case"video":return this.element.find("img").hide(),this.element.find("video").attr("src",e).show()}},t.prototype.update=function(e){return this.element.find('a[href="#refresh"]').icon_spin({start:!0}),Se.read_file_from_project({project_id:this.project_id,timeout:30,path:this.filename,cb:function(t){return function(n,r){return t.element.find('a[href="#refresh"]').icon_spin(!1),t.element.find(".salvus-editor-image-container").find("span").hide(),n?(M({type:"error",message:"Communications issue loading "+t.filename+" -- "+n}),"function"==typeof e?e(n):void 0):"error"===r.event?(M({type:"error",message:"Error getting "+t.filename+" -- "+Oe(r.error)}),"function"==typeof e?e(r.event):void 0):(t.set_src(r.url+("?random="+Math.random())),"function"==typeof e?e():void 0)}}(this)})},t.prototype.show=function(){if(this.is_active())return this.element.show()},t}(i),b=function(e){function t(e,n,r,i){this.project_id=e,this.filename=n,this.content=r,this.set_iframe=ze(this.set_iframe,this),this.show=ze(this.show,this),t.__super__.constructor.call(this,this.project_id,this.filename),this.element=Me.find(".salvus-editor-static-html").clone(),null==this.content&&(this.content="Loading...",Se.public_get_text_file({project_id:this.project_id,path:this.filename,timeout:60,cb:function(e){return function(t,n){if(t?e.content="Error opening file -- "+t:e.content=n,null!=e.iframe)return e.set_iframe()}}(this)}))}return Re(t,e),t.prototype.show=function(){if(this.is_active())return null==this.iframe?setTimeout(this.set_iframe,1):this.set_iframe(),this.element.show()},t.prototype.set_iframe=function(){return this.iframe=this.element.find(".salvus-editor-static-html-content").find("iframe"),$.browser.edge||$.browser.ie?this.iframe.contents().find("body").html(this.content):this.iframe.attr("srcdoc",this.content),this.iframe.contents().find("body").find("a").attr("target","_blank"),this.iframe.maxheight()},t}(i),y=function(e){function t(e,n,r,i,o){this.project_id=e,this.filename=n,i.read_only=!0,i.public_access=!0,t.__super__.constructor.call(this,this.project_id,this.filename,"Loading...",i),this.element.find('a[href="#save"]').hide(),this.element.find('a[href="#readonly"]').hide(),Se.public_get_text_file({project_id:this.project_id,path:this.filename,timeout:60,cb:function(e){return function(t,n){return t&&(n="Error opening file -- "+t),e._set(n),"function"==typeof o?o(t):void 0}}(this)})}return Re(t,e),t}(n),w=function(e){function t(e,n,r,i){this.project_id=e,this.filename=n,i.allow_javascript_eval=!1,t.__super__.constructor.call(this,this.project_id,this.filename,r,i,function(e){return function(t){if(e.element.find('a[href="#split-view"]').hide(),!t)return e.syncdoc=new Ce.SynchronizedWorksheet(e,{static_viewer:!0}),e.syncdoc.process_sage_updates(),e.syncdoc.init_hide_show_gutter()}}(this))}return Re(t,e),t}(y),o=function(e){function t(e,n,r,i){this.project_id=e,this.filename=n,this.content=r,this.opts=i,this.hide=ze(this.hide,this),this.show=ze(this.show,this),this.remove=ze(this.remove,this),this.disconnect_from_session=ze(this.disconnect_from_session,this),this.terminate_session=ze(this.terminate_session,this),this.focus=ze(this.focus,this),this._set=ze(this._set,this),this._get=ze(this._get,this),this.has_uncommitted_changes=ze(this.has_uncommitted_changes,this),this.has_unsaved_changes=ze(this.has_unsaved_changes,this),this.save=ze(this.save,this),this.init_wrapped=ze(this.init_wrapped,this),t.__super__.constructor.call(this,this.project_id,this.filename),this.init_wrapped(this.project_id,this.filename,this.content,this.opts)}return Re(t,e),t.prototype.init_wrapped=function(){throw Error("must define in derived class")},t.prototype.save=function(e){var t;return null!=(null!=(t=this.wrapped)?t.save:void 0)?this.wrapped.save(e):"function"==typeof e?e():void 0},t.prototype.has_unsaved_changes=function(e){var t;return null!=(t=this.wrapped)&&"function"==typeof t.has_unsaved_changes?t.has_unsaved_changes(e):void 0},t.prototype.has_uncommitted_changes=function(e){var t;return null!=(t=this.wrapped)&&"function"==typeof t.has_uncommitted_changes?t.has_uncommitted_changes(e):void 0},t.prototype._get=function(){return"history saving not yet implemented"},t.prototype._set=function(e){},t.prototype.focus=function(){},t.prototype.terminate_session=function(){},t.prototype.disconnect_from_session=function(){var e;return null!=(e=this.wrapped)&&"function"==typeof e.destroy?e.destroy():void 0},t.prototype.remove=function(){var e;return t.__super__.remove.call(this),null!=(e=this.wrapped)&&"function"==typeof e.destroy&&e.destroy(),delete this.filename,delete this.content,delete this.opts},t.prototype.show=function(){var e;if(this.is_active()&&null!=this.element)return this.element.show(),a&&this.element.css({position:"relative"}),null!=(e=this.wrapped)&&"function"==typeof e.show?e.show():void 0},t.prototype.hide=function(){var e,t;return null!=(e=this.element)&&e.hide(),null!=(t=this.wrapped)&&"function"==typeof t.hide?t.hide():void 0},t}(i),A=function(e){function n(){return this.mount=ze(this.mount,this),this.init_wrapped=ze(this.init_wrapped,this),n.__super__.constructor.apply(this,arguments)}return Re(n,e),n.prototype.init_wrapped=function(){return this.element=$("<div><span>&nbsp;&nbsp;Loading...</span></div>"),!function(e){return function(){var n,r;return r=t(805),n=r.task_list(e.project_id,e.filename,{}),e.element.replaceWith(n),e.element=n,e.wrapped=n.data("task_list"),e.show()}}(this)(t)},n.prototype.mount=function(){return this.mounted||($(document.body).append(this.element),this.mounted=!0),this.mounted},n}(o),J=t(346),u=function(e){function t(){return this.mount=ze(this.mount,this),this.init_wrapped=ze(this.init_wrapped,this),t.__super__.constructor.apply(this,arguments)}return Re(t,e),t.prototype.init_wrapped=function(){return this.init_font_size(),this.opts.default_font_size=this.default_font_size,this.element=J.jupyter_notebook(this,this.filename,this.opts),this.wrapped=this.element.data("jupyter_notebook")},t.prototype.mount=function(){return this.mounted||($(document.body).append(this.element),this.mounted=!0),this.mounted},t}(o),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Re(t,e),t.prototype.init_wrapped=function(){return this.element=J.jupyter_nbviewer(this.project_id,this.filename,this.content,this.opts),this.wrapped=this.element.data("jupyter_nbviewer")},t}(o),c=function(e){function n(e,t,r,i){this.project_id=e,this.filename=t,this.content=r,this.show=ze(this.show,this),this.init_buttons=ze(this.init_buttons,this),n.__super__.constructor.call(this,this.project_id,this.filename),this.element=$(".smc-jupyter-templates .smc-jupyter-nbviewer").clone(),this.init_buttons()}return Re(n,e),n.prototype.init_buttons=function(){return this.element.find('a[href="#copy"]').click(function(e){return function(){var t;return t=ve.getProjectActions(e.project_id),t.load_target("files"),t.set_all_files_unchecked(),t.set_file_checked(e.filename,!0),t.set_file_action("copy"),!1}}(this)),this.element.find('a[href="#download"]').click(function(e){return function(){var t;return t=ve.getProjectActions(e.project_id),t.load_target("files"),t.set_all_files_unchecked(),t.set_file_checked(e.filename,!0),t.set_file_action("download"),!1}}(this))},n.prototype.show=function(){var e,n;if(this.is_active())return null==this.iframe&&(this.iframe=this.element.find(".smc-jupyter-nbviewer-content").find("iframe"),n=t(129).join,e=n(window.location.hostname,window.smc_base_url,this.project_id,"raw",this.filename),this.iframe.attr("src","//nbviewer.jupyter.org/urls/"+e)),this.element.show()},n}(i),s=t(918).HTML_MD_Editor,K=function(){var e;e=[];for(R in B)pe=B[R],"html-md"===pe.editor&&e.push(R);return e}(),d=t(920).LatexEditor,exports.register_nonreact_editors=function(){var e,n,r;return n=t(787).register_nonreact_editor,n({ext:"",f:function(e,t,n){return I(e,t,n)},is_public:!1}),r=function(e,t,r){var i;return i=q(r[0]),n({ext:r,is_public:e,icon:i,f:function(e,n,r){var i;return i=new t(e,n,void 0,r),null==i.ext&&console.error("You have to call super(@project_id, @filename) in the constructor to properly initialize this FileEditor instance."),i}})},r(!1,s,K),r(!1,d,["tex","rnw"]),r(!1,C,["term","sage-term"]),r(!1,m,["png","jpg","jpeg","gif","svg"].concat(E)),e=t(919).HistoryEditor,r(!1,e,["sage-history"]),r(!1,A,["tasks"]),exports.switch_to_ipynb_classic=function(){return r(!1,u,["ipynb"])},r(!0,y,[""]),r(!0,b,["html"]),r(!0,w,["sagews"])}},function(e,exports){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(e,exports){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(1),i=n(r),o=t(29),s=n(o),a=i.default.version.split(".").map(parseFloat);e.exports={version:function(){return a},findDOMNode:function(e){return s.default.findDOMNode(e)},batchedUpdates:function(e){s.default.unstable_batchedUpdates(e)}}},function(e,exports,t){"use strict";var n=function(){};e.exports=n},function(e,exports,t){"use strict";var n=null;e.exports={debugTool:n}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,i){var o="function"==typeof r?r(n,i,e):t.call(e,n,r,i);return(0,c.default)(null==o||"string"==typeof o,"`localizer format(..)` must return a string, null, or undefined"),o}function i(e,t){}function o(e){var t=e.format,n=e.parse,o=e.decimalChar,s=void 0===o?function(){return"."}:o,a=e.precision,l=void 0===a?function(){return null}:a,u=e.formats,d=e.propType;(0,c.default)("function"==typeof t,"number localizer `format(..)` must be a function"),(0,c.default)("function"==typeof n,"number localizer `parse(..)` must be a function"),i(h,u),u.editFormat=u.editFormat||function(e){return parseFloat(e)},m={formats:u,precision:l,decimalChar:s,propType:d||p,format:function(e,n,i){return r(this,t,e,n,i)},parse:function(e,t,r){var i=n.call(this,e,t,r);return(0,c.default)(null==i||"number"==typeof i,"number localizer `parse(..)` must return a number, null, or undefined"),i}}}function s(e){(0,c.default)("function"==typeof e.format,"date localizer `format(..)` must be a function"),(0,c.default)("function"==typeof e.parse,"date localizer `parse(..)` must be a function"),(0,c.default)("function"==typeof e.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),i(f,e.formats),_={formats:e.formats,propType:e.propType||p,startOfWeek:e.firstOfWeek,format:function(t,n,i){return r(this,e.format,t,n,i)},parse:function(t,n){var r=e.parse.call(this,t,n);return(0,c.default)(null==r||r instanceof Date&&!isNaN(r.getTime()),"date localizer `parse(..)` must return a valid Date, null, or undefined"),r}}}function a(){var e={};return e}exports.__esModule=!0,exports.date=exports.number=exports.setNumber=void 0,exports.setDate=s;var l=t(58),c=n(l),u=(t(27),t(1)),d=n(u),p=d.default.PropTypes.oneOfType([d.default.PropTypes.string,d.default.PropTypes.func]),h=["default"],f=["default","date","time","header","footer","dayOfMonth","month","year","decade","century"],m=a("NumberPicker");exports.setNumber=o;var _=a("DateTimePicker"),g=exports.number={propType:function(){var e;return(e=m).propType.apply(e,arguments)},getFormat:function(e,t){return t||m.formats[e]},parse:function(){var e;return(e=m).parse.apply(e,arguments)},format:function(){var e;return(e=m).format.apply(e,arguments)},decimalChar:function(){var e;return(e=m).decimalChar.apply(e,arguments)},precision:function(){var e;return(e=m).precision.apply(e,arguments)}},v=exports.date={propType:function(){var e;return(e=_).propType.apply(e,arguments)},getFormat:function(e,t){return t||_.formats[e]},parse:function(){var e;return(e=_).parse.apply(e,arguments)},format:function(){var e;return(e=_).format.apply(e,arguments)},startOfWeek:function(){var e;return(e=_).startOfWeek.apply(e,arguments)}};exports.default={number:g,date:v}},function(e,exports,t){"use strict";function n(){E.ReactReconcileTransaction&&b?void 0:c("123")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled(!0)}function i(e,t,r,i,o,s){return n(),b.batchedUpdates(e,t,r,i,o,s)}function o(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==_.length?c("124",t,_.length):void 0,_.sort(o),g++;for(var n=0;n<t;n++){var r=_[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var s;if(h.logTopLevelRenders){var a=r;r._currentElement.type.isReactTopLevelWrapper&&(a=r._renderedComponent),s="React update: "+a.getName(),console.time(s)}if(f.performUpdateIfNecessary(r,e.reconcileTransaction,g),s&&console.timeEnd(s),i)for(var l=0;l<i.length;l++)e.callbackQueue.enqueue(i[l],r.getPublicInstance())}}function a(e){return n(),b.isBatchingUpdates?(_.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=g+1))):void b.batchedUpdates(a,e)}function l(e,t){b.isBatchingUpdates?void 0:c("125"),v.enqueue(e,t),y=!0}var c=t(20),u=t(25),d=t(263),p=t(67),h=t(268),f=t(71),m=t(118),_=(t(14),[]),g=0,v=d.getPooled(),y=!1,b=null,w={initialize:function(){this.dirtyComponentsLength=_.length},close:function(){this.dirtyComponentsLength!==_.length?(_.splice(0,this.dirtyComponentsLength),A()):_.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},k=[w,x];u(r.prototype,m,{getTransactionWrappers:function(){return k},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return m.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(r);var A=function(){for(;_.length||y;){if(_.length){var e=r.getPooled();e.perform(s,null,e),r.release(e)}if(y){y=!1;var t=v;v=d.getPooled(),t.notifyAll(),d.release(t)}}},C={injectReconcileTransaction:function(e){e?void 0:c("126"),E.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,b=e}},E={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:a,flushBatchedUpdates:A,injection:C,asap:l};e.exports=E},function(e,exports,t){/*
	SageMathCloud: A collaborative web-based interface to Sage, IPython, LaTeX and the Terminal.
	Copyright (C) 2016, Sagemath Inc.
	---

	Site Customize -- dynamically customize the look of SMC for the client.
	 */
var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x;_=t(12),m=_.redux,s=_.Redux,f=_.rclass,v=_.rtypes,o=_.React,i=t(17).Loading,y=t(24),h=t(9),u=m.createActions("customize"),d=h.dict(function(){var e,t;e=y.site_settings_conf,t=[];for(p in e)x=e[p],t.push([p,x.default]);return t}()),w=m.createStore("customize",d),"undefined"!=typeof $&&null!==$&&$.get(window.smc_base_url+"/customize",function(e,t){var n,r;if("success"===t)return exports.commercial=e.commercial="y"===(null!=(n=e.commercial)&&null!=(r=n[0])?r.toLowerCase():void 0),u.setState(e)}),r=f({displayName:"HelpEmailLink",reduxProps:{customize:{help_email:v.string}},propTypes:{text:v.string},render:function(){var e;return this.props.help_email?o.createElement("a",{href:"mailto:"+this.props.help_email,target:"_blank"},null!=(e=this.props.text)?e:this.props.help_email):o.createElement(i,null)}}),exports.HelpEmailLink=f({displayName:"HelpEmailLink-redux",propTypes:{text:v.string},render:function(){return o.createElement(s,{redux:m},o.createElement(r,{text:this.props.text}))}}),l=f({displayName:"SiteName",reduxProps:{customize:{site_name:v.string}},render:function(){return this.props.site_name?o.createElement("span",null,this.props.site_name):o.createElement(i,null)}}),exports.SiteName=f({displayName:"SiteName-redux",render:function(){return o.createElement(s,{redux:m},o.createElement(l,null))}}),a=f({displayName:"SiteDescription",propTypes:{style:v.object},reduxProps:{customize:{site_description:v.string}},render:function(){var e,t;return t=null!=(e=this.props.style)?e:{color:"#666",fontSize:"16px"},null!=this.props.site_description?o.createElement("span",{style:t},this.props.site_description):o.createElement(i,null)}}),exports.SiteDescription=f({displayName:"SiteDescription-redux",propTypes:{style:v.object},render:function(){return o.createElement(s,{redux:m},o.createElement(a,{style:this.props.style}))}}),exports.CompanyName=f({displayName:"CompanyName",render:function(){return o.createElement("span",null,"SageMath, Inc.")}}),c=f({displayName:"TermsOfService",reduxProps:{customize:{terms_of_service:v.string}},propTypes:{style:v.object},render:function(){return null==this.props.terms_of_service?o.createElement("div",null):o.createElement("div",{style:this.props.style,dangerouslySetInnerHTML:{__html:this.props.terms_of_service}})}}),exports.TermsOfService=f({displayName:"TermsOfService-redux",propTypes:{style:v.object},render:function(){return o.createElement(s,{redux:m},o.createElement(c,{style:this.props.style}))}}),n=f({displayName:"AccountCreationEmailInstructions",reduxProps:{customize:{account_creation_email_instructions:v.string}},render:function(){return o.createElement("h3",{style:{marginTop:0,textAlign:"center"}},this.props.account_creation_email_instructions)}}),exports.AccountCreationEmailInstructions=f({displayName:"AccountCreationEmailInstructions",render:function(){return o.createElement(s,{redux:m},o.createElement(n,null))}}),b=null!=(g="undefined"!=typeof window&&null!==window?window.smc_base_url:void 0)?g:"",exports.PolicyIndexPageUrl=b+"/policies/index.html",exports.PolicyPricingPageUrl=b+"/policies/pricing.html",exports.PolicyPrivacyPageUrl=b+"/policies/privacy.html",exports.PolicyCopyrightPageUrl=b+"/policies/copyright.html",exports.PolicyTOSPageUrl=b+"/policies/terms.html",exports.SmcWikiUrl="https://github.com/sagemathinc/smc/wiki/Portal"},function(e,exports,t){var $,n,r,i;$=window.$,r=exports.isMobile={Android:function(){return!!("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/Android/i):void 0)},BlackBerry:function(){return!!("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/BlackBerry/i):void 0)},iOS:function(){return!!("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/iPhone|iPad|iPod/i):void 0)},Windows:function(){return!!("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/IEMobile/i):void 0)},tablet:function(){return!!("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/iPad/i):void 0)||!!navigator.userAgent.match(/Tablet/i)},any:function(){return r.Android()||r.BlackBerry()||r.iOS()||r.Windows()}},null==$&&(exports.IS_MOBILE=!1),null==$.browser&&($.browser={}),i="undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.toLowerCase():void 0,$.browser.chrome=/chrom(e|ium)/.test(i),exports.IS_MOBILE=exports.isMobile.any(),$.browser.chrome&&$(".salvus-chrome-only").show(),$.browser.opera=!!window.opr&&!!opr.addons||!!window.opera||("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.indexOf(" OPR/"):void 0)>=0,$.browser.firefox=!$.browser.chrome&&i.indexOf("firefox")>0,$.browser.safari=!$.browser.chrome&&i.indexOf("safari")>0,$.browser.ie=!$.browser.chrome&&i.indexOf("windows")>0,$.browser.blink=($.browser.chrome||$.browser.opera)&&!!window.CSS,$.browser.edge=/Edge\/\d./i.test(navigator.userAgent),exports.get_browser=function(){var e,t,n;t=$.browser;for(e in t)if(n=t[e])return e;return null},exports.get_mobile=function(){var e,t,n;t=exports.isMobile;for(e in t)if((n=t[e])())return e;return null},exports.is_responsive_mode=function(){return $(".salvus-responsive-mode-test").width()<768},n=function(){if("undefined"!=typeof navigator&&null!==navigator)return navigator.cookieEnabled||t(12).redux.getActions("page").show_cookie_warning(),t(9).has_local_storage()?void 0:t(12).redux.getActions("page").show_local_storage_warning()},setTimeout(n,1e3)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return!e||"#"===e.trim()}exports.__esModule=!0;var i=t(7),o=n(i),s=t(8),a=n(s),l=t(4),c=n(l),u=t(6),d=n(u),p=t(5),h=n(p),f=t(1),m=n(f),_=t(11),g=n(_),v=t(21),y=n(v),b={href:g.default.string,onClick:g.default.func,disabled:g.default.bool,role:g.default.string,tabIndex:g.default.oneOfType([g.default.number,g.default.string]),componentClass:y.default},w={componentClass:"a"},x=function(e){function t(n,r){(0,c.default)(this,t);var i=(0,d.default)(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,h.default)(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.disabled,i=t.href,o=t.onClick;return(n||r(i))&&e.preventDefault(),n?void e.stopPropagation():void(o&&o(e))},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,i=(0,a.default)(e,["componentClass","disabled"]);return r(i.href)&&(i.role=i.role||"button",i.href=i.href||"#"),n&&(i.tabIndex=-1,i.style=(0,o.default)({pointerEvents:"none"},i.style)),m.default.createElement(t,(0,o.default)({},i,{onClick:this.handleClick}))},t}(m.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=x,e.exports=exports.default},function(e,exports,t){"use strict";function n(e,t){e&&e.apply(null,[].concat(t))}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.__id||(e.__id=(0,o.uniqueId)("rw_")),(e.props.id||e.__id)+t}function i(e){return e._firstFocus||e.state.focused&&(e._firstFocus=!0)}exports.__esModule=!0,exports.notify=n,exports.instanceId=r,exports.isFirstFocusedRender=i;var o=t(27)},function(e,exports,t){var n=t(226)("wks"),r=t(229),i=t(109).Symbol;e.exports=function(e){return n[e]||(n[e]=i&&i[e]||(i||r)("Symbol."+e))}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var r="",i="",s=t;if("string"==typeof t){if(void 0===n)return e.style[(0,o.default)(t)]||(0,c.default)(e).getPropertyValue((0,a.default)(t));(s={})[t]=n}Object.keys(s).forEach(function(t){var n=s[t];n||0===n?(0,f.default)(t)?i+=t+"("+n+") ":r+=(0,a.default)(t)+": "+n+";":(0,d.default)(e,(0,a.default)(t))}),i&&(r+=p.transform+": "+i+";"),e.style.cssText+=";"+r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(152),o=n(i),s=t(570),a=n(s),l=t(566),c=n(l),u=t(567),d=n(u),p=t(151),h=t(568),f=n(h);e.exports=exports.default},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=exports.default},function(e,exports,t){"use strict";function n(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];a?this[s]=a(n):"target"===s?this.target=r:this[s]=n[s]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return l?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}var r=t(25),i=t(67),o=t(42),s=(t(18),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),a={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),n.Interface=a,n.augmentClass=function(e,t){var n=this,o=function(){};o.prototype=n.prototype;var s=new o;r(s,e.prototype),e.prototype=s,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(n,i.fourArgumentPooler),e.exports=n},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return t}function i(e,t,n){var r="function"==typeof t?t(n):"string"==typeof t?n.refs[t]:n;r&&(e?l.default.findDOMNode(r).setAttribute("aria-activedescendant",e):l.default.findDOMNode(r).removeAttribute("aria-activedescendant"))}exports.__esModule=!0,exports.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return{propTypes:{ariaActiveDescendantKey:s.default.PropTypes.string.isRequired},contextTypes:{activeDescendants:c},childContextTypes:{activeDescendants:c},ariaActiveDescendant:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.ariaActiveDescendantKey,o=this.context.activeDescendants,s=this.__ariaActiveDescendantId;return void 0===n?s:(n=t.call(this,r,n),void 0===n?n=s:(this.__ariaActiveDescendantId=n,i(n,e,this)),void(o&&o.reconcile(r,n)))},getChildContext:function(){var e=this;return this._context||(this._context={activeDescendants:{reconcile:function(t,n){return e.ariaActiveDescendant(n,t)}}})}}};var o=t(1),s=n(o),a=t(43),l=n(a),c=s.default.PropTypes.shape({reconcile:s.default.PropTypes.func});e.exports=exports.default},function(e,exports){"use strict";var t={current:null};e.exports=t},function(e,exports,t){"use strict";var n=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;l=Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=n},function(e,exports){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAIklEQVQ4y2NcJSjIxUBFwMRAZTBq4KiBowaOGjhq4FAxEADOQAD+BEX+dgAAAABJRU5ErkJggg=="},function(e,exports){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAIklEQVQ4y2NcJSgowkBFwMRAZTBq4KiBowaOGjhq4FAxEAANbwEITYL0zQAAAABJRU5ErkJggg=="},function(e,exports){var t=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t(554),o=n(i),s=t(183),a=t(46),l=r({},o.default,{parse:function(e,t,n){return a.date.parse(e,t,n)},format:function(e,t,n){return a.date.format(e,t,n)},monthsInYear:function(e){var t=[0,1,2,3,4,5,6,7,8,9,10,11],n=new Date(e,0,1);return t.map(function(e){return l.month(n,e)})},firstVisibleDay:function(e,t){var n=l.startOf(e,"month");return l.startOf(n,"week",a.date.startOfWeek(t))},lastVisibleDay:function(e,t){var n=l.endOf(e,"month");return l.endOf(n,"week",a.date.startOfWeek(t))},visibleDays:function(e,t){for(var n=l.firstVisibleDay(e,t),r=l.lastVisibleDay(e,t),i=[];l.lte(n,r,"day");)i.push(n),n=l.add(n,1,"day");return i},move:function(e,t,n,r,i){var o,a="month"===r,c=i===s.directions.UP||i===s.directions.DOWN,u=s.calendarViewUnits[r],d=a&&c?"week":s.calendarViewUnits[r],p=a||!c?1:4;return i!==s.directions.UP&&i!==s.directions.LEFT||(p*=-1),o=l.add(e,p,d),l.inRange(o,t,n,u)?o:e},merge:function(e,t,n){return null==t&&null==e?null:(null==t&&(t=n||new Date),null==e&&(e=n||new Date),e=l.startOf(e,"day"),e=l.hours(e,l.hours(t)),e=l.minutes(e,l.minutes(t)),e=l.seconds(e,l.seconds(t)),l.milliseconds(e,l.milliseconds(t)))},sameMonth:function(e,t){return l.eq(e,t,"month")},today:function(){return this.startOf(new Date,"day")},yesterday:function(){return this.add(this.startOf(new Date,"day"),-1,"day")},tomorrow:function(){return this.add(this.startOf(new Date,"day"),1,"day")}});exports.default=l,e.exports=exports.default},function(e,exports){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,r,s,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(r=this._events[e],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),c=r.slice(),s=c.length,l=0;l<s;l++)c[l].apply(this,a);return!0},t.prototype.addListener=function(e,r){var s;if(!n(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(r.listener)?r.listener:r),this._events[e]?i(this._events[e])?this._events[e].push(r):this._events[e]=[this._events[e],r]:this._events[e]=r,i(this._events[e])&&!this._events[e].warned&&(s=o(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},t.prototype.removeListener=function(e,t){var r,o,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,exports,t){var n="undefined"!=typeof JSON?JSON:t(422);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var o=t.space||"";"number"==typeof o&&(o=Array(o+1).join(" "));var s="boolean"==typeof t.cycles&&t.cycles,a=t.replacer||function(e,t){return t},l=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},o={key:r,value:t[r]};return e(i,o)}}}(t.cmp),c=[];return function e(t,u,d,p){var h=o?"\n"+Array(p+1).join(o):"",f=o?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),d=a.call(t,u,d),void 0!==d){if("object"!=typeof d||null===d)return n.stringify(d);if(r(d)){for(var m=[],_=0;_<d.length;_++){var g=e(d,_,d[_],p+1)||n.stringify(null);m.push(h+o+g)}return"["+m.join(",")+h+"]"}if(c.indexOf(d)!==-1){if(s)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(d);for(var v=i(d).sort(l&&l(d)),m=[],_=0;_<v.length;_++){var u=v[_],y=e(d,u,d[u],p+1);if(y){var b=n.stringify(u)+f+y;m.push(h+o+b)}}return c.splice(c.indexOf(d),1),"{"+m.join(",")+h+"}"}}({"":e},"",e,0)};var r=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},i=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,exports,t){var n=t(109),r=t(61),i=t(142),o="prototype",s=function(e,t,a){var l,c,u,d=e&s.F,p=e&s.G,h=e&s.S,f=e&s.P,m=e&s.B,_=e&s.W,exports=p?r:r[t]||(r[t]={}),g=p?n:h?n[t]:(n[t]||{})[o];p&&(a=t);for(l in a)c=!d&&g&&l in g,c&&l in exports||(u=c?g[l]:a[l],exports[l]=p&&"function"!=typeof g[l]?a[l]:m&&c?i(u,n):_&&g[l]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[o]=e[o],t}(u):f&&"function"==typeof u?i(Function.call,u):u,f&&((exports[o]||(exports[o]={}))[l]=u))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,exports){"use strict";function t(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,e.exports=exports.default},[1285,20],function(e,exports,t){"use strict";function n(e){return e.disabled===!0||"disabled"===e.disabled}function r(e){return e.readOnly===!0||"readOnly"===e.readOnly}function i(e,t){return n(t)||s(e,t.disabled,t.valueField)}function o(e,t){return r(t)||s(e,t.readOnly,t.valueField)}function s(e,t,n){return Array.isArray(t)?t.some(function(t){return(0,c.valueMatcher)(e,t,n)}):(0,c.valueMatcher)(e,t,n)}function a(e,t,n,r){for(var s=function(e){return i(e,n)||o(e,n)},a="next"===e?r.last():r.first(),l=r[e](t);l!==a&&s(l);)l=r[e](l);return s(l)?t:l}function l(e){function t(t){return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!(n(this.props)||!e&&r(this.props)))return t.apply(this,o)}}return function(e,n,r){return r.initializer?!function(){var e=r.initializer;r.initializer=function(){return t(e())}}():r.value=t(r.value),r}}exports.__esModule=!0,exports.widgetEditable=exports.widgetEnabled=void 0,exports.isDisabled=n,exports.isReadOnly=r,exports.isDisabledItem=i,exports.isReadOnlyItem=o,exports.contains=s,exports.move=a;var c=t(80);exports.widgetEnabled=l(!0),exports.widgetEditable=l(!1)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,i){n&&(e._notifying=!0,n.call.apply(n,[e,r].concat(i)),e._notifying=!1),e._values[t]=r,e.unmounted||e.forceUpdate()}exports.__esModule=!0;var i=t(785),o=n(i),s={shouldComponentUpdate:function(){return!this._notifying}};exports.default=(0,o.default)(s,r),e.exports=exports.default},,function(e,exports,t){"use strict";function n(){r.attachRefs(this,this._currentElement)}var r=t(701),i=(t(45),t(18),{mountComponent:function(e,t,r,i,o,s){var a=e.mountComponent(t,r,i,o,s);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(n,e),a},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){r.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,i,o){var s=e._currentElement;if(t!==s||o!==e._context){var a=r.shouldUpdateRefs(s,t);a&&r.detachRefs(e,s),e.receiveComponent(t,i,o),a&&e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=i},function(e,exports,t){"use strict";var n=t(25),r=t(764),i=t(184),o=t(769),s=t(765),a=t(766),l=t(81),c=t(768),u=t(770),d=t(773),p=(t(18),l.createElement),h=l.createFactory,f=l.cloneElement,m=n,_={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:d},Component:i,PureComponent:o,createElement:p,cloneElement:f,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:h,createMixin:function(e){return e},DOM:a,version:u,__spread:m};e.exports=_},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O=function(e,t){return function(){return e.apply(t,arguments)}},N=function(e,t){function n(){this.constructor=e}for(var r in t)I.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},I={}.hasOwnProperty;o=2,p=10,i=120,a=300,r=t(63).EventEmitter,b=t(26),T=t(23),k=t(425),f=t(31),x=t(9),E=t(103).sagews,S=t(24),n=t(343).Evaluator,v=t(418).diff_match_patch,y=new v,y.Diff_Timeout=.2,exports.dmp=y,g=x.defaults,C=x.required,m=function(e){var t,n,r,i;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],i.push([r.diffs,r.start1,r.start2,r.length1,r.length2]);return i},_=function(e){var t,n,r,i;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],i.push({diffs:r[0],start1:r[1],start2:r[2],length1:r[3],length2:r[4]});return i},exports.make_patch=w=function(e,t){var n;return n=m(y.patch_make(e,t))},exports.apply_patch=h=function(e,t){var n,r,i,o,s,a,l;try{l=y.patch_apply(_(e),t)}catch(e){return i=e,console.warn("apply_patch -- "+i),[t,!1]}for(r=!0,a=l[1],o=0,s=a.length;o<s;o++)if(n=a[o],!n){r=!1;break}return[l[0],r]},A=function(e,t){return x.cmp_array([e.time-0,e.user_id],[t.time-0,t.user_id])},M=function(e,t){return e-t},exports.three_way_merge=function(e){return e=g(e,{base:C,local:C,remote:C}),e.base===e.remote?e.local:y.patch_apply(y.patch_make(e.base,e.remote),e.local)[0]},s=20,l=function(){function e(){this.size=O(this.size,this),this.oldest_time=O(this.oldest_time,this),this.get=O(this.get,this),this.newest_value_at_most=O(this.newest_value_at_most,this),this.include=O(this.include,this),this.prune=O(this.prune,this),this.invalidate=O(this.invalidate,this),this.cache={}}return e.prototype.invalidate=function(e){var t,n,r,i;if(null==e)return void(this.cache={});r=e-0,n=this.cache;for(i in n)t=n[i],i>=r&&delete this.cache[i]},e.prototype.prune=function(e){var t,n,r,i,o,s,a;s=[],r=this.cache;for(o in r)a=r[o],s.push({time:o,last_used:a.last_used});if(!(s.length<=e))for(s.sort(function(e,t){return x.cmp_Date(e.last_used,t.last_used)}),i=s.slice(0,s.length-e),t=0,n=i.length;t<n;t++)a=i[t],delete this.cache[a.time]},e.prototype.include=function(e,t,n){this.cache[e-0]={time:e,value:t,start:n,last_used:new Date}},e.prototype.newest_value_at_most=function(e,t){var n,r,i,o,s;if(null==t&&(t=!1),s=x.keys(this.cache),0!==s.length){if(s.sort(x.cmp),s.reverse(),null==e)return this.get(s[0]);for(o=e-0,n=0,r=s.length;n<r;n++)if(i=s[n],!t&&i<=o||t&&i<o)return this.get(i)}},e.prototype.get=function(e){var t;if("number"!=typeof e&&(e-=0),t=this.cache[e],null!=t)return t.last_used=new Date,t},e.prototype.oldest_time=function(){var e;if(e=x.keys(this.cache),0!==e.length)return e.sort(x.cmp),new Date(parseInt(e[0]))},e.prototype.size=function(){return x.len(this.cache)},e}(),c=function(e){function t(e){this._from_str=e,this.count=O(this.count,this),this.newest_patch_time=O(this.newest_patch_time,this),this.snapshot_times=O(this.snapshot_times,this),this.time_of_unmade_periodic_snapshot=O(this.time_of_unmade_periodic_snapshot,this),this.show_history=O(this.show_history,this),this.versions=O(this.versions,this),this.patch=O(this.patch,this),this.time_sent=O(this.time_sent,this),this.user_id=O(this.user_id,this),this._validate_snapshots=O(this._validate_snapshots,this),this._value_no_cache=O(this._value_no_cache,this),this.value=O(this.value,this),this.newest_snapshot_time=O(this.newest_snapshot_time,this),this.add=O(this.add,this),this.next_available_time=O(this.next_available_time,this),this.close=O(this.close,this),this._patches=[],this._times={},this._cache=new l,this._snapshot_times={}}return N(t,e),t.prototype.close=function(){return this.removeAllListeners(),delete this._patches,delete this._times,delete this._cache,delete this._snapshot_times},t.prototype.next_available_time=function(e,t,n){var r,i;for(null==t&&(t=0),null==n&&(n=1),i=x.is_date(e)?e-0:e,n<=0&&(n=1),r=t-i%n,r<0&&(r+=n),i+=r;null!=this._times[i];)i+=n;return new Date(i)},t.prototype.add=function(e){var t,n,r,i,o,s,a,l,c;if(0!==e.length){for(a=[],o=void 0,r=0,i=e.length;r<i;r++)if(l=e[r],null!=l){if(!x.is_date(l.time))try{if(l.time=x.ISO_to_Date(l.time),isNaN(l.time))continue}catch(e){n=e;continue}if(s=l.time-0,t=this._times[s],null!=t){if(T.isEqual(t.patch,l.patch)&&t.user_id===l.user_id&&t.snapshot===l.snapshot&&+t.prev===+l.prev)continue;this._patches=function(){var e,t,n,r;for(n=this._patches,r=[],e=0,t=n.length;e<t;e++)c=n[e],c.time-0!==s&&r.push(c);return r}.call(this),this.emit("overwrite",s)}a.push(l),this._times[s]=l,(null==o||o>l.time)&&(o=l.time),null!=l.snapshot&&(this._snapshot_times[s]=!0)}return null!=o&&this._cache.invalidate(o),a.length>0?(delete this._versions_cache,this._patches=this._patches.concat(a),this._patches.sort(A)):void 0}},t.prototype.newest_snapshot_time=function(){var e,t;t=0;for(e in this._snapshot_times)e=parseInt(e),e>t&&(t=e);return new Date(t)},t.prototype.value=function(e,t,n){var r,i,o,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,k,A,C;if(null==t&&(t=!1),null==n&&(n=void 0),null==e||x.is_date(e)||(e=x.ISO_to_Date(e)),null!=n){if(!x.is_array(n))throw Error("without_times must be an array");if(n.length>0){for(w={},A=void 0,l=0,u=n.length;l<u;l++){if(C=n[l],!x.is_date(C))throw Error("each without_times entry must be a date");w[+C]=!0,(null==A||C<A)&&(A=C)}null!=e&&+e<A?(A=void 0,n=void 0):n=w}}if(m=this.newest_snapshot_time(),f=this._cache.oldest_time(),null!=f&&(null==e||+e>=+f)&&(null==A||+A>+f)){for(r=null!=A?this._cache.newest_value_at_most(A,!0):this._cache.newest_value_at_most(e),k=r.value,b=r.start,o=r.time,g=this._patches.slice(r.start,this._patches.length),c=0,d=g.length;c<d&&(C=g[c],!(null!=e&&C.time>e));c++)(null==C.prev||this._times[C.prev-0]||+C.prev>=+m)&&(null==A||null!=A&&!n[+C.time])&&(k=k.apply_patch(C.patch)),o=C.time,b+=1;null==A&&(null==e||b-r.start>=10)&&(this._cache.include(o,k,b),this._cache.prune(Math.max(3,Math.min(Math.ceil(3e7/k.length),s))))}else{if(k=this._from_str(""),b=0,this._patches.length>0)for(a=h=v=this._patches.length-1;v<=0?h<=0:h>=0;a=v<=0?++h:--h)if((null==e||+this._patches[a].time<=+e)&&null!=this._patches[a].snapshot){if(t&&+this._patches[a].time===+e)continue;k=this._from_str(this._patches[a].snapshot),b=a+1;break}for(o=0,i=b,y=this._patches.slice(b,this._patches.length),_=0,p=y.length;_<p&&(C=y[_],!(null!=e&&C.time>e));_++)(null==C.prev||this._times[C.prev-0]||+C.prev>=+m)&&(null==A||null!=A&&!n[+C.time])&&(k=k.apply_patch(C.patch)),o=C.time,i+=1;null==A&&(null==e||o&&i-b>=10)&&(this._cache.include(o,k,i),this._cache.prune(Math.max(3,Math.min(Math.ceil(3e7/k.length),s))))}return k},t.prototype._value_no_cache=function(e,t){var n,r,i,o,s,a,l,c,u;if(null==t&&(t=!0),c=this._from_str(""),l=0,t&&this._patches.length>0)for(n=r=s=this._patches.length-1;s<=0?r<=0:r>=0;n=s<=0?++r:--r)if((null==e||+this._patches[n].time<=+e)&&null!=this._patches[n].snapshot){c=this._from_str(this._patches[n].snapshot),l=n+1;break}for(a=this._patches.slice(l,this._patches.length),i=0,o=a.length;i<o&&(u=a[i],!(null!=e&&u.time>e));i++)c=c.apply_patch(u.patch);return c},t.prototype._validate_snapshots=function(){var e,t,n,r,i,o,s;if(0!==this._patches.length)for(e=0,null!=this._patches[0].snapshot?(e+=1,o=this._from_str(this._patches[0].snapshot)):o=this._from_str(""),r=this._patches.slice(e),t=0,n=r.length;t<n;t++)s=r[t],o=o.apply_patch(s.patch),null!=s.snapshot&&(i=this._from_str(s.snapshot),o.is_equal(i)?console.log("GOOD ("+s.time+"): snapshot at "+e+" by "+s.user_id):(console.log("FAIL ("+s.time+"): at "+e),console.log("diff(snapshot, correct)="),console.log(JSON.stringify(o.make_patch(i))))),e+=1},t.prototype.user_id=function(e){var t;return null!=(t=this.patch(e))?t.user_id:void 0},t.prototype.time_sent=function(e){var t;return null!=(t=this.patch(e))?t.sent:void 0},t.prototype.patch=function(e){var t,n,r,i;for(r=this._patches,t=0,n=r.length;t<n;t++)if(i=r[t],+i.time===+e)return i},t.prototype.versions=function(){var e;return null!=this._versions_cache?this._versions_cache:this._versions_cache=function(){var t,n,r,i;for(r=this._patches,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(e.time);return i}.call(this)},t.prototype.show_history=function(e){var t,n,r,i,o,s,a,l,c,u;for(null==e&&(e={}),e=g(e,{milliseconds:!1,trunc:80,log:console.log}),a=void 0,t=0,i=this.newest_snapshot_time(),o=this._patches,n=0,r=o.length;n<r;n++)u=o[n],c=u.time,c=e.milliseconds?c-0:c.toLocaleString(),e.log("-----------------------------------------------------\n",t,u.user_id,c,x.trunc_middle(JSON.stringify(u.patch),e.trunc)),null==a&&(a=this._from_str(null!=(s=u.snapshot)?s:"")),null==u.prev||this._times[u.prev-0]||+u.prev>=+i?l=a.apply_patch(u.patch):e.log("prev="+u.prev+" missing, so not applying"),a=l,e.log(u.snapshot?"(SNAPSHOT) ":"           ",null!=a?JSON.stringify(x.trunc_middle(a.to_str(),e.trunc).trim()):void 0),t+=1},t.prototype.time_of_unmade_periodic_snapshot=function(e){var t,n,r,i,o,s;if(r=this._patches.length-1,!(r<2*e)){for(t=n=i=r,o=r-2*e;i<=o?n<=o:n>=o;t=i<=o?++n:--n)if(null!=this._patches[t].snapshot)return t+e+e<=r?this._patches[t+e].time:void 0;return t=Math.floor((r-e)/e)*e,null!=(s=this._patches[t])?s.time:void 0}},t.prototype.snapshot_times=function(){var e;return function(){var t,n,r,i;for(r=this._patches,i=[],t=0,n=r.length;t<n;t++)e=r[t],null!=e.snapshot&&i.push(e.time);return i}.call(this)},t.prototype.newest_patch_time=function(){var e;return null!=(e=this._patches[this._patches.length-1])?e.time:void 0},t.prototype.count=function(){return this._patches.length},t}(r),exports.SortedPatchList=c,d=function(e){function t(e){this.has_uncommitted_changes=O(this.has_uncommitted_changes,this),this._handle_patch_update=O(this._handle_patch_update,this),this.__do_save_to_disk_project=O(this.__do_save_to_disk_project,this),this.__save_to_disk_user=O(this.__save_to_disk_user,this),
this._save_to_disk=O(this._save_to_disk,this),this.save_to_disk=O(this.save_to_disk,this),this.hash_of_live_version=O(this.hash_of_live_version,this),this.hash_of_saved_version=O(this.hash_of_saved_version,this),this.has_unsaved_changes=O(this.has_unsaved_changes,this),this.wait_until_read_only_known=O(this.wait_until_read_only_known,this),this.get_read_only=O(this.get_read_only,this),this._set_read_only=O(this._set_read_only,this),this._set_save=O(this._set_save,this),this._load_from_disk=O(this._load_from_disk,this),this._update_watch_path=O(this._update_watch_path,this),this._handle_syncstring_update=O(this._handle_syncstring_update,this),this._handle_offline=O(this._handle_offline,this),this.set_snapshot_interval=O(this.set_snapshot_interval,this),this.get_project_id=O(this.get_project_id,this),this.get_path=O(this.get_path,this),this.show_history=O(this.show_history,this),this.load_full_history=O(this.load_full_history,this),this.has_full_history=O(this.has_full_history,this),this._get_patches=O(this._get_patches,this),this._process_patch=O(this._process_patch,this),this.snapshot_if_necessary=O(this.snapshot_if_necessary,this),this.snapshot=O(this.snapshot,this),this.save=O(this.save,this),this._save_patch=O(this._save_patch,this),this._undelete=O(this._undelete,this),this._save=O(this._save,this),this.save_asap=O(this.save_asap,this),this.get_cursors=O(this.get_cursors,this),this.set_cursor_locs=O(this.set_cursor_locs,this),this._init_cursors=O(this._init_cursors,this),this._init_evaluator=O(this._init_evaluator,this),this._init_patch_list=O(this._init_patch_list,this),this._patch_table_query=O(this._patch_table_query,this),this._load_from_disk_if_newer=O(this._load_from_disk_if_newer,this),this._update_if_file_is_read_only=O(this._update_if_file_is_read_only,this),this.delete_from_database=O(this.delete_from_database,this),this.connect=O(this.connect,this),this.reconnect=O(this.reconnect,this),this.close=O(this.close,this),this.last_changed=O(this.last_changed,this),this.all_versions=O(this.all_versions,this),this.versions=O(this.versions,this),this._set_initialized=O(this._set_initialized,this),this.touch=O(this.touch,this),this.user_id=O(this.user_id,this),this.time_sent=O(this.time_sent,this),this.account_id=O(this.account_id,this),this.init_project_autosave=O(this.init_project_autosave,this),this._init_undo_state=O(this._init_undo_state,this),this.exit_undo_mode=O(this.exit_undo_mode,this),this.in_undo_mode=O(this.in_undo_mode,this),this.redo=O(this.redo,this),this.undo=O(this.undo,this),this.revert=O(this.revert,this),this.version_without=O(this.version_without,this),this.version=O(this.version,this),this.to_str=O(this.to_str,this),this.from_str=O(this.from_str,this),this.get_doc=O(this.get_doc,this),this.set_doc=O(this.set_doc,this);var t,n,r,i;this._opts=e=g(e,{save_interval:1500,cursor_interval:2e3,patch_interval:1e3,file_use_interval:"default",string_id:void 0,project_id:C,path:C,client:C,cursors:!1,from_str:C,doctype:void 0,from_patch_str:JSON.parse}),null==e.string_id&&(e.string_id=S.client_db.sha1(e.project_id,e.path)),this._closed=!0,this._string_id=e.string_id,this._project_id=e.project_id,this._path=e.path,this._client=e.client,this._from_str=e.from_str,this._from_patch_str=e.from_patch_str,this._doctype=e.doctype,this._patch_format=e.doctype.patch_format,this._save_interval=e.save_interval,this._patch_interval=e.patch_interval,this._my_patches={},this.connect(function(e){return function(t){return t?(console.warn("error creating SyncDoc: '"+t+"'"),e.emit("error",t)):e._client.is_project()?e.init_project_autosave():e._undelete()}}(this)),e.file_use_interval&&this._client.is_user()&&(r="sage-chat"===x.filename_extension(this._path),t=r?"chat":"edit",n=function(n){return function(){return n._client.mark_file({project_id:n._project_id,path:n._path,action:t,ttl:e.file_use_interval})}}(this),this.on("user_change",T.throttle(n,e.file_use_interval,!0))),e.cursors&&(i=function(e){return function(t){var n,r;return r={string_id:e._string_id,user_id:e._user_id,locs:t,time:e._client.server_time()},null!=(n=e._cursors)?n.set(r,"none"):void 0}}(this),this._throttled_set_cursor_locs=T.throttle(i,this._opts.cursor_interval))}return N(t,e),t.prototype.set_doc=function(e){if(null==(null!=e?e.apply_patch:void 0))throw Error("value must be a document object with apply_patch, etc., methods");this._doc=e},t.prototype.get_doc=function(){return this._doc},t.prototype.from_str=function(e){this._doc=this._from_str(e)},t.prototype.to_str=function(){var e;return null!=(e=this._doc)&&"function"==typeof e.to_str?e.to_str():void 0},t.prototype.dbg=function(e){return this._client.dbg("SyncString."+e+":")},t.prototype.version=function(e){var t;return null!=(t=this._patch_list)?t.value(e):void 0},t.prototype.version_without=function(e){return this._patch_list.value(void 0,void 0,e)},t.prototype.revert=function(e){this.set_doc(this.version(e))},t.prototype.undo=function(){var e,t,n,r;return t=this._undo_state,null==t&&(t=this._undo_state=this._init_undo_state()),t.pointer===t.my_times.length?(r=this.version(),e=this._doc,e.is_equal(r)?(n=t.my_times[t.pointer-1],t.pointer-=2,null!=n?(t.without.push(n),this.version_without(t.without)):r):(t.final=r.make_patch(e),t.pointer-=1,r)):(t.pointer>=0&&(t.without.push(t.my_times[t.pointer]),t.pointer-=1),this.version_without(t.without))},t.prototype.redo=function(){var e;return e=this._undo_state,null==e?this.get_doc():e.pointer===e.my_times.length?this.get_doc():e.pointer===e.my_times.length-1?(e.pointer+=1,this.version().apply_patch(e.final)):(e.without.pop(),e.pointer+=1,null==e.final&&e.pointer===e.my_times.length-1&&(e.pointer+=1),this.version_without(e.without))},t.prototype.in_undo_mode=function(){return null!=this._undo_state},t.prototype.exit_undo_mode=function(){return delete this._undo_state},t.prototype._init_undo_state=function(){var e,t;return null!=this._undo_state&&this._undo_state,e=this._undo_state={},e.my_times=function(){var e,n,r,i;for(r=x.keys(this._my_patches),i=[],e=0,n=r.length;e<n;e++)t=r[e],i.push(new Date(parseInt(t)));return i}.call(this),e.my_times.sort(x.cmp_Date),e.pointer=e.my_times.length,e.without=[],e},t.prototype.init_project_autosave=function(){var e;if(i&&this._client.is_project()&&null==this._project_autosave)return e=function(e){return function(){if(null!=e.hash_of_saved_version()&&e.has_unsaved_changes())return e._save_to_disk()}}(this),this._project_autosave=setInterval(e,1e3*i)},t.prototype.account_id=function(e){return this._users[this.user_id(e)]},t.prototype.time_sent=function(e){return this._patch_list.time_sent(e)},t.prototype.user_id=function(e){return this._patch_list.user_id(e)},t.prototype.touch=function(e){var t,n;if(null==e&&(e=5),!this._client.is_project()&&(!(e>0)||(t=null!=(n=this._syncstring_table)?n.get_one().get("last_active"):void 0,null==t||+t<=+x.server_minutes_ago(e))))return this._client.query({query:{syncstrings:{string_id:this._string_id,project_id:this._project_id,path:this._path,deleted:this._deleted,last_active:x.server_time(),doctype:x.to_json(this._doctype)}}})},t.prototype._set_initialized=function(e,t){var n;return n={time:x.server_time()},e?n.error="error - "+JSON.stringify(e):n.error="",this._client.query({query:{syncstrings:{string_id:this._string_id,project_id:this._project_id,path:this._path,init:n}},cb:t})},t.prototype.versions=function(){var e;return e=[],this._patches_table.get().map(function(t){return function(t,n){return e.push(t.get("time"))}}(this)),e.sort(M),e},t.prototype.all_versions=function(){var e;return null!=(e=this._patch_list)?e.versions():void 0},t.prototype.last_changed=function(){var e;return e=this.versions(),e.length>0?e[e.length-1]:new Date(0)},t.prototype.close=function(){var e,t,n,r,i;if(!this._closed)return this.emit("close"),this.removeAllListeners(),this._closed=!0,null!=this._periodically_touch&&(clearInterval(this._periodically_touch),delete this._periodically_touch),null!=this._project_autosave&&(clearInterval(this._project_autosave),delete this._project_autosave),delete this._cursor_throttled,delete this._cursor_map,delete this._users,null!=(e=this._syncstring_table)&&e.close(),delete this._syncstring_table,null!=(t=this._patches_table)&&t.close(),delete this._patches_table,null!=(n=this._patch_list)&&n.close(),delete this._patch_list,null!=(r=this._cursors)&&r.close(),delete this._cursors,this._client.is_project()&&this._update_watch_path(),null!=(i=this._evaluator)&&i.close(),delete this._evaluator},t.prototype.reconnect=function(e){return this.close(),this.connect(e)},t.prototype.connect=function(e){var t;return this._closed?(this.touch(0),t={syncstrings:{string_id:this._string_id,project_id:this._project_id,path:this._path,deleted:null,users:null,last_snapshot:null,snapshot_interval:null,save:null,last_active:null,init:null,read_only:null,last_file_change:null,doctype:null}},this._syncstring_table=this._client.sync_table(t),this._syncstring_table.once("connected",function(t){return function(){return t._handle_syncstring_update(),t._syncstring_table.on("change",t._handle_syncstring_update),f.series([function(e){return f.parallel([t._init_patch_list,t._init_cursors,t._init_evaluator],e)},function(e){return t._closed=!1,t._client.is_user()&&null==t._periodically_touch&&(t.touch(1),t._periodically_touch=setInterval(function(){return t.touch(p/2)},6e4*p)),t._client.is_project()?t._load_from_disk_if_newer(e):e()}],function(n){return t._closed?void e():(t._syncstring_table.wait({until:function(e){var t;return null!=(t=e.get_one())?t.get("init"):void 0},cb:function(e,n){return t.emit("init",null!=e?e:n.toJS().error)}}),n?e(n):(t.emit("change"),t.emit("connected"),e()))})}}(this))):void e("already connected")},t.prototype.delete_from_database=function(e){return f.parallel([function(e){return function(t){return e._client.query({query:{patches_delete:{id:[e._string_id],dummy:null}},cb:t})}}(this),function(e){return function(t){return e._client.query({query:{syncstrings_delete:{project_id:e._project_id,path:e._path}},cb:t})}}(this)],function(t){return function(t){return"function"==typeof e?e(t):void 0}}(this))},t.prototype._update_if_file_is_read_only=function(e){return this._client.path_access({path:this._path,mode:"w",cb:function(t){return function(n){return t._set_read_only(!!n),"function"==typeof e?e():void 0}}(this)})},t.prototype._load_from_disk_if_newer=function(e){var t,n,r;return r=this.last_changed(),t=this._client.dbg("syncstring._load_from_disk_if_newer('"+this._path+"')"),n=void 0,f.series([function(e){return function(r){return t("check if path exists"),e._client.path_exists({path:e._path,cb:function(e,t){return e?r(e):(n=t,r())}})}}(this),function(e){return function(i){return n?null!=r?(t("edited before, so stat file"),e._client.path_stat({path:e._path,cb:function(n,o){return n?i(n):o.ctime>r?(t("disk file changed more recently than edits, so loading"),e._load_from_disk(i)):(t("stick with database version"),i())}})):(t("never edited before"),n?(t("path exists, so load from disk"),e._load_from_disk(i)):i()):(t("file does NOT exist"),e._set_read_only(!1),void i())}}(this),function(e){return function(t){return n?e._update_if_file_is_read_only(t):t()}}(this)],function(t){return function(n){return t._set_initialized(n,e)}}(this))},t.prototype._patch_table_query=function(e){var t;return t={string_id:this._string_id,time:e?{">=":e}:null,patch:null,user_id:null,snapshot:null,sent:null,prev:null},null!=this._patch_format&&(t.format=this._patch_format),t},t.prototype._init_patch_list=function(e){var t;return delete this._patch_list,t=new c(this._from_str),this._patches_table=this._client.sync_table({patches:this._patch_table_query(this._last_snapshot)},void 0,this._patch_interval,this._patch_interval),this._patches_table.once("connected",function(n){return function(){var r;return t.add(n._get_patches()),r=t.value(),n._last=n._doc=r,n._patches_table.on("change",n._handle_patch_update),n._patches_table.on("before-change",function(){return n.emit("before-change")}),n._patch_list=t,e()}}(this)),this._patches_table.on("saved",function(e){return function(t){return e._handle_offline(t)}}(this))},t.prototype._init_evaluator=function(e){return"sagews"===x.filename_extension(this._path)?this._evaluator=new n(this,e):e()},t.prototype._init_cursors=function(e){var t,n;return this._client.is_user()?this._opts.cursors?(n={cursors:{string_id:this._string_id,user_id:null,locs:null,time:null}},this._cursors=this._client.sync_table(n),this._cursors.once("connected",function(t){return function(){return t._cursor_map=b.Map(),t._cursors.get().map(function(e,n){var r;return t._cursor_map=t._cursor_map.set(t._users[null!=(r=JSON.parse(n))?r[1]:void 0],e)}),e()}}(this)),this._cursor_map=void 0,this._cursor_throttled={},t=function(e){return function(t){var n,r;return r=e._cursor_throttled[t],null==r&&(n=function(){return e.emit("cursor_activity",t)},r=e._cursor_throttled[t]=T.throttle(n,e._opts.cursor_interval)),r()}}(this),this._cursors.on("change",function(e){return function(n){var r,i,o,s,a,l;if(!e._closed){for(l=[],i=0,s=n.length;i<s;i++)o=n[i],r=e._users[null!=(a=JSON.parse(o))?a[1]:void 0],e._cursor_map=e._cursor_map.set(r,e._cursors.get(o)),l.push(t(r));return l}}}(this))):void e():e()},t.prototype.set_cursor_locs=function(e){this._closed||this._users.length<=2||"function"==typeof this._throttled_set_cursor_locs&&this._throttled_set_cursor_locs(e)},t.prototype.get_cursors=function(){return this._cursor_map},t.prototype.save_asap=function(e){return this._save(e)},t.prototype._save=function(e){var t,n,r;return this._closed?void("function"==typeof e&&e("string closed")):null==this._last?void("function"==typeof e&&e("string not initialized")):this._last.is_equal(this._doc)?void("function"==typeof e&&e()):this._saving?void("function"==typeof e&&e("saving")):(this._saving=!0,n=this._last.make_patch(this._doc),null==n?(this._saving=!1,void("function"==typeof e&&e())):(this._last=this._doc,r=this._client.server_time(),t=this._patch_list.newest_patch_time(),null!=t&&t>=r&&(r=new Date(t-0+1)),r=this._patch_list.next_available_time(r,this._user_id,this._users.length),this._save_patch(r,n,e),this.snapshot_if_necessary(),this.emit("user_change"),this._saving=!1))},t.prototype._undelete=function(){if(!this._closed)return this._syncstring_table.set(this._syncstring_table.get_one().set("deleted",!1))},t.prototype._save_patch=function(e,t,n){var r,i,o;return this._closed?void("function"==typeof n&&n("closed")):(r={string_id:this._string_id,time:e,patch:JSON.stringify(t),user_id:this._user_id},null!=this._patch_format&&(r.format=this._patch_format),this._deleted&&this._undelete(),null!=this._save_patch_prev&&(r.prev=this._save_patch_prev),this._save_patch_prev=e,this._my_patches[e-0]=r,null!=(i=this._undo_state)&&i.without.unshift(e),o=this._patches_table.set(r,"none",n),this._patch_list.add([this._process_patch(o,void 0,void 0,t)]))},t.prototype.save=function(e){null==this._save_debounce&&(this._save_debounce={}),x.async_debounce({f:this._save,interval:this._save_interval,state:this._save_debounce,cb:e})},t.prototype.snapshot=function(e,t){var n,r;if(null==t&&(t=!1),!x.is_date(e))throw Error("time must be a date");return r=this._patch_list.patch(e),null==r?void console.warn("no patch at time "+e):null==r.snapshot||t?(n={string_id:this._string_id,time:e,patch:JSON.stringify(r.patch),snapshot:this._patch_list.value(e,t).to_str(),user_id:r.user_id},t&&(n.sent=e),r.snapshot=n.snapshot,this._patches_table.set(n,"none",function(t){return function(n){return n?console.warn("failed to save snapshot -- "+n):(t._syncstring_table.set({string_id:t._string_id,project_id:t._project_id,path:t._path,last_snapshot:e}),t._last_snapshot=e)}}(this)),e):void 0},t.prototype.snapshot_if_necessary=function(){var e;if(e=this._patch_list.time_of_unmade_periodic_snapshot(this._snapshot_interval),null!=e)return this.snapshot(e)},t.prototype._process_patch=function(e,t,n,r){var i,o,s,a,l,c,u,d;if(null!=e){if(u=e.get("time"),!x.is_date(u))try{if(u=x.ISO_to_Date(u),isNaN(u))return}catch(e){return void(i=e)}if(d=e.get("user_id"),l=e.get("sent"),s=e.get("prev"),!(null!=t&&u<t||null!=n&&u>n))return null==r&&(r=JSON.parse(null!=(a=e.get("patch"))?a:"[]")),c=e.get("snapshot"),o={time:u,user_id:d,patch:r},null!=l&&(o.sent=l),null!=s&&(o.prev=s),null!=c&&(o.snapshot=c),o}},t.prototype._get_patches=function(e,t){var n,r;return null==e&&(e=this._last_snapshot),n=this._patches_table.get(),r=[],n.map(function(n){return function(i,o){var s;if(s=n._process_patch(i,e,t),null!=s)return r.push(s)}}(this)),r.sort(A),r},t.prototype.has_full_history=function(){return!this._last_snapshot||this._load_full_history_done},t.prototype.load_full_history=function(e){var t,n;return t=this.dbg("load_full_history"),t(),this.has_full_history()?void("function"==typeof e&&e()):(n=this._patch_table_query(),this._client.query({query:{patches:[n]},cb:function(t){return function(n,r){var i;return n?"function"==typeof e?e(n):void 0:(i=[],b.fromJS(r.query.patches).forEach(function(e){var n;if(n=t._process_patch(e,0,t._last_snapshot),null!=n)return i.push(n)}),t._patch_list.add(i),t._load_full_history_done=!0,"function"==typeof e?e():void 0)}}(this)}))},t.prototype.show_history=function(e){return this._patch_list.show_history(e)},t.prototype.get_path=function(){return this._path},t.prototype.get_project_id=function(){return this._project_id},t.prototype.set_snapshot_interval=function(e){this._syncstring_table.set(this._syncstring_table.get_one().set("snapshot_interval",e))},t.prototype._handle_offline=function(e){var t,n,r,i,o,s,l,c,u,d;if(!this._closed){for(o=x.server_time(),l=void 0,t=0,r=e.length;t<r;t++)s=e[t],s.sent||o-s.time>=1e3*a&&(s.sent=o,this._patches_table.set(s),(null==l||s.time<l)&&(l=s.time));if(l){for(c=this._patch_list.snapshot_times(),u=[],n=0,i=c.length;n<i;n++)d=c[n],d-l>=0?u.push(this.snapshot(d,!0)):u.push(void 0);return u}}},t.prototype._handle_syncstring_update=function(){var e,t,n,r,i;if(null!=this._syncstring_table)return i=null!=(n=this._syncstring_table.get_one())?n.toJS():void 0,e=this._client.client_id(),null==i||null==i.users?(this._last_snapshot=void 0,this._snapshot_interval=S.SCHEMA.syncstrings.user_query.get.fields.snapshot_interval,this._user_id=0,this._users=[e],t={string_id:this._string_id,project_id:this._project_id,path:this._path,last_snapshot:this._last_snapshot,users:this._users,deleted:this._deleted,doctype:x.to_json(this._doctype)},this._syncstring_table.set(t),this.emit("metadata-change")):(this._last_snapshot=i.last_snapshot,this._snapshot_interval=i.snapshot_interval,this._users=i.users,this._project_id=i.project_id,this._path=i.path,null!=this._deleted&&i.deleted&&!this._deleted&&this.emit("deleted"),this._deleted=i.deleted,this._user_id=null!=(r=this._users)?r.indexOf(e):void 0,this._user_id===-1&&(this._user_id=this._users.length,this._users.push(e),this._syncstring_table.set({string_id:this._string_id,project_id:this._project_id,path:this._path,users:this._users})),this._client.is_project()?f.series([function(e){return function(t){return null!=e._patch_list?t():e.once("connected",function(){return t()})}}(this),function(e){return function(t){return null!=i.project_id&&e._watch_path!==i.path?e._update_watch_path(i.path,t):t()}}(this),function(e){return function(t){var n;return"requested"===(null!=(n=i.save)?n.state:void 0)?e._save_to_disk(t):t()}}(this)],function(e){return function(t){return t&&e.dbg("_handle_syncstring_update")("POSSIBLY UNHANDLED ERROR -- "+t),e.emit("metadata-change")}}(this)):void this.emit("metadata-change"))},t.prototype._update_watch_path=function(e,t){var n;return n=this._client.dbg("_update_watch_path('"+e+"')"),null!=this._file_watcher&&(n("close"),this._file_watcher.close(),delete this._file_watcher,delete this._watch_path),null==e?(n("not opening another watcher"),void("function"==typeof t&&t())):null!=this._watch_path?(n("watch_path already defined"),void("function"==typeof t&&t())):(n("opening watcher"),this._watch_path=e,f.series([function(t){return function(r){return t._client.path_exists({path:e,cb:function(i,o){var s,a;return i?r(i):o?r():(n("write '"+e+"' to disk from syncstring in-memory database version"),s=null!=(a=t.to_str())?a:"",t._client.write_file({path:e,data:s,cb:function(t){return n("wrote '"+e+"' to disk -- now calling cb"),r(t)}}))}})}}(this),function(t){return function(r){return n("now requesting to watch file"),t._file_watcher=t._client.watch_file({path:e}),t._file_watcher.on("change",function(){return n("event change"),t._closed?void t._file_watcher.close():void(t._save_to_disk_just_happened?(n("@_save_to_disk_just_happened"),t._save_to_disk_just_happened=!1):(n("_load_from_disk"),t._load_from_disk()))}),t._file_watcher.on("delete",function(){return n("event delete"),t._closed?void t._file_watcher.close():(n("delete: setting deleted=true and closing"),t.from_str(""),void t.save(function(){return t._syncstring_table.set(t._syncstring_table.get_one().set("deleted",!0)),t._syncstring_table.save(function(){return t.close()})}))}),r()}}(this)],function(e){return function(e){return"function"==typeof t?t(e):void 0}}(this)))},t.prototype._load_from_disk=function(e){var t,n,r;return r=this.get_path(),t=this._client.dbg("syncstring._load_from_disk('"+r+"')"),t(),this._load_from_disk_lock?void("function"==typeof e&&e("lock")):(this._load_from_disk_lock=!0,n=void 0,f.series([function(e){return function(i){return e._client.path_exists({path:r,cb:function(r,o){return n=o,n||(t("file no longer exists"),e.from_str("")),i(r)}})}}(this),function(e){return function(t){return n?e._update_if_file_is_read_only(t):t()}}(this),function(e){return function(i){return n?e._client.path_read({path:r,maxsize_MB:o,cb:function(n,r){return n?(t("failed -- "+n),i(n)):(t("got it -- length="+(null!=r?r.length:void 0)),e.from_str(r),e._set_save({state:"done",error:!1,hash:x.hash_string(r)}),i())}}):void i()}}(this),function(e){return function(t){return e._save(t)}}(this)],function(t){return function(n){return t._load_from_disk_lock=!1,"function"==typeof e?e(n):void 0}}(this)))},t.prototype._set_save=function(e){var t,n;this._closed||null!=(t=this._syncstring_table)&&"function"==typeof t.set&&t.set(null!=(n=this._syncstring_table.get_one())?n.set("save",b.fromJS(e)):void 0)},t.prototype._set_read_only=function(e){var t,n;this._closed||null!=(t=this._syncstring_table)&&"function"==typeof t.set&&t.set(null!=(n=this._syncstring_table.get_one())?n.set("read_only",e):void 0)},t.prototype.get_read_only=function(){var e,t;if(!this._closed)return null!=(e=this._syncstring_table)&&null!=(t=e.get_one())?t.get("read_only"):void 0},t.prototype.wait_until_read_only_known=function(e){return null==this._syncstring_table?void e("@_syncstring_table must be defined"):this._syncstring_table.wait({until:function(e){return function(e){var t;return null!=(null!=(t=e.get_one())?t.get("read_only"):void 0)}}(this),cb:e})},t.prototype.has_unsaved_changes=function(){return this.hash_of_live_version()!==this.hash_of_saved_version()},t.prototype.hash_of_saved_version=function(){var e,t;return null!=(e=this._syncstring_table)&&null!=(t=e.get_one())?t.getIn(["save","hash"]):void 0},t.prototype.hash_of_live_version=function(){var e,t;if(t=null!=(e=this._doc)&&"function"==typeof e.to_str?e.to_str():void 0,null!=t)return x.hash_string(t)},t.prototype.save_to_disk=function(e){var t;return this.has_unsaved_changes()?(this._save_to_disk(),null==this._syncstring_table?void e("@_syncstring_table must be defined"):null!=e?(t=function(e){return function(t){return null==e._syncstring_table?void t(!0):e._syncstring_table.wait({until:function(e){var t;return"done"===(null!=(t=e.get_one())?t.getIn(["save","state"]):void 0)},timeout:10,cb:function(n){return n||(n=e._syncstring_table.get_one().getIn(["save","error"])),n&&e.touch(0),t(n)}})}}(this),x.retry_until_success({f:t,max_tries:5,cb:e})):void 0):void("function"==typeof e&&e())},t.prototype._save_to_disk=function(e){return this._client.is_user()?(this.__save_to_disk_user(),void("function"==typeof e&&e())):null!=this._saving_to_disk_cbs?void this._saving_to_disk_cbs.push(e):(this._saving_to_disk_cbs=[e],this.__do_save_to_disk_project(function(t){return function(n){var r,i,o;for(o=t._saving_to_disk_cbs,delete t._saving_to_disk_cbs,r=0,i=o.length;r<i;r++)e=o[r],"function"==typeof e&&e(n);return t.emit("save_to_disk_project",n)}}(this)))},t.prototype.__save_to_disk_user=function(){if(!this._closed&&this.has_unsaved_changes())return this.touch(),this._set_save({state:"requested",error:!1})},t.prototype.__do_save_to_disk_project=function(e){var t,n,r;return t=this.to_str(),n=x.hash_string(t),n===this.hash_of_saved_version()?(this._set_save({state:"done",error:!1,hash:n}),void e()):(r=this.get_path(),null==r?void e("not yet initialized"):r?(this._save_to_disk_just_happened=!0,this._client.write_file({path:r,data:t,cb:function(n){return function(r){return r?n._set_save({state:"done",error:r}):n._set_save({state:"done",error:!1,hash:x.hash_string(t)}),e(r)}}(this)})):(this._set_save({state:"done",error:"cannot save without path"}),void e("cannot save without path")))},t.prototype._handle_patch_update=function(e){var t,n,r,i;if(!this._closed&&null!=e&&null!=this._patch_list){this._patch_list.add(function(){var t,r,i;for(i=[],t=0,r=e.length;t<r;t++)n=e[t],i.push(this._process_patch(this._patches_table.get(n)));return i}.call(this)),this._save(),r=this._patch_list.value();try{t=!(null!=(i=this._doc)?i.is_equal(r):void 0)}catch(e){t=!0}return t?(this._last=this._doc=r,this.emit("change")):void 0}},t.prototype.has_uncommitted_changes=function(){var e;return null!=(e=this._patches_table)?e.has_uncommitted_changes():void 0},t}(r),exports.SyncDoc=d,u=function(){function e(e){this._value=null!=e?e:"",this.make_patch=O(this.make_patch,this),this.apply_patch=O(this.apply_patch,this),this.is_equal=O(this.is_equal,this),this.to_str=O(this.to_str,this)}return e.prototype.to_str=function(){return this._value},e.prototype.is_equal=function(e){return this._value===(null!=e?e._value:void 0)},e.prototype.apply_patch=function(t){return new e(h(t,this._value)[0])},e.prototype.make_patch=function(e){if(null!=this._value&&null!=(null!=e?e._value:void 0))return w(this._value,e._value)},e}(),exports._testStringDocument=u,exports.SyncString=function(e){function t(e){var n;e=g(e,{id:void 0,client:C,project_id:void 0,path:void 0,save_interval:void 0,patch_interval:void 0,file_use_interval:void 0,cursors:!1}),n=function(e){return new u(e)},t.__super__.constructor.call(this,{string_id:e.id,client:e.client,project_id:e.project_id,path:e.path,save_interval:e.save_interval,patch_interval:e.patch_interval,file_use_interval:e.file_use_interval,cursors:e.cursors,from_str:n,doctype:{type:"string"}})}return N(t,e),t}(d),j=t(104),exports.TestBrowserClient1=function(e){function t(e,t){this._client_id=e,this._debounce_interval=null!=t?t:0,this.client_id=O(this.client_id,this),this.sync_string=O(this.sync_string,this),this.sync_table=O(this.sync_table,this),this.server_time=O(this.server_time,this),this.mark_file=O(this.mark_file,this),this.is_user=O(this.is_user,this)}return N(t,e),t.prototype.is_user=function(){return!0},t.prototype.mark_file=function(){},t.prototype.server_time=function(){return new Date},t.prototype.sync_table=function(e,t,n){return null==n&&(n=0),n=this._debounce_interval,j.sync_table(e,t,this,n,0,!1)},t.prototype.sync_string=function(e){return e=g(e,{id:void 0,project_id:void 0,path:void 0,file_use_interval:"default",cursors:!1,save_interval:0}),e.client=this,new exports.SyncString(e)},t.prototype.client_id=function(){return this._client_id},t}(j.TestBrowserClient1)},,function(e,exports,t){e.exports={default:t(525),__esModule:!0}},function(e,exports){"use strict";function t(e){return e&&e.ownerDocument||document}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(54),o=n(i);exports.default=function(){return o.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):r(e,t)}:r}(),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){if(m){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)_(t,n[r],null);else null!=e.html?u(t,e.html):null!=e.text&&p(t,e.text)}}function r(e,t){e.parentNode.replaceChild(t.node,e),n(t)}function i(e,t){m?e.children.push(t):e.node.appendChild(t.node)}function o(e,t){m?e.html=t:u(e.node,t)}function s(e,t){m?e.text=t:p(e.node,t)}function a(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:a}}var c=t(163),u=t(120),d=t(171),p=t(279),h=1,f=11,m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),_=d(function(e,t,r){t.node.nodeType===f||t.node.nodeType===h&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(n(t),e.insertBefore(t.node,r)):(e.insertBefore(t.node,r),n(t))});l.insertTreeBefore=_,l.replaceChildWithTree=r,l.queueChild=i,l.queueHTML=o,l.queueText=s,e.exports=l},function(e,exports,t){"use strict";function n(e,t){return(e&t)===t}var r=t(20),i=(t(14),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,o=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},u=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var d in o){s.properties.hasOwnProperty(d)?r("48",d):void 0;var p=d.toLowerCase(),h=o[d],f={attributeName:p,attributeNamespace:null,propertyName:d,mutationMethod:null,mustUseProperty:n(h,t.MUST_USE_PROPERTY),hasBooleanValue:n(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:n(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r("50",d),l.hasOwnProperty(d)){var m=l[d];f.attributeName=m}a.hasOwnProperty(d)&&(f.attributeNamespace=a[d]),c.hasOwnProperty(d)&&(f.propertyName=c[d]),u.hasOwnProperty(d)&&(f.mutationMethod=u[d]),s.properties[d]=f}}}),o=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:o,ATTRIBUTE_NAME_CHAR:o+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};e.exports=s},function(e,exports,t){"use strict";function n(e,t){var n=e;return"function"==typeof t?n=t(e):null==e?n=e:"string"==typeof t&&"object"===(void 0===e?"undefined":l(e))&&t in e&&(n=e[t]),n}function r(e,t){return t&&e&&(0,c.has)(e,t)?e[t]:e}function i(e,t){var r=n(e,t);return null==r?"":r+""}function o(e,t,n){for(var r=-1,i=e.length,o=function(e){return s(t,e,n)};++r<i;){var a=e[r];if(a===t||o(a))return r}return-1}function s(e,t,n){return(0,c.isShallowEqual)(r(e,n),r(t,n))}function a(e,t,n){var i=o(e,r(t,n),n);return i!==-1?e[i]:t}exports.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.dataValue=r,exports.dataText=i,exports.dataIndexOf=o,
exports.valueMatcher=s,exports.dataItem=a;var c=t(27)},function(e,exports,t){"use strict";function n(e){return void 0!==e.ref}function r(e){return void 0!==e.key}var i=t(25),o=t(57),s=(t(18),t(296),Object.prototype.hasOwnProperty),a=t(295),l={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,o,s){var l={$$typeof:a,type:e,key:t,ref:n,props:s,_owner:o};return l};c.createElement=function(e,t,i){var a,u={},d=null,p=null,h=null,f=null;if(null!=t){n(t)&&(p=t.ref),r(t)&&(d=""+t.key),h=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source;for(a in t)s.call(t,a)&&!l.hasOwnProperty(a)&&(u[a]=t[a])}var m=arguments.length-2;if(1===m)u.children=i;else if(m>1){for(var _=Array(m),g=0;g<m;g++)_[g]=arguments[g+2];u.children=_}if(e&&e.defaultProps){var v=e.defaultProps;for(a in v)void 0===u[a]&&(u[a]=v[a])}return c(e,d,p,h,f,o.current,u)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,a){var u,d=i({},e.props),p=e.key,h=e.ref,f=e._self,m=e._source,_=e._owner;if(null!=t){n(t)&&(h=t.ref,_=o.current),r(t)&&(p=""+t.key);var g;e.type&&e.type.defaultProps&&(g=e.type.defaultProps);for(u in t)s.call(t,u)&&!l.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==g?d[u]=g[u]:d[u]=t[u])}var v=arguments.length-2;if(1===v)d.children=a;else if(v>1){for(var y=Array(v),b=0;b<v;b++)y[b]=arguments[b+2];d.children=y}return c(e.type,p,h,f,m,_,d)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},e.exports=c},20,function(e,exports,t){/*
	Supplies the interface for creating file editors in the webapp

	---

	 SageMathCloud: A collaborative web-based interface to Sage, IPython, LaTeX and the Terminal.

	    Copyright (C) 2016, SageMath, Inc.

	    This program is free software: you can redistribute it and/or modify
	    it under the terms of the GNU General Public License as published by
	    the Free Software Foundation, either version 3 of the License, or
	    (at your option) any later version.

	    This program is distributed in the hope that it will be useful,
	    but WITHOUT ANY WARRANTY; without even the implied warranty of
	    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	    GNU General Public License for more details.

	    You should have received a copy of the GNU General Public License
	    along with this program.  If not, see <http://www.gnu.org/licenses/>.
	 */
var n,r,i,o,s,a,l,c,u,d,p,h,f;c=t(9),d=t(12),n=d.React,r=d.ReactDOM,f=d.rtypes,u=d.rclass,i=d.Redux,p=t(9),l=p.filename_extension,o=p.defaults,h=p.required,s=t(40).file_associations,a={true:{},false:{}},exports.register_file_editor=function(e){var t,n,r,i,s;for(e=o(e,{ext:h,is_public:!1,component:void 0,generator:void 0,init:void 0,remove:void 0,icon:"file-o",save:void 0}),"string"==typeof e.ext&&(e.ext=[e.ext]),i=e.ext,s=[],n=0,r=i.length;n<r;n++)t=i[n],s.push(a[!!e.is_public][t]={icon:e.icon,component:e.component,generator:e.generator,init:e.init,remove:e.remove,save:e.save});return s},exports.initialize=function(e,t,n,r){var i,o,s;return r=!!r,o=l(e).toLowerCase(),i=null!=(s=a[r][o])?s:a[r][""],null!=i&&"function"==typeof i.init?i.init(e,t,n):void 0},exports.generate=function(e,t,r,i){var o,s,c,u,d;return i=!!i,c=l(e).toLowerCase(),s=null!=(d=a[i][c])?d:a[i][""],u=s.generator,null!=u?u(e,t,r):(o=s.component,null==o?function(){return n.createElement("div",null,"No editor for ",e," or fallback editor yet")}:o)},exports.remove=function(e,n,r,i){var o,s,u,d,p;if(null!=e)return"string"!=typeof e?void console.warn("BUG -- remove called on path of type '"+typeof e+"'",e,r):(i=!!i,o=l(e).toLowerCase(),p=null!=(s=null!=(u=a[i][o])?u.remove:void 0)?s:null!=(d=a[i][""])?d.remove:void 0,"function"==typeof p&&p(e,n,r),t(197).remove_redux(c.meta_file(e,"chat"),n,r))},exports.save=function(e,t,n,r){var i,o,s,c,u;return null==e?void console.warn("WARNING: save(undefined path)"):(r=!!r,i=l(e).toLowerCase(),u=null!=(o=null!=(s=a[r][i])?s.save:void 0)?o:null!=(c=a[r][""])?c.save:void 0,"function"==typeof u?u(e,t,n):void 0)},exports.special_filenames_with_no_extension=function(){var e,t,n,r,i;for(r=Object.keys(s),i=[],e=0,t=r.length;e<t;e++)n=r[e],"noext-"===n.slice(0,6)&&i.push(n.slice(6));return i},t(908),t(864),t(859),t(865),t(866),t(802),t(905),t(904),t(40).register_nonreact_editors()},function(e,exports){function t(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function o(){f&&p&&(f=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!f){var e=r(o);f=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,f=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var c,u,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var p,h=[],f=!1,m=-1;d.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||f||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,exports,t){"use strict";var n={};e.exports=n},function(e,exports,t){var n,r,i,o,s,a=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=t(9),r=t(600),r.setOptions({renderer:new r.Renderer,gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!0}),exports.markdown_to_html=n=function(e){var t,n,o,s,l,c,u,d,p,h,f,m;if(p=i.parse_mathjax(e),h=[],p.length>0){for(t=!0,m=[0,0],d="",n=0,o=0,l=p.length;o<l;o++)f=p[o],h.push(e.slice(f[0],f[1])),d+=e.slice(m[1],f[0])+("@@@@"+n+"@@@@"),m=f,n+=1;e=d+e.slice(m[1])}else t=e.toLowerCase().indexOf("math/tex")!==-1;if(e=r(e),t)for(n=s=0,c=h.length;0<=c?s<c:s>c;n=0<=c?++s:--s)e=e.replace("@@@@"+n+"@@@@",i.mathjax_escape(h[n].replace(/\$/g,"$$$$")));else a.call(e,"$")>=0&&(t=!0);return u={s:e,has_mathjax:t}},o={gfm_code:!0,li_bullet:"-",h_atx_suf:!1,h1_setext:!1,h2_setext:!1,br_only:!0},s=t(1258),null!=s&&(s.setOptions(o),exports.html_to_markdown=function(e){return reMarker.render(e)})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return f=t,e}function i(e,t){var n=e.next();if(g[n]){var i=g[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=s,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function s(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),r(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n,r){return e.context=new a(n,t.indentation()+(r===!1?0:_),e.context),n}function c(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function u(e,t,n){return O[n.context.type](e,t,n)}function d(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return u(e,t,n)}function p(e){var t=e.current().toLowerCase();m=S.hasOwnProperty(t)?"atom":E.hasOwnProperty(t)?"keyword":"variable"}var h=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var f,m,_=t.indentUnit,g=n.tokenHooks,v=n.documentTypes||{},y=n.mediaTypes||{},b=n.mediaFeatures||{},w=n.mediaValueKeywords||{},x=n.propertyKeywords||{},k=n.nonStandardPropertyKeywords||{},A=n.fontProperties||{},C=n.counterDescriptors||{},E=n.colorKeywords||{},S=n.valueKeywords||{},j=n.allowNested,M=n.lineComment,T=n.supportsAtComponent===!0,O={};return O.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if(T&&/@component/.test(e))return l(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return l(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return l(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)m="builtin";else if("word"==e)m="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(j&&"("==e)return l(n,t,"parens")}return n.context.type},O.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return x.hasOwnProperty(r)?(m="property","maybeprop"):k.hasOwnProperty(r)?(m="string-2","maybeprop"):j?(m=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return"meta"==e?"block":j||"hash"!=e&&"qualifier"!=e?O.top(e,t,n):(m="error","block")},O.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},O.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&j)return l(n,t,"propBlock");if("}"==e||"{"==e)return d(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)p(t);else if("interpolation"==e)return l(n,t,"interpolation")}else m+=" error";return"prop"},O.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(m="property","maybeprop"):n.context.type},O.parens=function(e,t,n){return"{"==e||"}"==e?d(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&p(t),"parens")},O.pseudo=function(e,t,n){return"meta"==e?"pseudo":"word"==e?(m="variable-3",n.context.type):u(e,t,n)},O.documentTypes=function(e,t,n){return"word"==e&&v.hasOwnProperty(t.current())?(m="tag",n.context.type):O.atBlock(e,t,n)},O.atBlock=function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e||";"==e)return d(e,t,n);if("{"==e)return c(n)&&l(n,t,j?"block":"top");if("interpolation"==e)return l(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();m="only"==r||"not"==r||"and"==r||"or"==r?"keyword":y.hasOwnProperty(r)?"attribute":b.hasOwnProperty(r)?"property":w.hasOwnProperty(r)?"keyword":x.hasOwnProperty(r)?"property":k.hasOwnProperty(r)?"string-2":S.hasOwnProperty(r)?"atom":E.hasOwnProperty(r)?"keyword":"error"}return n.context.type},O.atComponentBlock=function(e,t,n){return"}"==e?d(e,t,n):"{"==e?c(n)&&l(n,t,j?"block":"top",!1):("word"==e&&(m="error"),n.context.type)},O.atBlock_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?d(e,t,n,2):O.atBlock(e,t,n)},O.restricted_atBlock_before=function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(m="variable","restricted_atBlock_before"):u(e,t,n)},O.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,c(n)):"word"==e?(m="@font-face"==n.stateArg&&!A.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},O.keyframes=function(e,t,n){return"word"==e?(m="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},O.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?d(e,t,n):("word"==e?m="tag":"hash"==e&&(m="builtin"),"at")},O.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?d(e,t,n):("word"==e?m="variable":"variable"!=e&&"("!=e&&")"!=e&&(m="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:h?"block":"top",stateArg:null,context:new a(h?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(f=n[1],n=n[0]),m=n,t.state=O[t.state](f,e,t),m},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-_),n=n.prev):(n=n.prev,i=n.indent)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:M,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],i=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(a),c=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(c),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=t(d),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(h),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],_=t(m),g=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],v=t(g),y=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=t(y),w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],x=t(w),k=r.concat(o).concat(a).concat(c).concat(d).concat(h).concat(y).concat(w);e.registerHelper("hintWords","css",k),e.defineMIME("text/css",{documentTypes:i,mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:_,counterDescriptors:v,colorKeywords:b,valueKeywords:x,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:b,valueKeywords:x,fontProperties:_,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:b,valueKeywords:x,fontProperties:_,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:s,mediaFeatures:l,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:_,counterDescriptors:v,colorKeywords:b,valueKeywords:x,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})})},function(e,exports){e.exports={}},function(e,exports,t){var n=t(220),r=t(143);e.exports=function(e){return n(r(e))}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(54),i=n(r),o=function(){};i.default&&(o=function(){return document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,function(t){t=t||window.event,t.target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)})}:void 0}()),exports.default=o,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,c.default)(e),n=(0,a.default)(t),r=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,o.default)(r,e)?(void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect()),i={top:i.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:i.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==i.width?e.offsetWidth:i.width)||0,height:(null==i.height?e.offsetHeight:i.height)||0}):i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(77),o=n(i),s=t(66),a=n(s),l=t(76),c=n(l);e.exports=exports.default},function(e,exports,t){var n=t(311),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(75),i=n(r),o=t(8),s=n(o),a=t(7),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(1),v=n(g),y=t(11),b=n(y),w=t(21),x=n(w),k=t(10),A=t(34),C=t(50),E=n(C),S={active:b.default.bool,disabled:b.default.bool,block:b.default.bool,onClick:b.default.func,componentClass:x.default,href:b.default.string,type:b.default.oneOf(["button","reset","submit"])},j={active:!1,block:!1,disabled:!1},M=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.renderAnchor=function(e,t){return v.default.createElement(E.default,(0,l.default)({},e,{className:(0,_.default)(t,e.disabled&&"disabled")}))},t.prototype.renderButton=function(e,t){var n=e.componentClass,r=(0,s.default)(e,["componentClass"]),i=n||"button";return v.default.createElement(i,(0,l.default)({},r,{type:r.type||"button",className:t}))},t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.block,i=t.className,o=(0,s.default)(t,["active","block","className"]),a=(0,k.splitBsProps)(o),c=a[0],u=a[1],d=(0,l.default)({},(0,k.getClassSet)(c),(e={active:n},e[(0,k.prefix)(c,"block")]=r,e)),p=(0,_.default)(i,d);return u.href?this.renderAnchor(u,p):this.renderButton(u,p)},t}(v.default.Component);M.propTypes=S,M.defaultProps=j,exports.default=(0,k.bsClass)("btn",(0,k.bsSizes)([A.Size.LARGE,A.Size.SMALL,A.Size.XSMALL],(0,k.bsStyles)([].concat((0,
i.default)(A.State),[A.Style.DEFAULT,A.Style.PRIMARY,A.Style.LINK]),A.Style.DEFAULT,M))),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function r(e,t,r){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!r.disabled||!n(t));default:return!1}}var i=t(20),o=t(164),s=t(165),a=t(169),l=t(274),c=t(275),u=(t(14),{}),d=null,p=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return p(e,!0)},f=function(e){return p(e,!1)},m=function(e){return"."+e._rootNodeID},_={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?i("94",t,typeof n):void 0;var r=m(e),s=u[t]||(u[t]={});s[r]=n;var a=o.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t];if(r(t,e._currentElement.type,e._currentElement.props))return null;var i=m(e);return n&&n[i]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=u[t];if(r){var i=m(e);delete r[i]}},deleteAllListeners:function(e){var t=m(e);for(var n in u)if(u.hasOwnProperty(n)&&u[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete u[n][t]}},extractEvents:function(e,t,n,r){for(var i,s=o.plugins,a=0;a<s.length;a++){var c=s[a];if(c){var u=c.extractEvents(e,t,n,r);u&&(i=l(i,u))}}return i},enqueueEvents:function(e){e&&(d=l(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,f),d?i("95"):void 0,a.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};e.exports=_},function(e,exports,t){"use strict";function n(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return _(e,r)}function r(e,t,r){var i=n(e,r,t);i&&(r._dispatchListeners=f(r._dispatchListeners,i),r._dispatchInstances=f(r._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,r,e)}function o(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,r,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=_(e,r);i&&(n._dispatchListeners=f(n._dispatchListeners,i),n._dispatchInstances=f(n._dispatchInstances,e))}}function a(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){m(e,i)}function c(e){m(e,o)}function u(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function d(e){m(e,a)}var p=t(94),h=t(165),f=t(274),m=t(275),_=(t(18),p.getListener),g={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:u};e.exports=g},function(e,exports){"use strict";var t={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=t},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(55),i=t(174),o={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(n,o),e.exports=n},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return(0,s.default)(i.default.findDOMNode(e))};var r=t(29),i=n(r),o=t(76),s=n(o);e.exports=exports.default},function(e,exports,t){"use strict";var n=t(27);e.exports={shouldComponentUpdate:function(e,t){return!n.isShallowEqual(this.props,e)||!n.isShallowEqual(this.state,t)}}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(1),i=n(r);exports.default={contextTypes:{isRtl:i.default.PropTypes.bool},isRtl:function(){return!!this.context.isRtl}},e.exports=exports.default},,function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x=function(e,t){return function(){return e.apply(t,arguments)}},k=function(e,t){function n(){this.constructor=e}for(var r in t)A.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},A={}.hasOwnProperty;f=t(9),g=t(12),r=g.React,n=g.Actions,i=g.Store,o=g.Table,_=g.redux,y=g.rtypes,m=g.rclass,v=t(17),s=v.TimeAgo,a=v.Tip,b=t(19).salvus_client,h=t(26),c=function(e){function t(){return this.fetch_non_collaborator=x(this.fetch_non_collaborator,this),t.__super__.constructor.apply(this,arguments)}return k(t,e),t.prototype.fetch_non_collaborator=function(e){if(e)return b.get_usernames({account_ids:[e],use_cache:!1,cb:function(t){return function(n,r){var i,o;return n?console.warn("WARNING: unable to get username for account with id '"+e+"'"):(i=r[e],null!=i&&(i.account_id=e,o=w.get("user_map"),null!=o&&null==o.get(e))?(o=o.set(e,h.fromJS(i)),t.setState({user_map:o})):void 0)}}(this)})},t}(n),p=_.createActions("users",c),u=function(e){function t(){return this.sort_by_activity=x(this.sort_by_activity,this),this.get_last_active=x(this.get_last_active,this),this.get_name=x(this.get_name,this),this.get_image=x(this.get_image,this),this.get_color=x(this.get_color,this),this.get_last_name=x(this.get_last_name,this),this.get_first_name=x(this.get_first_name,this),t.__super__.constructor.apply(this,arguments)}return k(t,e),t.prototype.get_first_name=function(e){var t;return null!=(t=this.getIn(["user_map",e,"first_name"]))?t:"Unknown"},t.prototype.get_last_name=function(e){var t;return null!=(t=this.getIn(["user_map",e,"last_name"]))?t:"User"},t.prototype.get_color=function(e){var t;return null!=(t=this.getIn(["user_map",e,"profile","color"]))?t:"rgb(170,170,170)"},t.prototype.get_image=function(e){return this.getIn(["user_map",e,"profile","image"])},t.prototype.get_name=function(e){var t,n;if(n=this.get("user_map"),null!=n)return t=n.get(e),null!=t?t.get("first_name")+" "+t.get("last_name"):void p.fetch_non_collaborator(e)},t.prototype.get_last_active=function(e){return this.getIn(["user_map",e,"last_active"])},t.prototype.sort_by_activity=function(e){var t,n,r,i;for(t=0,n=e.length;t<n;t++)i=e[t],null==i.last_active&&(i.last_active=null!=(r=this.get_last_active(i.account_id))?r:0);return e.sort(function(e,t){var n;return n=f.cmp(t.last_active,e.last_active),n?n:f.cmp(this.get_last_name(e.account_id),this.get_last_name(t.account_id))})},t}(i),w=_.createStore("users",u),d=function(e){function t(){return this._change=x(this._change,this),t.__super__.constructor.apply(this,arguments)}return k(t,e),t.prototype.query=function(){return"collaborators"},t.prototype._change=function(e,t){var n,r;return n=e.get(),r=w.get("user_map"),null==r?void this.redux.getActions("users").setState({user_map:n}):(e.get().map(function(e){return function(e,t){return e!==r.get(t)&&(r=r.set(t,e)),!1}}(this)),this.redux.getActions("users").setState({user_map:r}))},t}(o),_.createTable("users",d),exports.User=l=m({displayName:"User",propTypes:{account_id:y.string.isRequired,user_map:y.object,last_active:y.oneOfType([y.object,y.number]),name:y.string},shouldComponentUpdate:function(e){var t,n,r;return this.props.account_id!==e.account_id||(t=null!=(n=e.user_map)?n.get(this.props.account_id):void 0,null==t||(!t.equals(null!=(r=this.props.user_map)?r.get(this.props.account_id):void 0)||(this.props.last_active!==e.last_active||(this.props.show_original!==e.show_original||this.props.name!==e.name))))},render_last_active:function(){if(this.props.last_active)return r.createElement("span",null," (",r.createElement(s,{date:this.props.last_active}),")")},render_original:function(e){var t;if(t=e.first_name&&e.last_name?e.first_name+" "+e.last_name:e.first_name?e.first_name:e.last_name?e.last_name:"",this.props.show_original&&t!==this.props.name)return r.createElement(a,{placement:"top",title:"User Name",tip:"The name this user has given their account."},r.createElement("span",{style:{color:"#666"}}," (",t,")"))},name:function(e){var t;return f.trunc_middle(null!=(t=this.props.name)?t:e.first_name+" "+e.last_name,50)},render:function(){var e,t;return null==this.props.user_map||0===this.props.user_map.size?r.createElement("span",null,"Loading..."):(e=null!=(t=this.props.user_map)?t.get(this.props.account_id):void 0,null==e?f.is_valid_uuid_string(this.props.account_id)?(p.fetch_non_collaborator(this.props.account_id),r.createElement("span",null,"Loading...")):r.createElement("span",null,this.props.account_id," unsucessfully"):(e=e.toJS(),r.createElement("span",null,this.name(e),this.render_original(e),this.render_last_active())))}})},function(e,exports){var t,n,r=function(e,t){return function(){return e.apply(t,arguments)}},i=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};exports.MARKERS={cell:"︠",output:"︡"},exports.FLAGS=t={execute:"x",waiting:"w",running:"r",interrupt:"c",this_session:"s",hide_input:"i",hide_output:"o"},exports.ACTION_FLAGS=[t.execute,t.running,t.waiting,t.interrupt],exports.ACTION_SESSION_FLAGS=[t.execute,t.running,t.waiting,t.interrupt,t.this_session],exports.uuids_of_linked_files=function(e){var t,n,r,i,o,s,a,l,c,u,d;for(d=[],t=0;;){if(t=e.indexOf(exports.MARKERS.output,t),t===-1)return d;for(n=e.indexOf("\n",t),n===-1&&(n=e.length),o=e.slice(t,n),l=o.split(exports.MARKERS.output).slice(1),r=0,i=l.length;r<i;r++)s=l[r],'{"file":'===s.slice(0,8)&&(a=JSON.parse(s),u=null!=(c=a.file)?c.uuid:void 0,null!=u&&d.push(u));t=n}},n=function(){function e(e){this.content=e,this.set_cell_flag=r(this.set_cell_flag,this),this.remove_cell_flag=r(this.remove_cell_flag,this),this.set_cell_flagstring=r(this.set_cell_flagstring,this),this.get_cell_flagstring=r(this.get_cell_flagstring,this),this.find_cell_meta=r(this.find_cell_meta,this)}return e.prototype.find_cell_meta=function(e,t){var n,r;if(n=this.content.indexOf(exports.MARKERS.cell+e,t),r=this.content.indexOf(exports.MARKERS.cell,n+1),r!==-1)return{start:n,end:r}},e.prototype.get_cell_flagstring=function(e){var t;if(t=this.find_cell_meta(e),null!=t)return this.content.slice(t.start+37,t.end)},e.prototype.set_cell_flagstring=function(e,t){var n;if(n=this.find_cell_meta(e),null!=n)return this.content=this.content.slice(0,n.start+37)+t+this.content.slice(n.end)},e.prototype.remove_cell_flag=function(e,t){var n;if(n=this.get_cell_flagstring(e),null!=n&&i.call(n,t)>=0)return this.content=this.set_cell_flagstring(e,n.replace(RegExp(t,"g"),""))},e.prototype.set_cell_flag=function(e,t){var n;if(n=this.get_cell_flagstring(e),null!=n&&i.call(n,t)<0)return this.content=this.set_cell_flagstring(e,n+t)},e}(),exports.sagews=function(e){return new n(e)}},function(e,exports,t){/*
	SageMathCloud, Copyright (C) 2016, Sagemath Inc.

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	---

	SYNCHRONIZED TABLE -- defined by an object query

	    - Do a query against a PostgreSQL table using our object query description.
	    - Synchronization with the backend database is done automatically.

	   Methods:
	      - constructor(query): query = the name of a table (or a more complicated object)

	      - set(map):  Set the given keys of map to their values; one key must be
	                   the primary key for the table.  NOTE: Computed primary keys will
	                   get automatically filled in; these are keys in schema.coffee,
	                   where the set query looks like this say:
	                      (obj, db) -> db.sha1(obj.project_id, obj.path)
	      - get():     Current value of the query, as an immutable.js Map from
	                   the primary key to the records, which are also immutable.js Maps.
	      - get(key):  The record with given key, as an immutable Map.
	      - get(keys): Immutable Map from given keys to the corresponding records.
	      - get_one(): Returns one record as an immutable Map (useful if there
	                   is only one record)

	      - close():   Frees up resources, stops syncing, don't use object further

	   Events:
	      - 'before-change': fired right before (and in the same event loop) actually
	                  applying remote incoming changes
	      - 'change', [array of string primary keys] : fired any time the value of the query result
	                 changes, *including* if changed by calling set on this object.
	                 Also, called with empty list on first connection if there happens
	                 to be nothing in this table.   If the primary key is not a string it is
	                 converted to a JSON string.
	      - 'disconnected': fired when table is disconnected from the server for some reason
	      - 'connected': fired when table has successfully connected and finished initializing
	                     and is ready to use
	      - 'saved', [array of saved objects]: fired after confirmed successful save of objects to backend

	STATES:

	A SyncTable is a finite state machine as follows:

	                          -------------------<------------------
	                         \|/                                   |
	    [connecting] --> [connected]  -->  [disconnected]  --> [reconnecting]

	Also, there is a final state called 'closed', that the SyncTable moves to when
	it will not be used further; this frees up all connections and used memory.
	The table can't be used after it is closed.   The only way to get to the
	closed state is to explicitly call close() on the table; otherwise, the
	table will keep attempting to connect and work, until it works.

	    (anything)  --> [closed]



	- connecting   -- connecting to the backend, and have never connected before.

	- connected    -- successfully connected to the backend, initialized, and receiving updates.

	- disconnected -- table was successfully initialized, but the network connection
	                  died. Can still takes writes, but they will never try to save to
	                  the backend.  Waiting to reconnect when user connects back to the backend.

	- reconnecting -- client just reconnected to the backend, so this table is now trying
	                  to get the full current state of the table and initialize a changefeed.

	- closed       -- table is closed, and memory/connections used by the table is freed.


	WORRY: what if the user does a set and connecting (or reconnecting) takes a long time, e.g., suspend
	a laptop, then resume?  The changes may get saved... a month later.  For some things, e.g., logs,
	this could be fine.  However, on reconnect, the first thing is that complete upstream state of
	table is set on server version of table, so reconnecting user only sends its changes if upstream
	hasn't changed anything in that same record.
	 */
var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g=function(e,t){return function(){return e.apply(t,arguments)}},v=function(e,t){function n(){this.constructor=e}for(var r in t)y.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},y={}.hasOwnProperty;n=!1,exports.set_debug=function(e){return n=!!e},r=t(63).EventEmitter,c=t(26),s=t(31),_=t(23),d=t(9),h=t(24),a=d.defaults,p=d.required,u=t(64),m=function(e){return"object"==typeof e?u(e):e},i=function(){function e(e){this.__try_to_connect_once=g(this.__try_to_connect_once,this),this.connect=g(this.connect,this),this.dbg=g(this.dbg,this),this._opts=a(e,{name:"plug",no_sign_in:p,client:p,connect:p}),this.connect()}return e.prototype.dbg=function(e){return function(e){return function(){}}(this)},e.prototype.connect=function(e){var t;return t=this.dbg("connect"),this._is_connecting?void t("already connecting"):(this._is_connecting=!0,t(""),d.retry_until_success({f:this.__try_to_connect_once,log:t,start_delay:4e3,max_delay:2e4,cb:function(n){return function(){return delete n._is_connecting,t("success!"),"function"==typeof e?e():void 0}}(this)}))},e.prototype.__try_to_connect_once=function(e){var t,n,r,i,o;return i=void 0,t=function(t){return function(){return i&&clearInterval(i),t._opts.connect(e)}}(this),n=this._opts.no_sign_in?"connected":"signed_in",this._opts.client["is_"+n]()?t():(this._opts.client.once(n,t),r=function(r){return function(){return r._opts.client.removeListener(n,t),e("timeout")}}(this),o=setTimeout(r,5e3+1e4*Math.random()))},e}(),o=function(e){function t(e,t,n,r,o,s){var a,l,c,u,p;this._query=e,this._options=t,this._client=n,this._debounce_interval=r,this._throttle_changes=o,this._cache_key=s,this.wait=g(this.wait,this),this.close=g(this.close,this),this.set=g(this.set,this),this._computed_primary_key=g(this._computed_primary_key,this),this._handle_new_val=g(this._handle_new_val,this),this._update_change=g(this._update_change,this),this._update_all=g(this._update_all,this),this.save=g(this.save,this),this.__save=g(this.__save,this),this._save=g(this._save,this),this._changes=g(this._changes,this),this._init_query=g(this._init_query,this),this._parse_query=g(this._parse_query,this),this.get_one=g(this.get_one,this),this.get=g(this.get,this),this.has_uncommitted_changes=g(this.has_uncommitted_changes,this),this.key=g(this.key,this),this._disconnected=g(this._disconnected,this),this._reconnect=g(this._reconnect,this),this._connect=g(this._connect,this),this.dbg=g(this.dbg,this),this._init_query(),this._value_local=void 0,this._value_server=void 0,this._id=void 0,this._state="disconnected",this._created=new Date,this._plug=new i({name:this._table,client:this._client,connect:this._connect,no_sign_in:this._schema.anonymous||this._client.is_project()}),this._client.on("disconnected",function(e){return function(){return e._disconnected("client disconnect")}}(this)),null==this._throttle_changes&&(this._throttle_changes=null!=(c=h.SCHEMA[this._table])&&null!=(u=c.user_query)&&null!=(p=u.get)?p.throttle_changes:void 0),this._throttle_changes?(a={},l=function(e){return function(){return e.emit("change",d.keys(a)),a={}}}(this),l=_.throttle(l,this._throttle_changes),this.emit_change=function(e){return function(e){var t,n,r;for(t=0,r=e.length;t<r;t++)n=e[t],a[n]=!0;return l()}}(this)):this.emit_change=function(e){return function(t){return e.emit("change",t)}}(this)}return v(t,e),t.prototype.dbg=function(e){return function(e){return function(){}}(this)},t.prototype._connect=function(e){var t;return t=this.dbg("connect"),t(),"closed"===this._state?void("function"==typeof e&&e("closed")):"connected"===this._state?void("function"==typeof e&&e()):(null!=this._id&&(this._client.query_cancel({id:this._id}),this._id=void 0),s.series([function(e){return function(t){return null!=e._value_local&&null!=e._value_server?e._save(t):t()}}(this),function(e){return function(t){return e._reconnect(t)}}(this)],e))},t.prototype._reconnect=function(e){var t,n,r;return t=this.dbg("_run"),"closed"===this._state?(t("closed so don't do anything ever again"),void("function"==typeof e&&e())):(n=!0,r=void 0,t("do the query"),this._client.query({query:this._query,changes:!0,timeout:30,options:this._options,cb:function(i){return function(o,s){var a,l,c,u,d;if("closed"!==i._state){if(n){if(t("query got ",o,s),n=!1,"closed"===i._state)return"function"==typeof e?e("closed"):void 0;if("query_cancel"===(null!=s?s.event:void 0))return"function"==typeof e?e("query-cancel"):void 0;if(o)return"function"==typeof e?e(o):void 0;if(null==(null!=s&&null!=(c=s.query)?c[i._table]:void 0))return"function"==typeof e?e("got no data"):void 0;for(r=i._id=s.id,i._state="connected",i._update_all(s.query[i._table]),i.emit("connected",s.query[i._table]),"function"==typeof e&&e(),d=null!=(u=i._connected_save_cbs)?u:[],a=0,l=d.length;a<l;a++)e=d[a],i.save(e);return delete i._connected_save_cbs}return"connected"!==i._state?(t("nothing to do -- ignore these, and make sure they stop"),void(null!=r&&i._client.query_cancel({id:r}))):o||"query_cancel"===(null!=s?s.event:void 0)?i._disconnected("err="+o+", resp?.event="+(null!=s?s.event:void 0)):i._update_change(s)}}}(this)}))},t.prototype._disconnected=function(e){var t;return t=this.dbg("_disconnected"),t("why="+e),"disconnected"===this._state?void t("already disconnected"):(this._id&&this._client.query_cancel({id:this._id}),this._state="disconnected",this._plug.connect())},t.prototype.key=function(e){return this._key(e)},t.prototype.has_uncommitted_changes=function(){return(null!=this._value_server||null!=this._value_local)&&(null!=this._value_local&&null==this._value_server||!this._value_server.equals(this._value_local))},t.prototype.get=function(e){var t,n,r,i;if(null!=this._value_local){if(null!=e){if(d.is_array(e)){for(i={},t=0,r=e.length;t<r;t++)n=e[t],i[m(n)]=this._value_local.get(m(n));return c.fromJS(i)}return this._value_local.get(m(e))}return this._value_local}},t.prototype.get_one=function(){var e;return null!=(e=this._value_local)?e.toSeq().first():void 0},t.prototype._parse_query=function(e){var t,n,r,i,o,s,a,l,c;if("string"==typeof e){l=d.copy(h.SCHEMA[e].user_query.get.fields);for(n in l)t=l[n],l[n]=null;return i={},i[""+e]=[l],i}if(r=d.keys(e),1!==r.length)throw Error("must specify exactly one table");return a=r[0],c={},d.is_array(e[a])?(s={},s[""+a]=e[a],s):(o={},o[""+a]=[e[a]],o)},t.prototype._init_query=function(){var e,t,n,r,i,o,s,a,l,u,p,f,_,g,v,y;if(this._query=this._parse_query(this._query),d.is_array(this._query))throw Error("must be a single query");if(y=d.keys(this._query),1!==d.len(y))throw Error("must query only a single table");if(this._table=y[0],this._client.is_project()?this._client_query=h.SCHEMA[this._table].project_query:this._client_query=h.SCHEMA[this._table].user_query,!d.is_array(this._query[this._table]))throw Error("must be a multi-document queries");if(this._schema=h.SCHEMA[this._table],null==this._schema)throw Error("unknown schema for table "+this._table);for(this._primary_keys=h.client_db.primary_keys(this._table),a=this._primary_keys,t=0,r=a.length;t<r;t++)s=a[t],null==this._query[this._table][0][s]&&(this._query[this._table][0][s]=null);for(1===this._primary_keys.length?(o=this._primary_keys[0],this._key=function(e){return function(e){if(null!=e)return m(c.Map.isMap(e)?e.get(o):e[o])}}(this)):this._key=function(e){return function(t){var n,r,i,s,a,l,u,d;if(null!=t){if(d=[],c.Map.isMap(t))for(l=e._primary_keys,r=0,i=l.length;r<i;r++){if(o=l[r],n=t.get(o),null==n)return;d.push(n)}else for(u=e._primary_keys,a=0,s=u.length;a<s;a++){if(o=u[a],n=t[o],null==n)return;d.push(n)}return m(d)}}}(this),this._set_fields=[],this._required_set_fields={},l=d.keys(this._query[this._table][0]),n=0,i=l.length;n<i;n++)e=l[n],null!=(null!=(u=this._client_query)&&null!=(p=u.set)&&null!=(f=p.fields)?f[e]:void 0)&&this._set_fields.push(e),null!=(null!=(_=this._client_query)&&null!=(g=_.set)&&null!=(v=g.required_fields)?v[e]:void 0)&&(this._required_set_fields[e]=!0);return this._anonymous=!!this._schema.anonymous},t.prototype._changes=function(){var e;if(null!=this._value_server&&null!=this._value_local)return e={},this._value_local.map(function(t){return function(n,r){var i;if(i=t._value_server.get(r),!n.equals(i))return e[r]={new_val:n,old_val:i}}}(this)),e},t.prototype._save=function(e){return this.__is_saving?"function"==typeof e?e("already saving"):void 0:(this.__is_saving=!0,this.__save(function(t){return function(n){return t.__is_saving=!1,"function"==typeof e?e(n):void 0}}(this)))},t.prototype.__save=function(e){var t,n,r,i,o,s,a,l,u,p,h,f,m,_,g,v,y,b,w,x,k,A;if("closed"===this._state)return void("function"==typeof e&&e("closed"));if(null==this._value_server)return void("function"==typeof e&&e("don't know server yet"));if(null==this._value_local)return void("function"==typeof e&&e("don't know local yet"));if(null==this._client_query.set)return void("function"==typeof e&&e());for(r=this._changes(),t=this._value_local,v=[],k=[],y=d.keys(r).sort(),o=0,u=y.length;o<u;o++){if(a=y[o],n=r[a],m={},1===this._primary_keys.length)m[this._primary_keys[0]]=a;else for(A=JSON.parse(a),i=0,b=this._primary_keys,l=0,p=b.length;l<p;l++)g=b[l],m[g]=A[i],i+=1;for(w=this._set_fields,f=0,h=w.length;f<h;f++)s=w[f],A=n.new_val.get(s),null!=A&&(!this._required_set_fields[s]&&c.is(A,null!=(x=n.old_val)?x.get(s):void 0)||(c.Iterable.isIterable(A)?m[s]=A.toJS():m[s]=A));v.push((_={},_[""+this._table]=m,_)),k.push(m)}return 0===v.length?void("function"==typeof e&&e()):this._client.query({query:v,options:[{set:!0}],timeout:30,cb:function(n){return function(i){if(i)return console.warn("_save('"+n._table+"') error:",i),"clock"===i&&n._client.alert_message({type:"error",timeout:9999,message:"Your computer's clock is or was off!  Fix it and **refresh your browser**."}),"function"==typeof e?e(i):void 0;if("closed"===n._state)return void("function"==typeof e&&e("closed"));if(null==n._value_server||null==n._value_local)return void("function"==typeof e&&e("value_server and value_local must be set"));n.emit("saved",k);for(s in r)A=r[s],c.is(n._value_server.get(s),A.old_val)&&(n._value_server=n._value_server.set(s,A.new_val));return t.equals(n._value_local)?"function"==typeof e?e():void 0:n._save(e)}}(this)})},t.prototype.save=function(e){return"closed"===this._state?void("function"==typeof e&&e("closed")):"connected"!==this._state?void("function"==typeof e&&e("not connected")):(null==this._save_debounce&&(this._save_debounce={}),null==this._value_server||null==this._value_local?(null==this._connected_save_cbs&&(this._connected_save_cbs=[]),void this._connected_save_cbs.push(e)):d.async_debounce({f:function(e){return function(t){return d.retry_until_success({f:e._save,max_delay:5e3,max_time:3e4,cb:t})}}(this),interval:this._debounce_interval,state:this._save_debounce,cb:e}))},t.prototype._update_all=function(e){var t,n,r,i,o,s,a,l,u,p;if(r=this.dbg("_update_all"),"closed"!==this._state){if(null==e)return void console.warn("_update_all('"+this._table+"') called with v=undefined");for(this.emit("before-change"),u={},o=0,a=e.length;o<a;o++)p=e[o],u[this._key(p)]=p;if(n=!1,null==this._value_local||null==this._value_server)r("easy case -- nothing has been initialized yet, so just set everything."),this._value_local=this._value_server=c.fromJS(u),i=!0,t=d.keys(u);else{r("harder case -- everything has already been initialized."),t=[],this._value_local.map(function(e){return function(r,i){return null==u[i]?e._value_local.get(i).equals(e._value_server.get(i))?(e._value_local=e._value_local.delete(i),t.push(i)):n=!0:e._handle_new_val(u[i],t)?n=!0:void 0}}(this));for(s in u)l=u[s],null==this._value_local.get(s)&&(this._value_local=this._value_local.set(s,c.fromJS(l)),t.push(s))}return 0!==t.length?(this._value_server=c.fromJS(u),this.emit_change(t)):i&&this.emit_change(t),n?this.save():void 0}},t.prototype._update_change=function(e){var t,r,i;if("closed"!==this._state)return null==this._value_local?void console.warn("_update_change("+this._table+"): tried to call _update_change even though local not yet defined (ignoring)"):null==this._value_server?void console.warn("_update_change("+this._table+"): tried to call _update_change even though set not yet defined (ignoring)"):(n&&console.log("_update_change('"+this._table+"'): "+d.to_json(e)),this.emit("before-change"),t=[],r=!1,null!=e.new_val&&(r=this._handle_new_val(e.new_val,t)),null!=e.old_val&&this._key(e.old_val)!==this._key(e.new_val)&&(i=this._key(e.old_val),this._value_local=this._value_local.delete(i),this._value_server=this._value_server.delete(i),t.push(i)),t.length>0&&(this.emit_change(t),r)?this.save():void 0)},t.prototype._handle_new_val=function(e,t){var n,r,i,o,s;return r=this._key(e),o=c.fromJS(e),i=this._value_local.get(r),n=!1,o.equals(i)||(null==i?(this._value_local=this._value_local.set(r,o),t.push(r)):(s=this._value_server.get(r),o.map(function(e){return function(e,t){if(!c.is(e,null!=s?s.get(t):void 0))return i=i.set(t,e)}}(this)),null!=s&&s.map(function(e){return function(e,t){if(!o.has(t))return i=i.delete(t)}}(this)),i.equals(this._value_local.get(r))||(this._value_local=this._value_local.set(r,i),t.push(r)),i.equals(o)||(this.emit("conflict",{new_val:o,old_val:i}),n=!0))),this._value_server=this._value_server.set(r,o),n},t.prototype._computed_primary_key=function(e){var t,n,r,i,o,s;if(1!==this._primary_keys.length){for(s=[],o=this._primary_keys,n=0,r=o.length;n<r;n++){if(i=o[n],t=this._client_query.set.fields[i],"function"!=typeof t)return;s.push(t(e.toJS(),h.client_db))}return s}if(t=this._client_query.set.fields[this._primary_keys[0]],"function"==typeof t)return t(e.toJS(),h.client_db)},t.prototype.set=function(e,t,r){var i,o,s,a,l,u,p,h,f,_,g,v,y,b;if("closed"===this._state)return console.warn("WARNING: attempt to do a set on a closed table: '"+this._table+"', "+d.to_json(this._query)),void("function"==typeof r&&r("closed"));if(c.Map.isMap(e)||(e=c.fromJS(e)),null==this._value_local&&(this._value_local=c.Map({})),null==t?t="deep":"function"==typeof t&&(r=t,t="deep"),!c.Map.isMap(e))return void("function"==typeof r&&r("type error -- changes must be an immutable.js Map or JS map"));if(n&&console.log("set('"+this._table+"'): "+d.to_json(e.toJS())),null==this._client_query.set)return void("function"==typeof r&&r("users may not set "+this._table));o=this._client_query.set.fields;try{e.map(function(e){return function(t,n){if(void 0===o[n])throw Error("users may not set "+e._table+"."+n)}}(this))}catch(e){return a=e,void("function"==typeof r&&r(a))}if(u=this._key(e),null==u){if(p=this._computed_primary_key(e),u=m(p),null==u&&1===this._primary_keys.length&&(p=u=this._value_local.keySeq().first()),null==u)return void("function"==typeof r&&r("must specify primary key "+this._primary_keys.join(",")+", have at least one record, or have a computed primary key"));if(1===this._primary_keys.length)e=e.set(this._primary_keys[0],p);else for(l=0,y=this._primary_keys,h=0,_=y.length;h<_;h++)v=y[h],e=e.set(v,p[l]),l+=1}if(s=this._value_local.get(u),null==s){b=this._required_set_fields;for(f in b)if(i=b[f],null==e.get(f))return void("function"==typeof r&&r("must specify field '"+f+"' for new records"));g=e}else switch(t){case"deep":g=s.mergeDeep(e);break;case"shallow":g=s.merge(e);break;case"none":g=e;break;default:return void("function"==typeof r&&r("merge must be one of 'deep', 'shallow', 'none'"))}return c.is(g,s)?"function"==typeof r&&r():(this._value_local=this._value_local.set(u,g),this.save(r),this.emit_change([u])),g},t.prototype.close=function(){if("closed"!==this._state&&!l(this))return this._client.removeListener("disconnected",this._disconnected),this._save(),this.removeAllListeners(),null!=this._id&&(this._client.query_cancel({id:this._id}),delete this._id),this._state="closed",delete this._value_local,delete this._value_server},t.prototype.wait=function(e){var t,n,r,i;return e=a(e,{until:p,timeout:30,cb:p}),"closed"===this._state?void e.cb("closed"):(i=e.until(this))?void e.cb(void 0,i):(r=void 0,t=function(n){return function(){if(i=e.until(n))return n.removeListener("change",t),null!=r&&clearTimeout(r),e.cb(void 0,i)}}(this),this.on("change",t),void(e.timeout&&(n=function(n){return function(){return n.removeListener("change",t),e.cb("timeout")}}(this),r=setTimeout(n,1e3*e.timeout))))},t}(r),f={},exports.sync_table=function(e,t,n,r,i,a){var l,c;return null==r&&(r=2e3),null==i&&(i=void 0),null==a&&(a=!0),c=u({query:e,options:t,debounce_interval:r,throttle_changes:i}),a?(l=f[c],null!=l?("connected"===l._state&&s.nextTick(function(){if("connected"===l._state)return l.emit("connected")}),l._reference_count+=1,l):(l=f[c]=new o(e,t,n,r,i,c),l._reference_count=1,l)):new o(e,t,n,r,i,c)},l=function(e){if(null!=e._reference_count)return e._reference_count-=1,!(e._reference_count<=0)||(delete f[e._cache_key],!1)},exports.TestBrowserClient1=function(e){function t(){return this.query=g(this.query,this),this.query_cancel=g(this.query_cancel,this),this.dbg=g(this.dbg,this),this.is_signed_in=g(this.is_signed_in,this),this.is_connected=g(this.is_connected,this),this.is_project=g(this.is_project,this),t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.is_project=function(){return!1},t.prototype.is_connected=function(){return!0},t.prototype.is_signed_in=function(){return!0},t.prototype.dbg=function(){return function(e){return function(){}}(this)},t.prototype.query_cancel=function(){},t.prototype.query=function(e){return e=a(e,{query:p,changes:void 0,options:void 0,timeout:30,cb:void 0}),this.emit("query",e)},t}(r)},function(e,exports){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},function(e,exports,t){!function(e){e(t(2),t(108),t(107),t(87))}(function(e){"use strict";function t(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function n(e){var t=l[e];return t?t:l[e]=RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function r(e,t){var r=e.match(n(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function i(e,t){return RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function s(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(r(t,i[0])))return i[2]}}var a={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};e.defineMode("htmlmixed",function(n,r){function l(r,o){var a,d=c.token(r,o.htmlState),p=/\btag\b/.test(d);if(p&&!/[<>\s\/]/.test(r.current())&&(a=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(a))o.inTag=a+" ";else if(o.inTag&&p&&/>$/.test(r.current())){var h=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var f=">"==r.current()&&s(u[h[1]],h[2]),m=e.getMode(n,f),_=i(h[1],!0),g=i(h[1],!1);o.token=function(e,n){return e.match(_,!1)?(n.token=l,n.localState=n.localMode=null,null):t(e,g,n.localMode.token(e,n.localState))},o.localMode=m,o.localState=e.startState(m,c.indent(o.htmlState,""))}else o.inTag&&(o.inTag+=r.current(),r.eol()&&(o.inTag+=" "));return d}var c=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag}),u={},d=r&&r.tags,p=r&&r.scriptTypes;if(o(a,u),d&&o(d,u),p)for(var h=p.length-1;h>=0;h--)u.script.unshift(["type",p[h].matches,p[h].mode]);return{startState:function(){var t=e.startState(c);return{token:l,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(c,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?c.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||c}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t,n){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",function(n,r){function i(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function o(e,t,n){return Ee=e,Se=n,t}function s(e,n){var r=e.next();if('"'==r||"'"==r)return n.tokenize=a(r),n.tokenize(e,n);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==r&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return o(r);if("="==r&&e.eat(">"))return o("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),o("number","number");if("0"==r&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),o("number","number");if("0"==r&&e.eat(/b/i))return e.eatWhile(/[01]/i),o("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==r)return e.eat("*")?(n.tokenize=l,l(e,n)):e.eat("/")?(e.skipToEnd(),o("comment","comment")):t(e,n,1)?(i(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(e.eatWhile(Le),o("operator","operator",e.current()));if("`"==r)return n.tokenize=c,c(e,n);if("#"==r)return e.skipToEnd(),o("error","error");if(Le.test(r))return">"==r&&n.lexical&&">"==n.lexical.type||e.eatWhile(Le),o("operator","operator",e.current());if(Ie.test(r)){e.eatWhile(Ie);var s=e.current(),u=De.propertyIsEnumerable(s)&&De[s];return u&&"."!=n.lastType?o(u.type,u.style,s):o("variable","variable",s)}}function a(e){return function(t,n){var r,i=!1;if(Te&&"@"==t.peek()&&t.match(ze))return n.tokenize=s,o("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.tokenize=s),o("string","string")}}function l(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=s;break}r="*"==n}return o("comment","comment")}function c(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=s;break}r=!r&&"\\"==n}return o("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Ne){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),l=Re.indexOf(a);if(l>=0&&l<3){if(!i){++s;break}if(0==--i){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(Ie.test(a))o=!0;else{if(/["'\/]/.test(a))return;if(o&&!i){++s;break}}}o&&!i&&(t.fatArrowAt=s)}}function d(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function p(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function h(e,t,n,r,i){var o=e.cc;for(Be.state=e,Be.stream=i,Be.marked=null,Be.cc=o,Be.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():Oe?k:x;if(s(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Be.marked?Be.marked:"variable"==n&&p(e,r)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)Be.cc.push(arguments[e])}function m(){return f.apply(null,arguments),!0}function _(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=Be.state;if(Be.marked="def",n.context){if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function g(){Be.state.context={prev:Be.state.context,vars:Be.state.localVars},Be.state.localVars=qe}function v(){Be.state.localVars=Be.state.context.vars,Be.state.context=Be.state.context.prev}function y(e,t){var n=function(){var n=Be.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new d(r,Be.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Be.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?m():";"==e?f():m(t)}return t}function x(e,t){return"var"==e?m(y("vardef",t.length),X,w(";"),b):"keyword a"==e?m(y("form"),C,x,b):"keyword b"==e?m(y("form"),x,b):"{"==e?m(y("}"),K,b):";"==e?m():"if"==e?("else"==Be.state.lexical.info&&Be.state.cc[Be.state.cc.length-1]==b&&Be.state.cc.pop()(),m(y("form"),C,x,b,ie)):"function"==e?m(ue):"for"==e?m(y("form"),oe,x,b):"variable"==e?m(y("stat"),P):"switch"==e?m(y("form"),C,y("}","switch"),w("{"),K,b,b):"case"==e?m(k,w(":")):"default"==e?m(w(":")):"catch"==e?m(y("form"),g,w("("),de,w(")"),x,b,v):"class"==e?m(y("form"),he,b):"export"==e?m(y("stat"),ge,b):"import"==e?m(y("stat"),ye,b):"module"==e?m(y("form"),ee,y("}"),w("{"),K,b,b):"type"==e?m(Y,w("operator"),Y,w(";")):"async"==e?m(x):"@"==t?m(k,x):f(y("stat"),k,w(";"),b)}function k(e){return E(e,!1)}function A(e){return E(e,!0)}function C(e){return"("!=e?f():m(y(")"),k,w(")"),b)}function E(e,t){if(Be.state.fatArrowAt==Be.stream.start){var n=t?D:I;if("("==e)return m(g,y(")"),W(ee,")"),b,w("=>"),n,v);if("variable"==e)return f(g,ee,w("=>"),n,v)}var r=t?T:M;return Pe.hasOwnProperty(e)?m(r):"function"==e?m(ue,r):"class"==e?m(y("form"),pe,b):"keyword c"==e||"async"==e?m(t?j:S):"("==e?m(y(")"),S,w(")"),b,r):"operator"==e||"spread"==e?m(t?A:k):"["==e?m(y("]"),Ae,b,r):"{"==e?H(q,"}",null,r):"quasi"==e?f(O,r):"new"==e?m(L(t)):m()}function S(e){return e.match(/[;\}\)\],]/)?f():f(k)}function j(e){return e.match(/[;\}\)\],]/)?f():f(A)}function M(e,t){return","==e?m(k):T(e,t,!1)}function T(e,t,n){var r=0==n?M:T,i=0==n?k:A;return"=>"==e?m(g,n?D:I,v):"operator"==e?/\+\+|--/.test(t)?m(r):"?"==t?m(k,w(":"),i):m(i):"quasi"==e?f(O,r):";"!=e?"("==e?H(A,")","call",r):"."==e?m(B,r):"["==e?m(y("]"),S,w("]"),b,r):void 0:void 0}function O(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?m(O):m(k,N)}function N(e){if("}"==e)return Be.marked="string-2",Be.state.tokenize=c,m(O)}function I(e){return u(Be.stream,Be.state),f("{"==e?x:k)}function D(e){return u(Be.stream,Be.state),f("{"==e?x:A)}function L(e){return function(t){return"."==t?m(e?R:z):f(e?A:k)}}function z(e,t){if("target"==t)return Be.marked="keyword",m(M)}function R(e,t){if("target"==t)return Be.marked="keyword",m(T)}function P(e){return":"==e?m(b,x):f(M,w(";"),b)}function B(e){if("variable"==e)return Be.marked="property",m()}function q(e,t){return"async"==e?(Be.marked="property",m(q)):"variable"==e||"keyword"==Be.style?(Be.marked="property",m("get"==t||"set"==t?F:U)):"number"==e||"string"==e?(Be.marked=Te?"property":Be.style+" property",m(U)):"jsonld-keyword"==e?m(U):"modifier"==e?m(q):"["==e?m(k,w("]"),U):"spread"==e?m(k):":"==e?f(U):void 0}function F(e){return"variable"!=e?f(U):(Be.marked="property",m(ue))}function U(e){return":"==e?m(A):"("==e?f(ue):void 0}function W(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var s=Be.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),m(function(n,r){return n==t||r==t?f():f(e)},r)}return i==t||o==t?m():m(w(t))}return function(n,i){return n==t||i==t?m():f(e,r)}}function H(e,t,n){for(var r=3;r<arguments.length;r++)Be.cc.push(arguments[r]);return m(y(t,n),W(e,t),b)}function K(e){return"}"==e?m():f(x,K)}function G(e,t){if(Ne){if(":"==e)return m(Y);if("?"==t)return m(G)}}function Y(e){return"variable"==e?(Be.marked="variable-3",m(Z)):"string"==e||"number"==e||"atom"==e?m(Z):"{"==e?m(y("}"),W(V,"}",",;"),b):"("==e?m(W(Q,")"),J):void 0}function J(e){if("=>"==e)return m(Y)}function V(e,t){return"variable"==e||"keyword"==Be.style?(Be.marked="property",m(V)):"?"==t?m(V):":"==e?m(Y):void 0}function Q(e){return"variable"==e?m(Q):":"==e?m(Y):void 0}function Z(e,t){return"<"==t?m(y(">"),W(Y,">"),b,Z):"|"==t||"."==e?m(Y):"["==e?m(w("]"),Z):void 0}function X(){return f(ee,G,ne,re)}function ee(e,t){return"modifier"==e?m(ee):"variable"==e?(_(t),m()):"spread"==e?m(ee):"["==e?H(ee,"]"):"{"==e?H(te,"}"):void 0}function te(e,t){return"variable"!=e||Be.stream.match(/^\s*:/,!1)?("variable"==e&&(Be.marked="property"),"spread"==e?m(ee):"}"==e?f():m(w(":"),ee,ne)):(_(t),m(ne))}function ne(e,t){if("="==t)return m(A)}function re(e){if(","==e)return m(X)}function ie(e,t){if("keyword b"==e&&"else"==t)return m(y("form","else"),x,b)}function oe(e){if("("==e)return m(y(")"),se,w(")"),b)}function se(e){return"var"==e?m(X,w(";"),le):";"==e?m(le):"variable"==e?m(ae):f(k,w(";"),le)}function ae(e,t){return"in"==t||"of"==t?(Be.marked="keyword",m(k)):m(M,le)}function le(e,t){return";"==e?m(ce):"in"==t||"of"==t?(Be.marked="keyword",m(k)):f(k,w(";"),ce)}function ce(e){")"!=e&&m(k)}function ue(e,t){return"*"==t?(Be.marked="keyword",m(ue)):"variable"==e?(_(t),m(ue)):"("==e?m(g,y(")"),W(de,")"),b,G,x,v):Ne&&"<"==t?m(y(">"),W(Y,">"),b,ue):void 0}function de(e){return"spread"==e?m(de):f(ee,G,ne)}function pe(e,t){return"variable"==e?he(e,t):fe(e,t)}function he(e,t){if("variable"==e)return _(t),m(fe)}function fe(e,t){return"<"==t?m(y(">"),W(Y,">"),b,fe):"extends"==t||"implements"==t||Ne&&","==e?m(Ne?Y:k,fe):"{"==e?m(y("}"),me,b):void 0}function me(e,t){return"variable"==e||"keyword"==Be.style?("async"==t||"static"==t||"get"==t||"set"==t||Ne&&("public"==t||"private"==t||"protected"==t||"readonly"==t||"abstract"==t))&&Be.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Be.marked="keyword",m(me)):(Be.marked="property",m(Ne?_e:ue,me)):"["==e?m(k,w("]"),Ne?_e:ue,me):"*"==t?(Be.marked="keyword",m(me)):";"==e?m(me):"}"==e?m():"@"==t?m(k,me):void 0}function _e(e,t){return"?"==t?m(_e):":"==e?m(Y,ne):"="==t?m(A):f(ue)}function ge(e,t){return"*"==t?(Be.marked="keyword",m(ke,w(";"))):"default"==t?(Be.marked="keyword",m(k,w(";"))):"{"==e?m(W(ve,"}"),ke,w(";")):f(x)}function ve(e,t){return"as"==t?(Be.marked="keyword",m(w("variable"))):"variable"==e?f(A,ve):void 0}function ye(e){return"string"==e?m():f(be,we,ke)}function be(e,t){return"{"==e?H(be,"}"):("variable"==e&&_(t),"*"==t&&(Be.marked="keyword"),m(xe))}function we(e){if(","==e)return m(be,we)}function xe(e,t){if("as"==t)return Be.marked="keyword",m(be)}function ke(e,t){if("from"==t)return Be.marked="keyword",m(k)}function Ae(e){return"]"==e?m():f(W(A,"]"))}function Ce(e,t){return"operator"==e.lastType||","==e.lastType||Le.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var Ee,Se,je=n.indentUnit,Me=r.statementIndent,Te=r.jsonld,Oe=r.json||Te,Ne=r.typescript,Ie=r.wordCharacters||/[\w$\xa1-\uffff]/,De=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},s={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:r,throw:r,debugger:r,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r,async:e("async")};if(Ne){var a={type:"variable",style:"variable-3"},l={interface:e("class"),implements:r,namespace:r,module:e("module"),enum:e("module"),type:e("type"),public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),as:i,string:a,
number:a,boolean:a,any:a};for(var c in l)s[c]=l[c]}return s}(),Le=/[+\-*&%=<>!?|~^@]/,ze=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Re="([{}])",Pe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Be={state:null,column:null,marked:null,cc:null},qe={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:s,lastType:"sof",cc:[],lexical:new d((e||0)-je,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=l&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Ee?n:(t.lastType="operator"!=Ee||"++"!=Se&&"--"!=Se?Ee:"incdec",h(t,n,Ee,Se,e))},indent:function(t,n){if(t.tokenize==l)return e.Pass;if(t.tokenize!=s)return 0;var i,o=n&&n.charAt(0),a=t.lexical;if(!/^\s*else\b/.test(n))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==b)a=a.prev;else if(u!=ie)break}for(;("stat"==a.type||"form"==a.type)&&("}"==o||(i=t.cc[t.cc.length-1])&&(i==M||i==T)&&!/^[,\.=+\-*:?[\(]/.test(n));)a=a.prev;Me&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var d=a.type,p=o==d;return"vardef"==d?a.indented+("operator"==t.lastType||","==t.lastType?a.info+1:0):"form"==d&&"{"==o?a.indented:"form"==d?a.indented+je:"stat"==d?a.indented+(Ce(t,n)?Me||je:0):"switch"!=a.info||p||0==r.doubleIndentSwitch?a.align?a.column+(p?0:1):a.indented+(p?0:je):a.indented+(/^(?:case|default)\b/.test(n)?je:2*je)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Oe?null:"/*",blockCommentEnd:Oe?null:"*/",lineComment:Oe?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Oe?"json":"javascript",jsonldMode:Te,jsonMode:Oe,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=k&&t!=A||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(E=e.eat("/")?"closeTag":"openTag",t.tokenize=s,"tag bracket");if("&"==r){var i;return i=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),i?"atom":"error"}return e.eatWhile(/[^&<]/),null}function s(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,E=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return E="equals",null;if("<"==n){t.tokenize=o,t.state=h,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function c(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=c(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=o;break}return n.tokenize=c(e-1),n.tokenize(t,n)}}return"meta"}}function u(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function d(e){e.context&&(e.context=e.context.prev)}function p(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(t))return;d(e)}}function h(e,t,n){return"openTag"==e?(n.tagStart=t.column(),f):"closeTag"==e?m:h}function f(e,t,n){return"word"==e?(n.tagName=t.current(),S="tag",v):(S="error",f)}function m(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&d(n),n.context&&n.context.tagName==r||k.matchClosing===!1?(S="tag",_):(S="tag error",g)}return S="error",g}function _(e,t,n){return"endTag"!=e?(S="error",_):(d(n),h)}function g(e,t,n){return S="error",_(e,t,n)}function v(e,t,n){if("word"==e)return S="attribute",y;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||k.autoSelfClosers.hasOwnProperty(r)?p(n,r):(p(n,r),n.context=new u(n,r,i==n.indented)),h}return S="error",v}function y(e,t,n){return"equals"==e?b:(k.allowMissing||(S="error"),v(e,t,n))}function b(e,t,n){return"string"==e?w:"word"==e&&k.allowUnquoted?(S="string",v):(S="error",v(e,t,n))}function w(e,t,n){return"string"==e?w:v(e,t,n)}var x=r.indentUnit,k={},A=i.htmlMode?t:n;for(var C in A)k[C]=A[C];for(var C in i)k[C]=i[C];var E,S;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:h,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;E=null;var n=t.tokenize(e,t);return(n||E)&&"comment"!=n&&(S=null,t.state=t.state(E||n,e,t),S&&(n="error"==S?n+" error":S)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return k.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;i;){if(i.tagName==a[2]){i=i.prev;break}if(!k.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(a)for(;i;){var l=k.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(a[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+x:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(e){e.state==b&&(e.state=v)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},function(e,exports){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(54),i=n(r),o=function(){};i.default&&(o=function(){return document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0}()),exports.default=o,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=(0,a.default)(e);return n?n.innerHeight:t?e.clientHeight:(0,o.default)(e).height}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(91),o=n(i),s=t(66),a=n(s);e.exports=exports.default},function(e,exports){var t=Array.isArray;e.exports=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(7),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(149),_=n(m),g=t(77),v=n(g),y=t(154),b=n(y),w=t(1),x=n(w),k=t(11),A=n(k),C=t(29),E=n(C),S=t(121),j=n(S),M=t(21),T=n(M),O=t(122),N=n(O),I=t(69),D=n(I),L=t(44),z=(n(L),t(244)),R=n(z),P=t(618),B=n(P),q=t(246),F=n(q),U=t(10),W=t(32),H=n(W),K=t(665),G=t(38),Y=n(G),J=F.default.defaultProps.bsRole,V=B.default.defaultProps.bsRole,Q={dropup:A.default.bool,id:(0,N.default)(A.default.oneOfType([A.default.string,A.default.number])),componentClass:T.default,children:(0,j.default)((0,K.requiredRoles)(J,V),(0,K.exclusiveRoles)(V)),disabled:A.default.bool,pullRight:A.default.bool,open:A.default.bool,onClose:A.default.func,onToggle:A.default.func,onSelect:A.default.func,role:A.default.string,rootCloseEvent:A.default.oneOf(["click","mousedown"]),onMouseEnter:A.default.func,onMouseLeave:A.default.func},Z={componentClass:R.default},X=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.handleClose=i.handleClose.bind(i),i._focusInDropdown=!1,i.lastOpenEventType=null,i}return(0,p.default)(t,e),t.prototype.componentDidMount=function(){this.focusNextOnOpen()},t.prototype.componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=(0,v.default)(E.default.findDOMNode(this.menu),(0,_.default)(document)))},t.prototype.componentDidUpdate=function(e){var t=this.props.open,n=e.open;t&&!n&&this.focusNextOnOpen(),!t&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.prototype.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},t.prototype.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case b.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case b.default.codes.esc:case b.default.codes.tab:this.handleClose(e,{source:"keydown"})}},t.prototype.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},t.prototype.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},t.prototype.focusNextOnOpen=function(){var e=this.menu;e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},t.prototype.focus=function(){var e=E.default.findDOMNode(this.toggle);e&&e.focus&&e.focus()},t.prototype.renderToggle=function(e,t){var n=this,r=function(e){n.toggle=e};return"string"==typeof e.ref||(r=(0,H.default)(e.ref,r)),(0,w.cloneElement)(e,(0,s.default)({},t,{ref:r,bsClass:(0,U.prefix)(t,"toggle"),onClick:(0,H.default)(e.props.onClick,this.handleClick),onKeyDown:(0,H.default)(e.props.onKeyDown,this.handleKeyDown)}))},t.prototype.renderMenu=function(e,t){var n=this,r=t.id,o=t.onClose,a=t.onSelect,l=t.rootCloseEvent,c=(0,i.default)(t,["id","onClose","onSelect","rootCloseEvent"]),u=function(e){n.menu=e};return"string"==typeof e.ref||(u=(0,H.default)(e.ref,u)),(0,w.cloneElement)(e,(0,s.default)({},c,{ref:u,labelledBy:r,bsClass:(0,U.prefix)(c,"menu"),onClose:(0,H.default)(e.props.onClose,o,this.handleClose),onSelect:(0,H.default)(e.props.onSelect,a,function(e,t){return n.handleClose(t,{source:"select"})}),rootCloseEvent:l}))},t.prototype.render=function(){var e,t=this,n=this.props,r=n.componentClass,o=n.id,a=n.dropup,l=n.disabled,c=n.pullRight,u=n.open,d=n.onClose,p=n.onSelect,h=n.role,m=n.bsClass,_=n.className,g=n.rootCloseEvent,v=n.children,y=(0,i.default)(n,["componentClass","id","dropup","disabled","pullRight","open","onClose","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete y.onToggle;var b=(e={},e[m]=!0,e.open=u,e.disabled=l,e);return a&&(b[m]=!1,b.dropup=!0),x.default.createElement(r,(0,s.default)({},y,{className:(0,f.default)(_,b)}),Y.default.map(v,function(e){switch(e.props.bsRole){case J:return t.renderToggle(e,{id:o,disabled:l,open:u,role:h,bsClass:m});case V:return t.renderMenu(e,{id:o,open:u,pullRight:c,bsClass:m,onClose:d,onSelect:p,rootCloseEvent:g});default:return e}}))},t}(x.default.Component);X.propTypes=Q,X.defaultProps=Z,(0,U.bsClass)("dropdown",X);var ee=(0,D.default)(X,{open:"onToggle"});ee.Toggle=F.default,ee.Menu=B.default,exports.default=ee,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(3),p=n(d),h=t(1),f=n(h),m=t(11),_=n(m),g=t(283),v=n(g),y={in:_.default.bool,mountOnEnter:_.default.bool,unmountOnExit:_.default.bool,transitionAppear:_.default.bool,timeout:_.default.number,onEnter:_.default.func,onEntering:_.default.func,onEntered:_.default.func,onExit:_.default.func,onExiting:_.default.func,onExited:_.default.func},b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1},w=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return f.default.createElement(v.default,(0,i.default)({},this.props,{className:(0,p.default)(this.props.className,"fade"),enteredClassName:"in",enteringClassName:"in"}))},t}(f.default.Component);w.propTypes=y,w.defaultProps=b,exports.default=w,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=t.propTypes,r={},i={};return(0,o.default)(e).forEach(function(e){var t=e[0],o=e[1];n[t]?r[t]=o:i[t]=o}),[r,i]}exports.__esModule=!0;var i=t(209),o=n(i);exports.default=r,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,f)||(e[f]=p++,u[e[f]]={}),u[e[f]]}var r,i=t(25),o=t(164),s=t(694),a=t(273),l=t(723),c=t(175),u={},d=!1,p=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},f="_reactListenersID"+(Math.random()+"").slice(2),m=i({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var r=t,i=n(r),s=o.registrationNameDependencies[e],a=0;a<s.length;a++){var l=s[a];i.hasOwnProperty(l)&&i[l]||("topWheel"===l?c("wheel")?m.ReactEventListener.trapBubbledEvent("topWheel","wheel",r):c("mousewheel")?m.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",r):m.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",r):"topScroll"===l?c("scroll",!0)?m.ReactEventListener.trapCapturedEvent("topScroll","scroll",r):m.ReactEventListener.trapBubbledEvent("topScroll","scroll",m.ReactEventListener.WINDOW_HANDLE):"topFocus"===l||"topBlur"===l?(c("focus",!0)?(m.ReactEventListener.trapCapturedEvent("topFocus","focus",r),m.ReactEventListener.trapCapturedEvent("topBlur","blur",r)):c("focusin")&&(m.ReactEventListener.trapBubbledEvent("topFocus","focusin",r),m.ReactEventListener.trapBubbledEvent("topBlur","focusout",r)),i.topBlur=!0,i.topFocus=!0):h.hasOwnProperty(l)&&m.ReactEventListener.trapBubbledEvent(l,h[l],r),i[l]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=m.supportsEventPageXY()),!r&&!d){var e=a.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),d=!0}}});e.exports=m},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(97),i=t(273),o=t(173),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};r.augmentClass(n,s),e.exports=n},function(e,exports,t){"use strict";var n=t(20),r=(t(14),{}),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,r,i,o,s,a,l){this.isInTransaction()?n("27"):void 0;var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,r,i,o,s,a,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=r,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:n("28");for(var t=this.transactionWrappers,i=e;i<t.length;i++){var o,s=t[i],a=this.wrapperInitData[i];try{o=!0,a!==r&&s.close&&s.close.call(this,a),o=!1}finally{if(o)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=i},function(e,exports){"use strict";function t(e){var t=""+e,n=r.exec(t);if(!n)return t;var i,o="",s=0,a=0;for(s=n.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==s&&(o+=t.substring(a,s)),a=s+1,o+=i}return a!==s?o+t.substring(a,s):o}function n(e){return"boolean"==typeof e||"number"==typeof e?""+e:t(e)}var r=/["'&<>]/;e.exports=n},function(e,exports,t){"use strict";var n,r=t(35),i=t(163),o=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=t(171),l=a(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{n=n||document.createElement("div"),n.innerHTML="<svg>"+t+"</svg>";for(var r=n.firstChild;r.firstChild;)e.appendChild(r.firstChild)}});if(r.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=l},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=null;return n.forEach(function(e){if(null==i){var n=e.apply(void 0,t);null!=n&&(i=n)}}),i}for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,o.default)(e)}exports.__esModule=!0,exports.default=r;var i=t(123),o=n(i)},function(e,exports){"use strict";function t(e){return function(t,n,r,i,o){var s=r||"<<anonymous>>",a=o||n;if(null==t[n])return Error("The "+i+" `"+a+"` is required to make "+("`"+s+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var l=arguments.length,c=Array(l>5?l-5:0),u=5;u<l;u++)c[u-5]=arguments[u];return e.apply(void 0,[t,n,r,i,o].concat(c))}}exports.__esModule=!0,exports.default=t},function(e,exports){"use strict";function t(e){function t(t,n,r,i,o,s){var a=i||"<<anonymous>>",l=s||r;if(null==n[r])return t?Error("Required "+o+" `"+l+"` was not specified "+("in `"+a+"`.")):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,a,o,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}exports.__esModule=!0,exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=t(1),c=n(l),u=t(3),d=n(u),p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,i=e.label,o=e.icon,s=e.busy,l=e.active,u=e.children,p=e.component,h=void 0===p?"button":p,f=r(e,["className","disabled","label","icon","busy","active","children","component"]),m=f.type;return"button"===h&&(m=m||"button"),c.default.createElement(h,a({},f,{tabIndex:"-1",title:i,type:m,disabled:n,"aria-disabled":n,"aria-label":i,className:(0,d.default)(t,"rw-btn",l&&!n&&"rw-state-active")}),o&&c.default.createElement("span",{"aria-hidden":!0,className:(0,d.default)("rw-i","rw-i-"+o,s&&"rw-loading")}),u)},t}(c.default.Component);exports.default=p,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return m.default.max(m.default.min(e,n),t)}exports.__esModule=!0;var a,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t(1),d=n(u),p=t(3),h=n(p),f=t(62),m=n(f),_=["month","year","decade","century"],g=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){var e=this.props.className;return d.default.createElement("table",c({},this.props,{role:"grid",tabIndex:"-1",className:(0,h.default)(e,"rw-nav-view","rw-calendar-grid")}))},t}(d.default.Component),v=(l=a=function(e){function t(){var n,o,a;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.handleChange=function(){var e=o.props,t=e.onChange,n=e.min,r=e.max,i=e.date;t(s(i,n,r))},a=n,i(o,a)}return o(t,e),t.prototype.isEqual=function(e){return m.default.eq(this.props.date,e,this.props.unit)},t.prototype.isEmpty=function(){var e=this.props,t=e.unit,n=e.min,r=e.max,i=e.date;return!m.default.inRange(i,n,r,t)},t.prototype.isNow=function(){return this.isEqual(this.props.now)},t.prototype.isFocused=function(){return this.isEqual(this.props.focused)},t.prototype.isSelected=function(){return this.isEqual(this.props.selected)},t.prototype.isOffView=function(){var e=this.props,t=e.viewUnit,n=e.focused,r=e.date;return t&&m.default[t](r)!==m.default[t](n)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.id,r=e.label,i=e.disabled;return this.isEmpty()?d.default.createElement("td",{className:"rw-empty-cell",role:"presentation"}," "):d.default.createElement("td",{role:"gridcell",id:n,title:r,"aria-label":r,"aria-readonly":i,"aria-selected":this.isSelected()},d.default.createElement("span",{"aria-labelledby":n,onClick:this.handleChange,className:(0,h.default)("rw-btn",this.isNow()&&"rw-now",this.isOffView()&&"rw-off-range",this.isFocused()&&"rw-state-focus",this.isSelected()&&"rw-state-selected")},t))},t}(d.default.Component),a.propTypes={id:d.default.PropTypes.string,label:d.default.PropTypes.string,today:d.default.PropTypes.instanceOf(Date),selected:d.default.PropTypes.instanceOf(Date),focused:d.default.PropTypes.instanceOf(Date),min:d.default.PropTypes.instanceOf(Date),max:d.default.PropTypes.instanceOf(Date),unit:d.default.PropTypes.oneOf(["day"].concat(_)),viewUnit:d.default.PropTypes.oneOf(_),onChange:d.default.PropTypes.func.isRequired},l);g.Row=function(e){return d.default.createElement("tr",c({role:"row"},e))},g.Cell=v,exports.default=g,e.exports=exports.default},function(e,exports,t){"use strict";var n=t(27),r=n.has;e.exports={componentWillUnmount:function(){var e=this._timers||{};this._unmounted=!0;for(var t in e)r(e,t)&&this.clearTimeout(t)},clearTimeout:function(e){var t=this._timers||{};window.clearTimeout(t[e])},setTimeout:function(e,t,n){var r=this,i=this._timers||(this._timers=Object.create(null));this._unmounted||(this.clearTimeout(e),i[e]=window.setTimeout(function(){r._unmounted||t()},n))}}},function(e,exports){"use strict";exports.__esModule=!0;var t={eq:function(e,t){return e===t},neq:function(e,t){return e!==t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},contains:function(e,t){return e.indexOf(t)!==-1},startsWith:function(e,t){return 0===e.lastIndexOf(t,0)},endsWith:function(e,t){var n=e.length-t.length,r=e.indexOf(t,n);return r!==-1&&r===n}};exports.default=t,e.exports=exports.default},function(e,exports,t){var $,n,r;$=window.$,r=t(12).redux,exports.set_url=function(e){var n;return window.history.pushState("","",window.smc_base_url+e),(n=t(30).analytics_pageview)(window.location.pathname)},exports.load_target=n=function(e){var n,i,o;if(e)switch(n=null!=(i=r.getStore("account"))?i.is_logged_in():void 0,o=e.split("/"),o[0]){case"help":return r.getActions("page").set_active_tab("about");case"projects":return t.e(0,function(e){return function(){return o.length>1?r.getActions("projects").load_target(o.slice(1).join("/"),!0):r.getActions("page").set_active_tab("projects")}}(this));case"settings":if(!n)return;if(r.getActions("page").set_active_tab("account"),"account"===o[1]&&r.getActions("account").set_active_tab("account"),"billing"===o[1]&&(r.getActions("billing").update_customer(),r.getActions("account").set_active_tab("billing")),"upgrades"===o[1]&&r.getActions("account").set_active_tab("upgrades"),"support"===o[1])return r.getActions("account").set_active_tab("support")}},window.onpopstate=function(e){return n(decodeURIComponent(document.location.pathname.slice(window.smc_base_url.length+1)))}},function(e,exports,t){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};exports.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return r=t(n(r.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+r||"."},exports.normalize=function(e){var r=exports.isAbsolute(e),i="/"===o(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},exports.isAbsolute=function(e){return"/"===e.charAt(0)},exports.join=function(){var e=Array.prototype.slice.call(arguments,0);return exports.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},exports.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=exports.resolve(e).substr(1),t=exports.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,a=0;a<o;a++)if(r[a]!==i[a]){s=a;break}for(var l=[],a=s;a<r.length;a++)l.push("..");return l=l.concat(i.slice(s)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},exports.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(e){return i(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(exports,t(84));
},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,exports,t){(function(n){!function(){var r=t(204),i=t(105).utf8,o=t(105).bin,s=function(e){e.constructor==String?e=i.stringToBytes(e):void 0!==n&&"function"==typeof n.isBuffer&&n.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=""+e);var t=r.bytesToWords(e),o=8*e.length,s=[],a=1732584193,l=-271733879,c=-1732584194,u=271733878,d=-1009589776;t[o>>5]|=128<<24-o%32,t[(o+64>>>9<<4)+15]=o;for(var p=0;p<t.length;p+=16){for(var h=a,f=l,m=c,_=u,g=d,v=0;v<80;v++){if(v<16)s[v]=t[p+v];else{var y=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=y<<1|y>>>31}var b=(a<<5|a>>>27)+d+(s[v]>>>0)+(v<20?(l&c|~l&u)+1518500249:v<40?(l^c^u)+1859775393:v<60?(l&c|l&u|c&u)-1894007588:(l^c^u)-899497514);d=u,u=c,c=l<<30|l>>>2,l=a,a=b}a+=h,l+=f,c+=m,u+=_,d+=g}return[a,l,c,u,d]},a=function(e,t){var n=r.wordsToBytes(s(e));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)};a._blocksize=16,a._digestsize=20,e.exports=a}()}).call(exports,t(195).Buffer)},function(e,exports,t){var n=t(92),r=n.Symbol;e.exports=r},function(e,exports,t){function n(e){return null==e?void 0===e?a:s:l&&l in Object(e)?i(e):o(e)}var r=t(132),i=t(592),o=t(595),s="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=n},function(e,exports){function t(e){return null!=e&&"object"==typeof e}e.exports=t},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,_e,ge,ve,ye,be,we,xe,ke,Ae,Ce=function(e,t){return function(){return e.apply(t,arguments)}},Ee=function(e,t){function n(){this.constructor=e}for(var r in t)Se.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Se={}.hasOwnProperty;$=window.$,oe=t(26),Ae=t(23),xe=t(19).salvus_client,ne=t(36).alert_message,le=t(9),be=le.required,re=le.defaults,ie=t(30).html_to_text,_e=t(48),U=_e.SiteName,A=_e.PolicyPricingPageUrl,ae=t(86),ge=t(22),B=ge.Row,c=ge.Col,X=ge.Well,o=ge.Button,s=ge.ButtonGroup,a=ge.ButtonToolbar,f=ge.Grid,p=ge.FormControl,h=ge.FormGroup,g=ge.InputGroup,r=ge.Alert,l=ge.Checkbox,v=ge.Label,ve=t(17),u=ve.ErrorDisplay,_=ve.Icon,y=ve.Loading,b=ve.LoginLink,S=ve.ProjectState,q=ve.Saving,F=ve.SearchInput,W=ve.Space,G=ve.TimeAgo,Y=ve.Tip,J=ve.UPGRADE_ERROR_STYLE,V=ve.UpgradeAdjustor,d=ve.Footer,pe=ve.r_join,ye=t(12),z=ye.React,R=ye.ReactDOM,n=ye.Actions,H=ye.Store,K=ye.Table,fe=ye.redux,we=ye.rtypes,he=ye.rclass,P=ye.Redux,Q=t(102).User,i=t(186).BillingPageSimplifiedRedux,Z=t(198).UsersViewing,k=t(24).PROJECT_UPGRADES,me=t(305).redux_name,w=50,ee={},M=function(e){function n(){return this.toggle_delete_project=Ce(this.toggle_delete_project,this),this.delete_project=Ce(this.delete_project,this),this.toggle_hide_project=Ce(this.toggle_hide_project,this),this.set_project_hide=Ce(this.set_project_hide,this),this.close_project_on_server=Ce(this.close_project_on_server,this),this.stop_project=Ce(this.stop_project,this),this.save_project=Ce(this.save_project,this),this.clear_project_upgrades=Ce(this.clear_project_upgrades,this),this.apply_upgrades_to_project=Ce(this.apply_upgrades_to_project,this),this.invite_collaborators_by_email=Ce(this.invite_collaborators_by_email,this),this.invite_collaborator=Ce(this.invite_collaborator,this),this.remove_collaborator=Ce(this.remove_collaborator,this),this.fetch_directory_tree=Ce(this.fetch_directory_tree,this),this.fetch_public_project_title=Ce(this.fetch_public_project_title,this),this.foreground_project=Ce(this.foreground_project,this),this.load_target=Ce(this.load_target,this),this.move_project_tab=Ce(this.move_project_tab,this),this.open_project=Ce(this.open_project,this),this.create_project=Ce(this.create_project,this),this.set_project_course_info_paying=Ce(this.set_project_course_info_paying,this),this.set_project_course_info=Ce(this.set_project_course_info,this),this.apply_default_upgrades=Ce(this.apply_default_upgrades,this),this.set_project_description=Ce(this.set_project_description,this),this.set_project_title=Ce(this.set_project_title,this),this.have_project=Ce(this.have_project,this),this.save_all_files=Ce(this.save_all_files,this),this.set_project_closed=Ce(this.set_project_closed,this),this.set_project_open=Ce(this.set_project_open,this),n.__super__.constructor.apply(this,arguments)}return Ee(n,e),n.prototype.set_project_open=function(e,t){var n,r;if(r=ke.get("open_projects"),n=r.indexOf(e),n===-1)return this.setState({open_projects:r.push(e)})},n.prototype.set_project_closed=function(e){var t,n;if(n=ke.get("open_projects"),t=n.indexOf(e),t!==-1)return fe.removeProjectReferences(e),this.setState({open_projects:n.delete(t)})},n.prototype.save_all_files=function(){ke.get("open_projects").filter(function(e){return function(t){return e.redux.getProjectActions(t).save_all_files()}}(this))},n.prototype.have_project=function(e){var t,n;return null!=(null!=(t=this.redux.getTable("projects"))&&null!=(n=t._table)?n.get(e):void 0)},n.prototype.set_project_title=function(e,t){if(!this.have_project(e))return void console.warn("Can't set title -- you are not a collaborator on project '"+e+"'.");if(ke.get_title(e)!==t)return this.redux.getTable("projects").set({project_id:e,title:t}),this.redux.getProjectActions(e).log({event:"set",title:t})},n.prototype.set_project_description=function(e,t){if(!this.have_project(e))return void console.warn("Can't set description -- you are not a collaborator on project '"+e+"'.");if(ke.get_description(e)!==t)return this.redux.getTable("projects").set({project_id:e,description:t}),this.redux.getProjectActions(e).log({event:"set",description:t})},n.prototype.apply_default_upgrades=function(e){var t,n,r,i,o,s,a,l,c,u;for(e=re(e,{project_id:be}),u=fe.getStore("account").get_total_upgrades(),t=ke.get_total_upgrades_you_have_applied(),c={},s=["member_host","network"],r=0,i=s.length;r<i;r++)o=s[r],n=(null!=(a=u[o])?a:0)-(null!=(l=t[o])?l:0),n>0&&(c[o]=1);if(le.len(c)>0)return this.apply_upgrades_to_project(e.project_id,c)},n.prototype.set_project_course_info=function(e,t,n,r,i,o){var s,a,l;return this.have_project(e)?(s=null!=(l=ke.get_course_info(e))?l.toJS():void 0,null==s||s.project_id!==t||s.path!==n||0!==le.cmp_Date(s.pay,r)||s.account_id!==i||s.email_address!==o?xe.query({query:{projects_owner:{project_id:e,course:{project_id:t,path:n,pay:r,account_id:i,email_address:o}}}}):void 0):(a="Can't set description -- you are not a collaborator on project '"+e+"'.",ne({type:"error",message:a}),void console.warn(a))},n.prototype.set_project_course_info_paying=function(e,t){return xe.query({query:{projects_owner:{project_id:e,course:{paying:xe.server_time()}}},cb:t})},n.prototype.create_project=function(e){var t;return e=re(e,{title:"No Title",description:"No Description",token:void 0}),null!=e.token&&(t=e.token,delete e.token,e.cb=function(e){return function(e,n){return ee[t]={err:e,project_id:n}}}(this)),xe.create_project(e)},n.prototype.open_project=function(e){var n,r,i,o;if(e=re(e,{project_id:be,target:void 0,switch_to:!0}),t(305),o=fe.getProjectStore(e.project_id),n=fe.getProjectActions(e.project_id),i=fe.getStore("projects").get_my_group(e.project_id),null!=i&&"public"!==i&&"admin"!==i||this.fetch_public_project_title(e.project_id),n.fetch_directory_listing(),e.switch_to&&fe.getActions("page").set_active_tab(e.project_id),this.set_project_open(e.project_id),null!=e.target)return null!=(r=fe.getProjectActions(e.project_id))?r.load_target(e.target,e.switch_to):void 0},n.prototype.move_project_tab=function(e){var t,n,r,i,o,s,a,l;return s=re(e,{old_index:be,new_index:be,open_projects:be}),i=s.old_index,n=s.new_index,o=s.open_projects,l=o,t=l.get(i),a=l.delete(i),r=a.splice(n,0,t),this.setState({open_projects:r})},n.prototype.load_target=function(e,t){var n,r,i;return e&&0!==e.length?(r=e.split("/"),le.is_valid_uuid_string(r[0])?(i=r.slice(1).join("/"),n=r[0],this.open_project({project_id:n,target:i,switch_to:t})):void 0):void fe.getActions("page").set_active_tab("projects")},n.prototype.foreground_project=function(e){return fe.getActions("page").set_active_tab(e),fe.getStore("projects").wait({until:function(t){return function(t){return t.get_title(e)}}(this),cb:function(e){return function(e,n){if(!e)return t(202).set_window_title(n)}}(this)})},n.prototype.fetch_public_project_title=function(e){return this.redux.getStore("projects").wait({until:function(e){return function(t){return t.get_my_group(e.project_id)}}(this),timeout:60,cb:function(t){return function(n,r){var i,o;switch(n&&(r="public"),r){case"admin":o="projects_admin";break;case"owner":case"collaborator":o="projects";break;default:o="public_projects"}return xe.query({query:(i={},i[""+o]={project_id:e,title:null},i),cb:function(n,r){var i,s,a;return n||(a=null!=r&&null!=(i=r.query)&&null!=(s=i[o])?s.title:void 0),null==a&&(a="PRIVATE -- Admin req"),t.setState({public_project_titles:ke.get("public_project_titles").set(e,a)})}})}}(this)})},n.prototype.fetch_directory_tree=function(e,t){var n,r;if(t=re(t,{exclusions:void 0}),n="_fetch_directory_tree_"+e+"_"+(null!=(r=t.exclusions)?""+r:void 0),!this[n])return this[n]=!0,xe.find_directories({include_hidden:!1,project_id:e,exclusions:t.exclusions,cb:function(t){return function(r,i){var o,s,a;return setTimeout(function(){return delete t[n]},5e3),a=null!=(s=ke.get("directory_trees"))?s:oe.Map(),o={error:r,tree:null!=i?i.directories.sort():void 0,updated:new Date},t.setState({directory_trees:a.set(e,oe.fromJS(o))})}}(this)})},n.prototype.remove_collaborator=function(e,t){return xe.project_remove_collaborator({project_id:e,account_id:t,cb:function(n){return function(n,r){if(n)return n="Error removing collaborator "+t+" from "+e+" -- "+n,ne({type:"error",message:n})}}(this)})},n.prototype.invite_collaborator=function(e,t){return this.redux.getProjectActions(e).log({event:"invite_user",invitee_account_id:t}),xe.project_invite_collaborator({project_id:e,account_id:t,cb:function(n){return function(n,r){if(n)return n="Error inviting collaborator "+t+" from "+e+" -- "+n,ne({type:"error",message:n})}}(this)})},n.prototype.invite_collaborators_by_email=function(e,t,n,r,i,o,s){var a,l,c;return this.redux.getProjectActions(e).log({event:"invite_nonuser",invitee_email:t}),c=this.redux.getStore("projects").get_title(e),null==n&&(l=this.redux.getStore("account").get_fullname(),n="Please collaborate with me using SageMathCloud on '"+c+"'.\n\n\n--\n"+l),a="https://"+window.location.hostname+"/projects/"+e+"/",n=ae.markdown_to_html(n).s,xe.invite_noncloud_collaborators({project_id:e,title:c,link2proj:a,replyto:o,replyto_name:s,to:t,email:n,subject:r,cb:function(e){return function(e,t){if(!i)return ne(e?{type:"error",message:e}:{message:t.mesg})}}(this)})},n.prototype.apply_upgrades_to_project=function(e,t){var n;return this.redux.getTable("projects").set({project_id:e,users:(n={},n[""+this.redux.getStore("account").get_account_id()]={upgrades:t},n)}),this.redux.getProjectActions(e).log({event:"upgrade",upgrades:t})},n.prototype.clear_project_upgrades=function(e){return this.apply_upgrades_to_project(e,le.map_limit(t(24).DEFAULT_QUOTAS,0))},n.prototype.save_project=function(e){return this.redux.getTable("projects").set({project_id:e,action_request:{action:"save",time:xe.server_time()}})},n.prototype.start_project=function(e){return this.redux.getTable("projects").set({project_id:e,action_request:{action:"start",time:xe.server_time()}})},n.prototype.stop_project=function(e){return this.redux.getTable("projects").set({project_id:e,action_request:{action:"stop",time:xe.server_time()}})},n.prototype.close_project_on_server=function(e){return this.redux.getTable("projects").set({project_id:e,action_request:{action:"close",time:xe.server_time()}})},n.prototype.restart_project=function(e){return this.redux.getTable("projects").set({project_id:e,action_request:{action:"restart",time:xe.server_time()}})},n.prototype.set_project_hide=function(e,t,n){var r;return this.redux.getTable("projects").set({project_id:t,users:(r={},r[""+e]={hide:!!n},r)})},n.prototype.toggle_hide_project=function(e){var t,n;return t=this.redux.getStore("account").get_account_id(),this.redux.getTable("projects").set({project_id:e,users:(n={},n[""+t]={hide:!this.redux.getStore("projects").is_hidden_from(e,t)},n)})},n.prototype.delete_project=function(e){return this.redux.getTable("projects").set({project_id:e,deleted:!0})},n.prototype.toggle_delete_project=function(e){var t;return t=this.redux.getStore("projects").is_deleted(e),t||this.clear_project_upgrades(e),this.redux.getTable("projects").set({project_id:e,deleted:!t})},n}(n),te=fe.createActions("projects",M),D=function(e){function t(){return this.get_projects_upgraded_by=Ce(this.get_projects_upgraded_by,this),this.get_upgraded_projects=Ce(this.get_upgraded_projects,this),this.get_total_project_quotas=Ce(this.get_total_project_quotas,this),this.get_total_project_upgrades=Ce(this.get_total_project_upgrades,this),this.get_upgrades_to_project=Ce(this.get_upgrades_to_project,this),this.get_upgrades_you_applied_to_project=Ce(this.get_upgrades_you_applied_to_project,this),this.get_total_upgrades_you_have_applied=Ce(this.get_total_upgrades_you_have_applied,this),this.wait_until_project_created=Ce(this.wait_until_project_created,this),this.wait_until_project_exists=Ce(this.wait_until_project_exists,this),this.wait_until_project_is_open=Ce(this.wait_until_project_is_open,this),this.is_project_open=Ce(this.is_project_open,this),this.get_my_group=Ce(this.get_my_group,this),this.get_project_select_list=Ce(this.get_project_select_list,this),this.is_hidden_from=Ce(this.is_hidden_from,this),this.is_deleted=Ce(this.is_deleted,this),this.date_when_course_payment_required=Ce(this.date_when_course_payment_required,this),this.get_course_info=Ce(this.get_course_info,this),this.get_description=Ce(this.get_description,this),this.get_state=Ce(this.get_state,this),this.get_title=Ce(this.get_title,this),this.get_last_active=Ce(this.get_last_active,this),this.get_users=Ce(this.get_users,this),this.sort_by_activity=Ce(this.sort_by_activity,this),this.get_project=Ce(this.get_project,this),t.__super__.constructor.apply(this,arguments)}return Ee(t,e),t.prototype.get_project=function(e){var t;return null!=(t=this.getIn(["project_map",e]))?t.toJS():void 0},t.prototype.sort_by_activity=function(e,t){var n,r,i,o,s,a;if(r=this.getIn(["project_map",t,"last_active"]),null==r)return e;for(n=0,o=e.length;n<o;n++)a=e[n],a.last_active=null!=(s=r.get(a.account_id))?s:0;return i=function(e){return function(t){return e.redux.getStore("users").get_last_name(t)}}(this),e.sort(function(e){return function(e,t){var n;return n=le.cmp(t.last_active,e.last_active),n?n:le.cmp(i(e.account_id),i(t.account_id))}}(this))},t.prototype.get_users=function(e){return this.getIn(["project_map",e,"users"])},t.prototype.get_last_active=function(e){return this.getIn(["project_map",e,"last_active"])},t.prototype.get_title=function(e){return this.getIn(["project_map",e,"title"])},t.prototype.get_state=function(e){return this.getIn(["project_map",e,"state","state"])},t.prototype.get_description=function(e){return this.getIn(["project_map",e,"description"])},t.prototype.get_course_info=function(e){return this.getIn(["project_map",e,"course"])},t.prototype.date_when_course_payment_required=function(e){var t,n,r,i,o;if(t=this.redux.getStore("account"),null!=t&&(n=this.get_course_info(e),null!=n&&(r=(null!=n&&"function"==typeof n.get?n.get("account_id"):void 0)===xe.account_id||(null!=n&&"function"==typeof n.get?n.get("email_address"):void 0)===t.get("email_address"),r&&!this.is_deleted(e)&&(i=n.get("pay"))))){if(xe.server_time()>=le.months_before(-3,i))return;if(null==(o=this.get_total_project_quotas(e))||!o.member_host)return i}},t.prototype.is_deleted=function(e){return!!this.getIn(["project_map",e,"deleted"])},t.prototype.is_hidden_from=function(e,t){return!!this.getIn(["project_map",e,"users",t,"hide"])},t.prototype.get_project_select_list=function(e,t){var n,r,i,o,s,a,l,c;if(null==t&&(t=!0),a=this.get("project_map"),null!=a){for(n=xe.account_id,s=[],null!=e&&a.has(e)&&(s.push({id:e,title:a.get(e).get("title")}),a=a.delete(e)),c=a.toArray(),c.sort(function(e,t){return e.get("last_edited")<t.get("last_edited")?1:e.get("last_edited")>t.get("last_edited")?-1:0}),l=[],i=0,o=c.length;i<o;i++)r=c[i],r.deleted||!t&&r.get("users").get(n).get("hide")||l.push({id:r.get("project_id"),title:r.get("title")});return s=s.concat(l)}},t.prototype.get_my_group=function(e){var t,n,r,i,o;if(t=this.redux.getStore("account"),null!=t){if(i=t.get_user_type(),"public"===i)return"public";if(null!=this.get("project_map"))return r=this.getIn(["project_map",e]),null==r?t.is_admin()?"admin":"public":(o=r.get("users"),n=null!=o?o.get(t.get_account_id()):void 0,null==n?t.is_admin()?"admin":"public":n.get("group"))}},t.prototype.is_project_open=function(e){return this.get("open_projects").includes(e)},t.prototype.wait_until_project_is_open=function(e,t,n){return this.wait({until:function(t){return function(){return t.is_project_open(e)}}(this),timeout:t,cb:function(e){return function(e,t){return n(e||(null!=t?t.err:void 0))}}(this)})},t.prototype.wait_until_project_exists=function(e,t,n){return this.wait({until:function(t){return function(){return null!=t.getIn(["project_map",e])}}(this),timeout:t,cb:n})},t.prototype.wait_until_project_created=function(e,t,n){return this.wait({until:function(t){return function(){var n,r,i;if(i=ee[e],null!=i)return r=i.project_id,n=i.err,n?{err:n}:t.get("project_map").has(r)?{project_id:r}:void 0}}(this),timeout:t,cb:function(e){return function(e,t){return e?n(e):n(t.err,t.project_id)}}(this)})},t.prototype.get_total_upgrades_you_have_applied=function(){var e;if(null!=this.get("project_map"))return e={},this.get("project_map").map(function(t){return function(t,n){var r;return e=le.map_sum(e,null!=(r=t.getIn(["users",xe.account_id,"upgrades"]))?r.toJS():void 0)}}(this)),e},t.prototype.get_upgrades_you_applied_to_project=function(e){var t;return null!=(t=this.getIn(["project_map",e,"users",xe.account_id,"upgrades"]))?t.toJS():void 0},t.prototype.get_upgrades_to_project=function(e){var t,n,r,i,o,s,a,l,c;if(l=null!=(i=this.getIn(["project_map",e,"users"]))?i.toJS():void 0,null!=l){a={};for(t in l){n=l[t],s=null!=(o=n.upgrades)?o:{};for(r in s)c=s[r],c>0&&(null==a[r]&&(a[r]={}),a[r][t]=c)}return a}},t.prototype.get_total_project_upgrades=function(e){var t,n,r,i,o,s,a,l,c,u;if(c=null!=(i=this.getIn(["project_map",e,"users"]))?i.toJS():void 0,null!=c){l={};for(t in c){n=c[t],s=null!=(o=n.upgrades)?o:{};for(r in s)u=s[r],l[r]=(null!=(a=l[r])?a:0)+u}return l}},t.prototype.get_total_project_quotas=function(e){var t,n,r;if(t=null!=(n=this.getIn(["project_map",e,"settings"]))?n.toJS():void 0,null!=t)return le.coerce_codomain_to_numbers(t),r=this.get_total_project_upgrades(e),le.map_sum(t,r)},t.prototype.get_upgraded_projects=function(){var e;if(null!=this.get("project_map"))return e={},this.get("project_map").map(function(t){return function(n,r){var i;if(i=t.get_upgrades_to_project(r),le.len(i))return e[r]=i}}(this)),e},t.prototype.get_projects_upgraded_by=function(e){var t;if(null!=this.get("project_map"))return null==e&&(e=xe.account_id),t={},this.get("project_map").map(function(n){return function(r,i){var o,s,a,l,c;l=null!=(o=n.getIn(["project_map",i,"users",e,"upgrades"]))?o.toJS():void 0,s=[];for(a in l){if(c=l[a],c>0){t[i]=l;break}s.push(void 0)}return s}}(this)),t},t}(H),se={project_map:void 0,open_projects:oe.List(),public_project_titles:oe.Map()},ke=fe.createStore("projects",D,se),L=function(e){function t(){return this._change=Ce(this._change,this),t.__super__.constructor.apply(this,arguments)}return Ee(t,e),t.prototype.query=function(){return"projects"},t.prototype._change=function(e,t){return te.setState({project_map:e.get()})},t}(K),fe.createTable("projects",L),x=he({displayName:"Projects-NewProjectCreator",propTypes:{nb_projects:we.number.isRequired},getInitialState:function(){var e;return e={state:0===this.props.nb_projects?"edit":"view",title_text:"",error:""}},start_editing:function(){var e;return this.setState({state:"edit",title_text:""}),null!=(e=fe.getActions("billing"))?e.update_customer():void 0},cancel_editing:function(){return this.setState({state:"view",title_text:"",error:""})},toggle_editing:function(){return"view"===this.state.state?this.start_editing():this.cancel_editing()},create_project:function(e){var t;return t=le.uuid(),this.setState({state:"saving"}),te.create_project({title:this.state.title_text,token:t}),ke.wait_until_project_created(t,30,function(e){return function(t,n){return null!=t?e.setState({state:"edit",error:"Error creating project -- "+t}):(te.apply_default_upgrades({project_id:n}),te.open_project({project_id:n}))}}(this))},handle_keypress:function(e){return 27===e.keyCode?this.cancel_editing():13===e.keyCode&&""!==this.state.title_text?this.create_project():void 0},render_info_alert:function(){if("saving"===this.state.state)return z.createElement("div",{style:{marginTop:"30px"}},z.createElement(r,{bsStyle:"info"},"Creating project... ",z.createElement(_,{name:"circle-o-notch",spin:!0})))},render_error:function(){if(this.state.error)return z.createElement("div",{style:{marginTop:"30px"}},z.createElement(u,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this)}))},render_input_section:function(){return z.createElement(X,{style:{backgroundColor:"#FFF"}},z.createElement(B,null,z.createElement(c,{sm:6},z.createElement(h,null,z.createElement(p,{ref:"new_project_title",type:"text",placeholder:"Project title",disabled:"saving"===this.state.state,value:this.state.title_text,onChange:function(e){return function(){return e.setState({title_text:R.findDOMNode(e.refs.new_project_title).value})}}(this),onKeyDown:this.handle_keypress,autoFocus:!0})),z.createElement(a,null,z.createElement(o,{disabled:""===this.state.title_text||"saving"===this.state.state,onClick:function(e){return function(){return e.create_project(!1)}}(this),bsStyle:"success"},"Create project"),z.createElement(o,{disabled:"saving"===this.state.state,onClick:this.cancel_editing},"Cancel"))),z.createElement(c,{sm:6},z.createElement("div",{style:{color:"#666"}},"A ",z.createElement("b",null,"project")," is your own computational workspace that you can share with others.\nYou can easily change the project title later."))),z.createElement(B,null,z.createElement(c,{sm:12},this.render_error(),this.render_info_alert())))},render:function(){return z.createElement(B,null,z.createElement(c,{sm:4},z.createElement(o,{bsStyle:"success",active:"view"!==this.state.state,disabled:"view"!==this.state.state,block:!0,type:"submit",onClick:this.toggle_editing},z.createElement(_,{name:"plus-circle"})," Create new project...")),"view"!==this.state.state?z.createElement(c,{sm:12},z.createElement(W,null),this.render_input_section()):void 0)}}),T=he({displayName:"ProjectsFilterButtons",propTypes:{hidden:we.bool.isRequired,deleted:we.bool.isRequired,show_hidden_button:we.bool,show_deleted_button:we.bool},getDefaultProps:function(){return{hidden:!1,deleted:!1,show_hidden_button:!1,show_deleted_button:!1}},render_deleted_button:function(){var e;return e=this.props.deleted?"warning":"default",this.props.show_deleted_button?z.createElement(o,{onClick:function(e){return function(){return e.actions("projects").setState({deleted:!e.props.deleted})}}(this),bsStyle:e},z.createElement(_,{name:this.props.deleted?"check-square-o":"square-o",fixedWidth:!0})," Deleted"):null},render_hidden_button:function(){var e;if(e=this.props.hidden?"warning":"default",this.props.show_hidden_button)return z.createElement(o,{onClick:function(e){return function(){return e.actions("projects").setState({hidden:!e.props.hidden})}}(this),bsStyle:e},z.createElement(_,{name:this.props.hidden?"check-square-o":"square-o",fixedWidth:!0})," Hidden")},render:function(){return z.createElement(s,null,this.render_deleted_button(),this.render_hidden_button())}}),I=he({displayName:"Projects-ProjectsSearch",propTypes:{search:we.string.isRequired},getDefaultProps:function(){return{search:"",open_first_project:void 0}},clear_and_focus_search_input:function(){return this.refs.projects_search.clear_and_focus_search_input()},render:function(){return z.createElement(F,{ref:"projects_search",autoFocus:!0,value:this.props.search,placeholder:"Search for projects...",on_change:function(e){return function(t){return e.actions("projects").setState({search:t})}}(this),on_submit:function(e){return function(t,n){return e.props.open_first_project(!n.ctrl_down)}}(this)})}}),m=he({displayName:"Projects-HashtagGroup",propTypes:{hashtags:we.array.isRequired,toggle_hashtag:we.func.isRequired,selected_hashtags:we.object},getDefaultProps:function(){return{selected_hashtags:{}}},render_hashtag:function(e){var t;return t="info",this.props.selected_hashtags&&this.props.selected_hashtags[e]&&(t="warning"),z.createElement(o,{key:e,onClick:function(t){return function(){return t.props.toggle_hashtag(e)}}(this),bsSize:"small",bsStyle:t},le.trunc(e,60))},render:function(){var e;return z.createElement(s,{style:{maxHeight:"18ex",overflowY:"auto",overflowX:"hidden"}},function(){var t,n,r,i;for(r=this.props.hashtags,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(this.render_hashtag(e));return i}.call(this))}}),O=he({displayName:"Projects-ProjectsListingDescription",propTypes:{deleted:we.bool,hidden:we.bool,selected_hashtags:we.object,search:we.string,nb_projects:we.number.isRequired,visible_projects:we.array,on_cancel:we.func},getDefaultProps:function(){return{deleted:!1,hidden:!1,selected_hashtags:{},search:""}},getInitialState:function(){return{show_remove_from_all:!1}},render_header:function(){var e,t,n,r,i;if(this.props.nb_projects>0&&(this.props.hidden||this.props.deleted))return t=this.props.deleted?"deleted ":"",r=this.props.hidden?"hidden ":"",e=this.props.hidden&&this.props.deleted?" and ":"",i=this.props.visible_projects.length,n="Only showing "+i+" "+t+e+r+" "+le.plural(i,"project"),z.createElement("h3",{style:{color:"#666",wordWrap:"break-word"}},n)},render_span:function(e){return z.createElement("span",null,"whose title, description or users contain ",z.createElement("strong",null,e),z.createElement(W,null),z.createElement(W,null),z.createElement(o,{onClick:function(e){return function(){return e.setState({show_remove_from_all:!1}),e.props.on_cancel()}}(this)},"Cancel"))},render_alert_message:function(){var e,t,n;if(n=this.props.search.toLowerCase(),e=function(){var e;e=[];for(t in this.props.selected_hashtags)e.push(t);return e}.call(this).join(" "),""!==n&&""!==e&&(n+=" "),n+=e,""!==n||this.props.deleted||this.props.hidden)return z.createElement(r,{bsStyle:"warning",style:{fontSize:"1.3em"}},"Only showing",z.createElement(W,null),z.createElement("strong",null,""+(this.props.deleted?"deleted ":"")+(this.props.hidden?"hidden ":"")),"projects",z.createElement(W,null),""!==n?this.render_span(n):void 0,this.props.visible_projects.length>0?this.render_remove_from_all_button():void 0,this.state.show_remove_from_all?this.render_remove_from_all():void 0)},render_remove_from_all_button:function(){return z.createElement(o,{className:"pull-right",disabled:this.state.show_remove_from_all,onClick:function(e){return function(){return e.setState({show_remove_from_all:!0})}}(this)},z.createElement(_,{name:"user-times"}),"  Remove Myself...")},collab_projects:function(){var e;return function(){var t,n,r,i,o,s;for(r=this.props.visible_projects,s=[],t=0,n=r.length;t<n;t++)e=r[t],"owner"!==(null!=(i=e.users)&&null!=(o=i[xe.account_id])?o.group:void 0)&&s.push(e);return s}.call(this)},render_remove_from_all:function(){var e,t,n,i;if(0!==this.props.visible_projects.length)return i=this.collab_projects(),t=z.createElement("h4",null,z.createElement(_,{name:"user-times"}),"  Remove Myself from Projects"),0===i.length?z.createElement(r,{key:"remove_all",style:{marginTop:"15px"}},t,"You are the owner of every displayed project.  You can only remove yourself from projects that you do not own.\n",z.createElement(o,{onClick:function(e){return function(){return e.setState({show_remove_from_all:!1})}}(this)},"Cancel")):(i.length<this.props.visible_projects.length?(n=this.props.visible_projects.length-i.length,e="You are a collaborator on "+i.length+" of the "+this.props.visible_projects.length+" "+le.plural(this.props.visible_projects.length,"project")+" listed below (you own the other "+le.plural(n,"one")+")."):e=1===i.length?"You are a collaborator on the one project listed below.":"You are a collaborator on ALL of the "+i.length+" "+le.plural(i.length,"project")+" listed below.",z.createElement(r,{style:{marginTop:"15px"}},t," ",e,z.createElement("p",null),"Are you sure you want to remove yourself from the ",i.length," ",le.plural(i.length,"project")," listed below that you collaborate on?  ",z.createElement("b",null,"You will no longer have access and cannot add yourself back."),z.createElement(a,{style:{marginTop:"15px"}},z.createElement(o,{bsStyle:"danger",onClick:this.do_remove_from_all},z.createElement(_,{name:"user-times"})," Remove myself from ",i.length," ",le.plural(i.length,"project")),z.createElement(o,{onClick:function(e){return function(){return e.setState({show_remove_from_all:!1})}}(this)},"Cancel"))))},do_remove_from_all:function(){var e,t,n,r;for(r=this.collab_projects(),e=0,t=r.length;e<t;e++)n=r[e],this.actions("projects").remove_collaborator(n.project_id,xe.account_id);return this.setState({show_remove_from_all:!1})},render:function(){return z.createElement("div",null,z.createElement(W,null),this.render_header(),this.render_alert_message())}}),E=he({displayName:"Projects-ProjectRow",propTypes:{project:we.object.isRequired,index:we.number,redux:we.object},getDefaultProps:function(){return{user_map:void 0}},render_status:function(){var e,t;if(t=null!=(e=this.props.project.state)?e.state:void 0,null!=t)return z.createElement("span",{style:{color:"#666"}},z.createElement(S,{state:t}))},render_last_edited:function(){var e;try{return z.createElement(G,{date:new Date(this.props.project.last_edited).toISOString()})}catch(t){return e=t,console.log("error setting time of project "+this.props.project.project_id+" to "+this.props.project.last_edited+" -- "+e+"; please report to wstein@gmail.com")}},render_user_list:function(){var e,t,n,r,i,o,s;for(i=function(){var n,r;n=this.props.project.users,r=[];for(t in n)e=n[t],r.push({account_id:t});return r}.call(this),fe.getStore("projects").sort_by_activity(i,this.props.project.project_id),s=[],n=r=0,o=i.length;0<=o?r<o:r>o;n=0<=o?++r:--r)s.push(z.createElement(Q,{key:i[n].account_id,last_active:i[n].last_active,account_id:i[n].account_id,user_map:this.props.user_map}));return pe(s)},handle_mouse_down:function(e){return this.setState({selection_at_last_mouse_down:""+window.getSelection()})},handle_click:function(e){if(""+window.getSelection()===this.state.selection_at_last_mouse_down)return this.open_project_from_list(e)},open_project_from_list:function(e){return this.actions("projects").open_project({project_id:this.props.project.project_id,switch_to:!(2===e.which||e.ctrlKey||e.metaKey)}),e.preventDefault()},open_edit_collaborator:function(e){return this.actions("projects").open_project({project_id:this.props.project.project_id,switch_to:!(2===e.which||e.ctrlKey||e.metaKey),target:"settings"}),e.stopPropagation()},render:function(){var e;return e={backgroundColor:this.props.index%2?"#eee":"white",marginBottom:0,cursor:"pointer",wordWrap:"break-word"},z.createElement(X,{style:e,onClick:this.handle_click,onMouseDown:this.handle_mouse_down},z.createElement(B,null,z.createElement(c,{sm:3,style:{fontWeight:"bold",maxHeight:"7em",overflowY:"auto"}},z.createElement("a",null,ie(this.props.project.title))),z.createElement(c,{sm:2,style:{color:"#666",maxHeight:"7em",overflowY:"auto"}},this.render_last_edited()),z.createElement(c,{
sm:3,style:{color:"#666",maxHeight:"7em",overflowY:"auto"}},ie(this.props.project.description)),z.createElement(c,{sm:3,style:{maxHeight:"7em",overflowY:"auto"}},z.createElement("a",{onClick:this.open_edit_collaborator},z.createElement(_,{name:"user",style:{fontSize:"16pt",marginRight:"10px"}}),this.render_user_list())),z.createElement(c,{sm:1},this.render_status())))}}),C=he({displayName:"Projects-ProjectList",propTypes:{projects:we.array.isRequired,show_all:we.bool.isRequired,redux:we.object},getDefaultProps:function(){return{projects:[],user_map:void 0}},show_all_projects:function(){return this.actions("projects").setState({show_all:!this.props.show_all})},render_show_all:function(){var e;if(this.props.projects.length>w)return e=this.props.projects.length-w,z.createElement("br",null),z.createElement(o,{onClick:this.show_all_projects,bsStyle:"info",bsSize:"large"},"Show ",this.props.show_all?e+" less":e+" more"," matching projects...")},render_list:function(){var e,t,n,r,i,o;for(r=[],e=0,o=this.props.projects,t=0,n=o.length;t<n&&(i=o[t],!(e>=w)||this.props.show_all);t++)r.push(z.createElement(E,{project:i,user_map:this.props.user_map,index:e,key:e,redux:fe})),e+=1;return r},render:function(){return 0===this.props.nb_projects?z.createElement(r,{bsStyle:"info"},'You have not created any projects yet.\nClick on "Create a new project" above to start working with ',z.createElement(U,null),"!"):z.createElement("div",null,this.render_list(),this.render_show_all())}}),ue=function(e){var t,n,r;return r=(e.title+" "+e.description).toLowerCase(),n=le.parse_hashtags(r),function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)t=n[e],o.push(r.substring(t[0],t[1]));return o}()},ce=function(e,t){var n,r,i,o,s,a,l,c,u,d,p;for(d=(e.title+" "+e.description).toLowerCase(),c=le.split(d),i=0,a=c.length;i<a;i++)o=c[i],"#"===o[0]&&(p=o.slice(1).toLowerCase(),d+=" ["+o+"] ");for(u=le.keys(e.users),s=0,l=u.length;s<l;s++)n=u[s],n!==xe.account_id&&(r=null!=t?t.get(n):void 0,null!=r&&(d+=(" "+r.get("first_name")+" "+r.get("last_name")+" ").toLowerCase()));return d},de=function(e,t,n){var r,i,o;if(r=xe.account_id,null==r)throw Error("project page should not get rendered until after user sign-in and account info is set");return!!e.deleted===n&&!!(null!=(i=e.users)&&null!=(o=i[r])?o.hide:void 0)===t},exports.ProjectsPage=N=he({displayName:"Projects-ProjectsPage",reduxProps:{users:{user_map:we.immutable},projects:{project_map:we.immutable,hidden:we.bool,deleted:we.bool,search:we.string,selected_hashtags:we.object,show_all:we.bool},billing:{customer:we.object}},propTypes:{redux:we.object},getDefaultProps:function(){return{project_map:void 0,user_map:void 0,hidden:!1,deleted:!1,search:"",selected_hashtags:{},show_all:!1}},componentWillReceiveProps:function(e){var t;if(null!=this.props.project_map)return oe.is(this.props.project_map,e.project_map)||(this.update_project_list(this.props.project_map,e.project_map,e.user_map),t=!0),(t||this.props.hidden!==e.hidden||this.props.deleted!==e.deleted)&&this.update_hashtags(e.hidden,e.deleted),oe.is(this.props.user_map,e.user_map)?void 0:this.update_user_search_info(this.props.user_map,e.user_map)},_compute_project_derived_data:function(e,t){return e.hashtags=ue(e),e.search_string=ce(e,t),e},update_user_search_info:function(e,t){var n,r,i,o,s,a,l;if(null!=e&&null!=t&&null!=this._project_list){for(a=this._project_list,l=[],i=0,o=a.length;i<o;i++)s=a[i],l.push(function(){var i,o;i=s.users,o=[];for(r in i){if(n=i[r],!oe.is(null!=e?e.get(r):void 0,null!=t?t.get(r):void 0)){this._compute_project_derived_data(s,t);break}o.push(void 0)}return o}.call(this));return l}},update_project_list:function(e,t,n){var r,i,o,s,a,l,c;if(null==n&&(n=this.props.user_map),null!=e){if(null!=t&&null!=this._project_list){for(a=[],c=this._project_list,i=0,o=c.length;i<o;i++)l=c[i],r=l.project_id,s=t.get(r),null!=s&&(e.get(r).equals(s)?a.push(l):a.push(this._compute_project_derived_data(s.toJS(),n)));t.map(function(t){return function(r,i){if(null==e.get(i))return a.push(t._compute_project_derived_data(r.toJS(),n))}}(this))}else a=function(){var t,r,i,o;for(i=e.toArray(),o=[],t=0,r=i.length;t<r;t++)l=i[t],o.push(this._compute_project_derived_data(l.toJS(),n));return o}.call(this);return this._project_list=a,this._project_list.sort(function(e,t){return-le.cmp(e.last_edited,t.last_edited)})}},project_list:function(){var e;return null!=(e=this._project_list)?e:this.update_project_list(this.props.project_map)},update_hashtags:function(e,t){var n,r,i,o,s,a,l,c,u;for(u={},a=this.project_list(),n=0,i=a.length;n<i;n++)if(s=a[n],de(s,e,t))for(l=s.hashtags,r=0,o=l.length;r<o;r++)c=l[r],u[c]=!0;return this._hashtags=le.keys(u).sort(),this._hashtags},hashtags:function(){var e;return null!=(e=this._hashtags)?e:this.update_hashtags(this.props.hidden,this.props.deleted)},matches:function(e,t){var n,r,i,o;for(i=e.search_string,n=0,r=t.length;n<r;n++)if(o=t[n],"#"===o[0]&&(o="["+o+"]"),i.indexOf(o)===-1)return!1;return!0},visible_projects:function(){var e,t,n;return t=Ae.intersection(le.keys(this.props.selected_hashtags[this.filter()]),this.hashtags()),n=le.split(this.props.search.toLowerCase()).concat(t),function(){var t,r,i,o;for(i=this.project_list(),o=[],t=0,r=i.length;t<r;t++)e=i[t],de(e,this.props.hidden,this.props.deleted)&&this.matches(e,n)&&o.push(e);return o}.call(this)},toggle_hashtag:function(e){var t,n;return n=this.props.selected_hashtags,t=this.filter(),n[t]||(n[t]={}),n[t][e]?delete n[t][e]:n[t][e]=!0,this.actions("projects").setState({selected_hashtags:n})},filter:function(){return this.props.hidden+"-"+this.props.deleted},render_projects_title:function(){var e;return e={color:"#666",fontSize:"24px",fontWeight:"500",marginBottom:"1ex"},z.createElement("div",{style:e},z.createElement(_,{name:"thumb-tack"})," Projects ")},open_first_project:function(e){var t;if(null==e&&(e=!0),t=this.visible_projects()[0],null!=t)return this.actions("projects").setState({search:""}),this.actions("projects").open_project({project_id:t.project_id,switch_to:e})},has_hidden_projects:function(){var e,t,n,r;for(r=this.project_list(),e=0,t=r.length;e<t;e++)if(n=r[e],de(n,!0,!1)||de(n,!0,!0))return!0;return!1},has_deleted_projects:function(){var e,t,n,r;for(r=this.project_list(),e=0,t=r.length;e<t;e++)if(n=r[e],de(n,!1,!0)||de(n,!0,!0))return!0;return!1},clear_filters_and_focus_search_input:function(){return this.actions("projects").setState({selected_hashtags:{}}),this.refs.search.clear_and_focus_search_input()},render:function(){var e,t;return null==this.props.project_map?"public"===(null!=(e=fe.getStore("account"))?e.get_user_type():void 0)?z.createElement(b,null):z.createElement("div",{style:{fontSize:"40px",textAlign:"center",color:"#999999"}}," ",z.createElement(y,null),"  "):(t=this.visible_projects(),z.createElement("div",{className:"container-content"},z.createElement(f,{fluid:!0,className:"constrained",style:{minHeight:"75vh"}},z.createElement(X,{style:{marginTop:"1em",overflow:"hidden"}},z.createElement(B,null,z.createElement(c,{sm:4},this.render_projects_title()),z.createElement(c,{sm:4},z.createElement(T,{hidden:this.props.hidden,deleted:this.props.deleted,show_hidden_button:this.has_hidden_projects()||this.props.hidden,show_deleted_button:this.has_deleted_projects()||this.props.deleted})),z.createElement(c,{sm:4},z.createElement(Z,{style:{width:"100%"}}))),z.createElement(B,null,z.createElement(c,{sm:4},z.createElement(I,{ref:"search",search:this.props.search,open_first_project:this.open_first_project})),z.createElement(c,{sm:8},z.createElement(m,{hashtags:this.hashtags(),selected_hashtags:this.props.selected_hashtags[this.filter()],toggle_hashtag:this.toggle_hashtag}))),z.createElement(B,null,z.createElement(c,{sm:12,style:{marginTop:"1ex"}},z.createElement(x,{nb_projects:this.project_list().length}))),z.createElement(B,null,z.createElement(c,{sm:12},z.createElement(O,{nb_projects:this.project_list().length,visible_projects:t,hidden:this.props.hidden,deleted:this.props.deleted,search:this.props.search,selected_hashtags:this.props.selected_hashtags[this.filter()],on_cancel:this.clear_filters_and_focus_search_input}))),z.createElement(B,null,z.createElement(c,{sm:12},z.createElement(C,{projects:t,show_all:this.props.show_all,user_map:this.props.user_map,redux:fe}))))),z.createElement(d,null)))}}),exports.ProjectTitle=j=he({displayName:"Projects-ProjectTitle",reduxProps:{projects:{project_map:we.immutable}},propTypes:{project_id:we.string.isRequired,handle_click:we.func,style:we.object},shouldComponentUpdate:function(e){var t,n,r,i;return(null!=(t=e.project_map)&&null!=(n=t.get(this.props.project_id))?n.get("title"):void 0)!==(null!=(r=this.props.project_map)&&null!=(i=r.get(this.props.project_id))?i.get("title"):void 0)},render:function(){var e,t,n;return null==this.props.project_map?z.createElement(y,null):(n=null!=(e=this.props.project_map)&&null!=(t=e.get(this.props.project_id))?t.get("title"):void 0,null!=n?z.createElement("a",{onClick:this.props.handle_click,style:this.props.style,role:"button"},ie(n)):z.createElement("span",{style:this.props.style},"(Private project)"))}}),exports.ProjectTitleAuto=he({displayName:"Projects-ProjectTitleAuto",propTypes:{project_id:we.string.isRequired,style:we.object},handle_click:function(){return this.actions("projects").open_project({project_id:this.props.project_id})},render:function(){return z.createElement(P,{redux:fe},z.createElement(j,{style:this.props.style,project_id:this.props.project_id,handle_click:this.handle_click}))}})},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(443),i=n(r),o=t(442),s=n(o),a="function"==typeof s.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};exports.default="function"==typeof s.default&&"symbol"===a(i.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,exports,t){!function(e){e(t(2))}(function(e){function t(e,t,r,i){var o=e.getLineHandle(t.line),l=t.ch-1,c=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(r&&u>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(s(t.line,l+1)),p=n(e,s(t.line,l+(u>0?1:0)),u,d||null,i);return null==p?null:{from:s(t.line,l),to:p&&p.pos,match:p&&p.ch==c.charAt(0),forward:u>0}}function n(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,c=[],u=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,d=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),p=t.line;p!=d;p+=n){var h=e.getLine(p);if(h){var f=n>0?0:h.length-1,m=n>0?h.length:-1;if(!(h.length>o))for(p==t.line&&(f=t.ch-(n<0?1:0));f!=m;f+=n){var _=h.charAt(f);if(u.test(_)&&(void 0===r||e.getTokenTypeAt(s(p,f+1))==r)){var g=a[_];if(">"==g.charAt(1)==n>0)c.push(_);else{if(!c.length)return{pos:s(p,f),ch:_};c.pop()}}}}}return p-n!=(n>0?e.lastLine():e.firstLine())&&null}function r(e,n,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&t(e,l[c].head,!1,r);if(u&&e.getLine(u.from.line).length<=i){var d=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(u.from,s(u.from.line,u.from.ch+1),{className:d})),u.to&&e.getLine(u.to.line).length<=i&&a.push(e.markText(u.to,s(u.to.line,u.to.ch+1),{className:d}))}}if(a.length){o&&e.state.focused&&e.focus();var p=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return p;setTimeout(p,800)}}function i(e){e.operation(function(){l&&(l(),l=null),l=r(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",i),l&&(l(),l=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,r){return t(this,e,n,r)}),e.defineExtension("scanForBracket",function(e,t,r,i){return n(this,e,t,r,i)})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(p(e.line,t));return n&&/\btag\b/.test(n)}function i(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function s(e){for(;;){var t=e.text.indexOf(">",e.ch);if(t==-1){if(i(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function a(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(t==-1){if(o(e))continue;return}if(r(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(i(e))continue;return}{if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(t==-1){if(o(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}}function u(e,t){for(var n=[];;){var r,i=l(e),o=e.line,a=e.ch-(i?i[0].length:0);if(!i||!(r=s(e)))return;if("selfClose"!=r)if(i[1]){for(var c=n.length-1;c>=0;--c)if(n[c]==i[2]){n.length=c;break}if(c<0&&(!t||t==i[2]))return{tag:i[2],from:p(o,a),to:p(e.line,e.ch)}}else n.push(i[2])}}function d(e,t){for(var n=[];;){var r=c(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,s=a(e);if(!s)return;if(s[1])n.push(s[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==s[2]){n.length=l;break}if(l<0&&(!t||t==s[2]))return{tag:s[2],from:p(e.line,e.ch),to:p(i,o)}}}else a(e)}}var p=e.Pos,h="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",f=h+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=RegExp("<(/?)(["+h+"]["+f+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var r=new n(e,t.line,0);;){var i,o=l(r);if(!o||r.line!=t.line||!(i=s(r)))return;if(!o[1]&&"selfClose"!=i){var a=p(r.line,r.ch),c=u(r,o[2]);return c&&{from:a,to:c.from}}}}),e.findMatchingTag=function(e,r,i){var o=new n(e,r.line,r.ch,i);if(o.text.indexOf(">")!=-1||o.text.indexOf("<")!=-1){var l=s(o),c=l&&p(o.line,o.ch),h=l&&a(o);if(l&&h&&!(t(o,r)>0)){var f={from:p(o.line,o.ch),to:c,tag:h[2]};return"selfClose"==l?{open:f,close:null,at:"open"}:h[1]?{open:d(o,h[2]),close:f,at:"close"}:(o=new n(e,c.line,c.ch,i),{open:f,close:u(o,h[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,r,i){for(var o=new n(e,t.line,t.ch,r);;){var s=d(o,i);if(!s)break;var a=new n(e,t.line,t.ch,r),l=u(a,s.tag);if(l)return{open:s,close:l}}},e.scanForClosingTag=function(e,t,r,i){var o=new n(e,t.line,t.ch,i?{from:0,to:i}:null);return u(o,r)}})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t,i,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),i=i?e.clipPos(i):r(0,0),this.pos={from:i,to:i},"string"!=typeof t)t.global||(t=RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,i){if(n){t.lastIndex=0;for(var o,s,a=e.getLine(i.line).slice(0,i.ch),l=0;;){t.lastIndex=l;var c=t.exec(a);if(!c)break;if(o=c,s=o.index,l=o.index+(o[0].length||1),l==a.length)break}var u=o&&o[0].length||0;u||(0==s&&0==a.length?o=void 0:s!=e.getLine(i.line).length&&u++)}else{t.lastIndex=i.ch;var a=e.getLine(i.line),o=t.exec(a),u=o&&o[0].length||0,s=o&&o.index;s+u==a.length||u||(u=1)}if(o&&u)return{from:r(i.line,s),to:r(i.line,s+u),match:o}};else{var s=t;o&&(t=t.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)t.length?this.matches=function(i,o){if(i){var l=e.getLine(o.line).slice(0,o.ch),c=a(l),u=c.lastIndexOf(t);if(u>-1)return u=n(l,c,u),{from:r(o.line,u),to:r(o.line,u+s.length)}}else{var l=e.getLine(o.line).slice(o.ch),c=a(l),u=c.indexOf(t);if(u>-1)return u=n(l,c,u)+o.ch,{from:r(o.line,u),to:r(o.line,u+s.length)}}}:this.matches=function(){};else{var c=s.split("\n");this.matches=function(t,n){var i=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(a(e.getLine(n.line).slice(0,c[i].length))!=l[l.length-1])return;for(var o=r(n.line,c[i].length),s=n.line-1,u=i-1;u>=1;--u,--s)if(l[u]!=a(e.getLine(s)))return;var d=e.getLine(s),p=d.length-c[0].length;if(a(d.slice(p))!=l[0])return;return{from:r(s,p),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var d=e.getLine(n.line),p=d.length-c[0].length;if(a(d.slice(p))==l[0]){for(var h=r(n.line,p),s=n.line+1,u=1;u<i;++u,++s)if(l[u]!=a(e.getLine(s)))return;if(a(e.getLine(s).slice(0,c[i].length))==l[i])return{from:h,to:r(s,c[i].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var r=Math.min(n,e.length);;){var i=e.slice(0,r).toLowerCase().length;if(i<n)++r;else{if(!(i>n))return r;--r}}}var r=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=r(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,i=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,i))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!i.line)return t(0);i=r(i.line-1,this.doc.getLine(i.line-1).length)}else{var o=this.doc.lineCount();if(i.line==o-1)return t(o);i=r(i.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,r){return new t(this.doc,e,n,r)}),e.defineDocExtension("getSearchCursor",function(e,n,r){return new t(this,e,n,r)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})})},function(e,exports,t){var n=t(221);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,exports){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,exports,t){var n=t(528);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,exports){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,exports){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,exports){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,exports,t){var $=t(41),n=t(147);e.exports=t(219)?function(e,t,r){return $.setDesc(e,t,n(1,r))}:function(e,t,n){return e[t]=n,e}},function(e,exports){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,exports,t){var n=t(41).setDesc,r=t(145),i=t(52)("toStringTag");e.exports=function(e,t,o){e&&!r(e=o?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.default)();try{return e.activeElement}catch(e){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(76),o=n(i);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=(0,o.default)(e);return void 0===t?n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop:void(n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(66),o=n(i);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",s=0;s<n.length;s++){var a=n[s];if(a+"TransitionProperty"in e){o="-"+a.toLowerCase(),r=t[a]("TransitionEnd"),i=t[a]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:r,prefix:o}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.animationEnd=exports.animationDelay=exports.animationTiming=exports.animationDuration=exports.animationName=exports.transitionEnd=exports.transitionDuration=exports.transitionDelay=exports.transitionTiming=exports.transitionProperty=exports.transform=void 0;var i=t(54),o=n(i),s="transform",a=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,f=void 0,m=void 0,_=void 0,g=void 0;if(o.default){var v=r();a=v.prefix,exports.transitionEnd=l=v.transitionEnd,exports.animationEnd=c=v.animationEnd,exports.transform=s=a+"-"+s,exports.transitionProperty=u=a+"-transition-property",exports.transitionDuration=d=a+"-transition-duration",exports.transitionDelay=h=a+"-transition-delay",exports.transitionTiming=p=a+"-transition-timing-function",exports.animationName=f=a+"-animation-name",exports.animationDuration=m=a+"-animation-duration",exports.animationTiming=_=a+"-animation-delay",exports.animationDelay=g=a+"-animation-timing-function"}exports.transform=s,exports.transitionProperty=u,exports.transitionTiming=p,exports.transitionDelay=h,exports.transitionDuration=d,exports.transitionEnd=l,exports.animationName=f,exports.animationDuration=m,exports.animationTiming=_,exports.animationDelay=g,exports.animationEnd=c,exports.default={transform:s,end:l,property:u,timing:p,delay:h,duration:d}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,o.default)(e.replace(s,"ms-"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(569),o=n(i),s=/^-ms-/;e.exports=exports.default},function(e,exports){"use strict";function t(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function n(e,n){if(t(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(!r.call(n,i[s])||!t(e[i[s]],n[i[s]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,exports){exports=e.exports=function(e){if(e&&"object"==typeof e){var r=e.which||e.keyCode||e.charCode;r&&(e=r)}if("number"==typeof e)return i[e];var o=e+"",s=t[o.toLowerCase()];if(s)return s;var s=n[o.toLowerCase()];return s?s:1===o.length?o.charCodeAt(0):void 0};var t=exports.code=exports.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=exports.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)t[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)t[r-48]=r;for(r=1;r<13;r++)t["f"+r]=r+111;for(r=0;r<10;r++)t["numpad "+r]=r+96;var i=exports.names=exports.title={};for(r in t)i[t[r]]=r;for(var o in n)t[o]=n[o]},function(e,exports,t){function n(e,t){var n=i(e,t);return r(n)?n:void 0}var r=t(1130),i=t(1160);e.exports=n},function(e,exports,t){function n(e){if(!o(e)||r(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var r=t(133),i=t(591),o=t(134),s="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,u=l.hasOwnProperty,d=c.call(Object);e.exports=n},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){e.offsetHeight}function i(e,t){var n=t["offset"+(0,E.default)(e)],r=M[e];return n+parseInt((0,v.default)(t,r[0]),10)+parseInt((0,v.default)(t,r[1]),10)}exports.__esModule=!0;var o=t(7),s=n(o),a=t(8),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(53),v=n(g),y=t(1),b=n(y),w=t(11),x=n(w),k=t(283),A=n(k),C=t(261),E=n(C),S=t(32),j=n(S),M={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]},T={in:x.default.bool,mountOnEnter:x.default.bool,unmountOnExit:x.default.bool,transitionAppear:x.default.bool,timeout:x.default.number,onEnter:x.default.func,onEntering:x.default.func,onEntered:x.default.func,onExit:x.default.func,onExiting:x.default.func,onExited:x.default.func,dimension:x.default.oneOfType([x.default.oneOf(["height","width"]),x.default.func]),getDimensionValue:x.default.func,role:x.default.string},O={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1,dimension:"height",getDimensionValue:i},N=function(e){function t(n,r){(0,u.default)(this,t);var i=(0,p.default)(this,e.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleEntering=i.handleEntering.bind(i),i.handleEntered=i.handleEntered.bind(i),i.handleExit=i.handleExit.bind(i),i.handleExiting=i.handleExiting.bind(i),i}return(0,f.default)(t,e),t.prototype.handleEnter=function(e){var t=this._dimension();e.style[t]="0"},t.prototype.handleEntering=function(e){var t=this._dimension();e.style[t]=this._getScrollDimensionValue(e,t)},t.prototype.handleEntered=function(e){var t=this._dimension();e.style[t]=null},t.prototype.handleExit=function(e){var t=this._dimension();e.style[t]=this.props.getDimensionValue(t,e)+"px",r(e)},t.prototype.handleExiting=function(e){var t=this._dimension();e.style[t]="0"},t.prototype._dimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},t.prototype._getScrollDimensionValue=function(e,t){return e["scroll"+(0,E.default)(t)]+"px"},t.prototype.render=function(){var e=this.props,t=e.onEnter,n=e.onEntering,r=e.onEntered,i=e.onExit,o=e.onExiting,a=e.className,c=(0,l.default)(e,["onEnter","onEntering","onEntered","onExit","onExiting","className"]);delete c.dimension,delete c.getDimensionValue;var u=(0,j.default)(this.handleEnter,t),d=(0,j.default)(this.handleEntering,n),p=(0,j.default)(this.handleEntered,r),h=(0,j.default)(this.handleExit,i),f=(0,j.default)(this.handleExiting,o),m={width:"width"===this._dimension()};return b.default.createElement(A.default,(0,s.default)({},c,{"aria-expanded":c.role?c.in:null,className:(0,_.default)(a,m),exitedClassName:"collapse",exitingClassName:"collapsing",enteredClassName:"collapse in",enteringClassName:"collapsing",onEnter:u,onEntering:d,onEntered:p,onExit:h,onExiting:f}))},t}(b.default.Component);N.propTypes=T,N.defaultProps=O,exports.default=N,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b={glyph:v.default.string.isRequired},w=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,r=t.className,o=(0,s.default)(t,["glyph","className"]),a=(0,y.splitBsProps)(o),l=a[0],c=a[1],u=(0,i.default)({},(0,y.getClassSet)(l),(e={},e[(0,y.prefix)(l,n)]=!0,e));return _.default.createElement("span",(0,i.default)({},c,{className:(0,f.default)(r,u)}))},t}(_.default.Component);w.propTypes=b,exports.default=(0,y.bsClass)("glyphicon",w),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(632),b=n(y),w=t(633),x=n(w),k=t(634),A=n(k),C=t(635),E=n(C),S=t(636),j=n(S),M=t(637),T=n(M),O=t(10),N={componentClass:v.default},I={componentClass:"div"},D=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,O.splitBsProps)(r),a=o[0],l=o[1],c=(0,O.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);D.propTypes=N,D.defaultProps=I,D.Heading=x.default,D.Body=b.default,D.Left=A.default,D.Right=T.default,D.List=E.default,D.ListItem=j.default,exports.default=(0,O.bsClass)("media",D),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(1),p=n(d),h=t(11),f=n(h),m=t(69),_=n(m),g="tab",v="pane",y=f.default.oneOfType([f.default.string,f.default.number]),b={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t=y.apply(void 0,[e].concat(r)),t||e.id||(t=Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:f.default.func,onSelect:f.default.func,activeKey:f.default.any},w={$bs_tabContainer:f.default.shape({activeKey:f.default.any,onSelect:f.default.func.isRequired,getTabId:f.default.func.isRequired,getPaneId:f.default.func.isRequired})},x=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,r=e.generateChildId,i=e.id,o=r||function(e,t){return i?i+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return o(e,g)},getPaneId:function(e){return o(e,v)}}}},t.prototype.render=function(){var e=this.props,t=e.children,n=(0,i.default)(e,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,p.default.cloneElement(p.default.Children.only(t),n)},t}(p.default.Component);x.propTypes=b,x.childContextTypes=w,exports.default=(0,_.default)(x,{activeKey:"onSelect"}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(10),x={componentClass:b.default,animation:v.default.oneOfType([v.default.bool,b.default]),mountOnEnter:v.default.bool,unmountOnExit:v.default.bool},k={componentClass:"div",animation:!0,mountOnEnter:!1,
unmountOnExit:!1},A={$bs_tabContainer:v.default.shape({activeKey:v.default.any})},C={$bs_tabContent:v.default.shape({bsClass:v.default.string,animation:v.default.oneOfType([v.default.bool,b.default]),activeKey:v.default.any,mountOnEnter:v.default.bool,unmountOnExit:v.default.bool,onPaneEnter:v.default.func.isRequired,onPaneExited:v.default.func.isRequired,exiting:v.default.bool.isRequired})},E=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handlePaneEnter=i.handlePaneEnter.bind(i),i.handlePaneExited=i.handlePaneExited.bind(i),i.state={activeKey:null,activeChild:null},i}return(0,p.default)(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,r=e.mountOnEnter,i=e.unmountOnExit,o=this.state.activeKey,s=this.getContainerActiveKey(),a=null!=o?o:s,l=null!=o&&o!==s;return{$bs_tabContent:{bsClass:t,animation:n,activeKey:a,mountOnEnter:r,unmountOnExit:i,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:l}}},t.prototype.componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.handlePaneEnter=function(e,t){return!!this.props.animation&&(t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0))},t.prototype.handlePaneExited=function(e){this.isUnmounted||this.setState(function(t){var n=t.activeChild;return n!==e?null:{activeKey:null,activeChild:null}})},t.prototype.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,w.splitBsPropsAndOmit)(r,["animation","mountOnEnter","unmountOnExit"]),a=o[0],l=o[1];return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,(0,w.prefix)(a,"content"))}))},t}(_.default.Component);E.propTypes=x,E.defaultProps=k,E.contextTypes=A,E.childContextTypes=C,exports.default=(0,w.bsClass)("tab",E),e.exports=exports.default},function(e,exports,t){"use strict";function n(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function r(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):f(e,t,n)}function o(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],a(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(f(e,i,r),i===n)break;i=o}}function a(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&f(r,document.createTextNode(n),i):n?(h(i,n),a(r,i,t)):a(r,e,t)}var c=t(78),u=t(674),d=(t(28),t(45),t(171)),p=t(120),h=t(279),f=d(function(e,t,n){e.insertBefore(t,n)}),m=u.dangerouslyReplaceNodeWithMarkup,_={dangerouslyReplaceNodeWithMarkup:m,replaceDelimitedText:l,processUpdates:function(e,t){for(var s=0;s<t.length;s++){var a=t[s];switch(a.type){case"INSERT_MARKUP":r(e,a.content,n(e,a.afterNode));break;case"MOVE_EXISTING":i(e,a.fromNode,n(e,a.afterNode));break;case"SET_MARKUP":p(e,a.content);break;case"TEXT_CONTENT":h(e,a.content);break;case"REMOVE_NODE":o(e,a.fromNode)}}}};e.exports=_},function(e,exports){"use strict";var t={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=t},function(e,exports,t){"use strict";function n(){if(s)for(var e in a){var t=a[e],n=s.indexOf(e);if(n>-1?void 0:o("96",e),!l.plugins[n]){t.extractEvents?void 0:o("97",e),l.plugins[n]=t;var i=t.eventTypes;for(var c in i)r(i[c],t,c)?void 0:o("98",c,e)}}}function r(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?o("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];i(a,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]?o("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=t(20),s=(t(14),null),a={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?o("101"):void 0,s=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];a.hasOwnProperty(r)&&a[r]===i||(a[r]?o("102",r):void 0,a[r]=i,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=l.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in a)a.hasOwnProperty(e)&&delete a[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=l},function(e,exports,t){"use strict";function n(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function r(e){return"topMouseMove"===e||"topTouchMove"===e}function i(e){return"topMouseDown"===e||"topTouchStart"===e}function o(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=_.getNodeFromInstance(r),t?f.invokeGuardedCallbackWithCatch(i,n,e):f.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)o(e,t,n[i],r[i]);else n&&o(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function a(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=a(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?h("103"):void 0,e.currentTarget=t?_.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function u(e){return!!e._dispatchListeners}var d,p,h=t(20),f=t(169),m=(t(14),t(18),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){p=e}}),_={isEndish:n,isMoveish:r,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:u,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return p.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return p.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return p.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return p.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return p.traverseEnterLeave(e,t,n,r,i)},injection:m};e.exports=_},function(e,exports){"use strict";function t(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function n(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var r={escape:t,unescape:n};e.exports=r},function(e,exports,t){"use strict";function n(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function r(e){n(e),null!=e.value||null!=e.onChange?s("88"):void 0}function i(e){n(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=t(20),a=t(699),l=t(242),c=t(72),u=l(c.isValidElement),d=(t(14),t(18),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},h={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var i=p[r](t,r,e,"prop",null,a);if(i instanceof Error&&!(i.message in h)){h[i.message]=!0;o(n)}}},getValue:function(e){return e.valueLink?(r(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(r(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,exports,t){"use strict";var n=t(20),r=(t(14),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r?n("104"):void 0,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};e.exports=i},function(e,exports,t){"use strict";function n(e,t,n){try{t(n)}catch(e){null===r&&(r=e)}}var r=null,i={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=i},function(e,exports,t){"use strict";function n(e){a.enqueueUpdate(e)}function r(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);if(!n){return null}return n}var o=t(20),s=(t(57),t(96)),a=(t(45),t(47)),l=(t(14),t(18),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,r){l.validateCallback(t,r);var o=i(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void n(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t,r){var o=i(e,"replaceState");o&&(o._pendingStateQueue=[t],o._pendingReplaceState=!0,void 0!==r&&null!==r&&(l.validateCallback(r,"replaceState"),o._pendingCallbacks?o._pendingCallbacks.push(r):o._pendingCallbacks=[r]),n(o))},enqueueSetState:function(e,t){var r=i(e,"setState");if(r){var o=r._pendingStateQueue||(r._pendingStateQueue=[]);o.push(t),n(r)}},enqueueElementInternal:function(e,t,r){e._pendingElement=t,e._context=r,n(e)},validateCallback:function(e,t){e&&"function"!=typeof e?o("122",t,r(e)):void 0}});e.exports=l},function(e,exports){"use strict";var t=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=t},function(e,exports){"use strict";function t(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=t},function(e,exports){"use strict";function t(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=r[e];return!!i&&!!n[i]}function n(e){return t}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=n},function(e,exports){"use strict";function t(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=t},function(e,exports,t){"use strict";function n(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var s=document.createElement("div");s.setAttribute(n,"return;"),o="function"==typeof s[n]}return!o&&r&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var r,i=t(35);i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=n},function(e,exports){"use strict";function t(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=t},function(e,exports,t){"use strict";var n=(t(25),t(42)),r=(t(18),n);e.exports=r},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(29),o=n(i);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,o){var a=e[t],l=void 0===a?"undefined":i(a);return s.default.isValidElement(a)?Error("Invalid "+r+" `"+o+"` of type ReactElement "+("supplied to `"+n+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof a.render||1===a.nodeType?null:Error("Invalid "+r+" `"+o+"` of value `"+a+"` "+("supplied to `"+n+"`, expected a ReactComponent or a ")+"DOMElement.")}exports.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=t(1),s=n(o),a=t(123),l=n(a);exports.default=(0,l.default)(r)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t(1),d=n(u),p=t(3),h=n(p),f=(l=a=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.tabIndex,i=e.open,o=e.dropUp,s=e.disabled,a=e.readOnly,l=e.focused,u=r(e,["className","tabIndex","open","dropUp","disabled","readOnly","focused"]),p=!!this.context.isRtl,f="rw-open"+(o?"-up":"");return n=null!=n?n:"-1",d.default.createElement("div",c({},u,{tabIndex:n,className:(0,h.default)(t,"rw-widget",p&&"rw-rtl",i&&f,l&&"rw-state-focus",s&&"rw-state-disabled",a&&"rw-state-readonly")}))},t}(d.default.Component),a.propTypes={tabIndex:u.PropTypes.node,focused:u.PropTypes.bool,disabled:u.PropTypes.bool,readOnly:u.PropTypes.bool,open:u.PropTypes.bool,dropUp:u.PropTypes.bool},a.contextTypes={isRtl:u.PropTypes.bool},l);exports.default=f,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function i(e){function t(e,t,n){var r=e.props[t?"onFocus":"onBlur"];r&&n&&n.persist(),i&&i.call(e,t,n)===!1||e.setTimeout("focus",function(){l.default.batchedUpdates(function(){a&&a.call(e,t,n),t!==e.state.focused&&((0,o.notify)(r,n),e.isMounted()&&e.setState({focused:t}))})})}var n,i=e.willHandle,a=e.didHandle;return n={handleBlur:function(e){t(this,!1,e)},handleFocus:function(e){t(this,!0,e)}},r(n,"handleBlur",[s.widgetEnabled],Object.getOwnPropertyDescriptor(n,"handleBlur"),n),r(n,"handleFocus",[s.widgetEnabled],Object.getOwnPropertyDescriptor(n,"handleFocus"),n),n}exports.__esModule=!0,exports.default=i;var o=t(51),s=t(68),a=t(43),l=n(a);e.exports=exports.default},function(e,exports,t){"use strict";var n=t(1);e.exports={propTypes:{isRtl:n.PropTypes.bool},contextTypes:{isRtl:n.PropTypes.bool},childContextTypes:{isRtl:n.PropTypes.bool},getChildContext:function(){return{isRtl:!!(this.props.isRtl||this.context&&this.context.isRtl)}},isRtl:function(){return!!(this.props.isRtl||this.context&&this.context.isRtl)}}},function(e,exports){"use strict";exports.__esModule=!0;var t,n,r={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"};exports.directions={LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"},exports.datePopups={TIME:"time",CALENDAR:"calendar"},exports.calendarViews=r,exports.calendarViewHierarchy=(t={},t[r.MONTH]=r.YEAR,t[r.YEAR]=r.DECADE,t[r.DECADE]=r.CENTURY,t),exports.calendarViewUnits=(n={},n[r.MONTH]="day",n[r.YEAR]=r.MONTH,n[r.DECADE]=r.YEAR,n[r.CENTURY]=r.DECADE,n)},function(e,exports,t){"use strict";function n(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}var r=t(82),i=t(185),o=(t(296),t(85));t(14),t(18);n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?r("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=n},function(e,exports,t){"use strict";function n(e,t){}var r=(t(18),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e,t){n(e,"replaceState")},enqueueSetState:function(e,t){n(e,"setState")}});e.exports=r},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,_e,ge,ve,ye,be,we,xe,ke,Ae,Ce,Ee,Se,je,Me=function(e,t){return function(){return e.apply(t,arguments)}},Te=function(e,t){function n(){this.constructor=e}for(var r in t)Oe.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Oe={}.hasOwnProperty;$=window.$,oe=t(31),fe=t(9),re=t(23),be=t(12),ye=be.redux,ve=be.rclass,U=be.React,W=be.ReactDOM,Ce=be.rtypes,r=be.Actions,V=be.Store,we=t(22),u=we.Button,p=we.ButtonToolbar,x=we.FormControl,k=we.FormGroup,H=we.Row,f=we.Col,n=we.Accordion,N=we.Panel,ne=we.Well,a=we.Alert,d=we.ButtonGroup,E=we.InputGroup,xe=t(17),i=xe.ActivityDisplay,_=xe.ErrorDisplay,C=xe.Icon,M=xe.Loading,G=xe.SelectorInput,ge=xe.r_join,J=xe.Space,ee=xe.TimeAgo,te=xe.Tip,w=xe.Footer,ke=t(48),A=ke.HelpEmailLink,Y=ke.SiteName,P=ke.PolicyPricingPageUrl,B=ke.PolicyPrivacyPageUrl,R=ke.PolicyCopyrightPageUrl,O=t(24).PROJECT_UPGRADES,he=function(e){return"undefined"!=typeof Stripe&&null!==Stripe?e():$.getScript("https://js.stripe.com/v2/").done(function(){return e()}).fail(function(){return e("Unable to load Stripe support")})},pe=null,ie=Se=void 0,l=function(e){function n(){return this.cancel_everything=Me(this.cancel_everything,this),this.create_subscription=Me(this.create_subscription,this),this.cancel_subscription=Me(this.cancel_subscription,this),this.submit_payment_method=Me(this.submit_payment_method,this),this.set_as_default_payment_method=Me(this.set_as_default_payment_method,this),this.delete_payment_method=Me(this.delete_payment_method,this),this.clear_action=Me(this.clear_action,this),this._action=Me(this._action,this),this.update_customer=Me(this.update_customer,this),this.clear_error=Me(this.clear_error,this),n.__super__.constructor.apply(this,arguments)}return Te(n,e),n.prototype.clear_error=function(){return this.setState({error:""})},n.prototype.update_customer=function(e){var n,r;if(!this._update_customer_lock)return this._update_customer_lock=!0,this.setState({action:"Updating billing information"}),n=!1,r=t(19).salvus_client,oe.series([function(e){return function(t){return r.stripe_get_customer({cb:function(r,i){return e._update_customer_lock=!1,r||null!=(null!=i?i.stripe_publishable_key:void 0)||(r="WARNING: Stripe is not configured -- billing not available",e.setState({no_stripe:!0})),r||(e.setState({customer:i.customer,loaded:!0,stripe_publishable_key:i.stripe_publishable_key}),n=null!=i.customer),t(r)}})}}(this),function(e){return function(t){return n?r.stripe_get_invoices({limit:100,cb:function(n,r){return n||e.setState({invoices:r}),t(n)}}):t()}}(this)],function(t){return function(n){return t.setState({error:n,action:""}),"function"==typeof e?e(n):void 0}}(this))},n.prototype._action=function(e,n,r){var i,o;return this.setState({action:n}),i=r.cb,r.cb=function(e){return function(t){return e.setState({action:""}),t?(e.setState({error:t}),"function"==typeof i?i(t):void 0):e.update_customer(i)}}(this),o=t(19).salvus_client,o["stripe_"+e](r)},n.prototype.clear_action=function(){return this.setState({action:"",error:""})},n.prototype.delete_payment_method=function(e,t){return this._action("delete_source","Deleting a payment method",{card_id:e,cb:t})},n.prototype.set_as_default_payment_method=function(e,t){return this._action("set_default_source","Setting payment method as default",{card_id:e,cb:t})},n.prototype.submit_payment_method=function(e,t){var n;return n=void 0,oe.series([function(e){return function(t){return null==Se.get("stripe_publishable_key")?e.update_customer(t):t()}}(this),function(e){return function(e){return he(e)}}(this),function(t){return function(r){return t.setState({action:"Creating a new payment method -- get token from Stripe"}),Stripe.setPublishableKey(Se.get("stripe_publishable_key")),Stripe.card.createToken(e,function(e,t){return 200!==e?r(t.error.message):(n=t,r())})}}(this),function(e){return function(t){return e._action("create_source","Creating a new payment method (sending token)",{token:n.id,cb:t})}}(this)],function(e){return function(n){return e.setState({action:"",error:n}),"function"==typeof t?t(n):void 0}}(this))},n.prototype.cancel_subscription=function(e,t){return this._action("cancel_subscription","Cancel a subscription",{subscription_id:e,cb:t})},n.prototype.create_subscription=function(e){var n,r;return null==e&&(e="standard"),r=t(19).salvus_client,n=pe,null!=n&&n>fe.server_minutes_ago(2)?this.setState({action:"",error:"Too many subscription attempts in the last minute.  Please **REFRESH YOUR BROWSER** THEN  DOUBLE CHECK YOUR SUBSCRIPTION LIST!"}):(this.setState({error:""}),this._action("create_subscription","Create a subscription",{plan:e}),pe=fe.server_time())},n.prototype.cancel_everything=function(e){return oe.series([function(e){return function(t){return e.update_customer(t)}}(this),function(e){return function(t){return oe.parallel([function(t){var n,r;return n=function(){var e,t,n,i,o,s;for(o=null!=(n=null!=(i=ye.getStore("billing").getIn(["customer","sources","data"]))?i.toJS():void 0)?n:[],s=[],e=0,t=o.length;e<t;e++)r=o[e],s.push(r.id);return s}(),oe.map(n,e.delete_payment_method,t)},function(t){var n,r;return n=function(){var e,t,n,i,o,s;for(o=null!=(n=null!=(i=ye.getStore("billing").getIn(["customer","subscriptions","data"]))?i.toJS():void 0)?n:[],s=[],e=0,t=o.length;e<t;e++)r=o[e],r.canceled_at||s.push(r.id);return s}(),oe.map(n,e.cancel_subscription,t)}],t)}}(this)],e)},n}(r),ie=ye.createActions("billing",l),Se=ye.createStore("billing"),je={valid:{border:"1px solid green"},invalid:{border:"1px solid red"}},_e=function(){return U.createElement("span",null,"Powered by ",U.createElement("a",{href:"https://stripe.com/",target:"_blank",style:{top:"7px",position:"relative",fontSize:"23pt"}},U.createElement(C,{name:"cc-stripe"})))},o=ve({displayName:"AddPaymentMethod",propTypes:{redux:Ce.object.isRequired,on_close:Ce.func.isRequired},getInitialState:function(){return{new_payment_info:{name:this.props.redux.getStore("account").get_fullname(),number:"",address_state:"",address_country:""},submitting:!1,error:"",cvc_help:!1}},submit_payment_method:function(){return this.setState({error:!1,submitting:!0}),this.props.redux.getActions("billing").submit_payment_method(this.state.new_payment_info,function(e){return function(t){if(e.setState({error:t,submitting:!1}),!t)return e.props.on_close()}}(this))},render_payment_method_field:function(e,t){if("State"!==e||"United States"===this.state.new_payment_info.address_country)return U.createElement(H,{key:e},U.createElement(f,{sm:4},e),U.createElement(f,{sm:8},t))},set_input_info:function(e,t,n){var r;return r=fe.copy(this.state.new_payment_info),r[e]=null!=n?n:W.findDOMNode(this.refs[t]).value,this.setState({new_payment_info:r})},render_input_card_number:function(){var e,t;return e=se($.payment.cardType(this.state.new_payment_info.number)),t=this.valid("number")?$.payment.formatCardNumber(this.state.new_payment_info.number):this.state.new_payment_info.number,U.createElement(k,null,U.createElement(E,null,U.createElement(x,{autoFocus:!0,ref:"input_card_number",style:this.style("number"),type:"text",size:"20",placeholder:"1234 5678 9012 3456",value:t,onChange:function(e){return function(){return e.set_input_info("number","input_card_number")}}(this),disabled:this.state.submitting}),U.createElement(E.Addon,null,U.createElement(C,{name:e}))))},render_input_cvc_input:function(){return U.createElement(k,null,U.createElement(x,{ref:"input_cvc",style:fe.merge({width:"5em"},this.style("cvc")),type:"text",size:4,placeholder:"···",onChange:function(e){return function(){return e.set_input_info("cvc","input_cvc")}}(this),disabled:this.state.submitting}))},render_input_cvc_help:function(){return this.state.cvc_help?U.createElement("div",null,"The ",U.createElement("a",{href:"https://en.wikipedia.org/wiki/Card_security_code",target:"_blank"},"security code")," is\nlocated on the back of credit or debit cards and is a separate group of 3 (or 4) digits to the right of\nthe signature strip. ",U.createElement("a",{href:"",onClick:function(e){return function(t){return t.preventDefault(),e.setState({cvc_help:!1})}}(this)},"(hide)")):U.createElement("a",{href:"",onClick:function(e){return function(t){return t.preventDefault(),e.setState({cvc_help:!0})}}(this)},"(what is the security code?)")},render_input_cvc:function(){return U.createElement(H,null,U.createElement(f,{md:3},this.render_input_cvc_input()),U.createElement(f,{md:9},this.render_input_cvc_help()))},valid:function(e){var t,n,r,i,o,s,a;if(t=this.state.new_payment_info,null==e){for(o=["number","exp_month","exp_year","cvc","name","address_country"],n=0,r=o.length;n<r;n++)if(e=o[n],!this.valid(e))return!1;return!!("United States"!==t.address_country||this.valid("address_state")&&this.valid("address_zip"))}if(s=t[e])switch(e){case"number":return $.payment.validateCardNumber(s);case"exp_month":if(0===s.length)return;return i=parseInt(s),i>=1&&i<=12;case"exp_year":if(0===s.length)return;return a=parseInt(s),a>=15&&a<=50;case"cvc":return $.payment.validateCardCVC(s);case"name":return s.length>0;case"address_country":return s.length>0;case"address_state":return s.length>0;case"address_zip":return fe.is_valid_zipcode(s)}},style:function(e){var t;return t=this.valid(e),null==t?{}:t===!0?je.valid:je.invalid},render_input_expiration:function(){return U.createElement("div",{style:{marginBottom:"15px",display:"flex"}},U.createElement(k,null,U.createElement(x,{readOnly:this.state.submitting,className:"form-control",style:fe.merge({width:"5em"},this.style("exp_month")),placeholder:"MM",type:"text",size:"2",onChange:function(e){return function(t){return e.set_input_info("exp_month",void 0,t.target.value)}}(this)})),U.createElement("span",{style:{fontSize:"22px",margin:"1px 5px"}}," / "),U.createElement(k,null,U.createElement(x,{readOnly:this.state.submitting,className:"form-control",style:fe.merge({width:"5em"},this.style("exp_year")),placeholder:"YY",type:"text",size:"2",onChange:function(e){return function(t){return e.set_input_info("exp_year",void 0,t.target.value)}}(this)})))},render_input_name:function(){return U.createElement(k,null,U.createElement(x,{ref:"input_name",type:"text",placeholder:"Name on Card",onChange:function(e){return function(){return e.set_input_info("name","input_name")}}(this),style:this.style("name"),value:this.state.new_payment_info.name,disabled:this.state.submitting}))},render_input_country:function(){return U.createElement(G,{options:h,on_change:function(e){return function(t){return e.set_input_info("address_country","",t)}}(this),disabled:this.state.submitting})},render_input_zip:function(){return U.createElement(k,null,U.createElement(x,{ref:"input_address_zip",style:this.style("address_zip"),placeholder:"Zip Code",type:"text",size:"5",pattern:"d{5,5}(-d{4,4})?",onChange:function(e){return function(){return e.set_input_info("address_zip","input_address_zip")}}(this),disabled:this.state.submitting}))},render_tax_notice:function(){return U.createElement(H,null,U.createElement(f,{sm:12},U.createElement(a,{bsStyle:"info"},U.createElement("h4",null,U.createElement(C,{name:"exclamation-triangle"})," Notice "),U.createElement("p",null,"Sales tax is applied in the state of Washington"))))},render_input_state_zip:function(){return U.createElement("div",null,U.createElement(H,null,U.createElement(f,{sm:7},U.createElement(G,{options:K,on_change:function(e){return function(t){return e.set_input_info("address_state","",t)}}(this),disabled:this.state.submitting})),U.createElement(f,{sm:5},this.render_input_zip())),"WA"===this.state.new_payment_info.address_state?this.render_tax_notice():void 0)},render_payment_method_fields:function(){var e,t,n,r;e={"Card Number":this.render_input_card_number,"Security Code (CVC)":this.render_input_cvc,"Expiration (MM/YY)":this.render_input_expiration,"Name on Card":this.render_input_name,Country:this.render_input_country,State:this.render_input_state_zip},r=[];for(n in e)t=e[n],r.push(this.render_payment_method_field(n,t()));return r},render_payment_method_buttons:function(){return U.createElement("div",null,U.createElement(H,null,U.createElement(f,{sm:4},_e()),U.createElement(f,{sm:8},U.createElement(p,{className:"pull-right"},U.createElement(u,{onClick:this.submit_payment_method,bsStyle:"primary",disabled:!this.valid()||this.state.submitting},"Add Credit Card"),U.createElement(u,{onClick:this.props.on_close},"Cancel")))),U.createElement("div",{style:{color:"#666",marginTop:"15px"}},"(PayPal or wire transfers are also possible -- email ",U.createElement(A,null),".)"))},render_error:function(){if(this.state.error)return U.createElement(_,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this)})},render:function(){return U.createElement(H,null,U.createElement(f,{sm:6,smOffset:3},U.createElement(ne,{style:{boxShadow:"5px 5px 5px lightgray",zIndex:2}},this.render_error(),this.render_payment_method_fields(),this.render_payment_method_buttons())))}}),D=ve({displayName:"PaymentMethod",propTypes:{source:Ce.object.isRequired,default:Ce.bool,set_as_default:Ce.func,delete_method:Ce.func},getInitialState:function(){return{confirm_default:!1,confirm_delete:!1}},icon_name:function(){return se(this.props.source.brand.toLowerCase())},render_confirm_default:function(){return U.createElement(a,{bsStyle:"warning"},U.createElement(H,null,U.createElement(f,{
md:5,mdOffset:2},U.createElement("p",null,"Are you sure you want to set this payment card to be the default?"),U.createElement("p",null,"All future payments will be made with the card that is the default ",U.createElement("b",null,"at the time of renewal"),".\nChanging your default card right before a subscription renewal will cause the ",U.createElement(J,null),"new default to be charged instead of the previous one.")),U.createElement(f,{md:5},U.createElement(p,null,U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm_default:!1})}}(this)},"Cancel"),U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm_default:!1}),e.props.set_as_default()}}(this),bsStyle:"warning"},U.createElement(C,{name:"trash"})," Set to Default")))))},render_confirm_delete:function(){return U.createElement(a,{bsStyle:"danger"},U.createElement(H,null,U.createElement(f,{md:5,mdOffset:2},"Are you sure you want to delete this payment method?"),U.createElement(f,{md:5},U.createElement(p,null,U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm_delete:!1})}}(this)},"Cancel"),U.createElement(u,{bsStyle:"danger",onClick:function(e){return function(){return e.setState({confirm_delete:!1}),e.props.delete_method()}}(this)},U.createElement(C,{name:"trash"})," Delete Payment Method")))))},render_card:function(){return U.createElement(H,null,U.createElement(f,{md:2},U.createElement(C,{name:this.icon_name()})," ",this.props.source.brand),U.createElement(f,{md:1},U.createElement("em",null,"····"),this.props.source.last4),U.createElement(f,{md:1},this.props.source.exp_month,"/",this.props.source.exp_year),U.createElement(f,{md:2},this.props.source.name),U.createElement(f,{md:1},this.props.source.country),U.createElement(f,{md:2},this.props.source.address_state,U.createElement(J,null),U.createElement(J,null),this.props.source.address_zip),null!=this.props.set_as_default||null!=this.props.delete_method?this.render_action_buttons():void 0)},render_action_buttons:function(){return U.createElement(f,{md:3},U.createElement(p,{style:{float:"right"}},null!=this.props.set_as_default?U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm_default:!0})}}(this),disabled:this.props.default,bsStyle:this.props.default?"primary":"default"},"Default",this.props.default?void 0:U.createElement("span",null,"... ")):void 0,null!=this.props.delete_method?U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm_delete:!0})}}(this)},U.createElement(C,{name:"trash"})," Delete"):void 0))},render:function(){return U.createElement("div",{style:{borderBottom:"1px solid #999",paddingTop:"5px",paddingBottom:"5px"}},this.render_card(),this.state.confirm_default?this.render_confirm_default():void 0,this.state.confirm_delete?this.render_confirm_delete():void 0)}}),L=ve({displayName:"PaymentMethods",propTypes:{redux:Ce.object.isRequired,sources:Ce.object.isRequired,default:Ce.string},getInitialState:function(){return{state:"view",error:""}},add_payment_method:function(){return this.setState({state:"add_new"})},render_add_payment_method:function(){if("add_new"===this.state.state)return U.createElement(o,{redux:this.props.redux,on_close:function(e){return function(){return e.setState({state:"view"})}}(this)})},render_add_payment_method_button:function(){return U.createElement(u,{disabled:"view"!==this.state.state,onClick:this.add_payment_method,bsStyle:"primary",className:"pull-right"},U.createElement(C,{name:"plus-circle"})," Add Payment Method...")},render_header:function(){return U.createElement(H,null,U.createElement(f,{sm:6},U.createElement(C,{name:"credit-card"})," Payment Methods"),U.createElement(f,{sm:6},this.render_add_payment_method_button()))},set_as_default:function(e){return this.props.redux.getActions("billing").set_as_default_payment_method(e)},delete_method:function(e){return this.props.redux.getActions("billing").delete_payment_method(e)},render_payment_method:function(e){return U.createElement(D,{key:e.id,source:e,default:e.id===this.props.default,set_as_default:function(t){return function(){return t.set_as_default(e.id)}}(this),delete_method:function(t){return function(){return t.delete_method(e.id)}}(this)})},render_payment_methods:function(){var e,t,n,r,i;for(n=this.props.sources.data,r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(this.render_payment_method(i));return r},render_error:function(){if(this.state.error)return U.createElement(_,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this)})},render:function(){var e;return U.createElement(N,{header:this.render_header()},this.render_error(),"add_new"===(e=this.state.state)?this.render_add_payment_method():void 0,this.render_payment_methods())}}),exports.PaymentMethods=L,exports.ProjectQuotaBoundsTable=q=ve({render_project_quota:function(e,t){var n,r,i;return r=O.params[e],n=t*r.pricing_factor,i=r.pricing_unit,"day"===i&&n<2&&(n*=24,i="hour"),U.createElement("div",{key:e,style:{marginBottom:"5px",marginLeft:"10px"}},U.createElement(te,{title:r.display,tip:r.desc},U.createElement("span",{style:{fontWeight:"bold",color:"#666"}},fe.round1(n)," ",fe.plural(n,i)),U.createElement(J,null),U.createElement("span",{style:{color:"#999"}},r.display)))},render:function(){var e,t;return e=O.max_per_project,U.createElement(N,{header:"Maximum possible quotas per project"},function(){var n,r,i,o;for(i=O.field_order,o=[],n=0,r=i.length;n<r;n++)t=i[n],e[t]&&o.push(this.render_project_quota(t,e[t]));return o}.call(this))}}),exports.ProjectQuotaFreeTable=F=ve({render_project_quota:function(e,t){var n,r,i;return r=O.params[e],n=t*r.pricing_factor,i=r.pricing_unit,"day"===i&&n<2&&(n*=24,i="hour"),U.createElement("div",{key:e,style:{marginBottom:"5px",marginLeft:"10px"}},U.createElement(te,{title:r.display,tip:r.desc},U.createElement("span",{style:{fontWeight:"bold",color:"#666"}},fe.round1(n)," ",fe.plural(n,i))," ",U.createElement(J,null),U.createElement("span",{style:{color:"#999"}},r.display)))},render:function(){var e,n;return e=t(24).DEFAULT_QUOTAS,U.createElement(N,{header:"Projects start with these quotas for free"},U.createElement("div",{style:{marginBottom:"5px",marginLeft:"10px"}},U.createElement(te,{title:"Free servers",tip:"Many free projects are cramped together inside weaker compute machines, competing for CPU, RAM and I/O."},U.createElement("span",{style:{fontWeight:"bold",color:"#666"}},"low-grade"),U.createElement(J,null),U.createElement("span",{style:{color:"#999"}},"Server hosting"))),U.createElement("div",{style:{marginBottom:"5px",marginLeft:"10px"}},U.createElement(te,{title:"Network access",tip:"Despite working inside a web-browser, free projects are not allowed to directly access the internet due to security/abuse reasons."},U.createElement("span",{style:{fontWeight:"bold",color:"#666"}},"no"),U.createElement(J,null),U.createElement("span",{style:{color:"#999"}},"Network access"))),function(){var t,r,i,o;for(i=O.field_order,o=[],t=0,r=i.length;t<r;t++)n=i[t],e[n]&&o.push(this.render_project_quota(n,e[n]));return o}.call(this))}}),z=ve({displayName:"PlanInfo",propTypes:{plan:Ce.string.isRequired,period:Ce.string.isRequired,selected:Ce.bool,on_click:Ce.func},getDefaultProps:function(){return{selected:!1}},render_plan_info_line:function(e,t,n){return U.createElement("div",{key:e,style:{marginBottom:"5px",marginLeft:"10px"}},U.createElement(te,{title:n.display,tip:n.desc},U.createElement("span",{style:{fontWeight:"bold",color:"#666"}},t*n.pricing_factor," ",fe.plural(t*n.pricing_factor,n.pricing_unit)),U.createElement(J,null),U.createElement("span",{style:{color:"#999"}},n.display)))},render_cost:function(e,t){var n;return t=null!=(n=O.period_names[t])?n:t,U.createElement("span",{key:t,style:{whiteSpace:"nowrap"}},U.createElement("span",{style:{fontSize:"16px",verticalAlign:"super"}},"$"),U.createElement(J,null),U.createElement("span",{style:{fontSize:"30px"}},e),U.createElement("span",{style:{fontSize:"14px"}}," / ",t))},render_price:function(e,t){var n,r,i,o;if(null!=this.props.on_click){for(o=[],n=r=0,i=e.length;0<=i?r<i:r>i;n=0<=i?++r:--r)o.push(U.createElement(u,{key:n,bsStyle:this.props.selected?"primary":void 0},this.render_cost(e[n],t[n])));return o}return U.createElement("h3",{style:{textAlign:"left"}},ge(function(){var r,i,o;for(o=[],n=r=0,i=e.length;0<=i?r<i:r>i;n=0<=i?++r:--r)o.push(this.render_cost(e[n],t[n]));return o}.call(this),U.createElement("br",null)))},render_plan_name:function(e){return U.createElement("div",{style:{paddingLeft:"10px"}},U.createElement(C,{name:e.icon})," ",U.createElement("span",{style:{fontWeight:"bold"}},fe.capitalize(this.props.plan).replace(/_/g," ")," plan"))},render:function(){var e,t,n,r,i,o,s,a;return o=O.membership[this.props.plan],null==o?U.createElement("div",null,"Unknown plan type: ",this.props.plan):(n=O.params,i=fe.split(this.props.period),s=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)r=i[e],n.push(o.price[r]);return n}(),e=o.benefits,a={cursor:null!=this.props.on_click?"pointer":void 0},U.createElement(N,{style:a,className:"smc-grow",header:this.render_plan_name(o),bsStyle:this.props.selected?"primary":"info",onClick:function(e){return function(){var t;return"function"==typeof(t=e.props).on_click?t.on_click():void 0}}(this)},U.createElement(J,null),function(){var r,i,o,s,a;for(o=O.field_order,a=[],r=0,i=o.length;r<i;r++)t=o[r],e[t]&&a.push(this.render_plan_info_line(t,null!=(s=e[t])?s:0,n[t]));return a}.call(this),U.createElement(J,null),U.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},this.render_price(s,i))))}}),s=ve({displayName:"AddSubscription",propTypes:{on_close:Ce.func.isRequired,selected_plan:Ce.string,actions:Ce.object.isRequired},getDefaultProps:function(){return{selected_plan:""}},getInitialState:function(){return{selected_button:"month"}},is_recurring:function(){return!O.membership[this.props.selected_plan.split("-")[0]].cancel_at_period_end},submit_create_subscription:function(){var e;return e=this.props.selected_plan,this.props.actions.create_subscription(e)},set_button_and_deselect_plans:function(e){if(this.state.selected_button!==e)return Ee(""),this.setState({selected_button:e})},render_period_selection_buttons:function(){return U.createElement("div",null,U.createElement(d,{bsSize:"large",style:{marginBottom:"20px",display:"flex"}},U.createElement(u,{bsStyle:"month"===this.state.selected_button?"primary":void 0,onClick:function(e){return function(){return e.set_button_and_deselect_plans("month")}}(this)},"Monthly subscriptions"),U.createElement(u,{bsStyle:"year"===this.state.selected_button?"primary":void 0,onClick:function(e){return function(){return e.set_button_and_deselect_plans("year")}}(this)},"Yearly subscriptions"),U.createElement(u,{bsStyle:"month4"===this.state.selected_button?"primary":void 0,onClick:function(e){return function(){return e.set_button_and_deselect_plans("month4")}}(this)},"4-Month course packages"),U.createElement(u,{bsStyle:"year1"===this.state.selected_button?"primary":void 0,onClick:function(e){return function(){return e.set_button_and_deselect_plans("year1")}}(this)},"Yearly course packages")))},render_renewal_info:function(){var e,t;if(this.props.selected_plan)return t=!O.membership[this.props.selected_plan.split("-")[0]].cancel_at_period_end,e=O.period_names[this.state.selected_button],U.createElement("p",{style:{marginBottom:"1ex",marginTop:"1ex"}},t?U.createElement("span",null,"This subscription will ",U.createElement("b",null,"automatically renew")," every ",e,".  You can cancel automatic renewal at any time."):void 0,t?void 0:U.createElement("span",null,"You will be ",U.createElement("b",null,"charged only once")," for the course package, which lasts ",e,".  It does ",U.createElement("b",null,"not automatically renew"),"."))},render_subscription_grid:function(){return U.createElement(Z,{period:this.state.selected_button,selected_plan:this.props.selected_plan})},render_dedicated_resources:function(){return U.createElement("div",{style:{marginBottom:"15px"}},U.createElement(v,{type:"dedicated"}))},render_create_subscription_options:function(){return U.createElement("div",null,U.createElement("div",{style:{textAlign:"center"}},this.render_period_selection_buttons()),this.render_subscription_grid())},render_create_subscription_confirm:function(){var e;return this.is_recurring()&&(e=" and you will be signed up for a recurring subscription"),U.createElement(a,null,U.createElement("h4",null,U.createElement(C,{name:"check"})," Confirm your selection "),U.createElement("p",null,"You have selected the ",U.createElement("span",{style:{fontWeight:"bold"}},fe.capitalize(this.props.selected_plan).replace(/_/g," ")," subscription"),"."),this.render_renewal_info(),U.createElement("p",null,"By clicking 'Add Subscription' your payment card will be immediately charged",e,"."))},render_create_subscription_buttons:function(){return U.createElement(H,null,U.createElement(f,{sm:4},_e()),U.createElement(f,{sm:8},U.createElement(p,{className:"pull-right"},U.createElement(u,{bsStyle:"primary",onClick:function(e){return function(){return e.submit_create_subscription(),e.props.on_close()}}(this),disabled:""===this.props.selected_plan},U.createElement(C,{name:"check"})," Add Subscription"),U.createElement(u,{onClick:this.props.on_close},"Cancel"))))},render:function(){return U.createElement(H,null,U.createElement(f,{sm:10,smOffset:1},U.createElement(ne,{style:{boxShadow:"5px 5px 5px lightgray",zIndex:1}},this.render_create_subscription_options(),""!==this.props.selected_plan?this.render_create_subscription_confirm():void 0,""!==this.props.selected_plan?U.createElement(m,{is_recurring:this.is_recurring()}):void 0,this.render_create_subscription_buttons()),U.createElement(v,{type:"shared"})))}}),m=ve({reduxProps:{billing:{customer:Ce.object}},propTypes:{is_recurring:Ce.bool},render_single_payment_confirmation:function(){return U.createElement("span",null,U.createElement("p",null,"Payment will be processed with the card below."),U.createElement("p",null,"To change payment methods, please change your default card above."))},render_recurring_payment_confirmation:function(){return U.createElement("span",null,U.createElement("p",null,"The initial payment will be processed with the card below."),U.createElement("p",null,"Future payments will be made with your default card",U.createElement(J,null),U.createElement("b",null,"at the time of renewal"),".\nChanging your default card right before renewal will cause the ",U.createElement(J,null),"new default to be charged instead of the previous one."))},render:function(){var e,t,n,r,i;for(i=this.props.customer.sources.data,n=0,r=i.length;n<r;n++)e=i[n],e.id===this.props.customer.default_source&&(t=e);return U.createElement(a,null,U.createElement("h4",null,U.createElement(C,{name:"check"})," Confirm your payment card"),this.props.is_recurring?void 0:this.render_single_payment_confirmation(),this.props.is_recurring?this.render_recurring_payment_confirmation():void 0,U.createElement(ne,null,U.createElement(D,{source:t})))}}),exports.SubscriptionGrid=Z=ve({displayName:"SubscriptionGrid",propTypes:{period:Ce.string.isRequired,selected_plan:Ce.string,is_static:Ce.bool},getDefaultProps:function(){return{is_static:!1}},is_selected:function(e,t){return"year"===this.props.period?this.props.selected_plan===e+"-year":this.props.selected_plan===e},render_plan_info:function(e,t){return U.createElement(z,{plan:e,period:t,selected:this.is_selected(e,t),on_click:this.props.is_static?void 0:function(){return Ee(e,t)}})},render_cols:function(e,t){var n,r,i,o,s;for(s=12/t,o=[],n=0,r=e.length;n<r;n++)i=e[n],o.push(U.createElement(f,{sm:s,key:i},this.render_plan_info(i,this.props.period)));return o},render_rows:function(e,t){var n,r,i;r=[];for(n in e)i=e[n],r.push(U.createElement(H,{key:n},this.render_cols(i,t)));return r},render:function(){var e,t,n,r,i,o,s,a,l,c,u,d;for(i=[],s=fe.split(this.props.period),l=O.live_subscriptions,e=0,n=l.length;e<n;e++){for(c=l[e],u=[],t=0,r=c.length;t<r;t++)d=c[t],a=re.keys(O.membership[d].price),re.intersection(s,a).length>0&&u.push(d);u.length>0&&i.push(u)}return o=Math.max.apply(Math,function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)c=i[e],n.push(c.length);return n}()),5===o?o=6:o>=7&&(o=12),U.createElement("div",null,this.render_rows(i,o))}}),exports.ExplainResources=v=ve({propTypes:{type:Ce.string.isRequired,is_static:Ce.bool},getDefaultProps:function(){return{is_static:!1}},render_shared:function(){return U.createElement("div",null,U.createElement(H,null,U.createElement(f,{md:8,sm:12},U.createElement("a",{name:"projects"}),U.createElement("h4",null,"Projects"),U.createElement("div",null,"Your work on ",U.createElement(Y,null)," happens inside ",U.createElement("em",null,"projects"),".\nYou may create any number of independent projects.\nThey form your personal workspaces,\nwhere you privately store your files, computational worksheets, and data.\nYou typically run computations through the web-interface,\neither via a worksheet, notebook, or by executing a program in a terminal\n(you can also ssh into any project).\nYou can also invite collaborators to work with you inside a project,\nand you can explicitly make files or directories publicly available\nto everybody."),U.createElement(J,null),U.createElement("h4",null,"Shared Resources"),U.createElement("div",null,"Each projects runs on a server, where it shares disk space, CPU, and RAM with other projects.\nInitially, projects run with default free quotas on heavily used free machines that are rebooted frequently.\nYou can upgrade any quota on any project on which you collaborate, and you can move projects\nto faster very stable ",U.createElement("em",null,"members-only computers"),",\nwhere there is much less competition for resources.\nIf a project on a free computer is not used for a few weeks, it gets moved to secondary storage, and\nstarting it up will take longer; in contrast, projects on members-only computers always start\nup very quickly."),U.createElement(J,null),U.createElement("h4",null,"Quota upgrades"),U.createElement("div",null,"By purchasing one or more of our subscriptions,\nyou receive a certain amount of ",U.createElement("em",null,"quota upgrades"),".",U.createElement("ul",{style:{paddingLeft:"20px"}},U.createElement("li",null,"You can upgrade the quotas on any of your projects\nup to the total amount given by your subscription(s)\nand the upper limits per project."),U.createElement("li",null,"Project collaborators can collectively contribute to the same project,\nin order to increase the quotas of their common project\n— these contributions benefit all project collaborators."),U.createElement("li",null,"You can remove your contributions to any project (owner or collaborator) at any time."),U.createElement("li",null,"You may also subscribe to the same subscription more than once,\nin order to increase your total amount of quota upgrades."))),U.createElement(J,null),U.createElement("div",{style:{fontWeight:"bold"}},"Please immediately email us at ",U.createElement(A,null)," "," ",this.props.is_static?void 0:U.createElement("span",null," or read our ",U.createElement("a",{target:"_blank",href:P+"#faq"},"pricing FAQ")," "),"if anything is unclear to you."),U.createElement(J,null)),U.createElement(f,{md:4,sm:12},U.createElement(H,null,U.createElement(f,{md:12,sm:6},U.createElement(F,null)),U.createElement(f,{md:12,sm:6},U.createElement(q,null))))))},render_dedicated:function(){return U.createElement("div",null,U.createElement("h4",null,"Dedicated Resources"),"You may also rent dedicated computers.\nProjects on such a machine of your choice get full use of the hard disk, CPU and RAM,\nand do ",U.createElement("em",null,"not")," have to compete with other users for resources.\nWe have not fully automated purchase of dedicated computers yet,\nso please contact us at ",U.createElement(A,null)," if you need a dedicated machine.")},render:function(){switch(this.props.type){case"shared":return this.render_shared();case"dedicated":return this.render_dedicated();default:throw Error("unknown type "+this.props.type)}}}),exports.ExplainPlan=g=ve({propTypes:{type:Ce.string.isRequired},render_personal:function(){return U.createElement("div",{style:{marginBottom:"10px"}},U.createElement("h3",null,"Personal subscriptions"),U.createElement("div",null,"We offer several subscriptions that let you upgrade the default free quotas on projects.\nYou can distribute these upgrades to your own projects or any projects where you are a collaborator —\neveryone participating in such a collective project benefits and can easily change their allocations at any time!\nYou can get higher-quality hosting on members-only machines and enable access to the internet from projects.\nYou can also increase quotas for CPU and RAM, so that you can work on larger problems and\ndo more computations simultaneously."))},render_course:function(){return U.createElement("div",{style:{marginBottom:"10px"}},U.createElement("h3",null,"Course packages"),U.createElement("div",null,U.createElement("p",null,"We offer course packages to support teaching using ",U.createElement(Y,null),".\nThey start right after purchase and last for the indicated period and do ",U.createElement("b",null,"not auto-renew"),".\nFollowing ",U.createElement("a",{href:"https://github.com/mikecroucher/SMC_tutorial/blob/master/README.md",target:"_blank"},"this\nguide"),", create a course file.\nEach time you add a student to your course, a project will be automatically created for that student.\nYou can create and distribute assignments,\nstudents work on assignments inside their project (where you can see their progress\nin realtime and answer their questions),\nand you later collect and grade their assignments, then return them."),U.createElement("p",null,"Paying is optional, but will ensure that your students have a better\nexperience, network access, and receive priority support.  The cost\nis ",U.createElement("b",null,"between $4 and $9 per student"),", depending on class size and whether\nyou or your students pay.  ",U.createElement("b",null,"Start right now:")," ",U.createElement("i",null,"you can fully setup your class\nand add students immediately before you pay us anything!")),U.createElement("h4",null,"Your or your institution pays"),"You or your institution may pay for one of the course plans.  You then use your plan to upgrade\nall projects in the course in the settings tab of the course file.\n",U.createElement("h4",null,"Students pay"),"In the settings tab of your course, you require that all students\npay a one-time $9 fee to move their\nprojects to members only hosts and enable full internet access.\n",U.createElement("br",null),U.createElement("br",null)))},render:function(){switch(this.props.type){case"personal":return this.render_personal();case"course":return this.render_course();default:throw Error("unknown plan type "+this.props.type)}}}),ue=2*O.membership.medium_course.benefits.member_host,ce=O.membership.small_course.benefits.member_host,le=Math.ceil(ce/O.membership.standard.benefits.member_host),ae=4*le*O.membership.standard.price.month,de=t(24).DEFAULT_QUOTAS.mintime/60/60,b={differences:{q:U.createElement("span",null,"What is the difference between ",U.createElement("b",null,"free and paid plans"),"?"),a:U.createElement("span",null,"The main differences are increased quotas and the quality of hosting; we also\nprioritize supporting paying users.\nWe very strongly encourage you to make an account and explore our product for free!\nThere is no difference in functionality between the free and for-pay versions of\nSageMathCloud; everything is still private by default for free users, and you can\nmake as many projects as you want.  You can even fully start teaching a course\nin SMC completely for free, then upgrade at any point later so that your students\nhave a ",U.createElement("b",null,"much")," better quality experience (for a small fraction of the cost of\ntheir textbook).")},member_hosting:{q:U.createElement("span",null,"What does ",U.createElement("b",null,'"member hosting"')," mean?"),a:U.createElement("span",null,'There are two types of projects: "free projects" and "member projects".\nFree projects run on heavily loaded computers.\nQuite often, these computers will house over 150 simultaneously running projects!\nMember-hosted projects are moved to much less loaded machine,\nwhich are reserved only for paying customers.',U.createElement("br",null),'Working in member-hosted projects feels much smoother because commands execute\nmore quickly with lower latency,\nand CPU, memory and I/O heavy operations run more quickly.\nAdditionally, members only projects are always "ready to start".\nFree projects that are not used for a few weeks are moved to "cold storage",\nand it can take a while to move them back onto a free machine when you\nlater start them.')},network_access:{q:U.createElement("span",null,"What exactly does the quota ",U.createElement("b",null,'"internet access"')," mean?"),a:U.createElement("span",null,"Despite the fact that you are accessing ",U.createElement(Y,null)," through the internet,\nyou are actually working in a highly restricted environment.\nProcesses running ",U.createElement("em",null,"inside"),' a free project are not allowed to directly\naccess the internet.  (We do not allow such access for free users, since when we did,\nmalicious users launched attacks on other computers from SageMathCloud.)\nEnable internet access by adding the "internet access" quota.')},idle_timeout:{q:U.createElement("span",null,"What exactly does the quota ",U.createElement("b",null,'"idle timeout"')," mean?"),a:U.createElement("span",null,"By default, free projects stop running after ",de," hour of idle time.\nThis makes doing an overnight research computation —\ne.g., searching for special prime numbers — impossible.\nWith an increased idle timeout, projects are allowed to run longer unattended.\nProcesses might still stop if they use too much memory, crash due to an exception, or if the server they are\nrunning on is rebooted.\n(NOTE: Projects do not normally stop if you are continuously using them, and there are no\ndaily or monthly caps on how much you may use a SageMathCloud project, even a free one.)")},cpu_shares:{q:U.createElement("span",null,"What are ",U.createElement("b",null,'"CPU shares"')," and ",U.createElement("b",null,'"CPU cores"'),"?"),a:U.createElement("span",null,"All projects on a single server share the underlying resources.\nThese quotas determine how CPU resources are shared between projects.\nIncreasing them increases the priority of a project compared to others on the same host computer.",U.createElement("br",null),'In particular, "shares" determines the amount of relative CPU time you get.')},course120:{q:U.createElement("span",null,"I have a ",U.createElement("b",null,"course of ",ue-20," students"),".\nWhich plan should I purchase?"),a:U.createElement("span",null,"You can combine and add up course subscriptions!\nBy ordering two times the 'medium course plan',\nyou will get ",ue," upgrades covering all your students.")},academic:{q:U.createElement("span",null,"Do you offer ",U.createElement("b",null,"academic discounts"),"?"),a:U.createElement("span",null,"Our course subscriptions are for academic use, and are already significantly discounted from the standard plans.\nPlease compare our monthly plans with the 4 month course plans.\nFor example, giving ",ce," students better member hosting and internet access\nwould require subscribing to ",le,' "standard plans" for 4 months\namounting to $',ae,".")},academic_quotas:{q:U.createElement("span",null,"There are no CPU/RAM upgrades for courses. Is this enough?"),a:U.createElement("span",null,'From our experience, we have found that for the type of computations used in most courses,\nthe free quotas for memory and disk space are plenty.\nWe do strongly suggest the classes upgrade all projects to "members-only" hosting,\nsince this provides much better computers with higher availability.')},invoice:{q:U.createElement("span",null,"How do I get an ",U.createElement("b",null,"invoice")," with a specific information?"),a:U.createElement("span",null,"After purchasing, please email us at ",U.createElement(A,null),", reference what you bought,\nand tell us the payer","'","s name, contact information and any other specific\ninstructions.   We will then respond with a custom invoice for your purchase that\nsatisfies your unique requirements.")},close_browser:{q:U.createElement("span",null,"Can I ",U.createElement("b",null,"close my web-browser")," while I","'","m working?"),a:U.createElement("span",null,U.createElement("b",null,"Yes!")," When you close your web-browser, all your processes and running sessions continue running.\nYou can start a computation, shut down your computer, go somewhere else,  sign in\non another computer, and continue working where you left off.\n(Note that output from Jupyter notebook computations will be lost, though Sage worksheet output is\nproperly captured.)",U.createElement("br",null),"The only reasons why a project or process stops are\nthat it hits its ",U.createElement("em",null,"idle timeout"),", has used too much memory,\ncrashed due to an exception, or the server had to reboot.")},private:{q:U.createElement("span",null,"Which plan offers ",U.createElement("b",null,'"private" file storage'),"?"),a:U.createElement("span",null,"All our plans (free and paid) host your files privately by default.\nPlease read our ",U.createElement("a",{target:"_blank",href:B},"Privacy Policy")," and "," ",U.createElement("a",{target:"_blank",href:R},"Copyright Notice"),".")},git:{q:U.createElement("span",null,"Can I work with ",U.createElement("b",null,"Git")," — including GitHub, Bitbucket, GitLab, etc.?"),a:U.createElement("span",null,'Git and various other source control tools are installed and ready to use via the "Terminal".\nBut, in order to also interoperate with sites hosting Git repositories,\nyou have to purchase a plan giving you "internet upgrades" and then applying this upgrade to your project.')},backups:{q:U.createElement("span",null,"Are my files backed up?"),a:U.createElement("span",null,"All files in every project are snapshotted every 5 minutes.  You can browse your snapshots by\nclicking the ",U.createElement("b",null,'"Backups"'),' link to the right of the file listing.   Also, SageMathCloud records\nthe history of all edits you or your collaborators make to most files, and you can browse\nthat history with a slider by clicking on the "History" button (next to save) in files.\nWe care about your data, and also make offsite backups periodically to encrypted USB\ndrives that are not physically connected to the internet.')}},y=exports.FAQ=ve({displayName:"FAQ",faq:function(){var e,t,n;n=[];for(t in b)e=b[t],n.push(U.createElement("li",{key:t,style:{marginBottom:"10px"}},U.createElement("em",{style:{fontSize:"120%"}},e.q),U.createElement("br",null),U.createElement("span",null,e.a)));return n},render:function(){return U.createElement("div",null,U.createElement("a",{name:"faq"}),U.createElement("h2",null,"Frequently asked questions"),U.createElement("ul",null,this.faq()))}}),Q=ve({displayName:"Subscription",propTypes:{redux:Ce.object.isRequired,subscription:Ce.object.isRequired},getInitialState:function(){return{confirm_cancel:!1}},cancel_subscription:function(){return this.props.redux.getActions("billing").cancel_subscription(this.props.subscription.id)},quantity:function(){var e;if(e=this.props.subscription.quantity,e>1)return e+" × "},render_cancel_at_end:function(){if(this.props.subscription.cancel_at_period_end)return U.createElement("span",{style:{marginLeft:"15px"}},"Will cancel at period end.")},render_info:function(){var e,t;return t=this.props.subscription,e=!(t.cancel_at_period_end||this.state.cancelling||this.state.confirm_cancel),
U.createElement(H,{style:{paddingBottom:"5px",paddingTop:"5px"}},U.createElement(f,{md:4},this.quantity()," ",t.plan.name," (",fe.stripe_amount(t.plan.amount,t.plan.currency)," for ",me(t.plan),")"),U.createElement(f,{md:2},fe.capitalize(t.status)),U.createElement(f,{md:4,style:{color:"#666"}},fe.stripe_date(t.current_period_start)," – ",fe.stripe_date(t.current_period_end)," (start: ",fe.stripe_date(t.start),")",this.render_cancel_at_end()),U.createElement(f,{md:2},e?U.createElement(u,{style:{float:"right"},onClick:function(e){return function(){return e.setState({confirm_cancel:!0})}}(this)},"Cancel..."):void 0))},render_confirm:function(){if(this.state.confirm_cancel)return U.createElement(a,{bsStyle:"warning"},U.createElement(H,{style:{borderBottom:"1px solid #999",paddingBottom:"15px",paddingTop:"15px"}},U.createElement(f,{md:6},"Are you sure you want to cancel this subscription?  If you cancel your subscription, it will run to the end of the subscription period, but will not be renewed when the current (already paid for) period ends; any upgrades provided by this subscription will be disabled.    If you need further clarification or need a refund, please email  ",U.createElement(A,null),"."),U.createElement(f,{md:6},U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm_cancel:!1})}}(this)},"Make no change"),U.createElement("div",{style:{float:"right"}},U.createElement(u,{bsStyle:"danger",onClick:function(e){return function(){return e.setState({confirm_cancel:!1}),e.cancel_subscription()}}(this)},"CANCEL: do not auto-renew my subscription")))))},render:function(){return U.createElement("div",{style:{borderBottom:"1px solid #999",paddingTop:"5px",paddingBottom:"5px"}},this.render_info(),this.state.confirm_cancel?this.render_confirm():void 0)}}),X=ve({displayName:"Subscriptions",propTypes:{subscriptions:Ce.object,sources:Ce.object.isRequired,selected_plan:Ce.string,redux:Ce.object.isRequired},getInitialState:function(){return{state:"view"}},render_add_subscription_button:function(){return U.createElement(u,{bsStyle:"primary",disabled:"view"!==this.state.state||0===this.props.sources.total_count,onClick:function(e){return function(){return e.setState({state:"add_new"})}}(this),className:"pull-right"},U.createElement(C,{name:"plus-circle"})," Add Subscription...")},render_add_subscription:function(){return U.createElement(s,{on_close:function(e){return function(){return e.setState({state:"view"}),Ee("")}}(this),selected_plan:this.props.selected_plan,actions:this.props.redux.getActions("billing")})},render_header:function(){return U.createElement(H,null,U.createElement(f,{sm:6},U.createElement(C,{name:"list-alt"})," Subscriptions"),U.createElement(f,{sm:6},this.render_add_subscription_button()))},render_subscriptions:function(){var e,t,n,r,i;for(n=this.props.subscriptions.data,r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(U.createElement(Q,{key:i.id,subscription:i,redux:this.props.redux}));return r},render:function(){return U.createElement(N,{header:this.render_header()},"add_new"===this.state.state?this.render_add_subscription():void 0,this.render_subscriptions())}}),S=ve({displayName:"Invoice",propTypes:{invoice:Ce.object.isRequired,redux:Ce.object.isRequired},getInitialState:function(){return{hide_line_items:!0}},download_invoice:function(e){var n,r,i;return e.preventDefault(),n=this.props.invoice,i=this.props.redux.getStore("account").get_username(),r=t(30),r.download_file(window.smc_base_url+"/invoice/sagemathcloud-"+i+"-receipt-"+new Date(1e3*n.date).toISOString().slice(0,10)+"-"+n.id+".pdf")},render_paid_status:function(){return this.props.invoice.paid?U.createElement("span",null,"PAID"):U.createElement("span",{style:{color:"red"}},"UNPAID")},render_description:function(){if(this.props.invoice.description)return U.createElement("span",null,this.props.invoice.description)},render_line_description:function(e){var t;return t=[],e.quantity>1&&t.push(e.quantity+" × "),null!=e.description&&t.push(e.description),null!=e.plan&&(t.push(e.plan.name),t.push(" (start: "+fe.stripe_date(e.period.start)+")")),t},render_line_item:function(e,t){return U.createElement(H,{key:e.id,style:{borderBottom:"1px solid #aaa"}},U.createElement(f,{sm:1},t,"."),U.createElement(f,{sm:9},this.render_line_description(e)),U.createElement(f,{sm:2},Ae(e.amount,this.props.invoice.currency)))},render_tax:function(){return U.createElement(H,{key:"tax",style:{borderBottom:"1px solid #aaa"}},U.createElement(f,{sm:1}),U.createElement(f,{sm:9},"WA State Sales Tax (",this.props.invoice.tax_percent,"%)"),U.createElement(f,{sm:2},Ae(this.props.invoice.tax,this.props.invoice.currency)))},render_line_items:function(){var e,t,n,r,i,o;if(this.props.invoice.lines){if(this.state.hide_line_items)return U.createElement("a",{href:"",onClick:function(e){return function(t){return t.preventDefault(),e.setState({hide_line_items:!1})}}(this)},"(details)");for(o=[],o.push(U.createElement("a",{key:"hide",href:"",onClick:function(e){return function(t){return t.preventDefault(),e.setState({hide_line_items:!0})}}(this)},"(hide details)")),r=1,i=this.props.invoice.lines.data,e=0,t=i.length;e<t;e++)n=i[e],o.push(this.render_line_item(n,r)),r+=1;return this.props.invoice.tax&&o.push(this.render_tax()),o}},render:function(){return U.createElement(H,{style:{borderBottom:"1px solid #999"}},U.createElement(f,{md:1},Ae(this.props.invoice.amount_due,this.props.invoice.currency)),U.createElement(f,{md:1},this.render_paid_status()),U.createElement(f,{md:3},fe.stripe_date(this.props.invoice.date)),U.createElement(f,{md:6},this.render_description(),this.render_line_items()),U.createElement(f,{md:1},U.createElement("a",{onClick:this.download_invoice,href:""},U.createElement(C,{name:"cloud-download"}))))}}),j=ve({displayName:"InvoiceHistory",propTypes:{redux:Ce.object.isRequired,invoices:Ce.object},render_header:function(){return U.createElement("span",null,U.createElement(C,{name:"list-alt"})," Invoices and Receipts")},render_invoices:function(){var e,t,n,r,i;if(null!=this.props.invoices){for(r=this.props.invoices.data,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(U.createElement(S,{key:e.id,invoice:e,redux:this.props.redux}));return i}},render:function(){return U.createElement(N,{header:this.render_header()},this.render_invoices())}}),exports.PayCourseFee=I=ve({propTypes:{project_id:Ce.string.isRequired,redux:Ce.object.isRequired},getInitialState:function(){return{confirm:!1}},key:function(){return"course-pay-"+this.props.project_id},buy_subscription:function(){var e;return ie=this.props.redux.getActions("billing"),ie.setState((e={},e[""+this.key()]=!0,e)),ie.create_subscription("student_course"),this.setState({confirm:!1}),this.props.redux.getStore("account").wait({until:function(e){return function(t){var n,r,i,o,s,a;return a=t.get_total_upgrades(),n=e.props.redux.getStore("projects").get_total_upgrades_you_have_applied(),(null!=(r=a.member_host)?r:0)-(null!=(i=null!=n?n.member_host:void 0)?i:0)>0&&(null!=(o=a.network)?o:0)-(null!=(s=null!=n?n.network:void 0)?s:0)>0}}(this),timeout:30,cb:function(e){return function(t){var n,r;return t?ie.setState({error:"Error purchasing course subscription: "+t}):(r={member_host:1,network:1},e.props.redux.getActions("projects").apply_upgrades_to_project(e.props.project_id,r)),ie.setState((n={},n[""+e.key()]=void 0,n))}}(this)})},render_buy_button:function(){return this.props.redux.getStore("billing").get(this.key())?U.createElement(u,{bsStyle:"primary",disabled:!0},U.createElement(C,{name:"circle-o-notch",spin:!0})," Paying the one-time $9 fee for this course..."):U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm:!0})}}(this),disabled:this.state.confirm,bsStyle:"primary"},"Pay the one-time $9 fee for this course...")},render_confirm_button:function(){var e;if(this.state.confirm)return this.props.redux.getStore("account").get_total_upgrades().network>0&&(e=" and full internet access enabled"),U.createElement(ne,{style:{marginTop:"1em"}},"You will be charged a one-time $9 fee to move your project to a\nmembers-only server and enable full internet access.",U.createElement("br",null),U.createElement("br",null),U.createElement(p,null,U.createElement(u,{onClick:this.buy_subscription,bsStyle:"primary"},"Pay $9 fee"),U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm:!1})}}(this)},"Cancel")))},render:function(){return U.createElement("span",null,this.render_buy_button(),this.render_confirm_button())}}),T=ve({propTypes:{project_id:Ce.string.isRequired,redux:Ce.object.isRequired},getInitialState:function(){return{confirm:!1}},upgrade:function(){var e,t;return e=this.props.redux.getStore("account").get_total_upgrades(),t={member_host:1},e.network>0&&(t.network=1),this.props.redux.getActions("projects").apply_upgrades_to_project(this.props.project_id,t),this.setState({confirm:!1})},render_move_button:function(){return U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm:!0})}}(this),bsStyle:"primary",disabled:this.state.confirm},"Move this project to a members only server...")},render_confirm_button:function(){var e;if(this.state.confirm)return this.props.redux.getStore("account").get_total_upgrades().network>0&&(e=" and full internet access enabled"),U.createElement(ne,{style:{marginTop:"1em"}},"Your project will be moved to a members only server",e," using\nupgrades included in your current subscription (no additional charge).",U.createElement("br",null),U.createElement("br",null),U.createElement(p,null,U.createElement(u,{onClick:this.upgrade,bsStyle:"primary"},"Move Project"),U.createElement(u,{onClick:function(e){return function(){return e.setState({confirm:!1})}}(this)},"Cancel")))},render:function(){return U.createElement("span",null,this.render_move_button(),this.render_confirm_button())}}),c=ve({displayName:"BillingPage",reduxProps:{billing:{customer:Ce.object,invoices:Ce.object,error:Ce.string,action:Ce.string,loaded:Ce.bool,no_stripe:Ce.bool,selected_plan:Ce.string},projects:{project_map:Ce.immutable},account:{stripe_customer:Ce.immutable}},propTypes:{redux:Ce.object,is_simplified:Ce.bool,for_course:Ce.bool},render_action:function(){if(this.props.action)return U.createElement("div",{style:{position:"relative",top:"-70px"}},"   ",U.createElement(i,{activity:[this.props.action],on_clear:function(e){return function(){return e.props.redux.getActions("billing").clear_action()}}(this)}))},render_error:function(){if(this.props.error)return U.createElement(_,{error:this.props.error,onClose:function(e){return function(){return e.props.redux.getActions("billing").clear_error()}}(this)})},render_help_suggestion:function(){return U.createElement("span",null,U.createElement(J,null)," If you have any questions at all, email ",U.createElement(A,null)," immediately.",U.createElement("i",null,U.createElement(J,null)," Contact us if you are purchasing a course subscription, but need a short trial\nto test things out first.",U.createElement(J,null)))},render_suggested_next_step:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p;return e=null!=(a=null!=(l=this.props.customer)&&null!=(c=l.sources)?c.total_count:void 0)?a:0,p=null!=(u=null!=(d=this.props.customer)&&null!=(r=d.subscriptions)?r.total_count:void 0)?u:0,n=null!=(i=null!=(o=this.props.invoices)&&null!=(s=o.data)?s.length:void 0)?i:0,t=this.render_help_suggestion(),0===e?0===p?U.createElement("span",null,'Click "Add Payment Method..." to add your credit card, then\nclick "Add Subscription..." and\nchoose from either a monthly, yearly or semester-long plan.\nYou will ',U.createElement("b",null,"not be charged"),' until you select a specific subscription then click\n"Add Subscription".',t):U.createElement("span",null,'Click "Add Payment Method..." to add a credit card so you can\npurchase or renew your subscriptions.  Without a credit card\nany current subscriptions will run to completion, but will not renew.\nIf you have any questions about subscriptions or billing (e.g., about\nusing PayPal or wire transfers instead), please email ',U.createElement(A,null)," immediately."):0===p?U.createElement("span",null,'Click "Add Subscription...", then\nchoose from either a monthly, yearly or semester-long plan (you may sign up for the\nsame subscription more than once to increase the number of upgrades).\nYou will be charged only after you select a specific subscription and click\n"Add Subscription".',t):0===n?U.createElement("span",null,"Sign up for the same subscription package more than\nonce to increase the number of upgrades that you can use.",t):U.createElement("span",null,"You may sign up for the same subscription package more than\nonce to increase the number of upgrades that you can use.\nPast invoices and receipts are also available below.",t)},render_info_link:function(){return U.createElement("div",{style:{marginTop:"1em",marginBottom:"1em",color:"#666"}},"We offer many ",U.createElement("a",{href:P,target:"_blank"}," pricing and subscription options"),".",U.createElement(J,null),this.render_suggested_next_step())},get_panel_header:function(e,t){return U.createElement("div",{style:{cursor:"pointer"}},U.createElement(C,{name:e,fixedWidth:!0})," ",t)},render_subscriptions:function(){return U.createElement(X,{subscriptions:this.props.customer.subscriptions,sources:this.props.customer.sources,selected_plan:this.props.selected_plan,redux:this.props.redux})},render_page:function(){var e,t,n,r,i,o,s,a;return e=null!=(n=null!=(r=this.props.customer)&&null!=(i=r.sources)?i.total_count:void 0)?n:0,a=null!=(o=null!=(s=this.props.customer)&&null!=(t=s.subscriptions)?t.total_count:void 0)?o:0,this.props.loaded?null==this.props.customer?U.createElement("div",null,U.createElement(L,{redux:this.props.redux,sources:{data:[]},default:""})):this.props.is_simplified&&a>0?U.createElement("div",null,U.createElement(L,{redux:this.props.redux,sources:this.props.customer.sources,default:this.props.customer.default_source}),this.props.for_course?void 0:U.createElement(N,{header:this.get_panel_header("list-alt","Subscriptions"),eventKey:"2"},this.render_subscriptions())):this.props.is_simplified?U.createElement("div",null,U.createElement(L,{redux:this.props.redux,sources:this.props.customer.sources,default:this.props.customer.default_source}),this.props.for_course?void 0:this.render_subscriptions()):U.createElement("div",null,U.createElement(L,{redux:this.props.redux,sources:this.props.customer.sources,default:this.props.customer.default_source}),this.props.for_course?void 0:this.render_subscriptions(),U.createElement(j,{invoices:this.props.invoices,redux:this.props.redux})):U.createElement(M,null)},render:function(){return U.createElement("div",null,U.createElement("div",null,this.props.for_course?void 0:this.render_info_link(),this.props.no_stripe?void 0:this.render_action(),this.render_error(),this.props.no_stripe?void 0:this.render_page()),this.props.is_simplified?void 0:U.createElement(w,null))}}),exports.BillingPageRedux=ve({displayName:"BillingPage-redux",render:function(){return U.createElement(c,{is_simplified:!1,redux:ye})}}),exports.BillingPageSimplifiedRedux=ve({displayName:"BillingPage-redux",render:function(){return U.createElement(c,{is_simplified:!0,redux:ye})}}),exports.BillingPageForCourseRedux=ve({displayName:"BillingPage-redux",render:function(){return U.createElement(c,{is_simplified:!0,for_course:!0,redux:ye})}}),Ae=function(e,t){return U.createElement("div",{style:{float:"right"}},fe.stripe_amount(e,t))},se=function(e){return"discover"===e||"mastercard"===e||"visa"===e?"cc-"+e:"credit-card"},h=",United States,Canada,Spain,France,United Kingdom,Germany,Russia,Colombia,Mexico,Italy,Afghanistan,Albania,Algeria,American Samoa,Andorra,Angola,Anguilla,Antarctica,Antigua and Barbuda,Argentina,Armenia,Aruba,Australia,Austria,Azerbaijan,Bahamas,Bahrain,Bangladesh,Barbados,Belarus,Belgium,Belize,Benin,Bermuda,Bhutan,Bolivia,Bosnia and Herzegovina,Botswana,Bouvet Island,Brazil,British Indian Ocean Territory,British Virgin Islands,Brunei,Bulgaria,Burkina Faso,Burundi,Cambodia,Cameroon,Canada,Cape Verde,Cayman Islands,Central African Republic,Chad,Chile,China,Christmas Island,Cocos (Keeling) Islands,Colombia,Comoros,Congo,Cook Islands,Costa Rica,Cote d'Ivoire,Croatia,Cuba,Cyprus,Czech Republic,Democratic Republic of The Congo,Denmark,Djibouti,Dominica,Dominican Republic,Ecuador,Egypt,El Salvador,Equatorial Guinea,Eritrea,Estonia,Ethiopia,Falkland Islands,Faroe Islands,Fiji,Finland,France,French Guiana,French Polynesia,French Southern and Antarctic Lands,Gabon,Gambia,Georgia,Germany,Ghana,Gibraltar,Greece,Greenland,Grenada,Guadeloupe,Guam,Guatemala,Guinea,Guinea-Bissau,Guyana,Haiti,Heard Island and McDonald Islands,Honduras,Hong Kong,Hungary,Iceland,India,Indonesia,Iran,Iraq,Ireland,Israel,Italy,Jamaica,Japan,Jordan,Kazakhstan,Kenya,Kiribati,Kuwait,Kyrgyzstan,Laos,Latvia,Lebanon,Lesotho,Liberia,Libya,Liechtenstein,Lithuania,Luxembourg,Macao,Macedonia,Madagascar,Malawi,Malaysia,Maldives,Mali,Malta,Marshall Islands,Martinique,Mauritania,Mauritius,Mayotte,Mexico,Micronesia,Moldova,Monaco,Mongolia,Montenegro,Montserrat,Morocco,Mozambique,Myanmar,Namibia,Nauru,Nepal,Netherlands,Netherlands Antilles,New Caledonia,New Zealand,Nicaragua,Niger,Nigeria,Niue,Norfolk Island,North Korea,Northern Mariana Islands,Norway,Oman,Pakistan,Palau,Palestine,Panama,Papua New Guinea,Paraguay,Peru,Philippines,Pitcairn Islands,Poland,Portugal,Puerto Rico,Qatar,Reunion,Romania,Rwanda,Saint Helena,Saint Kitts and Nevis,Saint Lucia,Saint Pierre and Miquelon,Saint Vincent and The Grenadines,Samoa,San Marino,Sao Tome and Principe,Saudi Arabia,Senegal,Serbia,Seychelles,Sierra Leone,Singapore,Slovakia,Slovenia,Solomon Islands,Somalia,South Africa,South Georgia and The South Sandwich Islands,South Korea,South Sudan,Spain,Sri Lanka,Sudan,Suriname,Svalbard and Jan Mayen,Swaziland,Sweden,Switzerland,Syria,Taiwan,Tajikistan,Tanzania,Thailand,Timor-Leste,Togo,Tokelau,Tonga,Trinidad and Tobago,Tunisia,Turkey,Turkmenistan,Turks and Caicos Islands,Tuvalu,Uganda,Ukraine,United Arab Emirates,United Kingdom,United States,United States Minor Outlying Islands,Uruguay,Uzbekistan,Vanuatu,Vatican City,Venezuela,Vietnam,Wallis and Futuna,Western Sahara,Yemen,Zambia,Zimbabwe".split(","),K={"":"",AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming",AS:"American Samoa",DC:"District of Columbia",GU:"Guam",MP:"Northern Mariana Islands",PR:"Puerto Rico",VI:"United States Virgin Islands"},Ee=function(e,t){return"year"===(null!=t?t.slice(0,4):void 0)&&(e+="-year"),ye.getActions("billing").setState({selected_plan:e})},exports.render_static_pricing_page=function(){return U.createElement("div",null,U.createElement(g,{type:"personal"}),U.createElement(Z,{period:"month year",is_static:!0}),U.createElement("hr",null),U.createElement(g,{type:"course"}),U.createElement(Z,{period:"month4 year1",is_static:!0}),U.createElement("hr",null),U.createElement(v,{type:"shared",is_static:!0}),U.createElement("hr",null),U.createElement(y,null),U.createElement(w,null))},exports.visit_billing_page=function(){return t(128).load_target("settings/billing")},exports.BillingPageLink=function(e){var t;return t=e.text,t||(t="billing page"),U.createElement("a",{onClick:exports.visit_billing_page,style:{cursor:"pointer"}},t)},me=function(e){var t;return t=e.interval_count,e.interval_count+" "+fe.plural(t,e.interval)}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O;O=t(23),k=t(9),w=k.defaults,j=k.required,T=t(19).salvus_client,C=t(12),f=C.React,A=C.rclass,M=C.rtypes,n=C.Actions,m=C.ReactDOM,E=t(22),i=E.Button,s=E.ButtonToolbar,o=E.ButtonGroup,c=E.FormControl,u=E.FormGroup,p=E.InputGroup,_=E.Row,a=E.Col,S=t(17),l=S.ErrorDisplay,d=S.Icon,v=S.Space,y=S.TimeAgo,b=S.Tip,g=S.SearchInput,x=t(26),exports.STEPS=function(e){return e?["assignment","collect","peer_assignment","peer_collect","return_graded"]:["assignment","collect","return_graded"]},exports.previous_step=function(e,t){switch(e){case"collect":return"assignment";case"return_graded":return t?"peer_collect":"collect";case"assignment":break;case"peer_assignment":return"collect";case"peer_collect":return"peer_assignment";default:return console.warn("BUG! previous_step('"+e+"')")}},exports.step_direction=function(e){switch(e){case"assignment":return"to";case"collect":return"from";case"return_graded":return"to";case"peer_assignment":return"to";case"peer_collect":return"from";default:return console.warn("BUG! step_direction('"+e+"')")}},exports.step_verb=function(e){switch(e){case"assignment":return"assign";case"collect":return"collect";case"return_graded":return"return";case"peer_assignment":return"assign";case"peer_collect":return"collect";default:return console.warn("BUG! step_verb('"+e+"')")}},exports.step_ready=function(e,t){switch(e){case"assignment":return"";case"collect":return t>1?" who have already received it":" who has already received it";case"return_graded":return" whose work you have graded";case"peer_assignment":return" for peer grading";case"peer_collect":return" who should have peer graded it"}},exports.BigTime=r=A({displayName:"CourseEditor-BigTime",render:function(){var e;if(e=this.props.date,null!=e)return"string"==typeof e&&(e=k.ISO_to_Date(e)),f.createElement(y,{popover:!0,date:e})}}),exports.StudentAssignmentInfoHeader=A({displayName:"CourseEditor-StudentAssignmentInfoHeader",propTypes:{title:M.string.isRequired,peer_grade:M.bool},render_col:function(e,t,n){var r,i,o;switch(t){case"last_assignment":o="Assign to Student",i="This column gives the status of making homework available to students, and lets you copy homework to one student at a time.";break;case"collect":o="Collect from Student",i="This column gives status information about collecting homework from students, and lets you collect from one student at a time.";break;case"grade":o="Grade",i='Record homework grade" tip="Use this column to record the grade the student received on the assignment. Once the grade is recorded, you can return the assignment.  You can also export grades to a file in the Settings tab.';break;case"peer-assign":o="Assign Peer Grading",i="This column gives the status of sending out collected homework to students for peer grading.";break;case"peer-collect":o="Collect Peer Grading",i="This column gives status information about collecting the peer grading work that students did, and lets you collect peer grading from one student at a time.";break;case"return_graded":o="Return to Student",i="This column gives status information about when you returned homework to the students.  Once you have entered a grade, you can return the assignment.",r="left"}return f.createElement(a,{md:n,key:t},f.createElement(b,{title:o,tip:i},f.createElement("b",null,e,". ",o)))},render_headers:function(){var e;return e=3,f.createElement(_,null,this.render_col(1,"last_assignment",e),this.render_col(2,"collect",e),this.render_col(3,"grade",e),this.render_col(4,"return_graded",e))},render_headers_peer:function(){var e;return e=2,f.createElement(_,null,this.render_col(1,"last_assignment",e),this.render_col(2,"collect",e),this.render_col(3,"peer-assign",e),this.render_col(4,"peer-collect",e),this.render_col(5,"grade",e),this.render_col(6,"return_graded",e))},render:function(){return f.createElement(_,{style:{borderBottom:"2px solid #aaa"}},f.createElement(a,{md:2,key:"title"},f.createElement(b,{title:this.props.title,tip:"Assignment"===this.props.title?"This column gives the directory name of the assignment.":"This column gives the name of the student."},f.createElement("b",null,this.props.title))),f.createElement(a,{md:10,key:"rest"},this.props.peer_grade?this.render_headers_peer():this.render_headers()))}}),exports.StudentAssignmentInfo=A({displayName:"CourseEditor-StudentAssignmentInfo",propTypes:{name:M.string.isRequired,title:M.oneOfType([M.string,M.object]).isRequired,student:M.oneOfType([M.string,M.object]).isRequired,assignment:M.oneOfType([M.string,M.object]).isRequired,grade:M.string,info:M.object.isRequired},getInitialState:function(){return{editing_grade:!1,edited_grade:""}},open:function(e,t,n){return this.actions(this.props.name).open_assignment(e,t,n)},copy:function(e,t,n){return this.actions(this.props.name).copy_assignment(e,t,n)},stop:function(e,t,n){return this.actions(this.props.name).stop_copying_assignment(e,t,n)},save_grade:function(e){return null!=e&&e.preventDefault(),this.actions(this.props.name).set_grade(this.props.assignment,this.props.student,this.state.edited_grade),this.setState({editing_grade:!1})},edit_grade:function(){var e;return this.setState({edited_grade:null!=(e=this.props.grade)?e:"",editing_grade:!0})},render_grade_score:function(){return this.state.editing_grade?f.createElement("form",{key:"grade",onSubmit:this.save_grade,style:{marginTop:"15px"}},f.createElement(u,null,f.createElement(p,null,f.createElement(c,{autoFocus:!0,value:this.state.edited_grade,ref:"grade_input",type:"text",placeholder:"Grade (any text)...",onChange:function(e){return function(){var t;return e.setState({edited_grade:null!=(t=m.findDOMNode(e.refs.grade_input).value)?t:""})}}(this),onBlur:this.save_grade,onKeyDown:function(e){return function(t){if(27===t.keyCode)return e.setState({edited_grade:e.props.grade,editing_grade:!1})}}(this)}),f.createElement(p.Button,null,f.createElement(i,{bsStyle:"success"},"Save"))))):this.props.grade?f.createElement("div",{key:"grade",onClick:this.edit_grade},"Grade: ",this.props.grade):void 0},render_grade:function(e){var t,n;return t=(null!=(n=this.props.grade)?n:"").trim()?void 0:"primary",f.createElement(a,{md:e,key:"grade"},f.createElement(b,{title:"Enter student's grade",tip:"Enter the grade that you assigned to your student on this assignment here.  You can enter anything (it doesn't have to be a number)."},f.createElement(i,{key:"edit",onClick:this.edit_grade,bsStyle:t},"Enter grade")),this.render_grade_score())},render_last_time:function(e,t){return f.createElement("div",{key:"time",style:{color:"#666"}},"(",f.createElement(r,{date:t}),")")},render_open_recopy_confirm:function(e,t,n,r,o,s){var a,l;return a="recopy_"+e,this.state[a]?(l=[],l.push(f.createElement(i,{key:"copy_confirm",bsStyle:"danger",onClick:function(e){return function(){var t;return e.setState((t={},t[""+a]=!1,t)),n()}}(this)},f.createElement(d,{name:"share-square-o",rotate:e.indexOf("ollect")!==-1?"180":void 0})," Yes, ",e.toLowerCase()," again")),l.push(f.createElement(i,{key:"copy_cancel",onClick:function(e){return function(){var t;return e.setState((t={},t[""+a]=!1,t))}}(this)},"Cancel")),l):f.createElement(i,{key:"copy",bsStyle:"warning",onClick:function(e){return function(){var t;return e.setState((t={},t[""+a]=!0,t))}}(this)},f.createElement(b,{title:e,placement:s,tip:f.createElement("span",null,r)},f.createElement(d,{name:"share-square-o",rotate:e.indexOf("ollect")!==-1?"180":void 0})," ",e,"..."))},render_open_recopy:function(e,t,n,r,o){var a;return a="Return"===e?"left":"right",f.createElement(s,{key:"open_recopy"},this.render_open_recopy_confirm(e,t,n,r,o,a),f.createElement(i,{key:"open",onClick:t},f.createElement(b,{title:"Open assignment",placement:a,tip:o},f.createElement(d,{name:"folder-open-o"})," Open")))},render_open_copying:function(e,t,n){var r;return"Return"===e&&(r="left"),f.createElement(o,{key:"open_copying"},f.createElement(i,{key:"copy",bsStyle:"success",disabled:!0},f.createElement(d,{name:"circle-o-notch",spin:!0})," ",e,"ing"),f.createElement(i,{key:"stop",bsStyle:"danger",onClick:n},f.createElement(d,{name:"times"})),f.createElement(i,{key:"open",onClick:t},f.createElement(d,{name:"folder-open-o"})," Open"))},render_copy:function(e,t,n){var r;return"Return"===e&&(r="left"),f.createElement(b,{key:"copy",title:e,tip:n,placement:r},f.createElement(i,{onClick:t,bsStyle:"primary"},f.createElement(d,{name:"share-square-o",rotate:e.indexOf("ollect")!==-1?"180":void 0})," ",e))},render_error:function(e,t){return"string"!=typeof t&&(t=k.to_json(t)),t=t.indexOf("No such file or directory")!==-1?"Somebody may have moved the folder that should have contained the assignment.\n"+t:"Try to "+e.toLowerCase()+" again:\n"+t,f.createElement(l,{key:"error",error:t,style:{maxHeight:"140px",overflow:"auto"}})},render_last:function(e,t,n,r,i,o){var s,a,l,c;return a=function(e){return function(){return e.open(n,e.props.info.assignment_id,e.props.info.student_id)}}(this),s=function(e){return function(){return e.copy(n,e.props.info.assignment_id,e.props.info.student_id)}}(this),l=function(e){return function(){return e.stop(n,e.props.info.assignment_id,e.props.info.student_id)}}(this),null==t&&(t={}),c=[],r&&(t.start?c.push(this.render_open_copying(e,a,l)):t.time?c.push(this.render_open_recopy(e,a,s,i,o)):c.push(this.render_copy(e,s,i))),t.time&&c.push(this.render_last_time(e,t.time)),t.error&&c.push(this.render_error(e,t.error)),c},render_peer_assign:function(){return f.createElement(a,{md:2,key:"peer-assign"},this.render_last("Peer Assign",this.props.info.last_peer_assignment,"peer-assigned",null!=this.props.info.last_collect,"Copy collected assignments from your project to this student's project so they can grade them.","Open the student's copies of this assignment directly in their project, so you can see what they are peer grading."))},render_peer_collect:function(){return f.createElement(a,{md:2,key:"peer-collect"},this.render_last("Peer Collect",this.props.info.last_peer_collect,"peer-collected",null!=this.props.info.last_peer_assignment,"Copy the peer-graded assignments from various student projects back to your project so you can assign their official grade.","Open your copy of your student's peer grading work in your own project, so that you can grade their work."))},render:function(){var e,t,n,r;return e=null!=(t=this.props.assignment.get("peer_grade"))?t.get("enabled"):void 0,n=e&&this.props.info.last_peer_collect||!e&&this.props.info.last_collect,r=e?2:3,f.createElement(_,{style:{borderTop:"1px solid #aaa",paddingTop:"5px",paddingBottom:"5px"}},f.createElement(a,{md:2,key:"title"},this.props.title),f.createElement(a,{md:10,key:"rest"},f.createElement(_,null,f.createElement(a,{md:r,key:"last_assignment"},this.render_last("Assign",this.props.info.last_assignment,"assigned",!0,"Copy the assignment from your project to this student's project so they can do their homework.","Open the student's copy of this assignment directly in their project.  You will be able to see them type, chat with them, leave them hints, etc.")),f.createElement(a,{md:r,key:"collect"},this.render_last("Collect",this.props.info.last_collect,"collected",null!=this.props.info.last_assignment,"Copy the assignment from your student's project back to your project so you can grade their work.","Open the copy of your student's work in your own project, so that you can grade their work.")),e&&this.props.info.peer_assignment?this.render_peer_assign():void 0,e&&this.props.info.peer_collect?this.render_peer_collect():void 0,n?this.render_grade(r):f.createElement(a,{md:r,key:"grade"}),f.createElement(a,{md:r,key:"return_graded"},this.props.grade?this.render_last("Return",this.props.info.last_return_graded,"graded",null!=this.props.info.last_collect,"Copy the graded assignment back to your student's project.","Open the copy of your student's work that you returned to them. This opens the returned assignment directly in their project."):void 0))));
}}),exports.MultipleAddSearch=h=A({propTypes:{add_selected:M.func.isRequired,do_search:M.func.isRequired,clear_search:M.func.isRequired,is_searching:M.bool.isRequired,search_results:M.immutable.List,item_name:M.string},getDefaultProps:function(){return{item_name:"result"}},getInitialState:function(){return{selected_items:[],show_selector:!1}},shouldComponentUpdate:function(e,t){return e.search_results!==this.props.search_results||e.item_name!==this.props.item_name||e.is_searching!==this.props.is_searching||!O.isEqual(t.selected_items,this.state.selected_items)},componentWillReceiveProps:function(e){return this.setState({show_selector:null!=e.search_results&&e.search_results.size>0})},clear_and_focus_search_input:function(){return this.props.clear_search(),this.setState({selected_items:[]})},search_button:function(){return this.props.is_searching?f.createElement(i,null,f.createElement(d,{name:"circle-o-notch",spin:!0})):this.state.show_selector?f.createElement(i,{onClick:this.clear_and_focus_search_input},f.createElement(d,{name:"times-circle"})):f.createElement(i,{onClick:function(e){return function(t){return e.refs.search_input.submit(t)}}(this)},f.createElement(d,{name:"search"}))},add_button_clicked:function(e){return e.preventDefault(),this.props.add_selected(this.state.selected_items),this.clear_and_focus_search_input()},change_selection:function(e){var t,n,r,i,o;for(o=[],i=e.target.selectedOptions,t=0,n=i.length;t<n;t++)r=i[t],o.push(r.label);return this.setState({selected_items:o})},render_results_list:function(){var e;return e=[],this.props.search_results.map(function(t){return function(t){return e.push(f.createElement("option",{key:t,value:t,label:t},t))}}(this)),e},render_add_selector:function(){return f.createElement(u,null,f.createElement(c,{componentClass:"select",multiple:!0,ref:"selector",size:5,rows:10,onChange:this.change_selection},this.render_results_list()),f.createElement(s,null,this.render_add_selector_button(),f.createElement(i,{onClick:this.clear_and_focus_search_input},"Cancel")))},render_add_selector_button:function(){var e,t,n;return t=null!=(n=this.state.selected_items.length)?n:0,e=function(){switch(this.props.search_results.size){case 0:return"No "+this.props.item_name+" found";case 1:return"Add "+this.props.item_name;default:switch(t){case 0:return"Select "+this.props.item_name+" above";case 1:return"Add selected "+this.props.item_name;default:return"Add "+t+" "+this.props.item_name+"s"}}}.call(this),f.createElement(i,{disabled:0===t,onClick:this.add_button_clicked},f.createElement(d,{name:"plus"})," ",e)},render:function(){return f.createElement("div",null,f.createElement(g,{autoFocus:!0,ref:"search_input",default_value:"",placeholder:"Add "+this.props.item_name+" by folder name (enter to see available folders)...",on_submit:this.props.do_search,on_clear:this.clear_and_focus_search_input,buttonAfter:this.search_button()}),this.state.show_selector?this.render_add_selector():void 0)}}),exports.FoldersToolbar=A({propTypes:{search:M.string,search_change:M.func.isRequired,num_omitted:M.number,project_id:M.string,items:M.object.isRequired,add_folders:M.func,item_name:M.string,plural_item_name:M.string},getDefaultProps:function(){return{item_name:"item",plural_item_name:"items"}},getInitialState:function(){return{add_is_searching:!1,add_search_results:x.List([])}},do_add_search:function(e){if(!this.state.add_is_searching)return this.setState({add_is_searching:!0}),T.find_directories({project_id:this.props.project_id,query:"*"+e.trim()+"*",cb:function(t){return function(n,r){var i,o;return n?t.setState({add_is_searching:!1,err:n,add_search_results:void 0}):(i=t.filter_results(r.directories,e,t.props.items),o=i.length===t.state.add_search_results.size?t.state.add_search_results.merge(i):x.List(i),t.setState({add_is_searching:!1,add_search_results:o}))}}(this)})},filter_results:function(e,t,n){var r,i,o;return e.length>0&&(i=[],r=n.filter(function(e){return function(e){return!e.get("deleted")}}(this)),r.map(function(e){return function(e){var t;if(t=e.get("path"))return i.push(t)}}(this)),o=function(e){return function(e){return e.indexOf("-collect")!==-1&&t.indexOf("collect")===-1||i.includes(e)}}(this),e=e.filter(function(e){return function(e){return!o(e)}}(this)),e.sort()),e},submit_selected:function(e){return null!=e&&this.props.add_folders(e),this.clear_add_search()},clear_add_search:function(){return this.setState({add_search_results:x.List([])})},render:function(){return f.createElement(_,{style:{marginBottom:"-15px"}},f.createElement(a,{md:3},f.createElement(g,{placeholder:"Find "+this.props.plural_item_name+"...",default_value:this.props.search,on_change:this.props.search_change})),f.createElement(a,{md:4},this.props.num_omitted?f.createElement("h5",null,"(Omitting ",this.props.num_omitted," ",this.props.num_ommitted>1?this.props.plural_item_name:this.props.item_name,")"):void 0),f.createElement(a,{md:5},f.createElement(h,{add_selected:this.submit_selected,do_search:this.do_add_search,clear_search:this.clear_add_search,is_searching:this.state.add_is_searching,item_name:this.props.item_name,err:void 0,search_results:this.state.add_search_results})))}})},function(e,exports,t){var n,r,i,o;i=t(9),n=i.defaults,o=n.required,r=function(e){return exports[e.event]=function(t){if(null==t&&(t={}),null!=t.event)throw Error("ValueError: must not define 'event' when calling message creation function (opts="+JSON.stringify(t)+", obj="+JSON.stringify(e)+")");return n(t,e)}},r({event:"compute_server_status",status:void 0}),r({event:"compute",project_id:void 0,action:o,args:void 0,param:void 0,id:void 0}),r({event:"project_state_update",project_id:o,state:o,time:o,state_error:void 0}),r({event:"start_session",type:o,project_id:void 0,session_uuid:void 0,params:void 0,id:void 0,limits:void 0}),r({event:"session_started",id:void 0,session_uuid:void 0,limits:void 0,data_channel:void 0}),r({event:"session_reconnect",session_uuid:void 0,data_channel:void 0}),r({event:"connect_to_session",id:void 0,type:o,project_id:o,session_uuid:o,params:void 0}),r({event:"session_connected",id:void 0,session_uuid:o,data_channel:void 0,history:void 0}),r({event:"session_description",pid:o,limits:void 0}),r({event:"terminate_session",project_id:void 0,session_uuid:void 0,reason:void 0,done:void 0}),r({event:"execute_code",id:void 0,code:o,data:void 0,session_uuid:void 0,cell_id:void 0,preparse:!0,allow_cache:!0}),r({event:"output",id:void 0,stdout:void 0,stderr:void 0,html:void 0,md:void 0,tex:void 0,d3:void 0,hide:void 0,show:void 0,auto:void 0,javascript:void 0,interact:void 0,obj:void 0,file:void 0,raw_input:void 0,done:!1,session_uuid:void 0,once:void 0,clear:void 0,events:void 0}),r({event:"execute_javascript",session_uuid:void 0,code:o,obj:void 0,coffeescript:!1,cell_id:void 0}),r({event:"get_usernames",id:void 0,account_ids:o}),r({event:"usernames",id:void 0,usernames:o}),r({event:"create_account",id:void 0,first_name:o,last_name:o,email_address:o,password:o,agreed_to_terms:o,token:void 0}),r({event:"account_creation_failed",id:void 0,reason:o}),r({event:"delete_account",id:void 0,account_id:o}),r({event:"account_deleted",id:void 0,error:void 0}),r({event:"email_address_availability",id:void 0,email_address:o,is_available:void 0}),r({id:void 0,event:"sign_in",email_address:o,password:o,remember_me:!1}),r({id:void 0,event:"remember_me_failed",reason:o}),r({id:void 0,event:"sign_in_failed",email_address:o,reason:o}),r({event:"signed_in",id:void 0,remember_me:o,hub:o,account_id:o,email_address:void 0,first_name:void 0,last_name:void 0}),r({event:"sign_out",everywhere:!1,id:void 0}),r({event:"signed_out",id:void 0}),r({event:"change_password",id:void 0,email_address:o,old_password:"",new_password:o}),r({event:"changed_password",id:void 0,error:void 0}),r({event:"forgot_password",id:void 0,email_address:o}),r({event:"forgot_password_response",id:void 0,error:!1}),r({event:"reset_forgot_password",id:void 0,reset_code:o,new_password:o}),r({event:"reset_forgot_password_response",id:void 0,error:!1}),r({event:"change_email_address",id:void 0,account_id:o,old_email_address:"",new_email_address:o,password:""}),r({event:"changed_email_address",id:void 0,error:!1,ttl:void 0}),r({event:"unlink_passport",strategy:o,id:o}),r({event:"error",id:void 0,error:void 0}),r({event:"success",id:void 0}),r({event:"reconnect",id:void 0,reason:void 0}),r({event:"cookies",id:o,url:"/cookies",get:void 0,set:void 0,value:void 0}),r({event:"open_project",id:o,project_id:o,quota:o,idle_timeout:o,ssh_public_key:o}),r({event:"project_opened",id:o}),r({event:"save_project",id:void 0,project_id:o}),r({event:"project_saved",id:o,bundle_uuids:o}),r({event:"project_exec",id:void 0,project_id:void 0,path:"",command:o,args:[],timeout:10,max_output:void 0,bash:!1,err_on_exit:!0}),r({event:"project_exec_output",id:o,stdout:o,stderr:o,exit_code:o}),r({event:"jupyter_port",port:void 0,id:void 0,mathjax_url:void 0}),r({event:"read_file_from_project",id:void 0,project_id:o,path:o,archive:"tar.bz2"}),r({event:"file_read_from_project",id:o,data_uuid:o,archive:void 0}),r({event:"temporary_link_to_file_read_from_project",id:o,url:o}),r({event:"read_text_file_from_project",id:void 0,project_id:o,path:o}),r({event:"text_file_read_from_project",id:o,content:o}),r({event:"write_file_to_project",id:o,project_id:o,path:o,data_uuid:o}),r({event:"write_text_file_to_project",id:void 0,project_id:o,path:o,content:o}),r({event:"file_written_to_project",id:o}),r({event:"create_project",id:void 0,title:o,description:o,start:!1}),r({event:"project_created",id:o,project_id:o}),r({event:"project_list_updated"}),r({event:"user_search",id:void 0,query:o,limit:20}),r({event:"user_search_results",id:void 0,results:o}),r({event:"project_users",id:void 0,users:o}),r({event:"invite_collaborator",id:void 0,project_id:o,account_id:o}),r({event:"remove_collaborator",id:void 0,project_id:o,account_id:o}),r({event:"invite_noncloud_collaborators",id:void 0,project_id:o,replyto:void 0,replyto_name:void 0,to:o,subject:void 0,email:o,title:o,link2proj:o}),r({event:"invite_noncloud_collaborators_resp",id:void 0,mesg:o}),r({event:"version",version:void 0,min_version:void 0}),r({event:"save_blob",id:void 0,sha1:o,ttl:void 0,error:void 0}),r({event:"remove_blob_ttls",id:void 0,uuids:o}),r({event:"storage",action:o,project_id:void 0,param:void 0,id:void 0}),r({event:"projects_running_on_server",id:void 0,projects:void 0}),r({event:"local_hub",project_id:o,timeout:void 0,id:void 0,multi_response:!1,message:o}),r({event:"copy_path_between_projects",id:void 0,src_project_id:o,src_path:o,target_project_id:o,target_path:void 0,overwrite_newer:!1,delete_missing:!1,backup:!1,timeout:void 0,exclude_history:!1}),r({event:"project_set_quotas",id:void 0,project_id:o,memory:void 0,cpu_shares:void 0,cores:void 0,disk_quota:void 0,mintime:void 0,network:void 0,member_host:void 0}),r({event:"print_to_pdf",id:void 0,path:o,options:void 0}),r({event:"printed_to_pdf",id:void 0,path:o}),r({event:"ping",id:void 0}),r({event:"pong",id:void 0,now:void 0}),r({event:"public_get_project_info",id:void 0,project_id:o}),r({event:"public_project_info",id:void 0,info:o}),r({event:"public_get_directory_listing",id:void 0,project_id:o,path:o,hidden:!1,time:!1,start:0,limit:-1}),r({event:"public_directory_listing",id:void 0,result:o}),r({event:"public_get_text_file",id:void 0,project_id:o,path:o}),r({event:"public_text_file_contents",id:void 0,data:o}),r({event:"copy_public_path_between_projects",id:void 0,src_project_id:o,src_path:o,target_project_id:o,target_path:void 0,overwrite_newer:!1,delete_missing:!1,timeout:void 0,exclude_history:!1,backup:!1}),r({event:"log_client_error",error:o}),r({event:"webapp_error",name:o,message:o,comment:void 0,stacktrace:void 0,file:void 0,path:void 0,lineNumber:void 0,columnNumber:void 0,severity:void 0,browser:void 0,mobile:void 0,responsive:void 0,user_agent:void 0,smc_version:void 0,build_date:void 0,smc_git_rev:void 0,uptime:void 0,start_time:void 0}),r({event:"stripe_get_customer",id:void 0}),r({event:"stripe_customer",id:void 0,customer:void 0,stripe_publishable_key:void 0}),r({event:"stripe_create_source",id:void 0,token:o}),r({event:"stripe_delete_source",card_id:o,id:void 0}),r({event:"stripe_set_default_source",card_id:o,id:void 0}),r({event:"stripe_update_source",card_id:o,info:o,id:void 0}),r({event:"stripe_get_plans",id:void 0}),r({event:"stripe_plans",id:void 0,plans:o}),r({event:"stripe_create_subscription",id:void 0,plan:o,quantity:1,coupon:void 0}),r({event:"stripe_cancel_subscription",id:void 0,subscription_id:o,at_period_end:!0}),r({event:"stripe_update_subscription",id:void 0,subscription_id:o,quantity:void 0,projects:void 0,plan:void 0,coupon:void 0}),r({event:"stripe_get_subscriptions",id:void 0,limit:void 0,ending_before:void 0,starting_after:void 0}),r({event:"stripe_subscriptions",id:void 0,subscriptions:void 0}),r({event:"stripe_get_charges",id:void 0,limit:void 0,ending_before:void 0,starting_after:void 0}),r({event:"stripe_charges",id:void 0,charges:void 0}),r({event:"stripe_get_invoices",id:void 0,limit:void 0,ending_before:void 0,starting_after:void 0}),r({event:"stripe_invoices",id:void 0,invoices:void 0}),r({event:"stripe_admin_create_invoice_item",id:void 0,email_address:void 0,account_id:void 0,amount:void 0,description:void 0}),r({event:"create_support_ticket",id:void 0,username:void 0,email_address:o,subject:o,body:o,tags:void 0,account_id:void 0,location:void 0,info:void 0}),r({event:"support_ticket_url",id:void 0,url:o}),r({event:"get_support_tickets",id:void 0}),r({event:"support_tickets",id:void 0,tickets:o}),r({event:"query",id:void 0,query:o,changes:void 0,multi_response:!1,options:void 0}),r({event:"query_cancel",id:void 0}),r({event:"query_get_changefeed_ids",id:void 0,changefeed_ids:void 0})},function(e,exports,t){var n,r,i,o,s,a,l,c=function(e,t){return function(){return e.apply(t,arguments)}};l=t(19).salvus_client,i=t(36).alert_message,s=t(9),o=s.defaults,a=s.required,n=function(){function e(e){this.project_id=e,this.download_href=c(this.download_href,this),this.url_href=c(this.url_href,this),this.ensure_directory_exists=c(this.ensure_directory_exists,this),this.file_nonzero_size=c(this.file_nonzero_size,this),s.is_valid_uuid_string(this.project_id)||(console.trace(),console.warn("ProjectTasks: INVALID project_id -- "+this.project_id))}return e.prototype.file_nonzero_size=function(e){var t;return e=o(e,{path:a,cb:void 0}),t=s.path_split(e.path),l.exec({project_id:this.project_id,command:"test",args:["-s",t.tail],path:t.head,err_on_exit:!0,cb:function(t){return"function"==typeof e.cb?e.cb(t):void 0}})},e.prototype.ensure_directory_exists=function(e){return e=o(e,{path:a,cb:void 0,alert:!0}),l.exec({project_id:this.project_id,command:"mkdir",timeout:15,args:["-p",e.path],cb:function(t){return function(t,n){return e.alert&&(t?i({type:"error",message:t}):"error"===n.event&&i({type:"error",message:n.error})),"function"==typeof e.cb?e.cb(t||"error"===n.event):void 0}}(this)})},e.prototype.url_fullpath=function(e){var n,r,i,o;return"undefined"!=typeof window&&null!==window?(i=window.location,n=i.protocol+"//"+i.hostname):n="https://cloud.sagemath.com",r=t(129).join,e=r(""+(null!=(o=window.smc_base_url)?o:"/"),"projects",""+this.project_id,"files",""+s.encode_path(e)),""+n+("/"===e[0]?"":"/")+e},e.prototype.url_href=function(e){return window.smc_base_url+"/"+this.project_id+"/raw/"+s.encode_path(e)},e.prototype.download_href=function(e){return this.url_href(e)+"?download"},e}(),r={},exports.project_tasks=function(e){var t;return null!=r[e]?r[e]:r[e]=null!=(t=r[e])?t:new n(e)}},function(e,exports){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMTAwLjY0MTQiCiAgIGhlaWdodD0iMTAwLjAwMDg3IgogICBpZD0ic3ZnMzE2OCIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ4LjQgcjk5MzkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5ldyBkb2N1bWVudCAyIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMzE3MCIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEuOTc5ODk5IgogICAgIGlua3NjYXBlOmN4PSItNTUuNTk4NjgiCiAgICAgaW5rc2NhcGU6Y3k9IjczLjE2MDQwMSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBmaXQtbWFyZ2luLXRvcD0iMSIKICAgICBmaXQtbWFyZ2luLWxlZnQ9IjEiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMSIKICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMSIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzNjYiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iNzQ0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTMxNzMiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjQuNjc5MywtNDgyLjM2MTc1KSI+CiAgICA8ZwogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lIgogICAgICAgaWQ9ImczMzE1IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzExLC00NTYuMDAwMDEpIj4KICAgICAgPHJlY3QKICAgICAgICAgcnk9IjcuMjQ3NzI1IgogICAgICAgICByeD0iNy4yNDc3MjUiCiAgICAgICAgIHk9IjkzOS4zNjE3NiIKICAgICAgICAgeD0iMTQuNjc5MzAyIgogICAgICAgICBoZWlnaHQ9Ijk4LjAwMDg3IgogICAgICAgICB3aWR0aD0iOTguNjQxMzk2IgogICAgICAgICBpZD0icmVjdDMyMjUtMi00IgogICAgICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMDtmaWxsOiMxOTE5YmY7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjA7bWFya2VyOm5vbmU7dmlzaWJpbGl0eTp2aXNpYmxlO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7ZmlsdGVyOnVybCgjZmlsdGVyNDEwMyk7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZSIgLz4KICAgICAgPGcKICAgICAgICAgaWQ9Imc0MTk5LTktNS05IgogICAgICAgICBzdHlsZT0ib3BhY2l0eTowLjk4OTk5OTk5O2NvbG9yOiMwMDAwMDA7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNzk5Mzg1NywwLDAsMC43OTkzODU3LC0yMzguNzI3NDEsMTM4LjE4ODY1KSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBpZD0icGF0aDUwODgtMy02LTkiCiAgICAgICAgICAgZD0ibSAzNjAuNzY2MjMsMTAwOC42NDk0IGMgLTMuNjgyODUsMC4xNTUxIC03LjQ1NDcsMS4xNzk0IC0xMS4xODc1LDIuNjU2MyAtOC41MzIxLDMuMzc1OCAtMTMuMTQ5NzEsMTEuNTM0IC0xMy43MTg3NSwxNy43NSAtMC4xMjgwMywxLjM5ODYgLTAuMTAzODEsMi42OTM4IC0wLjAzMTIsMy45Mzc1IC01LjA0NDEsMS44NDc4IC04LjY2MTUxLDQuMzk0NiAtMTAuODEyNSw3LjQ2ODcgLTIuMzc3NzUsMy4zOTgyIC0yLjg5NjUyLDcuMzE2MyAtMi4xMjUsMTAuNzgxMyAxLjQ4NjQsNi42NzU2IDcuMTcxODcsMTIuMTA4MSAxMy43ODEyNSwxMi41IGwgMC4zNDM3NSwtNi44MTI1IGMgLTAuODgzNzcsLTAuNjE2NSAtMS40Mzc1LC0xLjY1OTcgLTEuNDM3NSwtMi44NDM4IDAsLTEuODk0NSAxLjQ3NzU3LC0zLjQzNzUgMy4zMTI1LC0zLjQzNzUgMC43MTIzOCwwIDEuMzY1MzEsMC4yMzA5IDEuOTA2MjUsMC42MjUgbCA3LjIxODc1LC00Ljg3NSBjIC0wLjAxLC0wLjExOTMgLTAuMDMxMiwtMC4yMjE4IC0wLjAzMTIsLTAuMzQzNyAwLC0yLjMwMzkgMS43OTk3OCwtNC4xODc1IDQuMDMxMjUsLTQuMTg3NSAwLjM4MzUzLDAgMC43NDIyMiwwLjA4NCAxLjA5Mzc1LDAuMTg3NSBsIDguMTg3NSwtOS44MTI1IGMgLTAuMzczMjksLTAuNTU0NyAtMC41OTM3NSwtMS4yMTA5IC0wLjU5Mzc1LC0xLjkzNzUgMCwtMS44OTQ1IDEuNDc3NTcsLTMuNDM3NSAzLjMxMjUsLTMuNDM3NSAxLjQ0MTczLDAgMi42NjUyNCwwLjk1NiAzLjEyNSwyLjI4MTIgbCAyNS42ODc1LDAuOTA2MyBjIDAuNDc3MzksLTAuNjExNyAxLjIxMTEzLC0xIDIuMDMxMjUsLTEgMS40MzgzOCwwIDIuNjI1LDEuMjAyNCAyLjYyNSwyLjY4NzUgMCwwLjE1MzMgLTAuMDM4NiwwLjI5MTIgLTAuMDYyNSwwLjQzNzUgbCAxNi41MzEyNSwyMC45MDYyIGMgMC4xNjAzNiwtMC4wMzIgMC4zMzA2MywtMC4wNjIgMC41LC0wLjA2MiAxLjQzODM4LDAgMi41OTM3NSwxLjIwMjQgMi41OTM3NSwyLjY4NzUgMCwwLjgyNCAtMC4zNzIyNCwxLjUzOCAtMC45Mzc1LDIuMDMxMyBsIDEuNzE4NzUsNS45Mzc1IGMgMC4yNjcxMywwIDAuMzg2MzksMCAwLjY1NjI1LDAgOS4xMTIxNCwtMS4wNTY5IDE0Ljk1NTY1LC03LjkzODkgMTYuMTI1LC0xNS4zNzUgMS4yNzE2OCwtOC4wODY5IC0yLjcwNzA3LC0xNy4yMDU2IC0xMiwtMjAuNjU2MyAtNS4yMjA2OCwtMS45Mzg1IC05LjU1NDMsLTEuODk2MSAtMTMuMDkzNzUsLTEgLTMuNTczMTcsLTkuNTE4MiAtNS41OTg5MywtMTIuNTE1NCAtMTMsLTE1LjY1NjIgLTcuNDAxMDYsLTMuMTQwOCAtMTguMzgxMzcsLTAuOTU4OCAtMjIuMTg3NSwyLjE4NzUgLTMuNzYwMTcsLTMuMTE3MSAtNy44MTkwNiwtNC40MTk4IC0xMiwtNC41MzEzIC0wLjUyMjYyLC0wLjAxNCAtMS4wMzYzOCwtMC4wMjIgLTEuNTYyNSwwIHogbSA1Ny4wNjI1LDU1LjAzMTMgYyAtMC45Nzk0NiwwIC0xLjQ2MTg1LC0zZS00IC0yLjQwNjI1LDAgbCAxLjUsNS4xNTYyIC0zLjg3NSwtNS4xNTYyIGMgLTEuNjU4NzcsNmUtNCAtMi44MTE3NCwwIC00LjM3NSwwIGwgMS4zMTI1LDEuNzUgLTMuMTg3NSw5LjI1IC0xOS4zMTI1LDQuNjI1IGMgLTAuMjY4NDEsLTAuNDgwMiAtMC42MDI1LC0wLjg4MjYgLTEsLTEuMjUgbCAzLjU2MjUsLTE0LjM0MzggYyAtMS40NjI2MywwIC0zLjM2NjE0LDAgLTQuODEyNSwwIGwgLTMuMjUsMTMuMTI1IGMgLTAuMjE4MDksMC4wNTIgLTAuNDE4ODEsMC4xMzgyIC0wLjYyNSwwLjIxODggbCAtMTEuNDA2MjUsLTEzLjM0MzggYyAtMS43NTQ2MiwwIC00LjIxNzc0LDAuMDI4IC02LjA2MjUsMC4wMzEgbCAxNC40MDYyNSwxNi44MTI1IGMgLTAuMDMyNSwwLjEyMzcgLTAuMDcwMiwwLjI0NzcgLTAuMDkzNywwLjM3NSBsIC0zMS44NDM3NSwzLjUzMTIgYyAtMC4yMTY1NCwtMC4yMjk1IC0wLjQ3ODY0LC0wLjQzMzggLTAuNzUsLTAuNTkzNyBsIDEwLjIxODc1LC0xNi4xNTYzIGMgMC4yMDczNywwLjA1NSAwLjQzMjMsMC4wOTQgMC42NTYyNSwwLjA5NCAxLjQzODM4LDAgMi41OTM3NSwtMS4yMDI1IDIuNTkzNzUsLTIuNjg3NSAwLC0wLjUwNzMgLTAuMTM3ODQsLTAuOTY1MSAtMC4zNzUsLTEuMzc1IC0xLjQyNTA3LDAgLTIuOTM1MDIsMCAtNC40Mzc1LDAgLTAuMjMwODUsMC40MDI2IC0wLjM3NSwwLjg3MjQgLTAuMzc1LDEuMzc1IDAsMC44MjMxIDAuMzQyMDIsMS41MzggMC45MDYyNSwyLjAzMTIgbCAtOC42NTYyNSwxMy43MTg4IDMuMTg3NSwtMTcuMTI1IGMgLTAuODY5MzQsNmUtNCAtMS41MDcyOSwwLjAzMSAtMi40MDYyNSwwLjAzMSBsIC0zLjYyNSwxOS43MTg4IGMgLTAuOTMyNjksMC4xOTcgLTEuNjg2ODUsMC44MDUzIC0yLjE1NjI1LDEuNjI1IGwgLTEuNTkzNzUsLTAuMzEyNSBjIC0wLjAyNDIsLTEuMDYwNiAtMC42NDg2NSwtMS45NjAxIC0xLjUzMTI1LC0yLjM3NSBsIDAuOTY4NzUsLTE4LjY1NjMgYyAtMC44MjY4OSwxMGUtNSAtMS4xMTY0NywwIC0xLjk2ODc1LDAgLTAuMTE2MjcsMCAtMC4yMjgwMiwtMC4wMjQgLTAuMzQzNzUsLTAuMDMxIGwgLTAuOTY4NzUsMTguNzgxMiBjIC0wLjgxMTg2LDAuNDU1NCAtMS4zNzUsMS4zMjI4IC0xLjM3NSwyLjM0MzggMCwxLjQ4NSAxLjE4NjYyLDIuNjg3NSAyLjYyNSwyLjY4NzUgMC4xMTU5OCwwIDAuMjMxNzgsLTAuMDE2IDAuMzQzNzUsLTAuMDMxIGwgMTguMDYyNSwxOS4xMjUgYyAtMC4wMDYsMC4wNzUgMCwwLjE0MjYgMCwwLjIxODggMCwxLjQ4NSAxLjE1NTM3LDIuNjg3NSAyLjU5Mzc1LDIuNjg3NSAwLjUzMDA2LDAgMS4wMjYxMywtMC4xODggMS40Mzc1LC0wLjQ2ODggbCA5Ljc4MTI1LDUuNDY4OCBjIC0wLjAxODIsMC4xNDUzIC0wLjAzMTIsMC4yODcgLTAuMDMxMiwwLjQzNzUgMCwxLjg5NDQgMS40Nzc1NywzLjQzNzUgMy4zMTI1LDMuNDM3NSAxLjc0MDkyLDAgMy4xNzA3NCwtMS4zOTY3IDMuMzEyNSwtMy4xNTYzIGwgMjYuNTMxMjUsLTggYyAwLjYwNTQ3LDAuODQxNCAxLjU2MzAxLDEuNDA2MyAyLjY1NjI1LDEuNDA2MyAxLjgzNDkzLDAgMy4zNDM3NSwtMS41NDMxIDMuMzQzNzUsLTMuNDM3NSAwLC0wLjgwNTYgLTAuMjY4NDksLTEuNTM5NyAtMC43MTg3NSwtMi4xMjUgbCAxMS41LC0yNi4xMjUgYyAxLjgyMDY2LC0wLjAxNyAzLjMxMjUsLTEuNTIyNSAzLjMxMjUsLTMuNDA2MyAwLC0xLjY1NzcgLTEuMTQyMjcsLTMuMDU1MSAtMi42NTYyNSwtMy4zNzUgbCAtMS45MDYyNSwtNi41MzEyIHogbSAtNzguODQzNzUsMC4wOTQgYyAzLjMzMzgxLC00ZS00IDQuOTcyMTcsMCA3LjkzNzUsMCBsIDEuODc1LC0xMC4wOTM3IC02LjYyNSwwLjc4MTIgYyAtMC4xNjc1NSwxLjU2MTggLTEuMzQyMTQsMi44MjE0IC0yLjg0Mzc1LDMuMDMxMyBsIC0wLjM0Mzc1LDYuMjgxMiB6IG0gMTAuMzQzNzUsLTAuMDMxIGMgMS43ODM4LDAgMy4yNjU3MywwIDQuOTM3NSwwIDAuNDMxMzUsLTAuNzUyNCAxLjE5NDg2LC0xLjI2ODQgMi4wOTM3NSwtMS4zMTI1IGwgMS4yODEyNSwtNS45Njg4IC0yLjk2ODc1LC0zLjQ2ODcgLTMuNDM3NSwwLjQwNjIgLTEuOTA2MjUsMTAuMzQzOCB6IG0gOS4zNzUsMCBjIDEuNjY1OTMsMCAzLjYwOTAxLDAgNS4xODc1LDAgbCAtNS4zMTI1LC02LjE4NzUgLTEuMDkzNzUsNS4wNjI1IGMgMC41MDkwNywwLjIyMjMgMC45MzUxNiwwLjYzNDggMS4yMTg3NSwxLjEyNSB6IG0gMTEuMjUsLTAuMDMxIGMgNC41NzQ2MywtMC4wMSAxMC45MzIyNCwwLjAxIDE1LjI4MTI1LDAgbCA0LjkzNzUsLTE5Ljg3NSAtMS4yMTg3NSwwLjE1NjMgLTE0LjA2MjUsNS4zNzUgYyAwLjA0NzcsMC4yMDM2IDAuMDkzNywwLjQwNjIgMC4wOTM3LDAuNjI1IDAsMS40ODUgLTEuMTg2NjIsMi42ODc1IC0yLjYyNSwyLjY4NzUgLTEuMDA1OTUsMCAtMS44NDc0MSwtMC42MDY4IC0yLjI4MTI1LC0xLjQ2ODggbCAtOS44NDM3NSwxLjE1NjMgOS43MTg3NSwxMS4zNDM3IHogbSAyMC4wOTM3NSwwIGMgNS42NjA1OSwtMC4wMSAxMS45Njk5OCwtMC4wMjYgMTguNjI1LC0wLjAzMSBsIC0xNC4wMzEyNSwtMTguNTMxMyAtNC41OTM3NSwxOC41NjI1IHogbSAyMywtMC4wMzEgYyAwLjkwMDQ4LC00ZS00IDEuNDQyODYsMmUtNCAyLjM3NSwwIGwgLTEuNTYyNSwtNS4zNzUgYyAtMC4wNjA0LC0wLjAxNCAtMC4xMjg4LC0wLjAxMyAtMC4xODc1LC0wLjAzMSBsIC0xLjQ2ODc1LDQuMzEyNSAwLjg0Mzc1LDEuMDkzOCB6IG0gLTQ1LjkwNjI1LC0zMi4yMTg4IGMgLTAuNDY1MTUsMS4zMTQ4IC0xLjY5MDU3LDIuMjUgLTMuMTI1LDIuMjUgLTAuMTIwMDksMCAtMC4yMjY5NSwtMC4wMTggLTAuMzQzNzUsLTAuMDMxIGwgLTEuOTA2MjUsOC45MDYzIDI4LjI1LC0zLjQwNjIgYyAwLjUxMzI4LC0xLjE0MzggMS41MDYxNiwtMi4wMTM3IDIuNzE4NzUsLTIuMzEyNiBsIDAuNjI1LC0yLjk2ODcgYyAtMC40OTM3OCwtMC4zNjk0IC0wLjg1MjEsLTAuOTAwNSAtMSwtMS41MzEzIGwgLTI1LjIxODc1LC0wLjkwNjIgeiBtIDI4Ljg3NSwyLjY4NzUgYyAtMC4xMTg5NSwwLjA2IC0wLjI0NjczLDAuMTE1NCAtMC4zNzUsMC4xNTYzIGwgLTAuNTMxMjUsMi43NSBjIDEuNTEzMDgsMC42MDI3IDIuNTkzNzUsMi4xMDAyIDIuNTkzNzUsMy44NzUgMCwwLjY5NDMgLTAuMTc4MTMsMS4zMzAzIC0wLjQ2ODc1LDEuOTA2MiBsIDE0LjEyNSwxOC42MjUgMS4zMTI1LC0zLjgxMjUgYyAtMC41MDA1NSwtMC40OSAtMC44NDM3NSwtMS4xNjkxIC0wLjg0Mzc1LC0xLjkzNzUgMCwtMC40NDQ1IDAuMTI3NTQsLTAuODQ5NCAwLjMxMjUsLTEuMjE4NyBsIC0xNi4xMjUsLTIwLjM0MzggeiBtIC0zMy43MTg3NSwwLjU2MjUgLTcuMjE4NzUsOC42MjUgYyAwLjAxNDMsMC4wMTcgMC4wMTcyLDAuMDQ1IDAuMDMxMiwwLjA2MiBsIDUuNDY4NzUsLTAuNjg3NSAxLjcxODc1LC04IHogbSAyMS44NDM3NSw5Ljg0MzggLTIzLjQwNjI1LDIuODQzNyAtMC44MTI1LDMuODQzOCA5Ljg0Mzc1LC0xLjEyNSBjIC0wLjAwMiwtMC4wNDMgMCwtMC4wODIgMCwtMC4xMjUgMCwtMS40ODUxIDEuMTU1MzcsLTIuNjg3NSAyLjU5Mzc1LC0yLjY4NzUgMC44MjAxMiwwIDEuNTUzODYsMC4zODgzIDIuMDMxMjUsMSBsIDkuNzUsLTMuNzUgeiBtIC0yNC41OTM3NSwyLjk2ODcgLTMuMTI1LDAuMzc1IDIuNDM3NSwyLjg3NSAwLjY4NzUsLTMuMjUgeiBtIC0xMC42ODc1LDEuMDkzOCAtNi43ODEyNSw0LjU5MzcgYyAwLjAwOCwwLjAzMiAwLjAyNDIsMC4wNjIgMC4wMzEyLDAuMDk0IGwgNi45MDYyNSwtMC43ODEzIDAuNTkzNzUsLTMuMTg3NSBjIC0wLjI3MzY5LC0wLjIxNDIgLTAuNTM3MTIsLTAuNDQwNyAtMC43NSwtMC43MTg3IHogbSAyLjk2ODc1LDEuNTYyNSAtMC4zNzUsMi4wNjI1IDIuMzQzNzUsLTAuMjgxMyAtMS41MzEyNSwtMS43ODEyIGMgLTAuMDg0NiwwLjAxIC0wLjE2NDEsMC4wMzEgLTAuMjUsMC4wMzEgLTAuMDY0OCwwIC0wLjEyMzUsLTAuMDI4IC0wLjE4NzUsLTAuMDMxIHogbSA1OSwxNi4zNzUgNC41OTM3NSw2LjA2MjUgLTcuMjgxMjUsMS43NSAyLjY4NzUsLTcuODEyNSB6IG0gNC44NDM3NSw5LjU2MjUgLTEwLjQzNzUsMjMuNjU2MiAwLjIxODc1LC0xNC42ODc1IGMgMS4xNDAwMSwtMC4yMTAzIDIsLTEuMjMxMiAyLC0yLjQ2ODcgMCwtMC45ODk2IC0wLjU3MDM0LC0xLjgzOTEgLTEuMzc1LC0yLjI1IGwgMC43MTg3NSwtMi4xMjUgOC44NzUsLTIuMTI1IHogbSAtMTAuMTg3NSwyLjQzNzUgLTAuNTMxMjUsMS41MzEyIGMgLTEuMzE3MjYsMC4wMzQgLTIuMzc1LDEuMTYzMSAtMi4zNzUsMi41MzEzIDAsMS4xMzU5IDAuNzE3MywyLjA5MzYgMS43MTg3NSwyLjQwNjIgbCAtMC4yODEyNSwxNi45Mzc1IGMgLTAuODAxNTIsMC4yNDggLTEuNDg0OSwwLjgwNDkgLTEuOTA2MjUsMS41MzEzIGwgLTE0LjUsLTMuMTg3NSBjIDAsLTEuNDg1MSAtMS4xNTUzNywtMi42ODc1IC0yLjU5Mzc1LC0yLjY4NzUgLTEuMzk4OTEsMCAtMi41NjM0MiwxLjEzMzggLTIuNjI1LDIuNTYyNSBsIC0zLjUsMC44NzUgNC4zNzUsLTEzLjk2ODggYyAyLjQ0NTkzLC0wLjA2NCA0LjQzMDk3LC0xLjkxNDIgNC44MTI1LC00LjM0MzcgbCAxNy40MDYyNSwtNC4xODc1IHogbSAtMjYuNzUsNS44MTI1IGMgMC4zMTY2OSwwLjU5OTggMC43Mzk2MywxLjEzNTIgMS4yNSwxLjU2MjUgbCAtNS4wNjI1LDE2LjEyNSAtMTAuNzgxMjUsMi43MTg3IC0xNy4wOTM3NSwtMTYuNTkzNyBjIDAuMDM2NSwtMC4wODkgMC4wNjQ1LC0wLjE4ODYgMC4wOTM3LC0wLjI4MTMgbCAzMS41OTM3NSwtMy41MzEyIHogbSAtMzguNDY4NzUsMi45Mzc1IDAuNDY4NzUsMC4wOTQgYyAwLjAyOTQsMC4xODE1IDAuMDY5MSwwLjM2MDYgMC4xMjUsMC41MzEzIGwgLTAuNTkzNzUsLTAuNjI1IHogbSAyLjYyNSwyLjc4MTIgYyAwLjMzOTEzLDAuMTIwNSAwLjcxNDk4LDAuMTg3NSAxLjA5Mzc1LDAuMTg3NSAwLjA3NjgsMCAwLjE0MzI1LC0wLjAyNiAwLjIxODc1LC0wLjAzMSBsIDE0LjQzNzUsMTQuMDYyNSBjIC0wLjIyMTQ1LC0wLjA2MyAtMC40NDY1NywtMC4xMjUgLTAuNjg3NSwtMC4xMjUgLTAuNDkyMTEsMCAtMC45NTExOSwwLjE2MTMgLTEuMzQzNzUsMC40MDYyIGwgLTEzLjcxODc1LC0xNC41IHogbSAzOS43MTg3NSwxMS4yMTg4IGMgMC4zODg5MywwLjk3OTcgMS4zMTcyMywxLjY4NzUgMi40MDYyNSwxLjY4NzUgMS4wNTQ1MSwwIDEuOTM0MTMsLTAuNjYzMyAyLjM0Mzc1LC0xLjU5MzggbCAxMi44NzUsMi44NzUgLTI0LjY4NzUsNy40MDYzIDIuOTM3NSwtOS4zMTI1IDQuMTI1LC0xLjA2MjUgeiBtIC04LjA5Mzc1LDIuMDYyNSAtMi41NjI1LDguMjUgYyAtMC4yMDYwNCwwLjAzMyAtMC40MDIwOCwwLjA4NiAtMC41OTM3NSwwLjE1NjIgbCAtNi4yMTg3NSwtNi4wMzEyIDkuMzc1LC0yLjM3NSB6IG0gLTEzLjM0Mzc1LDMuMzc1IDEuNjg3NSwxLjYyNSAtMi4zMTI1LC0xLjI4MTMgYyAwLjAwNSwtMC4wNjQgLTcuNWUtNCwtMC4xMjI0IDAsLTAuMTg3NSBsIDAuNjI1LC0wLjE1NjIgeiIKICAgICAgICAgICBzdHlsZT0ib3BhY2l0eTowLjk4OTk5OTk5O2NvbG9yOiMwMDAwMDA7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},function(e,exports,t){e.exports=function(e){e.use(t(845)),e.installColorSpace("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var t,n=2*this._lightness,r=this._saturation*(n<=1?n:2-n);return t=n+r<1e-9?0:2*r/(n+r),new e.HSV(this._hue,t,(n+r)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})}},function(e,exports,t){"use strict";function n(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var s;if(null===e||e===!1)s=l.create(i);else if("object"==typeof e){var a=e,d=a.type;if("function"!=typeof d&&"string"!=typeof d){var p="";p+=n(a._owner),o("130",null==d?d:typeof d,p)}"string"==typeof a.type?s=c.createInternalComponent(a):r(a.type)?(s=new a.type(a),s.getHostNode||(s.getHostNode=s.getNativeNode)):s=new u(a)}else"string"==typeof e||"number"==typeof e?s=c.createInstanceForText(e):o("131",typeof e);return s._mountIndex=0,s._mountImage=null,s}var o=t(20),s=t(25),a=t(681),l=t(267),c=t(269),u=(t(772),t(14),t(18),function(e){this.construct(e)});s(u.prototype,a,{_instantiateReactComponent:i}),e.exports=i},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(760),i=n(r);exports.default={animate:i.default},e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.compose=exports.applyMiddleware=exports.bindActionCreators=exports.combineReducers=exports.createStore=void 0;var r=t(298),i=n(r),o=t(777),s=n(o),a=t(776),l=n(a),c=t(775),u=n(c),d=t(297),p=n(d),h=t(299);n(h);exports.createStore=i.default,exports.combineReducers=s.default,exports.bindActionCreators=l.default,exports.applyMiddleware=u.default,exports.compose=p.default},function(e,exports,t){(function(e){"use strict";function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?u(e,t,n):h(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return a(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function c(e,t){if(a(t),e=i(e,t<0?0:0|f(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;
return e}function u(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(t,n);e=i(e,r);var s=e.write(t,n);return s!==r&&(e=e.slice(0,s)),e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function h(e,t){if(o.isBuffer(t)){var n=0|f(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||V(t.length)?i(e,0):d(e,t);if("Buffer"===t.type&&X(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function _(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,l=t.length;if(void 0!==r&&(r=(r+"").toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}var c;if(i){var u=-1;for(c=n;c<a;c++)if(o(e,c)===o(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===l)return u*s}else u!==-1&&(c-=c-u),u=-1}else for(n+l>a&&(n=a-l),c=n;c>=0;c--){for(var d=!0,p=0;p<l;p++)if(o(e,c+p)!==o(t,p)){d=!1;break}if(d)return c}return-1}function w(e,t,n,r){n=+n||0;var i=e.length-n;r?(r=+r,r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function x(e,t,n,r){return J(H(t,e.length-n),e,n,r)}function k(e,t,n,r){return J(K(t),e,n,r)}function A(e,t,n,r){return k(e,t,n,r)}function C(e,t,n,r){return J(Y(t),e,n,r)}function E(e,t,n,r){return J(G(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var l,c,u,d;switch(a){case 1:o<128&&(s=o);break;case 2:l=e[i+1],128===(192&l)&&(d=(31&o)<<6|63&l,d>127&&(s=d));break;case 3:l=e[i+1],c=e[i+2],128===(192&l)&&128===(192&c)&&(d=(15&o)<<12|(63&l)<<6|63&c,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(d=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u,d>65535&&d<1114112&&(s=d))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return M(r)}function M(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=W(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function z(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,i){return i||P(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return i||P(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,r,52,8),n+8}function F(e){if(e=U(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(e){return Q.toByteArray(F(e))}function J(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function V(e){return e!==e}var Q=t(330),Z=t(384),X=t(586);exports.Buffer=o,exports.SlowBuffer=m,exports.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),exports.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return s(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return c(null,e)},o.allocUnsafeSlow=function(e){return c(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=_,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,l=Math.min(s,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){s=c[d],a=u[d];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},o.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),Z.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),Z.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),Z.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),Z.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;L(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;L(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:H(""+new o(e,r)),l=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(exports,function(){return this}())},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w;m=t(9),t(931),v=t(12),l=v.React,c=v.ReactDOM,_=v.rclass,b=v.rtypes,g=v.redux,y=t(22),p=y.Tab,h=y.Tabs,o=y.Grid,i=y.Col,u=y.Row,a=t(898).LandingPage,n=t(795).AccountSettingsTop,r=t(186).BillingPageRedux,f=t(906).UpgradesPage,d=t(199).SupportPage,s=t(17).Icon,w=t(128).set_url,exports.AccountPage=_({displayName:"AccountPage",reduxProps:{projects:{project_map:b.immutable.Map},account:{active_page:b.string,strategies:b.array,sign_up_error:b.object,sign_in_error:b.string,signing_in:b.bool,signing_up:b.bool,forgot_password_error:b.string,forgot_password_success:b.string,show_forgot_password:b.bool,token:b.bool,reset_key:b.string,reset_password_error:b.string,remember_me:b.bool,first_name:b.string,last_name:b.string,email_address:b.string,passports:b.object,show_sign_out:b.bool,sign_out_error:b.string,everywhere:b.bool,terminal:b.object,evaluate_key:b.string,autosave:b.number,font_size:b.number,editor_settings:b.object,other_settings:b.object,profile:b.object,groups:b.array,stripe_customer:b.object}},propTypes:{actions:b.object.isRequired,redux:b.object.isRequired},getDefaultProps:function(){return{actions:g.getActions("account"),redux:g}},handle_select:function(e){var t,n;switch(e){case"billing":null!=(t=this.props.redux.getActions("billing"))&&t.update_customer();break;case"support":null!=(n=this.props.redux.getActions("support"))&&n.load_support_tickets()}return this.props.redux.getActions("account").set_active_tab(e),this.props.redux.getActions("account").push_state("/"+e)},render_upgrades:function(){return l.createElement(f,{redux:this.props.redux,stripe_customer:this.props.stripe_customer,project_map:this.props.project_map})},render_support:function(){return l.createElement(d,null)},render_account_settings:function(){return l.createElement(n,{redux:this.props.redux,first_name:this.props.first_name,last_name:this.props.last_name,email_address:this.props.email_address,passports:this.props.passports,show_sign_out:this.props.show_sign_out,sign_out_error:this.props.sign_out_error,everywhere:this.props.everywhere,terminal:this.props.terminal,evaluate_key:this.props.evaluate_key,autosave:this.props.autosave,font_size:this.props.font_size,editor_settings:this.props.editor_settings,other_settings:this.props.other_settings,groups:this.props.groups})},render_landing_page:function(){return l.createElement(a,{redux:g,strategies:this.props.strategies,sign_up_error:this.props.sign_up_error,sign_in_error:this.props.sign_in_error,signing_in:this.props.signing_in,signing_up:this.props.signing_up,forgot_password_error:this.props.forgot_password_error,forgot_password_success:this.props.forgot_password_success,show_forgot_password:this.props.show_forgot_password,token:this.props.token,reset_key:this.props.reset_key,reset_password_error:this.props.reset_password_error,remember_me:this.props.remember_me,has_account:m.local_storage_length()>0})},render_commercial_tabs:function(){var e;return t(48).commercial?(e=[],e.push(l.createElement(p,{key:"billing",eventKey:"billing",title:l.createElement("span",null,l.createElement(s,{name:"money"})," Subscriptions")},"billing"===this.props.active_page?l.createElement(r,null):void 0)),e.push(l.createElement(p,{key:"upgrades",eventKey:"upgrades",title:l.createElement("span",null,l.createElement(s,{name:"arrow-circle-up"})," Upgrades")},"upgrades"===this.props.active_page?this.render_upgrades():void 0)),e.push(l.createElement(p,{key:"support",eventKey:"support",title:l.createElement("span",null,l.createElement(s,{name:"medkit"})," Support")},"support"===this.props.active_page?this.render_support():void 0)),e):null},render:function(){var e,t;return e=null!=(t=this.props.redux.getStore("account"))?t.is_logged_in():void 0,l.createElement(o,{className:"constrained"},e?void 0:this.render_landing_page(),e?l.createElement(u,null,l.createElement(i,{md:12},l.createElement(h,{activeKey:this.props.active_page,onSelect:this.handle_select,animation:!1,style:{paddingTop:"1em"},id:"account-page-tabs"},l.createElement(p,{key:"account",eventKey:"account",title:l.createElement("span",null,l.createElement(s,{name:"wrench"})," Account Settings")},null==this.props.active_page||"account"===this.props.active_page?this.render_account_settings():void 0),this.render_commercial_tabs()))):void 0)}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re=function(e,t){return function(){return e.apply(t,arguments)}},ie=function(e,t){function n(){this.constructor=e}for(var r in t)oe.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},oe={}.hasOwnProperty;M=t(26),B=t(49),u=B.IS_MOBILE,T=B.isMobile,ne=t(23),I=t(9),D=t(30),S=I.defaults,Y=I.required,q=t(17),h=q.Markdown,b=q.TimeAgo,w=q.Tip,V=t(19).salvus_client,A=t(36).alert_message,F=t(12),_=F.React,g=F.ReactDOM,z=F.rclass,J=F.rtypes,n=F.Actions,y=F.Store,R=F.redux,U=t(22),r=U.Button,s=U.Col,c=U.Grid,a=U.FormControl,l=U.FormGroup,d=U.ListGroup,p=U.ListGroupItem,m=U.Panel,v=U.Row,i=U.ButtonGroup,k=U.Well,x=t(102).User,exports.redux_name=P=function(e,t){return"editor-"+e+"-"+t},o=function(e){function t(){return this.save_scroll_state=re(this.save_scroll_state,this),this.set_use_saved_position=re(this.set_use_saved_position,this),this.set_is_preview=re(this.set_is_preview,this),this.saved_message=re(this.saved_message,this),this.set_input=re(this.set_input,this),this.set_to_last_input=re(this.set_to_last_input,this),this.send_edit=re(this.send_edit,this),this.set_editing=re(this.set_editing,this),this.send_chat=re(this.send_chat,this),this._syncdb_change=re(this._syncdb_change,this),this.init_from_syncdb=re(this.init_from_syncdb,this),this._process_syncdb_obj=re(this._process_syncdb_obj,this),this._init=re(this._init,this),t.__super__.constructor.apply(this,arguments)}return ie(t,e),t.prototype._init=function(){return this.setState({height:0,input:"",is_preview:void 0,last_sent:void 0,messages:void 0,offset:void 0,position:void 0,saved_mesg:void 0,use_saved_position:void 0})},t.prototype._process_syncdb_obj=function(e){var t,n;if("chat"===e.event&&(null==(t=e.video_chat)||!t.is_video_chat))return e.date=new Date(e.date),(null!=(n=e.history)?n.length:void 0)>0||(null!=e.payload?(e.history=[],e.history.push({content:e.payload.content,author_id:e.sender_id,date:new Date(e.date)}),delete e.payload):null!=e.mesg&&(e.history=[],e.history.push({content:e.mesg.content,author_id:e.sender_id,date:new Date(e.date)}),delete e.mesg)),null==e.history&&(e.history=[]),e.editing||(e.editing={}),e},t.prototype.init_from_syncdb=function(){var e,t,n,r,i;for(r={},n=this.syncdb.get().toJS(),e=0,t=n.length;e<t;e++)i=n[e],i=this._process_syncdb_obj(i),null!=i&&(r[i.date-0]=i);return this.setState({messages:M.fromJS(r)})},t.prototype._syncdb_change=function(e){var t,n;if(n=t=this.store.get("messages"),null!=t)return e.map(function(e){return function(n){var r,i;return n.date=new Date(n.date),r=e.syncdb.get_one(n),i=null!=r?r.toJS():void 0,null==i?t=t.delete(n.date-0):(i=e._process_syncdb_obj(i),null!=i?t=t.set(""+(i.date-0),M.fromJS(i)):void 0)}}(this)),n.equals(t)?void 0:this.setState({messages:t})},t.prototype.send_chat=function(e){var t,n;if(null!=this.syncdb)return t=this.redux.getStore("account").get_account_id(),n=V.server_time().toISOString(),this.syncdb.set({sender_id:t,event:"chat",history:[{author_id:t,content:e,date:n}],date:n}),this.syncdb.save(),this.setState({last_sent:e})},t.prototype.set_editing=function(e,t){var n,r;if(null!=this.syncdb)return n=this.redux.getStore("account").get_account_id(),r=t?e.get("editing").set(n,"FUTURE"):e.get("editing").set(n,null),this.syncdb.set({history:e.get("history").toJS(),editing:r.toJS(),date:e.get("date").toISOString()})},t.prototype.send_edit=function(e,t){var n,r;if(null!=this.syncdb)return n=this.redux.getStore("account").get_account_id(),r=V.server_time().toISOString(),this.syncdb.set({history:[{author_id:n,content:t,date:r}].concat(e.get("history").toJS()),editing:e.get("editing").set(n,null).toJS(),date:e.get("date").toISOString()}),this.syncdb.save()},t.prototype.set_to_last_input=function(){return this.setState({input:this.store.get("last_sent")})},t.prototype.set_input=function(e){return this.setState({input:e})},t.prototype.saved_message=function(e){return this.setState({saved_mesg:e})},t.prototype.set_is_preview=function(e){return this.setState({is_preview:e})},t.prototype.set_use_saved_position=function(e){return this.setState({use_saved_position:e})},t.prototype.save_scroll_state=function(e,t,n){if(0!==t)return this.setState({saved_position:e,height:t,offset:n})},t}(n),exports.init_redux=function(e,t,n){var r,i,s,a;return i=P(n,e),null!=t.getActions(i)?i:(r=t.createActions(i,o),s=t.createStore(i),r._init(),a=V.sync_db({project_id:n,path:e,primary_keys:["date"]}),a.once("init",function(t){return function(t){var n;return t?(n="Error opening '"+e+"' -- "+t,console.warn(n),void A({type:"error",message:n})):(r.syncdb=a,r.store=s,r.init_from_syncdb(),a.on("change",r._syncdb_change))}}(this)),i)},exports.remove_redux=function(e,t,n){var r,i,o,s;if(i=P(n,e),r=t.getActions(i),null!=r&&null!=(o=r.syncdb)&&o.close(),s=t.getStore(i),null!=s)return delete s.state,t.removeStore(i),t.removeActions(i),i},exports.newest_content=L=function(e){var t,n;return null!=(t=null!=(n=e.get("history").first())?n.get("content"):void 0)?t:""},exports.sender_is_viewer=ee=function(e,t){return e===t.get("sender_id")},exports.message_colors=function(e,t){return ee(e,t)?{background:"#46b1f6",color:"#fff",message_class:"smc-message-from-viewer"}:{background:"#efefef",color:"#000",lighten:{color:"#888"}}},exports.render_timeago=function(e){return _.createElement("span",{className:"pull-right small",style:{maxWidth:"20%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},_.createElement(b,{date:new Date(e.get("date"))}))},f={color:"#888",marginBottom:"1px",marginLeft:"10px",right:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",position:"absolute",left:0,top:0},exports.show_user_name=te=function(e){return _.createElement("div",{style:{position:"relative",height:"1.2em",width:"100%"}},_.createElement("div",{className:"small",style:f},e))},exports.is_editing=N=function(e,t){return e.get("editing").has(t)},exports.blank_column=C=function(){return _.createElement(s,{key:2,xs:2,sm:2})},exports.render_markdown=G=function(e,t,n,r){return _.createElement("div",{style:{marginBottom:"-10px"}},_.createElement(h,{value:e,project_id:t,file_path:n,className:r}))},exports.render_history_title=K=function(){return _.createElement(p,{style:{borderRadius:"10px 10px 0px 0px",textAlign:"center",padding:"0px"}},_.createElement("span",{style:{fontStyle:"italic",fontWeight:"bold"}},"Message History"))},exports.render_history_footer=H=function(){return _.createElement(p,{style:{borderRadius:"0px 0px 10px 10px",marginBottom:"3px"}})},exports.render_history=W=function(e,t){var n,r,i,o,s,a,l,c,u;if(null!=e){r=e.toJS().slice(1),l=[];for(i in r)o=r[i],u=o.content,u=I.smiley({s:u,wrap:['<span class="smc-editor-chat-smiley">',"</span>"]}),u=D.sanitize_html_safe(u),n=I.trunc_middle((null!=(s=t.get(o.author_id))?s.get("first_name"):void 0)+" "+(null!=(a=t.get(o.author_id))?a.get("last_name"):void 0),20),c=""===u.trim()?"Message deleted ":"Last edit ",l.push(_.createElement(k,{key:i,bsSize:"small",style:{marginBottom:"0px"}},_.createElement("div",{style:{marginBottom:"-10px",wordWrap:"break-word"}},_.createElement(h,{value:u})),_.createElement("div",{className:"small"},c,_.createElement(b,{date:new Date(o.date)})," by "+n)));return l}},exports.get_user_name=j=function(e,t){var n,r;return n=null!=t?t.get(e):void 0,r=null!=n?n.get("first_name")+" "+n.get("last_name"):"Unknown"},exports.send_chat=X=function(e,t,n,r){if(Q(t,r),e.preventDefault(),null!=n.length&&n.trim().length>=1)return r.send_chat(n),E(r)},exports.clear_input=E=function(e){return e.set_input("")},exports.is_at_bottom=O=function(e,t,n){return e+t+20>n},exports.scroll_to_bottom=Q=function(e,t){var n;if(null!=e)return n=g.findDOMNode(e),n.scrollTop=n.scrollHeight,t.save_scroll_state(n.scrollTop,n.scrollHeight,n.offsetHeight),t.set_use_saved_position(!1)},exports.scroll_to_position=Z=function(e,t,n,r,i,o){var s;if(null!=e)return o.set_use_saved_position(!O(t,n,r)),s=g.findDOMNode(e),i?s.scrollTop=t:Q(e,o)}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C;v=t(1219),_=t(9),C=t(19).salvus_client.server_time,w=t(12),y=w.rclass,l=w.React,c=w.ReactDOM,b=w.redux,u=w.Redux,A=w.rtypes,x=t(17),o=x.Loading,d=x.SetIntervalMixin,p=x.Space,k=t(22),a=k.OverlayTrigger,h=k.Tooltip,f=5,s=600,i={textAlign:"center",cursor:"pointer"},r={display:"block",borderRadius:"50%",fontFamily:"sans-serif"},exports.Avatar=n=y({displayName:"Avatar",reduxProps:{users:{user_map:A.immutable}},propTypes:{account_id:A.string.isRequired,size:A.number.isRequired,max_age_s:A.number.isRequired,project_id:A.string,path:A.string,activity:A.object},getDefaultProps:function(){return{size:30,max_age_s:600}},click_avatar:function(){var e,t,n,r;if(null!=this.props.activity)switch(r=this.props.activity,n=r.project_id,t=r.path,this.viewing_what()){case"projects":return this.actions("projects").open_project({project_id:n,target:"files",switch_to:!0});case"project":return b.getProjectActions(n).open_file({path:t
});case"file":if(e=this.get_cursor_line(),null!=e)return b.getProjectActions(n).goto_line(t,e)}},letter:function(){var e;return(e=this.props.user_map.getIn([this.props.account_id,"first_name"]))?e.toUpperCase()[0]:"?"},get_name:function(){var e;return _.trunc_middle(null!=(e=b.getStore("users").get_name(this.props.account_id))?e.trim():void 0,20)},get_background_color:function(){return b.getStore("users").get_color(this.props.account_id)},get_image:function(){return b.getStore("users").get_image(this.props.account_id)},viewing_what:function(){return null!=this.props.path&&null!=this.props.project_id?"file":null!=this.props.project_id?"project":"projects"},render_line:function(){var e,t,n,r;if(null!=this.props.activity)return r=this.props.activity,n=r.project_id,t=r.path,e=this.get_cursor_line(n,t),null!=e?l.createElement("span",null,l.createElement(p,null)," (Line ",e,")"):void 0},get_cursor_line:function(){var e,t,n,r,i,o;if(null!=this.props.activity)return r=this.props.activity,n=r.project_id,t=r.path,e=null!=(i=b.getProjectStore(n).get_users_cursors(t,this.props.account_id))&&null!=(o=i[0])?o.y:void 0,null!=e?e+1:void 0},render_tooltip_content:function(){var e,n;if(n=this.get_name(),null==this.props.activity)return l.createElement("span",null,n);switch(this.viewing_what()){case"projects":return e=t(135).ProjectTitle,l.createElement("span",null,n," last seen at ",l.createElement(e,{project_id:this.props.activity.project_id}));case"project":return l.createElement("span",null,n," last seen at ",this.props.activity.path);case"file":return l.createElement("span",null,n," ",this.render_line())}},render_tooltip:function(){return l.createElement(h,{id:this.props.account_id},this.render_tooltip_content())},render_inside:function(){var e;return e=this.get_image(),e?this.render_image(e):this.render_letter()},render_image:function(e){return l.createElement("img",{style:{borderRadius:"50%",width:"100%",verticalAlign:"top"},src:e})},render_letter:function(){var e,t,n,i;return t=this.get_background_color(),i={backgroundColor:t,color:(null!=(n="function"==typeof(e=v(t)).magenta?e.magenta():void 0)?n:0)>=.4?"white":"black"},l.createElement("span",{style:_.merge(i,r)},this.letter())},fade:function(){var e;return null==this.props.activity?1:(e=this.props.activity.last_used,_.ensure_bound(1-(C()-e)/(1e3*this.props.max_age_s),0,.85))},render:function(){var e,t;return null==this.props.user_map?l.createElement(o,null):(t=this.props.size,e={height:t+"px",width:t+"px",lineHeight:t+"px",fontSize:.7*t+"px",opacity:this.fade()},l.createElement(a,{placement:"top",overlay:this.render_tooltip()},l.createElement("div",{style:{display:"inline-block",pointer:"cursor"}},l.createElement("div",{style:_.merge(e,i),onClick:this.click_avatar},this.render_inside()))))}}),g=function(e){var t,n,r,i,o,s;for(n=e[0].last_used,s=e[0],i=e.slice(1),t=0,r=i.length;t<r;t++)o=i[t],o.last_used<=n&&(s=o,n=o.last_used);return s},m={overflowX:"auto",display:"flex",zIndex:1},exports.UsersViewing=y({displayName:"UsersViewing",propTypes:{project_id:A.string,path:A.string,max_age_s:A.number.isRequired,size:A.number,style:A.object},getDefaultProps:function(){return{max_age_s:s,size:24,style:{maxWidth:"120px"}}},mixins:[d],componentDidMount:function(){return this.setInterval(function(e){return function(){return e.forceUpdate()}}(this),1e3*f)},reduxProps:{file_use:{file_use:A.immutable},account:{account_id:A.string}},render_active_users:function(e){var t,r,i,o,s,a,c,u;for(u=function(){var n,i;n=null!=e?e:{},i=[];for(t in n)r=n[t],i.push({account_id:t,activity:g(r)});return i}(),u.sort(function(e,t){return _.cmp(t.last_used,e.last_used)}),i=0,c=[],o=0,s=u.length;o<s;o++)a=u[o],t=a.account_id,r=a.activity,this.props.account_id!==t?(i+=1,c.push(l.createElement(n,{key:t+i,account_id:t,max_age_s:this.props.max_age_s,project_id:this.props.project_id,path:this.props.path,size:this.props.size,activity:r}))):c.push(void 0);return c},render:function(){var e;return null==this.props.file_use||null==this.props.account_id?l.createElement(o,null):(e=b.getStore("file_use").get_active_users({project_id:this.props.project_id,path:this.props.path,max_age_s:this.props.max_age_s}),l.createElement("div",{style:_.merge(_.copy(this.props.style),m)},this.render_active_users(e)))}})},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J=function(e,t){function n(){this.constructor=e}for(var r in t)V.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},V={}.hasOwnProperty,Q=function(e,t){return function(){return e.apply(t,arguments)}};$=window.$,Y=O=t(23),F=t(12),_=F.React,g=F.ReactDOM,n=F.Actions,k=F.Store,K=F.rtypes,B=F.rclass,q=F.redux,o=F.COLOR,U=t(22),s=U.Col,v=U.Row,i=U.Button,l=U.FormControl,c=U.FormGroup,T=U.Well,r=U.Alert,m=U.Modal,M=U.Table,W=t(17),d=W.Icon,f=W.Markdown,h=W.Loading,x=W.Space,p=W.ImmutablePureRenderMixin,a=W.Footer,R=t(9),P=t(30),G=t(19).salvus_client,D=t(49),z=t(86).markdown_to_html,H=t(48),u=H.HelpEmailLink,b=H.SiteName,w=H.SmcWikiUrl,y={NEW:"new",CREATING:"creating",CREATED:"created",ERROR:"error"},N=function(e,t){var n,r,i;return i="updated_at",n=e[i],r=t[i],n>r?-1:n<r?1:0},I=function(e){var t,n,r;try{return O.isString(e)&&(e=new Date(e)),t=e.toISOString().slice(0,10),r=e.toLocaleTimeString(),t+" "+r}catch(t){return n=t,console.warn("support/date2str: could not convert "+e),"?"}},j=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return J(t,e),t}(k),A=function(e){function t(){return this.process_support=Q(this.process_support,this),this.support=Q(this.support,this),this.projects=Q(this.projects,this),this.check_valid=Q(this.check_valid,this),this.set_email=Q(this.set_email,this),this.init_email_address=Q(this.init_email_address,this),this.new_ticket=Q(this.new_ticket,this),this.show=Q(this.show,this),this.reset=Q(this.reset,this),this.set=Q(this.set,this),this.get=Q(this.get,this),this.get_store=Q(this.get_store,this),t.__super__.constructor.apply(this,arguments)}return J(t,e),t.prototype.get_store=function(){return this.redux.getStore("support")},t.prototype.get=function(e){return this.get_store().get(e)},t.prototype.set=function(e){var t,n;if(this.setState(e),n=Y,t=["email_err","subject","body"],n.intersection(n.keys(e),t).length>0)return this.check_valid()},t.prototype.load_support_tickets=function(){return G.get_support_tickets(function(e){return function(t,n){return null!=t?e.setState({support_ticket_error:t,support_tickets:[]}):(n=n.sort(N),e.setState({support_ticket_error:t,support_tickets:n}))}}(this))},t.prototype.reset=function(){return this.init_email_address(),this.set({state:y.NEW,err:"",valid:this.check_valid()})},t.prototype.show=function(e){return e&&this.reset(),this.set({show:e})},t.prototype.new_ticket=function(e){return null!=e&&e.preventDefault(),this.reset()},t.prototype.init_email_address=function(){var e,t,n;if(!(null!=(n=this.get("email"))?n.length:void 0)>0)return e=this.redux.getStore("account"),t=e.get_email_address(),t=null!=t?t:"",this.set_email(t)},t.prototype.set_email=function(e){return this.set({email:e}),0===(null!=e?e.length:void 0)?this.set({email_err:"Please enter a valid email address above."}):R.is_valid_email_address(e)?this.set({email_err:null}):this.set({email_err:"Email address is invalid!"})},t.prototype.check_valid=function(){var e,t,n,r,i,o;return i=(null!=(n=this.get("subject"))?n.trim().length:void 0)>0,e=(null!=(r=this.get("body"))?r.trim().length:void 0)>0,t=null==this.get("email_err"),o=i&&e&&t,this.set({valid:o})},t.prototype.project_id=function(){var e;return e=this.redux.getStore("page").get("active_top_tab"),R.is_valid_uuid_string(e)?e:null},t.prototype.projects=function(){return this.redux.getStore("projects")},t.prototype.project_title=function(){return null!=this.project_id()?this.projects().get_title(this.project_id()):null},t.prototype.location=function(){return window.location.pathname.slice(window.smc_base_url.length)},t.prototype.support=function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,b;return e=this.redux.getStore("account"),t=e.get_account_id(),l=this.project_id(),a=null!=(d=this.projects())?d.get_project(l):void 0,this.set({state:y.CREATING}),R.is_valid_uuid_string(l)?(v=this.projects().get_upgrades_to_project(l),s=O.mapObject(v,function(e,t){return R.sum(O.values(e))}),o=this.projects().get_project(l).settings,c=R.map_sum(s,o)):(s=null,c={}),g=[],b=e.get_total_upgrades(),null!=b&&R.sum(O.values(b))>0?g.push("member"):g.push("free"),null!=s&&R.sum(O.values(s))>0&&g.push("upgraded"),n=null!=(p=this.projects())&&null!=(h=p.get_course_info(l))?h.get("project_id"):void 0,null!=n&&g.push("student"),r={project_id:l,browser:D.get_browser(),user_agent:"undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0,mobile:null!=(f=D.get_mobile())&&f,internet:(null!=(m=null!=c?c.network:void 0)?m:0)>0,hostname:null!=(_=null!=a&&null!=(u=a.host)?u.host:void 0)?_:"unknown",course:null!=n?n:"no",quotas:JSON.stringify(c)},i=e.get_fullname(),i=(null!=i&&"function"==typeof i.trim?i.trim().length:void 0)>0?i:null,G.create_support_ticket({opts:{username:i,email_address:this.get("email"),subject:this.get("subject"),body:this.get("body"),tags:g,location:this.location(),account_id:t,info:r},cb:this.process_support})},t.prototype.process_support=function(e,t){return null==e&&this.set({subject:"",body:"",url:t}),this.set({state:null!=e?y.ERROR:y.CREATED,err:null!=e?e:""})},t}(n),exports.SupportPage=B({displayName:"SupportPage",reduxProps:{support:{support_tickets:K.array,support_ticket_error:K.string}},render_header:function(){return _.createElement("tr",{style:{fontWeight:"bold"}},_.createElement("th",null,"Ticket"),_.createElement("th",null,"Status"))},open:function(e){var t,n;return n=R.ticket_id_to_ticket_url(e),t=window.open(n,"_blank"),t.focus()},render_body:function(){var e,t,n,r;t=this.props.support_tickets,n=[];for(e in t)r=t[e],n.push(function(e){return function(t,n){var r;return r=function(){switch(t.status){case"open":case"new":return"danger";case"closed":return"info";case"solved":return"success";default:return"info"}}(),_.createElement("tr",{key:n,className:""+r},_.createElement("td",null,_.createElement("h4",null,t.subject),_.createElement("div",{style:{fontSize:"85%",color:"#555",marginBottom:"1em"}},"created: ",I(t.created_at),","," ","last update: ",I(t.updated_at)),_.createElement("div",{style:{maxHeight:"10em",overflowY:"auto"}},_.createElement(f,{value:t.description}))),_.createElement("td",null,_.createElement("br",null),_.createElement(i,{bsStyle:""+r,onClick:function(){return e.open(t.id)}},t.status.toUpperCase(),_.createElement("br",null),"Go to ",t.id)))}}(this)(r,e));return n},render_table:function(){var e;return e={textAlign:"center",marginTop:"4em"},null==this.props.support_tickets?_.createElement("div",{style:e},_.createElement(h,null)):this.props.support_tickets.length>0?_.createElement(M,{responsive:!0,style:{borderCollapse:"separate",borderSpacing:"0 1em"}},_.createElement("tbody",null,this.render_body())):_.createElement("div",{style:e},"No support tickets found.")},render:function(){var e,t;return e=(null!=(t=this.props.support_ticket_error)?t.length:void 0)>0?_.createElement(r,{bsStyle:"danger"},"Error retriving tickets: ",this.props.support_ticket_error,_.createElement("br",null),"Please contact ",_.createElement(u,null)," directly!"):this.render_table(),_.createElement("div",null,_.createElement("h2",null,"Support tickets"),_.createElement("div",{style:{color:"#666"}},"Check the status of your support tickets here.",_.createElement("br",null),"To report an issue, navigate to the file in question\nand click the ",_.createElement(d,{name:"medkit"})," button in the top right corner."),_.createElement("div",{style:{minHeight:"65vh"}},e),_.createElement(a,null))}}),S=B({displayName:"Support-info",propTypes:{actions:K.object.isRequired,state:K.string.isRequired,url:K.string.isRequired,err:K.string.isRequired},error:function(){return _.createElement(r,{bsStyle:"danger",style:{fontWeight:"bold"}},_.createElement("p",null,"Sorry, there has been an error creating the ticket.",_.createElement("br",null),"Please email ",_.createElement(u,null)," directly!"),_.createElement("p",null,"Error message:"),_.createElement("pre",null,this.props.err))},created:function(){var e,t;return t=(null!=(e=this.props.url)?e.length:void 0)>1?_.createElement("a",{href:this.props.url,target:"_blank"},this.props.url):"no ticket",_.createElement("div",{style:{textAlign:"center"}},_.createElement("p",null,"Ticket has been created successfully.\nKeep this link in order to stay in contact with us:"),_.createElement("p",{style:{fontSize:"120%"}},t),_.createElement(i,{bsStyle:"success",style:{marginTop:"3em"},tabIndex:4,onClick:this.props.actions.new_ticket},"Create New Ticket"))},default:function(){var e,t,n,r;return n=this.props.actions.project_title(),null!=n?(t=this.props.actions.location(),e=t.slice(47),r=_.createElement("p",null,'If you have a problem or question with "',e,'" in\nproject "',n,'", please create a support ticket.')):r=_.createElement("p",null,"If you have a problem with a specific project or file,\nclose this dialog, navigate to it, and then click on"," ",_.createElement(d,{name:"medkit"})," ","in the top right corner to open it again.\nOtherwise, please go ahead."),_.createElement("div",null,r,_.createElement("p",null,"Looking for documentation and help? Go to\nthe ",_.createElement("a",{href:""+w,target:"_blank"},"SageMathCloud documentation"),"."),_.createElement("p",null,"After submitting a ticket, you","'",'ll get a link, which you may\nwant to save until you receive a confirmation email.\nYou can also check the status of your ticket under "Support"\nin your account settings.'))},render:function(){switch(this.props.state){case y.ERROR:return this.error();case y.CREATING:return _.createElement(h,null);case y.CREATED:return this.created();default:return this.default()}}}),C=B({displayName:"Support-footer",propTypes:{close:K.func.isRequired,submit:K.func.isRequired,show_form:K.bool.isRequired,valid:K.bool.isRequired},render:function(){var e;return e=this.props.show_form?_.createElement(i,{bsStyle:"primary",tabIndex:4,onClick:this.props.submit,disabled:!this.props.valid},_.createElement(d,{name:"medkit"})," Get Support"):_.createElement("span",null),_.createElement(m.Footer,null,e,_.createElement(i,{tabIndex:5,bsStyle:"default",onClick:this.props.close},"Cancel"))}}),E=B({displayName:"Support-form",propTypes:{email:K.string.isRequired,email_err:K.string,subject:K.string.isRequired,body:K.string.isRequired,show:K.bool.isRequired,submit:K.func.isRequired,actions:K.object.isRequired},email_change:function(){return this.props.actions.set_email(g.findDOMNode(this.refs.email).value)},data_change:function(){return this.props.actions.set({body:g.findDOMNode(this.refs.body).value,subject:g.findDOMNode(this.refs.subject).value})},render:function(){var e,t;return this.props.show?(e=this.props.email_err,t=(null!=e?e.length:void 0)>0?_.createElement(r,{bsStyle:"danger"},_.createElement("div",null,e)):_.createElement(r,{bsStyle:"info"},"Please make sure the email address is correct."),_.createElement("form",null,_.createElement(c,{validationState:(null!=e?e.length:void 0)>0?"error":void 0},_.createElement(l,{label:"Your email address",ref:"email",type:"text",tabIndex:1,placeholder:"your_email@address.com",value:this.props.email,onChange:this.email_change})),t,_.createElement(x,null),_.createElement(c,null,_.createElement(l,{ref:"subject",autoFocus:!0,type:"text",tabIndex:2,label:"Message",placeholder:"Subject ...",value:this.props.subject,onChange:this.data_change})),_.createElement("div",{style:{margin:"10px",color:"#666"}},"1. What did you do exactly?  2. What happened?  3. How did this differ from what you expected?"),_.createElement(c,null,_.createElement(l,{componentClass:"textarea",ref:"body",tabIndex:3,placeholder:"Describe the problem ...",rows:6,value:this.props.body,onChange:this.data_change})))):_.createElement("div",null)}}),exports.Support=B({displayName:"Support-main",propTypes:{actions:K.object.isRequired},getDefaultProps:function(){return{show:!1,email:"",subject:"",body:"",state:y.NEW,url:"",err:"",email_err:"",valid:!1}},reduxProps:{support:{show:K.bool,email:K.string,subject:K.string,body:K.string,state:K.string,url:K.string,err:K.string,email_err:K.string,valid:K.bool}},componentWillReceiveProps:function(e){return e.actions.check_valid()},open:function(){return this.props.actions.show(!0)},close:function(){return this.props.actions.show(!1)},submit:function(e){return null!=e&&e.preventDefault(),this.props.actions.support()},render:function(){var e;return e=!1,null!=this.props.state&&this.props.state!==y.NEW||(e=!0),_.createElement(m,{show:this.props.show,onHide:this.close,animation:!1},_.createElement(m.Header,{closeButton:!0},_.createElement(m.Title,null,"Support Ticket")),_.createElement(m.Body,null,_.createElement(S,{actions:this.props.actions,state:this.props.state,url:this.props.url,err:this.props.err}),_.createElement(E,{actions:this.props.actions,email:this.props.email,email_err:this.props.email_err,subject:this.props.subject,body:this.props.body,show:e,submit:function(e){return function(t){return e.submit(t)}}(this)})),_.createElement(C,{show_form:e,close:function(e){return function(){return e.close()}}(this),submit:function(e){return function(t){return e.submit(t)}}(this),valid:this.props.valid}))}}),L=function(e){if(null==e.getActions("support"))return e.createActions("support",A),e.createStore("support",j,{})},L(q),exports.ShowSupportLink=B({displayName:"ShowSupportLink",propTypes:{text:K.string},getDefaultProps:function(){return{text:"support ticket"}},show:function(e){return e.preventDefault(),q.getActions("support").show(!0)},render:function(){return _.createElement("a",{onClick:this.show,href:"#",style:{cursor:"pointer"}},this.props.text)}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g=function(e,t){return function(){return e.apply(t,arguments)}},v=function(e,t){function n(){this.constructor=e}for(var r in t)y.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},y={}.hasOwnProperty,b=[].slice;a=t(26),_=t(23),f=t(73),d=t(9),h=d.required,s=d.defaults,i=t(63).EventEmitter,l=t(64),m=function(e){return a.Map.isMap(e)&&(e=e.toJS()),l(e)},exports.db_doc=function(e){if(e=s(e,{primary_keys:h,string_cols:[]}),!d.is_array(e.primary_keys))throw Error("primary_keys must be an array");if(!d.is_array(e.string_cols))throw Error("_string_cols must be an array");return new n(e.primary_keys,e.string_cols)},exports.from_obj=function(e){var t;if(e=s(e,{obj:h,primary_keys:h,string_cols:[]}),!d.is_array(e.obj))throw Error("obj must be an array");return t=a.fromJS(e.obj),new n(e.primary_keys,e.string_cols,t)},exports.from_str=function(e){var t,n,r,i,o,a;if(e=s(e,{str:h,primary_keys:h,string_cols:[]}),!d.is_string(e.str))throw Error("obj must be a string");for(o=[],a=e.str.split("\n"),n=0,r=a.length;n<r;n++)if(i=a[n],i.length>0)try{o.push(d.from_json(i))}catch(e){t=e,console.warn("CORRUPT db-doc string: "+t+" -- skipping '"+i+"'")}return exports.from_obj({obj:o,primary_keys:e.primary_keys,string_cols:e.string_cols})},u=function(e,t){return t.map(function(t,n){e=null===t||null==t?e.delete(n):e.set(n,t)}),e},c=function(e,t){var n,r,i,o;n={};for(r in e)i=e[r],o=t[r],_.isEqual(i,o)||(null==o?n[r]=null:n[r]=o);for(r in t)o=t[r],null==e[r]&&(n[r]=o);return n},p=function(e){return e.filter(function(e){return function(e,t){return null!==e}}(this))},n=function(){function e(e,t,n,r,i,o){var s,l;if(this._primary_keys=e,this._string_cols=t,this._records=n,this._everything=r,this._indexes=i,this._changes=o,this.changed_keys=g(this.changed_keys,this),this.apply_patch=g(this.apply_patch,this),this.make_patch=g(this.make_patch,this),this._primary_key_part=g(this._primary_key_part,this),this.to_str=g(this.to_str,this),this.to_obj=g(this.to_obj,this),this.equals=g(this.equals,this),this.get_one=g(this.get_one,this),this.get=g(this.get,this),this.delete=g(this.delete,this),this.set=g(this.set,this),this._parse=g(this._parse,this),this._select=g(this._select,this),this._process_cols=g(this._process_cols,this),this._primary_key_cols=g(this._primary_key_cols,this),this.changes=g(this.changes,this),this.reset_changes=g(this.reset_changes,this),this._primary_keys=this._process_cols(this._primary_keys),this._string_cols=this._process_cols(this._string_cols),null==this._records&&(this._records=a.List()),null==this._everything&&(this._everything=a.Set(function(){var e,t,n;for(n=[],l=e=0,t=this._records.size;0<=t?e<t:e>t;l=0<=t?++e:--e)null!=this._records.get(l)&&n.push(l);return n}.call(this)).sort()),null==this._indexes){this._indexes=a.Map();for(s in this._primary_keys)this._indexes=this._indexes.set(s,a.Map());l=0,this._records.map(function(e){return function(t,n){e._indexes.map(function(r,i){var o,s,l;l=t.get(i),null!=l&&(o=m(l),s=r.get(o),s=null!=s?s.add(n).sort():a.Set([n]),e._indexes=e._indexes.set(i,r.set(o,s)))})}}(this))}this.size=this._everything.size,null==this._changes&&this.reset_changes()}return e.prototype.reset_changes=function(){return this._changes={changes:a.Set(),from_db:this}},e.prototype.changes=function(){return this._changes},e.prototype._primary_key_cols=function(e){return e.filter(function(e){return function(t,n){return e._primary_keys[n]}}(this))},e.prototype._process_cols=function(e){var t,n,r,i;if(d.is_array(e)){for(i={},n=0,r=e.length;n<r;n++)t=e[n],i[t]=!0;return i}if(!d.is_object(e))throw Error("primary_keys must be a map or array");return e},e.prototype._select=function(e){var t,n,r,i,o,s;a.Map.isMap(e)&&(e=e.toJS()),r=d.len(e),i=void 0;for(t in e){if(s=e[t],n=this._indexes.get(t),null==n)throw Error("field '"+t+"' must be a primary key");if(o=n.get(m(s)),null==o)return a.Set();if(1===r)return o;i=null!=i?i.intersect(o):o}return null==i?this._everything:i},e.prototype._parse=function(e){var t,n,r,i;if(a.Map.isMap(e)&&(e=e.toJS()),!d.is_object(e))throw Error("obj must be a Javascript object");i={},n={};for(t in e)r=e[t],null!=this._primary_keys[t]?null!=r&&(i[t]=r):n[t]=r;return{where:i,set:n,obj:e}},e.prototype.set=function(t){var n,r,i,o,s,l,c,h,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N;if(d.is_array(t)){for(N=this,_=0,v=t.length;_<v;_++)O=t[_],N=N.set(O);return N}if(A=this._parse(t),T=A.where,S=A.set,t=A.obj,y=this._select(T),i=this._changes.changes,b=null!=y?y.first():void 0,null!=b){n=x=this._records.get(b);for(l in S)M=S[l],null===M?x=x.delete(l):this._string_cols[l]&&d.is_array(M)?x=x.set(l,f.apply_patch(M,null!=(C=n.get(l))?C:"")[0]):(o=x.get(l),r=a.fromJS(M),w=a.Map.isMap(o)&&a.Map.isMap(r)?u(o,r):r,x=x.set(l,w));return n.equals(x)?this:(i=i.add(this._primary_key_cols(x)),new e(this._primary_keys,this._string_cols,this._records.set(b,x),this._everything,this._indexes,{changes:i,from_db:this._changes.from_db}))}for(l in this._string_cols)null!=t[l]&&d.is_array(t[l])&&(t=d.copy_without(t,l));x=p(a.fromJS(t)),i=i.add(this._primary_key_cols(x)),k=this._records.push(x),b=k.size-1,s=this._everything.add(b),h=this._indexes;for(l in this._primary_keys)j=t[l],null!=j&&null!==j&&(c=null!=(E=h.get(l))?E:a.Map(),g=m(j),y=c.get(g),y=null!=y?y.add(b).sort():a.Set([b]),h=h.set(l,c.set(g,y)));return new e(this._primary_keys,this._string_cols,k,s,h,{changes:i,from_db:this._changes.from_db})},e.prototype.delete=function(t){var n,r,i,o,s,a,l,c,u,p,h;if(d.is_array(t)){for(h=this,a=0,l=t.length;a<l;a++)p=t[a],h=h.delete(p);return h}if(0===this._everything.size)return this;if(n=this._changes.changes,u=this._select(t),u.size===this._everything.size)return n=n.union(this._records.filter(function(e){return function(e){return null!=e}}(this)).map(this._primary_key_cols)),new e(this._primary_keys,this._string_cols,void 0,void 0,void 0,{changes:n,from_db:this._changes.from_db});s=this._indexes;for(i in this._primary_keys)o=s.get(i),null!=o&&u.map(function(e){return function(t){var n,r,a,l;a=e._records.get(t),l=a.get(i),null!=l&&(n=m(l),r=o.get(n).delete(t),o=0===r.size?o.delete(n):o.set(n,r),s=s.set(i,o))}}(this));return c=this._records,u.map(function(e){return function(t){return n=n.add(e._primary_key_cols(c.get(t))),c=c.set(t,void 0)}}(this)),r=this._everything.subtract(u),new e(this._primary_keys,this._string_cols,c,r,s,{changes:n,from_db:this._changes.from_db})},e.prototype.get=function(e){var t;return t=this._select(e),null==t?a.List():this._records.filter(function(e,n){return t.includes(n)})},e.prototype.get_one=function(e){var t;if(t=this._select(e),null!=t)return this._records.get(t.first())},e.prototype.equals=function(e){return this._records===e._records||this.size===e.size&&a.Set(this._records).add(void 0).equals(a.Set(e._records).add(void 0))},e.prototype.to_obj=function(){return this.get().toJS()},e.prototype.to_str=function(){var e;return null!=this._to_str_cache?this._to_str_cache:this._to_str_cache=function(){var t,n,r,i;for(r=this.to_obj(),i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(d.to_json(e));return i}.call(this).join("\n")},e.prototype._primary_key_part=function(e){var t,n,r;r={};for(t in e)n=e[t],this._primary_keys[t]&&(r[t]=n);return r},e.prototype.make_patch=function(e){var t,n,r,i,o,s,l,u,p,h,m,g;return 0===e.size?[-1,[{}]]:(h=a.Set(this._records),m=a.Set(e._records),r=h.intersect(m).add(void 0),h=h.subtract(r),m=m.subtract(r),0===h.size?[1,m.toJS()]:0===m.size?(g=[],h.map(function(e){return function(t){g.push(e._primary_key_part(t.toJS()))}}(this)),[-1,g]):(s=h.map(this._primary_key_cols),l=m.map(this._primary_key_cols),t=[],p=void 0,i=s.subtract(l),i.size>0&&(p=i.toJS()),o=l.subtract(s),o.size>0&&o.map(function(n){return function(n){t.push(e.get_one(n.toJS()).toJS())}}(this)),n=l.intersect(s),n.size>0&&n.map(function(n){return function(r){var i,o,s,a;o=r.toJS(),s=n._primary_key_part(o),i=n.get_one(s).toJS(),a=e.get_one(s).toJS();for(r in i)null==a[r]&&(o[r]=null);for(r in a)g=a[r],_.isEqual(i[r],g)||(n._string_cols[r]&&null!=i[r]&&null!=g?o[r]=f.make_patch(i[r],g):d.is_object(i[r])&&d.is_object(g)?o[r]=c(i[r],g):o[r]=g);t.push(o)}}(this)),u=[],null!=p&&(u.push(-1),u.push(p)),t.length>0&&(u.push(1),u.push(t)),u))},e.prototype.apply_patch=function(e){var t,n;for(n=0,t=this;n<e.length;)e[n]===-1?t=t.delete(e[n+1]):1===e[n]&&(t=t.set(e[n+1])),n+=2;return t},e.prototype.changed_keys=function(e){var t,n,r,i,o;return this._records===(null!=e?e._records:void 0)?a.Set():(i=a.Set(this._records).filter(function(e){return null!=e}),null==e?i.map(this._primary_key_cols):(o=a.Set(e._records).filter(function(e){return null!=e}),t=i.intersect(o),i=i.subtract(t),o=o.subtract(t),n=i.map(this._primary_key_cols),r=o.map(this._primary_key_cols),n.union(r)))},e}(),r=function(){function e(e){if(this._db=e,this.get_one=g(this.get_one,this),this.get=g(this.get,this),this.reset_changes=g(this.reset_changes,this),this.changes=g(this.changes,this),this.make_patch=g(this.make_patch,this),this.apply_patch=g(this.apply_patch,this),this.is_equal=g(this.is_equal,this),this.to_str=g(this.to_str,this),null==this._db)throw Error("@_db must be defined")}return e.prototype.to_str=function(){return this._db.to_str()},e.prototype.is_equal=function(e){return this._db.equals(e._db)},e.prototype.apply_patch=function(t){return new e(this._db.apply_patch(t))},e.prototype.make_patch=function(e){if(null!=this._db&&null!=(null!=e?e._db:void 0))return this._db.make_patch(e._db)},e.prototype.changes=function(){return this._db.changes()},e.prototype.reset_changes=function(){this._db.reset_changes()},e.prototype.get=function(e){var t;return null!=(t=this._db)?t.get(e):void 0},e.prototype.get_one=function(e){var t;return null!=(t=this._db)?t.get_one(e):void 0},e}(),o=function(e){function t(e){var n;e=s(e,{client:h,project_id:void 0,path:void 0,save_interval:void 0,patch_interval:void 0,file_use_interval:void 0,cursors:!1,primary_keys:h,string_cols:[]}),n=function(t){var n;return n=exports.from_str({str:t,primary_keys:e.primary_keys,string_cols:e.string_cols}),new r(n)},t.__super__.constructor.call(this,{string_id:e.id,client:e.client,project_id:e.project_id,path:e.path,save_interval:e.save_interval,patch_interval:e.patch_interval,file_use_interval:e.file_use_interval,cursors:e.cursors,from_str:n,doctype:{type:"db",patch_format:1,opts:{primary_keys:e.primary_keys,string_cols:e.string_cols}}})}return v(t,e),t}(f.SyncDoc),exports.SyncDB=function(e){function t(e){this.get_cursors=g(this.get_cursors,this),this.set_cursor_locs=g(this.set_cursor_locs,this),this.revert=g(this.revert,this),this.in_undo_mode=g(this.in_undo_mode,this),this.exit_undo_mode=g(this.exit_undo_mode,this),this.redo=g(this.redo,this),this.undo=g(this.undo,this),this.count=g(this.count,this),this.get_read_only=g(this.get_read_only,this),this.wait_until_read_only_known=g(this.wait_until_read_only_known,this),this.load_full_history=g(this.load_full_history,this),this.has_full_history=g(this.has_full_history,this),this.show_history=g(this.show_history,this),this.time_sent=g(this.time_sent,this),this.account_id=g(this.account_id,this),this.version=g(this.version,this),this.all_versions=g(this.all_versions,this),this.last_changed=g(this.last_changed,this),this.versions=g(this.versions,this),this.delete=g(this.delete,this),this.get_one=g(this.get_one,this),this.get=g(this.get,this),this.set=g(this.set,this),this.get_project_id=g(this.get_project_id,this),this.get_path=g(this.get_path,this),this.get_doc=g(this.get_doc,this),this.set_doc=g(this.set_doc,this),this.save_asap=g(this.save_asap,this),this.save=g(this.save,this),this.sync=g(this.sync,this),this.is_closed=g(this.is_closed,this),this.close=g(this.close,this),this._on_change=g(this._on_change,this),this.is_read_only=g(this.is_read_only,this),this.has_uncommitted_changes=g(this.has_uncommitted_changes,this),this.has_unsaved_changes=g(this.has_unsaved_changes,this),this._check=g(this._check,this),this._path=e.path,e.change_throttle&&(this._on_change=_.throttle(this._on_change,e.change_throttle)),delete e.change_throttle,this._doc=new o(e),this._first_change_event=!0,this._doc.on("change",this._on_change),this._doc.on("metadata-change",function(e){return function(){return e.emit("metadata-change")}}(this)),this._doc.on("before-change",function(e){return function(){return e.emit("before-change")}}(this)),this._doc.on("sync",function(e){return function(){return e.emit("sync")}}(this)),e.cursors&&this._doc.on("cursor_activity",function(e){return function(){var t;return t=1<=arguments.length?b.call(arguments,0):[],e.emit.apply(e,["cursor_activity"].concat(b.call(t)))}}(this)),this._doc.on("connected",function(e){return function(){return e.emit("connected")}}(this)),this._doc.on("init",function(e){return function(t){return e.emit("init",t)}}(this)),this._doc.on("save_to_disk_project",function(e){return function(t){return e.emit("save_to_disk_project",t)}}(this)),this.setMaxListeners(100)}return v(t,e),t.prototype._check=function(){if(null==this._doc)throw Error("SyncDB('"+this._path+"') is closed")},t.prototype.has_unsaved_changes=function(){return this._check(),this._doc.has_unsaved_changes()},t.prototype.has_uncommitted_changes=function(){return this._check(),this._doc.has_uncommitted_changes()},t.prototype.is_read_only=function(){return this._check(),this._doc.get_read_only()},t.prototype._on_change=function(){var e,t,n,r;if(null!=this._doc)return t=this._doc.get_doc()._db,null==this._last_db?e=t.changed_keys():(r=this._doc.get_doc().changes(),e=r.changes,n=r.from_db,this._doc.get_doc().reset_changes(),n!==this._last_db&&(e=t.changed_keys(this._last_db))),(e.size>0||this._first_change_event)&&this.emit("change",e),this._last_db=t,delete this._first_change_event},t.prototype.close=function(){var e;if(null!=this._doc)return this.removeAllListeners(),null!=(e=this._doc)&&e.close(),delete this._doc},t.prototype.is_closed=function(){return null==this._doc},t.prototype.sync=function(e){this._check(),this._doc.save(e);
},t.prototype.save=function(e){this._check(),this._doc.save_to_disk(e)},t.prototype.save_asap=function(e){this._check(),this._doc.save_asap(e)},t.prototype.set_doc=function(e){this._check(),this._doc.set_doc(e)},t.prototype.get_doc=function(){return this._check(),this._doc.get_doc()},t.prototype.get_path=function(){return this._check(),this._doc.get_path()},t.prototype.get_project_id=function(){return this._doc.get_project_id()},t.prototype.set=function(e,t){null==t&&(t=!0),null!=this._doc&&(this._doc.set_doc(new r(this._doc.get_doc()._db.set(e))),t&&this._doc.save(),this._on_change())},t.prototype.get=function(e,t){var n;return null==this._doc?a.List():(n=null!=t?this._doc.version(t):this._doc.get_doc(),null!=n?n._db.get(e):void 0)},t.prototype.get_one=function(e,t){var n;if(null!=this._doc&&(n=null!=t?this._doc.version(t):this._doc.get_doc(),null!=n))return n._db.get_one(e)},t.prototype.delete=function(e,t){var n;null==t&&(t=!0),null!=this._doc&&(n=this._doc.get_doc(),null!=n&&(this._doc.set_doc(new r(n._db.delete(e))),t&&this._doc.save(),this._on_change()))},t.prototype.versions=function(){return this._check(),this._doc.versions()},t.prototype.last_changed=function(){return this._check(),this._doc.last_changed()},t.prototype.all_versions=function(){return this._check(),this._doc.all_versions()},t.prototype.version=function(e){return this._check(),this._doc.version(e)},t.prototype.account_id=function(e){return this._check(),this._doc.account_id(e)},t.prototype.time_sent=function(e){return this._check(),this._doc.time_sent(e)},t.prototype.show_history=function(e){return this._check(),this._doc.show_history(e)},t.prototype.has_full_history=function(){return this._check(),this._doc.has_full_history()},t.prototype.load_full_history=function(e){return this._check(),this._doc.load_full_history(e)},t.prototype.wait_until_read_only_known=function(e){return this._check(),this._doc.wait_until_read_only_known(e)},t.prototype.get_read_only=function(){return this._check(),this._doc.get_read_only()},t.prototype.count=function(){return this._check(),this._doc.get_doc()._db.size},t.prototype.undo=function(){this._check(),this._doc.set_doc(this._doc.undo()),this._doc.save(),this._on_change()},t.prototype.redo=function(){this._check(),this._doc.set_doc(this._doc.redo()),this._doc.save(),this._on_change()},t.prototype.exit_undo_mode=function(){return this._check(),this._doc.exit_undo_mode()},t.prototype.in_undo_mode=function(){return this._check(),this._doc.in_undo_mode()},t.prototype.revert=function(e){this._check(),this._doc.revert(e),this._doc.save()},t.prototype.set_cursor_locs=function(e){this._check(),this._doc.set_cursor_locs(e)},t.prototype.get_cursors=function(){var e;return null!=(e=this._doc)?e.get_cursors():void 0},t}(i),exports.open_existing_sync_document=function(e){return e=s(e,{client:h,project_id:h,path:h,cb:h}),e.client.query({query:{syncstrings:{project_id:e.project_id,path:e.path,doctype:null}},cb:function(t,n){var r,i,o,s,a;return t?void e.cb(t):"error"===n.event?void e.cb(n.error):null==(null!=(s=n.query)?s.syncstrings:void 0)?void e.cb("no document '"+e.path+"' in project '"+e.project_id+"'"):(i=JSON.parse(null!=(a=n.query.syncstrings.doctype)?a:'{"type":"string"}'),o={project_id:e.project_id,path:e.path},null!=i.opts&&(o=d.merge(o,i.opts)),r=e.client["sync_"+i.type](o),e.cb(void 0,r))}})}},function(e,exports){var t,n;n=exports.upgrades={},exports.DEFAULT_QUOTAS={disk_quota:3e3,cores:1,memory:1e3,cpu_shares:256,mintime:3600,network:0,member_host:0},n.max_per_project={disk_quota:5e4,memory:8e3,cores:4,network:1,cpu_shares:2048,mintime:7776e3,member_host:1},n.params={disk_quota:{display:"Disk space",unit:"MB",display_unit:"MB",display_factor:1,pricing_unit:"GB",pricing_factor:.001,input_type:"number",desc:"The maximum amount of disk space (in MB) that a project may use."},memory:{display:"Memory",unit:"MB",display_unit:"MB",display_factor:1,pricing_unit:"GB",pricing_factor:.001,input_type:"number",desc:"The maximum amount of memory that all processes in a project may use in total."},cores:{display:"CPU cores",unit:"core",display_unit:"core",display_factor:1,pricing_unit:"core",pricing_factor:1,input_type:"number",desc:"The maximum number of CPU cores that a project may use."},cpu_shares:{display:"CPU shares",unit:"share",display_unit:"share",display_factor:1/256,pricing_unit:"share",pricing_factor:1/256,input_type:"number",desc:"Relative priority of this project versus other projects running on the same computer."},mintime:{display:"Idle timeout",unit:"second",display_unit:"hour",display_factor:1/3600,pricing_unit:"day",pricing_factor:1/86400,input_type:"number",desc:"If the project is not used for this long, then it will be automatically stopped."},network:{display:"Internet access",unit:"upgrade",display_unit:"upgrade",display_factor:1,pricing_unit:"upgrade",pricing_factor:1,input_type:"checkbox",desc:"Full internet access enables a project to connect to the computers outside of SageMathCloud, download software packages, etc."},member_host:{display:"Member hosting",unit:"upgrade",display_unit:"upgrade",display_factor:1,pricing_unit:"upgrade",pricing_factor:1,input_type:"checkbox",desc:"Moves this project to a members-only server, which has less competition for resources."}},n.field_order=["member_host","network","mintime","memory","disk_quota","cpu_shares","cores"],n.live_subscriptions=[["standard","premium","professional"],["small_course","medium_course","large_course"]],n.period_names={month:"month",year:"year",month4:"4 months",year1:"year"},t=n.membership={},t.professional={icon:"battery-full",price:{month:99,year:999},cancel_at_period_end:!1,benefits:{cores:5,cpu_shares:2560,disk_quota:1e5,member_host:40,memory:6e4,mintime:1728e3,network:200}},t.premium={icon:"battery-three-quarters",price:{month:49,year:499},cancel_at_period_end:!1,benefits:{cores:2,cpu_shares:1024,disk_quota:4e4,member_host:16,memory:24e3,mintime:691200,network:80}},t.standard={icon:"battery-quarter",price:{month:7,year:79},cancel_at_period_end:!1,benefits:{cores:0,cpu_shares:128,disk_quota:5e3,member_host:2,memory:3e3,mintime:86400,network:20}},t.large_course={icon:"battery-full",price:{month4:999,year1:2499},cancel_at_period_end:!0,benefits:{cores:0,cpu_shares:0,disk_quota:0,member_host:250,network:500}},t.medium_course={icon:"battery-three-quarters",price:{month4:399,year1:999},cancel_at_period_end:!0,benefits:{cores:0,cpu_shares:0,disk_quota:0,member_host:70,network:140}},t.small_course={icon:"battery-quarter",price:{month4:199,year1:499},cancel_at_period_end:!0,benefits:{cores:0,cpu_shares:0,disk_quota:0,member_host:25,network:50}},t.student_course={icon:"graduation-cap",price:{month4:9},cancel_at_period_end:!0,benefits:{cores:0,cpu_shares:0,disk_quota:0,member_host:1,network:1}}},function(e,exports,t){var n,r,i;i=t(12).redux,r=void 0,exports.set_notify_count_function=function(e){return r=e},n="",exports.set_window_title=function(e){var t,o;return null==e&&(e=n),n=e,o="function"==typeof r?r():void 0,o&&(e="("+o+") "+e),t=i.getStore("customize").get("site_name"),e.length>0?document.title=e+" - "+t:document.title=t}},function(e,exports){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAIklEQVQ4y2NkYGDgYqAiYGKgMhg1cNTAUQNHDRw1cKgYCADEBAAyRt8w0gAAAABJRU5ErkJggg=="},function(e,exports){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},,function(e,exports){function t(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=t},function(e,exports){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(exports,function(){return this}())},function(e,exports,t){e.exports={default:t(521),__esModule:!0}},function(e,exports,t){e.exports={default:t(523),__esModule:!0}},function(e,exports,t){!function(e){e(t(2))}(function(e){function t(e,t,n){var r,i=e.getWrapperElement();return r=i.appendChild(document.createElement("div")),n?r.className="CodeMirror-dialog CodeMirror-dialog-bottom":r.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?r.innerHTML=t:r.appendChild(t),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function s(e){if("string"==typeof e)d.value=e;else{if(c)return;c=!0,l.parentNode.removeChild(l),u.focus(),o.onClose&&o.onClose(l)}}o||(o={}),n(this,null);var a,l=t(this,r,o.bottom),c=!1,u=this,d=l.getElementsByTagName("input")[0];return d?(d.focus(),o.value&&(d.value=o.value,o.selectValueOnOpen!==!1&&d.select()),o.onInput&&e.on(d,"input",function(e){o.onInput(e,d.value,s)}),o.onKeyUp&&e.on(d,"keyup",function(e){o.onKeyUp(e,d.value,s)}),e.on(d,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,d.value,s)||((27==t.keyCode||o.closeOnEnter!==!1&&13==t.keyCode)&&(d.blur(),e.e_stop(t),s()),13==t.keyCode&&i(d.value,t))}),o.closeOnBlur!==!1&&e.on(d,"blur",s)):(a=l.getElementsByTagName("button")[0])&&(e.on(a,"click",function(){s(),u.focus()}),o.closeOnBlur!==!1&&e.on(a,"blur",s),a.focus()),s}),e.defineExtension("openConfirm",function(r,i,o){function s(){c||(c=!0,a.parentNode.removeChild(a),u.focus())}n(this,null);var a=t(this,r,o&&o.bottom),l=a.getElementsByTagName("button"),c=!1,u=this,d=1;l[0].focus();for(var p=0;p<l.length;++p){var h=l[p];!function(t){e.on(h,"click",function(n){e.e_preventDefault(n),s(),t&&t(u)})}(i[p]),e.on(h,"blur",function(){--d,setTimeout(function(){d<=0&&s()},200)}),e.on(h,"focus",function(){++d})}}),e.defineExtension("openNotification",function(r,i){function o(){l||(l=!0,clearTimeout(s),a.parentNode.removeChild(a))}n(this,o);var s,a=t(this,r,i&&i.bottom),l=!1,c=i&&void 0!==i.duration?i.duration:5e3;return e.on(a,"click",function(t){e.e_preventDefault(t),o()}),c&&(s=setTimeout(o,c)),o})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(t,i,o,s){function a(e){var n=l(t,i);if(!n||n.to.line-n.from.line<c)return null;for(var r=t.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==s){if(!e)return null;n.cleared=!0,r[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=r(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var c=r(t,o,"minFoldSize"),u=a(!0);if(r(t,o,"scanUp"))for(;!u&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),u=a(!1);if(u&&!u.cleared&&"unfold"!==s){var d=n(t,o);e.on(d,"mousedown",function(t){p.clear(),e.e_preventDefault(t)});var p=t.markText(u.from,u.to,{replacedWith:d,clearOnEnter:r(t,o,"clearOnEnter"),__isFold:!0});p.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,u.from,u.to)}}function n(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);n=document.createElement("span"),n.appendChild(i),n.className="CodeMirror-foldmarker"}return n}function r(e,t,n){if(t&&void 0!==t[n])return t[n];var r=e.options.foldOptions;return r&&void 0!==r[n]?r[n]:i[n]}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(t,r){var i=r&&r.schemaInfo,o=r&&r.quoteChar||'"';if(i){var s=t.getCursor(),a=t.getTokenAt(s);a.end>s.ch&&(a.end=s.ch,a.string=a.string.slice(0,s.ch-a.start));var l=e.innerMode(t.getMode(),a.state);if("xml"==l.mode.name){var c,u,d=[],p=!1,h=/\btag\b/.test(a.type)&&!/>$/.test(a.string),f=h&&/^\w/.test(a.string);if(f){var m=t.getLine(s.line).slice(Math.max(0,a.start-2),a.start),_=/<\/$/.test(m)?"close":/<$/.test(m)?"open":null;_&&(u=a.start-("close"==_?2:1))}else h&&"<"==a.string?_="open":h&&"</"==a.string&&(_="close");if(!h&&!l.state.tagName||_){f&&(c=a.string),p=_;var g=l.state.context,v=g&&i[g.tagName],y=g?v&&v.children:i["!top"];if(y&&"close"!=_)for(var b=0;b<y.length;++b)c&&0!=y[b].lastIndexOf(c,0)||d.push("<"+y[b]);else if("close"!=_)for(var w in i)!i.hasOwnProperty(w)||"!top"==w||"!attrs"==w||c&&0!=w.lastIndexOf(c,0)||d.push("<"+w);g&&(!c||"close"==_&&0==g.tagName.lastIndexOf(c,0))&&d.push("</"+g.tagName+">")}else{var v=i[l.state.tagName],x=v&&v.attrs,k=i["!attrs"];if(!x&&!k)return;if(x){if(k){var A={};for(var C in k)k.hasOwnProperty(C)&&(A[C]=k[C]);for(var C in x)x.hasOwnProperty(C)&&(A[C]=x[C]);x=A}}else x=k;if("string"==a.type||"="==a.string){var E,m=t.getRange(n(s.line,Math.max(0,s.ch-60)),n(s.line,"string"==a.type?a.start:a.end)),S=m.match(/([^\s\u00a0=<>\"\']+)=$/);if(!S||!x.hasOwnProperty(S[1])||!(E=x[S[1]]))return;if("function"==typeof E&&(E=E.call(this,t)),"string"==a.type){c=a.string;var j=0;/['"]/.test(a.string.charAt(0))&&(o=a.string.charAt(0),c=a.string.slice(1),j++);var M=a.string.length;/['"]/.test(a.string.charAt(M-1))&&(o=a.string.charAt(M-1),c=a.string.substr(j,M-2)),p=!0}for(var b=0;b<E.length;++b)c&&0!=E[b].lastIndexOf(c,0)||d.push(o+E[b]+o)}else{"attribute"==a.type&&(c=a.string,p=!0);for(var T in x)!x.hasOwnProperty(T)||c&&0!=T.lastIndexOf(c,0)||d.push(T)}}return{list:d,from:p?n(s.line,null==u?a.start:u):s,to:p?n(s.line,a.end):s}}}}var n=e.Pos;e.registerHelper("hint","xml",t)})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.multiplexingMode=function(t){function n(e,t,n,r){if("string"==typeof t){var i=e.indexOf(t,n);return r&&i>-1?i+t.length:i}var o=t.exec(n?e.slice(n):e);return o?o.index+n+(r?o[0].length:0):-1}var r=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(n){return{outer:e.copyState(t,n.outer),innerActive:n.innerActive,inner:n.innerActive&&e.copyState(n.innerActive.mode,n.inner)}},token:function(i,o){if(o.innerActive){var s=o.innerActive,a=i.string;if(!s.close&&i.sol())return o.innerActive=o.inner=null,this.token(i,o);var l=s.close?n(a,s.close,i.pos,s.parseDelimiters):-1;if(l==i.pos&&!s.parseDelimiters)return i.match(s.close),o.innerActive=o.inner=null,s.delimStyle&&s.delimStyle+" "+s.delimStyle+"-close";l>-1&&(i.string=a.slice(0,l));var c=s.mode.token(i,o.inner);return l>-1&&(i.string=a),l==i.pos&&s.parseDelimiters&&(o.innerActive=o.inner=null),s.innerStyle&&(c=c?c+" "+s.innerStyle:s.innerStyle),c}for(var u=1/0,a=i.string,d=0;d<r.length;++d){var p=r[d],l=n(a,p.open,i.pos);if(l==i.pos)return p.parseDelimiters||i.match(p.open),o.innerActive=p,o.inner=e.startState(p.mode,t.indent?t.indent(o.outer,""):0),p.delimStyle&&p.delimStyle+" "+p.delimStyle+"-open";l!=-1&&l<u&&(u=l)}u!=1/0&&(i.string=a.slice(0,u));var h=t.token(i,o.outer);return u!=1/0&&(i.string=a),h},indent:function(n,r){var i=n.innerActive?n.innerActive.mode:t;return i.indent?i.indent(n.innerActive?n.inner:n.outer,r):e.Pass},blankLine:function(n){var i=n.innerActive?n.innerActive.mode:t;if(i.blankLine&&i.blankLine(n.innerActive?n.inner:n.outer),n.innerActive)"\n"===n.innerActive.close&&(n.innerActive=n.inner=null);else for(var o=0;o<r.length;++o){var s=r[o];"\n"===s.open&&(n.innerActive=s,n.inner=e.startState(s.mode,i.indent?i.indent(n.outer,""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.streamSeen=e,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var i,o;return t.blankLine&&(i=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?i:r&&null!=i?i+" "+o:o}}}})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e+="",RegExp((t===!1?"":"^")+"(?:"+e+")",n)}function r(e){if(!e)return null;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}function i(e,i){(e.next||e.push)&&t(i,e.next||e.push),this.regex=n(e.regex),this.token=r(e.token),this.data=e}function o(e,t){return function(n,r){if(r.pending){var i=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=i.text.length,i.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var o=r.local.endToken||null;return r.local=r.localState=null,o}var s,o=r.local.mode.token(n,r.localState);return r.local.endScan&&(s=r.local.endScan.exec(n.current()))&&(n.pos=n.start+s.index),o}for(var l=e[r.state],c=0;c<l.length;c++){var u=l[c],d=(!u.data.sol||n.sol())&&n.match(u.regex);if(d){if(u.data.next?r.state=u.data.next:u.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=u.data.push):u.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),u.data.mode&&a(t,r,u.data.mode,u.token),u.data.indent&&r.indent.push(n.indentation()+t.indentUnit),u.data.dedent&&r.indent.pop(),d.length>2){r.pending=[];for(var p=2;p<d.length;p++)d[p]&&r.pending.push({text:d[p],token:u.token[p-1]});return n.backUp(d[0].length-(d[1]?d[1].length:0)),u.token[0]}return u.token&&u.token.join?u.token[0]:u.token}}return n.next(),null}}function s(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!s(e[r],t[r]))return!1;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function a(t,r,i,o){var a;if(i.persistent)for(var l=r.persistentStates;l&&!a;l=l.next)(i.spec?s(i.spec,l.spec):i.mode==l.mode)&&(a=l);var c=a?a.mode:i.mode||e.getMode(t,i.spec),u=a?a.state:e.startState(c);i.persistent&&!a&&(r.persistentStates={mode:c,spec:i.spec,state:u,next:r.persistentStates}),r.localState=u,r.local={mode:c,end:i.end&&n(i.end),endScan:i.end&&i.forceEnd!==!1&&n(i.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function l(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}function c(t,n){return function(r,i,o){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,i,o);if(null==r.indent||r.local||n.dontIndentStates&&l(r.state,n.dontIndentStates)>-1)return e.Pass;var s=r.indent.length-1,a=t[r.state];e:for(;;){for(var c=0;c<a.length;c++){var u=a[c];if(u.data.dedent&&u.data.dedentIfLineStart!==!1){var d=u.regex.exec(i);if(d&&d[0]){s--,(u.next||u.push)&&(a=t[u.next||u.push]),i=i.slice(d[0].length);continue e}}}break}return s<0?0:r.indent[s]}}e.defineSimpleMode=function(t,n){e.defineMode(t,function(t){return e.simpleMode(t,n)})},e.simpleMode=function(n,r){t(r,"start");var s={},a=r.meta||{},l=!1;for(var u in r)if(u!=a&&r.hasOwnProperty(u))for(var d=s[u]=[],p=r[u],h=0;h<p.length;h++){var f=p[h];d.push(new i(f,r)),(f.indent||f.dedent)&&(l=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:l?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:o(s,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:c(s,a)};if(a)for(var _ in a)a.hasOwnProperty(_)&&(m[_]=a[_]);return m}})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=o}function n(e,n,r,i){var o=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(o=e.context.indented),e.context=new t(o,n,r,i,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function i(e,t,n){return"variable"==t.prevToken||"variable-3"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function o(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function s(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function a(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}function l(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=l;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function c(e,t){return"variable-3"==t.prevToken&&"variable-3"}function u(e){return e.eatWhile(/[\w\.']/),"number"}function d(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=f,f(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function p(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function h(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function f(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function m(t,n){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}"string"==typeof t&&(t=[t]);var i=[];r(n.keywords),r(n.types),r(n.builtin),r(n.atoms),i.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}function _(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function g(e){return function(t,n){for(var r,i=!1,o=!1;!t.eol();){if(!e&&!i&&t.match('"')){o=!0;break}if(e&&t.match('"""')){o=!0;break}r=t.next(),!i&&"$"==r&&t.match("{")&&t.skipTo("}"),i=!i&&"\\"==r&&!e}return!o&&e||(n.tokenize=null),"string"}}function v(e){return function(t,n){for(var r,i=!1,o=!1;!t.eol();){if(!i&&t.match('"')&&("single"==e||t.match('""'))){o=!0;break}if(!i&&t.match("``")){w=v(e),o=!0;break}r=t.next(),i="single"==e&&!i&&"\\"==r}return o&&(n.tokenize=null),"string"}}e.defineMode("clike",function(s,l){function c(e,t){var n=e.next();if(A[n]){var r=A[n](e,t);if(r!==!1)return r}if('"'==n||"'"==n)return t.tokenize=u(n),t.tokenize(e,t);if(M.test(n))return h=n,null;if(T.test(n)){if(e.backUp(1),e.match(O))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=d,d(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(N.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(N););return"operator"}if(e.eatWhile(I),j)for(;e.match(j);)e.eatWhile(I);var i=e.current();return a(v,i)?(a(w,i)&&(h="newstatement"),a(x,i)&&(f=!0),"keyword"):a(y,i)?"variable-3":a(b,i)?(a(w,i)&&(h="newstatement"),"builtin"):a(k,i)?"atom":"variable"}function u(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!C)&&(n.tokenize=null),"string"}}function d(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function p(e,t){l.typeFirstDefinitions&&e.eol()&&o(t.context)&&(t.typeAtEndOfLine=i(e,t,e.pos))}var h,f,m=s.indentUnit,_=l.statementIndentUnit||m,g=l.dontAlignCalls,v=l.keywords||{},y=l.types||{},b=l.builtin||{},w=l.blockKeywords||{},x=l.defKeywords||{},k=l.atoms||{},A=l.hooks||{},C=l.multiLineStrings,E=l.indentStatements!==!1,S=l.indentSwitch!==!1,j=l.namespaceSeparator,M=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,T=l.numberStart||/[\d\.]/,O=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,N=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,I=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/;return{startState:function(e){return{tokenize:null,context:new t((e||0)-m,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var s=t.context;if(e.sol()&&(null==s.align&&(s.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return p(e,t),null;h=f=null;var a=(t.tokenize||c)(e,t);if("comment"==a||"meta"==a)return a;if(null==s.align&&(s.align=!0),";"==h||":"==h||","==h&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)r(t);else if("{"==h)n(t,e.column(),"}");else if("["==h)n(t,e.column(),"]");else if("("==h)n(t,e.column(),")");else if("}"==h){for(;"statement"==s.type;)s=r(t);for("}"==s.type&&(s=r(t));"statement"==s.type;)s=r(t)}else h==s.type?r(t):E&&(("}"==s.type||"top"==s.type)&&";"!=h||"statement"==s.type&&"newstatement"==h)&&n(t,e.column(),"statement",e.current());if("variable"==a&&("def"==t.prevToken||l.typeFirstDefinitions&&i(e,t,e.start)&&o(t.context)&&e.match(/^\s*\(/,!1))&&(a="def"),A.token){var u=A.token(e,t,a);void 0!==u&&(a=u)}return"def"==a&&l.styleDefs===!1&&(a="variable"),t.startOfLine=!1,t.prevToken=f?"def":a||h,p(e,t),a},indent:function(t,n){if(t.tokenize!=c&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,i=n&&n.charAt(0);if("statement"==r.type&&"}"==i&&(r=r.prev),l.dontIndentStatements)for(;"statement"==r.type&&l.dontIndentStatements.test(r.info);)r=r.prev;if(A.indent){var o=A.indent(t,r,n);if("number"==typeof o)return o}var s=i==r.type,a=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(i)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==i?0:_):!r.align||g&&")"==r.type?")"!=r.type||s?r.indented+(s?0:m)+(s||!a||/^(?:case|default)\b/.test(n)?0:m):r.indented+_:r.column+(s?0:1)},electricInput:S?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var y="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",b="int long char short double float unsigned signed void size_t ptrdiff_t";m(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:s(y),types:s(b+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:s("case do else for if switch while struct"),defKeywords:s("struct"),typeFirstDefinitions:!0,atoms:s("null true false"),hooks:{"#":l,"*":c},modeProps:{fold:["brace","include"]}}),m(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:s(y+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:s(b+" bool wchar_t"),blockKeywords:s("catch class do else finally for if struct switch try while"),defKeywords:s("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:s("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":l,"*":c,u:d,U:d,L:d,R:d,0:u,1:u,2:u,3:u,4:u,5:u,6:u,7:u,8:u,9:u,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&p(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),m("text/x-java",{name:"clike",keywords:s("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:s("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:s("catch class do else finally for if switch try while"),defKeywords:s("class interface package enum @interface"),typeFirstDefinitions:!0,atoms:s("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),m("text/x-csharp",{name:"clike",keywords:s("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),
types:s("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:s("catch class do else finally for foreach if struct switch try while"),defKeywords:s("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=h,h(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),m("text/x-scala",{name:"clike",keywords:s("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:s("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:s("catch class do else finally for forSome if match switch try while"),defKeywords:s("class def object package trait type val var"),atoms:s("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=_,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),m("text/x-kotlin",{name:"clike",keywords:s("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend"),types:s("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:s("catch class do else finally for if where try while enum"),defKeywords:s("class val var object package interface fun"),atoms:s("true false null this"),hooks:{'"':function(e,t){return t.tokenize=g(e.match('""')),t.tokenize(e,t)}},modeProps:{closeBrackets:{triples:'"'}}}),m(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:s("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:s("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:s("for while do if else struct"),builtin:s("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:s("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":l},modeProps:{fold:["brace","include"]}}),m("text/x-nesc",{name:"clike",keywords:s(y+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:s(b),blockKeywords:s("case do else for if switch while struct"),atoms:s("null true false"),hooks:{"#":l},modeProps:{fold:["brace","include"]}}),m("text/x-objectivec",{name:"clike",keywords:s(y+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:s(b),atoms:s("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":l,indent:function(e,t,n){if("statement"==t.type&&/^@\w/.test(n))return t.indented}},modeProps:{fold:"brace"}}),m("text/x-squirrel",{name:"clike",keywords:s("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:s(b),blockKeywords:s("case catch class else for foreach if switch try while"),defKeywords:s("function local class"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"#":l},modeProps:{fold:["brace","include"]}});var w=null;m("text/x-ceylon",{name:"clike",keywords:s("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:s("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:s("class dynamic function interface module object package value"),builtin:s("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:s("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=v(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!w||!e.match("`"))&&(t.tokenize=w,w=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"variable-3"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})},function(e,exports,t){!function(e){e(t(2),t(108),t(489))}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}function i(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function s(e){return!e||!/\S/.test(e.string)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==c&&(e.f=h,e.block=l),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function l(t,o){var a=t.sol(),l=o.list!==!1,c=o.indentedCode;o.indentedCode=!1,l&&(o.indentationDiff>=0?(o.indentationDiff<4&&(o.indentation-=o.indentationDiff),o.list=null):o.indentation>0?o.list=null:o.list=!1);var p=null;if(o.indentationDiff>=4)return t.skipToEnd(),c||s(o.prevLine)?(o.indentation-=4,o.indentedCode=!0,x.code):null;if(t.eatSpace())return null;if((p=t.match(S))&&p[1].length<=6)return o.header=p[1].length,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,d(o);if(!(s(o.prevLine)||o.quote||l||c)&&(p=t.match(j)))return o.header="="==p[0].charAt(0)?1:2,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,d(o);if(t.eat(">"))return o.quote=a?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),t.eatSpace(),d(o);if("["===t.peek())return i(t,o,g);if(t.match(A,!0))return o.hr=!0,x.hr;if(p=t.match(C)){var h=p[1]?"ol":"ul";for(o.indentation=t.column()+t.current().length,o.list=!0;o.listStack&&t.column()<o.listStack[o.listStack.length-1];)o.listStack.pop();return o.listStack.push(o.indentation),n.taskLists&&t.match(E,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+h]),d(o)}return n.fencedCodeBlocks&&(p=t.match(T,!0))?(o.fencedChars=p[1],o.localMode=r(p[2]),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=u,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,d(o)):i(t,o,o.inline)}function c(t,n){var r=b.token(t,n.htmlState);if(!w){var i=e.innerMode(b,n.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=h,n.block=l,n.htmlState=null)}return r}function u(e,t){if(t.fencedChars&&e.match(t.fencedChars)){n.highlightFormatting&&(t.formatting="code-block");var r=d(t);return t.localMode=t.localState=null,t.block=l,t.f=h,t.fencedChars=null,t.code=0,r}return t.fencedChars&&e.skipTo(t.fencedChars)?"comment":t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),x.code)}function d(e){var t=[];if(e.formatting){t.push(x.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(x.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(x.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(x.linkHref,"url"):(e.strong&&t.push(x.strong),e.em&&t.push(x.em),e.strikethrough&&t.push(x.strikethrough),e.linkText&&t.push(x.linkText),e.code&&t.push(x.code),e.image&&t.push(x.image),e.imageAltText&&t.push(x.imageAltText,"link"),e.imageMarker&&t.push(x.imageMarker)),e.header&&t.push(x.header,x.header+"-"+e.header),e.quote&&(t.push(x.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.quote+"-"+e.quote):t.push(x.quote+"-"+n.maxBlockquoteDepth)),e.list!==!1){var i=(e.listStack.length-1)%3;i?1===i?t.push(x.list2):t.push(x.list3):t.push(x.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function p(e,t){if(e.match(M,!0))return d(t)}function h(t,r){var i=r.text(t,r);if(void 0!==i)return i;if(r.list)return r.list=null,d(r);if(r.taskList){var s="x"!==t.match(E,!0)[1];return s?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,d(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),d(r);var a=t.next();if(r.linkTitle){r.linkTitle=!1;var l=a;"("===a&&(l=")"),l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var u="^\\s*(?:[^"+l+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(RegExp(u),!0))return x.linkHref}if("`"===a){var p=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var h=t.current().length;if(0==r.code)return r.code=h,d(r);if(h==r.code){var _=d(r);return r.code=0,_}return r.formatting=p,d(r)}if(r.code)return d(r);if("\\"===a&&(t.next(),n.highlightFormatting)){var g=d(r),v=x.formatting+"-escape";return g?g+" "+v:v}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),d(r);if("["===a&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),d(r);if("]"===a&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var g=d(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=m,g}if("["===a&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1)&&!r.image)return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),d(r);if("]"===a&&r.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1)){n.highlightFormatting&&(r.formatting="link");var g=d(r);return r.linkText=!1,r.inline=r.f=m,g}if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=f,n.highlightFormatting&&(r.formatting="link");var g=d(r);return g?g+=" ":g="",g+x.linkInline}if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=f,n.highlightFormatting&&(r.formatting="link");var g=d(r);return g?g+=" ":g="",g+x.linkEmail}if("<"===a&&t.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^ >]+)?)*\s*>)/i,!1)){var y=t.string.indexOf(">",t.pos);if(y!=-1){var w=t.string.substring(t.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(b),o(t,r,c)}if("<"===a&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===a||"_"===a){for(var k=1,A=1==t.pos?" ":t.string.charAt(t.pos-2);k<3&&t.eat(a);)k++;var C=t.peek()||" ",S=!/\s/.test(C)&&(!O.test(C)||/\s/.test(A)||O.test(A)),j=!/\s/.test(A)&&(!O.test(A)||/\s/.test(C)||O.test(C)),M=null,T=null;if(k%2&&(r.em||!S||"*"!==a&&j&&!O.test(A)?r.em!=a||!j||"*"!==a&&S&&!O.test(C)||(M=!1):M=!0),k>1&&(r.strong||!S||"*"!==a&&j&&!O.test(A)?r.strong!=a||!j||"*"!==a&&S&&!O.test(C)||(T=!1):T=!0),null!=T||null!=M){n.highlightFormatting&&(r.formatting=null==M?"strong":null==T?"em":"strong em"),M===!0&&(r.em=a),T===!0&&(r.strong=a);var _=d(r);return M===!1&&(r.em=!1),T===!1&&(r.strong=!1),_}}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return d(r);t.backUp(1)}if(n.strikethrough)if("~"===a&&t.eatWhile(a)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var _=d(r);return r.strikethrough=!1,_}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),d(r)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return d(r);t.backUp(2)}return" "===a&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),d(r)}function f(e,t){var r=e.next();if(">"===r){t.f=t.inline=h,n.highlightFormatting&&(t.formatting="link");var i=d(t);return i?i+=" ":i="",i+x.linkInline}return e.match(/^[^>]+/,!0),x.linkInline}function m(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=_("("===r?")":"]",0),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,d(t)):"error"}function _(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link-string");var o=d(r);return r.linkHref=!1,o}return t.match(N[e]),r.linkHref=!0,d(r)}}function g(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=v,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,d(t)):i(e,t,h)}function v(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=y,n.highlightFormatting&&(t.formatting="link");var r=d(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),x.linkText}function y(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=h,x.linkHref+" url")}var b=e.getMode(t,"text/html"),w="null"==b.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var x={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var k in x)x.hasOwnProperty(k)&&n.tokenTypeOverrides[k]&&(x[k]=n.tokenTypeOverrides[k]);var A=/^([*\-_])(?:\s*\1){2,}\s*$/,C=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,E=/^\[(x| )\](?=\s)/,S=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,j=/^ *(?:\={1,}|-{1,})\s*$/,M=/^[^#!\[\]*_\\<>` "'(~]+/,T=RegExp("^("+(n.fencedCodeBlocks===!0?"~~~+|```+":n.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),O=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~—]/,N={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},I={startState:function(){return{f:l,prevLine:null,thisLine:null,block:l,htmlState:null,indentation:0,inline:h,text:p,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(b,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var n=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n){if(a(t),!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var r=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentationDiff=Math.min(r-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,r>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==c?{state:e.htmlState,mode:b}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:I}},blankLine:a,getType:d,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return I},"xml"),e.defineMIME("text/x-markdown","markdown")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("sql",function(t,n){function r(e,t){var n=e.next();if(f[n]){var r=f[n](e,t);if(r!==!1)return r}if(h.hexNumber&&("0"==n&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(h.binaryNumber&&(("b"==n||"B"==n)&&e.match(/^'[01]+'/)||"0"==n&&e.match(/^b[01]+/)))return"number";if(n.charCodeAt(0)>47&&n.charCodeAt(0)<58)return e.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),h.decimallessFloat&&e.eat("."),"number";if("?"==n&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==n||'"'==n&&h.doubleQuote)return t.tokenize=i(n),t.tokenize(e,t);if((h.nCharCast&&("n"==n||"N"==n)||h.charsetCast&&"_"==n&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(/^[\(\),\;\[\]]/.test(n))return null;if(h.commentSlashSlash&&"/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(h.commentHash&&"#"==n||"-"==n&&e.eat("-")&&(!h.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==n&&e.eat("*"))return t.tokenize=o,t.tokenize(e,t);if("."!=n){if(p.test(n))return e.eatWhile(p),null;if("{"==n&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var s=e.current().toLowerCase();return m.hasOwnProperty(s)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":c.hasOwnProperty(s)?"atom":u.hasOwnProperty(s)?"builtin":d.hasOwnProperty(s)?"keyword":l.hasOwnProperty(s)?"string-2":null}return h.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":h.ODBCdotTable&&e.match(/^[a-zA-Z_]+/)?"variable-2":void 0}function i(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){n.tokenize=r;break}o=!o&&"\\"==i}return"string"}}function o(e,t){for(;;){if(!e.skipTo("*")){e.skipToEnd();break}if(e.next(),e.eat("/")){t.tokenize=r;break}}return"comment"}function s(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}function a(e){e.indent=e.context.indent,e.context=e.context.prev}var l=n.client||{},c=n.atoms||{false:!0,true:!0,null:!0},u=n.builtin||{},d=n.keywords||{},p=n.operatorChars||/^[*+\-%<>!=&|~^]/,h=n.support||{},f=n.hooks||{},m=n.dateSQL||{date:!0,time:!0,timestamp:!0};return{startState:function(){return{tokenize:r,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var r=e.current();return"("==r?s(e,t,")"):"["==r?s(e,t,"]"):t.context&&t.context.type==r&&a(t),n},indent:function(n,r){var i=n.context;if(!i)return e.Pass;var o=r.charAt(0)==i.type;return i.align?i.col+(o?0:1):i.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:h.commentSlashSlash?"//":h.commentHash?"#":null}}),function(){function t(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function r(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function o(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var s="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";e.defineMIME("text/x-sql",{name:"sql",keywords:o(s+"begin"),builtin:o("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(s+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec"),builtin:o("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":r}}),e.defineMIME("text/x-mysql",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(s+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":i}}),e.defineMIME("text/x-mariadb",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(s+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),
builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":i}}),e.defineMIME("text/x-sqlite",{name:"sql",client:o("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:o(s+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:o("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|\/~]/,dateSQL:o("date time timestamp datetime"),support:o("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":r,":":r,"?":r,$:r,'"':n,"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:o("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:o("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:o("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:o("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:o("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:o("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:o("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:o("date time timestamp"),support:o("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:o("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:o("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:o("source"),keywords:o(s+"a abort abs absent absolute access according action ada add admin after aggregate all allocate also always analyse analyze any are array array_agg array_max_cardinality asensitive assertion assignment asymmetric at atomic attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli binary bit_length blob blocked bom both breadth c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain characteristics characters character_length character_set_catalog character_set_name character_set_schema char_length check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column columns column_name command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constraint constraints constraint_catalog constraint_name constraint_schema constructor contains content continue control conversion convert copy corr corresponding cost covar_pop covar_samp cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datetime_interval_code datetime_interval_precision day db deallocate dec declare default defaults deferrable deferred defined definer degree delimiter delimiters dense_rank depth deref derived describe descriptor deterministic diagnostics dictionary disable discard disconnect dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain dynamic dynamic_function dynamic_function_code each element else empty enable encoding encrypted end end-exec end_frame end_partition enforced enum equals escape event every except exception exclude excluding exclusive exec execute exists exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreign fortran forward found frame_row free freeze fs full function functions fusion g general generated get global go goto grant granted greatest grouping groups handler header hex hierarchy hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import including increment indent index indexes indicator inherit inherits initially inline inner inout input insensitive instance instantiable instead integrity intersect intersection invoker isnull isolation k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like_regex link listen ln load local localtime localtimestamp location locator lock locked logged lower m map mapping match matched materialized max maxvalue max_cardinality member merge message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized nothing notify notnull nowait nth_value ntile null nullable nullif nulls number object occurrences_regex octets octet_length of off offset oids old only open operator option options ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password percent percentile_cont percentile_disc percent_rank period permission placing plans pli policy portion position position_regex power precedes preceding prepare prepared preserve primary prior privileges procedural procedure program public quote range rank read reads reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns revoke right role rollback rollup routine routine_catalog routine_name routine_schema row rows row_count row_number rule savepoint scale schema schema_name scope scope_catalog scope_name scope_schema scroll search second section security selective self sensitive sequence sequences serializable server server_name session session_user setof sets share show similar simple size skip snapshot some source space specific specifictype specific_name sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset substring substring_regex succeeds sum symmetric sysid system system_time system_user t tables tablesample tablespace table_name temp template temporary then ties timezone_hour timezone_minute to token top_level_count trailing transaction transactions_committed transactions_rolled_back transaction_active transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted unique unknown unlink unlisten unlogged unnamed unnest until untyped upper uri usage user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of varbinary variadic var_pop var_samp verbose version versioning view views volatile when whenever whitespace width_bucket window within work wrapper write xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes loop repeat"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-gql",{name:"sql",keywords:o("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:o("false true"),builtin:o("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/})}()})},function(e,exports,t){e.exports=!t(144)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,exports,t){var n=t(141);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,exports){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,exports,t){"use strict";var n=t(223),r=t(65),i=t(225),o=t(146),s=t(145),a=t(88),l=t(536),c=t(148),u=t(41).getProto,d=t(52)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",f="keys",m="values",_=function(){return this};e.exports=function(e,t,g,v,y,b,w){l(g,t,v);var x,k,A=function(e){if(!p&&e in j)return j[e];switch(e){case f:return function(){return new g(this,e)};case m:return function(){return new g(this,e)}}return function(){return new g(this,e)}},C=t+" Iterator",E=y==m,S=!1,j=e.prototype,M=j[d]||j[h]||y&&j[y],T=M||A(y);if(M){var O=u(T.call(new e));c(O,C,!0),!n&&s(j,h)&&o(O,d,_),E&&M.name!==m&&(S=!0,T=function(){return M.call(this)})}if(n&&!w||!p&&!S&&j[d]||o(j,d,T),a[t]=T,a[C]=_,y)if(x={values:E?T:A(m),keys:b?T:A(f),entries:E?A("entries"):T},w)for(k in x)k in j||i(j,k,x[k]);else r(r.P+r.F*(p||S),t,x);return x}},function(e,exports){e.exports=!0},function(e,exports,t){var $=t(41),n=t(89),r=$.isEnum;e.exports=function(e){return function(t){for(var i,o=n(t),s=$.getKeys(o),a=s.length,l=0,c=[];a>l;)r.call(o,i=s[l++])&&c.push(e?[i,o[i]]:o[i]);return c}}},function(e,exports,t){e.exports=t(146)},function(e,exports,t){var n=t(109),r="__core-js_shared__",i=n[r]||(n[r]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,exports){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e,exports,t){var n=t(143);e.exports=function(e){return Object(n(e))}},function(e,exports){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},function(e,exports,t){"use strict";var n=t(542)(!0);t(222)(String,"String",function(e){this._t=e+"",this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,exports){"use strict";function t(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")!==-1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=(0,a.default)(e);return n?n.innerWidth:t?e.clientWidth:(0,o.default)(e).width}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(91),o=n(i),s=t(66),a=n(s);e.exports=exports.default},function(e,exports){"use strict";function t(e){return e.replace(n,"-$1").toLowerCase()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var n=/([A-Z])/g;e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if((!o||e)&&i.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return o};var r=t(54),i=n(r),o=void 0;e.exports=exports.default},function(e,exports,t){"use strict";var n=t(42),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!0),{remove:function(){e.removeEventListener(t,r,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=r},function(e,exports){"use strict";function t(e){try{e.focus()}catch(e){}}e.exports=t},function(e,exports){"use strict";function t(e){if(e=e||("undefined"!=typeof document?document:void 0),void 0===e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=t},,function(e,exports,t){function n(e){return null!=e&&i(e.length)&&!r(e)}var r=t(842),i=t(598);e.exports=n},function(e,exports){function t(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=t},function(e,exports,t){function n(e){return"symbol"==typeof e||i(e)&&r(e)==o}var r=t(133),i=t(134),o="[object Symbol]";e.exports=n},function(e,exports,t){"use strict";var n=t(604);e.exports=function(e){var t=!1;return n(e,t)}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(50),b=n(y),w={active:v.default.bool,href:v.default.string,title:v.default.node,target:v.default.string},x={active:!1},k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.href,r=e.title,o=e.target,a=e.className,l=(0,s.default)(e,["active","href","title","target","className"]),c={href:n,title:r,target:o};return _.default.createElement("li",{className:(0,f.default)(a,{active:t})},t?_.default.createElement("span",l):_.default.createElement(b.default,(0,i.default)({},l,c)))},t}(_.default.Component);k.propTypes=w,k.defaultProps=x,exports.default=k,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(121),b=n(y),w=t(93),x=n(w),k=t(10),A={vertical:v.default.bool,justified:v.default.bool,block:(0,b.default)(v.default.bool,function(e){var t=e.block,n=e.vertical;return t&&!n?Error("`block` requires `vertical` to be set to have any effect"):null})},C={block:!1,justified:!1,vertical:!1},E=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,r=t.justified,o=t.vertical,a=t.className,l=(0,s.default)(t,["block","justified","vertical","className"]),c=(0,k.splitBsProps)(l),u=c[0],d=c[1],p=(0,i.default)({},(0,k.getClassSet)(u),(e={},e[(0,k.prefix)(u)]=!o,e[(0,k.prefix)(u,"vertical")]=o,e[(0,k.prefix)(u,"justified")]=r,e[(0,k.prefix)(x.default.defaultProps,"block")]=n,e));return _.default.createElement("div",(0,i.default)({},d,{className:(0,f.default)(a,p)}))},t}(_.default.Component);E.propTypes=A,E.defaultProps=C,exports.default=(0,k.bsClass)("btn-group",E),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(29),b=n(y),w=t(666),x=n(w),k={direction:v.default.oneOf(["prev","next"]),onAnimateOutEnd:v.default.func,active:v.default.bool,animateIn:v.default.bool,animateOut:v.default.bool,index:v.default.number},A={active:!1,animateIn:!1,animateOut:!1},C=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handleAnimateOutEnd=i.handleAnimateOutEnd.bind(i),i.state={direction:null},i.isUnmounted=!1,i}return(0,p.default)(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.active!==e.active&&this.setState({direction:null})},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.active,r=e.active;!n&&r&&x.default.addEndEventListener(b.default.findDOMNode(this),this.handleAnimateOutEnd),n!==r&&setTimeout(function(){return t.startAnimation()},20)},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},t.prototype.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.active,r=e.animateIn,o=e.animateOut,a=e.className,l=(0,s.default)(e,["direction","active","animateIn","animateOut","className"]);delete l.onAnimateOutEnd,delete l.index;var c={item:!0,active:n&&!r||o};return t&&n&&r&&(c[t]=!0),this.state.direction&&(r||o)&&(c[this.state.direction]=!0),_.default.createElement("div",(0,i.default)({},l,{className:(0,f.default)(a,c)}))},t}(_.default.Component);C.propTypes=k,C.defaultProps=A,exports.default=C,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(1),f=n(h),m=t(11),_=n(m),g=t(3),v=n(g),y=t(93),b=n(y),w=t(50),x=n(w),k=t(10),A={noCaret:_.default.bool,open:_.default.bool,title:_.default.string,useAnchor:_.default.bool},C={open:!1,useAnchor:!1,bsRole:"toggle"},E=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,r=e.useAnchor,o=e.bsClass,a=e.className,l=e.children,c=(0,s.default)(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete c.bsRole;var u=r?x.default:b.default,d=!t;return f.default.createElement(u,(0,i.default)({},c,{role:"button",className:(0,v.default)(a,o),"aria-haspopup":!0,"aria-expanded":n}),l||c.title,d&&" ",d&&f.default.createElement("span",{className:"caret"}))},t}(f.default.Component);E.propTypes=A,E.defaultProps=C,exports.default=(0,k.bsClass)("dropdown-toggle",E),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(10),x={fluid:v.default.bool,componentClass:b.default},k={componentClass:"div",fluid:!1},A=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,n=e.componentClass,r=e.className,o=(0,s.default)(e,["fluid","componentClass","className"]),a=(0,w.splitBsProps)(o),l=a[0],c=a[1],u=(0,w.prefix)(l,t&&"fluid");return _.default.createElement(n,(0,i.default)({},c,{className:(0,f.default)(r,u)}))},t}(_.default.Component);A.propTypes=x,A.defaultProps=k,exports.default=(0,w.bsClass)("container",A),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(75),i=n(r),o=t(7),s=n(o),a=t(8),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(1),v=n(g),y=t(11),b=n(y),w=t(10),x=t(34),k={active:b.default.any,disabled:b.default.any,header:b.default.node,listItem:b.default.bool,onClick:b.default.func,href:b.default.string,type:b.default.string},A={listItem:!1},C=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.renderHeader=function(e,t){return v.default.isValidElement(e)?(0,g.cloneElement)(e,{className:(0,_.default)(e.props.className,t)}):v.default.createElement("h4",{className:t},e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.className,i=e.header,o=e.listItem,a=e.children,c=(0,l.default)(e,["active","disabled","className","header","listItem","children"]),u=(0,w.splitBsProps)(c),d=u[0],p=u[1],h=(0,s.default)({},(0,w.getClassSet)(d),{active:t,disabled:n}),f=void 0;return p.href?f="a":p.onClick?(f="button",p.type=p.type||"button"):f=o?"li":"span",p.className=(0,_.default)(r,h),i?v.default.createElement(f,p,this.renderHeader(i,(0,w.prefix)(d,"heading")),v.default.createElement("p",{className:(0,w.prefix)(d,"text")},a)):v.default.createElement(f,p,a)},t}(v.default.Component);C.propTypes=k,C.defaultProps=A,exports.default=(0,w.bsClass)("list-group-item",(0,w.bsStyles)((0,i.default)(x.State),C)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"div"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("modal-body",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"div"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("modal-footer",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b=t(32),w=n(b),x={"aria-label":v.default.string,closeButton:v.default.bool,onHide:v.default.func},k={"aria-label":"Close",closeButton:!1},A={$bs_modal:v.default.shape({onHide:v.default.func})},C=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e["aria-label"],n=e.closeButton,r=e.onHide,o=e.className,a=e.children,l=(0,s.default)(e,["aria-label","closeButton","onHide","className","children"]),c=this.context.$bs_modal,u=(0,y.splitBsProps)(l),d=u[0],p=u[1],h=(0,y.getClassSet)(d);return _.default.createElement("div",(0,i.default)({},p,{className:(0,f.default)(o,h)}),n&&_.default.createElement("button",{type:"button",className:"close","aria-label":t,onClick:(0,w.default)(c&&c.onHide,r)},_.default.createElement("span",{"aria-hidden":"true"},"×")),a)},t}(_.default.Component);C.propTypes=x,C.defaultProps=k,C.contextTypes=A,exports.default=(0,y.bsClass)("modal-header",C),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"h4"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("modal-title",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(154),_=n(m),g=t(1),v=n(g),y=t(11),b=n(y),w=t(29),x=n(w),k=t(121),A=n(k),C=t(44),E=(n(C),t(10)),S=t(32),j=n(S),M=t(38),T=n(M),O={
activeKey:b.default.any,activeHref:b.default.string,stacked:b.default.bool,justified:(0,A.default)(b.default.bool,function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null}),onSelect:b.default.func,role:b.default.string,navbar:b.default.bool,pullRight:b.default.bool,pullLeft:b.default.bool},N={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},I={$bs_navbar:b.default.shape({bsClass:b.default.string,onSelect:b.default.func}),$bs_tabContainer:b.default.shape({activeKey:b.default.any,onSelect:b.default.func.isRequired,getTabId:b.default.func.isRequired,getPaneId:b.default.func.isRequired})},D=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.componentDidUpdate=function(){var e=this;if(this._needsRefocus){this._needsRefocus=!1;var t=this.props.children,n=this.getActiveProps(),r=n.activeKey,i=n.activeHref,o=T.default.find(t,function(t){return e.isActive(t,r,i)}),s=T.default.toArray(t),a=s.indexOf(o),l=x.default.findDOMNode(this).children,c=l&&l[a];c&&c.firstChild&&c.firstChild.focus()}},t.prototype.handleTabKeyDown=function(e,t){var n=void 0;switch(t.keyCode){case _.default.codes.left:case _.default.codes.up:n=this.getNextActiveChild(-1);break;case _.default.codes.right:case _.default.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},t.prototype.getNextActiveChild=function(e){var t=this,n=this.props.children,r=n.filter(function(e){return null!=e.props.eventKey&&!e.props.disabled}),i=this.getActiveProps(),o=i.activeKey,s=i.activeHref,a=T.default.find(n,function(e){return t.isActive(e,o,s)}),l=r.indexOf(a);if(l===-1)return r[0];var c=l+e,u=r.length;return c>=u?c=0:c<0&&(c=u-1),r[c]},t.prototype.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e?e:this.props},t.prototype.isActive=function(e,t,n){var r=e.props;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||r.active},t.prototype.getTabProps=function(e,t,n,r,i){var o=this;if(!t&&"tablist"!==n)return null;var s=e.props,a=s.id,l=s["aria-controls"],c=s.eventKey,u=s.role,d=s.onKeyDown,p=s.tabIndex;return t&&(a=t.getTabId(c),l=t.getPaneId(c)),"tablist"===n&&(u=u||"tab",d=(0,j.default)(function(e){return o.handleTabKeyDown(i,e)},d),p=r?p:-1),{id:a,role:u,onKeyDown:d,"aria-controls":l,tabIndex:p}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.stacked,o=n.justified,a=n.onSelect,l=n.role,c=n.navbar,u=n.pullRight,d=n.pullLeft,p=n.className,h=n.children,m=(0,s.default)(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),_=this.context.$bs_tabContainer,y=l||(_?"tablist":null),b=this.getActiveProps(),w=b.activeKey,x=b.activeHref;delete m.activeKey,delete m.activeHref;var k=(0,E.splitBsProps)(m),A=k[0],C=k[1],S=(0,i.default)({},(0,E.getClassSet)(A),(e={},e[(0,E.prefix)(A,"stacked")]=r,e[(0,E.prefix)(A,"justified")]=o,e)),M=null!=c?c:this.context.$bs_navbar,O=void 0,N=void 0;if(M){var I=this.context.$bs_navbar||{bsClass:"navbar"};S[(0,E.prefix)(I,"nav")]=!0,N=(0,E.prefix)(I,"right"),O=(0,E.prefix)(I,"left")}else N="pull-right",O="pull-left";return S[N]=u,S[O]=d,v.default.createElement("ul",(0,i.default)({},C,{role:y,className:(0,f.default)(p,S)}),T.default.map(h,function(e){var n=t.isActive(e,w,x),r=(0,j.default)(e.props.onSelect,a,M&&M.onSelect,_&&_.onSelect);return(0,g.cloneElement)(e,(0,i.default)({},t.getTabProps(e,_,y,n,r),{active:n,activeKey:w,activeHref:x,onSelect:r}))}))},t}(v.default.Component);D.propTypes=O,D.defaultProps=N,D.contextTypes=I,exports.default=(0,E.bsClass)("nav",(0,E.bsStyles)(["tabs","pills"],D)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(50),b=n(y),w=t(32),x=n(w),k={active:v.default.bool,disabled:v.default.bool,role:v.default.string,href:v.default.string,onClick:v.default.func,onSelect:v.default.func,eventKey:v.default.any},A={active:!1,disabled:!1},C=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,p.default)(t,e),t.prototype.handleClick=function(e){this.props.onSelect&&(e.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,e))},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.onClick,o=e.className,a=e.style,l=(0,s.default)(e,["active","disabled","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,delete l.activeKey,delete l.activeHref,l.role?"tab"===l.role&&(l["aria-selected"]=t):"#"===l.href&&(l.role="button"),_.default.createElement("li",{role:"presentation",className:(0,f.default)(o,{active:t,disabled:n}),style:a},_.default.createElement(b.default,(0,i.default)({},l,{disabled:n,onClick:(0,x.default)(r,this.handleClick)})))},t}(_.default.Component);C.propTypes=k,C.defaultProps=A,exports.default=C,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b={$bs_navbar:v.default.shape({bsClass:v.default.string})},w=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=(0,s.default)(e,["className","children"]),o=this.context.$bs_navbar||{bsClass:"navbar"},a=(0,y.prefix)(o,"brand");return _.default.isValidElement(n)?_.default.cloneElement(n,{className:(0,f.default)(n.props.className,t,a)}):_.default.createElement("span",(0,i.default)({},r,{className:(0,f.default)(t,a)}),n)},t}(_.default.Component);w.contextTypes=b,exports.default=w,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(7),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(732),b=n(y),w=t(21),x=n(w),k=t(114),A=n(k),C=(0,p.default)({},b.default.propTypes,{show:v.default.bool,rootClose:v.default.bool,onHide:v.default.func,animation:v.default.oneOfType([v.default.bool,x.default]),onEnter:v.default.func,onEntering:v.default.func,onEntered:v.default.func,onExit:v.default.func,onExiting:v.default.func,onExited:v.default.func,placement:v.default.oneOf(["top","right","bottom","left"])}),E={animation:A.default,rootClose:!1,show:!1,placement:"right"},S=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.animation,n=e.children,r=(0,i.default)(e,["animation","children"]),o=t===!0?A.default:t||null,s=void 0;return s=o?n:(0,m.cloneElement)(n,{className:(0,f.default)(n.props.className,"in")}),_.default.createElement(b.default,(0,p.default)({},r,{transition:o}),s)},t}(_.default.Component);S.propTypes=C,S.defaultProps=E,exports.default=S,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(50),b=n(y),w=t(32),x=n(w),k={disabled:v.default.bool,previous:v.default.bool,next:v.default.bool,onClick:v.default.func,onSelect:v.default.func,eventKey:v.default.any},A={disabled:!1,previous:!1,next:!1},C=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i}return(0,p.default)(t,e),t.prototype.handleSelect=function(e){var t=this.props,n=t.disabled,r=t.onSelect,i=t.eventKey;(r||n)&&e.preventDefault(),n||r&&r(i,e)},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.previous,r=e.next,o=e.onClick,a=e.className,l=e.style,c=(0,s.default)(e,["disabled","previous","next","onClick","className","style"]);return delete c.onSelect,delete c.eventKey,_.default.createElement("li",{className:(0,f.default)(a,{disabled:t,previous:n,next:r}),style:l},_.default.createElement(b.default,(0,i.default)({},c,{disabled:t,onClick:(0,x.default)(o,this.handleSelect)})))},t}(_.default.Component);C.propTypes=k,C.defaultProps=A,exports.default=C,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(50),x=n(w),k=t(32),A=n(k),C={componentClass:b.default,className:v.default.string,eventKey:v.default.any,onSelect:v.default.func,disabled:v.default.bool,active:v.default.bool,onClick:v.default.func},E={componentClass:x.default,active:!1,disabled:!1},S=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,p.default)(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.disabled,r=t.onSelect,i=t.eventKey;n||r&&r(i,e)},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.active,r=e.disabled,o=e.onClick,a=e.className,l=e.style,c=(0,s.default)(e,["componentClass","active","disabled","onClick","className","style"]);return t===x.default&&delete c.eventKey,delete c.onSelect,_.default.createElement("li",{className:(0,f.default)(a,{active:n,disabled:r}),style:l},_.default.createElement(t,(0,i.default)({},c,{disabled:r,onClick:(0,A.default)(o,this.handleClick)})))},t}(_.default.Component);S.propTypes=C,S.defaultProps=E,exports.default=S,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(208),s=n(o),a=t(8),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(1),v=n(g),y=t(11),b=n(y),w=t(10),x=t(32),k=n(x),A=t(38),C=n(A),E={accordion:b.default.bool,activeKey:b.default.any,defaultActiveKey:b.default.any,onSelect:b.default.func,role:b.default.string},S={accordion:!1},j=function(e){function t(n,r){(0,u.default)(this,t);var i=(0,p.default)(this,e.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i.state={activeKey:n.defaultActiveKey},i}return(0,f.default)(t,e),t.prototype.handleSelect=function(e,t){t.preventDefault(),this.props.onSelect&&this.props.onSelect(e,t),this.state.activeKey===e&&(e=null),this.setState({activeKey:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.accordion,r=t.activeKey,o=t.className,a=t.children,c=(0,l.default)(t,["accordion","activeKey","className","children"]),u=(0,w.splitBsPropsAndOmit)(c,["defaultActiveKey","onSelect"]),d=u[0],p=u[1],h=void 0;n&&(h=null!=r?r:this.state.activeKey,p.role=p.role||"tablist");var f=(0,w.getClassSet)(d);return v.default.createElement("div",(0,i.default)({},p,{className:(0,_.default)(o,f)}),C.default.map(a,function(t){var r={bsStyle:t.props.bsStyle||d.bsStyle};return n&&(0,s.default)(r,{headerRole:"tab",panelRole:"tabpanel",collapsible:!0,expanded:t.props.eventKey===h,onSelect:(0,k.default)(e.handleSelect,t.props.onSelect)}),(0,g.cloneElement)(t,r)}))},t}(v.default.Component);j.propTypes=E,j.defaultProps=S,exports.default=(0,w.bsClass)("panel-group",j),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(44),x=(n(w),t(10)),k=t(32),A=n(k),C=t(114),E=n(C),S={eventKey:v.default.any,animation:v.default.oneOfType([v.default.bool,b.default]),id:v.default.string,"aria-labelledby":v.default.string,bsClass:v.default.string,onEnter:v.default.func,onEntering:v.default.func,onEntered:v.default.func,onExit:v.default.func,onExiting:v.default.func,onExited:v.default.func,mountOnEnter:v.default.bool,unmountOnExit:v.default.bool},j={$bs_tabContainer:v.default.shape({getTabId:v.default.func,getPaneId:v.default.func}),$bs_tabContent:v.default.shape({bsClass:v.default.string,animation:v.default.oneOfType([v.default.bool,b.default]),activeKey:v.default.any,mountOnEnter:v.default.bool,unmountOnExit:v.default.bool,onPaneEnter:v.default.func.isRequired,onPaneExited:v.default.func.isRequired,exiting:v.default.bool.isRequired})},M={$bs_tabContainer:v.default.oneOf([null])},T=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleExited=i.handleExited.bind(i),i.in=!1,i}return(0,p.default)(t,e),t.prototype.getChildContext=function(){return{$bs_tabContainer:null}},t.prototype.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},t.prototype.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},t.prototype.componentWillUnmount=function(){this.in&&this.handleExited()},t.prototype.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},t.prototype.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},t.prototype.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var e=this.context.$bs_tabContent;return e&&e.animation},t.prototype.isActive=function(){var e=this.context.$bs_tabContent,t=e&&e.activeKey;return this.props.eventKey===t},t.prototype.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},t.prototype.render=function(){var e=this.props,t=e.eventKey,n=e.className,r=e.onEnter,o=e.onEntering,a=e.onEntered,l=e.onExit,c=e.onExiting,u=e.onExited,d=e.mountOnEnter,p=e.unmountOnExit,h=(0,s.default)(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),m=this.context,g=m.$bs_tabContent,v=m.$bs_tabContainer,y=(0,x.splitBsPropsAndOmit)(h,["animation"]),b=y[0],w=y[1],k=this.isActive(),C=this.getAnimation(),S=null!=d?d:g&&g.mountOnEnter,j=null!=p?p:g&&g.unmountOnExit;if(!k&&!C&&j)return null;var M=C===!0?E.default:C||null;g&&(b.bsClass=(0,x.prefix)(g,"pane"));var T=(0,i.default)({},(0,x.getClassSet)(b),{active:k});v&&(w.id=v.getPaneId(t),w["aria-labelledby"]=v.getTabId(t));var O=_.default.createElement("div",(0,i.default)({},w,{role:"tabpanel","aria-hidden":!k,className:(0,f.default)(n,T)}));if(M){var N=g&&g.exiting;return _.default.createElement(M,{in:k&&!N,onEnter:(0,A.default)(this.handleEnter,r),onEntering:o,onEntered:a,onExit:l,onExiting:c,onExited:(0,A.default)(this.handleExited,u),mountOnEnter:S,unmountOnExit:j},O)}return O},t}(_.default.Component);T.propTypes=S,T.contextTypes=j,T.childContextTypes=M,exports.default=(0,x.bsClass)("tab-pane",T),e.exports=exports.default},function(e,exports){"use strict";function t(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}exports.__esModule=!0,exports.default=t,e.exports=exports.default},function(e,exports){"use strict";function t(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){r.forEach(function(r){n[t(r,e)]=n[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},o={isUnitlessNumber:n,shorthandPropertyExpansions:i};e.exports=o},function(e,exports,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=t(20),i=t(67),o=(t(14),function(){function e(t){n(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length?r("24"):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=i.addPoolingTo(o)},function(e,exports,t){"use strict";function n(e){return!!l.hasOwnProperty(e)||!a.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(a[e]=!0,!1))}function r(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var i=t(79),o=(t(28),t(45),t(724)),s=(t(18),RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),a={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+o(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(r(n,t))return"";var s=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?s+'=""':s+"="+o(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+o(t):""},setValueForProperty:function(e,t,n){var o=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(o){var s=o.mutationMethod;if(s)s(e,n);else{if(r(o,n))return void this.deleteValueForProperty(e,t);if(o.mustUseProperty)e[o.propertyName]=n;else{var a=o.attributeName,l=o.attributeNamespace;l?e.setAttributeNS(l,a,""+n):o.hasBooleanValue||o.hasOverloadedBooleanValue&&n===!0?e.setAttribute(a,""):e.setAttribute(a,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,r){if(n(t)){null==r?e.removeAttribute(t):e.setAttribute(t,""+r)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,exports){"use strict";var t={hasCachedChildNodes:1};e.exports=t},function(e,exports,t){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&r(this,!!e.multiple,t)}}function r(e,t,n){var r,i,o=a.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var s=r.hasOwnProperty(o[i].value);o[i].selected!==s&&(o[i].selected=s)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function i(e){var t=this._currentElement.props,r=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(n,this),r}var o=t(25),s=t(167),a=t(28),l=t(47),c=(t(18),!1),u={getHostProps:function(e,t){return o({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!t.multiple;var i=s.getValue(t);null!=i?(e._wrapperState.pendingUpdate=!1,r(e,!!t.multiple,i)):n!==!!t.multiple&&(null!=t.defaultValue?r(e,!!t.multiple,t.defaultValue):r(e,!!t.multiple,t.multiple?[]:""))}};e.exports=u},function(e,exports){"use strict";var t,n={injectEmptyComponentFactory:function(e){t=e}},r={create:function(e){return t(e)}};r.injection=n,e.exports=r},function(e,exports){"use strict";var t={logTopLevelRenders:!1};e.exports=t},function(e,exports,t){"use strict";function n(e){return s?void 0:o("111",e.type),new s(e)}function r(e){return new a(e)}function i(e){return e instanceof a}var o=t(20),s=(t(14),null),a=null,l={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){a=e}},c={createInternalComponent:n,createInstanceForText:r,isTextComponent:i,injection:l};e.exports=c},function(e,exports,t){"use strict";function n(e){return i(document.documentElement,e)}var r=t(689),i=t(575),o=t(236),s=t(237),a={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:a.hasSelectionCapabilities(e)?a.getSelection(e):null}},restoreSelection:function(e){var t=s(),r=e.focusedElem,i=e.selectionRange;t!==r&&n(r)&&(a.hasSelectionCapabilities(r)&&a.setSelection(r,i),o(r))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if(void 0===i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};e.exports=a},function(e,exports,t){"use strict";function n(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function r(e){return e?e.nodeType===I?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(T)||""}function o(e,t,n,r,i){var o;if(b.logTopLevelRenders){var s=e._currentElement.props.child,a=s.type;o="React mount: "+("string"==typeof a?a:a.displayName||a.name),console.time(o)}var l=k.mountComponent(e,n,null,v(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,P._mountImageIntoNode(l,t,e,r,n)}function s(e,t,n,r){var i=C.ReactReconcileTransaction.getPooled(!n&&y.useCreateElement);i.perform(o,null,e,t,i,n,r),C.ReactReconcileTransaction.release(i)}function a(e,t,n){for(k.unmountComponent(e,n),t.nodeType===I&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=r(e);if(t){var n=g.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==N&&e.nodeType!==I&&e.nodeType!==D)}function u(e){var t=r(e),n=t&&g.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=u(e);return t?t._hostContainerInfo._topLevelWrapper:null}var p=t(20),h=t(78),f=t(79),m=t(72),_=t(116),g=(t(57),t(28)),v=t(318),y=t(685),b=t(268),w=t(96),x=(t(45),t(321)),k=t(71),A=t(170),C=t(47),E=t(85),S=t(192),j=(t(14),t(120)),M=t(176),T=(t(18),f.ID_ATTRIBUTE_NAME),O=f.ROOT_ATTRIBUTE_NAME,N=1,I=9,D=11,L={},z=1,R=function(){this.rootID=z++};R.prototype.isReactComponent={},R.prototype.render=function(){return this.props.child},R.isReactTopLevelWrapper=!0;var P={TopLevelWrapper:R,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return P.scrollMonitor(r,function(){A.enqueueElementInternal(e,t,n),i&&A.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:p("37"),_.ensureScrollValueMonitoring();var i=S(e,!1);C.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return L[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&w.has(e)?void 0:p("38"),P._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,o){A.validateCallback(o,"ReactDOM.render"),m.isValidElement(t)?void 0:p("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var s,a=m.createElement(R,{child:t});if(e){var c=w.get(e);s=c._processChildContext(c._context)}else s=E;var u=d(n);if(u){var h=u._currentElement,f=h.props.child;if(M(f,t)){var _=u._renderedComponent.getPublicInstance(),g=o&&function(){o.call(_)};return P._updateRootComponent(u,a,s,n,g),_}P.unmountComponentAtNode(n)}var v=r(n),y=v&&!!i(v),b=l(n),x=y&&!u&&!b,k=P._renderNewRootComponent(a,n,x,s)._renderedComponent.getPublicInstance();return o&&o.call(k),k},render:function(e,t,n){return P._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:p("40");var t=d(e);if(!t){l(e),1===e.nodeType&&e.hasAttribute(O);return!1}return delete L[t._instance.rootID],C.batchedUpdates(a,t,e,!1),!0},_mountImageIntoNode:function(e,t,i,o,s){if(c(t)?void 0:p("41"),o){var a=r(t);if(x.canReuseMarkup(e,a))return void g.precacheNode(i,a);var l=a.getAttribute(x.CHECKSUM_ATTR_NAME);a.removeAttribute(x.CHECKSUM_ATTR_NAME);var u=a.outerHTML;a.setAttribute(x.CHECKSUM_ATTR_NAME,l);var d=e,f=n(d,u),m=" (client) "+d.substring(f-20,f+20)+"\n (server) "+u.substring(f-20,f+20);t.nodeType===I?p("42",m):void 0}if(t.nodeType===I?p("43"):void 0,s.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else j(t,e),g.precacheNode(i,t.firstChild)}};e.exports=P},function(e,exports,t){"use strict";var n=t(20),r=t(72),i=(t(14),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:r.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void n("26",e)}});e.exports=i},function(e,exports){"use strict";var t={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){t.currentScrollLeft=e.x,t.currentScrollTop=e.y}};e.exports=t},function(e,exports,t){"use strict";function n(e,t){return null==t?r("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var r=t(20);t(14);e.exports=n},function(e,exports){"use strict";function t(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=t},function(e,exports,t){"use strict";function n(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.HOST?e._renderedComponent:t===r.EMPTY?null:void 0}var r=t(272);e.exports=n},function(e,exports,t){"use strict";function n(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=t(35),i=null;e.exports=n},function(e,exports){"use strict";function t(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!n[e.type]:"textarea"===t}var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=t},function(e,exports,t){"use strict";var n=t(35),r=t(119),i=t(120),o=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void i(e,r(t))})),e.exports=o},function(e,exports,t){"use strict";function n(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function r(e,t,i,d){var p=typeof e;if("undefined"!==p&&"boolean"!==p||(e=null),null===e||"string"===p||"number"===p||"object"===p&&e.$$typeof===s)return i(d,e,""===t?c+n(e,0):t),1;var h,f,m=0,_=""===t?c:t+u;if(Array.isArray(e))for(var g=0;g<e.length;g++)h=e[g],f=_+n(h,g),m+=r(h,f,i,d);else{var v=a(e);if(v){var y,b=v.call(e);if(v!==e.entries)for(var w=0;!(y=b.next()).done;)h=y.value,f=_+n(h,w++),m+=r(h,f,i,d);else for(;!(y=b.next()).done;){var x=y.value;x&&(h=x[1],f=_+l.escape(x[0])+u+n(h,0),m+=r(h,f,i,d))}}else if("object"===p){var k="",A=e+"";o("31","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,k)}}return m}function i(e,t,n){return null==e?0:r(e,"",t,n)}var o=t(20),s=(t(57),t(693)),a=t(721),l=(t(14),t(166)),c=(t(18),"."),u=":";e.exports=i},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(1),i=n(r),o=t(29),s=n(o),a=t(179),l=n(a),c=t(98),u=n(c),d=t(178),p=n(d),h=i.default.createClass({displayName:"Portal",propTypes:{container:i.default.PropTypes.oneOfType([l.default,i.default.PropTypes.func])},componentDidMount:function(){this._renderOverlay()},componentDidUpdate:function(){this._renderOverlay()},componentWillReceiveProps:function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,p.default)(e.container,(0,u.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},componentWillUnmount:function(){this._unrenderOverlay(),this._unmountOverlayTarget()},_mountOverlayTarget:function(){this._overlayTarget||(this._overlayTarget=document.createElement("div"),this._portalContainerNode=(0,p.default)(this.props.container,(0,u.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},_unmountOverlayTarget:function(){this._overlayTarget&&(this._portalContainerNode.removeChild(this._overlayTarget),this._overlayTarget=null),this._portalContainerNode=null},_renderOverlay:function(){var e=this.props.children?i.default.Children.only(this.props.children):null;null!==e?(this._mountOverlayTarget(),this._overlayInstance=s.default.unstable_renderSubtreeIntoContainer(this,e,this._overlayTarget)):(this._unrenderOverlay(),this._unmountOverlayTarget())},_unrenderOverlay:function(){this._overlayTarget&&(s.default.unmountComponentAtNode(this._overlayTarget),this._overlayInstance=null)},render:function(){return null},getMountNode:function(){return this._overlayTarget},getOverlayDOMNode:function(){if(!this.isMounted())throw Error("getOverlayDOMNode(): A component must be mounted to have a DOM node.");return this._overlayInstance?s.default.findDOMNode(this._overlayInstance):null}});exports.default=h,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e
}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}Object.defineProperty(exports,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=t(77),u=n(c),d=t(1),p=n(d),h=t(29),f=n(h),m=t(284),_=n(m),g=t(98),v=n(g),y=27,b=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.handleMouseCapture=function(e){o.preventMouseRootClose=a(e)||!s(e)||(0,u.default)(f.default.findDOMNode(o),e.target)},o.handleMouse=function(e){!o.preventMouseRootClose&&o.props.onRootClose&&o.props.onRootClose(e)},o.handleKeyUp=function(e){e.keyCode===y&&o.props.onRootClose&&o.props.onRootClose(e)},o.preventMouseRootClose=!1,o}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.disabled||this.addEventListeners()}},{key:"componentDidUpdate",value:function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()}},{key:"componentWillUnmount",value:function(){this.props.disabled||this.removeEventListeners()}},{key:"addEventListeners",value:function(){var e=this.props.event,t=(0,v.default)(this);this.documentMouseCaptureListener=(0,_.default)(t,e,this.handleMouseCapture,!0),this.documentMouseListener=(0,_.default)(t,e,this.handleMouse),this.documentKeyupListener=(0,_.default)(t,"keyup",this.handleKeyUp)}},{key:"removeEventListeners",value:function(){this.documentMouseCaptureListener&&this.documentMouseCaptureListener.remove(),this.documentMouseListener&&this.documentMouseListener.remove(),this.documentKeyupListener&&this.documentKeyupListener.remove()}},{key:"render",value:function(){return this.props.children}}]),t}(p.default.Component);b.displayName="RootCloseWrapper",b.propTypes={onRootClose:p.default.PropTypes.func,children:p.default.PropTypes.element,disabled:p.default.PropTypes.bool,event:p.default.PropTypes.oneOf(["click","mousedown"])},b.defaultProps={event:"click"},exports.default=b,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EXITING=exports.ENTERED=exports.ENTERING=exports.EXITED=exports.UNMOUNTED=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=t(3),d=n(u),p=t(90),h=n(p),f=t(151),m=n(f),_=t(1),g=n(_),v=t(29),y=n(v),b=m.default.end,w=exports.UNMOUNTED=0,x=exports.EXITED=1,k=exports.ENTERING=2,A=exports.ENTERED=3,C=exports.EXITING=4,E=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=void 0;return r.nextStatus=null,e.in?e.transitionAppear?(s=x,r.nextStatus=k):s=A:s=e.unmountOnExit||e.mountOnEnter?w:x,r.state={status:s},r.nextCallback=null,r}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.updateStatus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.status;e.in?(t===w&&this.setState({status:x}),t!==k&&t!==A&&(this.nextStatus=k)):t!==k&&t!==A||(this.nextStatus=C)}},{key:"componentDidUpdate",value:function(){this.updateStatus()}},{key:"componentWillUnmount",value:function(){this.cancelNextCallback()}},{key:"updateStatus",value:function(){var e=this;if(null!==this.nextStatus){this.cancelNextCallback();var t=y.default.findDOMNode(this);this.nextStatus===k?(this.props.onEnter(t),this.safeSetState({status:k},function(){e.props.onEntering(t),e.onTransitionEnd(t,function(){e.safeSetState({status:A},function(){e.props.onEntered(t)})})})):(this.props.onExit(t),this.safeSetState({status:C},function(){e.props.onExiting(t),e.onTransitionEnd(t,function(){e.safeSetState({status:x},function(){e.props.onExited(t)})})})),this.nextStatus=null}else this.props.unmountOnExit&&this.state.status===x&&this.setState({status:w})}},{key:"cancelNextCallback",value:function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)}},{key:"safeSetState",value:function(e,t){this.setState(e,this.setNextCallback(t))}},{key:"setNextCallback",value:function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback}},{key:"onTransitionEnd",value:function(e,t){this.setNextCallback(t),e?((0,h.default)(e,b,this.nextCallback),setTimeout(this.nextCallback,this.props.timeout)):setTimeout(this.nextCallback,0)}},{key:"render",value:function(){var e=this.state.status;if(e===w)return null;var n=this.props,i=n.children,o=n.className,s=r(n,["children","className"]);Object.keys(t.propTypes).forEach(function(e){return delete s[e]});var a=void 0;e===x?a=this.props.exitedClassName:e===k?a=this.props.enteringClassName:e===A?a=this.props.enteredClassName:e===C&&(a=this.props.exitingClassName);var c=g.default.Children.only(i);return g.default.cloneElement(c,l({},s,{className:(0,d.default)(c.props.className,o,a)}))}}]),t}(g.default.Component);E.propTypes={in:g.default.PropTypes.bool,mountOnEnter:g.default.PropTypes.bool,unmountOnExit:g.default.PropTypes.bool,transitionAppear:g.default.PropTypes.bool,timeout:g.default.PropTypes.number,exitedClassName:g.default.PropTypes.string,exitingClassName:g.default.PropTypes.string,enteredClassName:g.default.PropTypes.string,enteringClassName:g.default.PropTypes.string,onEnter:g.default.PropTypes.func,onEntering:g.default.PropTypes.func,onEntered:g.default.PropTypes.func,onExit:g.default.PropTypes.func,onExiting:g.default.PropTypes.func,onExited:g.default.PropTypes.func},E.displayName="Transition",E.defaultProps={in:!1,unmountOnExit:!1,transitionAppear:!1,timeout:5e3,onEnter:a,onEntering:a,onEntered:a,onExit:a,onExiting:a,onExited:a},exports.default=E},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,r){return(0,i.default)(e,t,n,r),{remove:function(){(0,s.default)(e,t,n,r)}}};var r=t(90),i=n(r),o=t(110),s=n(o);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e&&"body"===e.tagName.toLowerCase()}function i(e){var t=(0,c.default)(e),n=(0,a.default)(t),r=n.innerWidth;if(!r){var i=t.documentElement.getBoundingClientRect();r=i.right-Math.abs(i.left)}return t.body.clientWidth<r}function o(e){var t=(0,a.default)(e);return t||r(e)?i(e):e.scrollHeight>e.clientHeight}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var s=t(66),a=n(s),l=t(76),c=n(l);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(11),i=n(r);exports.default=i.default.shape({subscribe:i.default.func.isRequired,dispatch:i.default.func.isRequired,getState:i.default.func.isRequired})},function(e,exports){"use strict";function t(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(e){}}exports.__esModule=!0,exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=t(1),c=n(l),u=t(3),d=n(u),p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,i=e.readOnly,o=e.value,s=e.tabIndex,l=e.component,u=void 0===l?"input":l,p=r(e,["className","disabled","readOnly","value","tabIndex","component"]);return c.default.createElement(u,a({},p,{type:"text",tabIndex:s||0,autoComplete:"off",disabled:n,readOnly:i,"aria-disabled":n,"aria-readonly":i,value:null==o?"":o,className:(0,d.default)(t,"rw-input")}))},t}(c.default.Component);exports.default=p,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t(1),o=n(i),s=t(290),a=n(s),l=t(39),c=n(l),u=t(43),d=n(u),p=t(3),h=n(p),f=t(27),m=n(f),_=t(80),g=t(51),v=t(68),y=function(e,t){return e+"__option__"+t};exports.default=o.default.createClass({displayName:"List",mixins:[t(292),t(56)()],propTypes:{data:o.default.PropTypes.array,onSelect:o.default.PropTypes.func,onMove:o.default.PropTypes.func,optionComponent:c.default.elementType,itemComponent:c.default.elementType,selected:o.default.PropTypes.any,focused:o.default.PropTypes.any,valueField:c.default.accessor,textField:c.default.accessor,disabled:c.default.disabled.acceptsArray,readOnly:c.default.readOnly.acceptsArray,messages:o.default.PropTypes.shape({emptyList:c.default.message})},getDefaultProps:function(){return{onSelect:function(){},optionComponent:a.default,ariaActiveDescendantKey:"list",data:[],messages:{emptyList:"There are no items in this list"}}},componentDidMount:function(){this.move()},componentDidUpdate:function(){var e=this.props,t=e.data,n=e.focused,r=t.indexOf(n),i=y((0,g.instanceId)(this),r);this.ariaActiveDescendant(r!==-1?i:null),this.move()},render:function(){var e=this,t=this.props,n=t.className,i=t.role,s=t.data,a=t.textField,l=t.valueField,c=t.focused,u=t.selected,d=t.messages,p=t.onSelect,f=t.itemComponent,b=t.optionComponent,w=(0,g.instanceId)(this),x=void 0,k=m.default.omitOwnProps(this);return x=s.length?s.map(function(t,n){var r=y(w,n),i=(0,v.isDisabledItem)(t,e.props),s=(0,v.isReadOnlyItem)(t,e.props);return o.default.createElement(b,{key:"item_"+n,id:r,dataItem:t,disabled:i,readOnly:s,focused:c===t,selected:u===t,onClick:i||s?void 0:p.bind(null,t)},f?o.default.createElement(f,{item:t,value:(0,_.dataValue)(t,l),text:(0,_.dataText)(t,a),disabled:i,readOnly:s}):(0,_.dataText)(t,a))}):o.default.createElement("li",{className:"rw-list-empty"},m.default.result(d.emptyList,this.props)),o.default.createElement("ul",r({id:w,tabIndex:"-1",className:(0,h.default)(n,"rw-list"),role:void 0===i?"listbox":i},k),x)},_data:function(){return this.props.data},move:function(){var e=d.default.findDOMNode(this),t=this._data().indexOf(this.props.focused),n=e.children[t];n&&(0,g.notify)(this.props.onMove,[n,e,this.props.focused])}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t(1),o=n(i),s=t(3),a=n(s),l=t(27),c=n(l),u=o.default.createClass({displayName:"ListOption",propTypes:{dataItem:o.default.PropTypes.any,focused:o.default.PropTypes.bool,selected:o.default.PropTypes.bool,disabled:o.default.PropTypes.bool,readOnly:o.default.PropTypes.bool},render:function(){var e=this.props,t=e.className,n=e.children,i=e.focused,s=e.selected,l=e.disabled,u=e.readOnly,d=c.default.omitOwnProps(this),p={"rw-state-focus":i,"rw-state-selected":s,"rw-state-disabled":l,"rw-state-readonly":u};return o.default.createElement("li",r({role:"option",tabIndex:l||u?void 0:"-1","aria-selected":!!s,className:(0,a.default)("rw-list-option",t,p)},d),n)}});exports.default=u,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n,r,i=g.default.animate.TRANSLATION_MAP;return i&&i[e]?(n={},n[x]=i[e]+"("+t+")",n):(r={},r[e]=t,r)}function i(e){var t=l.default.Children.map(e,function(e){return e});for(var n in t)return n}exports.__esModule=!0;var o,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=t(1),l=n(a),c=t(27),u=(n(c),t(53)),d=n(u),p=t(111),h=n(p),f=t(152),m=n(f),_=t(193),g=n(_),v=t(3),y=n(v),b=t(43),w=n(b),x=(0,m.default)(g.default.animate.transform),k=0,A=1,C=2,E=3,S=(o={},o[A]="hidden",o[k]="hidden",o[C]="hidden",o),j={open:l.default.PropTypes.bool,dropUp:l.default.PropTypes.bool,duration:l.default.PropTypes.number,onClosing:l.default.PropTypes.func,onOpening:l.default.PropTypes.func,onClose:l.default.PropTypes.func,onOpen:l.default.PropTypes.func};exports.default=l.default.createClass({displayName:"Popup",propTypes:j,getInitialState:function(){return{initialRender:!0,status:this.props.open?C:A}},getDefaultProps:function(){return{duration:200,open:!1,onClosing:function(){},onOpening:function(){},onClose:function(){},onOpen:function(){}}},componentWillReceiveProps:function(e){this.setState({contentChanged:i(e.children)!==i(this.props.children)})},componentDidMount:function(){var e=this,t=this.state.status===C;w.default.batchedUpdates(function(){e.setState({initialRender:!1}),t&&e.open()})},componentDidUpdate:function(e){var t=e.open&&!this.props.open,n=!e.open&&this.props.open,r=this.props.open,i=this.state.status;if(!!e.dropUp!=!!this.props.dropUp)return this.cancelNextCallback(),i===C&&this.open(),void(i===k&&this.close());if(n)this.open();else if(t)this.close();else if(r){var o=this.height(),s=Math.abs(o-this.state.height);(isNaN(s)||s>.1)&&this.setState({height:o})}},render:function(){var e=this.props,t=e.className,n=e.dropUp,r=e.style,i=this.state,o=i.status,a=i.height,c=S[o]||"visible",u=o===A?"none":"block";return l.default.createElement("div",{style:s({display:u,overflow:c,height:a},r),className:(0,y.default)(t,"rw-popup-container",n&&"rw-dropup",this.isTransitioning()&&"rw-popup-animating")},this.renderChildren())},renderChildren:function(){if(!this.props.children)return l.default.createElement("span",{className:"rw-popup rw-widget"});var e=this.getOffsetForStatus(this.state.status),t=l.default.Children.only(this.props.children);return(0,a.cloneElement)(t,{style:s({},t.props.style,e,{position:this.isTransitioning()?"absolute":void 0}),className:(0,y.default)(t.props.className,"rw-popup rw-widget")})},open:function(){var e=this;this.cancelNextCallback();var t=w.default.findDOMNode(this).firstChild,n=this.height();this.props.onOpening(),this.safeSetState({status:C,height:n},function(){var n=e.getOffsetForStatus(E),r=e.props.duration;e.animate(t,n,r,"ease",function(){e.safeSetState({status:E},function(){e.props.onOpen()})})})},close:function(){var e=this;this.cancelNextCallback();var t=w.default.findDOMNode(this).firstChild,n=this.height();this.props.onClosing(),this.safeSetState({status:k,height:n},function(){var n=e.getOffsetForStatus(A),r=e.props.duration;e.animate(t,n,r,"ease",function(){return e.safeSetState({status:A},function(){e.props.onClose()})})})},getOffsetForStatus:function(e){var t;if(this.state.initialRender)return{};var n=r("top",this.props.dropUp?"100%":"-100%"),i=r("top",0);return(t={},t[A]=n,t[k]=i,t[C]=n,t[E]=i,t)[e]||{}},height:function e(){var t=w.default.findDOMNode(this),n=t.firstChild,r=parseInt((0,d.default)(n,"margin-top"),10)+parseInt((0,d.default)(n,"margin-bottom"),10),i=t.style.display,e=void 0;return t.style.display="block",e=((0,h.default)(n)||0)+(isNaN(r)?0:r),t.style.display=i,e},isTransitioning:function(){return this.state.status===C||this.state.status===A},animate:function(e,t,n,r,i){this._transition=g.default.animate(e,t,n,r,this.setNextCallback(i))},cancelNextCallback:function(){this._transition&&this._transition.cancel&&(this._transition.cancel(),this._transition=null),this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},safeSetState:function(e,t){this.setState(e,this.setNextCallback(t))},setNextCallback:function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){return n=!1},this.nextCallback}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return e?(e=e.toLowerCase(),function(t){return o.default.startsWith((0,s.dataText)(t,n).toLowerCase(),e)}):function(){return!0}}exports.__esModule=!0;var i=t(127),o=n(i),s=t(80),a=t(39),l=n(a),c=t(68),u={},d=function(e,t){return(0,c.isDisabledItem)(e,t)||(0,c.isReadOnlyItem)(e,t)};exports.default={propTypes:{textField:l.default.accessor,valueField:l.default.accessor,disabled:l.default.disabled.acceptsArray,readOnly:l.default.readOnly.acceptsArray},first:function(){return this.next(u)},last:function(){var e=this._data(),t=e[e.length-1];return d(t,this.props)?this.prev(t):t},prev:function(e,t){var n=this._data(),i=n.indexOf(e),o=r(t,e,this.props.textField);for((i<0||null==i)&&(i=0),i--;i>-1&&(d(n[i],this.props)||!o(n[i]));)i--;return i>=0?n[i]:e},next:function(e,t){for(var n=this._data(),i=n.indexOf(e)+1,o=n.length,s=r(t,e,this.props.textField);i<o&&(d(n[i],this.props)||!s(n[i]));)i++;return i<o?n[i]:e}},e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(572),i=n(r);exports.default={_scrollTo:function(e,t,n){var r,o,s=this._scrollState||(this._scrollState={}),a=this.props.onMove,l=s.visible,c=s.focused;s.visible=!(!t.offsetWidth||!t.offsetHeight),s.focused=n,o=c!==n,r=s.visible&&!l,(r||s.visible&&o)&&(a?a(e,t,n):(s.scrollCancel&&s.scrollCancel(),s.scrollCancel=(0,i.default)(e,t)))}},e.exports=exports.default},function(e,exports,t){"use strict";function n(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}function r(e){var t=l(e);if(t){var n=t.childIDs;c(e),n.forEach(r)}}function i(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function o(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=A.getDisplayName(e),r=A.getElement(e),o=A.getOwnerID(e);return o&&(t=A.getDisplayName(o)),i(n,r&&r._source,t)}var a,l,c,u,d,p,h,f=t(82),m=t(57),_=(t(14),t(18),"function"==typeof Array.from&&"function"==typeof Map&&n(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&n(Map.prototype.keys)&&"function"==typeof Set&&n(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&n(Set.prototype.keys));if(_){var g=new Map,v=new Set;a=function(e,t){g.set(e,t)},l=function(e){return g.get(e)},c=function(e){g.delete(e)},u=function(){return Array.from(g.keys())},d=function(e){v.add(e)},p=function(e){v.delete(e)},h=function(){return Array.from(v.keys())}}else{var y={},b={},w=function(e){return"."+e},x=function(e){return parseInt(e.substr(1),10)};a=function(e,t){var n=w(e);y[n]=t},l=function(e){var t=w(e);return y[t]},c=function(e){var t=w(e);delete y[t]},u=function(){return Object.keys(y).map(x)},d=function(e){var t=w(e);b[t]=!0},p=function(e){var t=w(e);delete b[t]},h=function(){return Object.keys(b).map(x)}}var k=[],A={onSetChildren:function(e,t){var n=l(e);n?void 0:f("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],o=l(i);o?void 0:f("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element?f("141"):void 0,o.isMounted?void 0:f("71"),null==o.parentID&&(o.parentID=e),o.parentID!==e?f("142",i,o.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){var r={element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};a(e,r)},onBeforeUpdateComponent:function(e,t){var n=l(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=l(e);t?void 0:f("144"),t.isMounted=!0;var n=0===t.parentID;n&&d(e)},onUpdateComponent:function(e){var t=l(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=l(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&p(e)}k.push(e)},purgeUnmountedComponents:function(){if(!A._preventPurging){for(var e=0;e<k.length;e++){var t=k[e];r(t)}k.length=0}},isMounted:function(e){var t=l(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=o(e),r=e._owner;t+=i(n,e._source,r&&r.getName())}var s=m.current,a=s&&s._debugID;return t+=A.getStackAddendumByID(a)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=A.getParentID(e);return t},getChildIDs:function(e){var t=l(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=A.getElement(e);return t?o(t):null},getElement:function(e){var t=l(e);return t?t.element:null},getOwnerID:function(e){var t=A.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=l(e);return t?t.parentID:null},getSource:function(e){var t=l(e),n=t?t.element:null,r=null!=n?n._source:null;return r},getText:function(e){var t=A.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=l(e);return t?t.updateCount:0},getRootIDs:h,getRegisteredIDs:u};e.exports=A},function(e,exports){"use strict";var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=t},function(e,exports,t){"use strict";var n=!1;e.exports=n},function(e,exports){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}exports.__esModule=!0,exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){function i(){g===_&&(g=_.slice())}function s(){return m}function c(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return i(),g.push(e),function(){if(t){t=!1,i();var n=g.indexOf(e);g.splice(n,1)}}}function u(e){if(!(0,o.default)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw Error("Reducers may not dispatch actions.");try{v=!0,m=f(m,e)}finally{v=!1}for(var t=_=g,n=0;n<t.length;n++)t[n]();return e}function d(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");f=e,u({type:l.INIT})}function p(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[a.default]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var f=e,m=t,_=[],g=_,v=!1;return u({type:l.INIT}),h={dispatch:u,subscribe:c,getState:s,replaceReducer:d},h[a.default]=p,h}exports.__esModule=!0,exports.ActionTypes=void 0,exports.default=r;var i=t(156),o=n(i),s=t(780),a=n(s),l=exports.ActionTypes={INIT:"@@redux/INIT"}},function(e,exports){"use strict";function t(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(e){}}exports.__esModule=!0,exports.default=t},function(e,exports,t){"use strict";exports._noop=function(){},exports._noop.exec=function(){},exports._escape=t(1266),exports._unescape=t(1268),exports._merge=t(853)},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q;$=window.$,L=t(12),y=L.React,b=L.ReactDOM,D=L.redux,q=L.rtypes,I=L.rclass,z=t(22),O=z.Well,i=z.Col,w=z.Row,r=z.Accordion,f=z.Panel,_=z.ProgressBar,R=t(17),p=R.Icon,h=R.Loading,j=R.Space,M=R.TimeAgo,T=R.UNIT,x=R.SAGE_LOGO_COLOR,o=R.Footer,P=t(48),s=P.HelpEmailLink,S=P.SiteName,E=P.SiteDescription,m=P.PolicyPricingPageUrl,C=t(199).ShowSupportLink,B=t(24),g=B.RECENT_TIMES,v=B.RECENT_TIMES_KEY,k=t(190),N={lineHeight:"inherit",marginTop:"0.7ex"},exports.HelpPageUsageSection=d=I({reduxProps:{server_stats:{loading:q.bool.isRequired,hub_servers:q.array,time:q.object,accounts:q.number,projects:q.number,accounts_created:q.object,projects_created:q.object,projects_edited:q.object}},displayName:"HelpPage-HelpPageUsageSection",getDefaultProps:function(){return{loading:!0}},number_of_active_users:function(){var e;return 0===this.props.hub_servers.length?0:function(){var t,n,r,i;for(r=this.props.hub_servers,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(e.clients);return i}.call(this).reduce(function(e,t){return e+t})},render_active_users_stats:function(){var e;return this.props.loading?y.createElement("li",{style:N}," Live server stats ",y.createElement(h,null)," "):(e=this.number_of_active_users(),y.createElement(_,{style:{marginBottom:0},now:Math.max(e/12,45/8),label:e+" connected users"}))},render_active_projects_stats:function(){var e,t;return e=null!=(t=this.props.projects_edited)?t[v.active]:void 0,y.createElement(_,{now:Math.max(e/3,30),label:e+" projects being edited"})},render_recent_usage_stats:function(){var e,t,n,r,i,o,s,a;if(!this.props.loading)return y.createElement("li",{style:N},"Users modified",y.createElement("strong",null," ",null!=(r=null!=(i=this.props.projects_edited)?i[v.last_hour]:void 0)?r:this.props.last_hour_projects," projects")," in the last hour,",y.createElement("strong",null," ",null!=(o=null!=(s=this.props.projects_edited)?s[v.last_day]:void 0)?o:this.props.last_day_projects," projects")," in the last day,",y.createElement("strong",null," ",null!=(a=null!=(e=this.props.projects_edited)?e[v.last_week]:void 0)?a:this.props.last_week_projects," projects")," in the last week and",y.createElement("strong",null," ",null!=(t=null!=(n=this.props.projects_edited)?n[v.last_month]:void 0)?t:this.props.last_month_projects," projects")," in the last month.",y.createElement(j,null)," ",y.createElement("a",{target:"_blank",href:"https://cloud.sagemath.com/7561f68d-3d97-4530-b97e-68af2fb4ed13/raw/stats.html"},y.createElement(p,{name:"line-chart",fixedWidth:!0})," More data..."))},render_historical_metrics:function(){},render_when_updated:function(){if(this.props.time)return y.createElement("span",{style:{fontSize:"9pt",marginLeft:"20px",color:"#666"}},"updated ",y.createElement(M,{date:new Date(this.props.time)}))},render:function(){return y.createElement("div",null,y.createElement("h3",null,y.createElement(p,{name:"dashboard"})," Current connected users",this.render_when_updated()),y.createElement("ul",null,this.render_active_users_stats(),this.render_recent_usage_stats(),this.render_historical_metrics()))}}),A={teaching:{icon:"users",href:"https://mikecroucher.github.io/SMC_tutorial/",link:y.createElement("span",null,"Tutorial for anyone wanting to use SageMathCloud for teaching")},pricing:{icon:"money",href:m,link:"Pricing and subscription options",commercial:!0},frequently_asked_questions:{icon:"question-circle",href:"https://github.com/sagemathinc/smc/wiki/Portal",link:"SageMathCloud documentation"},courses:{icon:"graduation-cap",href:"https://github.com/sagemathinc/smc/wiki/Teaching",link:y.createElement("span",null,"Courses using SageMathCloud")},support_mailing_list:{icon:"life-ring",href:"https://groups.google.com/forum/?fromgroups#!forum/sage-cloud",link:y.createElement("span",null,"Mailing list")},sagemath_blog:{icon:"rss",href:"http://blog.sagemath.com/",link:y.createElement("span",null,"Blog")},google_plus_smc:{icon:"google-plus-square",href:"https://plus.google.com/117696122667171964473/posts",link:y.createElement("span",null,"Google+"),text:"updates"},twitter:{icon:"twitter-square",href:"https://twitter.com/sagemathcloud",link:"Twitter",text:"the Twitter feed"},github:{icon:"github-square",href:"https://github.com/sagemathinc/smc",link:"Source code"},github_issue_tracker:{icon:"exclamation-circle",href:"https://github.com/sagemathinc/smc/issues?utf8=%E2%9C%93&q=is%3Aissue%20is%3Aopen%20label%3AI-bug%20sort%3Acreated-asc%20-label%3Ablocked",link:"Bugs"},chrome_app:{icon:"google",href:"https://chrome.google.com/webstore/detail/the-sagemath-cloud/eocdndagganmilahaiclppjigemcinmb",link:"Chrome App",className:"salvus-chrome-only"},user_survey:{icon:"pencil-square",href:"https://docs.google.com/forms/d/1Odku9JuqYOVUHF4p5CXZ_Fl-7SIM3ApYexabfTV1O2o/viewform?usp=send_form",link:"User Survey"}},u=I({displayName:"HelpPage-HelpPageSupportSection",propTypes:{support_links:q.object},get_support_links:function(){var e,n,r,i,o;e=t(48).commercial,i=this.props.support_links,o=[];for(r in i)n=i[r],n.commercial&&!e||o.push(y.createElement("li",{key:r,style:N,className:null!=n.className?n.className:void 0},y.createElement("a",{target:0!==n.href.indexOf("#")?"_blank":void 0,href:n.href},y.createElement(p,{name:n.icon,fixedWidth:!0})," ",n.link)," ",y.createElement("span",{style:{color:"#666"}},n.text)));return o},render:function(){return y.createElement("div",null,y.createElement("h3",null," ",y.createElement(p,{name:"support"})," Support"),y.createElement("ul",null,this.get_support_links()))}}),n={legal:y.createElement("span",null,y.createElement("a",{target:"_blank",href:"/policies/index.html"},"Terms of Service, Pricing, Copyright and Privacy policies")),developers:y.createElement("span",null,"Core fulltime developers: John Jeng, ",y.createElement("a",{target:"_blank",href:"http://harald.schil.ly/"},"Harald Schilly"),", ",y.createElement("a",{target:"_blank",href:"https://twitter.com/haldroid?lang=en"},"Hal Snyder"),", ",y.createElement("a",{
target:"_blank",href:"http://wstein.org"},"William Stein")),incorporated:"SageMath, Inc. (a Delaware C Corporation) was incorporated Feb 2, 2015"},l=I({displayName:"HelpPage-HelpPageAboutSection",get_about_section:function(){var e,t,r;r=[];for(t in n)e=n[t],r.push(y.createElement("li",{key:t,style:N},e));return r},render:function(){return y.createElement("div",null,y.createElement("h3",null," ",y.createElement(p,{name:"info-circle"})," About "),y.createElement("ul",null,this.get_about_section()))}}),c=I({displayName:"Help-HelpPageGettingStartedSection",get_panel_header:function(e,t){return y.createElement("div",null,y.createElement(p,{name:e,fixedWidth:!0})," ",t)},insert_sample_function:function(){return"$J_\\alpha(x) = \\sum\\limits_{m=0}^\\infty \\frac{(-1)^m}{m! \\, \\Gamma(m + \\alpha + 1)}{\\left({\\frac{x}{2}}\\right)}^{2 m + \\alpha}$"},componentDidMount:function(){return this.update_mathjax()},componentDidUpdate:function(){return this.update_mathjax()},update_mathjax:function(){return $(b.findDOMNode(this)).mathjax()},render:function(){return y.createElement("div",null,y.createElement("h3",{id:"help-page-getting-started"},y.createElement(p,{name:"cubes"})," Getting started with ",y.createElement(S,null)),y.createElement(r,null,y.createElement(f,{header:this.get_panel_header("user","Create an account"),eventKey:"1"},y.createElement("p",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=eadnL5hDg9M"},y.createElement(p,{name:"youtube-play"})," video")),y.createElement("p",null,"Navigate to ",y.createElement("a",{target:"_blank",href:"https://cloud.sagemath.com"},"https://cloud.sagemath.com"),".\nIf you are already signed in, first sign out\nby clicking on your email address by the ",y.createElement(p,{name:"cog"})," icon\nin the upper right, and clicking 'Sign out'.\nClick on 'create an account', then agree to the terms of usage.\nNext either enter your name, email address, and password for\nthe new account you would like to create, or login\nusing your Google, Github, Facebook, etc., account.\nYou may change your name, email address or password\nat any time later, and also reset your password in case you forget it."),y.createElement("div",{style:{color:"#666"}},y.createElement("h4",null,"Technical Notes"),y.createElement("ul",null,y.createElement("li",null," Please\nuse a strong password or login via Google, Github or another provider,\nespecially when you start using ",y.createElement(S,null)," frequently."),y.createElement("li",null," Only the hash of your password is stored by the server, which uses 1000 iterations\nof a sha-512 hash function, with a salt length of 32. This makes it more\ndifficult for a hacker to brute-force your password, even if they have the database of\npassword hashes, since every guess takes much more work to make.")))),y.createElement(f,{header:this.get_panel_header("user","Change your name, email address, or password"),eventKey:"2"},y.createElement("p",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=A9zltIsU2cM"},y.createElement(p,{name:"youtube-play"})," video")),y.createElement("p",null,"Log into ",y.createElement("a",{target:"_blank",href:"https://cloud.sagemath.com"},"https://cloud.sagemath.com"),",\nthen click in the upper right corner on your email address by\nthe ",y.createElement(p,{name:"cog"})," icon.\nChange your first or last name in the settings tab that appears, then click save."),y.createElement("p",null,'To change your password, click the "Change password" link, enter your old password,\nthen enter a new password.'),y.createElement("p",null,"To change the email account that is linked to your ",y.createElement(S,null),' account, click\non the "change" link next to your email address, type in the password (to your ',y.createElement(S,null),"account), then enter a new email address."),y.createElement("div",{style:{color:"#666"}},y.createElement("h4",null,"Technical Notes"),y.createElement("ul",null,y.createElement("li",null,"Changing your first or last name at any time is pretty harmless, since it\nonly changes the name other people see when collaborating with\nyou on projects."),y.createElement("li",null,"The primary purpose of providing an email address is that you\ncan use it to reset your password when you forget it.")))),y.createElement(f,{header:this.get_panel_header("line-chart","Get a bunch of examples"),eventKey:"3"},y.createElement("div",null,"You can browse and copy a ",y.createElement("a",{target:"blank",href:"https://cloud.sagemath.com/projects/4a5f0542-5873-4eed-a85c-a18c706e8bcd/files/cloud-examples/"},"collection of examples"),".")),y.createElement(f,{header:this.get_panel_header("line-chart",y.createElement("span",null,"Watch a March 2015 talk about all of the main features of ",y.createElement(S,null))),eventKey:"4"},"William Stein (lead developer of ",y.createElement(S,null),") gave the following one-hour talk in March 2015 at\nthe ",y.createElement("a",{target:"_blank",href:"http://escience.washington.edu/"},"UW eScience Institute"),":",y.createElement("p",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=_ff2HdME8MI"},y.createElement(p,{name:"youtube-play"})," video"))),y.createElement(f,{header:this.get_panel_header("pencil-square-o",y.createElement("span",null,"How to work with LaTeX")),eventKey:"5"},y.createElement("ul",null,y.createElement("li",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=IaachWg4IEQ"},y.createElement(p,{name:"youtube-play"})," video1")),y.createElement("li",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=cXhnX3UtizI"},y.createElement(p,{name:"youtube-play"})," video2")),y.createElement("li",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/playlist?list=PLnC5h3PY-znxc090kGv7W4FpbotlWsrm0"},y.createElement(p,{name:"youtube-play"})," Introduction to LaTeX by Vincent Knight "))),y.createElement("p",null,y.createElement("a",{target:"_blank",href:"http://www.latex-project.org/"},"LaTeX")," is a system for creating\nprofessional quality documents, with excellent support for typesetting mathematical formulas\nlike ",this.insert_sample_function(),".\nThere are two main ways to use LaTeX in ",y.createElement(S,null),":"),y.createElement("ol",null,y.createElement("li",null," In chats or in worksheet cells that start with %html or %md,\nenclose mathematical formulas in single or double\ndollar signs and they will be typeset\n(using ",y.createElement("a",{target:"_blank",href:"http://www.mathjax.org/"},"MathJax"),") when\nyou submit them.  In addition to dollar\nsigns, you can use the other standard latex equation wrappers\n\\­[ \\] and \\­(  \\).\nIn worksheets, if f is some object, you can type ",y.createElement("span",{style:{fontFamily:"monospace"}},"show(f)"),"to see f nicely typeset using the latex generated by ",y.createElement("span",{style:{fontFamily:"monospace"}},"latex(f)"),".\nIn a worksheet, type ",y.createElement("span",{style:{fontFamily:"monospace"}},"typeset_mode(True)")," to show the nicely\ntypeset version of objects by default. You may also use MathJax in\nMarkdown cells in Jupyter notebooks."),y.createElement("li",null," You can edit a full LaTeX document by creating or uploading\na file with an extension of .tex, then opening it.\nThe tex file appears on the left, and there is a preview of\nthe compiled version on the right,\nwhich is updated whenever you save the file (ctrl+s).\nBy clicking ",y.createElement(p,{name:"film"}),", you can split the tex\neditor so that you can see two parts of the file at once.\nYou can also use inverse and forward search to easily move back\nand forth between the tex file and the preview. In addition to\nthe preview, there is an error and warning log with buttons\nto jump to the corresponding issue in the tex file or preview.\nThere is also a button to show or download the final high-quality PDF.\nIn addition, you can see the output of running pdflatex, bibtex, and",y.createElement("a",{target:"_blank",href:"http://doc.sagemath.org/html/en/tutorial/sagetex.html"}," use\nSageTex"),' (which should "just work"), make any of those programs re-run, and customize the\nlatex build command (e.g. using ',y.createElement("a",{href:"https://www.ctan.org/pkg/latexmk/",target:"_blank"},"latexmk")," with some extras:",y.createElement("code",null,"latexmk -pdf -bibtex -pdflatex='pdflatex --interact=nonstopmode --synctex=1 %O %S' '<filename.tex>'"),").\nIf necessary, you can do extremely sophisticated processing of tex files\nin a Terminal (",y.createElement(p,{name:"plus-circle"})," New → Terminal), too."))),y.createElement(f,{header:this.get_panel_header("area-chart","Use R in SageMath worksheets"),eventKey:"6"},y.createElement("div",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=JtVuX4yb70A"},y.createElement(p,{name:"youtube-play"})," video")),y.createElement("div",null,'In a project, click "',y.createElement(p,{name:"plus-circle"}),' New" then the\n"Sage" button.  In the worksheet that appears, type ',y.createElement("pre",null,"%default_mode r"),"then press shift+enter to evaluate it.\nFor the rest of the worksheet, type normal R commands, followed by shift+enter.\nPlotting should just work as usual in R.\nSee ",y.createElement("a",{target:"_blank",href:"https://github.com/sagemath/cloud-examples/tree/master/r"},"these\nexample worksheets"),".")),y.createElement(f,{header:this.get_panel_header("bar-chart","Use Jupyter notebooks"),eventKey:"7"},y.createElement("p",null,y.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=sDBbt8U4aJw"},y.createElement(p,{name:"youtube-play"})," video")),y.createElement("p",null,"In a project, click ",y.createElement("span",{style:{color:"#08c"}},y.createElement(p,{name:"plus-circle"})," New"),' then the\n"Jupyter" button, or just open an ipynb file.\nThe notebook will be opened using Jupyter\'s html-based client,\nwith support for embedded graphics.\nTo support the collaborative nature of ',y.createElement(S,null),",\nwe've enhanced the Jupyter notebook with realtime sync,\nso if you open the same notebook on multiple computers (or if multiple\npeople open the same notebook), they will stay in sync.\nAlso, if you want to use the Sage preparser, type",y.createElement("span",{style:{fontFamily:"monospace"}}," %load_ext sage")," into a notebook cell."),y.createElement("div",{style:{color:"#666"}},y.createElement("h4",null,"Technical Notes"),y.createElement("ul",null,y.createElement("li",null,"You can also run a normal version of the Jupyter notebook server\n(no sync, not integrated into cloud) by (1) finding your project id in project settings, then (2) visiting",y.createElement("span",{style:{fontFamily:"monospace"}}," https://cloud.sagemath.com/[project_id]/port/jupyter")," (you\nwill possibly have to refresh your browser if this takes too long the first time).\nAny collaborator on your project can securely use the Jupyter notebook server by visiting\nthis link, but nobody else can."))))))}}),exports.HelpPage=a=I({displayName:"HelpPage",render:function(){var e;return e=t(48).SmcWikiUrl,y.createElement(w,{style:{padding:"10px",margin:"0px"}},y.createElement(i,{sm:10,smOffset:1,md:8,mdOffset:2,xs:12},y.createElement("div",{style:{backgroundColor:"white",padding:"15px",border:"1px solid lightgrey",borderRadius:"5px",margin:"auto",width:"100%",fontSize:"110%",textAlign:"center"}},y.createElement(p,{name:"medkit"}),y.createElement(j,null),y.createElement(j,null),y.createElement("strong",null,"In case of any questions or problems, ",y.createElement("em",null,"do not hesitate")," to create a ",y.createElement(C,null),"."),y.createElement("br",null),"We want to know if anything is broken!",y.createElement("hr",null),y.createElement(p,{name:"envelope"}),y.createElement(j,null),y.createElement(j,null)," You can also send an email to ",y.createElement(s,null),".",y.createElement("br",null),"In such an email, please include the URL link to the relevant project or file.",y.createElement("hr",null),y.createElement("a",{href:""+e,target:"_blank"},"The SageMathCloud Documentation")),y.createElement("h3",null,y.createElement("div",{style:{display:"inline-block",backgroundImage:"url('"+k+"')",backgroundSize:"contain",backgroundColor:x},className:"img-rounded pull-right help-smc-logo"}),y.createElement(S,null)," ",y.createElement(E,null)),y.createElement(u,{support_links:A}),y.createElement(d,null),t(48).commercial?y.createElement(l,null):void 0),y.createElement(i,{sm:1,md:2,xsHidden:!0}),y.createElement(i,{xs:12,sm:12,md:12},y.createElement(o,null)))}}),exports._test={HelpPageSupportSection:u,SUPPORT_LINKS:A}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p;d=t(19).salvus_client,r=t(36).alert_message,n=t(196),l=t(9),c=t(12).redux,s=!0,a=function(e){return!function(){return t(795),t(135),t(332),e()}(t)},p=function(e){var n,r;if(n=t(30).analytics_event,n("account","signed_in"),c.getActions("account").setState({hub:e.hub}),r=window.smc_target&&"login"!==window.smc_target,s&&(s=!1,r||a(function(){return t(128).load_target("projects")})),r)return c.getTable("account")._table.once("connected",function(){return a(function(){return t(128).load_target(window.smc_target),window.smc_target=""})})},d.on("signed_in",p),u=d.remember_me_key(),l.get_local_storage(u)&&(c.getActions("account").setState({remember_me:!0}),setTimeout(function(){return c.getActions("account").setState({remember_me:!1})},45e3)),d.on("remember_me_failed",function(){var e,t;if(c.getActions("account").setState({remember_me:!1}),null!=(t=c.getStore("account"))?t.is_logged_in():void 0)return e=function(){if(!l.get_local_storage(u))return r({type:"info",message:"You might have to sign in again.",timeout:1e6})},setTimeout(e,15e3)}),exports.default_filename=function(e,t){return i(e)},i=function(e,t){var n;return n=l.to_iso(new Date).replace("T","-").replace(/:/g,""),e&&(n+="."+e),n},o=function(e,t){switch(e){case"zip":return"Archive.zip";default:return"untitled "+(t?"folder":"file")}}},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u=function(e,t){return function(){return e.apply(t,arguments)}},d=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty,h=[].slice;"undefined"!=typeof Primus&&null!==Primus||(alert("Library not fully built (Primus not defined) -- refresh your browser"),window.location.reload()),$=window.$,i=t(23),o=t(339),r=t(190),l=function(){var e,n,i,o;return n=t(12).redux,e=n.getStore("customize"),o=null!=(i=null!=e?e.get("site_name"):void 0)?i:"SageMathCloud",'<div>\n<img src="'+r+'">\n<h1>'+o+"<br> is on standby</h1>\n&mdash; click to resume &mdash;\n</div>"},c=void 0,a=function(e){var t,n;if(null==c||c!==e)return t=$("#smc-idle-notification"),e?0===t.length?(n=$("<div/>",{id:"smc-idle-notification"}).html(l()),$("body").append(n),n.slideUp(0,function(){return n.slideDown("slow")})):t.slideDown("slow"):t.slideUp("slow"),c=e},n=function(e){function n(e){this.alert_message=u(this.alert_message,this),this._cookies=u(this._cookies,this),this._fix_connection=u(this._fix_connection,this),this.latency=u(this.latency,this),this.set_standby_timeout_m=u(this.set_standby_timeout_m,this),this._idle_reset=u(this._idle_reset,this),this._idle_check=u(this._idle_check,this),this._init_idle=u(this._init_idle,this),this._setup_window_smc=u(this._setup_window_smc,this),n.__super__.constructor.call(this,e),this._setup_window_smc(),this._redux=t(12).redux,setTimeout(this._init_idle,15e3)}return d(n,e),n.prototype._setup_window_smc=function(){},n.prototype._init_idle=function(){var e,t,n;return null==this._idle_timeout&&(this._idle_timeout=9e5),this._idle_reset(),setInterval(this._idle_check,6e4),this.idle_reset=i.throttle(this._idle_reset,15e3),$(document).on("click mousemove keydown focusin touchstart",this.idle_reset),$("#smc-idle-notification").on("click mousemove keydown focusin touchstart",this._idle_reset),e=void 0,n=function(e){return function(){var t;if(e._connection_is_totally_dead)return null!=(t=e._conn)?t.open():void 0}}(this),n=i.throttle(n,1e4),t=function(e){return function(){var t;if(e._connected)return null!=(t=e._conn)?t.end():void 0}}(this),this.on("idle",function(r){switch(r){case"away":return a(!0),null!=e?e:e=setTimeout(t,15e3);case"active":return a(!1),null!=e&&(clearTimeout(e),e=void 0),n(),setTimeout(n,5e3)}})},n.prototype._idle_check=function(){var e;if(null!=this._idle_time)return e=(new Date).getTime(),this._idle_time<e?this.emit("idle","away"):void 0},n.prototype._idle_reset=function(){return this._idle_time=(new Date).getTime()+this._idle_timeout+1e3,this.emit("idle","active")},n.prototype.set_standby_timeout_m=function(e){return this._idle_timeout=60*e*1e3,this._idle_reset()},n.prototype._connect=function(e,t){var n,r;if(r=function(e){return console.log("websocket -",e)},r("connect"),this.url=e,null==this.ondata)return this.ondata=t,n=new Primus(e),this._conn=n,n.on("open",function(e){return function(){var i,o;return e._connected=!0,e._connection_is_totally_dead=!1,null!=e._conn_id?n.write(e._conn_id):n.write("XXXXXXXXXXXXXXXXXXXX"),o=null!=window.WebSocket?"websocket":"polling",e.emit("connected",o),r("connected; protocol='"+o+"'"),e._num_attempts=0,n.removeAllListeners("data"),i=function(r){return e._conn_id=""+r,n.removeListener("data",i),n.on("data",t)},n.on("data",i)}}(this)),n.on("outgoing::open",function(e){return function(t){return r("connecting"),e.emit("connecting")}}(this)),n.on("offline",function(e){return function(t){return r("offline"),e._connected=!1,e.emit("disconnected","offline")}}(this)),n.on("online",function(e){return function(e){return r("online")}}(this)),n.on("message",function(e){return function(e){return t(e.data)}}(this)),n.on("error",function(e){return function(e){return r("error: ",e)}}(this)),n.on("close",function(e){return function(){return r("closed"),e._connected=!1,e.emit("disconnected","close")}}(this)),n.on("end",function(e){return function(){return e._connection_is_totally_dead=!0}}(this)),n.on("reconnect scheduled",function(e){return function(t){return e._num_attempts=t.attempt,e.emit("disconnected","close"),e.emit("connecting"),n.removeAllListeners("data"),r("reconnect scheduled in "+t.scheduled+" ms  (attempt "+t.attempt+" out of "+t.retries+")")}}(this)),n.on("incoming::pong",function(e){return function(t){if(null==window.document.hasFocus||window.document.hasFocus())return e.emit("ping",n.latency)}}(this)),this._write=function(e){return function(e){return n.write(e)}}(this)},n.prototype.latency=function(){if(this._connected)return this._conn.latency},n.prototype._fix_connection=function(e){return e&&(console.log("websocket -- deleting haproxy cookies"),document.cookie="SMCSERVERID3=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),console.log("websocket --_fix_connection... "),this._conn.end(),this._conn.open()},n.prototype._cookies=function(e){return $.ajax({url:e.url,data:{id:e.id,set:e.set,get:e.get,value:e.value}})},n.prototype.alert_message=function(){var e,n;return e=1<=arguments.length?h.call(arguments,0):[],(n=t(36)).alert_message.apply(n,e)},n}(o.Connection),s=void 0,exports.connect=function(e){return null!=s?s:s=new n(e)},exports.connect()},function(e,exports){exports.get_server_url=function(e){var t;return(null!=(t="undefined"!=typeof window&&null!==window?window.smc_base_url:void 0)?t:"")+"/"+e+"/raw/.smc/jupyter"},exports.get_blob_url=function(e,t,n){return exports.get_server_url(e)+"/blobs/a."+t+"?sha1="+n},exports.get_logo_url=function(e,t){return exports.get_server_url(e)+"/kernelspecs/"+t+"/logo-64x64.png"},exports.get_complete_url=function(e,t,n,r){var i;return i=exports.get_server_url(e)+"/kernels/complete?code="+encodeURIComponent(n)+"&path="+encodeURIComponent(t),null!=r&&(i+="&cursor_pos="+encodeURIComponent(r)),i},exports.get_introspect_url=function(e,t,n,r,i){var o;return o=exports.get_server_url(e)+"/kernels/introspect?code="+encodeURIComponent(n)+"&path="+encodeURIComponent(t),null!=r&&(o+="&cursor_pos="+encodeURIComponent(r)),null!=i&&(o+="&level="+encodeURIComponent(i)),o},exports.get_store_url=function(e,t,n,r){var i;return i=exports.get_server_url(e)+"/kernels/store?key="+encodeURIComponent(JSON.stringify(n))+"&path="+encodeURIComponent(t),null!=r&&(i+="value="+encodeURIComponent(JSON.stringify(r))),i},exports.get_signal_url=function(e,t,n){return exports.get_server_url(e)+"/kernels/signal/"+n+"?path="+encodeURIComponent(t)},exports.get_kernel_info_url=function(e,t){return exports.get_server_url(e)+"/kernels/kernel_info?path="+encodeURIComponent(t)},exports.get_more_output_url=function(e,t,n){return exports.get_server_url(e)+"/kernels/more_output?path="+encodeURIComponent(t)+"&id="+encodeURIComponent(n)}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L=function(e,t){return function(){return e.apply(t,arguments)}},z=function(e,t){function n(){this.constructor=e}for(var r in t)R.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},R={}.hasOwnProperty,P=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};f=t(31),I=t(23),w=t(26),c=5e3,k=t(9),a=t(103).MARKERS,h=t(36).alert_message,N=t(19).salvus_client,E=t(189).project_tasks,g=k.defaults,T=k.required,j=t(12),n=j.Actions,O=j.rtypes,m=j.computed,v=j.depends,p=j.Table,M=j.register_project_store,S=j.redux,M(exports),"undefined"!=typeof window&&null!==window&&(C=t(83),D=t(787)),l={py:["pyc"],java:["class"],cs:["exe"],tex:"aux bbl blg fdb_latexmk fls glo idx ilg ind lof log nav out snm synctex.gz toc xyc synctex.gz(busy) sagetex.sage sagetex.sout sagetex.scmd sagetex.sage.py sage-plots-for-FILENAME".split(" "),rnw:["tex","NODOT-concordance.tex"]},r="\\",i='\'"()"~%',o=["doc","docx","pdf","sws"],s=45,d={project_log:{query:{project_id:null,account_id:null,time:null,event:null},options:[{order_by:"-time"},{limit:c}]},public_paths:{query:{id:null,project_id:null,path:null,description:null,disabled:null}}},A=function(e){if(null==e)throw Error("you must explicitly pass a redux object into each function in project_store")},exports.redux_name=x=function(e,t){var n;return n="project-"+e,null!=t&&(n+="-"+t),n},u=function(e){function n(){return this.close_free_warning=L(this.close_free_warning,this),this.show_extra_free_warning=L(this.show_extra_free_warning,this),this.load_target=L(this.load_target,this),this.search=L(this.search,this),this.process_results=L(this.process_results,this),this.toggle_search_checkbox_hidden_files=L(this.toggle_search_checkbox_hidden_files,this),this.toggle_search_checkbox_case_sensitive=L(this.toggle_search_checkbox_case_sensitive,this),this.toggle_search_checkbox_subdirectories=L(this.toggle_search_checkbox_subdirectories,this),this.disable_public_path=L(this.disable_public_path,this),this.set_public_path=L(this.set_public_path,this),this.new_file_from_web=L(this.new_file_from_web,this),this.create_file=L(this.create_file,this),this.create_folder=L(this.create_folder,this),this._absolute_path=L(this._absolute_path,this),this.toggle_upload=L(this.toggle_upload,this),this.show_upload=L(this.show_upload,this),this.print_file=L(this.print_file,this),this.download_file=L(this.download_file,this),this.delete_files=L(this.delete_files,this),this.move_files=L(this.move_files,this),this._move_files=L(this._move_files,this),this.copy_paths_between_projects=L(this.copy_paths_between_projects,this),this.copy_paths=L(this.copy_paths,this),this._convert_to_displayed_path=L(this._convert_to_displayed_path,this),this.zip_files=L(this.zip_files,this),this._finish_exec=L(this._finish_exec,this),this.get_from_web=L(this.get_from_web,this),this.set_file_action=L(this.set_file_action,this),this._suggest_duplicate_filename=L(this._suggest_duplicate_filename,this),this.set_all_files_unchecked=L(this.set_all_files_unchecked,this),this.set_file_list_unchecked=L(this.set_file_list_unchecked,this),this.set_file_list_checked=L(this.set_file_list_checked,this),this.set_file_checked=L(this.set_file_checked,this),this.set_selected_file_range=L(this.set_selected_file_range,this),this.set_most_recent_file_click=L(this.set_most_recent_file_click,this),this.fetch_directory_listing=L(this.fetch_directory_listing,this),this.set_file_search=L(this.set_file_search,this),this.set_current_path=L(this.set_current_path,this),this.open_directory=L(this.open_directory,this),this.foreground_project=L(this.foreground_project,this),this.close_file=L(this.close_file,this),this.close_all_files=L(this.close_all_files,this),this.convert_docx_file=L(this.convert_docx_file,this),this.convert_sagenb_worksheet=L(this.convert_sagenb_worksheet,this),this.flag_file_activity=L(this.flag_file_activity,this),this.set_chat_width=L(this.set_chat_width,this),this.close_chat=L(this.close_chat,this),this.open_chat=L(this.open_chat,this),this._set_chat_state=L(this._set_chat_state,this),this.goto_line=L(this.goto_line,this),this.get_scroll_saver_for=L(this.get_scroll_saver_for,this),this.open_file=L(this.open_file,this),this.save_all_files=L(this.save_all_files,this),this.save_file=L(this.save_file,this),this.log=L(this.log,this),this.set_activity=L(this.set_activity,this),this.set_next_default_filename=L(this.set_next_default_filename,this),this.clear_ghost_file_tabs=L(this.clear_ghost_file_tabs,this),this.add_a_ghost_file_tab=L(this.add_a_ghost_file_tab,this),this.set_active_tab=L(this.set_active_tab,this),this.close_tab=L(this.close_tab,this),this.move_file_tab=L(this.move_file_tab,this),this.push_state=L(this.push_state,this),this.set_url_to_path=L(this.set_url_to_path,this),this.clear_all_activity=L(this.clear_all_activity,this),this.get_state=L(this.get_state,this),this.get_store=L(this.get_store,this),this._ensure_project_is_open=L(this._ensure_project_is_open,this),n.__super__.constructor.apply(this,arguments)}return z(n,e),n.prototype._ensure_project_is_open=function(e,t){var n;return n=this.redux.getStore("projects"),n.is_project_open(this.project_id)?e():(this.redux.getActions("projects").open_project({project_id:this.project_id,switch_to:!0}),n.wait_until_project_is_open(this.project_id,30,e))},n.prototype.get_store=function(){return this.redux.getStore(this.name)},n.prototype.get_state=function(e){return this.get_store().get(e)},n.prototype.clear_all_activity=function(){return this.setState({activity:void 0})},n.prototype.set_url_to_path=function(e){return e.length>0&&!k.endswith(e,"/")&&(e+="/"),this.push_state("files/"+e)},n.prototype.push_state=function(e){var n,r;return r=t(128).set_url,null==e&&(e=this._last_history_state),null==e&&(e=""),this._last_history_state=e,r("/projects/"+this.project_id+"/"+k.encode_path(e)),(n=t(30).analytics_pageview)(window.location.pathname)},n.prototype.move_file_tab=function(e){var t,n,r,i,o,s,a,l;return s=g(e,{old_index:T,new_index:T,open_files_order:T}),i=s.old_index,n=s.new_index,o=s.open_files_order,l=o,t=l.get(i),a=l.delete(i),r=a.splice(n,0,t),this.setState({open_files_order:r})},n.prototype.close_tab=function(e){var t,n,r,i,o;return i=this.get_store().open_files_order,t=this.get_store().active_project_tab,n=i.indexOf(e),o=i.size,k.path_to_tab(e)===t&&(r=1===o?"files":n===o-1?k.path_to_tab(i.get(n-1)):k.path_to_tab(i.get(n+1)),this.set_active_tab(r)),n===o-1?this.clear_ghost_file_tabs():this.add_a_ghost_file_tab(),this.close_file(e)},n.prototype.set_active_tab=function(e){var n,r,i,o,s,a;if(s=this.get_store(),s.active_project_tab!==e)switch(this.setState({active_project_tab:e}),e){case"files":return this.set_url_to_path(null!=(i=s.current_path)?i:""),this.fetch_directory_listing();case"new":return this.setState({file_creation_error:void 0}),this.push_state("new/"+s.current_path),this.set_next_default_filename(t(302).default_filename());case"log":return this.push_state("log");case"search":return this.push_state("search/"+s.current_path);case"settings":return this.push_state("settings");default:if(r=k.tab_to_path(e),null!=(o=this.redux.getActions("file_use"))&&o.mark_file(this.project_id,r,"open"),this.push_state("files/"+r),this.set_current_path(k.path_split(r).head),n="public"===S.getStore("projects").get_my_group(this.project_id),a=s.open_files.getIn([r,"component"]).is_public,n!==a)return this.open_file({path:r})}},n.prototype.add_a_ghost_file_tab=function(){var e;return e=this.get_store().num_ghost_file_tabs,this.setState({num_ghost_file_tabs:e+1})},n.prototype.clear_ghost_file_tabs=function(){return this.setState({num_ghost_file_tabs:0})},n.prototype.set_next_default_filename=function(e){return this.setState({default_filename:e})},n.prototype.set_activity=function(e){var t,n,r,i,o;e=g(e,{id:T,status:void 0,stop:void 0,error:void 0}),i=this.get_store(),null!=i&&(o=null!=(n=i.activity)?n.toJS():void 0,null==o&&(o={}),null!=e.status&&(o[e.id]=e.status,this.setState({activity:o})),null!=e.error&&(t=e.error,""===t?this.setState({error:t}):this.setState({error:((null!=(r=i.error)?r:"")+"\n"+t).trim()})),null!=e.stop&&(e.stop&&(o[e.id]=e.stop),delete o[e.id],this.setState({activity:o})))},n.prototype.log=function(e){var n;if("public"!==(n=this.redux.getStore("projects").get_my_group(this.project_id))&&"admin"!==n)return t(19).salvus_client.query({query:{project_log:{project_id:this.project_id,time:new Date,event:e}},cb:function(t){return function(t){if(t)return console.warn("error recording a log entry: ",t,e)}}(this)})},n.prototype.save_file=function(e){var t,n;if(e=g(e,{path:T}),this.redux.getStore("projects").is_project_open(this.project_id))return t=null!=(n=this.get_store().open_files.getIn([e.path,"component"]))?n.is_public:void 0,C.save(e.path,this.redux,this.project_id,t)},n.prototype.save_all_files=function(){var e,t;if(t=this.redux.getStore("projects"),t.is_project_open(this.project_id)&&(e=t.get_my_group(this.project_id),null!=e&&"public"!==e))return this.get_store().open_files.filter(function(e){return function(t,n){var r,i;return r=null!=(i=t.get("component"))?i.is_public:void 0,C.save(n,e.redux,e.project_id,r),!1}}(this))},n.prototype.open_file=function(e){e=g(e,{path:T,foreground:!0,foreground_project:!0,chat:void 0,chat_width:void 0}),this._ensure_project_is_open(function(n){return function(r){return r?n.set_activity({id:k.uuid(),error:"opening file -- "+r}):n.redux.getStore("projects").wait({until:function(e){return e.get_my_group(n.project_id)},timeout:60,cb:function(r,i){var o,s,a,l,c,u,d,p,f,m,_,g,v,y;return r?void n.set_activity({id:k.uuid(),error:"opening file -- "+r}):(c="public"===i,s=k.filename_extension_notilde(e.path).toLowerCase(),c||"sws"!==s&&"sws~"!==s.slice(0,4)?c||"docx"!==s?(c||(null!=(m=n.redux.getActions("file_use"))&&m.mark_file(n.project_id,e.path,"open"),n.log({event:"open",action:"open",filename:e.path}),u=t(40).local_storage,null!=u&&(null==e.chat&&(e.chat=u(n.project_id,e.path,"is_chat_open")),null==e.chat_width&&(e.chat_width=u(n.project_id,e.path,"chat_width"))),"sage-chat"===k.filename_extension(e.path)&&(e.chat=!1)),v=n.get_store(),null!=v?(p=v.open_files,p.has(e.path)&&(null!=(_=p.getIn([e.path,"component"]))?_.is_public:void 0)===c||(y=null!=(g=p.getIn([e.path,"component"]))?g.is_public:void 0,null!=y&&y!==c&&(n.setState({open_files:v.open_files.delete(e.path)}),C.remove(e.path,n.redux,n.project_id,y)),f=v.open_files_order,d=C.initialize(e.path,n.redux,n.project_id,c),o=C.generate(e.path,n.redux,n.project_id,c),l={redux_name:d,is_public:c,Editor:o},p=p.setIn([e.path,"component"],l),p=p.setIn([e.path,"is_chat_open"],e.chat),p=p.setIn([e.path,"chat_width"],e.chat_width),a=f.indexOf(e.path),a===-1&&(a=f.size),n.setState({open_files:p,open_files_order:f.set(a,e.path)})),e.foreground?(n.foreground_project(),n.set_active_tab(k.path_to_tab(e.path))):void 0):void 0):(h({type:"info",message:"Opening converted plain text file instead of '"+e.path+"..."}),void n.convert_docx_file(e.path,function(r,i){return r?t(36).alert_message({
type:"error",message:"Error converting Microsoft docx file -- "+r}):n.open_file({path:i,foreground:e.foreground,foreground_project:e.foreground_project,chat:e.chat})})):(h({type:"info",message:"Opening converted SageMathCloud worksheet file instead of '"+e.path+"..."}),void n.convert_sagenb_worksheet(e.path,function(r,i){return r?t(36).alert_message({type:"error",message:"Error converting Sage Notebook sws file -- "+r}):n.open_file({path:i,foreground:e.foreground,foreground_project:e.foreground_project,chat:e.chat})})))}})}}(this))},n.prototype.get_scroll_saver_for=function(e){if(null!=e)return function(t){return function(n){var r,i,o;if(o=t.get_store(),null!=(null!=o&&null!=(i=o.open_files)?i.getIn([e,"component"]):void 0))return r=o.open_files.getIn([e,"component"]),r.scroll_position=n}}(this)},n.prototype.goto_line=function(e,t){var n;return null!=(n=D.get_editor(this.project_id,e))&&"function"==typeof n.programmatical_goto_line?n.programmatical_goto_line(t):void 0},n.prototype._set_chat_state=function(e,t){var n,r;if(n=null!=(r=this.get_store())?r.open_files:void 0,null!=n&&null!=e)return this.setState({open_files:n.setIn([e,"is_chat_open"],t)})},n.prototype.open_chat=function(e){var n;return e=g(e,{path:T}),this._set_chat_state(e.path,!0),"function"==typeof(n=t(40)).local_storage?n.local_storage(this.project_id,e.path,"is_chat_open",!0):void 0},n.prototype.close_chat=function(e){var n;return e=g(e,{path:T}),this._set_chat_state(e.path,!1),"function"==typeof(n=t(40)).local_storage?n.local_storage(this.project_id,e.path,"is_chat_open",!1):void 0},n.prototype.set_chat_width=function(e){var n,r,i,o;if(e=g(e,{path:T,width:T}),r=null!=(i=this.get_store())?i.open_files:void 0,null!=r)return o=k.ensure_bound(e.width,.05,.95),"function"==typeof(n=t(40)).local_storage&&n.local_storage(this.project_id,e.path,"chat_width",o),this.setState({open_files:r.setIn([e.path,"chat_width"],o)})},n.prototype.flag_file_activity=function(e){var t,n,r,i;if(null!=e)return null==this._activity_indicator_timers&&(this._activity_indicator_timers={}),i=this._activity_indicator_timers[e],null!=i&&clearTimeout(i),r=function(t){return function(){var n;return n=t.get_store().open_files,t.setState({open_files:n.setIn([e,"has_activity"],!1)})}}(this),this._activity_indicator_timers[e]=setTimeout(r,1e3),n=this.get_store().open_files,t=n.setIn([e,"has_activity"],!0),this.setState({open_files:t})},n.prototype.convert_sagenb_worksheet=function(e,t){return f.series([function(t){return function(n){var r,i,o;return r=k.filename_extension(e),"sws"===r?n():(i=e.length-r.length,o=e.slice(0,i-1)+r.slice(3)+".sws",N.exec({project_id:t.project_id,command:"cp",args:[e,o],cb:function(t,r){return t?n(t):(e=o,n())}}))}}(this),function(t){return function(n){return N.exec({project_id:t.project_id,command:"smc-sws2sagews",args:[e],cb:function(e,t){return n(e)}})}}(this)],function(n){return function(n){return n?t(n):t(void 0,e.slice(0,e.length-3)+"sagews")}}(this))},n.prototype.convert_docx_file=function(e,t){return N.exec({project_id:this.project_id,command:"smc-docx2txt",args:[e],cb:function(n){return function(n,r){return n?t(n+", "+k.to_json(r)):t(!1,e.slice(0,e.length-4)+"txt")}}(this)})},n.prototype.close_all_files=function(){var e,t;if(t=this.get_store().open_files,!t.isEmpty())return e=t.map(function(e){return function(t,n){var r,i;return r=null!=(i=t.getIn(["component"]))?i.is_public:void 0,C.remove(n,e.redux,e.project_id,r),!1}}(this)),this.setState({open_files_order:e,open_files:{}})},n.prototype.close_file=function(e){var t,n,r,i,o,s;if(o=this.get_store(),s=o.open_files_order,t=s.indexOf(e),t!==-1)return r=o.open_files,n=null!=(i=r.getIn([e,"component"]))?i.is_public:void 0,this.setState({open_files_order:s.delete(t),open_files:r.delete(e)}),C.remove(e,this.redux,this.project_id,n)},n.prototype.foreground_project=function(){return this._ensure_project_is_open(function(e){return function(t){return t?console.warn("error putting project in the foreground: ",t,e.project_id,path):e.redux.getActions("projects").foreground_project(e.project_id)}}(this))},n.prototype.open_directory=function(e){return this._ensure_project_is_open(function(t){return function(n){return n?console.log("error opening directory in project: ",n,t.project_id,e):("/"===e[e.length-1]&&(e=e.slice(0,-1)),t.foreground_project(),t.set_current_path(e),"files"===t.get_store().active_project_tab?t.set_url_to_path(e):t.set_active_tab("files"),t.set_all_files_unchecked())}}(this))},n.prototype.set_current_path=function(e){if(NaN===e&&(e=""),null==e&&(e=""),"string"!=typeof e)throw window.cpath_args=arguments,Error("Current path should be a string. Revieved arguments are available in window.cpath_args");return this.setState({current_path:e,page_number:0,most_recent_file_click:void 0}),this.fetch_directory_listing()},n.prototype.set_file_search=function(e){return this.setState({file_search:e,page_number:0,file_action:void 0,most_recent_file_click:void 0,create_file_alert:!1})},n.prototype.fetch_directory_listing=function(e){var t,n,r,i,o,s,a;if(o=g(e,{path:null!=(i=this.get_store())?i.current_path:void 0,sort_by_time:void 0,show_hidden:void 0,finish_cb:void 0}),r=o.path,a=o.sort_by_time,s=o.show_hidden,null!=r&&(null==this._set_directory_files_lock&&(this._set_directory_files_lock={}),t=r+"-"+a+"-"+s,!this._set_directory_files_lock[t]))return this._set_directory_files_lock[t]=!0,n=k.uuid(),this.set_activity({id:n,status:"getting file listing for "+k.trunc_middle(r,30)+"..."}),f.waterfall([function(e){return function(t){return e.redux.getStore("projects").wait({until:function(t){return t.get_my_group(e.project_id)},timeout:30,cb:t})}}(this),function(e){return function(t,n){var i;return i=e.get_store(),null==i?void n("store no longer defined"):(null==r&&(r=i.current_path),null==a&&(a=i.sort_by_time),null==s&&(s=i.show_hidden),b({project_id:e.project_id,path:r,time:a,hidden:s,max_time_s:120,group:t,cb:n}))}}(this)],function(i){return function(o,s){var a,l;if(i.set_activity({id:n,stop:""}),l=i.get_store(),null!=l)return a=l.directory_listings.set(r,o?k.to_json(o):w.fromJS(s.files)),i.setState({directory_listings:a}),delete i._set_directory_files_lock[t],null!=e&&"function"==typeof e.finish_cb?e.finish_cb():void 0}}(this))},n.prototype.increment_selected_file_index=function(){var e,t;return e=null!=(t=this.get_store().selected_file_index)?t:-1,this.setState({selected_file_index:e+1})},n.prototype.decrement_selected_file_index=function(){var e;if(e=this.get_store().selected_file_index,null!=e&&e>0)return this.setState({selected_file_index:e-1})},n.prototype.zero_selected_file_index=function(){return this.setState({selected_file_index:0})},n.prototype.clear_selected_file_index=function(){return this.setState({selected_file_index:void 0})},n.prototype.set_most_recent_file_click=function(e){return this.setState({most_recent_file_click:e})},n.prototype.set_selected_file_range=function(e,t){var n,r,i,o,s,a;return a=this.get_store(),i=a.most_recent_file_click,null==i?s=[e]:(r=a.current_path,o=function(){var e,t,i,o;for(i=a.displayed_listing.listing,o=[],e=0,t=i.length;e<t;e++)n=i[e],o.push(k.path_to_file(r,n.name));return o}(),s=k.get_array_range(o,i,e)),t?this.set_file_list_checked(s):this.set_file_list_unchecked(s)},n.prototype.set_file_checked=function(e,t){var n,r;return r=this.get_store(),n=t?r.checked_files.add(e):r.checked_files.delete(e),this.setState({checked_files:n,file_action:void 0})},n.prototype.set_file_list_checked=function(e){return this.setState({checked_files:this.get_store().checked_files.union(e),file_action:void 0})},n.prototype.set_file_list_unchecked=function(e){return this.setState({checked_files:this.get_store().checked_files.subtract(e),file_action:void 0})},n.prototype.set_all_files_unchecked=function(){return this.setState({checked_files:this.get_store().checked_files.clear(),file_action:void 0})},n.prototype._suggest_duplicate_filename=function(e){var t,n,r,i;if(i=this.get_store(),t={},n=null!=(r=i.directory_listings)?r.get(i.current_path):void 0,"string"==typeof n)return e;for(null!=n&&n.map(function(e){t[e.get("name")]=!0});;)if(e=k.suggest_duplicate_filename(e),!t[e])return e},n.prototype.set_file_action=function(e,t){var n;switch(e){case"move":n=this.get_store().checked_files.toArray(),this.redux.getActions("projects").fetch_directory_tree(this.project_id,{exclusions:n});break;case"copy":this.redux.getActions("projects").fetch_directory_tree(this.project_id);break;case"duplicate":this.setState({new_name:this._suggest_duplicate_filename(t())});break;case"rename":this.setState({new_name:k.path_split(t()).tail})}return this.setState({file_action:e})},n.prototype.get_from_web=function(e){var n,r,i;return e=g(e,{url:T,dest:void 0,timeout:45,alert:!0,cb:void 0}),i=k.transform_get_url(e.url),r=i.command,n=i.args,t(19).salvus_client.exec({project_id:this.project_id,command:r,timeout:e.timeout,path:e.dest,args:n,cb:function(t){return function(t,n){return e.alert&&(t?h({type:"error",message:t}):"error"===n.event&&h({type:"error",message:n.error})),"function"==typeof e.cb?e.cb(t||"error"===n.event):void 0}}(this)})},n.prototype._finish_exec=function(e){return function(t){return function(n,r){return t.fetch_directory_listing(),n?t.set_activity({id:e,error:n}):("error"===(null!=r?r.event:void 0)||(null!=r?r.error:void 0))&&t.set_activity({id:e,error:r.error}),t.set_activity({id:e,stop:""})}}(this)},n.prototype.zip_files=function(e){var t,n,r,i;return e=g(e,{src:T,dest:T,zip_args:void 0,path:void 0,id:void 0}),n=null!=(r=e.id)?r:k.uuid(),this.set_activity({id:n,status:"Creating "+e.dest+" from "+e.src.length+" "+k.plural(e.src.length,"file")}),t=(null!=(i=e.zip_args)?i:[]).concat(["-rq"],[e.dest],e.src),N.exec({project_id:this.project_id,command:"zip",args:t,timeout:50,network_timeout:60,err_on_exit:!0,path:e.path,cb:this._finish_exec(n)})},n.prototype._convert_to_displayed_path=function(e){var t,n;return"/"===e.slice(-1)?e:(null!=(t=this.get_store().displayed_listing)&&null!=(n=t.file_map[k.path_split(e).tail])?n.isdir:void 0)?e+"/":e},n.prototype.copy_paths=function(e){var t,n,r,i;return e=g(e,{src:T,dest:T,id:void 0,only_contents:!1}),i=e.src.map(this._convert_to_displayed_path),this.log({event:"file_action",action:"copied",files:i.slice(0,3),count:e.src.length>3?e.src.length:void 0,dest:e.dest+"/"}),e.only_contents&&(e.src=i),t=function(e){return"-"===e[0]?"./"+e:e},e.src=e.src.map(t),n=null!=(r=e.id)?r:k.uuid(),this.set_activity({id:n,status:"Copying "+e.src.length+" "+k.plural(e.src.length,"file")+" to "+e.dest}),N.exec({project_id:this.project_id,command:"rsync",args:["-rltgoDxH"].concat(e.src).concat([e.dest]),timeout:120,network_timeout:120,err_on_exit:!0,path:".",cb:this._finish_exec(n)})},n.prototype.copy_paths_between_projects=function(e){var t,n,r,i,o;return e=g(e,{public:!1,src_project_id:T,src:T,target_project_id:T,target_path:void 0,overwrite_newer:!1,delete_missing:!1,backup:!1,timeout:void 0,exclude_history:!1,id:void 0}),n=null!=(r=e.id)?r:k.uuid(),this.set_activity({id:n,status:"Copying "+e.src.length+" "+k.plural(e.src.length,"path")+" to another project"}),i=e.src,delete e.src,o=i.map(this._convert_to_displayed_path),this.log({event:"file_action",action:"copied",files:o.slice(0,3),count:i.length>3?i.length:void 0,project:e.target_project_id}),t=function(t){return function(t,n){var r;return r=k.copy(e),r.cb=n,r.src_path=t,r.target_path=k.path_to_file(r.target_path,k.path_split(t).tail),N.copy_path_between_projects(r)}}(this),f.mapLimit(i,3,t,this._finish_exec(n))},n.prototype._move_files=function(e){var t;return e=g(e,{src:T,dest:T,path:void 0,mv_args:void 0,cb:T}),e.dest||null!=e.path||(e.dest="."),N.exec({project_id:this.project_id,command:"mv",args:(null!=(t=e.mv_args)?t:[]).concat(["--"],e.src,[e.dest]),timeout:15,network_timeout:20,err_on_exit:!0,path:e.path,cb:e.cb})},n.prototype.move_files=function(e){var t,n;return e=g(e,{src:T,dest:T,path:void 0,mv_args:void 0,id:void 0}),t=null!=(n=e.id)?n:k.uuid(),this.set_activity({id:t,status:"Moving "+e.src.length+" "+k.plural(e.src.length,"file")+" to "+e.dest}),delete e.id,e.cb=function(n){return function(r){return r?n.set_activity({id:t,error:r}):n.fetch_directory_listing(),n.log({event:"file_action",action:"moved",files:e.src.slice(0,3),count:e.src.length>3?e.src.length:void 0,dest:e.dest}),n.set_activity({id:t,stop:""})}}(this),this._move_files(e)},n.prototype.delete_files=function(e){var t,n;if(e=g(e,{paths:T}),0!==e.paths.length)return t=k.uuid(),n=I.isEqual(e.paths,[".trash"])?"the trash":1===e.paths.length?""+e.paths[0]:e.paths.length+" files",this.set_activity({id:t,status:"Deleting "+n}),N.exec({project_id:this.project_id,command:"rm",timeout:60,args:["-rf","--"].concat(e.paths),cb:function(r){return function(i,o){return i?r.set_activity({id:t,error:"Network error while trying to delete "+n+" -- "+i,stop:""}):"error"===o.event?r.set_activity({id:t,error:"Error deleting "+n+" -- "+o.error,stop:""}):(r.set_activity({id:t,status:"Successfully deleted "+n+".",stop:""}),r.log({event:"file_action",action:"deleted",files:e.paths.slice(0,3),count:e.paths.length>3?e.paths.length:void 0}))}}(this)})},n.prototype.download_file=function(e){var n,r,i,o,s;return i=t(30),n=i.download_file,r=i.open_new_tab,e=g(e,{path:T,log:!1,auto:!0,print:!1,timeout:45}),e.log&&this.log({event:"file_action",action:"downloaded",files:e.path}),e.auto&&!e.print?(s=E(this.project_id).download_href(e.path),n(s)):(s=E(this.project_id).url_href(e.path),o=r(s),null!=o&&e.print&&"function"==typeof o.print?o.print():void 0)},n.prototype.print_file=function(e){return e.print=!0,this.download_file(e)},n.prototype.show_upload=function(e){return this.setState({show_upload:e})},n.prototype.toggle_upload=function(){return this.show_upload(!this.get_state("show_upload"))},n.prototype._absolute_path=function(e,t,n){var i,o,s,a;if(0===e.length)throw Error("Cannot use empty filename");for(o=0,s=r.length;o<s;o++)if(i=r[o],e.indexOf(i)!==-1)throw Error("Cannot use '"+i+"' in a filename");return a=k.path_to_file(t,e),null!=n&&k.filename_extension(a)!==n&&(a=a+"."+n),a},n.prototype.create_folder=function(e){var t,n,r,i,o;e=g(e,{name:T,current_path:void 0,switch_over:!0}),r=e.name,t=e.current_path,o=e.switch_over,this.setState({file_creation_error:void 0}),"/"===r[r.length-1]&&(r=r.slice(0,-1));try{i=this._absolute_path(r,t)}catch(e){return n=e,void this.setState({file_creation_error:n.message})}return E(this.project_id).ensure_directory_exists({path:i,cb:function(e){return function(t){return t?e.setState({file_creation_error:"Error creating directory '"+i+"' -- "+t}):o?e.open_directory(i):void 0}}(this)})},n.prototype.create_file=function(e){var t,n,r,s,a,l,c,u;if(e=g(e,{name:void 0,ext:void 0,current_path:void 0,switch_over:!0}),this.setState({file_creation_error:void 0}),c=e.name,(".."===c||"."===c)&&null==e.ext)return void this.setState({file_creation_error:"Cannot create a file named . or .."});if(c.indexOf("://")!==-1||k.startswith(c,"git@github.com"))return void this.new_file_from_web(c,e.current_path);if("/"===c[c.length-1]){if(null==e.ext)return void this.create_folder({name:c,current_path:e.current_path});c=c.slice(0,c.length-1)}try{u=this._absolute_path(c,e.current_path,e.ext)}catch(e){return n=e,void this.setState({file_creation_error:n.message})}if(r=k.filename_extension(u),P.call(o,r)>=0)return void this.setState({file_creation_error:"Cannot create a file with the "+r+" extension"});if("tex"===r)for(s=k.path_split(c).tail,a=0,l=i.length;a<l;a++)if(t=i[a],s.indexOf(t)!==-1)return void this.setState({file_creation_error:"Cannot use '"+t+"' in a LaTeX filename '"+s+"'"});return N.exec({project_id:this.project_id,command:"smc-new-file",timeout:10,args:[u],err_on_exit:!0,cb:function(t){return function(n,r){var i,o;return n?t.setState({file_creation_error:(null!=(i=null!=r?r.stdout:void 0)?i:"")+" "+(null!=(o=null!=r?r.stderr:void 0)?o:"")+" "+n}):e.switch_over?t.open_file({path:u}):void 0}}(this)})},n.prototype.new_file_from_web=function(e,t,n){var r,i;return r=t,""===r&&(r="root directory of project"),i=k.uuid(),this.set_active_tab("files"),this.set_activity({id:i,status:"Downloading '"+e+"' to '"+r+"', which may run for up to "+s+" seconds..."}),this.get_from_web({url:e,dest:t,timeout:s,alert:!0,cb:function(e){return function(t){return e.fetch_directory_listing(),e.set_activity({id:i,stop:""}),"function"==typeof n?n(t):void 0}}(this)})},n.prototype.set_public_path=function(e,t){var n;return n={project_id:this.project_id,path:e,disabled:!1},null!=t&&(n.description=t),this.redux.getProjectTable(this.project_id,"public_paths").set(n)},n.prototype.disable_public_path=function(e){return this.redux.getProjectTable(this.project_id,"public_paths").set({project_id:this.project_id,path:e,disabled:!0})},n.prototype.toggle_search_checkbox_subdirectories=function(){return this.setState({subdirectories:!this.get_store().subdirectories})},n.prototype.toggle_search_checkbox_case_sensitive=function(){return this.setState({case_sensitive:!this.get_store().case_sensitive})},n.prototype.toggle_search_checkbox_hidden_files=function(){return this.setState({hidden_files:!this.get_store().hidden_files})},n.prototype.process_results=function(e,t,n,r,i){var o,s,l,c,u,d,p,h,f,m,_;if(m=this.get_store(),e&&null==t||null!=t&&null==t.stdout)return void this.setState({search_error:e});for(h=t.stdout.split("\n"),_=t.stdout.length>=r||h.length>n||e,p=0,f=[],c=0,u=h.length;c<u&&(d=h[c],!(""!==d.trim()&&(l=d.indexOf(":"),p+=1,l!==-1&&(s=d.slice(0,l),"./"===s.slice(0,2)&&(s=s.slice(2)),o=d.slice(l+1),o.length>0&&o[0]===a.output&&(l=o.slice(1).indexOf(a.output),o=o.slice(l+2,o.length-1)),f.push({filename:s,description:o})),p>=n)));c++);return m.command===i?this.setState({too_many_results:_,search_results:f}):void 0},n.prototype.search=function(){var e,t,n,r,i,o,s;if(s=this.get_store(),i=s.user_input.trim().replace(/"/g,'\\"'),""!==i)return o='"'+i+'"',t=s.case_sensitive?"":" -i ",e=s.subdirectories?s.hidden_files?"rgrep -I -H --exclude-dir=.smc --exclude-dir=.snapshots "+t+" "+o+" -- *":"rgrep -I -H --exclude-dir='.*' --exclude='.*' "+t+" "+o+" -- *":s.hidden_files?"grep -I -H "+t+" "+o+" -- .* *":"grep -I -H "+t+" "+o+" -- *",e+=" | grep -v "+a.cell,r=1e3,n=110*r,this.setState({search_results:void 0,search_error:void 0,command:e,most_recent_search:i,most_recent_path:s.current_path}),N.exec({project_id:this.project_id,command:e+" | cut -c 1-256",timeout:10,network_timeout:15,max_output:n,bash:!0,err_on_exit:!0,path:s.current_path,cb:function(t){return function(i,o){return t.process_results(i,o,r,n,e)}}(this)})},n.prototype.load_target=function(e,t){var n,r,i,o;switch(null==t&&(t=!0),o=e.split("/"),n=o.slice(1).join("/"),i=o.slice(1,o.length-1).join("/"),r=o.slice(-1).join(),o[0]){case"files":return"/"===e[e.length-1]||""===n?this.open_directory(i):f.waterfall([function(e){return function(t){var n,o,s;return s=e.get_store().get_item_in_path(r,i),o=s.item,n=s.err,t(n,o)}}(this),function(e){return function(t,n){return null==t?e.fetch_directory_listing({path:i,show_hidden:!0,finish_cb:function(){var o,s;return s=e.get_store().get_item_in_path(r,i),t=s.item,o=s.err,n(o,t)}}):n(void 0,t)}}(this)],function(r){return function(i,o){return null!=i&&h("timeout"===i?{type:"error",message:"Timeout opening '"+e+"' -- try later"}:{type:"error",message:"Error opening '"+e+"': "+i}),(null!=o?o.get("isdir"):void 0)?r.open_directory(n):r.open_file({path:n,foreground:t,foreground_project:t})}}(this));case"new":return this.set_current_path(n),this.set_active_tab("new");case"log":return this.set_active_tab("log");case"settings":return this.set_active_tab("settings");case"search":return this.set_current_path(n),this.set_active_tab("search")}},n.prototype.show_extra_free_warning=function(){return this.setState({free_warning_extra_shown:!0})},n.prototype.close_free_warning=function(){return this.setState({free_warning_closed:!0})},n}(n),_=function(e,n){return{name:e,project_id:n,_init:function(){var e;if(e=this.redux.getStore("projects"),null!=(null!=e?e.getIn(["project_map",this.project_id]):void 0))return e.on("change",this._projects_store_collab_check)},destroy:function(){var e;return null!=(e=this.redux.getStore("projects"))?e.removeListener("change",this._projects_store_collab_check):void 0},_projects_store_collab_check:function(e){if(null==e.getIn(["project_map",this.project_id]))return this.redux.getActions("page").close_project_tab(this.project_id)},getInitialState:function(e){return function(){return{current_path:"",sort_by_time:!0,show_hidden:!1,checked_files:w.Set(),public_paths:void 0,directory_listings:w.Map(),user_input:"",show_upload:!1,active_project_tab:"files",open_files_order:w.List([]),open_files:w.Map({}),num_ghost_file_tabs:0}}}(this),reduxState:{account:{other_settings:O.immutable.Map}},stateTypes:{current_path:O.string,open_files:O.immutable.Map,open_files_order:O.immutable.List,public_paths:O.immutable.List,directory_listings:O.immutable,show_upload:O.bool,create_file_alert:O.bool,displayed_listing:m(O.object),active_project_tab:O.string,free_warning_closed:O.bool,free_warning_extra_shown:O.bool,num_ghost_file_tabs:O.number,activity:O.immutable,page_number:O.number,file_action:O.string,file_search:O.string,show_hidden:O.bool,error:O.string,checked_files:O.immutable,selected_file_index:O.number,new_name:O.string,sort_by_time:O.bool,most_recent_file_click:O.string,project_log:O.immutable,search:O.string,page:O.number,default_filename:O.string,file_creation_error:O.string,user_input:O.string,search_results:O.immutable.List,search_error:O.string,too_many_results:O.bool,command:O.string,most_recent_search:O.string,most_recent_path:O.string,subdirectories:O.bool,case_sensitive:O.bool,hidden_files:O.bool,info_visible:O.bool,get_public_path_id:O.func,stripped_public_paths:m(O.immutable.List)},get_public_path_id:function(){return n=this.project_id,function(e){var r,i,o;return o=t(24),r=o.SCHEMA,i=o.client_db,r.public_paths.user_query.set.fields.id({project_id:n,path:e},i)}},sort_by_time:function(){var e;return null!=(e=this.get("sort_by_time"))?e:"time"===this.redux.getStore("account").getIn(["other_settings","default_file_sort"])},displayed_listing:v("directory_listings","current_path","stripped_public_paths","file_search","other_settings")(function(){var e,t,n,r,i,o,s,a;if(s="/",n=this.directory_listings.get(this.current_path),"string"==typeof n)return n.indexOf("ECONNREFUSED")!==-1||n.indexOf("ENOTFOUND")!==-1?{error:"no_instance"}:n.indexOf("o such path")!==-1?{error:"no_dir"}:n.indexOf("ot a directory")!==-1?{error:"not_a_dir"}:n.indexOf("not running")!==-1?{error:"not_running"}:{error:n};if(null==n)return{};if(null!=(null!=n?n.errno:void 0))return{error:k.to_json(n)};for(n=n.toJS(),this.other_settings.get("mask_files")&&this._compute_file_masks(n),".snapshots"===this.current_path&&this._compute_snapshot_display_names(n),o=null!=(i=this.file_search)?i.toLowerCase():void 0,o&&o[0]!==s&&(n=this._matched_files(o,n)),r={},e=0,t=n.length;e<t;e++)a=n[e],r[a.name]=a;return a={listing:n,public:{},path:this.current_path,file_map:r},this._compute_public_files(a,this.stripped_public_paths,this.current_path),a}),stripped_public_paths:v("public_paths")(function(){var e,t;if(null!=this.public_paths)return w.fromJS(function(){var n,r;n=this.public_paths.toJS(),r=[];for(e in n)t=n[e],r.push(k.copy_without(t,["id","project_id"]));return r}.call(this))}),get_users_cursors:function(e,t){var n;return null!=(n=D.get_editor(this.project_id,e))&&"function"==typeof n.get_users_cursors?n.get_users_cursors(t):void 0},is_file_open:function(e){return null!=this.getIn(["open_files",e])},get_item_in_path:function(e,t){var n;return n=this.directory_listings.get(t),"string"==typeof n?{err:n}:{item:null!=n?n.find(function(t){return function(t){return t.get("name")===e}}(this)):void 0}},get_raw_link:function(e){var t;return t=document.URL,t=t.slice(0,t.indexOf("/projects/")),t+"/"+this.project_id+"/raw/"+k.encode_path(e)},_match:function(e,t,n){var r,i,o;for(t=t.toLowerCase(),r=0,i=e.length;r<i;r++)if(o=e[r],"/"===o[o.length-1]){if(!n)return!1;if(t.indexOf(o.slice(0,-1))===-1)return!1}else if(t.indexOf(o)===-1)return!1;return!0},_matched_files:function(e,t){var n,r;return null==t?[]:(n=e.split(" "),function(){var e,i,o,s;for(s=[],e=0,i=t.length;e<i;e++)r=t[e],this._match(n,null!=(o=r.display_name)?o:r.name,r.isdir)&&s.push(r);return s}.call(this))},_compute_file_masks:function(e){var t,n,r,i,o,s,a,c,u,d,p;for(s=k.dict(function(){var t,n,r;for(r=[],t=0,n=e.length;t<n;t++)a=e[t],r.push([a.name,a]);return r}()),p=[],c=0,u=e.length;c<u;c++)i=e[c],o=i.name,k.startswith(o,".")?i.mask=!0:(r=k.filename_extension(o).toLowerCase(),t=o.slice(0,o.length-r.length),p.push(function(){var e,i,a,c,u,p;for(c=null!=(a=l[r])?a:[],p=[],e=0,i=c.length;e<i;e++)d=c[e],k.startswith(d,"NODOT")?(n=t.slice(0,-1),d=d.slice(5)):d.indexOf("FILENAME")>=0?(n=d.replace("FILENAME",o),d=""):n=t,p.push(null!=(u=s[""+n+d])?u.mask=!0:void 0);return p}()));return p},_compute_snapshot_display_names:function(e){var t,n,r,i,o;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],o=k.parse_bup_timestamp(t.name),t.display_name=""+o,i.push(t.mtime=(o-0)/1e3);return i},_compute_public_files:function(e){return function(e,t,n){var r,i,o,s,a,l,c,u,d,p,h,f,m,_;if(c=e.listing,h=e.public,_=t,null!=_&&_.size>0){for(i=n?n+"/":"",p=[],u={},f=_.toJS(),o=0,a=f.length;o<a;o++)e=f[o],u[e.path]=e,p.push(e.path);for(m=[],s=0,l=c.length;s<l;s++)e=c[s],r=i+e.name,d=k.containing_public_path(r,p),null!=d?(e.public=u[d],e.is_public=!e.public.disabled,m.push(h[e.name]=u[d])):m.push(void 0);return m}}}(this)}},exports.getStore=y=function(e,t){var n,r,i,o,s,a,l,c,h,f;if(A(t),s=x(e),c=t.getStore(s),null!=c)return c;r=t.createActions(s,u),r.project_id=e,c=t.createStore(_(s,e)),l=k.deep_copy(d),i=function(e,t){var n;return n=function(n){function i(){return this._change=L(this._change,this),this.options=L(this.options,this),this.query=L(this.query,this),i.__super__.constructor.apply(this,arguments)}return z(i,n),i.prototype.query=function(){var n;return n={},n[""+e]=t.query,n},i.prototype.options=function(){return t.options},i.prototype._change=function(t,n){var i;return r.setState((i={},i[""+e]=t.get(),i))},i}(p)};for(h in l){a=l[h];for(o in a)f=a[o],"function"==typeof f&&(a[o]=f());a.query.project_id=e,n=t.createTable(x(e,h),i(h,a))}return c},exports.getActions=function(e,t){return A(t),null==y(e,t)&&y(e,t),t.getActions(x(e))},exports.getTable=function(e,t,n){return A(n),null==y(e,n)&&y(e,n),n.getTable(x(e,t))},exports.deleteStoreActionsTable=function(e,t){var n,r,i,o;A(t),r=x(e),null!=(i=t.getStore(r))&&"function"==typeof i.destroy&&i.destroy(),t.getActions(r).close_all_files(),t.removeActions(r);for(o in d)n=d[o],t.removeTable(x(e,o));return t.removeStore(r)},b=function(e){var n,r,i,o,s;return e=g(e,{project_id:T,path:T,time:T,hidden:T,max_time_s:T,group:T,cb:T}),N=t(19).salvus_client,o="owner"===(s=e.group)||"collaborator"===s||"admin"===s?N.project_directory_listing:N.public_project_directory_listing,r=void 0,i=void 0,n=function(t){return o({project_id:e.project_id,path:e.path,time:e.time,hidden:e.hidden,timeout:15,cb:function(e,n){return"string"==typeof e&&e.indexOf("error: no such path")!==-1?(i=e,r=n,t()):(r=n,t(e))}})},k.retry_until_success({f:n,max_time:1e3*e.max_time_s,cb:function(t){return e.cb(null!=t?t:i,r)}})}},function(e,exports,t){function n(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;exports.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t(779),exports.setImmediate=setImmediate,exports.clearImmediate=clearImmediate},function(e,exports,t){(function(e){(function(){var t,n,r,i,o,s,a,l,c=[].slice,u={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=function(){},n=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,r,i,o;if(r=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[r])for(i=0,o=n.length;i<o;i++)t=n[i],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,r,i,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(r=this._callbacks[e],!r)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(i=o=0,s=r.length;o<s;i=++o)if(n=r[i],n===t){r.splice(i,1);break}return this},e}(),t=function(e){function t(e,n){var i,o,s;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw Error("Invalid dropzone element.");if(this.element.dropzone)throw Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,i=null!=(s=t.optionsForElement(this.element))?s:{},this.options=r({},this.defaultOptions,i,null!=n?n:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=t.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=t.getElements(this.options.clickable,"clickable")),this.init()}var r,i;return d(t,e),t.prototype.Emitter=n,t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",
dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,n,r,i,o,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),i=0,o=s.length;i<o;i++)e=s[i],/(^| )dz-message($| )/.test(e.className)&&(n=e,e.className="dz-message");return n||(n=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),r=n.getElementsByTagName("span")[0],r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,r;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),r=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>r?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*r):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/r),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n,r,i,o,s,a,l,c,u,d,p,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=d.length;o<l;o++)n=d[o],n.textContent=this._renameFilename(e.name);for(p=e.previewElement.querySelectorAll("[data-dz-size]"),s=0,c=p.length;s<c;s++)n=p[s],n.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),r=function(n){return function(r){return r.preventDefault(),r.stopPropagation(),e.status===t.UPLOADING?t.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(e)}):n.options.dictRemoveFileConfirmation?t.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(e)}):n.removeFile(e)}}(this),h=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,u=h.length;a<u;a++)i=h[a],f.push(i.addEventListener("click",r));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,r,i,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=0,i=o.length;r<i;r++)n=o[r],n.alt=e.name,n.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,r,i,o,s;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],r=0,i=o.length;r<i;r++)n=o[r],s.push(n.textContent=t);return s}},errormultiple:a,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:a,uploadprogress:function(e,t,n){var r,i,o,s,a;if(e.previewElement){for(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],i=0,o=s.length;i<o;i++)r=s[i],"PROGRESS"===r.nodeName?a.push(r.value=t):a.push(r.style.width=""+t+"%");return a}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,addedfiles:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},r=function(){var e,t,n,r,i,o,s;for(r=arguments[0],n=2<=arguments.length?c.call(arguments,1):[],o=0,s=n.length;o<s;o++){t=n[o];for(e in t)i=t[e],r[e]=i}return r},t.prototype.getAcceptedFiles=function(){var e,t,n,r,i;for(r=this.files,i=[],t=0,n=r.length;t<n;t++)e=r[t],e.accepted&&i.push(e);return i},t.prototype.getRejectedFiles=function(){var e,t,n,r,i;for(r=this.files,i=[],t=0,n=r.length;t<n;t++)e=r[t],e.accepted||i.push(e);return i},t.prototype.getFilesWithStatus=function(e){var t,n,r,i,o;for(i=this.files,o=[],n=0,r=i.length;n<r;n++)t=i[n],t.status===e&&o.push(t);return o},t.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(t.QUEUED)},t.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(t.UPLOADING)},t.prototype.getAddedFiles=function(){return this.getFilesWithStatus(t.ADDED)},t.prototype.getActiveFiles=function(){var e,n,r,i,o;for(i=this.files,o=[],n=0,r=i.length;n<r;n++)e=i[n],e.status!==t.UPLOADING&&e.status!==t.QUEUED||o.push(e);return o},t.prototype.init=function(){var e,n,r,i,o,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(r=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,i,o;if(n=e.hiddenFileInput.files,n.length)for(i=0,o=n.length;i<o;i++)t=n[i],e.addFile(t);return e.emit("addedfiles",n),r()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,i=0,o=a.length;i<o;i++)e=a[i],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),n=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){return n(t),e.emit("dragenter",t)}}(this),dragover:function(e){return function(t){var r;try{r=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy",n(t),e.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){return n(t),e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(n){return e.listeners.push({element:n,events:{click:function(r){return(n!==e.element||r.target===e.element||t.elementInside(r.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,n,r,i,o,s,a;if(r=0,n=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),o=0,s=a.length;o<s;o++)t=a[o],r+=t.upload.bytesSent,n+=t.upload.total;i=100*r/n}else i=100;return this.emit("totaluploadprogress",i,n,r)},t.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},t.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},t.prototype.getFallbackForm=function(){var e,n,r,i;return(e=this.getExistingFallback())?e:(r='<div class="dz-fallback">',this.options.dictFallbackText&&(r+="<p>"+this.options.dictFallbackText+"</p>"),r+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',n=t.createElement(r),"FORM"!==this.element.tagName?(i=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),i.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:n)},t.prototype.getExistingFallback=function(){var e,t,n,r,i,o;for(t=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],r=0,i=o.length;r<i;r++)if(n=o[r],e=t(this.element.getElementsByTagName(n)))return e},t.prototype.setupEventListeners=function(){var e,t,n,r,i,o,s;for(o=this.listeners,s=[],r=0,i=o.length;r<i;r++)e=o[r],s.push(function(){var r,i;r=e.events,i=[];for(t in r)n=r[t],i.push(e.element.addEventListener(t,n,!1));return i}());return s},t.prototype.removeEventListeners=function(){var e,t,n,r,i,o,s;for(o=this.listeners,s=[],r=0,i=o.length;r<i;r++)e=o[r],s.push(function(){var r,i;r=e.events,i=[];for(t in r)n=r[t],i.push(e.element.removeEventListener(t,n,!1));return i}());return s},t.prototype.disable=function(){var e,t,n,r,i;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),r=this.files,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(this.cancelUpload(e));return i},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t,n,r,i,o,s,a,l;if(r=0,i="b",e>0){for(s=["TB","GB","MB","KB","b"],n=a=0,l=s.length;a<l;n=++a)if(o=s[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){r=e/Math.pow(this.options.filesizeBase,4-n),i=o;break}r=Math.round(10*r)/10}return"<strong>"+r+"</strong> "+i},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},t.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},t.prototype.handleFiles=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.addFile(t));return i},t.prototype._addFilesFromItems=function(e){var t,n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?o.push(this.addFile(n.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},t.prototype._addFilesFromDirectory=function(e,t){var n,r,i;return n=e.createReader(),r=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},(i=function(e){return function(){return n.readEntries(function(n){var r,o,s;if(n.length>0){for(o=0,s=n.length;o<s;o++)r=n[o],r.isFile?r.file(function(n){if(!e.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return n.fullPath=""+t+"/"+n.name,e.addFile(n)}):r.isDirectory&&e._addFilesFromDirectory(r,""+t+"/"+r.name);i()}return null},r)}}(this))()},t.prototype.accept=function(e,n){return e.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},t.prototype.enqueueFiles=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)t=e[n],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){if(e.status!==t.ADDED||e.accepted!==!0)throw Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)},t.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},t.prototype.removeFile=function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=l(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},t.prototype.removeAllFiles=function(e){var n,r,i,o;for(null==e&&(e=!1),o=this.files.slice(),r=0,i=o.length;r<i;r++)n=o[r],(n.status!==t.UPLOADING||e)&&this.removeFile(n);return null},t.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(r){return function(){return"image/svg+xml"===e.type?(r.emit("thumbnail",e,n.result),void(null!=t&&t())):r.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},t.prototype.createThumbnailFromUrl=function(e,t,n,r){var i;return i=document.createElement("img"),r&&(i.crossOrigin=r),i.onload=function(t){return function(){var r,o,a,l,c,u,d,p;if(e.width=i.width,e.height=i.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),r=document.createElement("canvas"),o=r.getContext("2d"),r.width=a.trgWidth,r.height=a.trgHeight,s(o,i,null!=(c=a.srcX)?c:0,null!=(u=a.srcY)?u:0,a.srcWidth,a.srcHeight,null!=(d=a.trgX)?d:0,null!=(p=a.trgY)?p:0,a.trgWidth,a.trgHeight),l=r.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n)return n()}}(this),null!=n&&(i.onerror=n),i.src=t},t.prototype.processQueue=function(){var e,t,n,r;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(r=this.getQueuedFiles(),r.length>0)){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,t-n));for(;e<t;){if(!r.length)return;this.processFile(r.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var n,r,i;for(r=0,i=e.length;r<i;r++)n=e[r],n.processing=!0,n.status=t.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,r,i,o;for(i=this.files,o=[],n=0,r=i.length;n<r;n++)t=i[n],t.xhr===e&&o.push(t);return o}.call(this)},t.prototype.cancelUpload=function(e){var n,r,i,o,s,a,l;if(e.status===t.UPLOADING){for(r=this._getFilesWithXhr(e.xhr),i=0,s=r.length;i<s;i++)n=r[i],n.status=t.CANCELED;for(e.xhr.abort(),o=0,a=r.length;o<a;o++)n=r[o],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",r)}else(l=e.status)!==t.ADDED&&l!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},i=function(){var e,t;return t=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var n,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R;for(x=new XMLHttpRequest,k=0,S=e.length;k<S;k++)n=e[k],n.xhr=x;m=i(this.options.method,e),b=i(this.options.url,e),x.open(m,b,!0),x.withCredentials=!!this.options.withCredentials,v=null,s=function(t){return function(){var r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(t._errorProcessing(e,v||t.options.dictResponseError.replace("{{statusCode}}",x.status),x));return o}}(this),y=function(t){return function(r){var i,o,s,a,l,c,u,d,p;if(null!=r)for(o=100*r.loaded/r.total,s=0,c=e.length;s<c;s++)n=e[s],n.upload={progress:o,total:r.total,bytesSent:r.loaded};else{for(i=!0,o=100,a=0,u=e.length;a<u;a++)n=e[a],100===n.upload.progress&&n.upload.bytesSent===n.upload.total||(i=!1),n.upload.progress=o,n.upload.bytesSent=n.upload.total;if(i)return}for(p=[],l=0,d=e.length;l<d;l++)n=e[l],p.push(t.emit("uploadprogress",n,o,n.upload.bytesSent));return p}}(this),x.onload=function(n){return function(r){var i;if(e[0].status!==t.CANCELED&&4===x.readyState){if(v=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(e){r=e,v="Invalid JSON response from server."}return y(),200<=(i=x.status)&&i<300?n._finished(e,v,r):s()}}}(this),x.onerror=function(n){return function(){if(e[0].status!==t.CANCELED)return s()}}(this),g=null!=(N=x.upload)?N:x,g.onprogress=y,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&r(c,this.options.headers);for(a in c)l=c[a],l&&x.setRequestHeader(a,l);if(o=new FormData,this.options.params){I=this.options.params;for(f in I)w=I[f],o.append(f,w)}for(A=0,j=e.length;A<j;A++)n=e[A],this.emit("sending",n,x,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,x,o),"FORM"===this.element.tagName)for(D=this.element.querySelectorAll("input, textarea, select, button"),C=0,M=D.length;C<M;C++)if(d=D[C],p=d.getAttribute("name"),h=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(L=d.options,E=0,T=L.length;E<T;E++)_=L[E],_.selected&&o.append(p,_.value);else(!h||"checkbox"!==(z=h.toLowerCase())&&"radio"!==z||d.checked)&&o.append(p,d.value);for(u=O=0,R=e.length-1;0<=R?O<=R:O>=R;u=0<=R?++O:--O)o.append(this._getParamName(u),e[u],this._renameFilename(e[u].name));return this.submitRequest(x,o,e)},t.prototype.submitRequest=function(e,t,n){return e.send(t)},t.prototype._finished=function(e,n,r){var i,o,s;for(o=0,s=e.length;o<s;o++)i=e[o],i.status=t.SUCCESS,this.emit("success",i,n,r),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,n,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t.prototype._errorProcessing=function(e,n,r){var i,o,s;for(o=0,s=e.length;o<s;o++)i=e[o],i.status=t.ERROR,this.emit("error",i,n,r),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,n,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t}(n),t.version="4.3.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[r(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},t.autoDiscover=!0,t.discover=function(){var e,n,r,i,o,s;for(document.querySelectorAll?r=document.querySelectorAll(".dropzone"):(r=[],e=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?o.push(r.push(t)):o.push(void 0);return o},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],i=0,o=r.length;i<o;i++)n=r[i],t.optionsForElement(n)!==!1?s.push(new t(n)):s.push(void 0);return s},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,n,r,i,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,r=0,i=o.length;r<i;r++)n=o[r],n.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},l=function(e,t){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],n!==t&&o.push(n);return o},r=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},t.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},t.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},t.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},t.getElements=function(e,t){var n,r,i,o,s,a,l,c;if(e instanceof Array){i=[];try{for(o=0,a=e.length;o<a;o++)r=e[o],i.push(this.getElement(r,t))}catch(e){n=e,i=null}}else if("string"==typeof e)for(i=[],c=document.querySelectorAll(e),s=0,l=c.length;s<l;s++)r=c[s],i.push(r);else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},t.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},t.isValidFile=function(e,t){var n,r,i,o,s;if(!t)return!0;for(t=t.split(","),r=e.type,n=r.replace(/\/.*$/,""),o=0,s=t.length;o<s;o++)if(i=t[o],i=i.trim(),"."===i.charAt(0)){if(e.name.toLowerCase().indexOf(i.toLowerCase(),e.name.length-i.length)!==-1)return!0}else if(/\/\*$/.test(i)){if(n===i.replace(/\/.*$/,""))return!0}else if(r===i)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),void 0!==e&&null!==e?e.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",o=function(e){var t,n,r,i,o,s,a,l,c,u;for(a=e.naturalWidth,s=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=s,r=n.getContext("2d"),r.drawImage(e,0,0),i=r.getImageData(0,0,1,s).data,u=0,o=s,l=s;l>u;)t=i[4*(l-1)+3],0===t?o=l:u=l,l=o+u>>1;return c=l/s,0===c?1:c},s=function(e,t,n,r,i,s,a,l,c,u){var d;return d=o(t),e.drawImage(t,n,r,i,s,a,l,c,u/d)},i=function(e,t){var n,r,i,o,s,a,l,c,u;if(i=!1,u=!0,r=e.document,c=r.documentElement,n=r.addEventListener?"addEventListener":"attachEvent",l=r.addEventListener?"removeEventListener":"detachEvent",a=r.addEventListener?"":"on",o=function(n){if("readystatechange"!==n.type||"complete"===r.readyState)return("load"===n.type?e:r)[l](a+n.type,o,!1),!i&&(i=!0)?t.call(e,n.type||n):void 0},s=function(){var e;try{c.doScroll("left")}catch(t){return e=t,void setTimeout(s,50)}return o("poll")},"complete"!==r.readyState){if(r.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(e){}u&&s()}return r[n](a+"DOMContentLoaded",o,!1),r[n](a+"readystatechange",o,!1),e[n](a+"load",o,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},i(window,t._autoDiscoverFunction)}).call(this)}).call(exports,t(130)(e))},,function(e,exports,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var r=t(1173),i=t(1174),o=t(1175),s=t(1176),a=t(1177);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=o,n.prototype.has=s,n.prototype.set=a,e.exports=n},function(e,exports,t){function n(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=t(596);e.exports=n},function(e,exports){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(exports,function(){return this}())},function(e,exports,t){function n(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=t(1170);e.exports=n},function(e,exports,t){var n=t(155),r=n(Object,"create");e.exports=r},function(e,exports){function t(e,t){return function(n){return e(t(n))}}e.exports=t},function(e,exports,t){function n(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var r=t(241),i=1/0;e.exports=n},function(e,exports){function t(e){return e}e.exports=t},function(e,exports,t){function n(e){return o(e)?r(e):i(e)}var r=t(1117),i=t(1132),o=t(239);e.exports=n},function(e,exports,t){"use strict";function n(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===r?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var r=(t(177),9);e.exports=n},function(e,exports,t){"use strict";function n(){this.reinitializeTransaction()}var r=t(25),i=t(47),o=t(118),s=t(42),a={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,a];r(n.prototype,o,{getTransactionWrappers:function(){return c}});var u=new n,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var s=d.isBatchingUpdates;return d.isBatchingUpdates=!0,s?e(t,n,r,i,o):u.perform(e,null,t,n,r,i,o)}};e.exports=d},function(e,exports,t){"use strict";function n(){x||(x=!0,g.EventEmitter.injectReactEventListener(_),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginUtils.injectComponentTree(d),g.EventPluginUtils.injectTreeTraversal(h),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,
EnterLeaveEventPlugin:a,ChangeEventPlugin:o,SelectEventPlugin:b,BeforeInputEventPlugin:i}),g.HostComponent.injectGenericComponentClass(u),g.HostComponent.injectTextComponentClass(f),g.DOMProperty.injectDOMPropertyConfig(r),g.DOMProperty.injectDOMPropertyConfig(l),g.DOMProperty.injectDOMPropertyConfig(y),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),g.Updates.injectReconcileTransaction(v),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(c))}var r=t(669),i=t(671),o=t(673),s=t(675),a=t(676),l=t(678),c=t(680),u=t(683),d=t(28),p=t(684),h=t(692),f=t(690),m=t(319),_=t(695),g=t(696),v=t(700),y=t(703),b=t(704),w=t(705),x=!1;e.exports={inject:n}},function(e,exports,t){"use strict";var n=t(716),r=/\/?>/,i=/^<\!\-\-/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return i.test(e)?e:e.replace(r," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var r=t.getAttribute(o.CHECKSUM_ATTR_NAME);r=r&&parseInt(r,10);var i=n(e);return i===r}};e.exports=o},function(e,exports,t){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var r=t(25),i=t(67),o=t(118),s=(t(45),t(702)),a=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return a},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(n.prototype,o,c),i.addPoolingTo(n),e.exports=n},function(e,exports){"use strict";e.exports="15.5.4"},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.connect=exports.Provider=void 0;var r=t(737),i=n(r),o=t(738),s=n(o);exports.Provider=i.default,exports.connect=s.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=t(1),d=n(u),p=t(742),h=n(p),f=t(741),m=n(f),_=60,g=60*_,v=24*g,y=7*v,b=30*v,w=365*v,x=function(e){function t(){var e,n,r,s;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.isStillMounted=!1,r.tick=function(e){if(r.isStillMounted&&r.props.live){var t=(0,m.default)(r.props.date).valueOf();if(!t)return void console.warn("[react-timeago] Invalid Date provided");var n=r.props.now(),i=Math.round(Math.abs(n-t)/1e3),o=i<_?1e3:i<g?1e3*_:i<v?1e3*g:0,s=Math.min(Math.max(o,1e3*r.props.minPeriod),1e3*r.props.maxPeriod);s&&(r.timeoutId=setTimeout(r.tick,s)),e||r.forceUpdate()}},s=n,o(r,s)}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.props.live&&this.tick(!0)}},{key:"componentDidUpdate",value:function(e){this.props.live===e.live&&this.props.date===e.date||(!this.props.live&&this.timeoutId&&clearTimeout(this.timeoutId),this.tick())}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}},{key:"render",value:function(){var e=this.props,t=e.date,n=(e.formatter,e.component),i=(e.live,e.minPeriod,e.maxPeriod,e.title),o=r(e,["date","formatter","component","live","minPeriod","maxPeriod","title"]),s=(0,m.default)(t).valueOf();if(!s)return null;var c=this.props.now(),u=Math.round(Math.abs(c-s)/1e3),p=s<c?"ago":"from now",f=u<_?[Math.round(u),"second"]:u<g?[Math.round(u/_),"minute"]:u<v?[Math.round(u/g),"hour"]:u<y?[Math.round(u/v),"day"]:u<b?[Math.round(u/y),"week"]:u<w?[Math.round(u/b),"month"]:[Math.round(u/w),"year"],x=l(f,2),k=x[0],A=x[1],C=void 0===i?"string"==typeof t?t:(0,m.default)(t).toISOString().substr(0,16).replace("T"," "):i;"time"===n&&(o.dateTime=(0,m.default)(t).toISOString());var E=h.default.bind(null,k,A,p,s);return d.default.createElement(n,a({},o,{title:C}),this.props.formatter(k,A,p,s,E))}}]),t}(u.Component);x.displayName="TimeAgo",x.defaultProps={live:!0,component:"time",minPeriod:0,maxPeriod:1/0,formatter:h.default,now:function(){return Date.now()}},exports.default=x},function(e,exports,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function s(e){return e&&!isNaN(e.getTime())?e:null}function a(e){return p({moveBack:"navigate back",moveForward:"navigate forward"},e)}exports.__esModule=!0;var l,c,u,d,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=t(1),f=r(h),m=t(3),_=r(m),g=t(43),v=r(g),y=t(180),b=r(y),w=t(749),x=r(w),k=t(748),A=r(k),C=t(751),E=r(C),S=t(756),j=r(S),M=t(747),T=r(M),O=t(743),N=r(O),I=t(46),D=t(39),L=r(D),z=t(69),R=r(z),P=t(754),B=r(P),q=t(62),F=r(q),U=t(183),W=n(U),H=t(27),K=r(H),G=t(51),Y=t(68),J=W.directions,V=function(e){return Object.keys(e).map(function(t){return e[t]})},Q=function(e){return K.default.transform(e,function(e,t,n){e[t]=n},{})},Z=W.calendarViews,X=V(Z),ee=Q(W.calendarViewHierarchy),te=W.calendarViewHierarchy,ne=W.calendarViewUnits,re=(l={},l[Z.MONTH]=E.default,l[Z.YEAR]=j.default,l[Z.DECADE]=T.default,l[Z.CENTURY]=N.default,l),ie={ArrowDown:J.DOWN,ArrowUp:J.UP,ArrowRight:J.RIGHT,ArrowLeft:J.LEFT},oe=(c={},c[J.LEFT]=J.RIGHT,c[J.RIGHT]=J.LEFT,c),se=(u={},u[Z.YEAR]=1,u[Z.DECADE]=10,u[Z.CENTURY]=100,u),ae=function(e,t){return I.date.getFormat(t,e[t+"Format"])},le={disabled:L.default.disabled,readOnly:L.default.readOnly,onChange:f.default.PropTypes.func,value:f.default.PropTypes.instanceOf(Date),min:f.default.PropTypes.instanceOf(Date),max:f.default.PropTypes.instanceOf(Date),currentDate:f.default.PropTypes.instanceOf(Date),onCurrentDateChange:f.default.PropTypes.func,view:f.default.PropTypes.oneOf(X),initialView:f.default.PropTypes.oneOf(X),finalView:function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var s=f.default.PropTypes.oneOf(X).apply(void 0,[e,t,n].concat(i));return s?s:X.indexOf(e[t])<X.indexOf(e.initialView)?Error(("The `"+t+"` prop: `"+e[t]+"` cannot be 'lower' than the `initialView`\n        prop. This creates a range that cannot be rendered.").replace(/\n\t/g,"")):void 0},onViewChange:f.default.PropTypes.func,onNavigate:f.default.PropTypes.func,culture:f.default.PropTypes.string,footer:f.default.PropTypes.bool,dayComponent:L.default.elementType,headerFormat:L.default.dateFormat,footerFormat:L.default.dateFormat,dayFormat:L.default.dateFormat,dateFormat:L.default.dateFormat,monthFormat:L.default.dateFormat,yearFormat:L.default.dateFormat,decadeFormat:L.default.dateFormat,centuryFormat:L.default.dateFormat,messages:f.default.PropTypes.shape({moveBack:f.default.PropTypes.string,moveForward:f.default.PropTypes.string})},ce=f.default.createClass((d={displayName:"Calendar",mixins:[t(126),t(757),t(99),t(182),t(56)(),t(181)({willHandle:function(){if(+this.props.tabIndex===-1)return!1}})],propTypes:le,getInitialState:function(){return{selectedIndex:0,view:this.props.initialView||"month"}},getDefaultProps:function(){return{value:null,min:new Date(1900,0,1),max:new Date(2099,11,31),currentDate:new Date,initialView:"month",finalView:"century",tabIndex:"0",footer:!1,ariaActiveDescendantKey:"calendar",messages:a({})}},componentWillMount:function(){this.changeCurrentDate(this.props.value)},componentWillReceiveProps:function(e){var t=X.indexOf(e.initialView),n=X.indexOf(e.finalView),r=X.indexOf(this.state.view),i=this.state.view,o=this.inRangeValue(e.value);r<t?this.setState({view:i=e.initialView}):r>n&&this.setState({view:i=e.finalView}),F.default.eq(o,s(this.props.value),ne[i])||this.changeCurrentDate(o,e.currentDate)},render:function(){var e=this,t=this.props,n=t.className,r=t.value,i=t.footerFormat,o=t.disabled,s=t.readOnly,l=t.finalView,c=t.footer,u=t.messages,d=t.min,h=t.max,m=t.culture,g=t.duration,v=t.tabIndex,y=t.currentDate,w=this.state,k=w.view,C=w.slideDirection,E=w.focused,S=re[k],j=ne[k],M=new Date,T=!F.default.inRange(M,d,h,k);j="day"===j?"date":j;var O=(0,G.instanceId)(this,"_calendar"),N=(0,G.instanceId)(this,"_calendar_label"),I=k+"_"+F.default[k](y),D=K.default.omitOwnProps(this),L=K.default.pickProps(this.props,S),z=o||s;return u=a(this.props.messages),f.default.createElement(b.default,p({},D,{role:"group",focused:E,disabled:o,readOnly:s,tabIndex:v||0,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:(0,_.default)(n,"rw-calendar")}),f.default.createElement(x.default,{label:this._label(),labelId:N,messages:u,upDisabled:z||k===l,prevDisabled:z||!F.default.inRange(this.nextDate(J.LEFT),d,h,k),nextDisabled:z||!F.default.inRange(this.nextDate(J.RIGHT),d,h,k),onViewChange:this.navigate.bind(null,J.UP,null),onMoveLeft:this.navigate.bind(null,J.LEFT,null),onMoveRight:this.navigate.bind(null,J.RIGHT,null)}),f.default.createElement(B.default,{ref:"animation",duration:g,direction:C,onAnimate:function(){return E&&e.focus()}},f.default.createElement(S,p({},L,{key:I,id:O,value:r,today:M,focused:y,onChange:this.change,onKeyDown:this.handleKeyDown,"aria-labelledby":N,ariaActiveDescendantKey:"calendarView"}))),c&&f.default.createElement(A.default,{value:M,format:i,culture:m,disabled:o||T,readOnly:s,onClick:this.select}))},navigate:function(e,t){var n=this.state.view,r=e===J.LEFT||e===J.UP?"right":"left";t||(t=[J.LEFT,J.RIGHT].indexOf(e)!==-1?this.nextDate(e):this.props.currentDate),e===J.DOWN&&(n=ee[n]||n),e===J.UP&&(n=te[n]||n),this.isValidView(n)&&F.default.inRange(t,this.props.min,this.props.max,n)&&((0,G.notify)(this.props.onNavigate,[t,r,n]),this.focus(!0),this.changeCurrentDate(t),this.setState({slideDirection:r,view:n}))},focus:function(){+this.props.tabIndex>-1&&v.default.findDOMNode(this).focus()},change:function(e){return this.state.view===this.props.initialView?(this.changeCurrentDate(e),(0,G.notify)(this.props.onChange,e),void this.focus()):void this.navigate(J.DOWN,e)},changeCurrentDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.currentDate,n=this.inRangeValue(e?new Date(e):t);F.default.eq(n,s(t),ne[this.state.view])||(0,G.notify)(this.props.onCurrentDateChange,n)},select:function(e){var t=this.props.initialView,n=t!==this.state.view||F.default.gt(e,this.state.currentDate)?"left":"right";(0,G.notify)(this.props.onChange,e),this.isValidView(t)&&F.default.inRange(e,this.props.min,this.props.max,t)&&(this.focus(),this.changeCurrentDate(e),this.setState({slideDirection:n,view:t}))},nextDate:function(e){var t=e===J.LEFT?"subtract":"add",n=this.state.view,r=n===Z.MONTH?n:Z.YEAR,i=se[n]||1;return F.default[t](this.props.currentDate,1*i,r)},handleKeyDown:function(e){var t=e.ctrlKey,n=e.key,r=ie[n],i=this.props.currentDate,o=this.state.view,s=ne[o],a=i;return"Enter"===n?(e.preventDefault(),this.change(i)):(r&&(t?(e.preventDefault(),this.navigate(r)):(this.isRtl()&&oe[r]&&(r=oe[r]),a=F.default.move(a,this.props.min,this.props.max,o,r),F.default.eq(i,a,s)||(e.preventDefault(),F.default.gt(a,i,o)?this.navigate(J.RIGHT,a):F.default.lt(a,i,o)?this.navigate(J.LEFT,a):this.changeCurrentDate(a)))),void(0,G.notify)(this.props.onKeyDown,[e]))},_label:function(){var e=this.props,t=e.culture,n=i(e,["culture"]),r=this.state.view,o=this.props.currentDate;return"month"===r?I.date.format(o,ae(n,"header"),t):"year"===r?I.date.format(o,ae(n,"year"),t):"decade"===r?I.date.format(F.default.startOf(o,"decade"),ae(n,"decade"),t):"century"===r?I.date.format(F.default.startOf(o,"century"),ae(n,"century"),t):void 0},inRangeValue:function(e){var t=s(e);return null===t?t:F.default.max(F.default.min(t,this.props.max),this.props.min)},isValidView:function(e){var t=X.indexOf(this.props.initialView),n=X.indexOf(this.props.finalView),r=X.indexOf(e);return r>=t&&r<=n}},o(d,"navigate",[Y.widgetEditable],Object.getOwnPropertyDescriptor(d,"navigate"),d),o(d,"change",[Y.widgetEditable],Object.getOwnPropertyDescriptor(d,"change"),d),o(d,"select",[Y.widgetEditable],Object.getOwnPropertyDescriptor(d,"select"),d),o(d,"handleKeyDown",[Y.widgetEditable],Object.getOwnPropertyDescriptor(d,"handleKeyDown"),d),d));exports.default=(0,R.default)(ce,{value:"onChange",currentDate:"onCurrentDateChange",view:"onViewChange"},["focus"]),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function i(e){return a({open:"open combobox",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results"},e)}function o(e,t,n){return"string"==typeof e?function(r){return m.default[e]((0,z.dataText)(r,n).toLowerCase(),t.toLowerCase())}:function(n){return e(n,t)}}exports.__esModule=!0;var s,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=t(1),c=n(l),u=t(3),d=n(u),p=t(27),h=n(p),f=t(127),m=n(f),_=t(180),g=n(_),v=t(291),y=n(v),b=t(753),w=n(b),x=t(744),k=n(x),A=t(43),C=n(A),E=t(39),S=n(E),j=t(289),M=n(j),T=t(750),O=n(T),N=t(761),I=n(N),D=t(69),L=n(D),z=t(80),R=t(68),P=t(51),B=function(e){return e===!0?"startsWith":e?e:"eq"},q=a({},y.default.propTypes,{value:c.default.PropTypes.any,onChange:c.default.PropTypes.func,open:c.default.PropTypes.bool,onToggle:c.default.PropTypes.func,itemComponent:S.default.elementType,listComponent:S.default.elementType,groupComponent:S.default.elementType,groupBy:S.default.accessor,data:c.default.PropTypes.array,valueField:c.default.PropTypes.string,textField:S.default.accessor,name:c.default.PropTypes.string,onSelect:c.default.PropTypes.func,autoFocus:c.default.PropTypes.bool,disabled:S.default.disabled.acceptsArray,readOnly:S.default.readOnly.acceptsArray,suggest:S.default.filter,filter:S.default.filter,busy:c.default.PropTypes.bool,dropUp:c.default.PropTypes.bool,duration:c.default.PropTypes.number,delay:c.default.PropTypes.number,placeholder:c.default.PropTypes.string,messages:c.default.PropTypes.shape({open:S.default.message,emptyList:S.default.message,emptyFilter:S.default.message})}),F=c.default.createClass((s={displayName:"ComboBox",mixins:[t(126),t(758),t(293),t(182),t(56)("input"),t(181)({willHandle:function(e){!e&&this.refs.input.accept()},didHandle:function(e){e||this.close()}})],propTypes:q,getInitialState:function(){var e=this.props,t=e.value,n=e.data,r=e.valueField,i=this.process(n,t),o=(0,z.dataIndexOf)(i,t,r);return{selectedItem:i[o],focusedItem:i[~o?o:0],processedData:i,open:!1}},getDefaultProps:function(){return{data:[],value:"",open:!1,suggest:!1,filter:!1,delay:500,messages:i(),ariaActiveDescendantKey:"combobox"}},componentDidUpdate:function(){this.refs.list&&(0,I.default)(this.refs.list)},shouldComponentUpdate:function(e,t){var n=this.refs.input&&this.refs.input.isSuggesting(),r=!h.default.isShallowEqual(t,this.state),i=!h.default.isShallowEqual(e,this.props);return n||r||i},componentWillReceiveProps:function(e){var t=e.value,n=e.data,r=e.valueField,i=e.textField,o=(0,z.dataIndexOf)(n,t,r),s=o===-1?e.value:e.data[o],a=this.refs.input&&this.refs.input.isSuggesting(),l=this.process(e.data,e.value,(o===-1||a)&&(0,z.dataText)(s,i)),c=(0,z.dataIndexOf)(l,t,r),u=this.filterIndexOf(l,(0,z.dataText)(s,i));this._searchTerm="",this.setState({processedData:l,selectedItem:l[c],focusedItem:l[c===-1?u!==-1?u:0:c]})},renderInput:function(e){var t=this.props,n=t.suggest,r=t.filter,i=t.textField,o=t.busy,s=t.name,a=t.data,l=t.value,u=t.valueField,d=t.autoFocus,p=t.tabIndex,h=t.disabled,f=t.readOnly,m=t.placeholder,_=t.open,g=(0,z.dataItem)(a,l,u),v=n?r?"both":"inline":r?"list":"";return c.default.createElement(k.default,{ref:"input",id:(0,P.instanceId)(this,"_input"),autoFocus:d,tabIndex:p,suggest:n,name:s,role:"combobox",disabled:h,readOnly:f,"aria-owns":e,"aria-busy":!!o,"aria-autocomplete":v,"aria-expanded":_,"aria-haspopup":!0,placeholder:m,value:(0,z.dataText)(g,i),onChange:this.handleInputChange,onKeyDown:this.handleInputKeyDown})},renderList:function(e,t,n){var r=this.props,i=r.open,o=r.data,s=this.state,l=s.selectedItem,u=s.focusedItem,d=h.default.pickProps(this.props,e),p=this._data();return c.default.createElement(e,a({ref:"list"},d,{id:t,data:p,selected:l,focused:u,"aria-hidden":!i,"aria-labelledby":(0,P.instanceId)(this),"aria-live":i&&"polite",onSelect:this.handleSelect,onMove:this._scrollTo,messages:{emptyList:o.length?n.emptyFilter:n.emptyList}}))},render:function(){var e=this,t=this.props,n=t.className,r=t.duration,o=t.groupBy,s=t.messages,l=t.busy,u=t.dropUp,p=t.open,f=t.listComponent,m=this.state.focused,_=(0,R.isDisabled)(this.props),v=(0,R.isReadOnly)(this.props),b=(0,P.instanceId)(this,"_listbox");f=f||o&&O.default||M.default;var x=h.default.omitOwnProps(this,f),k=p||(0,P.isFirstFocusedRender)(this);return s=i(s),c.default.createElement(g.default,a({},x,{open:p,dropUp:u,focused:m,disabled:_,readOnly:v,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:(0,d.default)(n,"rw-combobox")}),c.default.createElement(w.default,{onClick:this.toggle,disabled:!(!_&&!v),busy:l,icon:"caret-down",label:h.default.result(s.open,this.props)}),this.renderInput(b),k&&c.default.createElement(y.default,{open:p,dropUp:u,duration:r,onOpening:function(){return e.refs.list.forceUpdate()}},c.default.createElement("div",null,this.renderList(f,b,s))))},handleSelect:function(e){this.close(),(0,P.notify)(this.props.onSelect,e),this.change(e),this.focus()},handleInputKeyDown:function(e){this._deleting="Backspace"===e.key||"Delete"===e.key,this._isTyping=!0},handleInputChange:function(e){var t,n=this.props,r=n.data,i=n.textField,o=!!this.props.suggest,s=e.target.value;t=this._deleting||!o?s:this.suggest(this._data(),s),t=t||s,r=h.default.find(r,function(e){return(0,z.dataText)(e,i).toLowerCase()===t.toLowerCase()}),this.change(!this._deleting&&r?r:s,!0),this.open()},focus:function(){this.refs.input&&this.refs.input.focus()},handleKeyDown:function(e){function t(e,t){return e?(n.refs.input.accept(!0),t?n.handleSelect(e):void n.change(e,!1)):n.change(C.default.findDOMNode(n.refs.input).value,!1)}var n=this,r=e.key,i=e.altKey,o=this.refs.list,s=this.state.focusedItem,a=this.state.selectedItem,l=this.props.open;(0,P.notify)(this.props.onKeyDown,[e]),e.defaultPrevented||("End"===r?l?this.setState({focusedItem:o.last()}):t(o.last(),!0):"Home"===r?l?this.setState({focusedItem:o.first()}):t(o.first(),!0):"Escape"===r&&l?this.close():"Enter"===r&&l?(e.preventDefault(),t(this.state.focusedItem,!0)):"ArrowDown"===r?i?this.open():l?this.setState({focusedItem:o.next(s)}):t(o.next(a),!0):"ArrowUp"===r&&(i?this.close():l?this.setState({focusedItem:o.prev(s)}):t(o.prev(a),!0)))},change:function(e,t){this._typedChange=!!t,(0,P.notify)(this.props.onChange,e)},open:function(){this.props.open||(0,P.notify)(this.props.onToggle,!0)},close:function(){this.props.open&&(0,P.notify)(this.props.onToggle,!1)},toggle:function(){this.focus(),this.props.open?this.close():this.open()},suggest:function e(t,n){var r,i=this.props,s=i.textField,e=i.suggest,a=i.minLength,l=(0,z.dataText)(n,s);return e=B(e),!(l||"").trim()||l.length<(a||1)?"":(r="string"==typeof n?h.default.find(t,o(e,l,s)):n,!r||this.state&&this.state.deleting?"":(0,z.dataText)(r,s))},_data:function(){return this.state.processedData},process:function(e,t,n){return this.props.filter&&n&&(e=this.filter(e,n)),e}},r(s,"handleSelect",[R.widgetEditable],Object.getOwnPropertyDescriptor(s,"handleSelect"),s),r(s,"handleKeyDown",[R.widgetEditable],Object.getOwnPropertyDescriptor(s,"handleKeyDown"),s),r(s,"toggle",[R.widgetEditable],Object.getOwnPropertyDescriptor(s,"toggle"),s),s));exports.default=(0,L.default)(F,{open:"onToggle",value:"onChange"},["focus"]),e.exports=exports.default},function(e,exports,t){var n=t(329);e.exports={breaks:!1,gfm:!0,highlight:null,langPrefix:"lang-",pedantic:!1,renderer:new n,sanitize:!1,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},function(e,exports,t){"use strict";var n=t(1270),r=t(1265),i=t(1267),o=t(300),s=function(e){this.options=e||{}};s.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o._escape(t,!0)+'">'+(n?e:o._escape(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o._escape(e,!0))+"\n</code></pre>"},s.prototype.blockquote=function(e){return n(r.blockquote,{quote:e})},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,o){return n(r.heading,{slugify:i,level:t,text:e,raw:o})},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},s.prototype.strong=function(e){return e?"<strong>"+e+"</strong>":""},s.prototype.em=function(e){return e.length>0?"<em>"+e+"</em>":""},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){var r;if(this.options.sanitize){try{r=decodeURIComponent(o._unescape(e)).replace(/[^\w:]/g,"").toLowerCase(),n=o._unescape(n)}catch(e){return""}if(0===r.indexOf("javascript\\:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},s.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},e.exports=s},function(e,exports){"use strict";function t(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-t(e)}function r(e){var n,r,i,o,s,a,u=e.length;s=t(e),a=new c(3*u/4-s),i=s>0?u-4:u;var d=0;for(n=0,r=0;n<i;n+=4,r+=3)o=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],a[d++]=o>>16&255,a[d++]=o>>8&255,a[d++]=255&o;return 2===s?(o=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,a[d++]=255&o):1===s&&(o=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,a[d++]=o>>8&255,a[d++]=255&o),a}function i(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}function o(e,t,n){for(var r,o=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(i(r));return o.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",s=[],l=16383,c=0,u=n-r;c<u;c+=l)s.push(o(e,c,c+l>u?u:c+l));return 1===r?(t=e[n-1],i+=a[t>>2],i+=a[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=a[t>>10],i+=a[t>>4&63],i+=a[t<<2&63],i+="="),s.push(i),s.join("")}exports.byteLength=n,exports.toByteArray=r,exports.fromByteArray=s;for(var a=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=u.length;d<p;++d)a[d]=u[d],l[u.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I;E=t(12),m=E.React,_=E.ReactDOM,A=E.rclass,C=E.redux,T=E.rtypes,g=E.Redux,i=E.Actions,b=E.Store,s=E.COLOR,S=t(22),o=S.Button,a=S.Col,v=S.Row,d=S.Modal,p=S.NavItem,j=t(17),c=j.Icon,y=j.Space,w=j.Tip,O=t(19).salvus_client,l=t(301).HelpPage,f=t(135).ProjectsPage,M=t(336),h=M.ProjectPage,u=M.MobileProjectPage,r=t(196).AccountPage,x=t(49),n="#e7e7e7",exports.ActiveAppContent=function(e){var t,n,i;switch(t=e.active_top_tab,i=e.render_small,t){case"projects":return m.createElement(f,null);case"account":return m.createElement(r,null);case"about":return m.createElement(l,null);case"help":return m.createElement("div",null,"To be implemented");case void 0:break;default:return n=C.getProjectStore(t).name,i?m.createElement(u,{name:n,project_id:t}):m.createElement(h,{name:n,project_id:t})}},exports.NavTab=A({displayName:"NavTab",propTypes:{label:T.string,icon:T.oneOfType([T.string,T.object]),close:T.bool,on_click:T.func,active_top_tab:T.string,actions:T.object,style:T.object,inner_style:T.object},make_icon:function(){return"string"==typeof this.props.icon?m.createElement(c,{name:this.props.icon,style:{fontSize:20,paddingRight:2}}):null!=this.props.icon?this.props.icon:void 0},on_click:function(e){var t;return null!=this.props.name&&this.actions("page").set_active_tab(this.props.name),"function"==typeof(t=this.props).on_click?t.on_click():void 0},render:function(){var e,t,r;return t=this.props.active_top_tab===this.props.name,r=null!=this.props.style?this.props.style:{},r.float="left",null==r.fontSize&&(r.fontSize="14px"),null==r.cursor&&(r.cursor="pointer"),r.border="none",t&&(r.backgroundColor=n),e=this.props.inner_style?this.props.inner_style:{padding:"10px"},m.createElement(p,{active:t,onClick:this.on_click,style:r},m.createElement("div",{style:e},this.make_icon(),null!=this.props.label?m.createElement("span",{style:{marginLeft:5}},this.props.label):void 0,this.props.children))}}),exports.NotificationBell=A({displayName:"NotificationBell",propTypes:{count:T.number,active:T.bool},getDefaultProps:function(){return{active:!1}},on_click:function(e){return this.actions("page").toggle_show_file_use()},notification_count:function(){var e;if(e={fontSize:"10pt",color:s.FG_RED,position:"absolute",left:"17.5px",fontWeight:700,background:"transparent"},this.props.count>9&&(e.left="15.8px",e.background="white",e.borderRadius="50%",e.border="2px solid lightgrey"),this.props.count>0)return m.createElement("span",{style:e},this.props.count)},render:function(){var e,t,r,i;return i={position:"relative",float:"left"},this.props.active&&(i.backgroundColor=n),r={padding:"10px",fontSize:"17pt",cursor:"pointer"},t="",e={},this.props.count>0&&(t="smc-bell-notification",e={color:s.FG_RED}),m.createElement(p,{style:i,onClick:this.on_click},m.createElement("div",{style:r},m.createElement(c,{name:"bell-o",className:t,style:e}),this.notification_count()))}}),exports.ConnectionIndicator=A({displayName:"ConnectionIndicator",reduxProps:{page:{avgping:T.number,connection_status:T.string}},propTypes:{ping:T.number,status:T.string,actions:T.object,on_click:T.func},connection_status:function(){return"connected"===this.props.connection_status?m.createElement("div",null,m.createElement(c,{name:"wifi",style:{marginRight:8,fontSize:"13pt",display:"inline"}}),null!=this.props.avgping?m.createElement(w,{title:"Most recently recorded roundtrip time to the server.",placement:"left"},Math.floor(this.props.avgping),"ms"):void 0):"connecting"===this.props.connection_status?m.createElement("span",{style:{backgroundColor:"#FFA500",color:"white",padding:"1ex",zIndex:100001}},"connecting..."):"disconnected"===this.props.connection_status?m.createElement("span",{style:{backgroundColor:"darkred",color:"white",padding:"1ex",zIndex:100001}},"disconnected"):void 0},connection_click:function(){var e;return this.props.actions.show_connection(!0),"function"==typeof(e=this.props).on_click?e.on_click():void 0},render:function(){var e,t;return t={width:"8.5em",color:"#666",fontSize:"10pt",lineHeight:"10pt",cursor:"pointer",float:"left"},e={padding:"13.5px"},m.createElement(p,{style:t,onClick:this.connection_click},m.createElement("div",{style:e},this.connection_status()))}}),exports.ConnectionInfo=A({displayName:"ConnectionInfo",propTypes:{actions:T.object,hub:T.string,ping:T.number,avgping:T.number,status:T.string},reduxProps:{account:{hub:T.string}},close:function(){return this.actions("page").show_connection(!1)},connection_body:function(){return m.createElement("div",null,this.props.ping?m.createElement(v,null,m.createElement(a,{sm:3},m.createElement("h4",null,"Ping Time")),m.createElement(a,{sm:5},m.createElement("pre",null,this.props.avgping,"ms (latest: ",this.props.ping,"ms)"))):void 0,m.createElement(v,null,m.createElement(a,{sm:3},m.createElement("h4",null,"Hub Server")),m.createElement(a,{sm:5},m.createElement("pre",null,null!=this.props.hub?this.props.hub:"Not signed in")),m.createElement(a,{sm:3,smOffset:1},m.createElement(o,{bsStyle:"warning",onClick:function(e){return function(){return O._fix_connection(!0)}}(this)},m.createElement(c,{name:"repeat",spin:"connecting"===this.props.status})," Reconnect"))))},render:function(){return m.createElement(d,{show:!0,onHide:this.close,animation:!1},m.createElement(d.Header,{closeButton:!0},m.createElement(d.Title,null,m.createElement(c,{name:"wifi",style:{marginRight:"1em"}})," Connection")),m.createElement(d.Body,null,this.connection_body()),m.createElement(d.Footer,null,m.createElement(o,{onClick:this.close},"Close")))}}),exports.FullscreenButton=A({displayName:"FullscreenButton",reduxProps:{page:{fullscreen:T.bool}},on_fullscreen:function(){return this.actions("page").set_fullscreen(!this.props.fullscreen)},render:function(){var e,t;return e=this.props.fullscreen?"expand":"compress",t={position:"fixed",zIndex:1e4,right:0,top:"1px",fontSize:"13pt",padding:4,color:"#666",cursor:"pointer",borderRadius:"3px"},this.props.fullscreen&&(t.background="#fff",t.opacity=.7,t.border="1px solid grey"),m.createElement(c,{style:t,name:e,onClick:this.on_fullscreen})}}),exports.SMCLogo=A({displayName:"SMCLogo",
render:function(){var e,n;return e=t(190),n={display:"inline-block",backgroundImage:"url('"+e+"')",backgroundSize:"contain",backgroundColor:t(17).SAGE_LOGO_COLOR,height:40,width:42,position:"relative"},m.createElement("div",{className:"img-rounded",style:n})}}),exports.VersionWarning=A({displayName:"VersionWarning",propTypes:{new_version:T.object},render_critical:function(){if(this.props.new_version.min_version>O.version())return m.createElement("div",null,m.createElement("br",null),"THIS IS A CRITICAL UPDATE. YOU MUST ",m.createElement(y,null),m.createElement("a",{onClick:function(e){return function(){return window.location.reload()}}(this),style:{cursor:"pointer",color:"white",fontWeight:"bold",textDecoration:"underline"}},"RELOAD THIS PAGE"),m.createElement(y,null)," IMMEDIATELY OR YOU WILL BE DISCONNECTED.  Sorry for the inconvenience.")},render_close:function(){if(!(this.props.new_version.min_version>O.version()))return m.createElement(c,{name:"times",className:"pull-right",style:{cursor:"pointer"},onClick:function(e){return function(){return C.getActions("page").set_new_version(void 0)}}(this)})},render:function(){var e;return e={position:"fixed",left:12,backgroundColor:"red",color:"#fff",top:20,opacity:.75,borderRadius:4,padding:5,zIndex:900,boxShadow:"8px 8px 4px #888",width:"70%",marginTop:"1em"},m.createElement("div",{style:e},m.createElement(c,{name:"refresh"})," New Version Available: upgrade by clicking on ",m.createElement(y,null),m.createElement("a",{onClick:function(e){return function(){return window.location.reload()}}(this),style:{cursor:"pointer",color:"white",fontWeight:"bold",textDecoration:"underline"}},"reload this page"),".",this.render_close(),this.render_critical())}}),I={position:"fixed",left:12,backgroundColor:"red",color:"#fff",top:20,opacity:.9,borderRadius:4,padding:5,marginTop:"1em",zIndex:1e5,boxShadow:"8px 8px 4px #888",width:"70%"},exports.CookieWarning=A({displayName:"CookieWarning",render:function(){return m.createElement("div",{style:I},m.createElement(c,{name:"warning"})," You ",m.createElement("em",null,"must")," enable cookies to sign into SageMathCloud.")}}),k=t(9),N=k.copy(I),N.top=55,exports.LocalStorageWarning=A({displayName:"LocalStorageWarning",render:function(){return m.createElement("div",{style:N},m.createElement(c,{name:"warning"})," You ",m.createElement("em",null,"must")," enable local storage to use SageMathCloud","safari"===x.get_browser()?" (on Safari you must disable private browsing mode)":void 0,".")}})},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y=function(e,t){return function(){return e.apply(t,arguments)}},J=function(e,t){function n(){this.constructor=e}for(var r in t)V.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},V={}.hasOwnProperty;$=window.$,_=5,m=3,A=50,w=40,j=t(31),N=t(26),D=t(9),W=D.required,M=D.defaults,K=t(19).salvus_client,T=t(40),G=t(24).client_db.sha1,q=t(12),g=q.React,v=q.ReactDOM,n=q.Actions,k=q.Store,C=q.Table,H=q.rtypes,P=q.rclass,y=q.Redux,B=q.redux,F=t(17),R=F.r_join,p=F.Icon,h=F.Loading,f=F.LoginLink,x=F.SearchInput,E=F.TimeAgo,U=t(22),r=U.Button,i=U.Col,b=U.Row,S=t(102).User,a=function(e){function t(){return this.mark_file=Y(this.mark_file,this),this.mark_all=Y(this.mark_all,this),this.record_error=Y(this.record_error,this),t.__super__.constructor.apply(this,arguments)}return J(t,e),t.prototype.record_error=function(e){return this.setState({errors:this.redux.getStore("file_use").get_errors().push(N.Map({time:K.server_time(),err:e}))})},t.prototype.mark_all=function(e){var t,n,r,i,o;if("read"===e)i=this.redux.getStore("file_use").get_all_unread();else{if("seen"!==e)return void this.record_error("mark_all: unknown action '"+e+"'");i=this.redux.getStore("file_use").get_all_unseen()}for(r=[],t=0,n=i.length;t<n;t++)o=i[t],r.push(this.mark_file(o.project_id,o.path,e,0,!1));return r},t.prototype.mark_file=function(e,t,n,r,i,o){var s,a,l,c,u,d;if(null==r&&(r="default"),null==i&&(i=!0),null==o&&(o=void 0),i&&(t=D.original_path(t)),s=this.redux.getStore("account").get_account_id(),null!=s){if(r){if("default"===r&&(r="chat"===n.slice(0,4)?5e3:9e4),a=e+"-"+t+"-"+n,null==this._mark_file_lock&&(this._mark_file_lock={}),this._mark_file_lock[a])return;this._mark_file_lock[a]=!0,setTimeout(function(e){return function(){return delete e._mark_file_lock[a]}}(this),r)}return d=this.redux.getTable("file_use"),null==o&&(o=K.server_time()),o=new Date(o),l={project_id:e,path:t,users:(c={},c[""+s]=(u={},u[""+n]=o,u),c)},"edit"!==n&&"chat"!==n&&"chatseen"!==n||(l.last_edited=o),d.set(l)}},t}(n),c=function(e){function n(){return this.get_video_chat_users=Y(this.get_video_chat_users,this),this.get_active_users=Y(this.get_active_users,this),this.get_all_unseen=Y(this.get_all_unseen,this),this.get_all_unread=Y(this.get_all_unread,this),this._update_cache=Y(this._update_cache,this),this.get_file_use_map=Y(this.get_file_use_map,this),this.get_project_info=Y(this.get_project_info,this),this.get_file_info=Y(this.get_file_info,this),this.get_sorted_file_use_list2=Y(this.get_sorted_file_use_list2,this),this.get_sorted_file_use_list=Y(this.get_sorted_file_use_list,this),this.get_notify_count=Y(this.get_notify_count,this),this._process_users=Y(this._process_users,this),this._search=Y(this._search,this),this._clear_cache=Y(this._clear_cache,this),this._initialize_cache=Y(this._initialize_cache,this),this.get_errors=Y(this.get_errors,this),n.__super__.constructor.apply(this,arguments)}return J(n,e),n.prototype.get_errors=function(){var e;return null!=(e=this.get("errors"))?e:N.List()},n.prototype._initialize_cache=function(){if(this._users=this.redux.getStore("users"),this._users&&(this._projects=this.redux.getStore("projects"),this._projects&&(this._account=this.redux.getStore("account"),this._account)))return this._users.on("change",this._clear_cache),this._projects.on("change",this._clear_cache),this._account.on("change",function(e){return function(){if(e._account.get_account_id()!==e._account_id)return e._clear_cache()}}(this)),this._cache_init=!0,!0},n.prototype._clear_cache=function(){return delete this._cache},n.prototype._search=function(e){var t,n,r,i;if(i=[e.path],i.push(this._projects.get_title(e.project_id)),null!=e.users){r=e.users;for(n in r)t=r[n],i.push(this._users.get_name(n)),n===this._account_id&&i.push("you")}return i.join(" ").toLowerCase()},n.prototype._process_users=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x;if(v=e.users,null!=v){y=[],i=0,x=w=b=0,o=0;for(t in v)g=v[t],g.account_id=t,g.last_edited=Math.max(null!=(u=g.edit)?u:0,null!=(d=g.chat)?d:0),null!=g.chat&&(i=Math.max(i,null!=(p=g.chat)?p:0)),g.last_read=Math.max(g.last_edited,null!=(h=g.read)?h:0),g.last_seen=Math.max(Math.max(g.last_read,null!=(f=g.seen)?f:0),null!=(m=g.chatseen)?m:0),g.last_used=Math.max(g.last_edited,null!=(_=g.open)?_:0),this._account_id===t?(x=g.last_seen,w=g.last_read,b=null!=(s=g.chatseen)?s:0):o=D.max([o,g.last_edited,null!=(a=g.chat)?a:0]),y.push(g);if(y.sort(function(e,t){return D.cmp(t.last_edited,e.last_edited)}),e.users=y,e.newest_chat=i,null==e.last_edited)for(l=e.users,n=0,r=l.length;n<r;n++)g=l[n],e.last_edited=Math.max(null!=(c=e.last_edited)?c:0,g.last_edited);return e.notify=x<i,e.show_chat=w<i,e.is_unread=w<o,e.is_unseen=x<o,e.is_unseenchat=b<i}},n.prototype.get_notify_count=function(){var e,t;return null==this._cache&&this._update_cache(),null!=(e=null!=(t=this._cache)?t.notify_count:void 0)?e:0},n.prototype.get_sorted_file_use_list=function(){var e,t;return null==this._cache&&this._update_cache(),null!=(e=null!=(t=this._cache)?t.sorted_file_use_list:void 0)?e:[]},n.prototype.get_sorted_file_use_list2=function(){var e,t;return null==this._cache&&this._update_cache(),null!=(e=null!=(t=this._cache)?t.sorted_file_use_immutable_list:void 0)?e:N.List()},n.prototype.get_file_info=function(e,t){var n;return null==this._cache&&this._update_cache(),null!=(n=this._cache)?n.file_use_map[G(e,t)]:void 0},n.prototype.get_project_info=function(e){var t,n,r,i,o;null==this._cache&&this._update_cache(),i={},r=null!=(n=this._cache)?n.file_use_map:void 0;for(t in r)o=r[t],o.project_id===e&&(i[t]=o);return i},n.prototype.get_file_use_map=function(){var e;return null==this._cache&&this._update_cache(),null!=(e=this._cache)?e.file_use_map:void 0},n.prototype._update_cache=function(){var e,n,r,i,o,s,a,l,c,u;if(null!=this.get("file_use")&&(this._cache_init||(this._initialize_cache(),this._cache_init))&&null==this._cache){for(null==this._account_id&&(this._account_id=this._account.get_account_id()),s=[],r={},this.get("file_use").map(function(e){return function(t,n){var i;return i=t.toJS(),i.search=e._search(i),e._process_users(i),s.push(i),r[n]=i}}(this)),a=[],l=[],c=[],i=0,o=s.length;i<o;i++)e=s[i],e.notify&&e.is_unread?a.push(e):e.show_chat&&e.is_unread?l.push(e):c.push(e);return n=function(e,t){return D.cmp(t.last_edited,e.last_edited)},a.sort(n),l.sort(n),c.sort(n),s=a.concat(l.concat(c)),this._cache={sorted_file_use_list:s,sorted_file_use_immutable_list:N.fromJS(s),file_use_map:r,notify_count:function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)u=s[e],u.notify&&n.push(u);return n}().length},t(202).set_window_title(),s}},n.prototype.get_all_unread=function(){var e;return function(){var t,n,r,i;for(r=this.get_sorted_file_use_list(),i=[],t=0,n=r.length;t<n;t++)e=r[t],e.is_unread&&i.push(e);return i}.call(this)},n.prototype.get_all_unseen=function(){var e;return function(){var t,n,r,i;for(r=this.get_sorted_file_use_list(),i=[],t=0,n=r.length;t<n;t++)e=r[t],e.is_unseen&&i.push(e);return i}.call(this)},n.prototype.get_active_users=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m;if(e=M(e,{project_id:void 0,path:void 0,max_age_s:600}),r=void 0,null!=e.project_id&&null!=e.path?(p=this.get_file_info(e.project_id,e.path),null!=p&&(r={_:p})):r=null!=e.project_id?this.get_project_info(e.project_id):this.get_file_use_map(),null!=r){m={},l=K.server_time()-0,n=l-1e3*e.max_age_s;for(t in r)for(i=r[t],c=i.users,o=0,s=c.length;o<s;o++)f=c[o],h=null!=(u=f.last_used)?u:0,h>=n&&h<=l+6e4&&(null!=m[a=f.account_id]?m[a]:m[a]=[]).push({last_used:null!=(d=f.last_used)?d:0,project_id:i.project_id,path:i.path});return m}},n.prototype.get_video_chat_users=function(e){var t,n,r;return e=M(e,{project_id:W,path:W,ttl:12e4}),r={},t=K.server_time()-e.ttl,null!=(n=this.getIn(["file_use",G(e.project_id,e.path),"users"]))&&n.map(function(e,n){var i;if(i=e.get("video"),null!=i&&i-0>=t)return r[n]=i}),r},n}(k),u=function(e){function t(){return this._change=Y(this._change,this),t.__super__.constructor.apply(this,arguments)}return J(t,e),t.prototype.query=function(){return"file_use"},t.prototype._change=function(e,t){return this.redux.getStore("file_use")._clear_cache(),this.redux.getActions("file_use").setState({file_use:e.get()})},t}(C),z=function(e,n){if(null!=n&&null!=(null!=e?e.project_id:void 0)&&null!=(null!=e?e.path:void 0))return n.getActions("file_use").mark_file(e.project_id,e.path,"read"),n.getActions("page").toggle_show_file_use(),!function(r){return function(){return t(305),n.getProjectActions(e.project_id).open_file({path:e.path,foreground:!0,foreground_project:!0,chat:e.show_chat})}}(this)(t)},O={border:"1px solid #aaa",cursor:"pointer",padding:"8px"},s=P({displayName:"FileUse",propTypes:{info:H.object.isRequired,account_id:H.string.isRequired,user_map:H.object.isRequired,project_map:H.object.isRequired,redux:H.object,cursor:H.bool},shouldComponentUpdate:function(e){var t;return t=this.props.info!==e.info||this.props.cursor!==e.cursor||this.props.user_map!==e.user_map||this.props.project_map!==e.project_map},render_users:function(){var e,t,n,r,i,o;if(null!=this.info.users){for(o=[],i=function(){var e,t,n,i;for(n=this.info.users,i=[],e=0,t=n.length;e<t;e++)r=n[e],r.last_edited&&i.push(r);return i}.call(this),n=i.slice(0,_),e=0,t=n.length;e<t;e++)r=n[e],o.push(g.createElement(S,{key:r.account_id,account_id:r.account_id,name:r.account_id===this.props.account_id?"You":void 0,user_map:this.props.user_map,last_active:r.last_edited}));return R(o)}},render_last_edited:function(){if(this.info.last_edited)return g.createElement("span",{key:"last_edited"},"was edited ",g.createElement(E,{date:this.info.last_edited}))},open:function(e){return null!=e&&e.preventDefault(),z(this.info,this.props.redux)},render_path:function(){var e,t,n;return n=D.separate_file_extension(this.info.path),t=n.name,e=n.ext,t=D.trunc_middle(t,A),e=D.trunc_middle(e,A),g.createElement("span",null,g.createElement("span",{style:{fontWeight:this.info.is_unread?"bold":"normal"}},t),g.createElement("span",{style:{color:this.props.mask?void 0:"#999"}},""===e?"":"."+e))},render_project:function(){var e;return g.createElement("em",{key:"project"},D.trunc(null!=(e=this.props.project_map.get(this.info.project_id))?e.get("title"):void 0,A))},render_what_is_happening:function(){return null==this.info.users?this.render_last_edited():this.info.show_chat?g.createElement("span",null,"discussed by "):g.createElement("span",null,"edited by ")},render_action_icon:function(){return this.info.show_chat?g.createElement(p,{name:"comment"}):g.createElement(p,{name:"edit"})},render_type_icon:function(){return g.createElement(o,{filename:this.info.path})},render:function(){var e;return this.info=this.props.info.toJS(),e=D.copy(O),this.info.notify?e.background="#ffffea":e.background=this.info.is_unread?"#f4f4f4":"#fefefe",this.props.cursor&&D.merge(e,{background:"#08c",color:"white"}),g.createElement("div",{style:e,onClick:this.open},g.createElement(b,null,g.createElement(i,{key:"action",sm:1,style:{fontSize:"14pt"}},this.render_action_icon()),g.createElement(i,{key:"desc",sm:10},this.render_path()," in ",this.render_project()," ",this.render_what_is_happening()," ",this.render_users()),g.createElement(i,{key:"type",sm:1,style:{fontSize:"14pt"}},this.render_type_icon())))}}),d=P({displayName:"FileUseViewer",propTypes:{redux:H.object,file_use_list:H.object.isRequired,user_map:H.object.isRequired,project_map:H.object.isRequired,account_id:H.string.isRequired},getInitialState:function(){return{search:"",cursor:0,show_all:!1}},render_search_box:function(){return g.createElement("span",{key:"search_box",className:"smc-file-use-notifications-search"},g.createElement(x,{autoFocus:!0,placeholder:"Search...",default_value:this.state.search,on_change:function(e){return function(t){return e.setState({search:t,cursor:0,show_all:!1})}}(this),on_submit:this.open_selected,on_escape:function(e){return function(t){if(!t)return e.actions("page").toggle_show_file_use(),e.setState({cursor:0,show_all:!1})}}(this),on_up:function(e){return function(){return e.setState({cursor:Math.max(0,e.state.cursor-1)})}}(this),on_down:function(e){return function(){var t,n;return e.setState({cursor:Math.max(0,Math.min((null!=(t=null!=(n=e._visible_list)?n.length:void 0)?t:0)-1,e.state.cursor+1))})}}(this)}))},click_mark_all_read:function(){return this.actions("file_use").mark_all("read"),this.actions("page").toggle_show_file_use()},render_mark_all_read_button:function(){return g.createElement(r,{key:"mark_all_read_button",bsStyle:"warning",onClick:this.click_mark_all_read},g.createElement(p,{name:"check-square"})," Mark all Read")},open_selected:function(){var e,t;return z(null!=(e=this._visible_list)&&null!=(t=e[this.state.cursor])?t.toJS():void 0,this.props.redux)},render_list:function(){var e,t,n,r,i,o,a,l;for(a=this.props.file_use_list.toArray(),this.state.search&&(o=D.search_split(this.state.search.toLowerCase()),a=function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)l=a[e],D.search_match(l.get("search"),o)&&n.push(l);return n}()),this.state.show_all||(this._num_missing=Math.max(0,a.length-w),a=a.slice(0,w)),this._visible_list=a,i=[],e=n=0,r=a.length;n<r;e=++n)t=a[e],i.push(g.createElement(s,{key:"file-use-"+e,cursor:e===this.state.cursor,redux:this.props.redux,info:t,account_id:this.props.account_id,user_map:this.props.user_map,project_map:this.props.project_map}));return i},render_show_all:function(){if(this._num_missing)return g.createElement(r,{key:"show_all",onClick:function(e){return function(t){return t.preventDefault(),e.setState({show_all:!0})}}(this)},"Show ",this._num_missing," more")},render_show_less:function(){var e;if(e=this._visible_list.length-w,e>0)return g.createElement(r,{key:"show_less",onClick:function(e){return function(t){return t.preventDefault(),e.setState({show_all:!1})}}(this)},"Show ",e," less")},render_toggle_all:function(){return g.createElement("div",{key:"toggle_all",style:{textAlign:"center",marginTop:"2px"}},this.state.show_all?this.render_show_less():this.render_show_all())},render:function(){return g.createElement("div",{className:"smc-file-use-viewer"},g.createElement(b,{key:"top"},g.createElement(i,{sm:8},this.render_search_box()),g.createElement(i,{sm:4},g.createElement("div",{style:{float:"right"}},this.render_mark_all_read_button()))),this.render_list(),this.render_toggle_all())}}),o=P({displayName:"FileUse-FileIcon",propTypes:{filename:H.string.isRequired},render:function(){var e;return e=D.filename_extension_notilde(this.props.filename),g.createElement(p,{name:T.file_icon_class(e).slice(3)})}}),exports.FileUsePage=l=P({displayName:"FileUseController",reduxProps:{file_use:{file_use:H.immutable,get_sorted_file_use_list2:H.func},users:{user_map:H.immutable},projects:{project_map:H.immutable}},propTypes:{redux:H.object},componentDidMount:function(){return setTimeout(function(e){return function(){return e.actions("file_use").mark_all("seen")}}(this),1e3*m),$(document).on("click",L)},componentWillUnmount:function(){return $(document).off("click",L)},render:function(){var e,t,n,r,i;return e=null!=(n=this.props.redux)&&null!=(r=n.getStore("account"))?r.get_account_id():void 0,null==this.props.file_use||null==this.props.redux||null==this.props.user_map||null==this.props.project_map||null==e?"public"===(null!=(i=this.props.redux.getStore("account"))?i.get_user_type():void 0)?g.createElement(f,null):g.createElement(h,null):(t=this.props.get_sorted_file_use_list2(),g.createElement(d,{redux:this.props.redux,file_use_list:t,user_map:this.props.user_map,project_map:this.props.project_map,account_id:e}))}}),L=function(e){var t;if(e.preventDefault(),t=$(e.target),!(t.parents(".smc-file-use-viewer").length||t.hasClass("btn")||t.parents("button").length||"button"===t.parents("a").attr("role")||"button"===t.attr("role")))return setTimeout(B.getActions("page").toggle_show_file_use,100)},I=function(e){var t;if(null==e.getActions("file_use"))return e.createActions("file_use",a),t=e.createStore("file_use",c,{}),e.createTable("file_use",u)},I(B),t(202).set_notify_count_function(function(){return B.getStore("file_use").get_notify_count()})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;a=t(26),u=t(12),o=u.React,s=u.ReactDOM,c=u.rclass,d=u.rtypes,r=t(17).Loading,n=t(877).Cell,l=t(350),i=100,exports.CellList=c({propTypes:{actions:d.object,cell_list:d.immutable.List.isRequired,cells:d.immutable.Map.isRequired,font_size:d.number.isRequired,sel_ids:d.immutable.Set,md_edit_ids:d.immutable.Set,cur_id:d.string,mode:d.string.isRequired,cm_options:d.immutable.Map.isRequired,project_id:d.string,directory:d.string,scrollTop:d.number,complete:d.immutable.Map,is_focused:d.bool,more_output:d.immutable.Map,scroll:d.oneOfType([d.number,d.string]),cell_toolbar:d.string,trust:d.bool},componentWillUnmount:function(){var e,t;if(t=null!=(e=s.findDOMNode(this.refs.cell_list))?e.scrollTop:void 0,null!=t&&null!=this.props.actions&&this.props.actions.set_scroll_state(t),null!=this.props.actions)return $(window).unbind("click",this.window_click),this.props.actions.disable_key_handler()},componentDidMount:function(){var e,t;return null!=this.props.scrollTop&&null!=(e=s.findDOMNode(this.refs.cell_list))&&(e.scrollTop=this.props.scrollTop),null!=this.props.actions&&(this.props.is_focused&&this.props.actions.enable_key_handler(),this.props.actions.focus(!0),$(window).on("click",this.window_click)),null!=(t=this.props.actions)?t._cell_list_div=$(s.findDOMNode(this.refs.cell_list)):void 0},window_click:function(e){var t,n,r,i;return $(".in.modal").length?void this.props.actions.blur():(t=$(s.findDOMNode(this)),n=t.offset(),r=e.pageX-n.left,i=e.pageY-n.top,void(r>=0&&i>=0&&r<=t.outerWidth()&&i<=t.outerHeight()?this.props.actions.focus():this.props.actions.blur()))},componentWillReceiveProps:function(e){if(null!=this.props.actions&&e.is_focused!==this.props.is_focused&&(e.is_focused?this.props.actions.enable_key_handler():this.props.actions.disable_key_handler()),null!=e.scroll)return this.scroll_cell_list(e.scroll),this.props.actions.scroll()},scroll_cell_list:function(e){var t,n,r;if(n=$(s.findDOMNode(this.refs.cell_list)),n.length>0){if("number"==typeof e)return void n.scrollTop(n.scrollTop()+e);if("cell visible"===e&&(t=n.find("#"+this.props.cur_id),t.length>0))if(r=t.position().top-n.position().top,r<i)e="cell top";else{if(!(r>n.height()-i))return;e="cell bottom"}switch(e){case"list up":return n.scrollTop(n.scrollTop()-.9*n.height());case"list down":return n.scrollTop(n.scrollTop()+.9*n.height());case"cell top":if(t=n.find("#"+this.props.cur_id),t.length>0)return n.scrollTop(n.scrollTop()+(t.position().top-n.position().top)-i);break;case"cell center":if(t=n.find("#"+this.props.cur_id),t.length>0)return n.scrollTop(n.scrollTop()+(t.position().top-n.position().top)-.5*n.height());break;case"cell bottom":if(t=n.find("#"+this.props.cur_id),t.length>0)return n.scrollTop(n.scrollTop()+(t.position().top-n.position().top)-.9*n.height()+i)}}},render_loading:function(){return o.createElement("div",{style:{fontSize:"32pt",color:"#888",textAlign:"center",marginTop:"15px"}},o.createElement(r,null))},on_click:function(e){if(this.props.actions.clear_complete(),$(e.target).hasClass("cocalc-complete"))return this.props.actions.set_mode("edit")},render:function(){var e,t,r;return null==this.props.cell_list?this.render_loading():(r=[],this.props.cell_list.map(function(e){return function(t){var i,s,a,l;i=o.createElement(n,{key:t,actions:e.props.actions,id:t,cm_options:e.props.cm_options,cell:e.props.cells.get(t),is_current:t===e.props.cur_id,is_selected:null!=(s=e.props.sel_ids)?s.contains(t):void 0,is_markdown_edit:null!=(a=e.props.md_edit_ids)?a.contains(t):void 0,mode:e.props.mode,font_size:e.props.font_size,project_id:e.props.project_id,directory:e.props.directory,complete:e.props.complete,is_focused:e.props.is_focused,more_output:null!=(l=e.props.more_output)?l.get(t):void 0,cell_toolbar:e.props.cell_toolbar,trust:e.props.trust}),r.push(i)}}(this)),t={fontSize:this.props.font_size+"px",paddingLeft:"20px",padding:"20px",backgroundColor:"#eee",height:"100%",overflowY:"auto",overflowX:"hidden"},e={backgroundColor:"#fff",padding:"15px",boxShadow:"0px 0px 12px 1px rgba(87, 87, 87, 0.2)"},o.createElement("div",{key:"cells",style:t,ref:"cell_list",onClick:null!=this.props.actions&&null!=this.props.complete?this.on_click:void 0},o.createElement("div",{style:e},r),o.createElement("div",{style:{minHeight:"100px"}})))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,_e,ge,ve,ye,be,we,xe,ke;_e=t(12),W=_e.React,H=_e.ReactDOM,we=_e.rtypes,fe=_e.rclass,me=_e.redux,K=_e.Redux,ge=t(22),d=ge.Col,G=ge.Row,c=ge.ButtonToolbar,l=ge.ButtonGroup,j=ge.MenuItem,a=ge.Button,ie=ge.Well,k=ge.FormControl,A=ge.FormGroup,c=ge.ButtonToolbar,L=ge.Popover,N=ge.OverlayTrigger,Z=ge.SplitButton,j=ge.MenuItem,i=ge.Alert,u=ge.Checkbox,de=t(9),ve=t(17),r=ve.ActivityDisplay,f=ve.DeletedProjectWarning,m=ve.DirectoryInput,C=ve.Icon,E=ve.Loading,U=ve.ProjectState,Y=ve.SAGE_LOGO_COLOR,V=ve.SearchInput,te=ve.TimeAgo,g=ve.ErrorDisplay,Q=ve.Space,ne=ve.Tip,S=ve.LoginLink,x=ve.Footer,h=ve.CourseProjectExtraHelp,J=t(337).SMC_Dropwrapper,ye=t(335),w=ye.FileTypeSelector,T=ye.NewFileButton,be=t(186),s=be.BillingPageLink,o=be.BillingPageForCourseRedux,D=be.PayCourseFee,ce=t(30).human_readable_size,M=t(901).MiniTerminal,le=t(40).file_associations,oe=t(302),ue=t(26),ke=t(23),xe=t(19).salvus_client,n=t(196).AccountPage,re=t(198).UsersViewing,he=t(189).project_tasks,p=t(327),X="/",exports.file_action_buttons=ae={compress:{name:"Compress",icon:"compress"},delete:{name:"Delete",icon:"trash-o"},rename:{name:"Rename",icon:"pencil"},duplicate:{name:"Duplicate",icon:"clone"},move:{name:"Move",icon:"arrows"},copy:{name:"Copy",icon:"files-o"},share:{name:"Share",icon:"share-square-o"},download:{name:"Download",icon:"cloud-download"}},I=fe({displayName:"ProjectFiles-PathSegmentLink",propTypes:{path:we.string,display:we.oneOfType([we.string,we.object]),actions:we.object.isRequired,full_name:we.string},styles:{cursor:"pointer",fontSize:"18px"},handle_click:function(){return this.props.actions.open_directory(this.props.path)},render_link:function(){return W.createElement("a",{style:this.styles,onClick:this.handle_click},this.props.display)},render:function(){return this.props.full_name&&this.props.full_name!==this.props.display?W.createElement(ne,{title:"Full name",tip:this.props.full_name},this.render_link()):this.render_link()}}),v=fe({displayName:"ProjectFiles-FileCheckbox",propTypes:{name:we.string,checked:we.bool,actions:we.object.isRequired,current_path:we.string,style:we.object},handle_click:function(e){var t;return e.stopPropagation(),t=de.path_to_file(this.props.current_path,this.props.name),e.shiftKey?this.props.actions.set_selected_file_range(t,!this.props.checked):this.props.actions.set_file_checked(t,!this.props.checked),this.props.actions.set_most_recent_file_click(t)},render:function(){return W.createElement("span",{onClick:this.handle_click,style:this.props.style},W.createElement(C,{name:this.props.checked?"check-square-o":"square-o",fixedWidth:!0,style:{fontSize:"14pt"}}))}}),b=fe({displayName:"ProjectFiles-FileRow",propTypes:{name:we.string.isRequired,display_name:we.string,size:we.number.isRequired,time:we.number,checked:we.bool,bordered:we.bool,color:we.string,mask:we.bool,public_data:we.object,is_public:we.bool,current_path:we.string,actions:we.object.isRequired,no_select:we.bool},shouldComponentUpdate:function(e){return this.props.name!==e.name||this.props.display_name!==e.display_name||this.props.size!==e.size||this.props.time!==e.time||this.props.checked!==e.checked||this.props.mask!==e.mask||this.props.public_data!==e.public_data||this.props.current_path!==e.current_path||this.props.bordered!==e.border||this.props.no_select!==e.no_select},render_icon:function(){var e,n,r,i,o;return e=t(40).file_options,n=null!=(r=null!=(i=e(this.props.name))?i.icon:void 0)?r:"file",o={color:this.props.mask?"#bbbbbb":void 0,verticalAlign:"sub"},W.createElement("a",{style:o},W.createElement(C,{name:n,style:{fontSize:"14pt"}}))},render_name_link:function(e,t,n){return W.createElement("a",{style:e},W.createElement("span",{style:{fontWeight:this.props.mask?"normal":"bold"}},de.trunc_middle(t,50)),W.createElement("span",{style:{color:this.props.mask?void 0:"#999"}},""===n?"":"."+n))},render_name:function(){var e,t,n,r,i,o;return t=null!=(r=this.props.display_name)?r:this.props.name,n=de.separate_file_extension(t),t=n.name,e=n.ext,i=null!=this.props.display_name&&this.props.name!==this.props.display_name||t.length>50,o={whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",verticalAlign:"middle",color:this.props.mask?"#bbbbbb":void 0},i?W.createElement(ne,{title:this.props.display_name?"Displayed filename is an alias. The actual name is:":"Full name",tip:this.props.name},this.render_name_link(o,t,e)):this.render_name_link(o,t,e)},render_public_file_info_popover:function(){return W.createElement(L,{title:"This file is being shared publicly",id:"public_share"},W.createElement("span",{style:{wordWrap:"break-word"}},"Description: ",this.props.public_data.description))},render_public_file_info:function(){if(null!=this.props.public_data&&this.props.is_public)return W.createElement("span",null,W.createElement(Q,null),W.createElement(N,{trigger:"click",rootClose:!0,overlay:this.render_public_file_info_popover()},W.createElement(a,{bsStyle:"info",bsSize:"xsmall",onClick:function(e){return e.stopPropagation()}},W.createElement(C,{name:"bullhorn"})," ",W.createElement("span",{className:"hidden-xs"},"Public"))))},fullpath:function(){return de.path_to_file(this.props.current_path,this.props.name)},handle_mouse_down:function(e){return this.setState({selection_at_last_mouse_down:""+window.getSelection()})},handle_click:function(e){var t;if(""+window.getSelection()===this.state.selection_at_last_mouse_down&&(t=de.should_open_in_foreground(e),this.props.actions.open_file({path:this.fullpath(),foreground:t}),t))return this.props.actions.set_file_search("")},handle_download_click:function(e){return e.preventDefault(),e.stopPropagation(),this.props.actions.download_file({path:this.fullpath(),log:!0})},render:function(){var e,t;return e={cursor:"pointer",borderRadius:"4px",backgroundColor:this.props.color,borderStyle:"solid",borderColor:this.props.bordered?Y:this.props.color},t=he(this.props.actions.project_id).url_href(this.fullpath()),W.createElement(G,{style:e,onMouseDown:this.handle_mouse_down,onClick:this.handle_click,className:this.props.no_select?"noselect":void 0},W.createElement(d,{sm:2,xs:3},W.createElement(v,{name:this.props.name,checked:this.props.checked,current_path:this.props.current_path,actions:this.props.actions,style:{verticalAlign:"sub"}}),this.render_public_file_info()),W.createElement(d,{sm:1,xs:3},this.render_icon()),W.createElement(d,{sm:4,smPush:5,xs:6},W.createElement(te,{date:new Date(1e3*this.props.time).toISOString(),style:{color:"#666"}}),W.createElement("span",{className:"pull-right",style:{color:"#666"}},ce(this.props.size),W.createElement(a,{style:{marginLeft:"1em",background:"transparent"},bsStyle:"default",bsSize:"xsmall",href:""+t,onClick:this.handle_download_click},W.createElement(C,{name:"cloud-download",style:{color:"#666"}})))),W.createElement(d,{sm:5,smPull:4,xs:12},this.render_name()))}}),_=fe({displayName:"ProjectFiles-DirectoryRow",propTypes:{name:we.string.isRequired,display_name:we.string,checked:we.bool,color:we.string,bordered:we.bool,time:we.number,mask:we.bool,public_data:we.object,is_public:we.bool,current_path:we.string,actions:we.object.isRequired,no_select:we.bool},handle_mouse_down:function(e){return this.setState({selection_at_last_mouse_down:""+window.getSelection()})},handle_click:function(e){var t;if(""+window.getSelection()===this.state.selection_at_last_mouse_down)return t=de.path_to_file(this.props.current_path,this.props.name),this.props.actions.open_directory(t),this.props.actions.set_file_search("")},render_public_directory_info_popover:function(){return W.createElement(L,{id:this.props.name,title:"This folder is being shared publicly",style:{wordWrap:"break-word"}},"Description: ",this.props.public_data.description)},render_public_directory_info:function(){if(null!=this.props.public_data&&this.props.is_public)return W.createElement("span",null,W.createElement(Q,null),W.createElement(N,{trigger:"click",rootClose:!0,overlay:this.render_public_directory_info_popover()},W.createElement(a,{bsStyle:"info",bsSize:"xsmall",onClick:function(e){return e.stopPropagation()}},W.createElement(C,{name:"bullhorn"})," ",W.createElement("span",{className:"hidden-xs"},"Public"))))},render_time:function(){if(null!=this.props.time)return W.createElement(te,{date:new Date(1e3*this.props.time).toISOString(),style:{color:"#666"}})},render_name_link:function(){var e,t;return this.props.display_name&&this.props.display_name!==this.props.name||this.props.name.length>50?W.createElement(ne,{title:this.props.display_name?"Displayed directory name is an alias. The actual name is:":"Full name",tip:this.props.name},W.createElement("a",{style:{color:this.props.mask?"#bbbbbb":void 0}},de.trunc_middle(null!=(e=this.props.display_name)?e:this.props.name,50))):W.createElement("a",{
style:{color:this.props.mask?"#bbbbbb":void 0}},de.trunc_middle(null!=(t=this.props.display_name)?t:this.props.name,50))},render:function(){var e,t;return t={cursor:"pointer",borderRadius:"4px",backgroundColor:this.props.color,borderStyle:"solid",borderColor:this.props.bordered?Y:this.props.color},e={fontWeight:"bold",whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",verticalAlign:"sub"},W.createElement(G,{style:t,onMouseDown:this.handle_mouse_down,onClick:this.handle_click,className:this.props.no_select?"noselect":void 0},W.createElement(d,{sm:2,xs:3},W.createElement(v,{name:this.props.name,checked:this.props.checked,current_path:this.props.current_path,actions:this.props.actions,style:{verticalAlign:"sub"}}),this.render_public_directory_info()),W.createElement(d,{sm:1,xs:3},W.createElement("a",{style:{color:this.props.mask?"#bbbbbb":void 0}},W.createElement(C,{name:"folder-open-o",style:{fontSize:"14pt",verticalAlign:"sub"}}),W.createElement(C,{name:"caret-right",style:{marginLeft:"3px",fontSize:"14pt",verticalAlign:"sub"}}))),W.createElement(d,{sm:4,smPush:5,xs:6},this.render_time()),W.createElement(d,{sm:5,smPull:4,xs:12,style:e},this.render_name_link()))}}),ee=fe({render:function(){return W.createElement(G,{style:{textAlign:"left",color:"#888",marginTop:"5px",wordWrap:"break-word"}},W.createElement(d,{sm:2}),W.createElement(d,{sm:8},W.createElement(i,{style:{marginTop:"5px",fontWeight:"bold"},bsStyle:"danger"},"Warning: You are in terminal mode.",W.createElement("br",null),"This was caused by the leading / in your file search. If you want to just see your folders, enter a space in front of the /.",W.createElement("br",null),"Terminal mode inside the search bar is experimental and comes with no guarantees about its usability or future existence.")),W.createElement(d,{sm:2}))}}),O=fe({propTypes:{actions:we.object.isRequired,create_folder:we.func.isRequired,create_file:we.func.isRequired,public_view:we.bool,file_search:we.string,current_path:we.string},displayName:"ProjectFiles-NoFiles",getDefaultProps:function(){return{file_search:""}},handle_click:function(){return 0===this.props.file_search.length?this.props.actions.set_active_tab("new"):"/"===this.props.file_search[this.props.file_search.length-1]?this.props.create_folder():this.props.create_file()},full_path_text:function(){var e;return this.props.file_search.lastIndexOf(".")<=this.props.file_search.lastIndexOf("/")&&(e="sagews"),e&&"/"!==this.props.file_search.slice(-1)?this.props.file_search+"."+e:""+this.props.file_search},button_text:function(){return 0===this.props.file_search.length?"Create or upload files...":"Create "+this.full_path_text()},render_create_button:function(){return W.createElement(a,{style:{fontSize:"40px",color:"#888",maxWidth:"100%"},onClick:function(e){return function(){return e.handle_click()}}(this)},W.createElement(C,{name:"plus-circle"})," ",this.button_text())},render_help_alert:function(){var e;return e=this.props.file_search.lastIndexOf("/"),this.props.file_search.indexOf("\\")!==-1?W.createElement(i,{style:{marginTop:"10px",fontWeight:"bold"},bsStyle:"danger"},"Warning: \\ is an illegal character"):0===this.props.file_search.indexOf("/")?W.createElement(i,{style:{marginTop:"10px",fontWeight:"bold"},bsStyle:"danger"},"Warning: Names cannot begin with /"):[".",".."].indexOf(this.props.file_search)>-1?W.createElement(i,{style:{marginTop:"10px",fontWeight:"bold"},bsStyle:"danger"},"Warning: Cannot create a file named . or .."):this.props.file_search.length>0&&e>0?W.createElement(i,{style:{marginTop:"10px"},bsStyle:"info"},this.render_help_text(e)):void 0},render_help_text:function(e){return e===this.props.file_search.length-1?e!==this.props.file_search.indexOf("/")?W.createElement("div",null,W.createElement("span",{style:{fontWeight:"bold"}},this.props.file_search)," will be created as a ",W.createElement("span",{style:{fontWeight:"bold"}},"folder path")," if non-existant"):W.createElement("div",null,"Creates a ",W.createElement("span",{style:{fontWeight:"bold"}},"folder")," named ",W.createElement("span",{style:{fontWeight:"bold"}},this.props.file_search)):W.createElement("div",null,W.createElement("span",{style:{fontWeight:"bold"}},this.full_path_text().slice(e+1))," will be created under the folder path ",W.createElement("span",{style:{fontWeight:"bold"}},this.props.file_search.slice(0,e+1)))},render_file_type_selection:function(){return W.createElement("div",null,W.createElement("h4",{style:{color:"#666"}},"Or select a file type"),W.createElement(w,{create_file:this.props.create_file,create_folder:this.props.create_folder},W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(ne,{title:"Create a Chatroom",placement:"right",icon:"comment",tip:"Create a chatroom for chatting with other collaborators on this project."},W.createElement(T,{icon:"comment",name:"Chatroom",on_click:this.props.create_file,ext:"sage-chat"}))))))},render:function(){return W.createElement(G,{style:{textAlign:"left",color:"#888",marginTop:"20px",wordWrap:"break-word"}},W.createElement(d,{sm:2}),W.createElement(d,{sm:8},W.createElement("span",{style:{fontSize:"20px"}},"No Files Found"),W.createElement("hr",null),this.props.public_view?void 0:this.render_create_button(),this.render_help_alert(),this.props.file_search.length>0?this.render_file_type_selection():void 0),W.createElement(d,{sm:2}))}}),pe=function(e,t){var n;return n=e*t,{start_index:n,end_index:n+e}},y=fe({displayName:"ProjectFiles-FileListing",propTypes:{listing:we.array.isRequired,file_map:we.object.isRequired,file_search:we.string,checked_files:we.object,current_path:we.string,page_number:we.number,page_size:we.number,public_view:we.bool,actions:we.object.isRequired,create_folder:we.func.isRequired,create_file:we.func.isRequired,selected_file_index:we.number,project_id:we.string,show_upload:we.bool,shift_is_down:we.bool},getDefaultProps:function(){return{file_search:"",show_upload:!1}},render_row:function(e,t,n,r,i,o,s,a){var l,c,u,d;return c=this.props.checked_files.has(de.path_to_file(this.props.current_path,e)),d=this.props.file_map[e].is_public,u=c?a%2===0?"rgb(250, 250, 209)":"rgb(255, 255, 220)":a%2===0?"#eee":"white",l=a===this.props.selected_file_index&&this.props.file_search[0]!==X,i?W.createElement(_,{name:e,display_name:o,time:n,key:a,color:u,bordered:l,mask:r,public_data:s,is_public:d,checked:c,current_path:this.props.current_path,actions:this.props.actions,no_select:this.props.shift_is_down}):W.createElement(b,{name:e,display_name:o,time:n,size:t,color:u,bordered:l,mask:r,public_data:s,is_public:d,checked:c,key:a,current_path:this.props.current_path,actions:this.props.actions,no_select:this.props.shift_is_down})},handle_parent:function(e){var t;return e.preventDefault(),t=de.path_split(this.props.current_path).head,this.props.actions.open_directory(t)},parent_directory:function(){var e,t;if(t={fontWeight:"bold",whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word"},e={backgroundColor:"#fafafa",border:"1px solid #eee",cursor:"pointer",borderRadius:"4px"},this.props.current_path.length>0)return W.createElement(G,{style:e,onClick:this.handle_parent},W.createElement(d,{sm:1,smOffset:1},W.createElement("a",null,W.createElement(C,{name:"reply",style:{fontSize:"14pt"}}))),W.createElement(d,{sm:4,style:t},W.createElement("a",{href:""},"Parent Directory")))},render_rows:function(){var e,t,n,r,i,o;for(i=this.props.listing,o=[],t=n=0,r=i.length;n<r;t=++n)e=i[t],o.push(this.render_row(e.name,e.size,e.mtime,e.mask,e.isdir,e.display_name,e.public,t));return o},render_no_files:function(){if(0===this.props.listing.length&&this.props.file_search[0]!==X)return W.createElement(O,{current_path:this.props.current_path,actions:this.props.actions,public_view:this.props.public_view,file_search:this.props.file_search,current_path:this.props.current_path,create_folder:this.props.create_folder,create_file:this.props.create_file})},render_terminal_mode:function(){if(this.props.file_search[0]===X)return W.createElement(ee,null)},render:function(){return W.createElement(d,{sm:12},this.render_terminal_mode(),this.parent_directory(),this.render_rows(),this.render_no_files())}}),q=fe({displayName:"ProjectFiles-ProjectFilesPath",propTypes:{current_path:we.string,actions:we.object.isRequired},make_path:function(){var e,t,n,r,i,o,s,a;if(a=[],a.push(W.createElement(I,{path:"",display:W.createElement(C,{name:"home"}),key:"home",actions:this.props.actions})),""===this.props.current_path)return a;for(r=this.props.current_path,o="/"===r[0],o&&(r=r.slice(1)),i=r.split("/"),e=t=0,n=i.length;t<n;e=++t)s=i[e],0===e&&o?a.push(W.createElement("span",{key:2*e+1},W.createElement("span",{style:{width:"2em",display:"inline-block"}}," "),"/",W.createElement(Q,null))):a.push(W.createElement("span",{key:2*e+1},W.createElement(Q,null),"/",W.createElement(Q,null))),a.push(W.createElement(I,{path:i.slice(0,+e+1||9e9).join("/"),display:de.trunc_middle(s,15),full_name:s,key:2*e+2,actions:this.props.actions}));return a},render:function(){return W.createElement("div",{style:{wordWrap:"break-word"}},this.make_path())}}),P=fe({displayName:"ProjectFiles-ProjectFilesButtons",propTypes:{show_hidden:we.bool,sort_by_time:we.bool,default_sort:we.string,current_path:we.string,public_view:we.bool,actions:we.object.isRequired},componentWillReceiveProps:function(e){if(this.props.default_sort!==e.default_sort)return"time"===e.default_sort&&e.sort_by_time===!0||"name"===e.default_sort&&e.sort_by_time===!1?(this.props.actions.setState({sort_by_time:e.sort_by_time}),this.props.actions.fetch_directory_listing(e.current_path,e.sort_by_time,e.show_hidden)):(this.props.actions.setState({sort_by_time:!e.sort_by_time}),this.props.actions.fetch_directory_listing(e.current_path,!e.sort_by_time,e.show_hidden))},handle_refresh:function(e){return e.preventDefault(),this.props.actions.fetch_directory_listing()},handle_sort_method:function(e){return e.preventDefault(),this.props.actions.setState({sort_by_time:!this.props.sort_by_time}),this.props.actions.fetch_directory_listing({sort_by_time:!this.props.sort_by_time})},handle_hidden_toggle:function(e){return e.preventDefault(),this.props.actions.setState({show_hidden:!this.props.show_hidden}),this.props.actions.fetch_directory_listing({show_hidden:!this.props.show_hidden})},render_refresh:function(){return W.createElement("a",{href:"",onClick:this.handle_refresh},W.createElement(C,{name:"refresh"})," ")},render_sort_method:function(){return this.props.sort_by_time?W.createElement("a",{href:"",onClick:this.handle_sort_method},W.createElement(C,{name:"sort-numeric-asc"})," "):W.createElement("a",{href:"",onClick:this.handle_sort_method},W.createElement(C,{name:"sort-alpha-asc"})," ")},render_hidden_toggle:function(){return this.props.show_hidden?W.createElement("a",{href:"",onClick:this.handle_hidden_toggle},W.createElement(C,{name:"eye"})," "):W.createElement("a",{href:"",onClick:this.handle_hidden_toggle},W.createElement(C,{name:"eye-slash"})," ")},render_backup:function(){if(!this.props.public_view&&t(48).commercial)return W.createElement("a",{href:"",onClick:function(e){return function(t){return t.preventDefault(),e.props.actions.open_directory(".snapshots")}}(this)},W.createElement(C,{name:"life-saver"})," ",W.createElement("span",{style:{fontSize:14},className:"hidden-sm"},"Backups"))},render:function(){return W.createElement("div",{style:{textAlign:"right",fontSize:"14pt"}},this.render_refresh(),this.render_sort_method(),this.render_hidden_toggle(),this.render_backup())}}),R=fe({displayName:"ProjectFiles-ProjectFilesActions",propTypes:{checked_files:we.object,listing:we.array,page_number:we.number,page_size:we.number,public_view:we.bool.isRequired,current_path:we.string,actions:we.object.isRequired},getInitialState:function(){return{select_entire_directory:"hidden"}},componentWillReceiveProps:function(e){if(this.props.current_path!==e.current_path){if("hidden"!==this.state.select_entire_directory)return this.setState({select_entire_directory:"hidden"})}else{if(e.checked_files.size===e.listing.length&&"check"===this.state.select_entire_directory)return this.setState({select_entire_directory:"clear"});if(!ue.is(this.props.checked_files,e.checked_files)&&"hidden"!==this.state.select_entire_directory)return this.setState({select_entire_directory:"hidden"})}},clear_selection:function(){if(this.props.actions.set_all_files_unchecked(),"hidden"!==this.state.select_entire_directory)return this.setState({select_entire_directory:"hidden"})},check_all_click_handler:function(){var e,t;return 0!==this.props.checked_files.size?this.clear_selection():(t=this.props.listing.slice(this.props.page_size*this.props.page_number,this.props.page_size*(this.props.page_number+1)),this.props.actions.set_file_list_checked(function(){var n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(de.path_to_file(this.props.current_path,e.name));return i}.call(this)),this.props.listing.length>this.props.page_size?this.setState({select_entire_directory:"check"}):void 0)},render_check_all_button:function(){var e,t;return 0===this.props.checked_files.size?(e="square-o",t="Check all"):(t="Uncheck all",e=this.props.checked_files.size>=this.props.listing.length?"check-square-o":"minus-square-o"),W.createElement(a,{bsSize:"small",onClick:this.check_all_click_handler},W.createElement(C,{name:e})," ",t)},select_entire_directory:function(){var e;return this.props.actions.set_file_list_checked(function(){var t,n,r,i;for(r=this.props.listing,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(de.path_to_file(this.props.current_path,e.name));return i}.call(this))},render_select_entire_directory:function(){switch(this.state.select_entire_directory){case"check":return W.createElement(a,{bsSize:"xsmall",onClick:this.select_entire_directory},"Select all ",this.props.listing.length," items");case"clear":return W.createElement(a,{bsSize:"xsmall",onClick:this.clear_selection},"Clear entire selection.")}},render_currently_selected:function(){var e,t,n,r;return e=null!=(t=null!=(n=this.props.checked_files)?n.size:void 0)?t:0,r=this.props.listing.length,0===e?W.createElement("div",{style:{color:"#999",height:"22px"}},W.createElement("span",null,r+" "+de.plural(r,"item"))):W.createElement("div",{style:{color:"#999",height:"22px"}},W.createElement("span",null,e+" of "+r+" "+de.plural(r,"item")+" selected"),W.createElement(Q,null),this.render_select_entire_directory())},render_action_button:function(e){var t,n;return n=ae[e],t=function(e){return function(){var t;return de.path_split(null!=(t=e.props.checked_files)?t.first():void 0).tail}}(this),W.createElement(a,{onClick:function(n){return function(){return n.props.actions.set_file_action(e,t)}}(this),key:e},W.createElement(C,{name:n.icon})," ",W.createElement("span",{className:"hidden-sm"},n.name,"..."))},render_action_buttons:function(){var e,t,n,r,i,o,s,a;if(0!==this.props.checked_files.size){if(1===this.props.checked_files.size){for(r=this.props.checked_files.first(),s=this.props.listing,i=0,o=s.length;i<o;i++)t=s[i],de.path_to_file(this.props.current_path,t.name)===r&&(n=t.isdir);e=n?["download","compress","delete","rename","duplicate","move","copy","share"]:["download","delete","rename","duplicate","move","copy","share"]}else e=["download","compress","delete","move","copy"];return this.props.public_view&&(e=["copy","download"]),W.createElement(l,{bsSize:"small"},function(){var t,n,r;for(r=[],t=0,n=e.length;t<n;t++)a=e[t],r.push(this.render_action_button(a));return r}.call(this))}},render:function(){return W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(l,null,this.render_check_all_button()),this.render_action_buttons())),W.createElement(d,{sm:12},this.render_currently_selected()))}}),z=fe({displayName:"ProjectFiles-ProjectFilesActionBox",propTypes:{checked_files:we.object,file_action:we.string,current_path:we.string.isRequired,project_id:we.string.isRequired,public_view:we.bool,file_map:we.object.isRequired,actions:we.object.isRequired,displayed_listing:we.object},reduxProps:{projects:{get_project_select_list:we.func},account:{get_user_type:we.func}},getInitialState:function(){return{copy_destination_directory:"",copy_destination_project_id:this.props.public_view?"":this.props.project_id,move_destination:"",new_name:this.props.new_name,show_different_project:this.props.public_view}},pre_styles:{marginBottom:"15px",maxHeight:"80px",minHeight:"34px",fontSize:"14px",fontFamily:"inherit",color:"#555",backgroundColor:"#eee",padding:"6px 12px"},cancel_action:function(){return this.props.actions.set_file_action()},action_key:function(e){var t;switch(e.keyCode){case 27:return this.cancel_action();case 13:return"function"==typeof this[t="submit_action_"+this.props.file_action]?this[t]():void 0}},render_selected_files_list:function(){var e;return W.createElement("pre",{style:this.pre_styles},function(){var t,n,r,i;for(r=this.props.checked_files.toArray(),i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(W.createElement("div",{key:e},de.path_split(e).tail));return i}.call(this))},compress_click:function(){var e;return e=H.findDOMNode(this.refs.result_archive).value,this.props.actions.zip_files({src:this.props.checked_files.toArray(),dest:de.path_to_file(this.props.current_path,e)}),this.props.actions.set_all_files_unchecked(),this.props.actions.set_file_action()},render_compress:function(){var e;return e=this.props.checked_files.size,W.createElement("div",null,W.createElement(G,null,W.createElement(d,{sm:5,style:{color:"#666"}},W.createElement("h4",null,"Create a zip file"),this.render_selected_files_list()),W.createElement(d,{sm:5,style:{color:"#666"}},W.createElement("h4",null,"Result archive"),W.createElement(A,null,W.createElement(k,{autoFocus:!0,ref:"result_archive",key:"result_archive",type:"text",defaultValue:oe.default_filename("zip"),placeholder:"Result archive...",onKeyDown:this.action_key})))),W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(a,{bsStyle:"warning",onClick:this.compress_click},W.createElement(C,{name:"compress"})," Compress ",e," ",de.plural(e,"item")),W.createElement(a,{onClick:this.cancel_action},"Cancel")))))},submit_action_compress:function(){return this.compress_click()},delete_click:function(){return this.props.actions.delete_files({paths:this.props.checked_files.toArray()}),this.props.actions.set_file_action(),this.props.actions.set_all_files_unchecked(),this.props.actions.fetch_directory_listing()},render_delete_warning:function(){if(".trash"===this.props.current_path)return W.createElement(d,{sm:5},W.createElement(i,{bsStyle:"danger"},W.createElement("h4",null,W.createElement(C,{name:"exclamation-triangle"})," Notice"),W.createElement("p",null,"Your files have already been moved to the trash.")))},render_delete:function(){var e;return e=this.props.checked_files.size,W.createElement("div",null,W.createElement(G,null,W.createElement(d,{sm:5,style:{color:"#666"}},this.render_selected_files_list()),this.render_delete_warning()),W.createElement(G,{style:{marginBottom:"10px"}},W.createElement(d,{sm:12},"Deleting a file immediately deletes it from disk freeing up space; however, older\nbackups of your files may still be available in\nthe ",W.createElement("a",{href:"",onClick:function(e){return function(t){return t.preventDefault(),e.props.actions.open_directory(".snapshots")}}(this)},"~/.snapshots")," directory.")),W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(a,{bsStyle:"danger",onClick:this.delete_click,disabled:".trash"===this.props.current_path},W.createElement(C,{name:"trash-o"})," Delete ",e," ",de.plural(e,"item")),W.createElement(a,{onClick:this.cancel_action},"Cancel")))))},rename_or_duplicate_click:function(){var e,t,n;switch(n=de.path_split(null!=(t=this.props.checked_files)?t.first():void 0).head,e=H.findDOMNode(this.refs.new_name).value,this.props.file_action){case"rename":this.props.actions.move_files({src:this.props.checked_files.toArray(),dest:de.path_to_file(n,e)});break;case"duplicate":this.props.actions.copy_paths({src:this.props.checked_files.toArray(),dest:de.path_to_file(n,e),only_contents:!0})}return this.props.actions.set_file_action(),this.props.actions.set_all_files_unchecked()},render_rename_warning:function(){var e,t,n;if(t=de.filename_extension(this.props.checked_files.first()),e=de.filename_extension(this.state.new_name),t!==e)return n=""===t?"Are you sure you want to add the extension "+e+"?":""===e?"Are you sure you want to remove the extension "+t+"?":"Are you sure you want to change the file extension from "+t+" to "+e+"?",W.createElement(i,{bsStyle:"warning",style:{wordWrap:"break-word"}},W.createElement("h4",null,W.createElement(C,{name:"exclamation-triangle"})," Warning"),W.createElement("p",null,n),W.createElement("p",null,"This may cause your file to no longer open properly."))},valid_rename_input:function(e){return!(this.state.new_name.length>250||de.contains(this.state.new_name,"/"))&&this.state.new_name.trim()!==de.path_split(e).tail},render_rename_or_duplicate:function(){var e,t;switch(t=this.props.checked_files.first(),this.props.file_action){case"rename":e="Rename";break;case"duplicate":e="Duplicate"}return W.createElement("div",null,W.createElement(G,null,W.createElement(d,{sm:5,style:{color:"#666"}},W.createElement("h4",null,"Change the name"),this.render_selected_files_list()),W.createElement(d,{sm:5,style:{color:"#666"}},W.createElement("h4",null,"New name"),W.createElement(A,null,W.createElement(k,{autoFocus:!0,ref:"new_name",key:"new_name",type:"text",defaultValue:this.state.new_name,placeholder:"New file name...",onChange:function(e){return function(){return e.setState({new_name:H.findDOMNode(e.refs.new_name).value})}}(this),onKeyDown:this.action_key})),this.render_rename_warning())),W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(a,{bsStyle:"info",onClick:function(e){return function(){return e.rename_or_duplicate_click()}}(this),disabled:!this.valid_rename_input(t)},W.createElement(C,{name:"pencil"})," ",e," item"),W.createElement(a,{onClick:this.cancel_action},"Cancel")))))},render_rename:function(){return this.render_rename_or_duplicate()},render_duplicate:function(){return this.render_rename_or_duplicate()},submit_action_rename:function(){var e;if(e=this.props.checked_files.first(),this.valid_rename_input(e))return this.rename_or_duplicate_click()},submit_action_duplicate:function(){return this.submit_action_rename()},move_click:function(){return this.props.actions.move_files({src:this.props.checked_files.toArray(),dest:this.state.move_destination}),this.props.actions.set_file_action(),this.props.actions.set_all_files_unchecked()},valid_move_input:function(){var e,t;return t=de.path_split(this.props.checked_files.first()).head,e=this.state.move_destination.trim(),e!==t&&(!de.contains(e,"//")&&!de.startswith(e,"/")&&("/"===e.charAt(e.length-1)&&(e=e.slice(0,e.length-1)),e!==this.props.current_path))},render_move:function(){var e;return e=this.props.checked_files.size,W.createElement("div",null,W.createElement(G,null,W.createElement(d,{sm:5,style:{color:"#666"}},W.createElement("h4",null,"Move to a folder"),this.render_selected_files_list()),W.createElement(d,{sm:5,style:{color:"#666",marginBottom:"15px"}},W.createElement("h4",null,"Destination"),W.createElement(m,{autoFocus:!0,on_change:function(e){return function(t){return e.setState({move_destination:t})}}(this),key:"move_destination",default_value:"",placeholder:"Home directory",project_id:this.props.project_id,on_key_up:this.action_key,exclusions:this.props.checked_files.toArray()}))),W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(a,{bsStyle:"warning",onClick:this.move_click,disabled:!this.valid_move_input()},W.createElement(C,{name:"arrows"})," Move ",e," ",de.plural(e,"item")),W.createElement(a,{onClick:this.cancel_action},"Cancel")))))},submit_action_move:function(){if(this.valid_move_input())return this.move_click()},render_different_project_dialog:function(){var e;if(this.state.show_different_project)return e=this.props.get_project_select_list(this.props.project_id),null==e?W.createElement(E,null):W.createElement(d,{sm:4,style:{color:"#666",marginBottom:"15px"}},W.createElement("h4",null,"In the project"),W.createElement(p,{valueField:"id",textField:"title",data:e,filter:"contains",defaultValue:this.props.public_view?void 0:this.props.project_id,placeholder:"Select a project...",onSelect:function(e){return function(t){return e.setState({copy_destination_project_id:t.id})}}(this),messages:{emptyFilter:"",emptyList:""}}),this.render_copy_different_project_options())},render_copy_different_project_options:function(){if(this.props.project_id!==this.state.copy_destination_project_id)return W.createElement("div",null,W.createElement(u,{ref:"delete_extra_files_checkbox",onChange:function(e){return function(t){return e.setState({delete_extra_files:t.target.checked})}}(this)},"Delete extra files in target directory"),W.createElement(u,{ref:"overwrite_newer_checkbox",onChange:function(e){return function(t){return e.setState({overwrite_newer:t.target.checked})}}(this)},"Overwrite newer versions of files"))},different_project_button:function(){return W.createElement(a,{bsSize:"large",onClick:function(e){return function(){return e.setState({show_different_project:!0})}}(this),style:{padding:"0px 5px"}},"a different project")},copy_click:function(){var e,t,n,r,i;return t=this.state.copy_destination_directory,n=this.state.copy_destination_project_id,r=this.state.overwrite_newer,e=this.state.delete_extra_files,i=this.props.checked_files.toArray(),null!=n&&this.props.project_id!==n?this.props.actions.copy_paths_between_projects({public:this.props.public_view,src_project_id:this.props.project_id,src:i,target_project_id:n,target_path:t,overwrite_newer:r,delete_missing:e}):this.props.actions.copy_paths({src:i,dest:t}),this.props.actions.set_file_action()},valid_copy_input:function(){var e,t;return t=de.path_split(this.props.checked_files.first()).head,e=this.state.copy_destination_directory,(e!==t||this.props.project_id!==this.state.copy_destination_project_id)&&(""!==this.state.copy_destination_project_id&&(e!==this.props.current_directory&&!de.startswith(e,"/")))},render_copy:function(){var e,t;return t=this.props.checked_files.size,e="signed_in"===this.props.get_user_type(),this.props.public_view&&!e?W.createElement("div",null,W.createElement(S,null),W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(a,{bsStyle:"primary",disabled:!0},W.createElement(C,{name:"files-o"})," Copy ",t," ",de.plural(t,"item")),W.createElement(a,{onClick:this.cancel_action},"Cancel"))))):W.createElement("div",null,W.createElement(G,null,W.createElement(d,{sm:this.state.show_different_project?4:5,style:{color:"#666"}},W.createElement("h4",null,"Copy to a folder or ",this.state.show_different_project?"project":this.different_project_button()),this.render_selected_files_list()),this.render_different_project_dialog(),W.createElement(d,{sm:this.state.show_different_project?4:5,style:{color:"#666"}},W.createElement("h4",{style:this.state.show_different_project?void 0:{height:"25px"}},"Destination"),W.createElement(m,{autoFocus:!0,on_change:function(e){return function(t){return e.setState({copy_destination_directory:t})}}(this),key:"copy_destination_directory",placeholder:"Home directory",default_value:"",project_id:this.state.copy_destination_project_id,on_key_up:this.action_key}))),W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(a,{bsStyle:"primary",onClick:this.copy_click,disabled:!this.valid_copy_input()},W.createElement(C,{name:"files-o"})," Copy ",t," ",de.plural(t,"item")),W.createElement(a,{onClick:this.cancel_action},"Cancel")))))},submit_action_copy:function(){if(this.valid_copy_input())return this.copy_click()},share_click:function(){var e;return e=H.findDOMNode(this.refs.share_description).value,this.props.actions.set_public_path(this.props.checked_files.first(),e)},stop_sharing_click:function(){return this.props.actions.disable_public_path(this.props.checked_files.first()),this.props.actions.set_file_action()},render_share_warning:function(){return W.createElement(i,{bsStyle:"warning",style:{wordWrap:"break-word"}},W.createElement("h4",null,W.createElement(C,{name:"exclamation-triangle"})," Notice!"),W.createElement("p",null,"This file is in a public folder."),W.createElement("p",null,"In order to stop sharing it, you must stop sharing the parent."))},construct_public_share_url:function(e){var t,n,r;return r=document.URL,r=r.slice(0,r.indexOf("/projects/")),t=r+"/projects/"+this.props.project_id+"/files/"+de.encode_path(e),(null!=(n=this.props.file_map[de.path_split(e).tail])?n.isdir:void 0)&&(t+="/"),t},render_public_share_url:function(e){var t;return t=this.construct_public_share_url(e),W.createElement("pre",{style:this.pre_styles},W.createElement("a",{href:t,target:"_blank"},t))},render_share:function(){var e,n,r,i,o,s,l;return s=this.props.checked_files.first(),l=this.props.file_map[de.path_split(s).tail],null==l?W.createElement(E,null):(l.is_public&&(null!=(n=l.public)?n.path:void 0)!==s&&(e=!0),o=t(48).commercial&&l.is_public,W.createElement("div",null,W.createElement(G,null,W.createElement(d,{sm:4,style:{color:"#666"}},W.createElement("h4",null,"Share publicly"),this.render_selected_files_list()),W.createElement(d,{sm:4,style:{color:"#666"}},W.createElement("h4",null,"Description of share (optional)"),W.createElement(A,null,W.createElement(k,{autoFocus:!0,ref:"share_description",key:"share_description",type:"text",defaultValue:null!=(r=null!=(i=l.public)?i.description:void 0)?r:"",disabled:e,placeholder:"Description...",onKeyUp:this.action_key})),e?this.render_share_warning():void 0),W.createElement(d,{sm:4,style:{color:"#666"}},W.createElement("h4",null,"Public access link"),this.render_public_share_url(s))),W.createElement(G,null,W.createElement(d,{sm:8},W.createElement(c,null,W.createElement(a,{bsStyle:"primary",onClick:this.share_click,disabled:e},W.createElement(C,{name:"share-square-o"}),W.createElement(Q,null),l.is_public?"Change description":"Make item public"),W.createElement(a,{bsStyle:"warning",onClick:this.stop_sharing_click,disabled:!l.is_public||e},W.createElement(C,{name:"shield"})," Stop sharing item publicly"),W.createElement(a,{onClick:this.cancel_action},"Close"))),W.createElement(d,{sm:4},o?W.createElement(c,null,this.render_social_buttons(s)):void 0))))},render_social_buttons:function(e){var n,r,i,o,s,l,c,u,d,p,h;for(o={email:["Email","envelope"],facebook:["Facebook","facebook"],google:["Google+","google-plus"],twitter:["Twitter","twitter"]},h=null!=(u=null!=(d=me.getStore("account").get("strategies"))?d.toArray():void 0)?u:[],n=t(23),i=n.sortBy(n.keys(o),function(e){var t;return t=h.indexOf(e),t>=0?t:o.length+1}),p=[],s=function(t){return function(n){var r,i,s;return i=o[n],s=i[0],r=i[1],p.push(W.createElement(a,{onClick:function(){return t.share_social_network(n,e)},key:n},W.createElement(C,{name:r})," ",s))}}(this),l=0,c=i.length;l<c;l++)r=i[l],s(r);return p},share_social_network:function(e,n){var r,i,o,s,a,l;switch(r=this.construct_public_share_url(n),s=encodeURIComponent(r),i=de.path_split(n).tail,a=encodeURIComponent("Check out "+i),e){case"facebook":l="https://www.facebook.com/dialog/share?app_id=806558949398043&display=popup&\nhref="+s+"&redirect_uri=https%3A%2F%2Ffacebook.com&quote="+a;break;case"twitter":l="https://twitter.com/intent/tweet?text="+a+"&url="+s+"&via=sagemath";break;case"google":l="https://plus.google.com/share?url="+s;break;case"email":l="mailto:?to=&subject="+i+" on SageMathCloud&\nbody=A file is shared with you: "+s}return null!=l?(o=t(30).open_popup_window)(l):console.warn("Unknown social media channel '"+e+"'")},submit_action_share:function(){var e,t,n;if(t=this.props.checked_files.first(),n=this.props.file_map[de.path_split(t).tail],
null!=n&&(!n.is_public||(null!=(e=n.public)?e.path:void 0)===t))return this.share_click()},download_click:function(){return this.props.actions.download_file({path:this.props.checked_files.first(),log:!0}),this.props.actions.set_file_action()},render_download_link:function(e){var t;return t=this.props.actions.get_store().get_raw_link(e),W.createElement("pre",{style:this.pre_styles},W.createElement("a",{href:t,target:"_blank"},t))},render_download_alert:function(){return W.createElement(i,{bsStyle:"warning"},W.createElement("h4",null,W.createElement(C,{name:"exclamation-triangle"})," Notice"),W.createElement("p",null,"Download for multiple files and directories is not yet implemented."),W.createElement("p",null,"For now, create a zip archive or download files one at a time."))},render_download:function(){var e,t,n;return n=this.props.checked_files.first(),(1!==this.props.checked_files.size||(null!=(t=this.props.file_map[de.path_split(n).tail])?t.isdir:void 0))&&(e=!0),W.createElement("div",null,W.createElement(G,null,W.createElement(d,{sm:5,style:{color:"#666"}},W.createElement("h4",null,"Download file to your computer"),this.render_selected_files_list()),W.createElement(d,{sm:7,style:{color:"#666"}},W.createElement("h4",null,"Download link"),e?this.render_download_alert():this.render_download_link(n))),W.createElement(G,null,W.createElement(d,{sm:12},W.createElement(c,null,W.createElement(a,{bsStyle:"primary",onClick:this.download_click,disabled:e},W.createElement(C,{name:"cloud-download"})," Download"),W.createElement(a,{onClick:this.cancel_action},"Cancel")))))},render_action_box:function(e){var t;return"function"==typeof this[t="render_"+e]?this[t]():void 0},render:function(){var e,t,n;return e=this.props.file_action,t=ae[e],null==t?W.createElement("div",null,"Undefined action"):null==this.props.file_map?W.createElement(E,null):W.createElement(ie,null,W.createElement(G,null,W.createElement(d,{sm:12,style:{color:"#666",fontWeight:"bold",fontSize:"15pt"}},W.createElement(C,{name:null!=(n=t.icon)?n:"exclamation-circle"})," ",t.name),W.createElement(d,{sm:12},this.render_action_box(e))))}}),F=fe({displayName:"ProjectFiles-ProjectFilesSearch",propTypes:{project_id:we.string.isRequired,file_search:we.string,current_path:we.string,actions:we.object.isRequired,create_file:we.func.isRequired,create_folder:we.func.isRequired,selected_file:we.object,selected_file_index:we.number,file_creation_error:we.string,num_files_displayed:we.number},getDefaultProps:function(){return{file_search:"",selected_file_index:0,num_files_displayed:0}},getInitialState:function(){return{stdout:void 0,state:"edit",error:void 0}},execute_command:function(e){var t,n,r,i;if(this.setState({stdout:"",error:""}),n=e.trim())return r=n+'\necho $HOME "`pwd`"',this.setState({state:"run"}),this._id=(null!=(i=this._id)?i:0)+1,t=this._id,xe.exec({project_id:this.props.project_id,command:r,timeout:10,max_output:1e5,bash:!0,path:this.props.current_path,err_on_exit:!1,cb:function(e){return function(r,i){var o,s,a,l;if(e._id===t)return r?e.setState({error:r,state:"edit"}):(i.stdout&&(l=i.stdout.trim(),s=l.lastIndexOf("\n"),s===-1?i.stdout="":(l=l.slice(s+1),i.stdout=i.stdout.slice(0,s)),s=l.indexOf(" "),o=l.slice(s+1),o.slice(0,s)===l.slice(0,s)&&(a=l.slice(2*s+2),e.props.actions.open_directory(a))),i.stderr||e.props.actions.log({event:"termInSearch",input:n}),e.setState({state:"edit",error:i.stderr,stdout:i.stdout}),i.stderr?void 0:e.props.actions.set_file_search(""))}}(this)})},render_help_info:function(){var e,t;if(this.props.file_search.length>0&&this.props.num_files_displayed>0&&this.props.file_search[0]!==X)return e=this.props.file_search.indexOf("/"),t=" /"===this.props.file_search?"Showing all folders in this directory":e===this.props.file_search.length-1?"Showing folders matching "+this.props.file_search.slice(0,this.props.file_search.length-1):"Showing files matching "+this.props.file_search,W.createElement(i,{style:{wordWrap:"break-word"},bsStyle:"info"},t)},render_file_creation_error:function(){if(this.props.file_creation_error)return W.createElement(i,{style:{wordWrap:"break-word"},bsStyle:"danger",onDismiss:this.dismiss_alert},this.props.file_creation_error)},render_output:function(e,t){if(e)return W.createElement("pre",{style:t},W.createElement("a",{onClick:function(e){return function(t){return t.preventDefault(),e.setState({stdout:"",error:""})}}(this),href:"",style:{right:"5px",top:"0px",color:"#666",fontSize:"14pt",position:"absolute"}},W.createElement(C,{name:"times"})),e)},dismiss_alert:function(){return this.props.actions.setState({file_creation_error:""})},search_submit:function(e,t){var n,r,i;if(e[0]===X)return n=e.slice(1,e.length),this.execute_command(n);if(this.props.selected_file){if(r=de.path_to_file(this.props.current_path,this.props.selected_file.name),i=this.props.selected_file.isdir,i?(this.props.actions.open_directory(r),this.props.actions.setState({page_number:0})):this.props.actions.open_file({path:r,foreground:!t.ctrl_down}),i||!t.ctrl_down)return this.props.actions.set_file_search(""),this.props.actions.clear_selected_file_index()}else if(this.props.file_search.length>0)return"/"===this.props.file_search[this.props.file_search.length-1]?this.props.create_folder(!t.ctrl_down):this.props.create_file(null,!t.ctrl_down),this.props.actions.clear_selected_file_index()},on_up_press:function(){if(this.props.selected_file_index>0)return this.props.actions.decrement_selected_file_index()},on_down_press:function(){if(this.props.selected_file_index<this.props.num_files_displayed-1)return this.props.actions.increment_selected_file_index()},on_change:function(e,t){return this.props.actions.zero_selected_file_index(),this.props.actions.set_file_search(e)},on_clear:function(){return this.props.actions.clear_selected_file_index(),this.setState({input:"",stdout:"",error:""})},render:function(){return W.createElement("span",null,W.createElement(V,{autoFocus:!0,autoSelect:!0,placeholder:"Filename",value:this.props.file_search,on_change:this.on_change,on_submit:this.search_submit,on_up:this.on_up_press,on_down:this.on_down_press,on_clear:this.on_clear}),this.render_file_creation_error(),this.render_help_info(),W.createElement("div",{style:{position:"absolute",zIndex:1,width:"95%",boxShadow:"0px 0px 7px #aaa"}},this.render_output(this.state.error,{color:"darkred",margin:0}),this.render_output(this.state.stdout,{margin:0})))}}),B=fe({displayName:"ProjectFiles-ProjectFilesNew",propTypes:{file_search:we.string.isRequired,current_path:we.string,actions:we.object.isRequired,create_folder:we.func.isRequired,create_file:we.func.isRequired},getDefaultProps:function(){return{file_search:""}},new_file_button_types:["sagews","term","ipynb","tex","rnw","md","tasks","course","sage","py","sage-chat"],file_dropdown_icon:function(){return W.createElement("span",null,W.createElement(C,{name:"plus-circle"})," Create")},file_dropdown_item:function(e,n){var r,i;return i=t(40).file_options,r=i("x."+n),W.createElement(j,{eventKey:e,key:e,onClick:function(e){return function(){return e.on_menu_item_clicked(n)}}(this)},W.createElement(C,{name:r.icon.substring(3)})," ",W.createElement("span",{style:{textTransform:"capitalize"}},r.name," ")," ",W.createElement("span",{style:{color:"#666"}},"(.",n,")"))},on_menu_item_clicked:function(e){return 0===this.props.file_search.length?this.props.actions.setState({file_creation_error:"You must enter a filename above."}):this.props.create_file(e)},on_create_button_clicked:function(){return 0===this.props.file_search.length?this.props.actions.set_active_tab("new"):"/"===this.props.file_search[this.props.file_search.length-1]?this.props.create_folder():this.props.create_file()},render:function(){var e,t;return W.createElement("div",{style:{whiteSpace:"nowrap",display:"inline-block",marginRight:"20px"}},W.createElement(Z,{id:"new_file_dropdown",title:this.file_dropdown_icon(),onClick:this.on_create_button_clicked},function(){var n,r;n=this.new_file_button_types,r=[];for(t in n)e=n[t],r.push(this.file_dropdown_item(t,e));return r}.call(this),W.createElement(j,{divider:!0}),W.createElement(j,{eventKey:"folder",key:"folder",onSelect:this.props.create_folder},W.createElement(C,{name:"folder"})," Folder")))}}),se={marginRight:"1ex",whiteSpace:"pre-line",position:"absolute",zIndex:15,right:"5px",boxShadow:"5px 5px 5px grey"},exports.ProjectFiles=fe(function(e){var s,c;return s=e.name,{displayName:"ProjectFiles",reduxProps:(c={projects:{project_map:we.immutable,date_when_course_payment_required:we.func,get_my_group:we.func,get_total_project_quotas:we.func},account:{other_settings:we.immutable},billing:{customer:we.object}},c[""+s]={current_path:we.string,activity:we.object,page_number:we.number,file_action:we.string,file_search:we.string,show_hidden:we.bool,sort_by_time:we.bool,error:we.string,checked_files:we.immutable,selected_file_index:we.number,file_creation_error:we.string,displayed_listing:we.object,new_name:we.string},c),propTypes:{project_id:we.string,actions:we.object,redux:we.object},getDefaultProps:function(){return{page_number:0,file_search:"",new_name:"",actions:me.getActions(s),redux:me}},getInitialState:function(){return{show_pay:!1,shift_is_down:!1}},componentDidMount:function(){var e;return null!=(e=this.props.redux.getActions("billing"))&&e.update_customer(),$(window).on("keydown",this.handle_files_key_down),$(window).on("keyup",this.handle_files_key_up)},componentWillUnmount:function(){return $(window).off("keydown",this.handle_files_key_down),$(window).off("keyup",this.handle_files_key_up)},handle_files_key_down:function(e){if("Shift"===e.key)return this.setState({shift_is_down:!0})},handle_files_key_up:function(e){if("Shift"===e.key)return this.setState({shift_is_down:!1})},previous_page:function(){if(this.props.page_number>0)return this.actions(s).setState({page_number:this.props.page_number-1})},next_page:function(){return this.actions(s).setState({page_number:this.props.page_number+1})},create_file:function(e,t){if(null==t&&(t=!0),null==e&&this.props.file_search.lastIndexOf(".")<=this.props.file_search.lastIndexOf("/")&&(e="sagews"),this.actions(s).create_file({name:this.props.file_search,ext:e,current_path:this.props.current_path,switch_over:t}),this.props.actions.setState({file_search:"",page_number:0}),!t)return this.props.actions.fetch_directory_listing()},create_folder:function(e){if(null==e&&(e=!0),this.props.actions.create_folder({name:this.props.file_search,current_path:this.props.current_path,switch_over:e}),this.props.actions.setState({file_search:"",page_number:0}),!e)return this.props.actions.fetch_directory_listing()},render_paging_buttons:function(e){if(e>1)return W.createElement(G,null,W.createElement(d,{sm:4},W.createElement(l,{style:{marginBottom:"5px"}},W.createElement(a,{onClick:this.previous_page,disabled:this.props.page_number<=0},W.createElement(C,{name:"angle-double-left"})," Prev"),W.createElement(a,{disabled:!0},this.props.page_number+1+"/"+e),W.createElement(a,{onClick:this.next_page,disabled:this.props.page_number>=e-1},"Next ",W.createElement(C,{name:"angle-double-right"})))))},render_files_action_box:function(e,t){if(null!=e)return W.createElement(d,{sm:12},W.createElement(z,{file_action:this.props.file_action,checked_files:this.props.checked_files,current_path:this.props.current_path,project_id:this.props.project_id,public_view:t,file_map:e,new_name:this.props.new_name,actions:this.props.actions,displayed_listing:this.props.displayed_listing}))},render_files_actions:function(e,t){if(e.length>0)return W.createElement(R,{checked_files:this.props.checked_files,file_action:this.props.file_action,page_number:this.props.page_number,page_size:this.file_listing_page_size(),public_view:t,current_path:this.props.current_path,listing:e,actions:this.props.actions})},render_miniterm:function(){return W.createElement(M,{current_path:this.props.current_path,project_id:this.props.project_id,actions:this.props.actions})},render_new_file:function(){return W.createElement(d,{sm:3},W.createElement(B,{file_search:this.props.file_search,current_path:this.props.current_path,actions:this.props.actions,create_file:this.create_file,create_folder:this.create_folder}),W.createElement(a,{className:"upload-button"},W.createElement(C,{name:"upload"})," Upload"))},render_activity:function(){return W.createElement(r,{trunc:80,activity:ke.values(this.props.activity),on_clear:function(e){return function(){return e.props.actions.clear_all_activity()}}(this)})},render_pay:function(){return W.createElement(D,{project_id:this.props.project_id,redux:this.props.redux})},render_upgrade_in_place:function(){var e,t,n,r;return e=null!=(t=null!=(n=this.props.customer)&&null!=(r=n.sources)?r.total_count:void 0)?t:0,W.createElement("div",{style:{marginTop:"10px"}},W.createElement(o,{redux:me}),e?this.render_pay():void 0)},render_course_payment_required:function(){var e,t,n,r;return e=null!=(t=null!=(n=this.props.customer)&&null!=(r=n.sources)?r.total_count:void 0)?t:0,W.createElement(i,{bsStyle:"danger"},W.createElement("h4",{style:{padding:"2em"}},W.createElement(C,{name:"exclamation-triangle"})," Error: Your instructor requires you to pay the course fee for this project.",e?W.createElement(h,null):void 0),this.render_upgrade_in_place())},render_course_payment_warning:function(e){return W.createElement(i,{bsStyle:"warning"},W.createElement(C,{name:"exclamation-triangle"})," Warning: Your instructor requires you to ",W.createElement("a",{style:{cursor:"pointer"},onClick:function(e){return function(){return e.setState({show_pay:!0})}}(this)},"pay the course fee")," for this project\nwithin ",W.createElement(te,{date:e}),".",this.state.show_pay?this.render_upgrade_in_place():void 0)},render_deleted:function(){var e;if(null!=(e=this.props.project_map)?e.getIn([this.props.project_id,"deleted"]):void 0)return W.createElement(f,null)},render_error:function(){if(this.props.error)return W.createElement(g,{error:this.props.error,style:se,onClose:function(e){return function(){return e.props.actions.setState({error:""})}}(this)})},render_access_error:function(){var e,t,r;return e="public"===this.props.get_my_group(this.props.project_id),e?(null!=(t=this.props.redux.getStore("account"))?t.is_logged_in():void 0)?W.createElement(g,{bsStyle:"warning",title:"Showing only public files",error:"You are trying to access a project that you are not a collaborator on. To view non-public files or edit files in this project you need to ask a collaborator of the project to add you."}):W.createElement("div",null,W.createElement(g,{bsStyle:"warning",title:"Showing only public files",error:"You are not logged in. To view non-public files or edit files in this project you'll need to sign in. If you are not a collaborator then you need to ask a collaborator of the project to add you to access non public files."})):(null!=(r=this.props.redux.getStore("account"))?r.is_logged_in():void 0)?W.createElement(g,{title:"Directory is not public",error:"You are trying to access a non public project that you are not a collaborator on. You need to ask a collaborator of the project to add you."}):W.createElement("div",null,W.createElement(g,{title:"Directory is not public",error:"You are not signed in. If you are collaborator on this project you need to sign in first. This project is not public."}),W.createElement(n,null))},render_file_listing:function(e,n,r,i,o){var s,l;if(null!=i&&"running"!==i&&"saving"!==i)return this.render_project_state(i);if(r){switch(l=this.props.get_total_project_quotas(this.props.project_id),r){case'"not_public"':s=this.render_access_error();break;case"no_dir":s=W.createElement(g,{title:"No such directory",error:"The path "+this.props.current_path+" does not exist."});break;case"not_a_dir":s=W.createElement(g,{title:"Not a directory",error:this.props.current_path+" is not a directory."});break;case"not_running":s=W.createElement(g,{title:"Project still not running",error:"The project was not running when this directory listing was requested.  Please try again in a moment."});break;default:s="no_instance"===r||t(48).commercial&&!(null!=l?l.member_host:void 0)?W.createElement(g,{title:"Host down",error:"The host for this project is down, being rebooted, or is overloaded with users.   Free projects are hosted on potentially massively overloaded preemptible instances, which are rebooted at least once per day and periodically become unavailable.   To increase the robustness of your projects, please become a paying customer (US $7/month) by entering your credit card in the Billing tab next to account settings, then move your projects to a members only server. \n\n"+((null!=l?l.member_host:void 0)?void 0:r)}):W.createElement(g,{title:"Directory listing error",error:r})}return W.createElement("div",null,s,W.createElement("br",null),W.createElement(a,{onClick:this.update_current_listing},W.createElement(C,{name:"refresh"})," Try again to get directory listing"))}return null!=e?W.createElement(J,{project_id:this.props.project_id,dest_path:this.props.current_path,event_handlers:{complete:function(e){return function(){return e.props.actions.fetch_directory_listing()}}(this)},config:{clickable:".upload-button"},disabled:o},W.createElement(y,{listing:e,page_size:this.file_listing_page_size(),page_number:this.props.page_number,file_map:n,file_search:this.props.file_search,checked_files:this.props.checked_files,current_path:this.props.current_path,public_view:o,actions:this.props.actions,create_file:this.create_file,create_folder:this.create_folder,selected_file_index:this.props.selected_file_index,project_id:this.props.project_id,shift_is_down:this.state.shift_is_down,event_handlers:!0})):(this.update_current_listing(),W.createElement("div",{style:{fontSize:"40px",textAlign:"center",color:"#999999"}},W.createElement(E,null)))},update_current_listing:function(){return setTimeout(this.props.actions.fetch_directory_listing,0)},start_project:function(){return this.actions("projects").start_project(this.props.project_id)},render_start_project_button:function(e){return W.createElement(a,{disabled:"opened"!==e&&"closed"!==e,bsStyle:"primary",bsSize:"large",onClick:this.start_project},W.createElement(C,{name:"flash"})," Start Project")},render_project_state:function(e){return W.createElement("div",{style:{fontSize:"40px",textAlign:"center",color:"#999999"}},W.createElement(U,{state:e}),W.createElement("br",null),this.render_start_project_button(e))},file_listing_page_size:function(){var e,t;return null!=(e=null!=(t=this.props.other_settings)?t.get("page_size"):void 0)?e:50},file_listing_default_sort:function(){var e,t;return null!=(e=null!=(t=this.props.other_settings)?t.get("default_file_sort"):void 0)?e:"time"},render:function(){var e,t,n,r,i,o,s,a,l,c,u,p,h,f,m,_;return null==this.props.checked_files?W.createElement(E,null):(o=this.props.date_when_course_payment_required(this.props.project_id),null!=o&&o<=xe.server_time()?this.render_course_payment_required():(a="public"===this.props.get_my_group(this.props.project_id),a||(s=null!=(c=this.props.project_map)?c.getIn([this.props.project_id,"state","state"]):void 0),u=this.props.displayed_listing,i=u.listing,t=u.error,r=u.file_map,n=this.file_listing_page_size(),null!=i&&(p=pe(n,this.props.page_number),m=p.start_index,e=p.end_index,_=i.slice(m,e)),W.createElement("div",{style:{padding:"15px"}},null!=o?this.render_course_payment_warning(o):void 0,this.render_deleted(),this.render_error(),this.render_activity(),W.createElement(G,null,W.createElement(d,{sm:3},W.createElement(F,{project_id:this.props.project_id,key:this.props.current_path,file_search:this.props.file_search,actions:this.props.actions,current_path:this.props.current_path,selected_file:null!=_?_[null!=(h=this.props.selected_file_index)?h:0]:void 0,selected_file_index:this.props.selected_file_index,file_creation_error:this.props.file_creation_error,num_files_displayed:null!=_?_.length:void 0,create_file:this.create_file,create_folder:this.create_folder})),a?void 0:this.render_new_file(),W.createElement(d,{sm:a?6:3},W.createElement(q,{current_path:this.props.current_path,actions:this.props.actions})),a?void 0:W.createElement(d,{sm:3},W.createElement("div",{style:{height:0}},"  ",W.createElement(re,{project_id:this.props.project_id})),W.createElement(P,{show_hidden:null!=(f=this.props.show_hidden)&&f,sort_by_time:null==(l=this.props.sort_by_time)||l,default_sort:this.file_listing_default_sort(),current_path:this.props.current_path,public_view:a,actions:this.props.actions}))),W.createElement(G,null,W.createElement(d,{sm:8},null!=i?this.render_files_actions(i,a):void 0),W.createElement(d,{sm:4},a?void 0:this.render_miniterm()),this.props.checked_files.size>0&&null!=this.props.file_action?this.render_files_action_box(r,a):void 0),a?this.render_access_error():void 0,this.render_file_listing(_,r,t,s,a),null!=i?this.render_paging_buttons(Math.ceil(i.length/n)):void 0)))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q;P=t(9),B=t(30),V=t(23),U=t(12),A=U.React,C=U.ReactDOM,n=U.Actions,T=U.Store,O=U.Table,G=U.rtypes,F=U.rclass,E=U.Redux,W=t(22),a=W.Col,S=W.Row,i=W.Button,o=W.ButtonGroup,s=W.ButtonToolbar,d=W.FormControl,p=W.FormGroup,b=W.Panel,m=W.Input,L=W.Well,M=W.SplitButton,g=W.MenuItem,r=W.Alert,H=t(17),l=H.ErrorDisplay,h=H.Icon,_=H.Loading,N=H.TimeAgo,I=H.Tip,f=H.ImmutablePureRenderMixin,j=H.Space,D=t(102).User,Y=t(19).salvus_client,z=t(40).file_associations,J=t(83).special_filenames_with_no_extension,Q=P.keys(z),Q.sort(),R=function(e,t){var n,r,i,o,s,a;for(i=[],o={},s=0,a=e.length;s<a;s++)r=e[s],r&&(n=z[r],t&&n.exclude_from_menu||null==n.name||o[n.name]||(o[n.name]=!0,i.push(r)));return i},q=R(Q,!0),w=exports.PathLink=F({displayName:"ProjectNew-PathLink",mixins:[f],propTypes:{path:G.string.isRequired,actions:G.object.isRequired,default:G.string},getDefaultProps:function(){return{default:"home directory of project"}},styles:{cursor:"pointer"},handle_click:function(){return this.props.actions.set_active_tab("files")},render:function(){return A.createElement("a",{style:this.styles,onClick:this.handle_click},this.props.path?this.props.path:this.props.default)}}),k=F({displayName:"ProjectNew-ProjectNewHeader",mixins:[f],propTypes:{current_path:G.string,actions:G.object.isRequired},render:function(){return A.createElement("h1",{style:{marginTop:"0px"}},A.createElement(h,{name:"plus-circle"})," Create new files in",A.createElement(j,null),A.createElement(w,{path:this.props.current_path,actions:this.props.actions}))}}),exports.NewFileButton=v=F({displayName:"ProjectNew-ProjectNewFileButton",mixins:[f],propTypes:{name:G.string,icon:G.string,on_click:G.func,ext:G.string},on_click:function(){return null!=this.props.ext?this.props.on_click(this.props.ext):this.props.on_click()},render:function(){return A.createElement(i,{onClick:this.on_click,style:{marginRight:"5px"}},A.createElement(h,{name:this.props.icon})," ",this.props.name,this.props.children)}}),y=F({propTypes:{create_file:G.func},mixins:[f],file_dropdown_icon:function(){return A.createElement("span",null,A.createElement(h,{name:"file"})," File")},file_dropdown_item:function(e,n){var r,i;return i=t(40).file_options,r=i("x."+n),A.createElement(g,{eventKey:e,key:e,onSelect:function(e){return function(){return e.props.create_file(n)}}(this)},A.createElement(h,{name:r.icon.substring(3)})," ",A.createElement("span",{style:{textTransform:"capitalize"}},r.name," ")," ",A.createElement("span",{style:{color:"#666"}},"(.",n,")"))},render:function(){var e,t;return A.createElement(M,{id:"new_file_dropdown",title:this.file_dropdown_icon(),onClick:function(e){return function(){return e.props.create_file()}}(this)},function(){var n;n=[];for(t in q)e=q[t],n.push(this.file_dropdown_item(t,e));return n}.call(this))}}),exports.FileTypeSelector=c=F({proptypes:{create_file:G.func.required,create_folder:G.func.required,styles:G.object},render:function(){var e;return e={marginBottom:"8px"},A.createElement("div",null,A.createElement(S,{style:e},A.createElement(a,{sm:6},A.createElement(I,{icon:"file-code-o",title:"Sage Worksheet",tip:"Create an interactive worksheet for using the SageMath mathematical software, R, and many other systems.  Do sophisticated mathematics, draw plots, compute integrals, work with matrices, etc."},A.createElement(v,{icon:"file-code-o",name:"Sage Worksheet",on_click:this.props.create_file,ext:"sagews"})),A.createElement(I,{icon:"file-code-o",title:"Jupyter Notebook",tip:"Create an interactive notebook for using Python, Julia, R and more."},A.createElement(v,{icon:"file-code-o",name:"Jupyter Notebook",on_click:this.props.create_file,ext:"ipynb"}))),A.createElement(a,{sm:6},A.createElement(I,{icon:"file",title:"Any Type of File",tip:"Create a wide range of files, including HTML, Markdown, C/C++ and Java programs, etc."},A.createElement(y,{create_file:this.props.create_file})),A.createElement("span",{style:{marginRight:"5px"}}),A.createElement(I,{title:"Folder",placement:"left",icon:"folder-open-o",tip:"Create a folder in which to store and organize your files.  SageMathCloud provides a full featured filesystem."},A.createElement(v,{icon:"folder-open-o",name:"Folder",on_click:this.props.create_folder})))),A.createElement(S,{style:e},A.createElement(a,{sm:6},A.createElement(I,{title:"LaTeX Document",icon:"file-excel-o",tip:"Create a professional quality technical paper that contains sophisticated mathematical formulas."},A.createElement(v,{icon:"file-excel-o",name:"LaTeX Document",on_click:this.props.create_file,ext:"tex"})),A.createElement(I,{title:"Terminal",icon:"terminal",tip:"Create a command line terminal.  SageMathCloud includes a full interactive Linux command line console and color xterm.  Run command line software, vim, emacs and more."},A.createElement(v,{icon:"terminal",name:"Terminal",on_click:this.props.create_file,ext:"term"})),A.createElement(I,{title:"Task List",icon:"tasks",tip:"Create a todo list to keep track of everything you are doing on a project.  Put #hashtags in the item descriptions and set due dates."},A.createElement(v,{icon:"tasks",name:"Task List",on_click:this.props.create_file,ext:"tasks"}))),A.createElement(a,{sm:6},A.createElement(I,{title:"Manage a Course",placement:"left",icon:"graduation-cap",tip:"If you are a teacher, click here to create a new course.  This is a file that you can add students and assignments to, and use to automatically create projects for everybody, send assignments to students, collect them, grade them, etc."},A.createElement(v,{icon:"graduation-cap",name:"Manage a Course",on_click:this.props.create_file,ext:"course"})))),this.props.children)}}),x=F(function(e){var n,o;return n=e.name,{displayName:"ProjectNewForm",reduxProps:(o={},o[""+n]={current_path:G.string,default_filename:G.string,file_creation_error:G.string},o.projects={project_map:G.immutable,get_total_project_quotas:G.func},o),propTypes:{actions:G.object.isRequired},getInitialState:function(){var e;return{filename:null!=(e=this.props.default_filename)?e:this.default_filename(),extension_warning:!1}},componentWillReceiveProps:function(e){if(e.default_filename!==this.props.default_filename)return this.setState({filename:e.default_filename})},componentDidUpdate:function(){if(!this.state.extension_warning)return C.findDOMNode(this.refs.project_new_filename).focus()},default_filename:function(){return t(302).default_filename()},focus_input:function(){return C.findDOMNode(this.refs.project_new_filename).focus()},create_file:function(e){return this.state.filename?this.props.actions.create_file({name:this.state.filename,ext:e,current_path:this.props.current_path}):void this.focus_input()},submit:function(e){if(this.state.filename)return e||J().indexOf(this.state.filename)>-1?this.create_file(e):"/"===this.state.filename[this.state.filename.length-1]?this.create_folder():P.filename_extension(this.state.filename)?this.create_file():this.setState({extension_warning:!0})},submit_via_enter:function(e){return e.preventDefault(),this.submit()},render_header:function(){if(null!=this.props.current_path)return A.createElement(k,{current_path:this.props.current_path,actions:this.props.actions})},render_error:function(){var e,t;return e=this.props.file_creation_error,t="not running"===e?"The project is not running. Please try again in a moment":e,A.createElement(l,{error:t,onClose:function(e){return function(){return e.props.actions.setState({file_creation_error:""})}}(this)})},blocked:function(){var e;return null==this.props.project_map?"":(null!=(e=this.props.get_total_project_quotas(this.props.project_id))?e.network:void 0)?"":" (internet access blocked -- see project settings)"},create_folder:function(){return this.props.actions.create_folder({name:this.state.filename,current_path:this.props.current_path,switch_over:!0})},render_no_extension_alert:function(){return A.createElement(r,{bsStyle:"warning",style:{marginTop:"10px",fontWeight:"bold"}},A.createElement("p",null,"Warning: Create a file with no extension?  Instead click a button below to create the corresponding type of file."),A.createElement(s,{style:{marginTop:"10px"}},A.createElement(i,{onClick:function(e){return function(){return e.create_file()}}(this),bsStyle:"default"},"Create file with no extension"),A.createElement(i,{onClick:function(e){return function(){return e.setState({extension_warning:!1})}}(this),bsStyle:"success"},"Cancel")))},render:function(){return A.createElement("div",null,this.render_header(),A.createElement(S,{key:this.props.default_filename},"  ",A.createElement(a,{sm:3},A.createElement("h4",null,A.createElement(h,{name:"plus"})," Create a new file or directory")),A.createElement(a,{sm:9},A.createElement("h4",{style:{color:"#666"}},"Name your file, folder or paste in a link"),A.createElement("form",{onSubmit:this.submit_via_enter},A.createElement(p,null,A.createElement(d,{autoFocus:!0,ref:"project_new_filename",value:this.state.filename,type:"text",disabled:this.state.extension_warning,placeholder:"Name your file, folder, or paste in a link...",onChange:function(e){return function(){return e.state.extension_warning?e.setState({extension_warning:!1}):e.setState({filename:C.findDOMNode(e.refs.project_new_filename).value})}}(this)}))),this.state.extension_warning?this.render_no_extension_alert():void 0,this.props.file_creation_error?this.render_error():void 0,A.createElement("h4",{style:{color:"#666"}},"Select the type"),A.createElement(c,{create_file:this.submit,create_folder:this.create_folder},A.createElement(S,null,A.createElement(a,{sm:6},A.createElement(I,{title:"Download files from the Internet",icon:"cloud",tip:"Paste a URL into the box above, then click here to download a file from the internet. "+this.blocked()},A.createElement(v,{icon:"cloud",name:"Download from Internet "+this.blocked(),on_click:this.create_file,loading:this.state.downloading}))),A.createElement(a,{sm:6},A.createElement(I,{title:"Create a Chatroom",placement:"left",icon:"comment",tip:"Create a chatroom for chatting with other collaborators on this project."},A.createElement(v,{icon:"comment",name:"Create a Chatroom",on_click:this.create_file,ext:"sage-chat"}))))))))}}}),K=function(e,t){var n,r,i;return i=t.getProjectStore(e),r=t.getProjectActions(e),n=ProjectNew(i.name),A.createElement("div",null,A.createElement(E,{redux:t},A.createElement(n,{project_id:e,actions:r,projects_store:t.getStore("projects")})),A.createElement("hr",null),A.createElement("div",{className:"center"},'Looking for file upload? Goto "Files" and click on "Upload".'))},exports.render_new=function(e,t,n){return C.render(K(e,n),t)},exports.unmount=function(e){return C.unmountComponentAtNode(e)},u=F(function(e){var n,r;return n=e.name,{displayName:"ProjectNew-FileUpload",reduxProps:(r={},r[""+n]={current_path:G.string},r),propTypes:{project_id:G.string.isRequired},mixins:[f],render:function(){var e;return e=t(337).SMC_Dropzone,A.createElement(S,null,A.createElement(a,{sm:3},A.createElement("h4",null,A.createElement(h,{
name:"cloud-upload"})," Upload files from your computer")),A.createElement(a,{sm:8},A.createElement(e,{dropzone_handler:{},project_id:this.props.project_id,current_path:this.props.current_path})))}}}),exports.ProjectNew=F(function(e){var t;return t=e.name,{propTypes:{project_id:G.string,name:G.string},render:function(){return A.createElement("div",{style:{padding:"15px"}},A.createElement(x,{project_id:this.props.project_id,name:this.props.name,actions:this.actions(t)}),A.createElement("hr",null),A.createElement(u,{project_id:this.props.project_id,name:this.props.name}))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X;h=t(49).IS_MOBILE,J=t(22),r=J.Button,g=J.Nav,y=J.NavItem,v=J.NavDropdown,_=J.MenuItem,n=J.Alert,s=J.Col,N=J.Row,V=t(850),L=V.SortableContainer,z=V.SortableElement,c=t(1240),D=t(907).SideChat,x=t(334).ProjectFiles,A=t(335).ProjectNew,k=t(900).ProjectLog,E=t(902).ProjectSearch,S=t(903).ProjectSettings,j=t(305).ProjectStore,K=t(83),F=t(40).file_associations,Q=t(12),M=Q.React,T=Q.ReactDOM,G=Q.rclass,Y=Q.redux,X=Q.rtypes,O=Q.Redux,Z=t(17),f=Z.Icon,q=Z.Tip,I=Z.SAGE_LOGO_COLOR,m=Z.Loading,B=Z.Space,o=t(855).ChatIndicator,W=t(9),H=t(30),a=.3,l={width:250,borderRadius:"5px 5px 0px 0px",flexShrink:"1",overflow:"hidden"},i={paddingTop:"5px",overflow:"hidden",paddingLeft:"5px",borderLeft:"1px solid lightgrey"},u=G({displayName:"FileTab",propTypes:{name:X.string,label:X.string,icon:X.string,project_id:X.string,tooltip:X.string,is_active:X.bool,file_tab:X.bool,shrink:X.bool,has_activity:X.bool},getInitialState:function(){return{x_hovered:!1}},componentDidMount:function(){return this.strip_href()},componentDidUpdate:function(){return this.strip_href()},strip_href:function(){var e;return null!=(e=T.findDOMNode(this.refs.tab))?e.children[0].removeAttribute("href"):void 0},mouse_over_x:function(){return this.setState({x_hovered:!0})},mouse_out_x:function(){return this.setState({x_hovered:!1}),this.actions({project_id:this.props.project_id}).clear_ghost_file_tabs()},close_file:function(e,t){return e.stopPropagation(),e.preventDefault(),this.actions({project_id:this.props.project_id}).close_tab(t)},render:function(){var e,t,n,r,i;return n={},this.props.file_tab?(n=W.copy(l),this.props.is_active&&(n.backgroundColor=I)):n.flex="none",e={fontSize:"15pt"},this.props.file_tab&&(e.fontSize="10pt"),this.props.has_activity&&(e.color="orange"),t={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},i={float:"right",whiteSpace:"nowrap",fontSize:"12pt",marginTop:"-3px"},this.state.x_hovered&&(i.color="red"),this.props.is_active&&(r="white"),M.createElement(y,{ref:"tab",style:n,active:this.props.is_active,onClick:function(e){return function(){return e.actions({project_id:e.props.project_id}).set_active_tab(e.props.name)}}(this)},M.createElement("div",{style:{width:"100%",color:r,cursor:"pointer"}},M.createElement("div",{style:i},this.props.file_tab?M.createElement(f,{onMouseOver:this.mouse_over_x,onMouseOut:this.mouse_out_x,name:"times",onClick:function(e){return function(t){return e.close_file(t,W.tab_to_path(e.props.name))}}(this)}):void 0),M.createElement("div",{style:t},M.createElement(q,{title:this.props.tooltip,placement:"bottom",size:"small"},M.createElement(f,{style:e,name:this.props.icon})," ",this.props.shrink?void 0:this.props.label))))}}),b=function(e){var t,n,r,i,o;return o=e.style,n=e.children,i=e.id,r=e.className,t=e.bsStyle,M.createElement(g,{style:o,id:i,className:r,bsStyle:t},n)},p=function(e){return M.createElement(y,{style:l})},R=z(u),P=L(b),d=G(function(e){var r,i;return r=e.name,{displayName:"FreeProjectWarning",reduxProps:(i={projects:{project_map:X.immutable.Map,get_total_project_quotas:X.func,date_when_course_payment_required:X.func}},i[""+r]={free_warning_extra_shown:X.bool,free_warning_closed:X.bool},i),propTypes:{project_id:X.string},shouldComponentUpdate:function(e){var t,n,r,i;return this.props.free_warning_extra_shown!==e.free_warning_extra_shown||this.props.free_warning_closed!==e.free_warning_closed||(null!=(t=this.props.project_map)&&null!=(n=t.get(this.props.project_id))?n.get("users"):void 0)!==(null!=(r=e.project_map)&&null!=(i=r.get(this.props.project_id))?i.get("users"):void 0)},extra:function(e,n){var r;return r=t(48).PolicyPricingPageUrl,this.props.free_warning_extra_shown?M.createElement("div",null,e?M.createElement("span",null,"This project runs on a heavily loaded randomly rebooted free server that may be unavailable during peak hours. Please upgrade your project to run on a members-only server for more reliability and faster code execution."):void 0,n?M.createElement("span",null,"This project does not have external network access, so you cannot use internet resources directly from this project; in particular, you cannot install software from the internet, download from sites like GitHub, or download data from public data portals."):void 0,M.createElement("ul",null,M.createElement("li",null,"Learn about ",M.createElement("a",{href:""+r,target:"_blank"},"Pricing and Subscriptions")),M.createElement("li",null,"Read the billing ",M.createElement("a",{href:r+"#faq",target:"_blank"},"Frequently Asked Questions")),M.createElement("li",null,"Visit ",M.createElement("a",{onClick:function(e){return function(){return e.actions("page").set_active_tab("account"),e.actions("account").set_active_tab("billing")}}(this)},"Billing")," to ",M.createElement("em",null,"subscribe")," to a plan"),M.createElement("li",null,"Upgrade ",M.createElement("em",null,"this")," project in ",M.createElement("a",{onClick:function(e){return function(){return e.actions({project_id:e.props.project_id}).set_active_tab("settings")}}(this)},"Project Settings")))):null},render:function(){var e,r,i,o,s,a;return t(48).commercial?this.props.free_warning_closed?null:(o=this.props.date_when_course_payment_required(this.props.project_id))?null:(s=this.props.get_total_project_quotas(this.props.project_id),null==s?null:(r=!s.member_host,i=!s.network,r||i?(a={padding:2,paddingLeft:7,paddingRight:7,cursor:"pointer",marginBottom:0,fontSize:"13pt"},e={display:"inline-block",float:"right",fontWeight:700,top:-5,fontSize:18,color:"grey",position:"relative",height:0},M.createElement(n,{bsStyle:"warning",style:a},M.createElement(f,{name:"exclamation-triangle"})," WARNING: This project runs ",r?M.createElement("span",null,"on a ",M.createElement("b",null,"free server (which may be unavailable during peak hours)")):void 0," ",i?M.createElement("span",null,"without ",M.createElement("b",null,"internet access")):void 0," —",M.createElement("a",{onClick:function(e){return function(){return e.actions({project_id:e.props.project_id}).show_extra_free_warning()}}(this)}," learn more..."),M.createElement("a",{style:e,onClick:this.actions({project_id:this.props.project_id}).close_free_warning},"×"),this.extra(r,i))):null)):null}}}),U={files:{label:"Files",icon:"folder-open-o",tooltip:"Browse files",is_public:!0},new:{label:"New",icon:"plus-circle",tooltip:"Create new file, folder, worksheet or terminal",is_public:!1},log:{label:"Log",icon:"history",tooltip:"Log of project activity",is_public:!1},search:{label:"Find",icon:"search",tooltip:"Search files in the project",is_public:!1},settings:{label:"Settings",icon:"wrench",tooltip:"Project settings and controls",is_public:!1}},w=G({propTypes:{project_id:X.string.isRequired,project_name:X.string.isRequired,active_tab_name:X.string,opened_file:X.object,file_path:X.string,group:X.string,save_scroll:X.func},componentDidMount:function(){return this.restore_scroll_position()},componentWillUnmount:function(){return this.save_scroll_position()},componentDidUpdate:function(){return this.restore_scroll_position()},componentWillUpdate:function(){return this.save_scroll_position()},restore_scroll_position:function(){var e,t,n;if(n=null!=(e=this.props.opened_file)&&null!=(t=e.get("component"))?t.scroll_position:void 0,null!=n)return this.refs.editor_inner_container.scrollTop=n},save_scroll_position:function(){var e;if(null!=this.refs.editor_inner_container&&null!=this.props.save_scroll)return e=this.refs.editor_inner_container.scrollTop,this.props.save_scroll(e)},render_editor:function(e){var t,n,r,i,o;return o=null!=(i=this.props.opened_file.get("component"))?i:{},t=o.Editor,r=o.redux_name,null!=r&&(n=Y.getActions(r)),null==t?M.createElement(m,null):M.createElement("div",{ref:"editor_inner_container",style:{height:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",willChange:"transform"}},M.createElement(t,{name:r,path:e,project_id:this.props.project_id,redux:Y,actions:n,project_name:this.props.project_name}))},render_side_chat:function(e){return M.createElement(D,{path:W.meta_file(e,"chat"),redux:Y,project_id:this.props.project_id})},render_drag_bar:function(e){var t,n,r;return r=function(e){return function(){if(null!=e.refs.draggable)return e.refs.draggable.state.x=0,$(T.findDOMNode(e.refs.draggable)).css("transform","")}}(this),n=function(t){return function(n){var i,o;return H.drag_stop_iframe_enable(),i=$(T.findDOMNode(t.refs.editor_container)),o=1-(n.clientX-i.offset().left)/i.width(),r(),Y.getProjectActions(t.props.project_id).set_chat_width({path:e,width:o})}}(this),t=function(e){return function(t){var n,i;return n=$(T.findDOMNode(e.refs.editor_container)),i=1-(t.clientX-n.offset().left)/n.width(),$(T.findDOMNode(e.refs.side_chat_container)).css("flex-basis",100*i+"%"),r(),setTimeout(r,0)}}(this),M.createElement(c,{ref:"draggable",axis:"x",onStop:n,onDrag:t,onStart:H.drag_start_iframe_disable},M.createElement("div",{className:"smc-vertical-drag-bar"}," "))},render_editor_tab:function(){var e,t,n,r,i;return h?r=!1:(e=null!=(i=this.props.opened_file.get("chat_width"))?i:a,r=this.props.opened_file.get("is_chat_open")),n=this.render_editor(this.props.file_path),t=r?M.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",display:"flex"},ref:"editor_container"},M.createElement("div",{style:{flex:1,border:"1px solid lightgrey",borderRadius:"4px",overflow:"hidden",height:"100%",width:"100%"}},n),this.render_drag_bar(this.props.file_path),M.createElement("div",{ref:"side_chat_container",style:{flexBasis:100*e+"%",border:"1px solid grey",borderRadius:"4px",position:"relative"}},this.render_side_chat(this.props.file_path))):M.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",border:"1px solid lightgrey",borderRadius:"4px"}},n),M.createElement("div",{style:{position:"relative",height:0,flex:1}},t)},render:function(){switch(this.props.active_tab_name){case"files":return M.createElement(x,{name:this.props.project_name,project_id:this.props.project_id});case"new":return M.createElement(A,{name:this.props.project_name,project_id:this.props.project_id});case"log":return M.createElement(k,{name:this.props.project_name,project_id:this.props.project_id});case"search":return M.createElement(E,{name:this.props.project_name});case"settings":return M.createElement(S,{project_id:this.props.project_id,name:this.props.project_name,group:this.props.group});default:return null==this.props.opened_file||null==this.props.active_tab_name?M.createElement(m,null):this.render_editor_tab()}}}),exports.ProjectPage=C=G(function(e){var n,r;return n=e.name,{displayName:"ProjectPage",reduxProps:(r={projects:{project_map:X.immutable,get_my_group:X.func},page:{fullscreen:X.bool}},r[""+n]={active_project_tab:X.string,open_files:X.immutable,open_files_order:X.immutable,free_warning_closed:X.bool,num_ghost_file_tabs:X.number},r),propTypes:{project_id:X.string},on_sort_end:function(e){var t,r;return r=e.oldIndex,t=e.newIndex,this.actions(n).move_file_tab({old_index:r,new_index:t,open_files_order:this.props.open_files_order})},file_tabs:function(){var e,t,n,r,i,o,s;if(null!=this.props.open_files_order){if(s=[],this.props.open_files_order.map(function(e){return function(t,n){return s.push(e.file_tab(t,n))}}(this)),0===this.props.num_ghost_file_tabs)return s;for(n=this.props.open_files_order.size,r=n+this.props.num_ghost_file_tabs,t=e=i=n,o=r-1;i<=o?e<=o:e>=o;t=i<=o?++e:--e)s.push(M.createElement(p,{index:t,key:t}));return s}},file_tab:function(e,n){var r,i,o,s,a,l;return o=W.path_split(e).tail,i=t(40).file_options,s=null!=(a=null!=(l=i(o))?l.icon:void 0)?a:"code-o",r=W.trunc(o,64),M.createElement(R,{index:n,key:e,name:W.path_to_tab(e),label:r,icon:s,tooltip:e,project_id:this.props.project_id,file_tab:!0,has_activity:this.props.open_files.getIn([e,"has_activity"]),is_active:this.props.active_project_tab===W.path_to_tab(e)})},render_chat_indicator:function(){var e,t,n;if("editor-"===(null!=(n=this.props.active_project_tab)?n.slice(0,7):void 0))return t=W.tab_to_path(this.props.active_project_tab),e=this.props.open_files.getIn([t,"is_chat_open"]),M.createElement("div",{style:i},M.createElement(o,{project_id:this.props.project_id,path:t,is_chat_open:e}))},render_file_tabs:function(e){var t,n,r;return n=$(window).width()<376+250*(this.props.open_files_order.size+this.props.num_ghost_file_tabs),M.createElement("div",{className:"smc-file-tabs",ref:"projectNav",style:{width:"100%"}},M.createElement("div",{style:{display:"flex"}},M.createElement(g,{bsStyle:"pills",className:"smc-file-tabs-fixed-desktop",style:{overflow:"hidden",float:"left"}},[function(){var i;i=[];for(t in U)r=U[t],(e&&r.is_public||!e)&&i.push(M.createElement(u,{name:t,label:r.label,icon:r.icon,tooltip:r.tooltip,project_id:this.props.project_id,is_active:this.props.active_project_tab===t,shrink:n}));return i}.call(this)]),M.createElement(P,{className:"smc-file-tabs-files-desktop",helperClass:"smc-file-tab-floating",onSortEnd:this.on_sort_end,axis:"x",lockAxis:"x",lockToContainerEdges:!0,distance:h?void 0:3,bsStyle:"pills",style:{display:"flex",overflow:"hidden",flex:1},shouldCancelStart:function(e){return function(e){var t;return null!=(t=e.target.getAttribute("class"))?t.includes("smc-file-tabs"):void 0}}(this)},this.file_tabs()),e?void 0:this.render_chat_indicator()))},render:function(){var e,t;return null==this.props.open_files_order?M.createElement(m,null):(t=this.props.get_my_group(this.props.project_id),e=W.tab_to_path(this.props.active_project_tab),M.createElement("div",{className:"container-content",style:{display:"flex",flexDirection:"column",flex:1}},M.createElement(d,{project_id:this.props.project_id,name:n}),this.props.fullscreen?void 0:this.render_file_tabs("public"===t),M.createElement(w,{project_id:this.props.project_id,project_name:this.props.name,active_tab_name:this.props.active_project_tab,opened_file:this.props.open_files.getIn([e]),file_path:e,group:t,save_scroll:this.actions(n).get_scroll_saver_for(e)})))}}}),exports.MobileProjectPage=G(function(e){var n,i;return n=e.name,{displayName:"MoblileProjectPage",reduxProps:(i={projects:{project_map:X.immutable,get_my_group:X.func},page:{fullscreen:X.bool}},i[""+n]={active_project_tab:X.string,open_files:X.immutable,open_files_order:X.immutable,free_warning_closed:X.bool},i),propTypes:{project_id:X.string},render_files_dropdown:function(){var e,t,n;if(null!=this.props.open_files_order)return e="Open Files",n=W.tab_to_path(this.props.active_project_tab),this.props.open_files_order.includes(n)&&(e=W.path_split(n).tail),t=[],this.props.open_files_order.map(function(e){return function(n,r){return t.push(e.file_menu_item(n,r))}}(this)),M.createElement(v,{id:"smc-project-files-dropdown",className:"smc-project-files-dropdown",title:e,style:{width:"100%",fontSize:"17px",textAlign:"left"}},t)},close_file_item:function(e,t){return e.stopPropagation(),e.preventDefault(),this.actions({project_id:this.props.project_id}).close_tab(t)},file_menu_item:function(e,n){var i,o,s,a,l,c,u,d;return s=W.path_split(e).tail,o=t(40).file_options,a=null!=(c=null!=(u=o(s))?u.icon:void 0)?c:"code-o",i=W.trunc(s,64),l={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},d={float:"right",whiteSpace:"nowrap",fontSize:"12pt"},M.createElement(_,{key:e,onClick:function(t){return function(){return t.actions({project_id:t.props.project_id}).set_active_tab(W.path_to_tab(e))}}(this)},M.createElement("div",{style:{width:"100%"}},M.createElement("div",{style:d},M.createElement(r,{bsStyle:"warning",onClick:function(t){return function(n){return t.close_file_item(n,e)}}(this)},M.createElement(f,{name:"times"}))),M.createElement("div",{style:l},M.createElement(f,{style:{fontSize:"10pt"},name:a})," ",i)))},render_one_file_item:function(){var e,t,n,r,i,o;return r=this.props.open_files_order.get(0),t=W.filename_extension(r).toLowerCase(),n=null!=(i=null!=(o=F[t])?o.icon:void 0)?i:"code-o",e=W.trunc(W.path_split(r).tail,64),M.createElement(u,{key:r,name:W.path_to_tab(r),label:e,icon:n,tooltip:r,project_id:this.props.project_id,file_tab:!0,is_active:this.props.active_project_tab===W.path_to_tab(r)})},render:function(){var e,t,r,i;return null==this.props.open_files_order?M.createElement(m,null):(t=this.props.get_my_group(this.props.project_id),e=W.tab_to_path(this.props.active_project_tab),M.createElement("div",{className:"container-content",style:{display:"flex",flexDirection:"column",flex:1}},M.createElement(d,{project_id:this.props.project_id,name:n}),this.props.fullscreen?void 0:M.createElement("div",{className:"smc-file-tabs",ref:"projectNav",style:{width:"100%",height:"37px"}},M.createElement(g,{bsStyle:"pills",className:"smc-file-tabs-fixed-mobile",style:{float:"left"}},[function(){var e;e=[];for(r in U)i=U[r],e.push(M.createElement(u,{name:r,label:i.label,icon:i.icon,tooltip:i.tooltip,project_id:this.props.project_id,is_active:this.props.active_project_tab===r,shrink:0!==this.props.open_files_order.size||$(window).width()<370}));return e}.call(this)]),M.createElement(g,{bsStyle:"pills",className:"smc-file-tabs-files-mobile",style:{display:"flex"}},this.props.open_files_order.size>1?this.render_files_dropdown():void 0,1===this.props.open_files_order.size?this.render_one_file_item():void 0)),M.createElement(w,{project_id:this.props.project_id,project_name:this.props.name,active_tab_name:this.props.active_project_tab,opened_file:this.props.open_files.getIn([e]),file_path:e,group:t,save_scroll:this.actions(n).get_scroll_saver_for(e)})))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h;a=t(1239),i=t(307),r=t(728),c=t(9),d=t(12),o=d.React,s=d.ReactDOM,u=d.rclass,h=d.rtypes,l=t(17).Tip,i.autoDiscover=!1,n={border:"2px solid #ccc",boxShadow:"4px 4px 2px #bbb",borderRadius:"5px",padding:0,margin:"10px"},p=function(){return o.createElement(l,{icon:"file",title:"Drag and drop files",placement:"bottom",tip:"Drag and drop files from your computer into the box below to upload them into your project.  You can upload individual files that are up to 30MB in size."},o.createElement("h4",{style:{color:"#666"}},"Drag and drop files. Each file must be under 30MB."))},exports.SMC_Dropzone=u({displayName:"SMC_Dropzone",propTypes:{project_id:h.string.isRequired,current_path:h.string.isRequired,dropzone_handler:h.object.isRequired,close_button_onclick:h.func},dropzone_template:function(){return o.createElement("div",{className:"dz-preview dz-file-preview"},o.createElement("div",{className:"dz-details"},o.createElement("div",{className:"dz-filename"},o.createElement("span",{"data-dz-name":!0})),o.createElement("img",{"data-dz-thumbnail":!0})),o.createElement("div",{className:"dz-progress"},o.createElement("span",{className:"dz-upload","data-dz-uploadprogress":!0})),o.createElement("div",{className:"dz-success-mark"},o.createElement("span",null,"<Icon name='check'>")),o.createElement("div",{className:"dz-error-mark"},o.createElement("span",null,"<Icon name='times'>")),o.createElement("div",{className:"dz-error-message"},o.createElement("span",{"data-dz-errormessage":!0})))},postUrl:function(){var e,t;return e=c.encode_path(this.props.current_path),t=window.smc_base_url+("/upload?project_id="+this.props.project_id+"&dest_dir="+e)},render_close_button:function(){return o.createElement("div",{className:"close-button pull-right"},o.createElement("span",{onClick:this.props.close_button_onclick,className:"close-button-x",style:{cursor:"pointer",fontSize:"18px",color:"gray"}},o.createElement("i",{className:"fa fa-times"})))},render:function(){return o.createElement("div",null,null!=this.props.close_button_onclick?this.render_close_button():void 0,p(),o.createElement("div",{style:n},o.createElement(r,{config:{postUrl:this.postUrl()},eventHandlers:this.props.dropzone_handler,djsConfig:{previewTemplate:a.renderToStaticMarkup(this.dropzone_template())}})))}}),exports.SMC_Dropwrapper=u({displayName:"dropzone-wrapper",propTypes:{project_id:h.string.isRequired,dest_path:h.string.isRequired,config:h.object,event_handlers:h.object,show_upload:h.bool,on_close:h.func,disabled:h.bool},getDefaultProps:function(){return{config:{},hide_previewer:!1,disabled:!1}},getInitialState:function(){return{files:[]}},get_djs_config:function(){var e,t;return t=c.defaults(this.props.config,{url:this.postUrl(),previewsContainer:null!=(e=s.findDOMNode(this.refs.preview_container))?e:"",previewTemplate:a.renderToStaticMarkup(this.preview_template())},!0),c.merge(t,this.props.config)},postUrl:function(){var e,t;return e=c.encode_path(this.props.dest_path),t=window.smc_base_url+("/upload?project_id="+this.props.project_id+"&dest_dir="+e)},componentDidMount:function(){if(!this.props.disabled)return this._create_dropzone(),this._set_up_events()},componentWillUnmount:function(){var e,t;if(null!=this.dropzone)return t=this.dropzone.getActiveFiles(),t.length>0?(this.queueDestroy=!0,e=window.setInterval(function(t){return function(){return t.queueDestroy===!1?window.clearInterval(e):0===t.dropzone.getActiveFiles().length?(t._destroy(),window.clearInterval(e)):void 0}}(this),500)):this._destroy()},componentDidUpdate:function(){if(!this.props.disabled)return this.queueDestroy=!1,this._create_dropzone()},componentWillUpdate:function(e){return e.disabled?this._destroy():(this._create_dropzone(),this.dropzone.options=$.extend(!0,{},this.dropzone.options,this.get_djs_config()))},preview_template:function(){return o.createElement("div",{className:"dz-preview dz-file-preview"},o.createElement("div",{className:"dz-details"},o.createElement("div",{className:"dz-filename"},o.createElement("span",{"data-dz-name":!0})),o.createElement("img",{"data-dz-thumbnail":!0})),o.createElement("div",{className:"dz-progress"},o.createElement("span",{className:"dz-upload","data-dz-uploadprogress":!0})),o.createElement("div",{className:"dz-success-mark"},o.createElement("span",null,"<Icon name='check'>")),o.createElement("div",{className:"dz-error-mark"},o.createElement("span",null,"<Icon name='times'>")),o.createElement("div",{className:"dz-error-message"},o.createElement("span",{"data-dz-errormessage":!0})))},close_preview:function(){var e,t;return"function"==typeof(e=this.props).on_close&&e.on_close(),null!=(t=this.dropzone)&&t.removeAllFiles(),this.setState({files:[]})},render_preview:function(){var e,t;return this.props.show_upload||0!==this.state.files.length||(t={display:"none"}),e={border:"2px solid #ccc",boxShadow:"4px 4px 2px #bbb",borderRadius:"5px",padding:0,margin:"10px",minHeight:"40px"},o.createElement("div",{style:t},o.createElement("div",{className:"close-button pull-right"},o.createElement("span",{onClick:this.close_preview,className:"close-button-x",style:{cursor:"pointer",fontSize:"18px",color:"gray"}},o.createElement("i",{className:"fa fa-times"}))),p(),o.createElement("div",{ref:"preview_container",className:"filepicker dropzone",style:e}))},render:function(){return o.createElement("div",null,this.props.disabled?void 0:this.render_preview(),this.props.children)},_create_dropzone:function(){var e;if(null==this.dropzone&&!this.props.disabled)return e=s.findDOMNode(this),this.dropzone=new i(e,this.get_djs_config())},_set_up_events:function(){var e,t,n,r,i,o;if(null!=this.dropzone){o=this.props.event_handlers;for(i in o)if(t=o[i],c.is_array(t))for(n=0,r=t.length;n<r;n++)e=t[n],"init"===e?e(this.dropzone):this.dropzone.on(i,e);else"init"===i?t(this.dropzone):this.dropzone.on(i,t);return this.dropzone.on("addedfile",function(e){return function(t){var n;if(t)return n=e.state.files,n.push(t),e.setState({files:n})}}(this))}},_destroy:function(){if(null!=this.dropzone)return this.dropzone.off(),this.dropzone.destroy(),delete this.dropzone}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_=function(e,t){return function(){return e.apply(t,arguments)}},g=function(e,t){function n(){this.constructor=e}for(var r in t)v.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},v={}.hasOwnProperty,y=[].slice;r=t(31),a=t(26),u=t(9),s=u.defaults,p=u.required,d=t(24),n=d.SCHEMA,i=d.client_db,h=t(73),f=t(104),o=t(200),exports.Client=function(e){function t(e,t){this._client_id=null!=e?e:u.uuid(),this._debounce_interval=null!=t?t:0,this.sync_db=_(this.sync_db,this),this.sync_string=_(this.sync_string,this),this.sync_table=_(this.sync_table,this),this.query_cancel=_(this.query_cancel,this),this.user_set_query=_(this.user_set_query,this),this.user_get_query=_(this.user_get_query,this),this._user_query_functional_subs=_(this._user_query_functional_subs,this),this.user_query=_(this.user_query,this),this.query=_(this.query,this),this._user_query_array=_(this._user_query_array,this),this.server_time=_(this.server_time,this),this.mark_file=_(this.mark_file,this),this.dbg=_(this.dbg,this),this.client_id=_(this.client_id,this),this.is_user=_(this.is_user,this),this.is_signed_in=_(this.is_signed_in,this),this.is_connected=_(this.is_connected,this),this.is_project=_(this.is_project,this),this.sha1=_(this.sha1,this),this.reset=_(this.reset,this),this.account_id=u.uuid(),this.reset()}return g(t,e),t.prototype.reset=function(){return this.removeAllListeners(),this._changefeeds=[],this.db=a.Map()},t.prototype.sha1=function(){var e;return e=1<=arguments.length?y.call(arguments,0):[],i.sha1.apply(i,e)},t.prototype.is_project=function(){return!1},t.prototype.is_connected=function(){return!0},t.prototype.is_signed_in=function(){return!0},t.prototype.is_user=function(){return!0},t.prototype.client_id=function(){return this._client_id},t.prototype.dbg=function(e){return function(){var t,n;switch(t=1<=arguments.length?y.call(arguments,0):[],t.length){case 0:n="";break;case 1:n=t[0];break;default:n=JSON.stringify(t)}return console.log((new Date).toISOString()+" - Client."+e+": "+n)}},t.prototype.mark_file=function(){},t.prototype.server_time=function(){return new Date},t.prototype._user_query_array=function(e){var t,n;return e.changes&&e.query.length>1?void e.cb("changefeeds only implemented for single table"):(n=[],t=function(t){return function(r,i){return t.user_query({account_id:e.account_id,project_id:e.project_id,query:r,options:e.options,cb:function(e,t){return n.push(t),i(e)}})}}(this),r.mapSeries(e.query,t,function(t){return function(t){return e.cb(t,n)}}(this)))},t.prototype.query=function(e){return e=s(e,{query:p,changes:void 0,options:void 0,timeout:void 0,cb:void 0}),delete e.timeout,this.user_query(e)},t.prototype.user_query=function(e){var t,r,i,o,a,l,c,d,h,f,m,_,g,v;if(e=s(e,{account_id:this.account_id,project_id:void 0,query:p,changes:void 0,options:[],cb:void 0}),u.is_array(e.query))return void this._user_query_array(e);if(m={"{account_id}":e.account_id,"{project_id}":e.project_id,"{now}":new Date},null!=e.changes&&(t={id:u.uuid(),cb:e.cb}),g=u.keys(e.query),_=g[0],c=e.query[_],u.is_array(c)?(a=!0,c=c[0]):a=!1,this._user_query_functional_subs(c,null!=(d=n[_])&&null!=(h=d.user_query.get)?h.fields:void 0),i=void 0,null!=e.options){if(!u.is_array(e.options))return void("function"==typeof e.cb&&e.cb("error"));for(f=e.options,r=0,o=f.length;r<o;r++)v=f[r],null!=v.set&&(i=!!v.set);l=function(){var t,n,r,i;for(r=e.options,i=[],t=0,n=r.length;t<n;t++)v=r[t],null==v.set&&i.push(v);return i}()}else l=[];return u.is_object(c)?(c=u.deep_copy(c),u.obj_key_subs(c,m),null==i&&(i=!u.has_null_leaf(c)),i?t?void("function"==typeof e.cb&&e.cb("changefeeds only for read queries")):null==e.account_id&&null==e.project_id?void("function"==typeof e.cb&&e.cb("no anonymous set queries")):this.user_set_query({account_id:e.account_id,project_id:e.project_id,table:_,query:c,options:e.options,cb:function(t){return function(t,n){var r;return"function"==typeof e.cb?e.cb(t,{query:(r={},r[""+_]=n,r)}):void 0}}(this)}):t&&!a?void("function"==typeof e.cb&&e.cb("changefeeds only implemented for multi-document queries")):this.user_get_query({account_id:e.account_id,project_id:e.project_id,table:_,query:c,options:l,multi:a,changes:t,cb:function(t){return function(t,n){var r;return"function"==typeof e.cb?e.cb(t,t?void 0:{query:(r={},r[""+_]=n,r)}):void 0}}(this)})):"function"==typeof e.cb?e.cb("invalid user_query of '"+_+"' -- query must be an object"):void 0},t.prototype._user_query_functional_subs=function(e,t){var n,r,i;if(null!=t){r=[];for(n in t)i=t[n],"function"==typeof i?r.push(e[n]=i(e,this)):r.push(void 0);return r}},t.prototype.user_get_query=function(e){var t,r,i,o,a,l,d,h,f,_;e=s(e,{account_id:void 0,project_id:void 0,table:p,query:p,multi:p,options:p,changes:void 0,cb:p}),t=null!=(o=n[e.table])?o.user_query:void 0,h=n[e.table],_=null!=(a=n[e.table].virtual)?a:e.table,f=this.db.get(_),e.multi?(d=[],null!=f&&f.forEach(function(t){var n;if(n=t.toJS(),c(n,e.query))return d.push(n)}),e.cb(void 0,d),e.changes&&this._changefeeds.push({id:e.changes.id,cb:e.changes.cb,table:_,query:e.query})):(r=m(u.copy_with(u.copy(e.query),h.primary_key)),i=null!=f&&null!=(l=f.get(r))?l.toJS():void 0,null!=i&&(i=u.copy_with(i,u.keys(e.query))),e.cb(void 0,i))},t.prototype.user_set_query=function(e){var t,r,i,o,l,d,h,f,_,g,v,y,b,w,x,k;if(e=s(e,{account_id:void 0,project_id:void 0,table:p,query:p,options:void 0,cb:p}),w=n[e.table],k=null!=(v=w.virtual)?v:e.table,x=this.db.get(k),null==x&&(x=a.Map(),this.db=this.db.set(k,x)),l=m(u.copy_with(u.copy(e.query),w.primary_key)),r=x.get(l),g=a.fromJS(e.query),null!=r)for(f=r.merge(g),x=x.set(l,f),_=f.toJS(),y=this._changefeeds,i=0,d=y.length;i<d;i++)t=y[i],t.table===k&&c(_,t.query)&&t.cb(void 0,{old_val:r.toJS(),new_val:_});else for(x=x.set(l,g),b=this._changefeeds,o=0,h=b.length;o<h;o++)t=b[o],t.table===k&&c(e.query,t.query)&&t.cb(void 0,{new_val:e.query});this.db=this.db.set(k,x),e.cb(void 0,e.query)},t.prototype.query_cancel=function(){},t.prototype.sync_table=function(e,t,n){return null==n&&(n=0),n=this._debounce_interval,f.sync_table(e,t,this,n,0,!1)},t.prototype.sync_string=function(e){return e=s(e,{id:void 0,project_id:void 0,path:void 0,file_use_interval:"default",cursors:!1,save_interval:0}),e.client=this,new h.SyncString(e)},t.prototype.sync_db=function(e){return e=s(e,{project_id:p,path:p,primary_keys:p,string_cols:void 0,cursors:!1,change_throttle:0,save_interval:0}),e.client=this,new o.SyncDB(e)},t}(h.TestBrowserClient1),l=t(64),m=function(e){return a.Map.isMap(e)&&(e=e.toJS()),l(e)},c=function(e,t){var n,r;for(n in t)if(r=t[n],null!=r&&e[n]!==r)return!1;return!0}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y=function(e,t){return function(){return e.apply(t,arguments)}},b=function(e,t){function n(){this.constructor=e}for(var r in t)w.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},w={}.hasOwnProperty,x=[].slice;r=!1,o=t(63).EventEmitter,c=t(31),l=t(23),_=t(73),g=t(104),u=t(200),m=t(428),p=t(188),h=t(9),v=t(342).validate_client_query,d=h.defaults,f=d.required,s="\0",exports.JSON_CHANNEL=s,i=30,a=function(e){function t(e){this.restart=y(this.restart,this),this.handle_data=y(this.handle_data,this),this.walltime=y(this.walltime,this),this.terminate_session=y(this.terminate_session,this),this.reconnect=y(this.reconnect,this),this.close=y(this.close,this);var t,n;if(e=d(e,{conn:f,project_id:f,session_uuid:f,params:void 0,data_channel:void 0,init_history:void 0}),this.start_time=h.walltime(),this.conn=e.conn,this.params=e.params,"console"===this.type()&&(null==(null!=(t=this.params)?t.path:void 0)||null==(null!=(n=this.params)?n.filename:void 0)))throw Error("params must be specified with path and filename");
this.project_id=e.project_id,this.session_uuid=e.session_uuid,this.data_channel=e.data_channel,this.init_history=e.init_history,this.emit("open"),null!=this.reconnect&&this.conn.on("connected",this.reconnect)}return b(t,e),t.prototype.close=function(){if(this.removeAllListeners(),null!=this.reconnect)return this.conn.removeListener("connected",this.reconnect)},t.prototype.reconnect=function(e){var t;return this.conn._signed_in?this._reconnect_lock?void("function"==typeof e&&e("reconnect: hit lock")):(this.emit("reconnecting"),this._reconnect_lock=!0,t=function(e){return function(t){return e.conn.call({message:p.connect_to_session({session_uuid:e.session_uuid,type:e.type(),project_id:e.project_id,params:e.params}),timeout:30,cb:function(n,r){if(n)return void t(n);switch(r.event){case"error":return t(r.error);case"session_connected":return e.data_channel!==r.data_channel&&e.conn.change_data_channel({prev_channel:e.data_channel,new_channel:r.data_channel,session:e}),e.data_channel=r.data_channel,e.init_history=r.history,t();default:return t("bug in hub")}}})}}(this),h.retry_until_success({max_time:15e3,factor:1.3,f:t,cb:function(t){return function(n){return delete t._reconnect_lock,n||t.emit("reconnect"),"function"==typeof e?e(n):void 0}}(this)})):void setTimeout(function(t){return function(){return t.reconnect(e)}}(this),500)},t.prototype.terminate_session=function(e){return this.conn.call({message:p.terminate_session({project_id:this.project_id,session_uuid:this.session_uuid}),timeout:30,cb:e})},t.prototype.walltime=function(){return h.walltime()-this.start_time},t.prototype.handle_data=function(e){return this.emit("data",e)},t.prototype.write_data=function(e){return this.conn.write_data(this.data_channel,e)},t.prototype.restart=function(e){return this.conn.call({message:p.restart_session({session_uuid:this.session_uuid}),timeout:10,cb:e})},t}(o),n=function(e){function t(){return this.type=y(this.type,this),t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.type=function(){return"console"},t}(a),exports.Connection=function(e){function t(e){this.url=e,this.query_get_changefeed_ids=y(this.query_get_changefeed_ids,this),this.query_cancel=y(this.query_cancel,this),this.query=y(this.query,this),this.mark_file=y(this.mark_file,this),this.open_existing_sync_document=y(this.open_existing_sync_document,this),this.sync_db=y(this.sync_db,this),this.sync_string=y(this.sync_string,this),this.sync_table=y(this.sync_table,this),this.changefeed=y(this.changefeed,this),this.projects=y(this.projects,this),this.get_support_tickets=y(this.get_support_tickets,this),this.create_support_ticket=y(this.create_support_ticket,this),this.stripe_admin_create_customer=y(this.stripe_admin_create_customer,this),this.stripe_admin_create_invoice_item=y(this.stripe_admin_create_invoice_item,this),this.stripe_get_invoices=y(this.stripe_get_invoices,this),this.stripe_get_subscriptions=y(this.stripe_get_subscriptions,this),this.stripe_update_subscription=y(this.stripe_update_subscription,this),this.stripe_cancel_subscription=y(this.stripe_cancel_subscription,this),this.stripe_create_subscription=y(this.stripe_create_subscription,this),this.stripe_get_plans=y(this.stripe_get_plans,this),this.stripe_get_charges=y(this.stripe_get_charges,this),this.stripe_set_default_source=y(this.stripe_set_default_source,this),this.stripe_update_source=y(this.stripe_update_source,this),this.stripe_delete_source=y(this.stripe_delete_source,this),this.stripe_create_source=y(this.stripe_create_source,this),this.stripe_get_customer=y(this.stripe_get_customer,this),this._stripe_call=y(this._stripe_call,this),this.webapp_error=y(this.webapp_error,this),this.log_error=y(this.log_error,this),this.print_to_pdf=y(this.print_to_pdf,this),this.project_get_state=y(this.project_get_state,this),this.project_directory_listing=y(this.project_directory_listing,this),this.project_remove_collaborator=y(this.project_remove_collaborator,this),this.project_invite_collaborator=y(this.project_invite_collaborator,this),this.user_search=y(this.user_search,this),this.find_directories=y(this.find_directories,this),this.makedirs=y(this.makedirs,this),this.public_project_directory_listing=y(this.public_project_directory_listing,this),this.public_get_text_file=y(this.public_get_text_file,this),this.remove_blob_ttls=y(this.remove_blob_ttls,this),this.project_set_quotas=y(this.project_set_quotas,this),this.copy_path_between_projects=y(this.copy_path_between_projects,this),this.invite_noncloud_collaborators=y(this.invite_noncloud_collaborators,this),this.stopped_editing_file=y(this.stopped_editing_file,this),this.create_project=y(this.create_project,this),this.delete_account=y(this.delete_account,this),this.create_account=y(this.create_account,this),this.call_local_hub=y(this.call_local_hub,this),this.call=y(this.call,this),this._create_session_object=y(this._create_session_object,this),this._handle_data=y(this._handle_data,this),this.change_data_channel=y(this.change_data_channel,this),this.handle_json_data=y(this.handle_json_data,this),this.remember_me_key=y(this.remember_me_key,this),this.is_connected=y(this.is_connected,this),this.is_user=y(this.is_user,this),this.is_project=y(this.is_project,this),this.client_id=y(this.client_id,this),this.is_signed_in=y(this.is_signed_in,this),this.write_data=y(this.write_data,this),this.send=y(this.send,this),this.send_version=y(this.send_version,this),this.version=y(this.version,this),this.close=y(this.close,this),this.ping_test=y(this.ping_test,this),this._server_time=y(this._server_time,this),this.server_time=y(this.server_time,this),this._ping=y(this._ping,this),this.dbg=y(this.dbg,this),this.setMaxListeners(3e3),this.emit("connecting"),this._id_counter=0,this._sessions={},this._new_sessions={},this._data_handlers={},this.execute_callbacks={},this.call_callbacks={},this._project_title_cache={},this._usernames_cache={},this._redux=void 0,this.register_data_handler(s,this.handle_json_data),this.on("connected",this.send_version),this._connect(this.url,function(e){return function(t){var n;if(t.length>0)return n=t[0],t=t.slice(1),e._handle_data(n,t),e.emit("data",n,t)}}(this)),this._connected=!1,this._ping_interval=6e4,this._ping()}return b(t,e),t.prototype.dbg=function(e){return function(){var t,n;switch(t=1<=arguments.length?x.call(arguments,0):[],t.length){case 0:n="";break;case 1:n=t[0];break;default:n=JSON.stringify(t)}return console.log((new Date).toISOString()+" - Client."+e+": "+n)}},t.prototype._ping=function(){return null==this._ping_interval&&(this._ping_interval=6e4),this._last_ping=new Date,this.call({message:p.ping(),timeout:15,cb:function(e){return function(t,n){var r;return r=new Date,!t&&"pong"===(null!=n?n.event:void 0)&&r-e._last_ping<=15e3&&(e._last_pong={server:n.now,local:r},e._clock_skew=e._last_ping-0+(e._last_pong.local-e._last_ping)/2-e._last_pong.server,h.set_local_storage("clock_skew",e._clock_skew)),setTimeout(e._ping,e._ping_interval)}}(this)})},t.prototype.server_time=function(){var e,t;return t=this._server_time(),e=this._last_server_time,null!=e&&e>=t&&(t=new Date(e-0+1)),this._last_server_time=t,t},t.prototype._server_time=function(){var e;return null==this._clock_skew&&(e=h.get_local_storage("clock_skew"),null!=e&&(this._clock_skew=parseFloat(e))),null!=this._clock_skew?new Date(new Date-this._clock_skew):new Date},t.prototype.ping_test=function(e){var t,n,r;return e=d(e,{packets:20,timeout:5,delay_ms:200,log:void 0,cb:void 0}),n=[],t=function(t){return function(r,i){var o;return o=new Date,t.call({message:p.ping(),timeout:e.timeout,cb:function(t,s){var a,l,c,u,d;for(l=r+"/"+e.packets+": ",t||"pong"!==(null!=s?s.event:void 0)?(a="!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!",u=l+"Request error -- "+t+", "+h.to_json(s),d=Infinity):(d=new Date-o,a=function(){var e,t,n;for(n=[],c=e=0,t=Math.floor(d/10);0<=t?e<t:e>t;c=0<=t?++e:--e)n.push("*");return n}().join(""),u=l+"time="+d+"ms");u.length<40;)u+=" ";return u+=a,null!=e.log?e.log(u):console.log(u),n.push(d),setTimeout(i,e.delay_ms)}})}}(this),c.mapSeries(function(){r=[];for(var t=1,n=e.packets;1<=n?t<=n:t>=n;1<=n?t++:t--)r.push(t);return r}.apply(this),t,function(t){return function(t){return"function"==typeof e.cb?e.cb(t,n):void 0}}(this))},t.prototype.close=function(){return this._conn.close()},t.prototype.version=function(){return m.version},t.prototype.send_version=function(){return this.send(p.version({version:this.version()}))},t.prototype.send=function(e){return this.write_data(s,h.to_json_socket(e))},t.prototype.write_data=function(e,t){var n;try{return this._write(e+t)}catch(e){n=e}},t.prototype.is_signed_in=function(){return this.is_connected()&&!!this._signed_in},t.prototype.client_id=function(){return this.account_id},t.prototype.is_project=function(){return!1},t.prototype.is_user=function(){return!0},t.prototype.is_connected=function(){return!!this._connected},t.prototype.remember_me_key=function(){var e;return"remember_me"+(null!=(e="undefined"!=typeof window&&null!==window?window.smc_base_url:void 0)?e:"")},t.prototype.handle_json_data=function(e){var t,n,i,o,s,a,l,c;switch(o=h.from_json_socket(e),r&&console.log("handle_json_data: "+e),o.event){case"execute_javascript":null!=o.session_uuid?this._sessions[o.session_uuid].emit("execute_javascript",o):this.emit("execute_javascript",o);break;case"output":t=this.execute_callbacks[o.id],null!=t&&(t(o),o.done&&delete this.execute_callbacks[o.id]),null!=o.session_uuid?this._sessions[o.session_uuid].emit("output",o):this.emit("output",o);break;case"terminate_session":l=this._sessions[o.session_uuid],null!=l&&l.emit("close");break;case"session_reconnect":null!=o.data_channel?null!=(s=this._sessions[o.data_channel])&&s.reconnect():null!=o.session_uuid&&null!=(a=this._sessions[o.session_uuid])&&a.reconnect();break;case"cookies":"function"==typeof this._cookies&&this._cookies(o);break;case"signed_in":this.account_id=o.account_id,this._signed_in=!0,h.set_local_storage(this.remember_me_key(),!0),this._sign_in_mesg=o,this.emit("signed_in",o);break;case"remember_me_failed":h.delete_local_storage(this.remember_me_key()),this.emit(o.event,o);break;case"project_list_updated":case"project_data_changed":this.emit(o.event,o);break;case"version":this.emit("new_version",{version:o.version,min_version:o.min_version});break;case"error":if(null==o.id)return void console.log("WARNING: "+h.to_json(o.error))}return i=o.id,c=this.call_callbacks[i],null!=c&&(t=c.cb,n=c.error_event,c.first=!1,n&&"error"===o.event?t(o.error):t(void 0,o),o.multi_response||delete this.call_callbacks[i]),this.emit("message",o)},t.prototype.change_data_channel=function(e){return e=d(e,{prev_channel:f,new_channel:f,session:f}),this.unregister_data_handler(e.prev_channel),delete this._sessions[e.prev_channel],this._sessions[e.new_channel]=e.session,this.register_data_handler(e.new_channel,e.session.handle_data)},t.prototype.register_data_handler=function(e,t){return this._data_handlers[e]=t},t.prototype.unregister_data_handler=function(e){return delete this._data_handlers[e]},t.prototype._handle_data=function(e,t){var n;if(n=this._data_handlers[e],null!=n)return n(t)},t.prototype.connect_to_session=function(e){return e=d(e,{type:f,session_uuid:f,project_id:f,timeout:i,params:f,cb:f}),this.call({message:p.connect_to_session({session_uuid:e.session_uuid,type:e.type,project_id:e.project_id,params:e.params}),timeout:e.timeout,cb:function(t){return function(n,r){if(n)return void e.cb(n);switch(r.event){case"error":return e.cb(r.error);case"session_connected":return t._create_session_object({type:e.type,project_id:e.project_id,session_uuid:e.session_uuid,data_channel:r.data_channel,init_history:r.history,params:e.params,cb:e.cb});default:return e.cb("Unknown event (='"+r.event+"') in response to connect_to_session message.")}}}(this)})},t.prototype.new_session=function(e){return e=d(e,{timeout:i,type:"console",params:f,project_id:f,cb:f}),this.call({message:p.start_session({type:e.type,params:e.params,project_id:e.project_id}),timeout:e.timeout,cb:function(t){return function(n,r){return n?e.cb(n):"error"===r.event?e.cb(r.error):"session_started"===r.event||"session_connected"===r.event?t._create_session_object({type:e.type,project_id:e.project_id,session_uuid:r.session_uuid,data_channel:r.data_channel,params:e.params,cb:e.cb}):e.cb("Unknown event (='"+r.event+"') in response to start_session message.")}}(this)})},t.prototype._create_session_object=function(e){var t,r;switch(e=d(e,{type:f,project_id:f,session_uuid:f,data_channel:void 0,params:void 0,init_history:void 0,cb:f}),r={conn:this,project_id:e.project_id,session_uuid:e.session_uuid,data_channel:e.data_channel,init_history:e.init_history,params:e.params},e.type){case"console":t=new n(r);break;default:e.cb("Unknown session type: '"+e.type+"'")}return this._sessions[e.session_uuid]=t,e.data_channel!==s&&(this._sessions[e.data_channel]=t),this.register_data_handler(e.data_channel,t.handle_data),e.cb(!1,t)},t.prototype.call=function(e){var t;return null==e&&(e={}),e=d(e,{message:f,timeout:void 0,error_event:!1,cb:void 0}),null==e.cb?void this.send(e.message):(null==e.message.id?(t=h.uuid(),e.message.id=t):t=e.message.id,this.call_callbacks[t]={cb:e.cb,error_event:e.error_event,first:!0},this.send(e.message),e.timeout?setTimeout(function(n){return function(){var r,i;if(null!=(i=n.call_callbacks[t])?i.first:void 0)return r="Timeout after "+e.timeout+" seconds",e.cb(r,p.error({id:t,error:r})),delete n.call_callbacks[t]}}(this),1e3*e.timeout):void 0)},t.prototype.call_local_hub=function(e){var t,n;return e=d(e,{project_id:f,message:f,multi_response:!1,timeout:void 0,cb:void 0}),n=p.local_hub({multi_response:e.multi_response,project_id:e.project_id,message:e.message,timeout:e.timeout}),t=null!=e.cb?function(t){return function(t,n){return"function"==typeof e.cb?e.cb(t,n):void 0}}(this):void 0,e.multi_response?(n.id=h.uuid(),this.execute_callbacks[n.id]=function(t){return function(t){return"function"==typeof e.cb?e.cb(void 0,t):void 0}}(this),this.send(n)):this.call({message:n,timeout:e.timeout,cb:t})},t.prototype.create_account=function(e){return e=d(e,{first_name:f,last_name:f,email_address:f,password:f,agreed_to_terms:f,token:void 0,timeout:40,cb:f}),e.agreed_to_terms?this._create_account_lock?void e.cb(void 0,p.account_creation_failed({reason:{account_creation_failed:"You are submitting too many requests to create an account; please wait a second."}})):(this._create_account_lock=!0,this.call({message:p.create_account({first_name:e.first_name,last_name:e.last_name,email_address:e.email_address,password:e.password,agreed_to_terms:e.agreed_to_terms,token:e.token}),timeout:e.timeout,cb:function(t){return function(n,r){return setTimeout(function(){return delete t._create_account_lock},1500),e.cb(n,r)}}(this)})):void e.cb(void 0,p.account_creation_failed({reason:{agreed_to_terms:"Agree to the SageMathCloud Terms of Service."}}))},t.prototype.delete_account=function(e){return e=d(e,{account_id:f,timeout:40,cb:f}),this.call({message:p.delete_account({account_id:e.account_id}),timeout:e.timeout,cb:e.cb})},t.prototype.sign_in=function(e){return e=d(e,{email_address:f,password:f,remember_me:!1,cb:f,timeout:40}),this.call({message:p.sign_in({email_address:e.email_address,password:e.password,remember_me:e.remember_me}),timeout:e.timeout,cb:e.cb})},t.prototype.sign_out=function(e){return e=d(e,{everywhere:!1,cb:void 0,timeout:i}),this.account_id=void 0,this.call({message:p.sign_out({everywhere:e.everywhere}),timeout:e.timeout,cb:e.cb}),this.emit("signed_out")},t.prototype.change_password=function(e){return e=d(e,{email_address:f,old_password:"",new_password:f,cb:void 0}),this.call({message:p.change_password({email_address:e.email_address,old_password:e.old_password,new_password:e.new_password}),cb:e.cb})},t.prototype.change_email=function(e){return e=d(e,{old_email_address:"",new_email_address:f,password:"",cb:void 0}),null==this.account_id?void("function"==typeof e.cb&&e.cb("must be logged in")):this.call({message:p.change_email_address({account_id:this.account_id,old_email_address:e.old_email_address,new_email_address:e.new_email_address,password:e.password}),error_event:!0,cb:e.cb})},t.prototype.forgot_password=function(e){return e=d(e,{email_address:f,cb:f}),this.call({message:p.forgot_password({email_address:e.email_address}),cb:e.cb})},t.prototype.reset_forgot_password=function(e){return e=d(e,{reset_code:f,new_password:f,cb:f,timeout:i}),this.call({message:p.reset_forgot_password({reset_code:e.reset_code,new_password:e.new_password}),cb:e.cb})},t.prototype.unlink_passport=function(e){return e=d(e,{strategy:f,id:f,cb:void 0}),this.call({message:p.unlink_passport({strategy:e.strategy,id:e.id}),error_event:!0,timeout:15,cb:e.cb})},t.prototype.create_project=function(e){return e=d(e,{title:f,description:f,cb:void 0}),this.call({message:p.create_project({title:e.title,description:e.description}),cb:function(t){return function(t,n){return t?"function"==typeof e.cb?e.cb(t):void 0:"error"===n.event?"function"==typeof e.cb?e.cb(n.error):void 0:"function"==typeof e.cb?e.cb(void 0,n.project_id):void 0}}(this)})},t.prototype.open_project=function(e){return e=d(e,{project_id:f,cb:f}),this.call({message:p.open_project({project_id:e.project_id}),cb:e.cb})},t.prototype.write_text_file_to_project=function(e){return e=d(e,{project_id:f,path:f,content:f,timeout:i,cb:void 0}),this.call({message:p.write_text_file_to_project({project_id:e.project_id,path:e.path,content:e.content}),timeout:e.timeout,cb:function(t){return function(t,n){return"function"==typeof e.cb?e.cb(t,n):void 0}}(this)})},t.prototype.read_text_file_from_project=function(e){return e=d(e,{project_id:f,path:f,cb:f,timeout:i}),this.call({message:p.read_text_file_from_project({project_id:e.project_id,path:e.path}),timeout:e.timeout,cb:e.cb})},t.prototype.read_file_from_project=function(e){var t,n,r;return e=d(e,{project_id:f,path:f,timeout:i,archive:"tar.bz2",cb:void 0}),t=null!=(n="undefined"!=typeof window&&null!==window?window.smc_base_url:void 0)?n:"","/"===e.path[0]&&(e.path=".smc/root"+e.path),r=h.encode_path(t+"/"+e.project_id+"/raw/"+e.path),"function"==typeof e.cb&&e.cb(!1,{url:r}),r},t.prototype.project_branch_op=function(e){return e=d(e,{project_id:f,branch:f,op:f,cb:f}),this.call({message:p[e.op+"_project_branch"]({project_id:e.project_id,branch:e.branch}),cb:e.cb})},t.prototype.stopped_editing_file=function(e){return e=d(e,{project_id:f,filename:f,cb:void 0}),this.call({message:p.stopped_editing_file({project_id:e.project_id,filename:e.filename}),cb:e.cb})},t.prototype.invite_noncloud_collaborators=function(e){return e=d(e,{project_id:f,title:f,link2proj:f,replyto:void 0,replyto_name:void 0,to:f,email:f,subject:void 0,cb:f}),this.call({message:p.invite_noncloud_collaborators({project_id:e.project_id,title:e.title,link2proj:e.link2proj,email:e.email,replyto:e.replyto,replyto_name:e.replyto_name,to:e.to,subject:e.subject}),cb:function(t){return function(t,n){return t?e.cb(t):"error"===n.event?(n.error||(n.error="error inviting collaborators"),e.cb(n.error)):e.cb(void 0,n)}}(this)})},t.prototype.copy_path_between_projects=function(e){var t,n,r;return e=d(e,{public:!1,src_project_id:f,src_path:f,target_project_id:f,target_path:void 0,overwrite_newer:!1,delete_missing:!1,backup:!1,timeout:void 0,exclude_history:!1,cb:void 0}),n=e.public,delete e.public,t=e.cb,delete e.cb,null==e.target_path&&(e.target_path=e.src_path),r=n?p.copy_public_path_between_projects(e):p.copy_path_between_projects(e),this.call({message:r,cb:function(e){return function(e,n){return e?"function"==typeof t?t(e):void 0:"error"===n.event?"function"==typeof t?t(n.error):void 0:"function"==typeof t?t(void 0,n):void 0}}(this)})},t.prototype.project_set_quotas=function(e){var t;return e=d(e,{project_id:f,memory:void 0,cpu_shares:void 0,cores:void 0,disk_quota:void 0,mintime:void 0,network:void 0,member_host:void 0,cb:void 0}),t=e.cb,delete e.cb,this.call({message:p.project_set_quotas(e),cb:function(e){return function(e,n){return e?"function"==typeof t?t(e):void 0:"error"===n.event?"function"==typeof t?t(n.error):void 0:"function"==typeof t?t(void 0,n):void 0}}(this)})},t.prototype.remove_blob_ttls=function(e){return e=d(e,{uuids:f,cb:void 0}),0===e.uuids.length?"function"==typeof e.cb?e.cb():void 0:this.call({message:p.remove_blob_ttls({uuids:e.uuids}),cb:function(t){return function(t,n){return t?"function"==typeof e.cb?e.cb(t):void 0:"error"===n.event?"function"==typeof e.cb?e.cb(n.error):void 0:"function"==typeof e.cb?e.cb():void 0}}(this)})},t.prototype.public_get_text_file=function(e){return e=d(e,{project_id:f,path:f,cb:f,timeout:i}),this.call({message:p.public_get_text_file({project_id:e.project_id,path:e.path}),timeout:e.timeout,cb:function(t){return function(t,n){return t?e.cb(t):"error"===n.event?e.cb(n.error):e.cb(void 0,n.data)}}(this)})},t.prototype.public_project_directory_listing=function(e){return e=d(e,{project_id:f,path:".",time:!1,start:0,limit:-1,timeout:i,hidden:!1,cb:f}),this.call({message:p.public_get_directory_listing({project_id:e.project_id,path:e.path,time:e.time,start:e.tart,limit:e.limit,hidden:e.hidden}),timeout:e.timeout,cb:function(t){return function(t,n){return t?e.cb(t):"error"===n.event?e.cb(n.error):e.cb(void 0,n.result)}}(this)})},t.prototype.exec=function(e){return e=d(e,{project_id:f,path:"",command:f,args:[],timeout:30,network_timeout:void 0,max_output:void 0,bash:!1,err_on_exit:!0,cb:f}),null==e.network_timeout&&(e.network_timeout=1.5*e.timeout),this.call({message:p.project_exec({project_id:e.project_id,path:e.path,command:e.command,args:e.args,timeout:e.timeout,max_output:e.max_output,bash:e.bash,err_on_exit:e.err_on_exit}),timeout:e.network_timeout,cb:function(t,n){return t?e.cb(t,n):"error"===n.event?e.cb(n.error):e.cb(!1,{stdout:n.stdout,stderr:n.stderr,exit_code:n.exit_code})}})},t.prototype.makedirs=function(e){return e=d(e,{project_id:f,path:f,cb:void 0}),this.exec({project_id:e.project_id,command:"mkdir",args:["-p",e.path],cb:e.cb})},t.prototype.find_directories=function(e){var t,n,r,i;return e=d(e,{project_id:f,query:"*",path:".",exclusions:void 0,include_hidden:!1,cb:f}),t=[e.path,"-xdev","!","-readable","-prune","-o","-type","d","-iname","'"+e.query+"'","-readable"],i=["-print"],null!=e.exclusions&&(r=l.map(e.exclusions,function(t){return function(t,n){return"-a -not \\( -path '"+e.path+"/"+t+"' -prune \\)"}}(this)),t=t.concat(r)),t=t.concat(i),n="find "+t.join(" "),this.exec({project_id:e.project_id,command:n,timeout:15,cb:function(t){return function(t,n){var r,i,o,s;return t?void("function"==typeof e.cb&&e.cb(t)):"error"===n.event?void("function"==typeof e.cb&&e.cb(n.error)):(i=e.path.length+1,o=n.stdout.split("\n"),e.include_hidden||(o=function(){var e,t,n;for(n=[],e=0,t=o.length;e<t;e++)s=o[e],s.indexOf("/.")===-1&&n.push(s);return n}()),o=function(){var e,t,n;for(n=[],e=0,t=o.length;e<t;e++)s=o[e],s.length>i&&n.push(s.slice(i));return n}(),r={query:e.query,path:e.path,project_id:e.project_id,directories:o},"function"==typeof e.cb?e.cb(void 0,r):void 0)}}(this)})},t.prototype.user_search=function(e){return e=d(e,{query:f,query_id:-1,limit:20,timeout:i,cb:f}),this.call({message:p.user_search({query:e.query,limit:e.limit}),timeout:e.timeout,cb:function(t){return function(t,n){return t?e.cb(t):e.cb(void 0,n.results,e.query_id)}}(this)})},t.prototype.project_invite_collaborator=function(e){return e=d(e,{project_id:f,account_id:f,cb:function(e){return function(e){}}(this)}),this.call({message:p.invite_collaborator({project_id:e.project_id,account_id:e.account_id}),cb:function(t){return function(t,n){return t?e.cb(t):"error"===n.event?e.cb(n.error):e.cb(void 0,n)}}(this)})},t.prototype.project_remove_collaborator=function(e){return e=d(e,{project_id:f,account_id:f,cb:function(e){return function(e){}}(this)}),this.call({message:p.remove_collaborator({project_id:e.project_id,account_id:e.account_id}),cb:function(t){return function(t,n){return t?e.cb(t):"error"===n.event?e.cb(n.error):e.cb(void 0,n)}}(this)})},t.prototype.get_usernames=function(e){var t,n,r,i,o,s,a;for(e=d(e,{account_ids:f,use_cache:!0,cb:f}),a={},s=e.account_ids,i=0,o=s.length;i<o;i++)t=s[i],a[t]=!1;if(e.use_cache)for(t in a)r=a[t],r||null==this._usernames_cache[t]||(a[t]=this._usernames_cache[t]);return n=function(){var e;e=[];for(t in a)r=a[t],r||e.push(t);return e}(),0===n.length?e.cb(void 0,a):this.call({message:p.get_usernames({account_ids:n}),cb:function(n){return function(r,i){var o,s;if(r)return e.cb(r);if("error"===i.event)return e.cb(i.error);o=i.usernames;for(t in o)s=o[t],a[t]=s,n._usernames_cache[t]=s;return e.cb(void 0,a)}}(this)})},t.prototype.project_directory_listing=function(e){var t;return e=d(e,{project_id:f,path:".",time:!1,start:0,limit:999999999,timeout:60,hidden:!1,cb:f}),t=[],e.time&&t.push("--time"),e.hidden&&t.push("--hidden"),t.push("--limit"),t.push(e.limit),t.push("--start"),t.push(e.start),""===e.path&&(e.path="."),t.push("--"),t.push(e.path),this.exec({project_id:e.project_id,command:"smc-ls",args:t,timeout:e.timeout,cb:function(t,n){var r;return t?e.cb(t):n.exit_code?e.cb(n.stderr):(r=JSON.parse(n.stdout),e.cb(t,r))}})},t.prototype.project_get_state=function(e){return e=d(e,{project_id:f,cb:f}),this.call({message:p.project_get_state({project_id:e.project_id}),cb:function(t,n){return t?e.cb(t):"error"===n.event?e.cb(n.error):e.cb(!1,n.state)}})},t.prototype.print_to_pdf=function(e){return e=d(e,{project_id:f,path:f,timeout:90,options:void 0,cb:void 0}),e.options.timeout=e.timeout,this.call_local_hub({project_id:e.project_id,message:p.print_to_pdf({path:e.path,options:e.options}),timeout:e.timeout,cb:function(t){return function(t,n){return t?"function"==typeof e.cb?e.cb(t):void 0:"error"===n.event?null!=n.error?"function"==typeof e.cb?e.cb(n.error):void 0:"function"==typeof e.cb?e.cb("error"):void 0:"function"==typeof e.cb?e.cb(void 0,n.path):void 0}}(this)})},t.prototype.log_error=function(e){return this.call({message:p.log_client_error({error:e})})},t.prototype.webapp_error=function(e){return this.call({message:p.webapp_error(e)})},t.prototype._stripe_call=function(e,t){return this.call({message:e,error_event:!0,timeout:15,cb:t})},t.prototype.stripe_get_customer=function(e){return e=d(e,{cb:f}),this._stripe_call(p.stripe_get_customer(),function(t){return function(t,n){var r;return t?e.cb(t):(r={stripe_publishable_key:n.stripe_publishable_key,customer:n.customer},e.cb(void 0,r))}}(this))},t.prototype.stripe_create_source=function(e){return e=d(e,{token:f,cb:f}),this._stripe_call(p.stripe_create_source({token:e.token}),e.cb)},t.prototype.stripe_delete_source=function(e){return e=d(e,{card_id:f,cb:f}),this._stripe_call(p.stripe_delete_source({card_id:e.card_id}),e.cb)},t.prototype.stripe_update_source=function(e){return e=d(e,{card_id:f,info:f,cb:f}),this._stripe_call(p.stripe_update_source({card_id:e.card_id,info:e.info}),e.cb)},t.prototype.stripe_set_default_source=function(e){return e=d(e,{card_id:f,cb:f}),this._stripe_call(p.stripe_set_default_source({card_id:e.card_id}),e.cb)},t.prototype.stripe_get_charges=function(e){return e=d(e,{limit:void 0,ending_before:void 0,starting_after:void 0,cb:f}),this.call({message:p.stripe_get_charges({limit:e.limit,ending_before:e.ending_before,starting_after:e.starting_after}),error_event:!0,cb:function(t){return function(t,n){return t?e.cb(t):e.cb(void 0,n.charges)}}(this)})},t.prototype.stripe_get_plans=function(e){return e=d(e,{cb:f}),this.call({message:p.stripe_get_plans(),error_event:!0,cb:function(t){return function(t,n){return t?e.cb(t):e.cb(void 0,n.plans)}}(this)})},t.prototype.stripe_create_subscription=function(e){return e=d(e,{plan:f,quantity:1,coupon:void 0,cb:f}),this.call({message:p.stripe_create_subscription({plan:e.plan,quantity:e.quantity,coupon:e.coupon}),error_event:!0,cb:e.cb})},t.prototype.stripe_cancel_subscription=function(e){return e=d(e,{subscription_id:f,at_period_end:!0,cb:f}),this.call({message:p.stripe_cancel_subscription({subscription_id:e.subscription_id,at_period_end:e.at_period_end}),error_event:!0,cb:e.cb})},t.prototype.stripe_update_subscription=function(e){return e=d(e,{subscription_id:f,quantity:void 0,coupon:void 0,projects:void 0,plan:void 0,cb:f}),this.call({message:p.stripe_update_subscription({subscription_id:e.subscription_id,quantity:e.quantity,coupon:e.coupon,projects:e.projects,plan:e.plan}),error_event:!0,cb:e.cb})},t.prototype.stripe_get_subscriptions=function(e){return e=d(e,{limit:void 0,ending_before:void 0,starting_after:void 0,cb:f}),this.call({message:p.stripe_get_subscriptions({limit:e.limit,ending_before:e.ending_before,starting_after:e.starting_after}),error_event:!0,cb:function(t){return function(t,n){return t?e.cb(t):e.cb(void 0,n.subscriptions)}}(this)})},t.prototype.stripe_get_invoices=function(e){return e=d(e,{limit:10,ending_before:void 0,starting_after:void 0,cb:f}),this.call({message:p.stripe_get_invoices({limit:e.limit,ending_before:e.ending_before,starting_after:e.starting_after}),error_event:!0,cb:function(t){return function(t,n){return t?e.cb(t):e.cb(void 0,n.invoices)}}(this)})},t.prototype.stripe_admin_create_invoice_item=function(e){return e=d(e,{account_id:void 0,email_address:void 0,amount:void 0,description:void 0,cb:f}),this.call({message:p.stripe_admin_create_invoice_item({account_id:e.account_id,email_address:e.email_address,amount:e.amount,description:e.description}),error_event:!0,cb:e.cb})},t.prototype.stripe_admin_create_customer=function(e){return e=d(e,{account_id:void 0,email_address:void 0,cb:f}),this.stripe_admin_create_invoice_item(e)},t.prototype.create_support_ticket=function(e){var t,n;return n=e.opts,t=e.cb,this.call({message:p.create_support_ticket(n),timeout:20,error_event:!0,cb:function(e,n){return e?"function"==typeof t?t(e):void 0:"function"==typeof t?t(void 0,n.url):void 0}})},t.prototype.get_support_tickets=function(e){return this.call({message:p.get_support_tickets(),timeout:20,error_event:!0,cb:function(t,n){return t?"function"==typeof e?e(t):void 0:"function"==typeof e?e(void 0,n.tickets):void 0}})},t.prototype.projects=function(e){return e=d(e,{cb:f}),this.query({query:{projects:[{project_id:null,title:null,description:null,last_edited:null,users:null}]},changes:!0,cb:e.cb})},t.prototype.changefeed=function(e){var t,n,r;if(t=h.keys(e),1!==t.length)throw Error("must specify exactly one table");return n=t[0],r={},h.is_array(e[n])?r[n]=e[n]:r[n]=[e[n]],this.query({query:r,changes:!0})},t.prototype.sync_table=function(e,t,n,r){return null==n&&(n=2e3),null==r&&(r=void 0),g.sync_table(e,t,this,n,r)},t.prototype.sync_string=function(e){return e=d(e,{id:void 0,project_id:f,path:f,file_use_interval:"default",cursors:!1,patch_interval:1e3}),e.client=this,new _.SyncString(e)},t.prototype.sync_db=function(e){return e=d(e,{project_id:f,path:f,primary_keys:f,string_cols:void 0,cursors:!1,change_throttle:500,save_interval:2e3,patch_interval:1e3}),e.client=this,new u.SyncDB(e)},t.prototype.open_existing_sync_document=function(e){e=d(e,{project_id:f,path:f,cb:f}),e.client=this,u.open_existing_sync_document(e)},t.prototype.mark_file=function(e){var t;return e=d(e,{project_id:f,path:f,action:f,ttl:120}),null!=(t=this._redux)?t.getActions("file_use").mark_file(e.project_id,e.path,e.action,e.ttl):void 0},t.prototype.query=function(e){var t,n;if(e=d(e,{query:f,changes:void 0,options:void 0,timeout:30,cb:void 0}),null!=e.options&&!h.is_array(e.options))throw Error("options must be an array");return(t=v(e.query,this.account_id))?void("function"==typeof e.cb&&e.cb(t)):(n=p.query({query:e.query,options:e.options,changes:e.changes,multi_response:e.changes}),this.call({message:n,error_event:!0,timeout:e.timeout,cb:e.cb}))},t.prototype.query_cancel=function(e){return e=d(e,{id:f,cb:void 0}),this.call({message:p.query_cancel({id:e.id}),error_event:!0,timeout:30,cb:e.cb})},t.prototype.query_get_changefeed_ids=function(e){return e=d(e,{cb:f}),this.call({message:p.query_get_changefeed_ids(),error_event:!0,timeout:30,
cb:function(t){return function(n,r){return n?e.cb(n):(t._changefeed_ids=r.changefeed_ids,e.cb(void 0,r.changefeed_ids))}}(this)})},t}(o),exports.is_valid_password=function(e){return e.length>=6&&e.length<=64?[!0,""]:[!1,"Password must be between 6 and 64 characters in length."]},exports.issues_with_create_account=function(e){var t,n,r,i;return t={},e.agreed_to_terms||(t.agreed_to_terms="Agree to the Salvus Terms of Service."),""===e.first_name&&(t.first_name="Enter your name."),h.is_valid_email_address(e.email_address)||(t.email_address="Email address does not appear to be valid."),r=exports.is_valid_password(e.password),i=r[0],n=r[1],i||(t.password=n),t}},function(e,exports){exports.COMPUTE_STATES={closed:{desc:"None of the files, users, etc. for this project are on the compute server.",icon:"stop",display:"Offline",stable:!0,to:{open:"opening"},commands:["open","move","status","destroy","mintime"]},opened:{desc:"All files and snapshots are ready to use and the project user has been created, but the project is not running.",icon:"stop",display:"Stopped",stable:!0,to:{start:"starting",close:"closing",save:"saving"},commands:["start","close","save","copy_path","mkdir","directory_listing","read_file","network","mintime","disk_quota","compute_quota","status","migrate_live"]},running:{desc:"The project is opened, running, and ready to be used.",icon:"edit",display:"Running",stable:!0,to:{stop:"stopping",save:"saving"},commands:["stop","save","address","copy_path","mkdir","directory_listing","read_file","network","mintime","disk_quota","compute_quota","status","migrate_live"]},saving:{desc:"The project is being copied to a central file server for longterm storage.",icon:"save",display:"Saving to server",to:{},timeout:1800,commands:["address","copy_path","mkdir","directory_listing","read_file","network","mintime","disk_quota","compute_quota","status"]},closing:{desc:"The project is in the process of being closed, so the latest changes are being saved to the server and all processes are being killed.",icon:"close",display:"Closing",to:{},timeout:300,commands:["status","mintime"]},opening:{desc:"The project is being opened, so all files and snapshots are being downloaded, the user is being created, etc. This could take up to 10 minutes depending on the size of your project.",icon:"gears",display:"Opening",to:{},timeout:1800,commands:["status","mintime"]},starting:{desc:"The project is starting up and getting ready to be used.",icon:"flash",display:"Starting",to:{save:"saving"},timeout:60,commands:["save","copy_path","mkdir","directory_listing","read_file","network","mintime","disk_quota","compute_quota","status"]},stopping:{desc:"All processes associated to the project are being killed.",icon:"hand-stop-o",display:"Stopping",to:{save:"saving"},timeout:60,commands:["save","copy_path","mkdir","directory_listing","read_file","network","mintime","disk_quota","compute_quota","status"]}}},function(e,exports,t){var n,r,i,o,s,a,l=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},c=function(e,t){return function(){return e.apply(t,arguments)}},u=[].slice;i=t(9),r=t(201).DEFAULT_QUOTAS,o=exports.SCHEMA={},o.account_creation_actions={desc:"Actions to carry out when accounts are created, triggered by the email address of the user.",primary_key:"id",fields:{id:{type:"uuid"},action:{type:"map",desc:"Describes the action to carry out when an account is created with the given email_address."},email_address:{type:"string",desc:"Email address of user."},expire:{type:"timestamp",desc:"When this action should be expired."}},pg_indexes:["email_address"]},o.accounts={desc:"All user accounts.",primary_key:"account_id",fields:{account_id:{type:"uuid",desc:"The uuid that determines the user account"},created:{type:"timestamp",desc:"When the account was created."},created_by:{type:"string",pg_type:"inet",desc:"IP address that created the account."},creation_actions_done:{type:"boolean",desc:"Set to true after all creation actions (e.g., add to projects) associated to this account are succesfully completed."},password_hash:{type:"string",pg_type:"VARCHAR(173)",desc:"hash of the password"},deleted:{type:"boolean",desc:"True if the account has been deleted."},email_address:{type:"string",pg_type:"VARCHAR(254)",desc:"The email address of the user.  This is optional, since users may instead be associated to passport logins.",unique:!0},email_address_before_delete:{type:"string",desc:"The email address of the user before they deleted their account."},passports:{type:"map",desc:'Map from string ("[strategy]-[id]") derived from passport name and id to the corresponding profile'},editor_settings:{type:"map",desc:"Description of configuration settings for the editor.  See the user_query get defaults."},other_settings:{type:"map",desc:"Miscellaneous overall configuration settings for SMC, e.g., confirm close on exit?"},first_name:{type:"string",pg_type:"VARCHAR(254)",desc:"The first name of this user."},last_name:{type:"string",pg_type:"VARCHAR(254)",desc:"The last name of this user."},banned:{type:"boolean",desc:"Whether or not this user is banned."},terminal:{type:"map",desc:"Settings for the terminal, e.g., font_size, etc. (see get query)"},autosave:{type:"integer",desc:"File autosave interval in seconds"},evaluate_key:{type:"string",desc:"Key used to evaluate code in Sage worksheet."},font_size:{type:"integer",desc:"Default font-size for the editor, jupyter, etc. (px)"},last_active:{type:"timestamp",desc:"When this user was last active."},stripe_customer_id:{type:"string",desc:"The id of this customer in the stripe billing system."},stripe_customer:{type:"map",desc:"Information about customer from the point of view of stripe (exactly what is returned by stripe.customers.retrieve)."},profile:{type:"map",desc:"Information related to displaying this users location and presence in a document or chatroom."},groups:{type:"array",pg_type:"TEXT[]",desc:"Array of groups that this user belongs to; usually empty.  The only group right now is 'admin', which grants admin rights."}},pg_indexes:["(lower(first_name) text_pattern_ops)","(lower(last_name)  text_pattern_ops)","created_by","created"],user_query:{get:{throttle_changes:500,pg_where:[{"account_id = $::UUID":"account_id"}],fields:{account_id:null,email_address:null,editor_settings:{strip_trailing_whitespace:!1,show_trailing_whitespace:!0,line_wrapping:!0,line_numbers:!0,smart_indent:!0,electric_chars:!0,match_brackets:!0,auto_close_brackets:!0,code_folding:!0,match_xml_tags:!0,auto_close_xml_tags:!0,spaces_instead_of_tabs:!0,multiple_cursors:!0,track_revisions:!0,extra_button_bar:!0,first_line_number:1,indent_unit:4,tab_size:4,bindings:"standard",theme:"default",undo_depth:300},other_settings:{confirm_close:!1,mask_files:!0,page_size:50,standby_timeout_m:10,default_file_sort:"time"},first_name:"",last_name:"",terminal:{font_size:14,color_scheme:"default",font:"monospace"},autosave:45,evaluate_key:"Shift-Enter",font_size:14,passports:{},groups:[],last_active:null,stripe_customer:null,profile:{image:void 0,color:void 0}}},set:{fields:{account_id:"account_id",editor_settings:!0,other_settings:!0,first_name:!0,last_name:!0,terminal:!0,autosave:!0,evaluate_key:!0,font_size:!0,profile:!0},check_hook:function(e,t,n,r,i){var o,s,a,l;for(l=["first_name","last_name","email_address"],s=0,a=l.length;s<a;s++)o=l[s],null!=t[o]&&(t[o]=t[o].slice(0,254));return i()}}}},o.blobs={desc:"Table that stores blobs mainly generated as output of Sage worksheets.",primary_key:"id",fields:{id:{type:"uuid",desc:"The uuid of this blob, which is a uuid derived from the Sha1 hash of the blob content."},blob:{type:"Buffer",desc:"The actual blob content"},expire:{type:"timestamp",desc:"When to expire this blob (when delete_expired is called on the database)."},created:{type:"timestamp",desc:"When the blob was created."},project_id:{type:"string",desc:"The uuid of the project that created the blob."},last_active:{type:"timestamp",desc:"When the blob was last pulled from the database."},count:{type:"number",desc:"How many times the blob has been pulled from the database."},size:{type:"number",desc:"The size in bytes of the blob."},gcloud:{type:"string",desc:"name of a bucket that contains the actual blob, if available."},backup:{type:"boolean",desc:"if true, then this blob was saved to an offsite backup"},compress:{type:"string",desc:"optional compression used: 'gzip', 'zlib', 'snappy'"}},user_query:{get:{instead_of_query:function(e,t,n,r){return null==t.id?void r("id must be specified"):e.get_blob({uuid:t.id,cb:function(e,n){return e?r(e):r(void 0,{id:t.id,blob:n})}})},fields:{id:null,blob:null}},set:{fields:{id:!0,blob:!0,project_id:"project_write",ttl:0},required_fields:{id:!0,blob:!0,project_id:!0},instead_of_change:function(e,t,n,r,i){return e.save_blob({uuid:n.id,blob:n.blob,ttl:n.ttl,project_id:n.project_id,check:!0,cb:i})}}}},o.central_log={desc:"Table for logging system stuff that happens.  Meant to help in running and understanding the system better.",primary_key:"id",durability:"soft",fields:{id:{type:"uuid"},event:{type:"string"},value:{type:"map"},time:{type:"timestamp"}},pg_indexes:["time","event"]},o.client_error_log={primary_key:"id",durability:"soft",fields:{id:{type:"uuid"},event:{type:"string"},error:{type:"string"},account_id:{type:"uuid"},time:{type:"timestamp"}},pg_indexes:["time","event"]},o.webapp_errors={primary_key:"id",durability:"soft",fields:{id:{type:"uuid"},account_id:{type:"uuid"},name:{type:"string"},message:{type:"string"},comment:{type:"string"},stacktrace:{type:"string"},file:{type:"string"},path:{type:"string"},lineNumber:{type:"integer"},columnNumber:{type:"integer"},severity:{type:"string"},browser:{type:"string"},mobile:{type:"boolean"},responsive:{type:"boolean"},user_agent:{type:"string"},path:{type:"text"},smc_version:{type:"string"},build_date:{type:"string"},smc_git_rev:{type:"string"},uptime:{type:"string"},start_time:{type:"timestamp"},time:{type:"timestamp"}},pg_indexes:["time","name","account_id","smc_git_rev","smc_version","start_time","browser"]},o.collaborators={primary_key:"account_id",anonymous:!1,virtual:"accounts",user_query:{get:{pg_where:[{"account_id = ANY(SELECT DISTINCT jsonb_object_keys(users)::UUID FROM projects WHERE users ? $::TEXT)":"account_id"}],pg_changefeed:"collaborators",fields:{account_id:null,first_name:"",last_name:"",last_active:null,profile:null}}}},o.compute_servers={primary_key:"host",fields:{host:{type:"string",pg_type:"VARCHAR(63)"},dc:{type:"string"},port:{type:"integer"},secret:{type:"string"},experimental:{type:"boolean"},member_host:{type:"boolean"},status:{type:"map",desc:"something like {stuff:?,...,timestamp:?}",date:["timestamp"]}}},o.file_access_log={primary_key:"id",durability:"soft",fields:{id:{type:"uuid"},project_id:{type:"uuid"},account_id:{type:"uuid"},filename:{type:"string"},time:{type:"timestamp"}},pg_indexes:["project_id","account_id","filename","time"]},o.file_use={primary_key:"id",durability:"soft",unique_writes:!0,fields:{id:{type:"string",pg_type:"CHAR(40)"},project_id:{type:"uuid"},path:{type:"string"},users:{type:"map",desc:"{account_id1: {action1: timestamp1, action2:timestamp2}, account_id2: {...}}",date:"all"},last_edited:{type:"timestamp"}},pg_indexes:["project_id","last_edited"],user_query:{get:{pg_where:["projects","last_edited IS NOT NULL"],pg_changefeed:"projects",options:[{order_by:"-last_edited"},{limit:200}],throttle_changes:3e3,fields:{id:null,project_id:null,path:null,users:null,last_edited:null}},set:{fields:{id:function(e,t){return t.sha1(e.project_id,e.path)},project_id:"project_write",path:!0,users:!0,last_edited:!0},required_fields:{id:!0,project_id:!0,path:!0},check_hook:function(e,t,n,r,o){var s,a,l;return l=null!=(a=t.users)?a[n]:void 0,s=i.minutes_ago(3),null!=l&&(l.edit>=s||l.chat>=s)&&e.touch({project_id:t.project_id,account_id:n}),"function"==typeof o?o():void 0}}}},o.hub_servers={primary_key:"host",durability:"soft",fields:{host:{type:"string",pg_type:"VARCHAR(63)"},port:{type:"integer"},clients:{type:"integer"},expire:{type:"timestamp"}}},o.instances={primary_key:"name",fields:{name:{type:"string"},gce:{type:"map"},gce_sha1:{type:"string"},requested_preemptible:{type:"boolean"},requested_status:{type:"string",desc:"One of 'RUNNING', 'TERMINATED'"},action:{type:"map",desc:"{action:'start', started:timestamp, finished:timestamp,  params:?, error:?, rule:?}",date:["started","finished"]}}},o.instance_actions_log={primary_key:"id",fields:{id:{type:"uuid"},name:{type:"string",desc:"hostname of vm",pg_type:"VARCHAR(63)"},action:{type:"map",desc:"same as finished action object for instances above",date:["started","finished"]}}},o.passport_settings={primary_key:"strategy",fields:{strategy:{type:"string"},conf:{type:"map"}}},o.password_reset={primary_key:"id",fields:{id:{type:"uuid"},email_address:{type:"string"},expire:{type:"timestamp"}}},o.password_reset_attempts={primary_key:"id",durability:"soft",fields:{id:{type:"uuid"},email_address:{type:"string"},ip_address:{type:"string",pg_type:"inet"},time:{type:"timestamp"}},pg_indexes:["time"]},o.project_log={primary_key:"id",durability:"soft",fields:{id:{type:"uuid",desc:"which"},project_id:{type:"uuid",desc:"where"},time:{type:"timestamp",desc:"when"},account_id:{type:"uuid",desc:"who"},event:{type:"map",desc:"what"}},pg_indexes:["project_id","time"],user_query:{get:{pg_where:"projects",pg_changefeed:"projects",options:[{order_by:"-time"},{limit:400}],throttle_changes:2e3,fields:{id:null,project_id:null,time:null,account_id:null,event:null}},set:{fields:{id:function(e){var t;return null!=(t=e.id)?t:i.uuid()},project_id:"project_write",account_id:"account_id",time:!0,event:!0}}}},o.projects={primary_key:"project_id",fields:{project_id:{type:"uuid",desc:"The project id, which is the primary key that determines the project."},title:{type:"string",desc:"The short title of the project. Should use no special formatting, except hashtags."},description:{type:"string",desc:"A longer textual description of the project.  This can include hashtags and should be formatted using markdown."},users:{type:"map",desc:"This is a map from account_id's to {hide:bool, group:['owner',...], upgrades:{memory:1000, ...}}."},invite:{type:"map",desc:"Map from email addresses to {time:when invite sent, error:error message if there was one}",date:["time"]},invite_requests:{type:"map",desc:"This is a map from account_id's to {timestamp:?, message:'i want to join because...'}.",date:["timestamp"]},deleted:{type:"boolean",desc:"Whether or not this project is deleted."},host:{type:"map",desc:"This is a map {host:'hostname_of_server', assigned:timestamp of when assigned to that server}.",date:["assigned"]},settings:{type:"map",desc:'This is a map that defines the free base quotas that a project has. It is of the form {cores: 1.5, cpu_shares: 768, disk_quota: 1000, memory: 2000, mintime: 36000000, network: 0}.  WARNING: some of the values are strings not numbers in the database right now, e.g., disk_quota:"1000".'},status:{type:"map",desc:'This is a map computed by the status command run inside a project, and slightly enhanced by the compute server, which gives extensive status information about a project.  It has the form {console_server.pid: [pid of the console server, if running], console_server.port: [port if it is serving], disk_MB: [MB of used disk], installed: [whether code is installed], local_hub.pid: [pid of local hub server process],  local_hub.port: [port of local hub process], memory: {count:?, pss:?, rss:?, swap:?, uss:?} [output by smem],  raw.port: [port that the raw server is serving on], sage_server.pid: [pid of sage server process], sage_server.port: [port of the sage server], secret_token: [long random secret token that is needed to communicate with local_hub], state: "running" [see COMPUTE_STATES below], version: [version number of local_hub code]}'},state:{type:"map",desc:'Info about the state of this project of the form  {error: "", state: "running", time: timestamp}, where time is when the state was last computed.  See COMPUTE_STATES below.',date:["time"]},last_edited:{type:"timestamp",desc:"The last time some file was edited in this project.  This is the last time that the file_use table was updated for this project."},last_active:{type:"map",desc:"Map from account_id's to the timestamp of when the user with that account_id touched this project.",date:"all"},created:{type:"timestamp",desc:"When the account was created."},action_request:{type:"map",desc:"Request state change action for project: {action:['restart', 'stop', 'save', 'close'], started:timestamp, err:?, finished:timestamp}",date:["started","finished"]},storage:{type:"map",desc:"This is a map {host:'hostname_of_server', assigned:when first saved here, saved:when last saved here}.",date:["assigned","saved"]},last_backup:{type:"timestamp",desc:"Timestamp of last off-disk successful backup using bup to Google cloud storage"},storage_request:{type:"map",desc:"{action:['save', 'close', 'move', 'open'], requested:timestap, pid:?, target:?, started:timestamp, finished:timestamp, err:?}",date:["started","finished","requested"]},course:{type:"map",desc:"{project_id:[id of project that contains .course file], path:[path to .course file], pay:?, email_address:[optional email address of student -- used if account_id not known], account_id:[account id of student]}, where pay is either not set (or equals falseish) or is a timestamp by which the students must move the project to a members only server.",date:["pay"]},run:{type:"boolean",desc:"If true, we try to run this project on kubernetes; if false, we delete it from running on kubernetes."},storage_server:{type:"integer",desc:"Number of the Kubernetes storage server with the data for this project: one of 0, 1, 2, ..."},storage_ready:{type:"boolean",desc:"Whether storage is ready to be used on the storage server.  Do NOT try to start project until true; this gets set by storage daemon when it notices the that run is true."},disk_size:{type:"integer",desc:"Size in megabytes of the project disk."},resources:{type:"map",desc:'Object of the form {requests:{memory:"30Mi",cpu:"5m"}, limits:{memory:"100Mi",cpu:"300m"}} which is passed to the k8s resources section for this pod.'},preemptible:{type:"boolean",desc:"If true, allow to run on preemptible nodes."},idle_timeout:{type:"integer",desc:"If given and nonzero, project will be killed if it is idle for this many **minutes**, where idle *means* that last_edited has not been updated."}},pg_indexes:["last_edited","USING GIN (users)","USING GIN (host jsonb_path_ops)"],user_query:{get:{pg_where:"projects",pg_changefeed:"projects",throttle_changes:2e3,fields:{project_id:null,title:"",description:"",users:{},invite:null,invite_requests:null,deleted:null,host:null,settings:r,status:null,state:null,last_edited:null,last_active:null,action_request:null,course:null}},set:{fields:{project_id:"project_write",title:!0,description:!0,deleted:!0,invite_requests:!0,users:function(e,t,n){return t._user_set_query_project_users(e,n)},action_request:!0},before_change:function(e,t,n,r,i){return e._user_set_query_project_change_before(t,n,r,i)},on_change:function(e,t,n,r,i){return e._user_set_query_project_change_after(t,n,r,i)}}},project_query:{get:{pg_where:[{"project_id = $::UUID":"project_id"}],fields:{project_id:null,title:null,description:null}},set:{fields:{project_id:"project_id",title:!0,description:!0}}}},o.projects_owner={virtual:"projects",fields:{project_id:!0,course:!0},user_query:{set:{fields:{project_id:"project_owner",course:!0}}}},o.project_invite_requests={virtual:"projects",primary_key:"project_id",fields:{project_id:!0,invite_requests:!0},user_query:{set:{fields:{project_id:!0,invite_requests:!0},before_change:function(e,t,n,r,i){return i()}}}},o.projects_admin={primary_key:o.projects.primary_key,virtual:"projects",fields:o.projects.fields,user_query:{get:{admin:!0,pg_where:[{"project_id = $::UUID":"project_id"}],fields:o.projects.user_query.get.fields}}},o.public_projects={anonymous:!0,virtual:"projects",user_query:{get:{pg_where:[{"project_id = $::UUID":"project_id-public"}],fields:{project_id:!0,title:!0,description:!0}}}},o.public_paths={primary_key:"id",anonymous:!0,fields:{id:{type:"string",pg_type:"CHAR(40)",desc:"sha1 hash derived from project_id and path"},project_id:{type:"uuid"},path:{type:"string"},description:{type:"string"},disabled:{type:"boolean",desc:"if true then disabled"}},pg_indexes:["project_id"],user_query:{get:{pg_where:[{"project_id = $::UUID":"project_id"}],throttle_changes:2e3,fields:{id:null,project_id:null,path:null,description:null,disabled:null}},set:{fields:{id:function(e,t){return t.sha1(e.project_id,e.path)},project_id:"project_write",path:!0,description:!0,disabled:!0},required_fields:{id:!0,project_id:!0,path:!0}}}},o.remember_me={primary_key:"hash",durability:"soft",fields:{hash:{type:"string",pg_type:"CHAR(127)"},value:{type:"map"},account_id:{type:"uuid"},expire:{type:"timestamp"}},pg_indexes:["account_id"]},o.server_settings={primary_key:"name",anonymous:!1,fields:{name:{type:"string"},value:{type:"string"}},user_query:{set:{admin:!0,fields:{name:null,value:null}}}},exports.site_settings_conf={site_name:{name:"Site name",desc:"The heading name of your site.",default:"SageMathCloud"},site_description:{name:"Site description",desc:"The description of your site.",default:""},terms_of_service:{name:"Terms of service link text",desc:"The text displayed for the terms of service link (make empty to not require).",default:'By clicking Sign up! you agree to our <a target="_blank" href="/policies/terms.html">Terms of Service</a>.'},account_creation_email_instructions:{name:"Account creation instructions",desc:"Instructions displayed next to the box where a user creates their account using their name and email address.",default:"Create an Account"},help_email:{name:"Help email address",desc:"Email address that user is directed to use for support requests",default:"help@sagemath.com"},commercial:{name:"Commercial UI elements ('yes' or 'no')",desc:"Whether or not to include user interface elements related to for-pay upgrades and features.  Set to 'yes' to include these elements.",default:"no"}},a=i.keys(exports.site_settings_conf),o.site_settings={virtual:"server_settings",anonymous:!1,user_query:{get:{pg_where:[{"name = ANY($)":a}],admin:!0,fields:{name:null,value:null}},set:{admin:!0,fields:{name:function(e,t){var n;if(n=e.name,l.call(a,n)>=0)return e.name;throw Error("setting name='"+e.name+"' not allowed")},value:null}}}},o.stats={primary_key:"id",durability:"soft",anonymous:!0,fields:{id:{type:"uuid"},time:{type:"timestamp",pg_check:"NOT NULL"},accounts:{type:"integer",pg_check:"NOT NULL CHECK (accounts >= 0)"},accounts_created:{type:"map"},projects:{type:"integer",pg_check:"NOT NULL CHECK (projects >= 0)"},projects_created:{type:"map"},projects_edited:{type:"map"},hub_servers:{type:"array",pg_type:"JSONB[]"}},pg_indexes:["time"],user_query:{get:{pg_where:["time >= NOW() - INTERVAL '1 hour'"],pg_changefeed:"one-hour",options:[{order_by:"-time"}],throttle_changes:5e3,fields:{id:null,time:null,accounts:0,accounts_created:null,projects:0,projects_created:null,projects_edited:null,hub_servers:[]}}}},o.storage_servers={primary_key:"host",fields:{host:{type:"string",desc:"hostname of the storage server",pg_type:"VARCHAR(63)"}}},o.system_notifications={primary_key:"id",anonymous:!0,fields:{id:{type:"uuid",desc:"primary key"},time:{type:"timestamp",desc:"time of this message"},text:{type:"string",desc:"the text of the message"},priority:{type:"string",pg_type:"VARCHAR(6)",desc:'one of "low", "medium", or "high"'},done:{type:"boolean",desc:"if true, then this notification is no longer relevant"}},user_query:{get:{pg_where:["time >= NOW() - INTERVAL '1 hour'"],pg_changefeed:"one-hour",throttle_changes:3e3,fields:{id:null,time:null,text:"",priority:"low",done:!1}},set:{admin:!0,fields:{id:!0,time:!0,text:!0,priority:!0,done:!0}}}},s=t(131),n=function(){function e(){this.primary_keys=c(this.primary_keys,this),this._user_set_query_project_change_before=c(this._user_set_query_project_change_before,this),this._user_set_query_project_change_after=c(this._user_set_query_project_change_after,this),this._user_set_query_project_users=c(this._user_set_query_project_users,this),this.sha1=c(this.sha1,this),this.r={}}return e.prototype.sha1=function(){var e,t,n;return e=1<=arguments.length?u.call(arguments,0):[],t=function(){var t,r,i;for(i=[],t=0,r=e.length;t<r;t++)n=e[t],i.push("string"==typeof n?n:JSON.stringify(n));return i}().join(""),s(t)},e.prototype._user_set_query_project_users=function(e){return e.users},e.prototype._user_set_query_project_change_after=function(e,t,n,r){return r()},e.prototype._user_set_query_project_change_before=function(e,t,n,r){return r()},e.prototype.primary_keys=function(e){var t,n;if(null==this._primary_keys_cache&&(this._primary_keys_cache={}),null!=this._primary_keys_cache[e])return this._primary_keys_cache[e];if(t=o[e],null!=t.virtual&&(t=o[t.virtual]),n=null!=t?t.primary_key:void 0,null==n)throw Error("primary key for table '"+e+"' must be explicitly specified in schema");if("string"==typeof n)return this._primary_keys_cache[e]=[n];if(i.is_array(n)){if(0===n.length)throw Error("at least one primary key must specified");return this._primary_keys_cache[e]=n}throw Error("primary key must be a string or array of strings")},e}(),exports.client_db=new n},function(e,exports,t){var n,r,i;n=t(9),r=t(24),exports.validate_client_query=i=function(e,t){var o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b;if(n.is_array(e)){for(l=0,d=e.length;l<d;l++)if(h=e[l],s=i(h),null!=s)return s}else{if(b=function(t){return console.warn("invalid client query: "+t+"; query="+n.to_json(e)),t},y=n.keys(e),1!==y.length)return b("must specify exactly one key in the query");if(g=y[0],v=null!=(f=r.SCHEMA[g])?f.user_query:void 0,null==v)return b("no user queries of '"+g+"' allowed");if(p=e[g],n.is_array(p)){if(p.length>1)return b("array of length > 1 not yet implemented");p=p[0],c=!1}else c=!n.has_null_leaf(p);if(c){if(o=v.set,null==o)return b("no user set queries of '"+g+"' allowed")}else if(o=v.get,null==o)return b("no user get queries of '"+g+"' allowed");for(u in p)if(y=p[u],a=o.fields[u],void 0===a)return b(c?"not allowed to set key '"+u+"' of '"+g+"'":"not allowed to access key '"+u+"' of '"+g+"'");m=o.fields;for(u in m)a=m[u],"function"==typeof a&&(p[u]=a(p,r.client_db,t));if(null!=o.required_fields){_=o.required_fields;for(u in _)if(y=_[u],null==p[u])return b("field '"+u+"' must be set")}}}},function(e,exports,t){var n,r,i,o,s,a,l=function(e,t){return function(){return e.apply(t,arguments)}};n=t(31),a=t(64),s=t(103),i=t(9),r=i.defaults,o=i.required,exports.Evaluator=function(){function e(e,t){this.string=e,this._evaluate_using_shell=l(this._evaluate_using_shell,this),this._evaluate_using_sage=l(this._evaluate_using_sage,this),this._init_project_evaluator=l(this._init_project_evaluator,this),this._handle_input_change=l(this._handle_input_change,this),this._execute_code_hook=l(this._execute_code_hook,this),this.call=l(this.call,this),this.close=l(this.close,this),this._init_eval_outputs=l(this._init_eval_outputs,this),this._init_eval_inputs=l(this._init_eval_inputs,this),this._init_sync_tables=l(this._init_sync_tables,this),this._init_sync_tables(function(e){return function(n){return n?"function"==typeof t?t(n):void 0:(e.string._client.is_project()&&e._init_project_evaluator(),"function"==typeof t?t():void 0)}}(this))}return e.prototype._init_sync_tables=function(e){return n.parallel([this._init_eval_inputs,this._init_eval_outputs],function(t){return function(t){return e(t)}}(this))},e.prototype._init_eval_inputs=function(e){var t;return t={eval_inputs:{string_id:this.string._string_id,time:{">=":i.server_seconds_ago(30)},input:null}},this._inputs=this.string._client.sync_table(t,void 0,500),this._inputs.once("connected",function(t){return function(){return e()}}(this))},e.prototype._init_eval_outputs=function(e){var t;return t={eval_outputs:{string_id:this.string._string_id,time:{">=":i.server_seconds_ago(30)},output:null}},this._outputs=this.string._client.sync_table(t,void 0,500),this._outputs.setMaxListeners(100),this._outputs.once("connected",function(t){return function(){return e()}}(this))},e.prototype.close=function(){var e,t,n;return this._closed=!0,null!=(e=this._inputs)&&e.close(),delete this._inputs,null!=(t=this._outputs)&&t.close(),delete this._outputs,null!=(n=this._sage_session)&&n.close(),delete this._sage_session},e.prototype.call=function(e){var t,n,s,a,l;return e=r(e,{program:o,input:o,cb:void 0}),this._closed?void("function"==typeof e.cb&&e.cb("closed")):(l=this.string._client.server_time(),null!=this._last_time&&l<=this._last_time&&(l=new Date(this._last_time-0+1)),this._last_time=l,this._inputs.set({string_id:this.string._string_id,time:l,user_id:0,input:i.copy_without(e,"cb")}),this._inputs.save(),null!=e.cb?(s={},n=0,a=function(n){return function(r){return r.done&&n._outputs.removeListener("change",t),"function"==typeof e.cb?e.cb(r):void 0}}(this),t=function(t){return function(r){var o,c,u,d,p,h,f,m;if(t._closed)return void("function"==typeof e.cb&&e.cb("closed"));for(f=[],o=0,u=r.length;o<u;o++)c=r[o],m=i.from_json(c),m[1]-l===0?(d=null!=(p=t._outputs.get(c))&&null!=(h=p.get("output"))?h.toJS():void 0,null!=d?(delete d.id,m[2]===n?(a(d),n+=1,f.push(function(){var e;for(e=[];null!=s[n];)a(s[n]),delete s[n],e.push(n+=1);return e}())):f.push(s[m[2]]=d)):f.push(void 0)):f.push(void 0);return f}}(this),this._outputs.on("change",t)):void 0)},e.prototype._execute_code_hook=function(e){var t,n,r,o;return t=this.string._client.dbg("_execute_code_hook('"+e+"')"),t(),this._closed?void t("closed"):(r=s.MARKERS.output,o=function(n){return function(l){var c,u,d,p,h,f,m;return t("processing mesg '"+i.to_json(l)+"'"),d=n.string.to_str(),p=d.indexOf(s.MARKERS.output+e),p===-1?void(o=void 0):(p+=37,f=d.indexOf("\n",p),f!==-1?(r+=a(i.copy_without(l,["id","event"]))+s.MARKERS.output,r.length>f-p?(t("sage_execute_code: initiating client didn't maintain sync promptly. fixing"),m=d.slice(0,p),d=m+r+d.slice(f),l.done&&(h=m.lastIndexOf(s.MARKERS.cell),h!==-1&&(h=m.lastIndexOf("\n",h),u=m.slice(h+2,h+38),c=s.sagews(d),c.remove_cell_flag(u,s.FLAGS.running),c.set_cell_flag(u,s.FLAGS.this_session),d=c.content)),n.string.from_str(d),n.string.save()):void 0):void 0)}}(this),n=function(e){return function(e){return setTimeout(function(){return"function"==typeof o?o(e):void 0},5e3)}}(this))},e.prototype._handle_input_change=function(e){var t,n,r,o,s,a,l,c,u,d,p,h;if(t=this.string._client.dbg("_handle_input_change"),t("change: "+e),this._closed)return void t("closed");if(d=i.from_json(e),a=[d[0],d[1],0],u=a[0],p=a[1],s=a[2],o=a,null==this._outputs.get(JSON.stringify(o))){if(t("no outputs with key "+i.to_json(o)),h=null!=(l=this._inputs.get(e))&&null!=(c=l.get("input"))&&"function"==typeof c.toJS?c.toJS():void 0,null==h)return;return null!=h.program&&null!=h.input?(n=this["_evaluate_using_"+h.program],null!=n?("execute_code"===h.input.event&&null!=h.input.output_uuid&&(r=this._execute_code_hook(h.input.output_uuid)),n(h.input,function(e){return function(t){if(!e._closed)return"function"==typeof r&&r(t),e._outputs.set({string_id:u,time:p,number:s,output:t}),e._outputs.save(),s+=1}}(this))):(this._outputs.set({string_id:u,time:p,number:s,output:i.to_json({error:"no program '"+h.program+"'",done:!0})}),this._outputs.save())):(this._outputs.set({string_id:u,time:p,number:s,output:i.to_json({error:"must specify program and input",done:!0})}),this._outputs.save())}},e.prototype._init_project_evaluator=function(){var e;return e=this.string._client.dbg("project_evaluator"),e("init"),this._inputs.on("change",function(e){return function(t){var n,r,i,o;for(o=[],n=0,i=t.length;n<i;n++)r=t[n],o.push(e._handle_input_change(r));return o}}(this))},e.prototype._evaluate_using_sage=function(e,t){
return null==this._sage_session&&(this._sage_session=this.string._client.sage_session({path:this.string._path})),"execute_code"===e.event&&(e=i.copy_with(e,["code","data","preparse","event","id"])),this._sage_session.call({input:e,cb:t})},e.prototype._evaluate_using_shell=function(e,t){return e.cb=function(e){return function(e,n){return null==n&&(n={}),e&&(n.error=e),n.done=!0,t(n)}}(this),this.string._client.shell(e)},e}()},function(e,exports,t){var n,r;n=t(9),r=t(24).SCHEMA,r.syncstrings={primary_key:"string_id",fields:{string_id:{type:"sha1",pg_type:"CHAR(40)",desc:"id of this synchronized string -- sha1 hash of (project_id and path)"},project_id:{type:"uuid",desc:"id of project that this synchronized string belongs to"},last_active:{type:"timestamp",desc:'when a user most-recently "cared" about this syncstring (syncstring will be automatically opened in running project if last_active is sufficiently recent)'},last_file_change:{type:"timestamp",desc:"when file on disk last changed not due to save (used by Jupyter sync)"},path:{type:"string",desc:"optional path of file being edited"},deleted:{type:"boolean",desc:"if true, the file was deleted; client **must** create file on disk before editing again."},init:{type:"map",desc:"{time:timestamp, error:?} - info about what happened when project tried to initialize this string",date:["time"]},save:{type:"map",desc:"{state:['requested', 'done'], hash:misc.hash_string(what was last saved), error:['' or 'error message']}"},read_only:{type:"boolean",desc:"true or false, depending on whether this syncstring is readonly or can be edited"},users:{type:"array",pg_type:"UUID[]",desc:"array of account_id's of those who have edited this string. Index of account_id in this array is used to represent patch authors."},last_snapshot:{type:"timestamp",desc:"timestamp of a recent snapshot; if not given, assume no snapshots.  This is used to restrict the range of patches that have to be downloaded in order start editing the file."},snapshot_interval:{type:"integer",desc:"If m=snapshot_interval is given and there are a total of n patches, then we (some user) should make snapshots at patches m, 2*m, ..., k, where k<=n-m."},archived:{type:"uuid",desc:"if set, then syncstring patches array have been archived in the blob with given uuid."},doctype:{type:"string",desc:"(optional) JSON string describing meaning of the patches (i.e., of this document0 -- e.g., {type:'db', opts:{primary_keys:['id'], string_cols:['name']}}"}},pg_indexes:["last_active"],user_query:{get:{fields:{string_id:function(e,t){return t.sha1(e.project_id,e.path)},users:null,last_snapshot:null,snapshot_interval:300,project_id:null,path:null,deleted:null,save:null,last_active:null,init:null,read_only:null,last_file_change:null,doctype:null},required_fields:{path:!0,project_id:!0},check_hook:function(e,t,n,r,i){return e._syncstrings_check(t,n,r,function(n){return n?i(n):e.unarchive_patches({string_id:t.string_id,cb:i})})}},set:{fields:{string_id:function(e,t){return t.sha1(e.project_id,e.path)},users:!0,last_snapshot:!0,snapshot_interval:!0,project_id:!0,path:!0,deleted:!0,save:!0,last_active:!0,init:!0,read_only:!0,last_file_change:!0,doctype:!0},required_fields:{path:!0,project_id:!0},check_hook:function(e,t,n,r,i){return e._syncstrings_check(t,n,r,i)},on_change:function(e,t,n,r,i){return e._user_set_query_syncstring_change_after(t,n,r,i)}}}},r.syncstrings.project_query=n.deep_copy(r.syncstrings.user_query),r.syncstrings_delete={primary_key:r.syncstrings.primary_key,virtual:"syncstrings",fields:r.syncstrings.fields,user_query:{set:{admin:!0,delete:!0,options:[{delete:!0}],fields:{string_id:function(e,t){return t.sha1(e.project_id,e.path)},project_id:!0,path:!0},required_fields:{project_id:!0,path:!0},check_hook:function(e,t,n,r,i){return e._syncstrings_check(t,n,r,i)}}}},r.recent_syncstrings_in_project={primary_key:r.syncstrings.primary_key,virtual:"syncstrings",fields:{string_id:!0,project_id:!0,path:!0,last_active:!0,deleted:!0,doctype:!0},user_query:{get:{pg_where:function(e,t){return[{"project_id = $::UUID":e.project_id,"last_active >= $::TIMESTAMP":n.minutes_ago(e.max_age_m)}]},pg_changefeed:function(){return{select:{project_id:"UUID",last_active:"TIMESTAMP"}}},fields:{project_id:null,max_age_m:"null",string_id:null,last_active:null,path:null,deleted:null,doctype:null},required_fields:{project_id:!0,max_age_m:!0},check_hook:function(e,t,n,r,i){return e._syncstrings_check(t,n,r,i)}}}},r.recent_syncstrings_in_project.project_query=r.recent_syncstrings_in_project.user_query,r.patches={primary_key:["string_id","time"],unique_writes:!0,pg_indexes:["time"],fields:{string_id:{pg_type:"CHAR(40)",desc:"id of the syncstring that this patch belongs to."},time:{type:"timestamp",desc:"the timestamp of the patch"},user_id:{type:"integer",desc:"a nonnegative integer; this is the index into the syncstrings.users array of account_id's"},patch:{type:"string",pg_type:"TEXT",desc:"JSON string that parses to a patch, which transforms the previous version of the syncstring to this version"},snapshot:{type:"string",desc:"Optional -- gives the state of the string at this point in time; this should only be set some time after the patch at this point in time was made. Knowing this snap and all future patches determines all the future versions of the syncstring."},sent:{type:"timestamp",desc:"Optional approximate time at which patch was **actually** sent to the server, which is approximately when it was really made available to other users.  In case of offline editing, patches from days ago might get inserted into the stream, and this makes it possible for the client to know and behave accordingly.  If this is not set then patch was sent about the same time it was created."},prev:{type:"timestamp",desc:"Optional field to indicate patch dependence; if given, don't apply this patch until the patch with timestamp prev has been applied."},format:{type:"integer",desc:"The format of the patch; NULL = compressed dmp patch (for strings); 1 = db-doc patches on objects;"}},user_query:{get:{throttle_changes:1e3,fields:{string_id:null,time:null,patch:null,user_id:null,snapshot:null,sent:null,prev:null,format:null},check_hook:function(e,t,n,r,i){return e._user_get_query_patches_check(t,n,r,i)}},set:{fields:{string_id:!0,time:!0,patch:!0,user_id:!0,snapshot:!0,sent:!0,prev:!0,format:!0},required_fields:{string_id:!0,time:!0,user_id:!0},check_hook:function(e,t,n,r,i){return e._user_set_query_patches_check(t,n,r,i)},before_change:function(e,t,n,r,i){if(null!=t){if(null!=t.user_id&&null!=n.user_id&&t.user_id!==n.user_id)return void i("you may not change the author of a patch from "+t.user_id+" to "+n.user_id);if(null!=t.patch&&null!=n.patch&&t.patch!==n.patch)return void i("you may not change a patch")}return i()}}}},r.patches.project_query=r.patches.user_query,r.cursors={primary_key:["string_id","user_id"],durability:"soft",fields:{string_id:{pg_type:"CHAR(40)",desc:"id of the syncstring that this patch belongs to."},user_id:{type:"integer",desc:"id index of the user into the syncstrings users array",pg_check:"CHECK (user_id >= 0)"},locs:{type:"array",pg_type:"JSONB[]",desc:"[{x:?,y:?}, ...]    <-- locations of user_id's cursor(s)",pg_check:"NOT NULL"},time:{type:"timestamp",desc:"time when these cursor positions were sent out"}},indexes:{string_id:["that.r.row('id')(0)"]},user_query:{get:{throttle_changes:1e3,fields:{string_id:null,user_id:null,locs:null,time:null},required_fields:{string_id:!0},check_hook:function(e,t,n,r,i){return e._user_get_query_cursors_check(t,n,r,i)}},set:{fields:{string_id:null,user_id:null,locs:!0,time:!0},required_fields:{string_id:!0,user_id:!0,locs:!0,time:!0},check_hook:function(e,t,n,r,i){return e._user_set_query_cursors_check(t,n,r,i)}}}},r.eval_inputs={primary_key:["string_id","time","user_id"],durability:"soft",unique_writes:!0,pg_indexes:["time"],fields:{string_id:{pg_type:"CHAR(40)",desc:"id of the syncstring that this patch belongs to."},time:{type:"timestamp",desc:"the timestamp of the input"},user_id:{type:"integer",desc:"id index of the user into the syncstrings users array",pg_check:"CHECK (user_id >= 0)"},input:{type:"map",desc:"For example it could be {program:'sage' or 'sh', input:{code:'...', data:'...', preparse:?, event:'execute_code', output_uuid:?, id:....}}"}},user_query:{get:{fields:{string_id:null,time:null,user_id:null,input:null},check_hook:function(e,t,n,r,i){return e._syncstring_access_check(t.string_id,n,r,i)}},set:{fields:{string_id:!0,time:!0,user_id:!0,input:!0},required_fields:{string_id:!0,time:!0,user_id:!0,input:!0},check_hook:function(e,t,n,r,i){return e._syncstring_access_check(t.string_id,n,r,i)}}}},r.eval_inputs.project_query=r.eval_inputs.user_query,r.eval_outputs={primary_key:["string_id","time","number"],durability:"soft",pg_indexes:["time"],fields:{string_id:{pg_type:"CHAR(40)",desc:"id of the syncstring that this patch belongs to."},time:{type:"timestamp",desc:"the timestamp of the output"},number:{type:"integer",desc:"output_number starting at 0",pg_check:"CHECK (number >= 0)"},output:{type:"map"}},user_query:{get:{fields:{string_id:null,time:null,number:null,output:null},check_hook:function(e,t,n,r,i){return e._syncstring_access_check(t.string_id,n,r,i)}},set:{fields:{string_id:!0,time:!0,number:!0,output:!0},required_fields:{string_id:!0,time:!0,number:!0,output:!0},check_hook:function(e,t,n,r,i){return e._syncstring_access_check(t.string_id,n,r,i)}}}},r.eval_outputs.project_query=r.eval_outputs.user_query},function(e,exports,t){var n;window.CodeMirror=n=t(2),t(213),t(214),t(462),t(444),t(210),t(387),t(139),t(137),t(445),t(449),t(447),t(448),t(446),t(463),t(461),t(450),t(211),t(452),t(388),t(454),t(451),t(453),t(138),t(455),t(456),t(457),t(458),t(459),t(389),t(460),t(212),t(216),t(467),t(468),t(469),t(87),t(470),t(471),t(472),t(473),t(474),t(475),t(476),t(477),t(478),t(479),t(480),t(481),t(482),t(483),t(106),t(484),t(107),t(485),t(486),t(487),t(488),t(433),t(217),t(490),t(491),t(492),t(493),t(494),t(495),t(496),t(497),t(498),t(499),t(500),t(501),t(502),t(503),t(504),t(505),t(506),t(507),t(508),t(218),t(509),t(510),t(511),t(512),t(513),t(514),t(515),t(516),t(108),t(517),t(518),t(519),t(466),t(464),t(465),t(437),t(429),t(430),t(438),t(431),t(432),t(435),t(436),t(434),t(386),t(390),t(409),t(412),t(413),t(405),t(398),t(404),t(401),t(402),t(400),t(403),t(393),t(394),t(408),t(397),t(414),t(399),t(391),t(392),t(396),t(395),t(410),t(406),t(407),t(411)},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T=function(e,t){return function(){return e.apply(t,arguments)}},O=function(e,t){function n(){this.constructor=e}for(var r in t)N.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},N={}.hasOwnProperty;i=600,$=window.$,n=t(63).EventEmitter,u=t(31),A=t(64),y=t(9),p=y.defaults,x=y.required,h=t(73).dmp,k=t(19).salvus_client,w=t(12).redux,E=t(353),b=t(30),S=$(".smc-jupyter-templates"),m=$("#salvus-editor-templates"),exports.IPYTHON_SYNCFILE_EXTENSION=r=".sage-jupyter",exports.syncdb_filename=C=function(e){return y.meta_file(e,"jupyter")},M=t(23),a=function(e){function n(e,t,n,r,i,o,s){var a,l,c;this.element=e,this.server_url=t,this.filename=n,this.read_only=r,this.project_id=i,this._update_cells_with_blob=T(this._update_cells_with_blob,this),this.load_blob=T(this.load_blob,this),this.save_blob=T(this.save_blob,this),this.cell_to_line=T(this.cell_to_line,this),this.line_to_cell=T(this.line_to_cell,this),this.get=T(this.get,this),this.insert_cell=T(this.insert_cell,this),this.delete_cell=T(this.delete_cell,this),this.mutate_cell=T(this.mutate_cell,this),this.init_cursor=T(this.init_cursor,this),this.draw_other_cursors=T(this.draw_other_cursors,this),this.init_cell_cursor=T(this.init_cell_cursor,this),this.set_cell=T(this.set_cell,this),this.set=T(this.set,this),this.get0=T(this.get0,this),this.set_all_cells_read_only=T(this.set_all_cells_read_only,this),this.set0=T(this.set0,this),this.check_dirty=T(this.check_dirty,this),this.font_size_set=T(this.font_size_set,this),this.monkey_patch_methods=T(this.monkey_patch_methods,this),this.monkey_patch_read_only=T(this.monkey_patch_read_only,this),this.monkey_patch_logo=T(this.monkey_patch_logo,this),this.monkey_patch_ui=T(this.monkey_patch_ui,this),this.install_custom_undo_redo=T(this.install_custom_undo_redo,this),this.remove_modal_backdrop=T(this.remove_modal_backdrop,this),this.monkey_patch_frame=T(this.monkey_patch_frame,this),this.disable_autosave=T(this.disable_autosave,this),this.save=T(this.save,this),this.close=T(this.close,this),this.refresh=T(this.refresh,this),this.dbg=T(this.dbg,this),this.blobs={},this.blobs_pending={},this.state="loading",this.iframe_uuid=y.uuid(),this.iframe=$("<iframe name="+this.iframe_uuid+" id="+this.iframe_uuid+" style='position:fixed'>").attr("src",""+this.server_url+y.encode_path(this.filename)).attr("frameborder","0").attr("scrolling","no").hide(),$("body").append(this.iframe),c=new Date,l=1e3*o,(a=function(e){return function(){var t,n,r,i,o,u,d,p,h,f;if(null==e.frame&&(e.frame=window.frames[e.iframe_uuid]),!e.frame)return void setTimeout(a,250);try{e.frame.require("notebook/js/outputarea").OutputArea.prototype._should_scroll=function(){}}catch(e){}return t=null!=(n=e.frame)&&null!=(r=n.document)&&null!=(i=r.body)?i.innerHTML:void 0,new Date-c>=l?(e.state="error",e.error="timeout loading",console.log("Jupyter -- timeout loading"),s(e.error)):(null!=(null!=(o=e.frame)&&null!=(u=o.IPython)?u.notebook:void 0)&&e.monkey_patch_frame(),(null!=(d=e.frame)&&null!=(p=d.IPython)&&null!=(h=p.notebook)&&null!=(f=h.kernel)?f.is_connected():void 0)&&e.frame.IPython.notebook._fully_loaded?(e.nb=e.frame.IPython.notebook,e.read_only||e.nb.writable||(e.read_only=!0),e.read_only?(e.nb.kernel.stop_channels(),e.set_all_cells_read_only()):(e.dirty_interval=setInterval(e.check_dirty,250),e.nb.events.on("spec_changed.Kernel",function(){return e.nb.dirty=!0}),e.init_cursor()),e.disable_autosave(),e.remove_modal_backdrop(),e.state="ready",e.emit("ready"),s()):(console.log("Jupyter -- not yet fully connected"),"closed"!==e.state?setTimeout(a,1e3):void 0))}}(this))()}return O(n,e),n.prototype.dbg=function(e){return function(t){return k.dbg("JupyterWrapper."+e+":")(y.to_json(t))}},n.prototype.refresh=function(){return this.element.is(":visible")?(this.iframe.show(),this.iframe.exactly_cover(this.element)):this.iframe.hide()},n.prototype.close=function(){if("closed"!==this.state)return null!=this.dirty_interval&&(clearInterval(this.dirty_interval),delete this.dirty_interval),this.element.html(""),this.iframe.remove(),this.removeAllListeners(),delete this.blobs,delete this.blobs_pending,this.state="closed"},n.prototype.save=function(e){var t;return null!=(t=this.nb)?t.save_notebook(!1).then(e):void 0},n.prototype.disable_autosave=function(){return this.nb.set_autosave_interval(0)},n.prototype.monkey_patch_frame=function(){if(!this._already_monkey_patched&&null!=this.frame&&null!=this.frame.window&&null!=this.frame.CodeMirror)return this._already_monkey_patched=!0,b.cm_define_diffApply_extension(this.frame.CodeMirror),b.cm_define_testbot(this.frame.CodeMirror),this.monkey_patch_logo(),this.read_only&&this.monkey_patch_read_only(),this.monkey_patch_ui(),this.monkey_patch_methods(),this.frame.window.onbeforeunload=null,this.iframe.contents().find("body").on("click mousemove keydown focusin",k.idle_reset)},n.prototype.remove_modal_backdrop=function(){return this.frame.jQuery(".modal-backdrop").remove()},n.prototype.install_custom_undo_redo=function(e,t){return this.frame.CodeMirror.prototype.undo=e,this.frame.CodeMirror.prototype.redo=t},n.prototype.monkey_patch_ui=function(){var e,n,r,i,o,s;if(null!=this.frame&&null!=(null!=(i=this.iframe)&&null!=(o=i[0])?o.contentWindow:void 0)){for(this.frame.$("#notebook_name").unbind("click").css("line-height","0em"),s=["new","open","copy","rename"],n=0,r=s.length;n<r;n++)e=s[n],this.frame.$("#"+e+"_notebook").hide();return this.frame.$("#save_checkpoint").hide(),this.frame.$("#restore_checkpoint").hide(),this.frame.$("#save-notbook").hide(),this.frame.$("#save-notebook").hide(),this.frame.$(".checkpoint_status").hide(),this.frame.$(".autosave_status").hide(),this.frame.$("#menus").find("li:first").find(".divider").hide(),this.frame.$("<style type=text/css></style>").html(".container{width:98%; margin-left: 0;}").appendTo(this.frame.$("body")),t(49).IS_MOBILE||this.frame.$("#site").css("padding-left","20px"),this.read_only?void 0:$(this.iframe[0].contentWindow.document).keydown(function(e){return function(t){if((t.ctrlKey||t.metaKey||t.altKey)&&83===t.keyCode)return e.emit("save"),t.preventDefault(),t.stopPropagation(),!1}}(this))}},n.prototype.monkey_patch_logo=function(){return this.frame.$("#ipython_notebook").find("a").click(function(e){return function(){return e.emit("info"),!1}}(this))},n.prototype.monkey_patch_read_only=function(){return $(this.frame.document).find("#menubar").hide(),$(this.frame.document).find("#maintoolbar").hide(),$(this.frame.document).find(".current_kernel_logo").hide()},n.prototype.monkey_patch_methods=function(){var e;return e=this.frame.require("notebook/js/notebook").Notebook,e.prototype.smc_move_selection_down=e.prototype.move_selection_down,e.prototype.move_selection_down=function(){return this.smc_move_selection_down(),this.dirty=!0},e.prototype.smc_move_selection_up=e.prototype.move_selection_up,e.prototype.move_selection_up=function(){return this.smc_move_selection_up(),this.dirty=!0},this.frame.require("notebook/js/outputarea").OutputArea.prototype._should_scroll=function(){}},n.prototype.font_size_set=function(e){return 0===this.frame.$(".smc-override").length&&this.frame.$('<style type="text/css" class="smc-override"></style>').appendTo(this.frame.$("body")),this.frame.$(".smc-override").html("#notebook       { font-size: "+e+"px !important; }\n.CodeMirror pre { font-size: "+e+"px !important; }\ndiv#pager       { font-size: "+e+"px !important; }")},n.prototype.check_dirty=function(){if(this.nb.dirty&&"clean"!==this.nb.dirty)return this.nb.dirty="clean",this.emit("change")},n.prototype.set0=function(e){if(e={content:e,name:this.nb.notebook_name,path:this.nb.notebook_path},this.nb.fromJSON(e),this.read_only)return this.set_all_cells_read_only()},n.prototype.set_all_cells_read_only=function(){var e,t,n,r;for(r=[],e=t=0,n=this.nb.ncells();0<=n?t<n:t>n;e=0<=n?++t:--t)r.push(this.nb.get_cell(e).code_mirror.setOption("readOnly",!0));return r},n.prototype.get0=function(){return this.nb.toJSON()},n.prototype.set=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,f,m,_,g,v,b,w,x,k,C,E,S,j,T,O,N,I,D,L;if("ready"!==this.state)throw Error("state must be ready");if("string"!=typeof e)throw Error("BUG -- set: doc must be of type string");if(w=!1,i=e.split("\n"),p=this.get().split("\n"),_="",!this.read_only)try{f=JSON.parse(i[0]),c=JSON.parse(p[0]),M.isEqual(null!=f?f.kernelspec:void 0,c.kernelspec)?_+=p[0]:(S=null!=f?f.kernelspec:void 0,null!=S&&"string"==typeof S.name&&"string"==typeof S.language&&"string"==typeof S.display_name?(this.nb.kernel_selector.set_kernel(S),_+=i[0]):_+=p[0])}catch(e){r=e,console.warn("Error parsing metadata line: '"+i[0]+"', "+r),f=p[0],_+=p[0],w=!0}for(T=p.slice(1),N=i.slice(1),j=new y.StringCharMapping,O=j.to_string(T),I=j.to_string(N),n=h.diff_main(O,I),s=0,o=0;o<n.length;){if(t=n[o],b=t[0],D=t[1],0===b)s+=D.length;else if(b===-1)if(o<n.length-1&&1===n[o+1][0]&&n[o+1][1].length===D.length){for(k=n[o+1][1],l=0,u=k.length;l<u;l++){L=k[l],v=void 0;try{v=this.line_to_cell(j._to_string[L])}catch(e){r=e,console.warn("failed to parse '"+y.trunc(j._to_string[L],300)+"'. "+r),w=!0}null!=v&&this.mutate_cell(s,v),m=this.cell_to_line(this.nb.get_cell(s),!1),_+="\n"+m,s+=1}o+=1}else for(a=g=0,C=D.length;0<=C?g<C:g>C;a=0<=C?++g:--g)this.delete_cell(s);else if(1===b)for(x=0,d=D.length;x<d;x++){L=D[x],v=void 0;try{v=this.line_to_cell(j._to_string[L])}catch(e){r=e,console.warn("failed to parse '"+j._to_string[L]+"'. "+r),w=!0}null!=v&&(this.insert_cell(s,v),m=A(this.nb.get_cell(s).toJSON()),_+="\n"+m,s+=1)}else console.warn("BUG -- invalid diff!",n);o+=1}if(!this.read_only)return E=this.get(),{live:E,parse_errors:w}},n.prototype.set_cell=function(e,t){var n,r,i,o;return i=this.dbg("set_cell"),i(e,t),n=this.nb.get_cell(e),r=n.code_mirror,d(r,t.source),o=this.nb.insert_cell_at_index(t.cell_type,e),o.fromJSON(t),n.code_mirror=o.code_mirror,o.code_mirror=r,this.nb.delete_cell(e+1)},n.prototype.init_cell_cursor=function(e,t){var n;if(!this.read_only&&e._smc_init_cell_cursor!==t)return null!=e._smc_init_cell_cursor&&e._smc_init_cell_cursor!==t?void(e._smc_init_cell_cursor=t):(null!=(n=e.code_mirror)&&n.on("cursorActivity",function(t){return function(n){var r;if(!n._setValueNoJump)return t.emit("cursor",function(){var t,i,o,s;for(o=n.listSelections(),s=[],t=0,i=o.length;t<i;t++)r=o[t],s.push({x:r.anchor.ch,y:r.anchor.line,i:e._smc_init_cell_cursor});return s}())}}(this)),e._smc_init_cell_cursor=t)},n.prototype.draw_other_cursors=function(e,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,b;for(null==this._cursors&&(this._cursors={}),null==this._users&&(this._users=w.getStore("users")),b=this._cursors[e],null==b&&(b=this._cursors[e]=[]),h=y.enumerate(t),a=0,l=h.length;a<l;a++)f=h[a],o=f[0],c=f[1],p={line:c.y,ch:c.x},s=c.i,i=b[o],u=y.trunc(this._users.get_first_name(e),10),n=this._users.get_color(e),null==i&&(r=S.find(".smc-jupyter-cursor").clone().show(),r.css({"z-index":5}),r.find(".smc-jupyter-cursor-label").css({top:"-1.8em","padding-left":".5ex","padding-right":".5ex",left:".9ex","padding-top":".6ex",position:"absolute",width:"16ex"}),r.find(".smc-jupyter-cursor-inside").css({top:"-1.2em",left:".9ex",position:"absolute"}),i=b[o]={cursor:r}),u!==i.name&&(i.cursor.find(".smc-jupyter-cursor-label").text(u),i.name=u),n!==i.color&&(i.cursor.find(".smc-jupyter-cursor-inside").css({"border-left":"1px solid "+n}),i.cursor.find(".smc-jupyter-cursor-label").css({background:n}),i.color=n),null!=(m=this.nb.get_cell(s))&&null!=(_=m.code_mirror)&&_.addWidget(p,i.cursor[0],!1),i.cursor.find(".smc-jupyter-cursor-label").stop().animate({opacity:1}).show().fadeOut({duration:6e3}),i.cursor.find(".smc-jupyter-cursor-inside").stop().animate({opacity:1}).show().fadeOut({duration:2e4});if(b.length>t.length){for(o=d=g=t.length,v=b.length;g<=v?d<v:d>v;o=g<=v?++d:--d)b[o].cursor.remove();return this._cursors[e]=b.slice(0,t.length)}},n.prototype.init_cursor=function(){var e,t,n,r,i,o;for(t=0,i=this.nb.get_cells(),o=[],n=0,r=i.length;n<r;n++)e=i[n],this.init_cell_cursor(e,t),o.push(t+=1);return o},n.prototype.mutate_cell=function(e,t){var n,r,i,o,s,a,l,c;if(n=this.nb.get_cell(e),i=n.toJSON(),r=!1,n.cell_type!==t.cell_type)switch(t.cell_type){case"markdown":this.nb.to_markdown(e);break;case"code":this.nb.to_code(e);break;case"raw":this.nb.to_raw(e);break;case"heading":this.nb.to_heading(e)}return null!=n.code_mirror&&i.source!==t.source&&(d(n.code_mirror,t.source),n.auto_highlight()),null!=n.set_input_prompt&&i.execution_count!==t.execution_count&&n.set_input_prompt(null!=(o=t.execution_count)?o:"*"),null==n.output_area||M.isEqual(i.outputs,t.outputs)&&M.isEqual(i.metadata,t.metadata)||(n.output_area.clear_output(!1,!0),n.output_area.trusted=!!t.metadata.trusted,n.output_area.fromJSON(null!=(s=t.outputs)?s:[],t.metadata)),"markdown"===n.cell_type&&n.rendered&&(r=!0),null==(null!=(a=t.metadata)?a.slideshow:void 0)||M.isEqual(i.metadata.slideshow,t.metadata.slideshow)||(c=n.element.find(".celltoolbar select"),c.val(t.metadata.slideshow.slide_type),n.metadata.slideshow=null!=(l=t.metadata)?l.slideshow:void 0),r&&(n.rendered=!1,n.render()),this.init_cell_cursor(n,e)},n.prototype.delete_cell=function(e){return this.nb._unsafe_delete_cell(e)},n.prototype.insert_cell=function(e,t){var n;if(n=this.nb.insert_cell_at_index(t.cell_type,e),this.mutate_cell(e,t),this.read_only)return n.code_mirror.setOption("readOnly",!0)},n.prototype.get=function(e){var t,n,r,i,o;for(n=A(this.nb.metadata),o=this.nb.get_cells(),r=0,i=o.length;r<i;r++)t=o[r],n+="\n"+this.cell_to_line(t,e);return n},n.prototype.line_to_cell=function(e){var t,n,r,i,o,s,a,l,c;if(o=JSON.parse(e),"code"===o.cell_type&&null!=o.outputs)for(a=o.outputs,r=0,i=a.length;r<i;r++)if(s=a[r],null!=s.data){l=s.data;for(n in l)c=l[n],v(c)&&(t=this.load_blob(_(c)),null!=t&&(s.data[n]=t))}return o},n.prototype.cell_to_line=function(e,t){var n,r,i,o,s,a,l,c;if(o=e.toJSON(),"code"===o.cell_type&&null!=o.outputs)for(o.outputs=y.deep_copy(o.outputs),a=o.outputs,r=0,i=a.length;r<i;r++)if(s=a[r],null!=s.data){l=s.data;for(n in l)c=l[n],f(c)&&(s.data[n]=j(this.save_blob(c,t)))}return A(o)},n.prototype.save_blob=function(e,t){var n,r;if(null!=this.blobs)return n=y.uuidsha1(e),this.blobs[n]?n:(this.blobs[n]=e,t&&(r={blobs:{id:n,blob:e,project_id:this.project_id}},k.query({query:r,cb:function(e){return function(e,t){if(e)return console.warn("error saving: "+e)}}(this)})),n)},n.prototype.load_blob=function(e){var t;if(null!=this.blobs)return t=this.blobs[e],null!=t?t:(this.blobs_pending[e]=!0,void k.query({query:{blobs:{id:e,blob:null}},cb:function(n){return function(r,i){var o,s;if("closed"!==n.state&&null!=n.blobs)return delete n.blobs_pending[e],r?console.warn("unable to get blob with id "+e):(t=null!=(o=i.query)&&null!=(s=o.blobs)?s.blob:void 0,null!=t?(n.blobs[e]=t,n._update_cells_with_blob(e)):console.warn("no blob with id "+e))}}(this)}))},n.prototype._update_cells_with_blob=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m;for(r=0,f=j(e),d=this.nb.get_cells(),o=0,s=d.length;o<s;o++){if(t=d[o],u=null!=(p=t.output_area)?p.outputs:void 0,null!=u)for(n=!1,l=0,a=u.length;l<a&&(c=u[l],!n);l++)if(null!=c.data){h=c.data;for(i in h)if(m=h[i],m===f){this.mutate_cell(r,this.line_to_cell(this.cell_to_line(t))),n=!0;break}}r+=1}},n}(n),exports.jupyter_notebook=function(e,t,n){return new s(e,t,n).element},s=function(e){function t(e,t,n){var r,i;return this.parent=e,this.filename=t,null==n&&(n={}),this.testbot=T(this.testbot,this),this.exit_undo_mode=T(this.exit_undo_mode,this),this.redo=T(this.redo,this),this.undo=T(this.undo,this),this.font_size_change=T(this.font_size_change,this),this.font_size_init=T(this.font_size_init,this),this.refresh=T(this.refresh,this),this.publish=T(this.publish,this),this.publish_ui=T(this.publish_ui,this),this.nbconvert=T(this.nbconvert,this),this.save=T(this.save,this),this.update_save_state=T(this.update_save_state,this),this.has_unsaved_changes=T(this.has_unsaved_changes,this),this.show_history_viewer=T(this.show_history_viewer,this),this.modern=T(this.modern,this),this.info=T(this.info,this),this.hide=T(this.hide,this),this.show=T(this.show,this),this.syncstring_timestamp=T(this.syncstring_timestamp,this),this.ipynb_timestamp=T(this.ipynb_timestamp,this),this.init_syncstring_change=T(this.init_syncstring_change,this),this.init_dom_change=T(this.init_dom_change,this),this._handle_dom_change=T(this._handle_dom_change,this),this.render_cursor=T(this.render_cursor,this),this.init_dom_events=T(this.init_dom_events,this),this.init_buttons=T(this.init_buttons,this),this.init_dom=T(this.init_dom,this),this.init_syncstring=T(this.init_syncstring,this),this.load=T(this.load,this),this.ensure_nonempty=T(this.ensure_nonempty,this),this.close=T(this.close,this),this.destroy=T(this.destroy,this),this.dbg=T(this.dbg,this),n=this.opts=p(n,{read_only:!1,mode:void 0,default_font_size:14,cb:void 0}),$.browser.firefox?(this.element=$("<div class='alert alert-info' style='margin: 15px;'>Jupyter classic does not work on Firefox; please switch to the modern Jupyter notebook server.</div>"),this.element.data("jupyter_notebook",this),this.modern(),void("function"==typeof n.cb&&n.cb())):(this.project_id=this.parent.project_id,this.editor=this.parent.editor,this.read_only=n.read_only,this.element=S.find(".smc-jupyter-notebook").clone(),this.element.data("jupyter_notebook",this),this._other_cursor_timeout_s=30,this.server_url=window.smc_base_url+"/"+this.project_id+"/port/jupyter/notebooks/",window.smc_base_url.indexOf("/port/")!==-1&&(console.warn("Jupyter: assuming that SMC is being run from a project installed in the ~/smc directory!!"),r=window.smc_base_url.lastIndexOf("/"),this.server_url=window.smc_base_url.slice(0,r)+"/jupyter/notebooks/smc/src/data/projects/"+this.project_id+"/"),i=y.path_split(this.filename),this.path=i.head,this.file=i.tail,this.syncdb_filename=C(this.filename),this.notebook=this.element.find(".smc-jupyter-notebook-notebook"),this.state="init",void this.ensure_nonempty(function(e){return function(){return e.load(n.cb)}}(this)))}return O(t,e),t.prototype.dbg=function(e){return function(t){return k.dbg("JupyterNotebook."+e+":")(y.to_json(t))}},t.prototype.destroy=function(){return this.close()},t.prototype.close=function(){var e,t;if("closed"!==this.state)return this.removeAllListeners(),null!=(e=this.dom)&&e.close(),delete this.dom,null!=(t=this.syncstring)&&t.close(),delete this.syncstring,this.state="closed"},t.prototype.ensure_nonempty=function(e){return k.exec({command:"smc-jupyter-ensure-nonempty",project_id:this.project_id,path:this.path,args:[this.file],cb:e})},t.prototype.load=function(e){return"init"!==this.state&&"failed"!==this.state?void("function"==typeof e&&e("load BUG: @state must be init or failed")):(this.state="loading",u.parallel([this.init_syncstring,this.init_dom,this.ipynb_timestamp],function(t){return function(n){var r,i;if(t.element.find(".smc-jupyter-startup-message").hide(),t.element.find(".smc-jupyter-notebook-buttons").show(),n||null!=(null!=(i=t.dom)?i.nb:void 0)||(n="failed to properly initialize notebook"),n)t.state="failed";else{if("closed"===t.state)return;t.init_dom_change(),t.init_syncstring_change(),t.init_dom_events(),t.init_buttons(),t.dom.install_custom_undo_redo(t.undo,t.redo),t.font_size_init(),t.state="ready",r=t.read_only||""!==t.syncstring.live()?t.dom.get(!1):t.dom.get(!0),t.read_only||(t.syncstring_timestamp()>t._ipynb_load_timestamp?t.dom.set(t.syncstring.live()):(t.syncstring.live(r),t.syncstring.sync()))}return t.emit(t.state),t.show(),"function"==typeof e?e(n):void 0}}(this)))},t.prototype.init_syncstring=function(e){var t;return t=this.dbg("init_syncstring"),"loading"!==this.state?(t("illegal state"),void e("init_syncfile BUG: @state must be loading")):this.read_only?(t("read only"),void e()):null!=this.syncstring?(t("syncstring already initialized"),void e()):(t("initializing synchronized string '"+this.syncdb_filename+"'"),E.synchronized_string({project_id:this.project_id,filename:this.syncdb_filename,cursors:!0,cb:function(t){return function(n,r){return t.syncstring=r,e(n)}}(this)}))},t.prototype.init_dom=function(e){return"loading"!==this.state?void e("init_dom BUG: @state must be loading"):u.series([function(e){return function(t){return console.log("Jupyter: checking for url to be ready"),y.retry_until_success({f:function(t){return $.ajax({url:e.server_url}).fail(function(){return t(!0)}).done(function(){return t()})},max_time:6e4,cb:t})}}(this),function(e){return function(t){var n;return console.log("Jupyter: loading iframe"),e.notebook.css("opacity",.75),n=function(n){var r;return e.notebook.css("opacity",1),n?(null!=(r=e.dom)&&r.close(),delete e.dom,t(n)):(e.dom.read_only&&(e.read_only=!0),t())},e.dom=new a(e.notebook,e.server_url,e.filename,e.read_only,e.project_id,i,n)}}(this)],e)},t.prototype.init_buttons=function(){if(!this._init_buttons_already_done)return this._init_buttons_already_done=!0,this.element.find('a[href="#info"]').click(this.info),this.element.find('a[href="#modern"]').click(this.modern),this.element.find('a[href="#history"]').click(this.show_history_viewer),this.read_only?this.element.find('a[href="#save"]').addClass("disabled"):this.save_button=this.element.find('a[href="#save"]').click(this.save),this.publish_button=this.element.find('a[href="#publish"]').click(this.publish_ui),this.refresh_button=this.element.find('a[href="#refresh"]').click(this.refresh),this.element.find('a[href="#undo"]').click(this.undo),
this.element.find('a[href="#redo"]').click(this.redo),this.font_size_decr=this.element.find('a[href="#font-size-decrease"]').click(function(e){return function(){return e.font_size_change(-1)}}(this)),this.font_size_incr=this.element.find('a[href="#font-size-increase"]').click(function(e){return function(){return e.font_size_change(1)}}(this))},t.prototype.init_dom_events=function(){if("closed"!==this.state)return this.dom.on("info",this.info),this.read_only?void 0:(this.dom.on("cursor",function(e){return function(t){return e.syncstring._syncstring.set_cursor_locs(t)}}(this)),this.syncstring._syncstring.on("cursor_activity",this.render_cursor),this.dom.on("save",this.save))},t.prototype.render_cursor=function(e){var t,n,r,i,o;if("ready"===this.state&&e!==k.account_id&&(o=null!=(r=this.syncstring._syncstring.get_cursors())?r.get(e):void 0,k.server_time()-(null!=o?o.get("time"):void 0)<=1e3*this._other_cursor_timeout_s&&(n=null!=(i=o.get("locs"))?i.toJS():void 0,null!=n)))try{return this.dom.draw_other_cursors(e,n)}catch(e){t=e}},t.prototype._handle_dom_change=function(){var e;if("ready"===this.state)return e=this.dom.get(!0),this._last_dom=e,this.syncstring.live(e),this.syncstring.sync(function(e){return function(){return e.update_save_state()}}(this))},t.prototype.init_dom_change=function(){var e;if(!this.read_only&&null!=this.dom)return this._last_dom=this.dom.get(),e=function(e){return function(){return e._handle_dom_change()}}(this),this.dom.on("change",M.debounce(e,1500))},t.prototype.init_syncstring_change=function(){var e,t;if(!this.read_only&&"closed"!==this.state)return t=this.syncstring.live(),e=function(e){return function(){var n,r,i,o;if("closed"!==e.state&&"ready"===(null!=(i=e.dom)?i.state:void 0))return r=e.syncstring.live(),t!==r&&(t=r,e.dom.get(!0)!==r&&(n=e.dom.set(r),e._parse_errors=n.parse_errors,e._last_dom=o=n.live,o!==r))?console.warn("Jupyter sync: inconsistency during sync"):void 0}}(this),this.syncstring.on("sync",e),this.syncstring._syncstring.on("before-change",function(e){return function(){if(!e._parse_errors)return e._handle_dom_change()}}(this))},t.prototype.ipynb_timestamp=function(e){return g({project_id:this.project_id,path:this.filename,cb:function(t){return function(n,r){return n?t._ipynb_load_timestamp=0:t._ipynb_load_timestamp=r,e()}}(this)})},t.prototype.syncstring_timestamp=function(){if("ready"!==this.state)throw Error("BUG -- syncstring_timestamp -- state must be ready (but it is '"+this.state+"')");return this.syncstring._syncstring.last_changed()-0},t.prototype.show=function(){var e;return this.element.show(),null!=(e=this.dom)?e.refresh():void 0},t.prototype.hide=function(){var e;return this.element.hide(),null!=(e=this.dom)?e.refresh():void 0},t.prototype.info=function(){var e;return e="<h3><i class='fa fa-question-circle'></i> About <a href='https://jupyter.org/' target='_blank'>Jupyter Notebook</a></h3>",e+="<h4>Enhanced with SageMathCloud Sync</h4>",e+="You are editing this document using the Jupyter Notebook enhanced with realtime synchronization and history logging.",e+="<h4>Use Sage by pasting this into a cell</h4>",e+="<pre>%load_ext sage</pre>",e+="<h4>Pure Jupyter notebooks</h4>",e+="You can <a target='_blank' href='"+this.server_url+this.filename+"'>open this notebook in a vanilla Jupyter Notebook server without sync</a> (this link works only for project collaborators).  ",bootbox.alert(e),!1},t.prototype.modern=function(){var e;return e="<h3><i class='fa fa-exchange'></i> Switch to the Modern Notebook</a></h3>",e+="<br><br>Unfortunately, Jupyter classic does not work on Firefox; please switch back to the modern Jupyter notebook server (or use Google Chrome or Safari).<br><br>The modern Jupyter Notebook has <a href='http://blog.sagemath.com/jupyter/2017/05/05/jupyter-rewrite-for-smc.html' target='_blank'>many improvements</a> over the classical notebook, which you are currently using.  However, certain features are still not fully supported (notably, interactive widgets).  You can try opening your notebooks using the modern notebook.  If it doesn't work for you, you can easily switch to the Classical Jupyter Notebook (please let us know what is missing so we can add it!). NOTE: multiple people simultaneously editing a notebook, with some using classical and some using the new mode, will NOT work well!",e+="<br><hr>",e+="<a href='#jupyter-switch-to-modern-notebook' class='btn btn-warning'>Switch to Modern Notebook</a>",bootbox.alert(e),$("a[href='#jupyter-switch-to-modern-notebook']").click(function(e){return function(){var t;return bootbox.hideAll(),e.save(),t=w.getProjectActions(e.project_id),t.close_file(e.filename),w.getTable("account").set({editor_settings:{jupyter_classic:!1}}),t.open_file({path:e.filename})}}(this)),!1},t.prototype.show_history_viewer=function(){var e;return e=y.history_path(this.filename),w.getProjectActions(this.project_id).open_file({path:e,foreground:!0})},t.prototype.has_unsaved_changes=function(){if("ready"===this.state)return this.syncstring._syncstring.has_unsaved_changes()},t.prototype.update_save_state=function(){if("ready"===this.state)return this.has_unsaved_changes()?this.save_button.removeClass("disabled"):this.save_button.addClass("disabled")},t.prototype.save=function(e){return"ready"!==this.state||null==this.save_button?void("function"==typeof e&&e()):(this.save_button.icon_spin({start:!0,delay:5e3}),u.parallel([this.dom.save,this.syncstring.save],function(t){return function(n){if("ready"===t.state)return t.save_button.icon_spin(!1),t.update_save_state(),"function"==typeof e?e(n):void 0}}(this)))},t.prototype.nbconvert=function(e){return e=p(e,{format:x,cb:void 0}),"ready"!==this.state?void("function"==typeof e.cb&&e.cb("not ready")):k.exec({path:this.path,project_id:this.project_id,command:"sage",args:["-ipython","nbconvert",this.file,"--to="+e.format],bash:!1,err_on_exit:!0,timeout:30,cb:function(t){return function(t,n){return"function"==typeof e.cb?e.cb(t):void 0}}(this)})},t.prototype.publish_ui=function(){var e,t,n;if("ready"===this.state)return n=document.URL,n=n.slice(0,n.length-5)+"html",e=S.find(".smc-jupyter-publish-dialog").clone(),e.modal("show"),e.find(".btn-close").off("click").click(function(){return e.modal("hide"),!1}),t=function(t){return function(t,n){var r;return e.find(".smc-jupyter-publish-status").text(t),r=n+"%",e.find(".progress-bar").css("width",r).text(r)}}(this),this.publish(t,function(t){return function(t){var r;return e.find(".smc-jupyter-publish-dialog-publishing"),t?e.find(".smc-jupyter-publish-dialog-fail").show().find("span").text(t):(e.find(".smc-jupyter-publish-dialog-success").show(),r=e.find(".smc-jupyter-publish-url"),r.val(n),r.click(function(){return $(this).select()}))}}(this))},t.prototype.publish=function(e,t){return"ready"!==this.state?void("function"==typeof t&&t("not ready")):(this.publish_button.find("fa-refresh").show(),u.series([function(t){return function(n){return"function"==typeof e&&e("saving",0),t.save(n)}}(this),function(t){return function(n){return"function"==typeof e&&e("running nbconvert",30),t.nbconvert({format:"html",cb:function(e){return n(e)}})}}(this),function(t){return function(n){var r;return"function"==typeof e&&e("making '"+t.filename+"' public",70),w.getProjectActions(t.project_id).set_public_path(t.filename,"Jupyter notebook "+t.filename),r=t.filename.slice(0,t.filename.length-5)+"html","function"==typeof e&&e("making '"+r+"' public",90),w.getProjectActions(t.project_id).set_public_path(r,"Jupyter html version of "+t.filename),n()}}(this)],function(n){return function(r){return"function"==typeof e&&e("done",100),n.publish_button.find("fa-refresh").hide(),"function"==typeof t?t(r):void 0}}(this)))},t.prototype.refresh=function(e){var t;return null!=(t=this.dom)&&t.close(),delete this.dom,this.state="init",this.load(e)},t.prototype.font_size_init=function(){var e,t,n;return t=null!=(n="function"==typeof(e=this.parent).local_storage?e.local_storage("font_size"):void 0)?n:this.opts.default_font_size,this.dom.font_size_set(t),this.element.data("font_size",t)},t.prototype.font_size_change=function(e){var t;if("ready"===this.state)return t=this.element.data("font_size"),null!=t?(t+=e,this.dom.font_size_set(t),this.parent.local_storage("font_size",t),this.element.data("font_size",t)):void 0},t.prototype.undo=function(){if("ready"===this.state)return this.syncstring.in_undo_mode()?this.dom.get(!0)!==this._last_dom&&(this.exit_undo_mode(),this._handle_dom_change()):this._handle_dom_change(),this.syncstring.undo()},t.prototype.redo=function(){if("ready"===this.state)return this.syncstring.redo()},t.prototype.exit_undo_mode=function(){if("ready"===this.state)return this.syncstring.exit_undo_mode()},t.prototype.testbot=function(e){var t,n,r,i,o,s;return e=p(e,{n:30,delay:1e3,index:null!=(n=null!=(r=this.dom)&&null!=(i=r.nb)?i.get_selected_index():void 0)?n:0}),t=null!=(o=this.dom)&&null!=(s=o.nb)?s.get_cell(e.index):void 0,null==t&&console.warn("no available cell to test"),t.code_mirror.testbot({n:e.n,delay:e.delay,f:this._handle_dom_change})},t}(n),g=function(e){return e=p(e,{project_id:x,path:x,cb:x}),k.exec({project_id:e.project_id,command:"stat",args:["--printf","%Z ",e.path],timeout:15,err_on_exit:!1,cb:function(t){return function(t,n){return t?e.cb(t):n.stderr.indexOf("such file or directory")!==-1?e.cb(void 0,0):e.cb(void 0,1e3*parseInt(n.stdout))}}(this)})},d=function(e,t){var n;return n=e.getOption("readOnly"),n||e.setOption("readOnly",!0),e._setValueNoJump=!0,e.diffApply(h.diff_main(e.getValue(),t)),n||e.setOption("readOnly",!1),delete e._setValueNoJump},exports.jupyter_nbviewer=function(e,t,n,r){var i,s;return i=new o(e,t,n,r),s=i.element,s.data("jupyter_nbviewer",i),s},o=function(){function e(e,t,n,r){this.project_id=e,this.filename=t,this.content=n,this.init_buttons=T(this.init_buttons,this),this.show=T(this.show,this),this.element=S.find(".smc-jupyter-nbviewer").clone(),this.ipynb_filename=this.filename.slice(0,this.filename.length-4)+"ipynb",this.ipynb_html_src=window.smc_base_url+"/"+this.project_id+"/raw/"+this.filename,this.init_buttons()}return e.prototype.show=function(){if(null==this.iframe)return this.iframe=this.element.find(".smc-jupyter-nbviewer-content").find("iframe"),this.iframe.load(function(){var e;return null!=(e=this.iframe)?e.contents().find("body").on("click mousemove keydown focusin",k.idle_reset):void 0}),this.iframe.attr("src",this.ipynb_html_src)},e.prototype.init_buttons=function(){return this.element.find('a[href="#copy"]').click(function(e){return function(){var t;return t=w.getProjectActions(e.project_id),t.set_active_tab("files"),t.set_all_files_unchecked(),t.set_file_checked(e.ipynb_filename,!0),t.set_file_action("copy"),!1}}(this)),this.element.find('a[href="#download"]').click(function(e){return function(){var t;return t=w.getProjectActions(e.project_id),t.set_active_tab("files"),t.set_all_files_unchecked(),t.set_file_checked(e.ipynb_filename,!0),t.set_file_action("download"),!1}}(this))},e}(),l="smc-blob::",c=500,f=function(e){return"string"==typeof e&&e.length>c},v=function(e){var t;return t=l.length,"string"==typeof e&&e.slice(0,t)===l&&y.is_valid_uuid_string(e.slice(t))},j=function(e){return""+l+e},_=function(e){return e.slice(l.length)}},function(e,exports,t){var n,r;n=t(26),r=t(9),exports.positions_between=function(e,t,n){var r,i,o,s,a,l,c;for(e>t&&(a=[t,e],e=a[0],t=a[1]),null==e?null==t?(s=0,r=1):(s=t-n,r=1):null==t?(s=e+1,r=1):(r=(t-e)/(n+1),s=e+r),c=[],i=o=0,l=n;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(s),s+=r;return c},exports.sorted_cell_list=function(e){var t,i;if(null!=e)return t=[],e.forEach(function(e,n){var r;t.push({id:n,pos:null!=(r=e.get("pos"))?r:-1})}),t.sort(r.field_cmp("pos")),t=function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(i.id);return r}(),n.List(t)},exports.ensure_positions_are_unique=function(e){var t,n,r,i;if(null!=e&&(i={},t=!0,e.forEach(function(e,n){var r;return r=e.get("pos"),null==r||i[r]?(t=!1,!1):void(i[r]=!0)}),!t))return r=0,n={},exports.sorted_cell_list(e).forEach(function(e){return function(e){n[e]=r,r+=1}}(this)),n},exports.new_cell_pos=function(e,t,n,r){var i,o,s,a,l;if(null!=e&&null!=n&&null!=r)return null==t&&(t=exports.sorted_cell_list(e)),i=void 0,t.forEach(function(e,o){var s;if(e===n)return s=o+r,s>=0&&s<t.size&&(i=t.get(s)),!1}),o=null!=(l=e.get(i))?l.get("pos"):void 0,s=e.get(n).get("pos"),a=null!=o?(o+s)/2:s+r},exports.move_selected_cells=function(e,t,n){var i,o,s,a,l,c,u,d;if(null!=e&&null!=t&&n&&0!==r.len(t)){for(d=[],i=s=0,c=e.length;0<=c?s<c:s>c;i=0<=c?++s:--s)if(t[e[i]]){if(l=i+n,l<0||l>=e.length)return;d[l]=e[i]}for(o=0,i=a=0,u=e.length;0<=u?a<u:a>u;i=0<=u?++a:--a)if(!t[e[i]]){for(;null!=d[o];)o+=1;d[o]=e[i]}return d}}},function(e,exports,t){var n;n=t(26),exports.cm_options=function(e,t,n){var r;return null==t&&(t={}),null==e&&(e={name:"python"}),r={mode:e,firstLineNumber:t.first_line_number,showTrailingSpace:t.show_trailing_whitespace||"gfm2"===(null!=e?e.name:void 0),indentUnit:t.indent_unit,tabSize:t.tab_size,smartIndent:t.smart_indent,electricChars:t.electric_chars,undoDepth:t.undo_depth,matchBrackets:t.match_brackets,autoCloseBrackets:t.auto_close_brackets,autoCloseTags:t.auto_close_xml_tags,foldGutter:t.code_folding,lineWrapping:!0,readOnly:!1,indentWithTabs:!t.spaces_instead_of_tabs,showCursorWhenSelecting:!0,extraKeys:{}},null!=n&&(r.lineNumbers=n),null!=t.bindings&&"standard"!==t.bindings&&(r.keyMap=t.bindings),null!=t.theme&&"standard"!==t.theme&&(r.theme=t.theme),"ipython"===r.mode.name&&(r.mode.name="python"),r}},function(e,exports){var t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};exports.commands=function(e){var n,r;return null!=e&&(r=e.store,n=function(){return r.get("cur_id")}),{"cell toolbar none":{m:"None",f:function(){return e.cell_toolbar()}},"cell toolbar attachments":{m:"Delete Attachments",f:function(){return e.cell_toolbar("attachments")}},"cell toolbar tags":{m:"Tags",f:function(){return e.cell_toolbar("tags")}},"cell toolbar metadata":{m:"Edit Metadata",f:function(){return e.cell_toolbar("metadata")}},"cell toolbar slideshow":{m:"Slideshow",f:function(){return e.cell_toolbar("slideshow")}},"change cell to code":{m:"Change to Code",k:[{which:89,mode:"escape"}],f:function(){return e.set_selected_cell_type("code")}},"change cell to heading 1":{m:"Heading 1",k:[{which:49,mode:"escape"}],f:function(){return e.change_cell_to_heading(n(),1)}},"change cell to heading 2":{m:"Heading 2",k:[{which:50,mode:"escape"}],f:function(){return e.change_cell_to_heading(n(),2)}},"change cell to heading 3":{m:"Heading 3",k:[{which:51,mode:"escape"}],f:function(){return e.change_cell_to_heading(n(),3)}},"change cell to heading 4":{m:"Heading 4",k:[{which:52,mode:"escape"}],f:function(){return e.change_cell_to_heading(n(),4)}},"change cell to heading 5":{m:"Heading 5",k:[{which:53,mode:"escape"}],f:function(){return e.change_cell_to_heading(n(),5)}},"change cell to heading 6":{m:"Heading 6",k:[{which:54,mode:"escape"}],f:function(){return e.change_cell_to_heading(n(),6)}},"change cell to markdown":{m:"Change to Markdown",k:[{which:77,mode:"escape"}],f:function(){return e.set_selected_cell_type("markdown")}},"change cell to raw":{m:"Change to Raw",k:[{which:82,mode:"escape"}],f:function(){return e.set_selected_cell_type("raw")}},"clear all cells output":{m:"Clear All Output",f:function(){return e.clear_all_outputs()}},"clear cell output":{m:"Clear Output",f:function(){return e.clear_selected_outputs()}},"close and halt":{m:"Close and Halt",f:function(){return e.signal("SIGKILL"),e.file_open(),e.file_action("close_file")}},"close pager":{m:"Close Pager",k:[{which:27,mode:"escape"}],f:function(){if(null!=r.get("introspect"))return e.clear_introspect()}},"confirm restart kernel":{m:"Restart Kernel...",k:[{mode:"escape",which:48,twice:!0}],f:function(){return e.confirm_dialog({title:"Restart kernel?",body:"Do you want to restart the current kernel?  All variables will be lost.",choices:[{title:"Continue Running"},{title:"Restart",style:"danger",default:!0}],cb:function(t){if("Restart"===t)return e.signal("SIGKILL")}})}},"confirm restart kernel and clear output":{m:"Restart and Clear Output...",f:function(){return e.confirm_dialog({title:"Restart kernel and clear all output?",body:"Do you want to restart the current kernel and clear all output?  All variables and outputs will be lost, though most past output is always available in TimeTravel.",choices:[{title:"Continue Running"},{title:"Restart and Clear All Outputs",style:"danger",default:!0}],cb:function(t){if("Restart and Clear All Outputs"===t)return e.signal("SIGKILL"),e.clear_all_outputs()}})}},"confirm restart kernel and run all cells":{m:"Restart and Run All...",f:function(){return e.confirm_dialog({title:"Restart kernel and re-run the whole notebook?",body:"Are you sure you want to restart the current kernel and re-execute the whole notebook?  All variables and output will be lost, though most past output is always available in TimeTravel.",choices:[{title:"Continue Running"},{title:"Restart and Run All Cells",style:"danger",default:!0}],cb:function(t){if("Restart and Run All Cells"===t)return e.signal("SIGKILL"),e.store.wait({until:function(e){return"running"!==e.get("backend_state")},timeout:3,cb:function(t){return e.run_all_cells()}})}})}},"confirm shutdown kernel":{m:"Shutdown Kernel...",f:function(){return e.confirm_dialog({title:"Shutdown kernel?",body:"Do you want to shutdown the current kernel?  All variables will be lost.",choices:[{title:"Continue Running"},{title:"Shutdown",style:"danger",default:!0}],cb:function(t){if("Shutdown"===t)return e.signal("SIGKILL")}})}},"copy cell":{i:"files-o",m:"Copy Cells",k:[{mode:"escape",which:67}],f:function(){return e.copy_selected_cells()}},"copy cell attachments":void 0,"cut cell":{i:"scissors",m:"Cut Cells",k:[{mode:"escape",which:88}],f:function(){return e.cut_selected_cells()}},"cut cell attachments":void 0,"delete cell":{m:"Delete Cells",k:[{mode:"escape",which:68,twice:!0}],f:function(){return e.delete_selected_cells()}},"duplicate notebook":{m:"Make a Copy...",f:function(){return e.file_action("duplicate")}},"edit keyboard shortcuts":{m:"Keyboard Shortcuts and Commands...",f:function(){return e.show_keyboard_shortcuts()}},"enter command mode":{k:[{which:27,mode:"edit"},{ctrl:!0,mode:"edit",which:77},{alt:!0,mode:"edit",which:77}],f:function(){var t;if("escape"===r.get("mode")&&null!=r.get("introspect")&&e.clear_introspect(),"vim"!==r.getIn(["cm_options","options","keyMap"])||"escape"===(null!=(t=r.get("cur_cell_vim_mode"))?t:"escape"))return e.set_mode("escape")}},"enter edit mode":{k:[{which:13,mode:"escape"}],f:function(){return e.set_mode("edit")}},"extend selection above":{k:[{mode:"escape",shift:!0,which:75},{mode:"escape",shift:!0,which:38}],f:function(){return e.extend_selection(-1)}},"extend selection below":{k:[{mode:"escape",shift:!0,which:74},{mode:"escape",shift:!0,which:40}],f:function(){return e.extend_selection(1)}},"find and replace":{m:"Find and Replace",k:[{mode:"escape",which:70},{alt:!0,mode:"escape",which:70}],f:function(){return e.show_find_and_replace()}},"global undo":{m:"Undo",i:"undo",d:"Global user-aware undo.  Undo the last change *you* made to the notebook.",k:[{alt:!0,mode:"escape",which:90},{ctrl:!0,mode:"escape",which:90}],f:function(){return e.undo()}},"global redo":{m:"Redo",i:"repeat",d:"Global user-aware redo.  Redo the last change *you* made to the notebook.",k:[{alt:!0,mode:"escape",which:90,shift:!0},{ctrl:!0,mode:"escape",which:90,shift:!0},{alt:!0,mode:"escape",which:89},{ctrl:!0,mode:"escape",which:89}],f:function(){return e.redo()}},"hide all line numbers":{m:"Hide All Line Numbers",f:function(){return e.set_line_numbers(!1)}},"hide header":{m:"Hide Header",f:function(){return e.set_header_state(!0)}},"hide toolbar":{m:"Hide Toolbar",f:function(){return e.set_toolbar_state(!1)}},ignore:void 0,"insert cell above":{m:"Insert Cell Above",k:[{mode:"escape",which:65}],f:function(){return e.insert_cell(-1)}},"insert cell below":{i:"plus",m:"Insert Cell Below",k:[{mode:"escape",which:66}],f:function(){return e.insert_cell(1)}},"insert image":{m:"Insert Images...",f:function(){return e.insert_image()}},"interrupt kernel":{i:"stop",m:"Interrupt Kernel",k:[{mode:"escape",which:73,twice:!0}],f:function(){return e.signal("SIGINT")}},"merge cell with next cell":{m:"Merge Cell Below",f:function(){return e.merge_cell_below()}},"merge cell with previous cell":{m:"Merge Cell Above",f:function(){return e.merge_cell_above()}},"merge cells":{m:"Merge Selected Cells",k:[{mode:"escape",shift:!0,which:77}],f:function(){return e.merge_cells()}},"merge selected cells":{m:"Merge Selected Cells",f:function(){return e.merge_cells()}},"move cell down":{i:"arrow-down",m:"Move Cell Down",k:[{alt:!0,mode:"escape",which:40}],f:function(){return e.move_selected_cells(1)}},"move cell up":{i:"arrow-up",m:"Move Cell Up",k:[{alt:!0,mode:"escape",which:38}],f:function(){return e.move_selected_cells(-1)}},"move cursor down":{f:function(){return e.move_edit_cursor(1)}},"move cursor up":{f:function(){return e.move_edit_cursor(-1)}},"new notebook":{m:"New...",f:function(){return e.file_new()}},"nbconvert ipynb":{m:"Notebook (.ipynb)...",f:function(){return e.save(),e.file_action("download")}},"nbconvert asciidoc":{m:"AsciiDoc (.asciidoc)...",f:function(){return e.show_nbconvert_dialog("asciidoc")}},"nbconvert python":{m:"Python (.py)...",f:function(){return e.show_nbconvert_dialog("python")}},"nbconvert html":{m:"HTML (.html)...",f:function(){return e.show_nbconvert_dialog("html")}},"nbconvert markdown":{m:"Markdown (.md)...",f:function(){return e.show_nbconvert_dialog("markdown")}},"nbconvert rst":{m:"reST (.rst)...",f:function(){return e.show_nbconvert_dialog("rst")}},"nbconvert slides":{m:"Slides (.slides.html)...",f:function(){return e.show_nbconvert_dialog("slides")}},"nbconvert tex":{m:"LaTeX (.tex)...",f:function(){return e.show_nbconvert_dialog("latex")}},"nbconvert pdf":{m:"PDF via LaTeX (.pdf)...",f:function(){return e.show_nbconvert_dialog("pdf")}},"nbconvert script":{m:"Executable Script (.txt)...",f:function(){return e.show_nbconvert_dialog("script")}},"nbconvert sagews":{m:"Sage Worksheet (.sagews)...",f:function(){return e.show_nbconvert_dialog("sagews")}},"open file":{m:"Open...",f:function(){return e.file_open()}},"paste cell above":{m:"Paste Cells Above",k:[{mode:"escape",shift:!0,which:86},{mode:"escape",shift:!0,ctrl:!0,which:86},{mode:"escape",shift:!0,alt:!0,which:86}],f:function(){return e.paste_cells(-1)}},"paste cell attachments":void 0,"paste cell below":{m:"Paste Cells Below",f:function(){return e.paste_cells(1)}},"paste cell and replace":{i:"clipboard",m:"Paste Cells & Replace",k:[{mode:"escape",alt:!0,which:86},{mode:"escape",which:86},{mode:"escape",ctrl:!0,which:86}],f:function(){var t;return(null!=(t=r.get("sel_ids"))?t.size:void 0)>0?e.paste_cells(0):e.paste_cells(1)}},"print preview":{m:"Print Preview...",f:function(){return e.show_nbconvert_dialog("html")}},"rename notebook":{m:"Rename...",f:function(){return e.file_action("rename")}},"restart kernel":{m:"Restart Kernel",f:function(){return e.signal("SIGKILL")}},"restart kernel and clear output":{m:"Restart Kernel and Clear Output",f:function(){return e.signal("SIGKILL"),e.clear_all_outputs()}},"restart kernel and run all cells":{m:"Restart and Run All",f:function(){return e.signal("SIGKILL"),e.run_all_cells()}},"run all cells":{m:"Run All",f:function(){return e.run_all_cells()}},"run all cells above":{m:"Run All Above",f:function(){return e.run_all_above()}},"run all cells below":{m:"Run All Below",f:function(){return e.run_all_below()}},"run cell":{m:"Run Cells",k:[{which:13,ctrl:!0}],f:function(){return e.run_selected_cells(),e.set_mode("escape"),e.scroll("cell visible")}},"run cell and insert below":{m:"Run Cells and Insert Below",k:[{which:13,alt:!0}],f:function(){var i,o;return o=r.get_selected_cell_ids_list(),e.move_cursor_after_selected_cells(),e.run_selected_cells(),i=n(),t.call(o,i)>=0?e.insert_cell(1):e.insert_cell(-1),e.set_mode("edit"),e.scroll("cell visible")}},"run cell and select next":{i:"play",m:"Run Cells and Select Below",k:[{which:13,shift:!0}],f:function(){return e.shift_enter_run_selected_cells(),e.scroll("cell visible")}},"save notebook":{m:"Save",k:[{which:83,alt:!0},{which:83,ctrl:!0}],f:function(){return e.save()}},"scroll cell center":{f:function(){return e.scroll("cell center")}},"scroll cell top":{f:function(){return e.scroll("cell top")}},"scroll cell bottom":{f:function(){return e.scroll("cell bottom")}},"scroll cell visible":{f:function(){return e.scroll("cell visible")}},"scroll notebook down":{k:[{mode:"escape",which:32}],f:function(){return e.scroll("list down")}},"scroll notebook up":{k:[{mode:"escape",shift:!0,which:32}],f:function(){return e.scroll("list up")}},"select all cells":{m:"Select All Cells",k:[{alt:!0,mode:"escape",which:65},{ctrl:!0,mode:"escape",which:65}],f:function(){return e.select_all_cells()}},"select next cell":{k:[{which:40,mode:"escape"},{which:74,mode:"escape"}],f:function(){return e.move_cursor(1),e.unselect_all_cells(),e.scroll("cell visible")}},"select previous cell":{k:[{which:38,mode:"escape"},{which:75,mode:"escape"}],f:function(){return e.move_cursor(-1),e.unselect_all_cells(),e.scroll("cell visible")}},"show all line numbers":{m:"Show All Line Numbers",f:function(){return e.set_line_numbers(!0)}},"show command palette":{m:"Show Command Palette...",k:[{alt:!0,mode:"escape",shift:!0,which:80}],f:function(){return e.show_keyboard_shortcuts()}},"show header":{m:"Show Header",f:function(){return e.set_header_state(!1)}},"show keyboard shortcuts":{i:"keyboard-o",m:"Show Keyboard Shortcuts...",k:[{mode:"escape",which:72}],f:function(){return e.show_keyboard_shortcuts()}},"show toolbar":{m:"Show Toolbar",f:function(){return e.set_toolbar_state(!0)}},"shutdown kernel":{m:"Shutdown Kernel",f:function(){return e.signal("SIGKILL")}},"split cell at cursor":{m:"Split Cell",k:[{ctrl:!0,shift:!0,which:189}],f:function(){return e.set_mode("escape"),e.split_current_cell()}},"switch to classical notebook":{m:"Switch to Classical Notebook...",f:function(){return e.switch_to_classical_notebook()}},"time travel":{m:"TimeTravel...",f:function(){return e.show_history_viewer()}},"toggle all cells output collapsed":{m:"Toggle All Collapsed",f:function(){return e.toggle_all_outputs("collapsed")}},"toggle all cells output scrolled":{m:"Toggle All Scrolled",f:function(){return e.toggle_all_outputs("scrolled")}},"toggle all line numbers":{m:"Toggle All Line Numbers",k:[{mode:"escape",shift:!0,which:76}],f:function(){return e.toggle_line_numbers()}},"toggle cell line numbers":{m:"Toggle Cell Line Numbers",k:[{mode:"escape",which:76}],f:function(){return e.toggle_cell_line_numbers(n())}},"toggle cell output collapsed":{m:"Toggle Collapsed",k:[{mode:"escape",which:79}],f:function(){return e.toggle_selected_outputs("collapsed")}},"toggle cell output scrolled":{m:"Toggle Scrolled",k:[{mode:"escape",which:79,shift:!0}],f:function(){return e.toggle_selected_outputs("scrolled")}},"toggle header":{m:"Toggle Header",f:function(){return e.toggle_header()}},"toggle rtl layout":{m:"Toggle RTL Layout"},"toggle toolbar":{m:"Toggle Toolbar",f:function(){return e.toggle_toolbar()}},"trust notebook":{m:"Trust Notebook",f:function(){return e.trust_notebook()}},"undo cell deletion":{m:"Undo Cell Deletion",k:[{mode:"escape",which:90}],f:function(){return e.undo()}},"user interface tour":{m:"User Interface Tour"},"view notebook normal":{m:"Cells (normal)",f:function(){return e.set_view_mode("normal")}},"view notebook json":{m:"Object browser",f:function(){return e.set_view_mode("json")}},"view notebook raw":{m:"Raw .ipynb (file)",f:function(){return e.set_view_mode("raw")}},"zoom in":{m:"Zoom In",k:[{ctrl:!0,shift:!0,which:190}],f:function(){return e.zoom(1)}},"zoom out":{m:"Zoom Out",k:[{ctrl:!0,shift:!0,which:188}],f:function(){return e.zoom(-1)}}}}},function(e,exports,t){var n,r,i,o,s,a,l;s=t(64),l=t(9),n=t(349),o=function(e,t){var n,r,i,o;for(o=["which","ctrl","shift","alt","meta"],r=0,i=o.length;r<i;r++)if(n=o[r],e[n]!==t[n])return!1;return!0},a=void 0,exports.evt_to_obj=r=function(e,t){var n,r,i,s,l;for(s={which:e.which},null!=a&&o(a,e)?(s.twice=!0,a=void 0):a=e,l=["ctrl","shift","alt","meta"],n=0,i=l.length;n<i;n++)r=l[n],e[r+"Key"]&&(s[r]=!0);return null!=t&&(s.mode=t),s},i=function(e,t){return s(r(e,t))},exports.create_key_handler=function(e){var t,r,o,c,u,d,p,h,f,m;f={},t=function(e,n,r){var i,o,a,c;if(null!=e.mode){if(f[s(e)]={name:n,val:r},e.alt)return e=l.copy_without(e,"alt"),e.meta=!0,t(e,n,r)}else for(c=["escape","edit"],i=0,o=c.length;i<o;i++)a=c[i],t(l.merge(e,{mode:a}),n,r)},d=n.commands(e);for(u in d)if(m=d[u],null!=(null!=m?m.k:void 0))for(p=m.k,o=0,c=p.length;o<c;o++)h=p[o],t(h,u,m);return r=function(t){var n,r;if(r=i(t,e.store.get("mode")),n=f[r],null!=n)return a=void 0,n.val.f(),!1}}},function(e,exports){exports.JUPYTER_MIMETYPES=["application/javascript","text/html","text/markdown","text/latex","image/svg+xml","image/png","image/jpeg","application/pdf","text/plain"]},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,_,g,v,y,b,w,x,k=function(e,t){return function(){return e.apply(t,arguments)}},A=function(e,t){function n(){this.constructor=e}for(var r in t)C.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},C={}.hasOwnProperty,E=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};for(s=t(23),a=t(31),f=t(9),x=t(19).salvus_client,y=t(12).redux,v=t(189).project_tasks,h=t(86),i=function(){function e(e,t,n){this.editor=e,this.output_file=t,this.opts=n,this.project_id=this.editor.project_id}return e.supported=[],e.prototype.print=function(e){return console.error("printing: Printer.print method needs to be subclassed")},e.prototype.show_print_new_tab=function(e){return v(this.project_id).file_nonzero_size({path:this.output_file,cb:function(t){return function(n){return n?"function"==typeof e?e("Generated file for printing does not exist."):void 0:(y.getProjectActions(t.project_id).download_file({path:t.output_file,print:!0}),"function"==typeof e?e():void 0)}}(this)})},e}(),r=function(e){function t(){return this.convert_to_pdf=k(this.convert_to_pdf,this),this.print=k(this.print,this),t.__super__.constructor.apply(this,arguments)}return A(t,e),t.supported=["md","html","htm","rst","wiki","mediawiki","txt"],t.prototype.print=function(e){return this.convert_to_pdf(function(t){return function(n){return n?"function"==typeof e?e(n):void 0:t.show_print_new_tab(e)}}(this))},t.prototype.convert_to_pdf=function(e){var n,r,i,o,s,l,c,u;return s=f.path_split(this.editor.filename),l=f.path_split(this.output_file),u=this.editor.ext,E.call(t.supported,u)>=0?(i="pandoc",n=["--latex-engine=xelatex"],n=n.concat([s.tail,"-o",l.tail]),r=!1):e("'*."+this.editor.ext+"' files are currently not supported."),c=void 0,o=this.editor,a.series([function(e){return function(e){return o.save(e)}}(this),function(e){return function(e){return x.exec({project_id:o.project_id,command:i,args:n,err_on_exit:!0,bash:r,path:s.head,cb:function(t,n){return t?e(t):(c=n,e())}})}}(this)],function(t){return function(t){return t?"function"==typeof e?e(t):void 0:"function"==typeof e?e(void 0,c):void 0}}(this))},t}(i),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return A(t,e),t.supported=["tex"],t.prototype.print=function(){return this.show_print_new_tab()},t}(i),o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return A(n,e),n.supported=["sagews"],n.prototype.print=function(e,n){var r,i,o,s;s=f.filename_extension(this.output_file).toLowerCase();try{switch(s){case"pdf":return x.print_to_pdf(e);case"html":return this.html(e,n)}}catch(n){return r=n,i="Exception trying to print to "+s+" -- "+r,console.error(i,r),console.trace(),
o=t(354).reportException,o(r,null,"warning","SagewPrinter.print: "+i),e(i)}},n.prototype.generate_html=function(e){var n,r,i,o,a,l,c;return null==this._html_tmpl&&(n=t(803).MathJaxConfig,n=s.clone(n),n.skipStartupTypeset=!1,n.showProcessingMessages=!0,null==n.CommonHTML&&(n.CommonHTML={}),n.CommonHTML.scale=80,null==n["HTML-CSS"]&&(n["HTML-CSS"]={}),n["HTML-CSS"].scale=80,r=null!=(a=y.getStore("customize").site_name)?a:"SageMathCloud","undefined"!=typeof window&&null!==window?(o=window.location,i=t(129).join,c=o.protocol+"//"+i(o.hostname,null!=(l=window.smc_base_url)?l:"")):c="https://cloud.sagemath.com/",this._html_tmpl='<!doctype html>\n<html lang="en">\n<head>\n    <meta charset="utf-8">\n\n    <title>'+e.title+'</title>\n    <meta name="description" content="automatically generated from \''+e.project_id+":"+e.filename+'\' on SageMathCloud">\n    <meta name="date" content="'+e.timestamp+'">\n    <meta data-name="smc-generated" content="version:2">\n\n    <style>\n        html {\n            font-family: sans-serif;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 0; padding: 0;\n        }\n        body {\n            width: 50rem;\n            counter-reset: line;\n            padding: .5rem;\n        }\n        @media print {\n          body { width: 100%; margin: 1rem 1rem 1rem 6rem; font-size: 10pt; }\n        }\n        pre { margin: 0; }\n        div.output + pre.input { margin-top: 1rem; }\n        div.output {\n            border-left: .2rem solid #33a;\n            padding: .3rem;\n            margin-left: -.5rem;\n            line-height: 1.5;\n        }\n        div.output img {\n            max-width: 70%;\n            width: auto;\n            height: auto;\n        }\n        div.output.stdout,\n        div.output.stderr,\n        div.output.javascript { font-family: monospace; white-space: pre-wrap; }\n        div.output.stderr { color: #F00; border-color: #F33; }\n\n        span.sagews-output-image > img,\n        span.sagews-output-html > img\n        { vertical-align: top; }\n\n        pre.input {\n            border-left: .2rem solid #3a3;\n            padding: .5rem;\n            margin-left: -.5rem;\n        }\n        pre.input > code {\n            display: block;\n            line-height: 1.1rem;\n        }\n        pre.input > code:before {\n            margin-left: -3rem;\n            counter-increment: line;\n            content: counter(line);\n            display: inline-block;\n            padding: 0 .3rem 0 0;\n            margin-right: .5rem;\n            color: #888;\n            min-width: 2rem;\n            text-align: right;\n            user-select: none;\n        }\n        div.header { margin-bottom: 1rem; }\n        table.header td { border: 0; }\n        table.header tr>td:nth-child(2) {\n            font-weight: bold;\n            font-family: monospace;\n        }\n        table {\n            border-spacing: 0;\n            border-collapse: collapse;\n            margin-top: .5rem;\n            margin-bottom: .5rem;\n            border-color: #888;\n        }\n        table td, table th {\n            padding: .5rem;\n        }\n        table tr>td {\n            vertical-align: top;\n            border-top: .05rem solid #888;\n        }\n        table tr>th {\n            vertical-align: bottom;\n            border-bottom: .1rem solid #888;\n        }\n        footer {\n            margin-top: 1rem;\n            border-top: .1rem solid #888;\n            font-size: 70%;\n            color: #888;\n            text-align: center;\n        }\n    </style>\n\n\n    <!-- the styling of the highlighted code; should be printer friendly -->\n    <style>\n        .cm-keyword { font-weight: bold; color: #339; }\n        .cm-atom { color: #666; }\n        .cm-number { color: #333; }\n        .cm-def { color: #333; font-weight: bold; }\n        .cm-variable { color: black; }\n        .cm-variable-2 { color:black; }\n        .cm-variable-3 { color: black; }\n        .cm-property { color: black; }\n        .cm-operator { color: black; font-weight: bold; }\n        .cm-comment { color: #777; }\n        .cm-string { color: #333; }\n        .cm-meta { color: #039; }\n        .cm-qualifier { color: #666; }\n        .cm-builtin { color: #393; font-weight: bold; }\n        .cm-bracket { color: #666; }\n        .cm-tag { color: #444; font-weight: bold; }\n        .cm-attribute { color: #777; }\n        .cm-error { color: #000; }\n        .cm-header { font-weight: bold; }\n        .cm-header-1 { font-size: 1.2rem; }\n        .cm-header-2 { font-size: 1.15rem; }\n        .cm-header-3 { font-size: 1.12rem; }\n        .cm-header-4 { font-size: 1.1rem; }\n        .cm-header-5 { font-size: 1rem; }\n        .cm-em { font-style: italic; }\n        .cm-strong { font-weight: bold; }\n    </style>\n\n    <script type="text/javascript">window.MathJax = '+f.to_json(n)+';</script>\n    <script type="text/javascript" async\n        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML">\n    </script>\n</head>\n\n<body>\n<div class="header">\n    <h1>'+e.title+'</h1>\n    <table class="header">\n    <tr><td>Author</td><td>'+e.author+"</td></tr>\n    <tr><td>Date</td><td>"+e.timestamp+"</td></tr>\n    <tr><td>Project</td><td>"+e.project_id+'</td></tr>\n    <tr><td>Location</td><td><a href="'+e.file_url+'">'+e.filename+'</a></td></tr>\n    <tr><td>Original file</td><td><a href="'+e.sagews_data+'" download="'+e.basename+'">'+e.basename+'</td></tr>\n    <script type="text/javascript">\n    var is_chrome = navigator.userAgent.indexOf(\'Chrome\') > -1;\n    var is_safari = navigator.userAgent.indexOf("Safari") > -1;\n    if (is_safari && !is_chrome) {\n        document.write("<tr><td colspan=\'2\'>(when downloading, rename file to '+e.basename+')</td></tr>");\n    }\n    </script>\n    </table>\n</div>\n'+e.content+"\n<footer>\n    <div>generated "+e.timestamp+' on\n    <a href="'+c+'">'+r+"</a>\n    </div>\n</footer>\n</body>\n</html>"),this._html_tmpl},n.prototype.html_process_output_mesg=function(e,t){var n,r,i,o,s,a,l,c,u,d,p,m,_,g,v,y,b,w,x;if(g=null,null!=e.stdout)g="<div class='output stdout'>"+e.stdout+"</div>";else if(null!=e.stderr)g="<div class='output stderr'>"+e.stderr+"</div>";else if(null!=e.html)r=$("<div>"+e.html+"</div>"),this.editor.syncdoc.process_html_output(r),g="<div class='output html'>"+r.html()+"</div>";else if(null!=e.md)x=h.markdown_to_html(e.md),o=$("<div>"),o.html_noscript(x.s),this.editor.syncdoc.process_html_output(o),g="<div class='output md'>"+o.html()+"</div>";else if(null!=e.interact)g="<div class='output interact'>"+t.widgetNode.innerHTML+"</div>";else if(null!=e.file){if(null==(v=e.file.show)||v)if(u=f.filename_extension(e.file.filename).toLowerCase(),"sage3d"===u)for(y=$(t.replacedWith).find(".salvus-3d-container"),d=0,m=y.length;d<m;d++)c=y[d],n=$(c),w=n.data("salvus-threejs"),null!=w&&(w.set_static_renderer(),l=w.static_image,null==g&&(g=""),g+="<div class='output sage3d'><img src='"+l+"'></div>");else if("webm"===u)null==g&&(g=""),g+="<video src='"+e.file.url+"' class='sagews-output-video' controls></video>";else if(!this._output_ids[t.id]){for(this._output_ids[t.id]=!0,i=$(t.widgetNode),b=i.find(".sagews-output-image"),p=0,_=b.length;p<_;p++)c=b[p],null==g&&(g=""),g+=c.innerHTML;g="<div class='output image'>"+g+"</div>"}}else null!=e.code?(a=e.code.source,g="<pre><code>"+a+"</code></pre>"):null!=e.javascript?(s=$(t.replacedWith),s.find(".sagews-output-container").remove(),g="<div class='output javascript'>"+s.html()+"</div>"):null!=e.done||console.warn("ignored mesg",e);return this.html_post_process(g)},n.prototype.html_post_process=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,m,_;if(null==e)return e;if(t=$("<div>").html(e),!this._title)for(d=["h1","h2","h3"],a=0,c=d.length;a<c;a++)if(_=d[a],n=t.find(_+":first"),n.length>0){this._title=n.text();break}for(p=t.find("img"),l=0,u=p.length;l<u;l++)if(s=p[l],!s.src.startsWith("data:")){if(r=document.createElement("canvas"),m=null!=(h=s.getAttribute("smc-image-scaling"))?h:1,r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0),s.width=m*s.width,s.height=m*s.height,o=f.filename_extension(s.src).toLowerCase(),o=o.split("?")[0],o="jpg"===o?"jpeg":o,"svg"===o)o="svg+xml";else if("png"!==o&&"jpeg"!==o){console.warn("printing sagews2html image file extension of '"+s.src+"' not supported");continue}try{s.src=r.toDataURL("image/"+o)}catch(e){i=e,console.info('ignoring CORS error regarding reading the image content via "toDataURL"');continue}}return t.html()},n.prototype.html=function(e,n){var r,i,o,l,c,u,d,p,h,_,g,b,w,k,A,C,E,S,j,M;return i=t(103).MARKERS,o=[],_="",this._title=null,this._output_ids={},u=this.editor.codemirror,null==n&&(n=s.noop),M=t(40).sagews_decorator_modes,c=s.object(M),g=[],w=null,b="python",l=function(e){var t;return null!=(t=c[e])?t:b},d=function(e){var t,n;if(e=e.trim(),e.startsWith("%")){if(t=e.indexOf("%default_mode"),t>=0)return b=l(e.slice(t).split(/\s+/)[1]);if(n=e.split(" ")[0].slice(1),s.has(c,n))return w=l(n)}},E=function(e){var t,n;return d(e),t=document.createElement("code"),n=null!=w?w:b,CodeMirror.runMode(e,n,t),t.outerHTML},k=function(e){return function(e){var t;for(null==e&&(e=!1);e&&g.length>0&&(t=g[g.length-1],0===t.length);)g.pop();return g.length>0&&(g=g.map(E).join(""),o.push("<pre class='input'>"+g+"</pre>")),g=[],w=null}}(this),A={stdout:""},C=function(e){return function(){var t;if(A.stdout.length>0)return t=e.html_process_output_mesg(A),null!=t&&o.push(t),A={stdout:""}}}(this),S=function(e){return function(t){var r,s,a,l,c,d,p,h,v,y,b,w,x,E;for(d=0,p=u.lineCount();d<p;){if(n(.1+.8*d/p,"Converting line "+d),E=u.getLine(d),v=u.findMarks({line:d,ch:0},{line:d,ch:E.length}),null==v||0===v.length)g.push(E);else switch(k(),h=v[0],E[0]){case i.cell:break;case i.output:for(x=h.rendered.split(i.output),l=0,c=x.length;l<c;l++)if(b=x[l],0!==b.length){try{y=f.from_json(b)}catch(e){r=e,console.warn("invalid output message '"+m+"' in line '"+d+"'");continue}null!=y.stdout?A.stdout+=y.stdout:(C(),w=e.html_process_output_mesg(y,h),null!=w&&o.push(w))}}C(),d++}return k(s=!0),_=function(){var e,t,n;for(n=[],e=0,t=o.length;e<t;e++)a=o[e],n.push(a);return n}().join("\n"),t()}}(this),j=function(e){return function(t){var n,r,i;return r=x.read_file_from_project({project_id:e.editor.project_id,path:e.editor.filename}),n=null,i=function(e){return $.get(r).done(function(t){var r;return r=window.btoa(window.unescape(encodeURIComponent(t))),n="data:application/octet-stream;base64,"+r,e(null)}).fail(function(){return e(!0)})},f.retry_until_success({f:i,max_time:6e4,cb:function(e){return t(e,n)}})}}(this),r=null,p=function(e){return function(e){var t,i,o,s,l;return r=$("<div>"+_+"</div>"),o=function(){var e,t,n,o;for(n=r.find("video"),o=[],e=0,t=n.length;e<t;e++)i=n[e],o.push(i);return o}(),s=0,l=o.length,t=function(e,t){var r;return s+=1,n(.4+.5*(s/l),"video "+s+"/"+l),r=new XMLHttpRequest,r.open("GET",e.src),r.responseType="blob",r.onreadystatechange=function(){var n,r;if(4===this.readyState)return 200===this.status?(n=this.response,r=new FileReader,r.addEventListener("load",function(){return e.src=r.result,t(null)}),r.readAsDataURL(n)):t("Error embedding video: HTTP status "+this.status)},r.send()},a.mapLimit(o,2,t,function(t,n){return _=r.html(),e(t)})}}(this),h=function(t){return function(r,i){var o,s,a,l;return s=i[0],r?void("function"==typeof e&&e(r)):null==s?void("function"==typeof e&&e("Unable to download and serialize the Sage Worksheet.")):(a=v(t.editor.project_id).url_fullpath(t.editor.filename),o=t.generate_html({title:null!=(l=t._title)?l:t.editor.filename,filename:t.editor.filename,content:_,timestamp:(""+(new Date).toISOString()).split(".")[0],project_id:t.editor.project_id,author:y.getStore("account").get_fullname(),file_url:a,basename:f.path_split(t.editor.filename).tail,sagews_data:s}),n(.95,"Saving to "+t.output_file+" ..."),x.write_text_file_to_project({project_id:t.editor.project_id,path:t.output_file,content:o,cb:function(t,n){return console.debug("write_text_file_to_project.resp: '"+n+"'"),"function"==typeof e?e(t):void 0}}))}}(this),a.series([j,S,p],h)},n}(i),g={},b=[r,n,o],c=0,d=b.length;c<d;c++)for(_=b[c],w=_.supported,u=0,p=w.length;u<p;u++)l=w[u],g[l]=_;exports.Printer=function(e,t,n){return l=f.filename_extension_notilde(e.filename).toLowerCase(),new g[l](e,t,n)},exports.can_print=function(e){return s.has(g,e)}},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k=function(e,t){return function(){return e.apply(t,arguments)}},A=function(e,t){function n(){this.constructor=e}for(var r in t)C.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},C={}.hasOwnProperty;$=window.$,f=t(9),d=f.defaults,g=f.required,m=t(30),h=t(188),p=t(86),t(923),v=t(19).salvus_client,c=t(36).alert_message,u=t(31),w=$("#salvus-editor-templates"),l=t(302),_=t(12).redux,r=t(63).EventEmitter,i=t(49).IS_MOBILE,b=t(73),n=function(e){function t(){return this.file_path=k(this.file_path,this),t.__super__.constructor.apply(this,arguments)}return A(t,e),t.prototype.file_path=function(){return null==this._file_path&&(this._file_path=f.path_split(this.filename).head),this._file_path},t}(r),y=function(e){return new a(e)},exports.synchronized_string=y,o=function(e){function t(){return this.testbot=k(this.testbot,this),this.focused_codemirror=k(this.focused_codemirror,this),this.codemirrors=k(this.codemirrors,this),t.__super__.constructor.apply(this,arguments)}return A(t,e),t.prototype.codemirrors=function(){var e;return this._closed?[]:(e=[this.codemirror],this.editor._layout>0&&e.push(this.codemirror1),e)},t.prototype.focused_codemirror=function(){return this.editor.focused_codemirror()},t.prototype.testbot=function(e){return this.focused_codemirror().testbot({n:null!=e?e.n:void 0,delay:null!=e?e.delay:void 0,f:this.sync})},t}(n),x=t(23),a=function(e){function t(e){this.exit_undo_mode=k(this.exit_undo_mode,this),this.in_undo_mode=k(this.in_undo_mode,this),this.redo=k(this.redo,this),this.undo=k(this.undo,this),this.has_unsaved_changes=k(this.has_unsaved_changes,this),this.has_uncommitted_changes=k(this.has_uncommitted_changes,this),this.close=k(this.close,this),this.disconnect_from_session=k(this.disconnect_from_session,this),this.save=k(this.save,this),this._save=k(this._save,this),this._connect=k(this._connect,this),this.sync=k(this.sync,this),this.live=k(this.live,this),this.opts=d(e,{project_id:g,filename:g,sync_interval:1e3,cursors:!1,cb:g}),this.project_id=this.opts.project_id,this.filename=this.opts.filename,this.connect=this._connect,this._syncstring=v.sync_string({project_id:this.project_id,path:this.filename,cursors:e.cursors}),this._syncstring.once("init",function(t){return function(){return t.emit("connect"),t._syncstring.wait_until_read_only_known(function(n){return t._fully_loaded=!0,e.cb(n,t)})}}(this)),this._syncstring.on("change",function(e){return function(){return e.emit("sync")}}(this)),this._syncstring.on("before-change",function(e){return function(){return e.emit("before-change")}}(this)),this._syncstring.on("deleted",function(e){return function(){return _.getProjectActions(e.project_id).close_tab(e.filename)}}(this))}return A(t,e),t.prototype.live=function(e){var t;return t=this._syncstring.to_str(),null!=e&&e!==t?(this._syncstring.exit_undo_mode(),this._syncstring.from_str(e),this.emit("sync")):t},t.prototype.sync=function(e){return this._syncstring.save(e)},t.prototype._connect=function(e){return"function"==typeof e?e():void 0},t.prototype._save=function(e){return this._fully_loaded?u.series([this._syncstring.save,this._syncstring.save_to_disk],e):void("function"==typeof e&&e())},t.prototype.save=function(e){return f.retry_until_success({f:this._save,start_delay:3e3,max_tries:4,max_delay:1e4,cb:e})},t.prototype.disconnect_from_session=function(){return this.close()},t.prototype.close=function(){if(!this._closed)return this._syncstring.close(),this.removeAllListeners(),this._closed=!0},t.prototype.has_uncommitted_changes=function(){return this._syncstring.has_uncommitted_changes()},t.prototype.has_unsaved_changes=function(){return this._syncstring.has_unsaved_changes()},t.prototype.undo=function(){return this._syncstring.set_doc(this._syncstring.undo()),this.emit("sync")},t.prototype.redo=function(){return this._syncstring.set_doc(this._syncstring.redo()),this.emit("sync")},t.prototype.in_undo_mode=function(){return this._syncstring.in_undo_mode()},t.prototype.exit_undo_mode=function(){return this._syncstring.exit_undo_mode()},t}(n),s=function(e){function n(e,n,r){var i,o,s,a,l,c,u;for(this.editor=e,this.close=k(this.close,this),this.disconnect_from_session=k(this.disconnect_from_session,this),this.draw_other_cursors=k(this.draw_other_cursors,this),this._render_other_cursor=k(this._render_other_cursor,this),this.get_users_cursors=k(this.get_users_cursors,this),this._init_cursor_activity=k(this._init_cursor_activity,this),this.save=k(this.save,this),this._save=k(this._save,this),this._connect=k(this._connect,this),this.redo=k(this.redo,this),this.undo=k(this.undo,this),this.sync=k(this.sync,this),this._sync=k(this._sync,this),this._update_read_only=k(this._update_read_only,this),this._update_unsaved_uncommitted_changes=k(this._update_unsaved_uncommitted_changes,this),this.has_uncommitted_changes=k(this.has_uncommitted_changes,this),this.has_unsaved_changes=k(this.has_unsaved_changes,this),this._set_codemirror_to_syncstring=k(this._set_codemirror_to_syncstring,this),this._set_syncstring_to_codemirror=k(this._set_syncstring_to_codemirror,this),this.opts=d(n,{cursor_interval:1e3,sync_interval:2e3}),this.project_id=this.editor.project_id,this.filename=this.editor.filename,this.connect=this._connect,this.editor.save=this.save,this.codemirror=this.editor.codemirror,this.codemirror1=this.editor.codemirror1,this.element=this.editor.element,c=[this.codemirror,this.codemirror1],a=0,l=c.length;a<l;a++)i=c[a],i.undo=this.undo,i.redo=this.redo;this._users=_.getStore("users"),this._other_cursor_timeout_s=30,this.editor.show_startup_message("Loading...","info"),this.codemirror.setOption("readOnly",!0),this.codemirror1.setOption("readOnly",!0),"/"===this.filename[0]&&(this.filename=".smc/root"+this.filename),s=t(24).client_db.sha1(this.project_id,this.filename),this._syncstring=v.sync_string({id:s,project_id:this.project_id,path:this.filename,cursors:!0}),o=function(e){return function(){if(e._update_unsaved_uncommitted_changes())return setTimeout(o,5e3)}}(this),u=x.debounce(o,1500),this.editor.has_unsaved_changes(!1),this._syncstring.once("init",function(e){return function(t){if(!e._closed)return t?("EACCES"===t.code&&(t="You do not have permission to read '"+e.filename+"'."),void e.editor.show_startup_message(t,"danger")):e._syncstring.wait_until_read_only_known(function(t){var n;if(!e._closed)return e.editor.show_content(),e.editor._set(e._syncstring.to_str()),e._fully_loaded=!0,e.codemirror.setOption("readOnly",!1),e.codemirror1.setOption("readOnly",!1),e.codemirror.clearHistory(),e.codemirror1.clearHistory(),u(),e._update_read_only(),e._init_cursor_activity(),e._syncstring.on("change",function(){if(!e._closed)return e._set_codemirror_to_syncstring(),e.emit("sync")}),e._syncstring.on("metadata-change",function(){if(!e._closed)return u(),e._update_read_only()}),e._syncstring.on("before-change",function(){if(!e._closed)return e._set_syncstring_to_codemirror()}),e._syncstring.on("deleted",function(){if(!e._closed)return _.getProjectActions(e.editor.project_id).close_tab(e.filename)}),n=function(){return e._sync()},e.save_state_debounce=x.debounce(n,e.opts.sync_interval),e.codemirror.on("change",function(t,n){if(!e._closed)return null!=n.origin&&("undo"===n.origin&&"function"==typeof e.on_undo&&e.on_undo(t,n),"redo"===n.origin&&"function"==typeof e.on_redo&&e.on_redo(t,n),"setValue"!==n.origin&&(e._last_change_time=new Date,e.save_state_debounce(),e._syncstring.exit_undo_mode())),u()}),e.emit("connect"),"function"==typeof r?r():void 0})}}(this))}return A(n,e),n.prototype._set_syncstring_to_codemirror=function(){var e;return this._last_val=e=this.codemirror.getValue(),this._syncstring.from_str(e)},n.prototype._set_codemirror_to_syncstring=function(){var e,t,n;if(n=this._syncstring.to_str(),e=this.codemirror.getValue(),null!=this._last_val&&e!==this._last_val?(t=b.dmp.patch_make(this._last_val,e),n=b.dmp.patch_apply(t,n)[0]):t=void 0,this.codemirror.setValueNoJump(n),null!=t)return this._set_syncstring_to_codemirror()},n.prototype.has_unsaved_changes=function(){return null!=this.codemirror&&this._syncstring.hash_of_saved_version()!==f.hash_string(this.codemirror.getValue())},n.prototype.has_uncommitted_changes=function(){return this._syncstring.has_uncommitted_changes()||this.codemirror.getValue()!==this._syncstring.to_str()},n.prototype._update_unsaved_uncommitted_changes=function(){var e,t,n;if(this._fully_loaded&&null!=this.codemirror&&!this._closed&&!(new Date-(null!=(e=this._last_change_time)?e:0)<=1e3))return n=this.codemirror.getValue(),this.editor.has_unsaved_changes(this._syncstring.hash_of_saved_version()!==f.hash_string(n)),t=this._syncstring.has_uncommitted_changes()||n!==this._syncstring.to_str(),this.editor.has_uncommitted_changes(t),t},n.prototype._update_read_only=function(){return this.editor.set_readonly_ui(this._syncstring.get_read_only())},n.prototype._sync=function(e){return null!=this.codemirror&&this._set_syncstring_to_codemirror(),this._syncstring.save(e)},n.prototype.sync=function(e){return this._sync(e)},n.prototype.undo=function(){var e,t;if(null!=this.codemirror)return e=this.focused_codemirror(),this._syncstring.in_undo_mode()||this._set_syncstring_to_codemirror(),t=this._syncstring.undo().to_str(),e.setValueNoJump(t,!0),this.save_state_debounce(),this._last_change_time=new Date},n.prototype.redo=function(){var e,t;if(null!=this.codemirror&&this._syncstring.in_undo_mode()&&(e=this._syncstring.redo(),null!=e)){if(null==e.to_str)throw Error("doc must have a to_str method, but is doc='"+e+"', typeof(doc)='"+typeof e+"'");return t=e.to_str(),this.focused_codemirror().setValueNoJump(t,!0),this.save_state_debounce(),this._last_change_time=new Date}},n.prototype._connect=function(e){return"function"==typeof e?e():void 0},n.prototype._save=function(e){return null!=this.codemirror&&this._fully_loaded?(this._set_syncstring_to_codemirror(),u.series([this._syncstring.save,this._syncstring.save_to_disk],function(t){return function(n){return t._update_unsaved_uncommitted_changes(),n?e(n):("function"==typeof t._post_save_success&&t._post_save_success(),e())}}(this))):void e()},n.prototype.save=function(e){var t,n,r;return this._closed?void("function"==typeof e&&e()):(this.editor.has_unsaved_changes(!1),setTimeout(this._update_unsaved_uncommitted_changes,5e3),t=this.focused_codemirror(),this.editor.opts.delete_trailing_whitespace&&(n={},null!=(r=this._syncstring.get_cursors())&&r.map(function(e){return function(e,t){var r;return null!=(r=e.get("locs"))?r.map(function(e){var t;if(t=e.get("y"),null!=t)return n[t]=!0}):void 0}}(this)),t.delete_trailing_whitespace({omit_lines:n})),f.retry_until_success({f:this._save,start_delay:3e3,max_tries:4,max_delay:1e4,cb:e}))},n.prototype._init_cursor_activity=function(){var e,t,n;n=[this.codemirror,this.codemirror1];for(t in n)e=n[t],e.on("cursorActivity",function(e){return function(t){var n,r;if(t.name===e.focused_codemirror().name&&!t._setValueNoJump)return r=function(){var e,r,i,o;for(i=t.listSelections(),o=[],e=0,r=i.length;e<r;e++)n=i[e],o.push({x:n.anchor.ch,y:n.anchor.line});return o}(),e._syncstring.set_cursor_locs(r),e.editor.local_storage("cursor"+t.name,t.getCursor())}}(this));return this._syncstring.on("cursor_activity",function(e){return function(t){return e._render_other_cursor(t)}}(this))},n.prototype.get_users_cursors=function(e){var t,n,r,i;if(null!=this._syncstring)return i=null!=(n=this._syncstring.get_cursors())?n.get(e):void 0,v.server_time()-(null!=i?i.get("time"):void 0)<=1e3*this._other_cursor_timeout_s?t=null!=(r=i.get("locs"))?r.toJS():void 0:void 0},n.prototype._render_other_cursor=function(e){var t,n,r,i;if(e!==v.account_id)return i=null!=(n=this._syncstring.get_cursors())?n.get(e):void 0,v.server_time()-(null!=i?i.get("time"):void 0)<=1e3*this._other_cursor_timeout_s&&(t=null!=(r=i.get("locs"))?r.toJS():void 0,null!=t)?this.draw_other_cursors(e,t):void 0},n.prototype.draw_other_cursors=function(e,t){var n,r,i,o,s,a,l,c,u,d,p,h,m,_;for(null==this._cursors&&(this._cursors={}),_=this._cursors[e],null==_&&(_=this._cursors[e]=[]),d=f.enumerate(t),o=0,a=d.length;o<a;o++)p=d[o],i=p[0],l=p[1],u={line:l.y,ch:l.x},r=_[i],c=f.trunc(this._users.get_first_name(e),10),n=this._users.get_color(e),null==r&&(r=_[i]={cursor:w.find(".smc-editor-codemirror-cursor").clone().show()}),c!==r.name&&(r.cursor.find(".smc-editor-codemirror-cursor-label").text(c),r.name=c),n!==r.color&&(r.cursor.find(".smc-editor-codemirror-cursor-inside").css({"border-left":"1px solid "+n}),r.cursor.find(".smc-editor-codemirror-cursor-label").css({background:n}),r.color=n),this.codemirror.addWidget(u,r.cursor[0],!1),r.cursor.find(".smc-editor-codemirror-cursor-label").stop().animate({opacity:1}).show().fadeOut({duration:15e3}),r.cursor.find(".smc-editor-codemirror-cursor-inside").stop().animate({opacity:1}).show().fadeOut({duration:25e3});if(_.length>t.length){for(i=s=h=t.length,m=_.length;h<=m?s<m:s>m;i=h<=m?++s:--s)_[i].cursor.remove();return this._cursors[e]=_.slice(0,t.length)}},n.prototype.disconnect_from_session=function(){return this.close()},n.prototype.close=function(){var e,t,n,r,i,o;if(!this._closed){for(null!=(i=this._syncstring)&&i.close(),o=[this.codemirror,this.codemirror1],n=0,r=o.length;n<r;n++)e=o[n],e.setOption("mode","text/x-csrc"),t=e.getWrapperElement(),t.parentNode.removeChild(t);return delete this.codemirror,delete this.codemirror1,delete this.editor.codemirror,delete this.editor.codemirror1,this._closed=!0}},n}(o),exports.SynchronizedDocument2=s},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=[],r=/function\s*([\w\-$]+)?\s*\(/i,c=0,f=!0,o=!1,n=!0,d=function(e,t,n,r){if(e&&"string"!=typeof e)return p({name:t||e.name,message:e.message||e.description,comment:null!=r?r:"",stacktrace:m(e)||s(),file:e.fileName||e.sourceURL,path:window.location.href,lineNumber:e.lineNumber||e.line||-1,columnNumber:e.columnNumber||-1,severity:n||"default"})},p=function(e){var n,r,o,s;if(o=t(9),e=o.defaults(e,{name:o.required,message:o.required,comment:"",stacktrace:"",file:"",path:"",lineNumber:-1,columnNumber:-1,severity:"default"}),r=o.uuidsha1([e.name,e.message,e.comment].join("::")),!(v.call(i,r)>=0))return i.push(r),n=t(49),e.user_agent="undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0,e.browser=n.get_browser(),e.mobile=n.IS_MOBILE,e.responsive=n.is_responsive_mode(),e.smc_version=1494252317,e.build_date="2017-05-12T12:44:12.962Z",e.smc_git_rev="54fddee03658407e336dc864f6f91d8d990ed373",e.uptime=o.get_uptime(),e.start_time=o.get_start_time_ts(),s=t(19).salvus_client,s.webapp_error(e)},s=function(){var e,t,n,i,o,s,a,l,c,u;l=u=null,t=10,e="[anonymous]";try{throw Error("")}catch(e){o=e,l="<generated>\n",u=m(o)}if(!u){l="<generated-ie>\n",a=[];try{for(n=arguments.callee.caller.caller;n&&a.length<t;)s=r.test(""+n)&&null!=(c=RegExp.$1)?c:e,a.push(s),n=n.caller}catch(e){i=e}u=a.join("\n")}return l+u},m=function(e){return e.stack||e.backtrace||e.stacktrace},window.atob||(f=!1),l=function(){return c+=1,window.setTimeout(function(){return c-=1})},_=function(e){var t;try{return"function"!=typeof e?e:(e._wrapper||(e._wrapper=function(){var t;if(!f)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(e){throw t=e,d(t,null,"error"),l(),t}},e._wrapper._wrapper=e._wrapper),e._wrapper)}catch(n){return t=n,e}},u=function(e,t,n){var r,i;return r=e[t],i=n(r),e[t]=i},n&&"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(e){var t,n;if(t=null!=(n=window[e])?n.prototype:void 0,null!=t&&"function"==typeof t.hasOwnProperty?t.hasOwnProperty("addEventListener"):void 0)return u(t,"addEventListener",function(e){return function(t,n,r,i){var o;try{n&&n.handleEvent&&(n.handleEvent=_(n.handleEvent))}catch(e){o=e}return e.call(this,t,_(n),r,i)}}),u(t,"removeEventListener",function(e){return function(t,n,r,i){return e.call(this,t,n,r,i),e.call(this,t,_(n),r,i)}})}),n&&u(window,"onerror",function(e){return function(t,n,r,i,o){var a,l;if(!i&&window.event&&(i=window.event.errorCharacter),0===c&&(a=(null!=o?o.name:void 0)||"window.onerror",l=o&&m(o)||s(),p({name:a,message:t,file:n,path:window.location.href,lineNumber:r,columnNumber:i,stacktrace:l,severity:"error"})),e)return e(t,n,r,i,o)}}),a=function(e){return function(t,n){var r;return"function"==typeof t?(t=_(t),r=Array.prototype.slice.call(arguments,2),e(function(){return t.apply(this,r)},n)):e(t,n)}},n&&(u(window,"setTimeout",a),u(window,"setInterval",a)),n&&window.requestAnimationFrame&&u(window,"requestAnimationFrame",function(e){return function(t){return e(_(t))}}),n&&window.setImmediate&&u(window,"setImmediate",function(e){return function(){var t;return t=Array.prototype.slice.call(arguments),t[0]=_(t[0]),e.apply(this,t)}}),h=function(e,t){return p({name:"Console Output",message:Array.prototype.slice.call(t).join(", "),file:"",path:window.location.href,lineNumber:-1,columnNumber:-1,stacktrace:s(),severity:e})},g=function(e,t,n){var r;return r=e[t],e[t]=function(){if(n.apply(this,arguments),"function"==typeof r)return r.apply(this,arguments)}},n&&null!=window.console&&(g(console,"warn",function(){return h("warn",arguments)}),g(console,"error",function(){return h("error",arguments)})),exports.reportException=d},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-mw-pagename{text-decoration:underline}.cm-mw-matching{background-color:gold}.cm-mw-skipformatting{background-color:#adf}.cm-mw-hr,.cm-mw-list,.cm-mw-signature{color:#08f;font-weight:700;background-color:#eee}.cm-mw-indenting{color:#08f;font-weight:700;background-color:#ddd}.cm-mw-mnemonic{color:#090}.cm-mw-comment{color:#aaa;font-weight:400}.cm-mw-apostrophes{color:#08f}pre.cm-mw-section-1{font-size:1.8em}pre.cm-mw-section-2{font-size:1.5em}pre.cm-mw-section-3,pre.cm-mw-section-4,pre.cm-mw-section-5,pre.cm-mw-section-6{font-weight:700}.cm-mw-section-header{color:#08f;font-weight:400}.cm-mw-template{color:#a11;font-weight:400}.cm-mw-template-name{color:#a11;font-weight:700}.cm-mw-template-name-mnemonic{font-weight:400}.cm-mw-template-argument-name,.cm-mw-template-bracket,.cm-mw-template-delimiter{color:#a11;font-weight:700}.cm-mw-templatevariable{color:#f50;font-weight:400}.cm-mw-templatevariable-name{color:#f50;font-weight:700}.cm-mw-templatevariable-bracket{color:#f50;font-weight:400}.cm-mw-templatevariable-delimiter{color:#f50;font-weight:700}.cm-mw-parserfunction{font-weight:400}.cm-mw-parserfunction-bracket,.cm-mw-parserfunction-delimiter,.cm-mw-parserfunction-name{color:#70a;font-weight:700}pre.cm-mw-exttag{background-image:url("+t(417)+")}.cm-mw-exttag{background-image:url("+t(13)+")}.cm-mw-exttag-name{color:#70a;font-weight:700}.cm-mw-exttag-attribute,.cm-mw-exttag-bracket{color:#70a;font-weight:400}.cm-mw-htmltag-name{color:#170;font-weight:700}.cm-mw-htmltag-attribute,.cm-mw-htmltag-bracket{color:#170;font-weight:400}.cm-mw-tag-pre,pre.cm-mw-tag-pre{background-image:url("+t(203)+")}.cm-mw-tag-nowiki,pre.cm-mw-tag-nowiki{background-image:url("+t(203)+")}.cm-mw-link-pagename{color:#219;font-weight:400}.cm-mw-link-tosection{color:#08f;font-weight:400}.cm-mw-link-bracket{color:#219;font-weight:400}.cm-mw-extlink,.cm-mw-link-delimiter{color:#219;font-weight:400}.cm-mw-extlink-protocol{color:#219;font-weight:700}.cm-mw-extlink-bracket{color:#219;font-weight:700}.cm-mw-table-bracket,.cm-mw-table-delimiter{color:#e0e;font-weight:700}.cm-mw-table-definition{color:#e0e;font-weight:400}.cm-mw-template2-ground{background-image:url("+t(59)+")}.cm-mw-template3-ground{background-image:url("+t(60)+")}.cm-mw-template-ext-ground{background-image:url("+t(13)+")}.cm-mw-template-ext2-ground{background-image:url("+t(13)+"),url("+t(13)+")}.cm-mw-template-ext3-ground{background-image:url("+t(13)+"),url("+t(13)+"),url("+t(13)+")}.cm-mw-template-link-ground{background-image:url("+t(33)+")}.cm-mw-template-ext-link-ground{background-image:url("+t(13)+"),url("+t(33)+")}.cm-mw-template-ext2-link-ground{background-image:url("+t(13)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-template-ext3-link-ground{background-image:url("+t(13)+"),url("+t(13)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-template2-ext-ground{background-image:url("+t(59)+"),url("+t(13)+")}.cm-mw-template2-ext2-ground{background-image:url("+t(59)+"),url("+t(13)+"),url("+t(13)+")}.cm-mw-template2-ext3-ground{background-image:url("+t(59)+"),url("+t(13)+"),url("+t(13)+"),url("+t(13)+")}.cm-mw-template2-link-ground{background-image:url("+t(59)+"),url("+t(33)+")}.cm-mw-template2-ext-link-ground{background-image:url("+t(59)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-template2-ext2-link-ground{background-image:url("+t(59)+"),url("+t(13)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-template2-ext3-link-ground{background-image:url("+t(59)+"),url("+t(13)+"),url("+t(13)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-template3-ext-ground{background-image:url("+t(60)+"),url("+t(13)+")}.cm-mw-template3-ext2-ground{background-image:url("+t(60)+"),url("+t(13)+"),url("+t(13)+")}.cm-mw-template3-ext3-ground{background-image:url("+t(60)+"),url("+t(13)+"),url("+t(13)+"),url("+t(13)+")}.cm-mw-template3-link-ground{background-image:url("+t(60)+"),url("+t(33)+")}.cm-mw-template3-ext-link-ground{background-image:url("+t(60)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-template3-ext2-link-ground{background-image:url("+t(60)+"),url("+t(13)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-template3-ext3-link-ground{background-image:url("+t(60)+"),url("+t(13)+"),url("+t(13)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-ext-ground{background-image:url("+t(13)+")}.cm-mw-ext2-ground{background-image:url("+t(13)+"),url("+t(13)+")}.cm-mw-ext3-ground{background-image:url("+t(13)+"),url("+t(13)+"),url("+t(13)+")}.cm-mw-ext-link-ground{background-image:url("+t(33)+")}.cm-mw-ext2-link-ground{background-image:url("+t(13)+"),url("+t(33)+")}.cm-mw-ext3-link-ground{background-image:url("+t(13)+"),url("+t(13)+"),url("+t(33)+")}.cm-mw-link-ground{background-image:url("+t(33)+")}","",{
version:3,sources:["/./smc-webapp/codemirror/mode/mediawiki/mediawiki.css"],names:[],mappings:"AAaA,gBAAkB,yBAA2B,CAAE,AAE/C,gBAAiB,qBAAuB,CAAC,AAEzC,sBAAwB,qBAAuB,CAAE,AAEjD,uCACY,WAAY,AAAC,gBAAkB,AAAC,qBAAuB,CAAE,AACrE,iBAAkB,WAAY,AAAC,gBAAkB,AAAC,qBAAuB,CAAC,AAC1E,gBAAiB,UAAY,CAAC,AAC9B,eAAgB,WAAY,AAAC,eAAoB,CAAC,AAClD,mBAAoB,UAAY,CAAC,AAEjC,oBAAqB,eAAiB,CAAC,AACvC,oBAAqB,eAAiB,CAAC,AAIvC,gFAAqB,eAAkB,CAAC,AACxC,sBAAuB,WAAY,AAAC,eAAoB,CAAC,AAEzD,gBAAiB,WAAY,AAAC,eAAoB,CAAC,AACnD,qBAAsB,WAAY,AAAC,eAAkB,CAAC,AACtD,8BAA+B,eAAoB,CAAC,AAGpD,gFAAyB,WAAY,AAAC,eAAkB,CAAC,AAEzD,wBAAyB,WAAY,AAAE,eAAoB,CAAC,AAC5D,6BAA8B,WAAY,AAAC,eAAkB,CAAC,AAC9D,gCAAiC,WAAY,AAAE,eAAoB,CAAC,AACpE,kCAAmC,WAAY,AAAC,eAAkB,CAAC,AAEnE,sBAAuB,eAAoB,CAAC,AAG5C,yFAAiC,WAAY,AAAC,eAAkB,CAAC,AAEjE,iBAAkB,8CAAoC,CAAC,AACvD,cAAe,8CAAoC,CAAC,AACpD,mBAAoB,WAAY,AAAC,eAAkB,CAAC,AAEpD,8CADuB,WAAY,AAAC,eAAoB,CACG,AAE3D,oBAAqB,WAAY,AAAC,eAAkB,CAAC,AAErD,gDADwB,WAAY,AAAC,eAAoB,CACG,AAE5D,iCAAmC,8CAAsC,CAAC,AAC1E,uCAAyC,8CAAsC,CAAC,AAEhF,qBAAsB,WAAY,AAAC,eAAoB,CAAC,AACxD,sBAAuB,WAAY,AAAC,eAAoB,CAAC,AACzD,oBAAqB,WAAY,AAAC,eAAoB,CAAC,AAIvD,qCAAgB,WAAY,AAAC,eAAoB,CAAC,AAClD,wBAAyB,WAAY,AAAC,eAAkB,CAAC,AAEzD,uBAAwB,WAAY,AAAC,eAAkB,CAAC,AAGxD,4CADsB,WAAY,AAAC,eAAkB,CACG,AACxD,wBAAyB,WAAY,AAAC,eAAoB,CAAC,AAG3D,wBAAyB,8CAAyC,CAAC,AACnE,wBAAyB,8CAAyC,CAAC,AACnE,2BAA4B,8CAAoC,CAAC,AACjE,4BAA6B,4EAAsD,CAAC,AACpF,4BAA6B,4GAAwE,CAAC,AACtG,4BAA6B,+CAAqC,CAAC,AACnE,gCAAiC,8EAAuD,CAAC,AACzF,iCAAkC,6GAAyE,CAAC,AAC5G,iCAAkC,4IAA2F,CAAC,AAC9H,4BAA6B,8EAA2D,CAAC,AACzF,6BAA8B,6GAA6E,CAAC,AAC5G,6BAA8B,4IAA+F,CAAC,AAC9H,6BAA8B,8EAA4D,CAAC,AAC3F,iCAAkC,6GAA8E,CAAC,AACjH,kCAAmC,4IAAgG,CAAC,AACpI,kCAAmC,2KAAkH,CAAC,AACtJ,4BAA6B,8EAA2D,CAAC,AACzF,6BAA8B,6GAA6E,CAAC,AAC5G,6BAA8B,4IAA+F,CAAC,AAC9H,6BAA8B,8EAA4D,CAAC,AAC3F,iCAAkC,6GAA8E,CAAC,AACjH,kCAAmC,4IAAgG,CAAC,AACpI,kCAAmC,2KAAkH,CAAC,AACtJ,kBAAmB,+CAAmC,CAAC,AACvD,mBAAoB,8EAAsD,CAAC,AAC3E,mBAAoB,6GAAwE,CAAC,AAC7F,uBAAwB,+CAAqC,CAAC,AAC9D,wBAAyB,8EAAuD,CAAC,AACjF,wBAAyB,6GAAyE,CAAC,AACnG,mBAAoB,+CAAqC,CAAC",file:"mediawiki.css",sourcesContent:["/* WTF: What kind of evil BS is this?! -- commented out.\n\n.CodeMirror {\n\tborder: 1px solid #CCC;\n\tfont-size: medium;\n\tline-height: 1.5em;\n}\n\n.CodeMirrorIE {\n\tfont-size: small;\n}\n*/\n\n.cm-mw-pagename { text-decoration: underline; }\n\n.cm-mw-matching {background-color: gold;}\n\n.cm-mw-skipformatting {\tbackground-color: #adf; }\n.cm-mw-list {color: #08f; font-weight: bold; background-color: #eee;}\n.cm-mw-signature,\n.cm-mw-hr { color: #08f; font-weight: bold; background-color: #eee; }\n.cm-mw-indenting {color: #08f; font-weight: bold; background-color: #ddd;}\n.cm-mw-mnemonic {color: #090;}\n.cm-mw-comment {color: #aaa; font-weight: normal;}\n.cm-mw-apostrophes {color: #08f;}\n\npre.cm-mw-section-1 {font-size: 1.8em;}\npre.cm-mw-section-2 {font-size: 1.5em;}\npre.cm-mw-section-3 {font-weight: bold;}\npre.cm-mw-section-4 {font-weight: bold;}\npre.cm-mw-section-5 {font-weight: bold;}\npre.cm-mw-section-6 {font-weight: bold;}\n.cm-mw-section-header {color: #08f; font-weight: normal;}\n\n.cm-mw-template {color: #a11; font-weight: normal;}\n.cm-mw-template-name {color: #a11; font-weight: bold;}\n.cm-mw-template-name-mnemonic {font-weight: normal;}\n.cm-mw-template-argument-name {color: #a11; font-weight: bold;}\n.cm-mw-template-delimiter {color: #a11; font-weight: bold;}\n.cm-mw-template-bracket {color: #a11; font-weight: bold;}\n\n.cm-mw-templatevariable {color: #f50;  font-weight: normal;}\n.cm-mw-templatevariable-name {color: #f50; font-weight: bold;}\n.cm-mw-templatevariable-bracket {color: #f50;  font-weight: normal;}\n.cm-mw-templatevariable-delimiter {color: #f50; font-weight: bold;}\n\n.cm-mw-parserfunction {font-weight: normal;}\n.cm-mw-parserfunction-name {color: #70a; font-weight: bold;}\n.cm-mw-parserfunction-bracket {color: #70a; font-weight: bold;}\n.cm-mw-parserfunction-delimiter {color: #70a; font-weight: bold;}\n\npre.cm-mw-exttag {background-image: url(img/ext2.png);}\n.cm-mw-exttag {background-image: url(img/ext4.png);}\n.cm-mw-exttag-name {color: #70a; font-weight: bold;}\n.cm-mw-exttag-bracket {color: #70a; font-weight: normal;}\n.cm-mw-exttag-attribute {color: #70a; font-weight: normal;}\n\n.cm-mw-htmltag-name {color: #170; font-weight: bold;}\n.cm-mw-htmltag-bracket {color: #170; font-weight: normal;}\n.cm-mw-htmltag-attribute {color: #170; font-weight: normal;}\n\npre.cm-mw-tag-pre, .cm-mw-tag-pre {background-image: url(img/black4.png);}\npre.cm-mw-tag-nowiki, .cm-mw-tag-nowiki {background-image: url(img/black4.png);}\n\n.cm-mw-link-pagename {color: #219; font-weight: normal;}\n.cm-mw-link-tosection {color: #08f; font-weight: normal;}\n.cm-mw-link-bracket {color: #219; font-weight: normal;}\n.cm-mw-link-text {}\n.cm-mw-link-delimiter {color: #219; font-weight: normal;}\n\n.cm-mw-extlink {color: #219; font-weight: normal;}\n.cm-mw-extlink-protocol {color: #219; font-weight: bold;}\n.cm-mw-extlink-text {}\n.cm-mw-extlink-bracket {color: #219; font-weight: bold;}\n\n.cm-mw-table-bracket {color: #e0e; font-weight: bold;}\n.cm-mw-table-delimiter {color: #e0e; font-weight: bold;}\n.cm-mw-table-definition {color: #e0e; font-weight: normal;}\n\n.cm-mw-template-ground {}\n.cm-mw-template2-ground {background-image: url(img/template4.png);}\n.cm-mw-template3-ground {background-image: url(img/template8.png);}\n.cm-mw-template-ext-ground {background-image: url(img/ext4.png);}\n.cm-mw-template-ext2-ground {background-image: url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-template-ext3-ground {background-image: url(img/ext4.png),url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-template-link-ground {background-image: url(img/link4.png);}\n.cm-mw-template-ext-link-ground {background-image: url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template-ext2-link-ground {background-image: url(img/ext4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template-ext3-link-ground {background-image: url(img/ext4.png),url(img/ext4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template2-ext-ground {background-image: url(img/template4.png),url(img/ext4.png);}\n.cm-mw-template2-ext2-ground {background-image: url(img/template4.png),url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-template2-ext3-ground {background-image: url(img/template4.png),url(img/ext4.png),url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-template2-link-ground {background-image: url(img/template4.png),url(img/link4.png);}\n.cm-mw-template2-ext-link-ground {background-image: url(img/template4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template2-ext2-link-ground {background-image: url(img/template4.png),url(img/ext4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template2-ext3-link-ground {background-image: url(img/template4.png),url(img/ext4.png),url(img/ext4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template3-ext-ground {background-image: url(img/template8.png),url(img/ext4.png);}\n.cm-mw-template3-ext2-ground {background-image: url(img/template8.png),url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-template3-ext3-ground {background-image: url(img/template8.png),url(img/ext4.png),url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-template3-link-ground {background-image: url(img/template8.png),url(img/link4.png);}\n.cm-mw-template3-ext-link-ground {background-image: url(img/template8.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template3-ext2-link-ground {background-image: url(img/template8.png),url(img/ext4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-template3-ext3-link-ground {background-image: url(img/template8.png),url(img/ext4.png),url(img/ext4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-ext-ground {background-image: url(img/ext4.png)}\n.cm-mw-ext2-ground {background-image: url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-ext3-ground {background-image: url(img/ext4.png),url(img/ext4.png),url(img/ext4.png);}\n.cm-mw-ext-link-ground {background-image: url(img/link4.png);}\n.cm-mw-ext2-link-ground {background-image: url(img/ext4.png),url(img/link4.png);}\n.cm-mw-ext3-link-ground {background-image: url(img/ext4.png),url(img/ext4.png),url(img/link4.png);}\n.cm-mw-link-ground {background-image: url(img/link4.png);}\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".CodeMirror-dialog{position:absolute;left:0;right:0;background:inherit;z-index:15;padding:.1em .8em;overflow:hidden;color:inherit}.CodeMirror-dialog-top{border-bottom:1px solid #eee;top:0}.CodeMirror-dialog-bottom{border-top:1px solid #eee;bottom:0}.CodeMirror-dialog input{border:none;outline:none;background:transparent;width:20em;color:inherit;font-family:monospace}.CodeMirror-dialog button{font-size:70%}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/addon/dialog/dialog.css"],names:[],mappings:"AAAA,mBACE,kBAAmB,AACnB,OAAQ,AAAC,QAAS,AAClB,mBAAoB,AACpB,WAAY,AACZ,kBAAmB,AACnB,gBAAiB,AACjB,aAAe,CAChB,AAED,uBACE,6BAA8B,AAC9B,KAAO,CACR,AAED,0BACE,0BAA2B,AAC3B,QAAU,CACX,AAED,yBACE,YAAa,AACb,aAAc,AACd,uBAAwB,AACxB,WAAY,AACZ,cAAe,AACf,qBAAuB,CACxB,AAED,0BACE,aAAe,CAChB",file:"dialog.css",sourcesContent:[".CodeMirror-dialog {\n  position: absolute;\n  left: 0; right: 0;\n  background: inherit;\n  z-index: 15;\n  padding: .1em .8em;\n  overflow: hidden;\n  color: inherit;\n}\n\n.CodeMirror-dialog-top {\n  border-bottom: 1px solid #eee;\n  top: 0;\n}\n\n.CodeMirror-dialog-bottom {\n  border-top: 1px solid #eee;\n  bottom: 0;\n}\n\n.CodeMirror-dialog input {\n  border: none;\n  outline: none;\n  background: transparent;\n  width: 20em;\n  color: inherit;\n  font-family: monospace;\n}\n\n.CodeMirror-dialog button {\n  font-size: 70%;\n}\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,'.CodeMirror-foldmarker{color:blue;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-folded,.CodeMirror-foldgutter-open{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"\\25BE"}.CodeMirror-foldgutter-folded:after{content:"\\25B8"}',"",{version:3,sources:["/./smc-webapp/node_modules/codemirror/addon/fold/foldgutter.css"],names:[],mappings:"AAAA,uBACE,WAAY,AACZ,oFAAwF,AACxF,kBAAmB,AACnB,eAAgB,AAChB,cAAgB,CACjB,AACD,uBACE,UAAY,CACb,AACD,0DAEE,cAAgB,CACjB,AACD,kCACE,eAAiB,CAClB,AACD,oCACE,eAAiB,CAClB",file:"foldgutter.css",sourcesContent:['.CodeMirror-foldmarker {\n  color: blue;\n  text-shadow: #b9f 1px 1px 2px, #b9f -1px -1px 2px, #b9f 1px -1px 2px, #b9f -1px 1px 2px;\n  font-family: arial;\n  line-height: .3;\n  cursor: pointer;\n}\n.CodeMirror-foldgutter {\n  width: .7em;\n}\n.CodeMirror-foldgutter-open,\n.CodeMirror-foldgutter-folded {\n  cursor: pointer;\n}\n.CodeMirror-foldgutter-open:after {\n  content: "\\25BE";\n}\n.CodeMirror-foldgutter-folded:after {\n  content: "\\25B8";\n}\n'],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;box-shadow:2px 3px 5px rgba(0,0,0,.2);border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/addon/hint/show-hint.css"],names:[],mappings:"AAAA,kBACE,kBAAmB,AACnB,WAAY,AACZ,gBAAiB,AACjB,gBAAiB,AAEjB,SAAU,AACV,YAAa,AAIb,sCAAuC,AACvC,kBAAmB,AACnB,wBAAyB,AAEzB,gBAAkB,AAClB,cAAe,AACf,sBAAuB,AAEvB,gBAAiB,AACjB,eAAiB,CAClB,AAED,iBACE,SAAU,AACV,cAAe,AACf,kBAAmB,AACnB,gBAAiB,AACjB,WAAa,AACb,cAAgB,CACjB,AAED,0BACE,gBAAiB,AACjB,UAAa,CACd",file:"show-hint.css",sourcesContent:[".CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n\n  margin: 0;\n  padding: 2px;\n\n  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  border-radius: 3px;\n  border: 1px solid silver;\n\n  background: white;\n  font-size: 90%;\n  font-family: monospace;\n\n  max-height: 20em;\n  overflow-y: auto;\n}\n\n.CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  white-space: pre;\n  color: black;\n  cursor: pointer;\n}\n\nli.CodeMirror-hint-active {\n  background: #08f;\n  color: white;\n}\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,'.CodeMirror{font-family:monospace;height:300px;color:#000}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',"",{version:3,sources:["/./smc-webapp/node_modules/codemirror/lib/codemirror.css"],names:[],mappings:"AAEA,YAEE,sBAAuB,AACvB,aAAc,AACd,UAAa,CACd,AAID,kBACE,aAAe,CAChB,AACD,gBACE,aAAe,CAChB,AAED,uDACE,qBAAwB,CACzB,AAID,oBACE,4BAA6B,AAC7B,yBAA0B,AAC1B,kBAAoB,CACrB,AAED,uBACE,oBAAqB,AACrB,eAAgB,AAChB,iBAAkB,AAClB,WAAY,AACZ,kBAAoB,CACrB,AAED,yBAA2B,UAAa,CAAE,AAC1C,gCAAkC,UAAY,CAAE,AAIhD,mBACE,2BAA6B,AAC7B,kBAAmB,AACnB,OAAS,CACV,AAED,2CACE,4BAA8B,CAC/B,AACD,kCACE,WAAY,AACZ,mBAAqB,AACrB,eAAiB,CAClB,AACD,sCACE,SAAW,CACZ,AAED,uBACE,WAAY,AACZ,SAAU,AACV,gDAAiD,AAEjD,wCAAyC,AACzC,qBAAuB,CACxB,AAMD,yBAEE,IAAM,4BAA8B,CAAE,CAEvC,AACD,iBAEE,IAAM,4BAA8B,CAAE,CAEvC,AAKD,QAAU,qBAAsB,AAAC,uBAAyB,CAAE,AAE5D,mBACE,kBAAmB,AACnB,OAAQ,AAAC,QAAS,AAAC,UAAW,AAAC,aAAc,AAC7C,eAAiB,CAClB,AACD,kBACE,2BAA4B,AAC5B,MAAO,AAAC,SAAU,AAClB,iBAAmB,CACpB,AAID,yBAA0B,UAAY,CAAC,AACvC,wBAAyB,UAAY,CAAC,AACtC,aAAc,UAAY,CAAC,AAC3B,aAAc,UAAY,CAAC,AAC3B,sBAAwB,eAAkB,CAAC,AAC3C,OAAQ,iBAAmB,CAAC,AAC5B,SAAU,yBAA2B,CAAC,AACtC,kBAAmB,4BAA8B,CAAC,AAElD,0BAA2B,UAAY,CAAC,AACxC,uBAAwB,UAAY,CAAC,AACrC,yBAA0B,UAAY,CAAC,AACvC,sBAAuB,UAAY,CAAC,AAKpC,6BAA8B,UAAY,CAAC,AAC3C,6BAA8B,UAAY,CAAC,AAC3C,0BAA2B,UAAY,CAAC,AACxC,yBAA0B,UAAY,CAAC,AACvC,2BAA4B,UAAY,CAAC,AAEzC,mDAA6B,UAAY,CAAC,AAC1C,0BAA2B,UAAY,CAAC,AACxC,0BAA2B,UAAY,CAAC,AACxC,sBAAuB,UAAY,CAAC,AACpC,4BAA6B,UAAY,CAAC,AAC1C,qBAAsB,UAAY,CAAC,AACnC,uBAAwB,UAAY,CAAC,AAGrC,wCAAiB,SAAY,CAAC,AAE9B,sBAAwB,uBAAyB,CAAE,AAInD,+CAAgD,UAAY,CAAC,AAC7D,kDAAmD,UAAY,CAAC,AAChE,wBAA0B,6BAAkC,CAAE,AAC9D,kCAAmC,kBAAoB,CAAC,AAOxD,YACE,kBAAmB,AACnB,gBAAiB,AACjB,eAAkB,CACnB,AAED,mBACE,0BAA4B,AAG5B,oBAAqB,AAAC,mBAAoB,AAC1C,oBAAqB,AACrB,YAAa,AACb,aAAc,AACd,iBAAmB,CACpB,AACD,kBACE,kBAAmB,AACnB,mCAAqC,CACtC,AAKD,qGACE,kBAAmB,AACnB,UAAW,AACX,YAAc,CACf,AACD,uBACE,QAAS,AAAC,MAAO,AACjB,kBAAmB,AACnB,iBAAmB,CACpB,AACD,uBACE,SAAU,AAAC,OAAQ,AACnB,kBAAmB,AACnB,iBAAmB,CACpB,AACD,6BACE,QAAS,AAAC,QAAU,CACrB,AACD,0BACE,OAAQ,AAAC,QAAU,CACpB,AAED,oBACE,kBAAmB,AAAC,OAAQ,AAAC,MAAO,AACpC,gBAAiB,AACjB,SAAW,CACZ,AACD,mBACE,mBAAoB,AACpB,YAAa,AACb,qBAAsB,AACtB,mBAAoB,AACpB,mBAAqB,CACtB,AACD,2BACE,kBAAmB,AACnB,UAAW,AACX,0BAA4B,AAC5B,qBAAwB,CACzB,AACD,8BACE,kBAAmB,AACnB,MAAO,AAAC,SAAU,AAClB,SAAW,CACZ,AACD,uBACE,kBAAmB,AACnB,eAAgB,AAChB,SAAW,CACZ,AACD,uCAAyC,4BAA6B,CAAE,AACxE,4CAA8C,4BAA6B,CAAE,AAE7E,kBACE,YAAa,AACb,cAAgB,CACjB,AACD,gBAEmD,gBAAiB,AAClE,eAAgB,AAChB,uBAAwB,AACxB,oBAAqB,AACrB,kBAAmB,AACnB,SAAU,AACV,gBAAiB,AACjB,iBAAkB,AAClB,oBAAqB,AACrB,cAAe,AACf,UAAW,AACX,kBAAmB,AACnB,iBAAkB,AAClB,wCAAyC,AACzC,0CAA2C,AAC3C,iCAAmC,CACpC,AACD,qBACE,qBAAsB,AACtB,qBAAsB,AACtB,iBAAmB,CACpB,AAED,2BACE,kBAAmB,AACnB,OAAQ,AAAC,QAAS,AAAC,MAAO,AAAC,SAAU,AACrC,SAAW,CACZ,AAED,uBACE,kBAAmB,AACnB,UAAW,AACX,aAAe,CAChB,AAID,oBAAsB,aAAe,CAAE,AAEvC,iBACE,YAAc,CACf,AAGD,mGAME,sBAAwB,CACzB,AAED,oBACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,gBAAiB,AACjB,iBAAmB,CACpB,AAED,mBACE,kBAAmB,AACnB,mBAAqB,CACtB,AACD,wBAA0B,eAAiB,CAAE,AAE7C,uBACE,kBAAmB,AACnB,kBAAmB,AACnB,SAAW,CACZ,AAKD,sEACE,kBAAoB,CACrB,AAED,qBAAuB,kBAAoB,CAAE,AAC7C,yCAA2C,kBAAoB,CAAE,AACjE,sBAAwB,gBAAkB,CAAE,AAC5C,mGAA6G,kBAAoB,CAAE,AACnI,kHAA4H,kBAAoB,CAAE,AAElJ,cACE,gBAAiB,AACjB,6BAAkC,CACnC,AAGD,iBAAmB,kBAAoB,CAAE,AAEzC,aAEE,mCACE,iBAAmB,CACpB,CACF,AAGD,wBAA0B,UAAY,CAAE,AAGxC,6BAA+B,eAAiB,CAAE",file:"codemirror.css",sourcesContent:["/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: -20px;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3 {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-3024-day.CodeMirror{background:#f7f7f7;color:#3a3432}.cm-s-3024-day div.CodeMirror-selected{background:#d6d5d4}.cm-s-3024-day .CodeMirror-line::selection,.cm-s-3024-day .CodeMirror-line>span::selection,.cm-s-3024-day .CodeMirror-line>span>span::selection{background:#d6d5d4}.cm-s-3024-day .CodeMirror-line::-moz-selection,.cm-s-3024-day .CodeMirror-line>span::-moz-selection,.cm-s-3024-day .CodeMirror-line>span>span::selection{background:#d9d9d9}.cm-s-3024-day .CodeMirror-gutters{background:#f7f7f7;border-right:0}.cm-s-3024-day .CodeMirror-guttermarker{color:#db2d20}.cm-s-3024-day .CodeMirror-guttermarker-subtle,.cm-s-3024-day .CodeMirror-linenumber{color:#807d7c}.cm-s-3024-day .CodeMirror-cursor{border-left:1px solid #5c5855}.cm-s-3024-day span.cm-comment{color:#cdab53}.cm-s-3024-day span.cm-atom,.cm-s-3024-day span.cm-number{color:#a16a94}.cm-s-3024-day span.cm-attribute,.cm-s-3024-day span.cm-property{color:#01a252}.cm-s-3024-day span.cm-keyword{color:#db2d20}.cm-s-3024-day span.cm-string{color:#fded02}.cm-s-3024-day span.cm-variable{color:#01a252}.cm-s-3024-day span.cm-variable-2{color:#01a0e4}.cm-s-3024-day span.cm-def{color:#e8bbd0}.cm-s-3024-day span.cm-bracket{color:#3a3432}.cm-s-3024-day span.cm-tag{color:#db2d20}.cm-s-3024-day span.cm-link{color:#a16a94}.cm-s-3024-day span.cm-error{background:#db2d20;color:#5c5855}.cm-s-3024-day .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-3024-day .CodeMirror-matchingbracket{text-decoration:underline;color:#a16a94!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/3024-day.css"],names:[],mappings:"AAUA,0BAA4B,mBAAoB,AAAC,aAAe,CAAE,AAClE,uCAAyC,kBAAoB,CAAE,AAE/D,gJAA0J,kBAAoB,CAAE,AAChL,0JAAoK,kBAAoB,CAAE,AAE1L,mCAAqC,mBAAoB,AAAC,cAAkB,CAAE,AAC9E,wCAA0C,aAAe,CAAE,AAE3D,qFAAwC,aAAe,CAAE,AAEzD,kCAAoC,6BAA+B,CAAE,AAErE,+BAAiC,aAAe,CAAE,AAElD,0DAAgC,aAAe,CAAE,AAEjD,iEAAoE,aAAe,CAAE,AACrF,+BAAiC,aAAe,CAAE,AAClD,8BAAgC,aAAe,CAAE,AAEjD,gCAAkC,aAAe,CAAE,AACnD,kCAAoC,aAAe,CAAE,AACrD,2BAA6B,aAAe,CAAE,AAC9C,+BAAiC,aAAe,CAAE,AAClD,2BAA6B,aAAe,CAAE,AAC9C,4BAA8B,aAAe,CAAE,AAC/C,6BAA+B,mBAAoB,AAAC,aAAe,CAAE,AAErE,iDAAmD,kBAAoB,CAAE,AACzE,2CAA6C,0BAA2B,AAAC,uBAA0B,CAAE",
file:"3024-day.css",sourcesContent:["/*\n\n    Name:       3024 day\n    Author:     Jan T. Sott (http://github.com/idleberg)\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-3024-day.CodeMirror { background: #f7f7f7; color: #3a3432; }\n.cm-s-3024-day div.CodeMirror-selected { background: #d6d5d4; }\n\n.cm-s-3024-day .CodeMirror-line::selection, .cm-s-3024-day .CodeMirror-line > span::selection, .cm-s-3024-day .CodeMirror-line > span > span::selection { background: #d6d5d4; }\n.cm-s-3024-day .CodeMirror-line::-moz-selection, .cm-s-3024-day .CodeMirror-line > span::-moz-selection, .cm-s-3024-day .CodeMirror-line > span > span::selection { background: #d9d9d9; }\n\n.cm-s-3024-day .CodeMirror-gutters { background: #f7f7f7; border-right: 0px; }\n.cm-s-3024-day .CodeMirror-guttermarker { color: #db2d20; }\n.cm-s-3024-day .CodeMirror-guttermarker-subtle { color: #807d7c; }\n.cm-s-3024-day .CodeMirror-linenumber { color: #807d7c; }\n\n.cm-s-3024-day .CodeMirror-cursor { border-left: 1px solid #5c5855; }\n\n.cm-s-3024-day span.cm-comment { color: #cdab53; }\n.cm-s-3024-day span.cm-atom { color: #a16a94; }\n.cm-s-3024-day span.cm-number { color: #a16a94; }\n\n.cm-s-3024-day span.cm-property, .cm-s-3024-day span.cm-attribute { color: #01a252; }\n.cm-s-3024-day span.cm-keyword { color: #db2d20; }\n.cm-s-3024-day span.cm-string { color: #fded02; }\n\n.cm-s-3024-day span.cm-variable { color: #01a252; }\n.cm-s-3024-day span.cm-variable-2 { color: #01a0e4; }\n.cm-s-3024-day span.cm-def { color: #e8bbd0; }\n.cm-s-3024-day span.cm-bracket { color: #3a3432; }\n.cm-s-3024-day span.cm-tag { color: #db2d20; }\n.cm-s-3024-day span.cm-link { color: #a16a94; }\n.cm-s-3024-day span.cm-error { background: #db2d20; color: #5c5855; }\n\n.cm-s-3024-day .CodeMirror-activeline-background { background: #e8f2ff; }\n.cm-s-3024-day .CodeMirror-matchingbracket { text-decoration: underline; color: #a16a94 !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-3024-night.CodeMirror{background:#090300;color:#d6d5d4}.cm-s-3024-night div.CodeMirror-selected{background:#3a3432}.cm-s-3024-night .CodeMirror-line::selection,.cm-s-3024-night .CodeMirror-line>span::selection,.cm-s-3024-night .CodeMirror-line>span>span::selection{background:rgba(58,52,50,.99)}.cm-s-3024-night .CodeMirror-line::-moz-selection,.cm-s-3024-night .CodeMirror-line>span::-moz-selection,.cm-s-3024-night .CodeMirror-line>span>span::-moz-selection{background:rgba(58,52,50,.99)}.cm-s-3024-night .CodeMirror-gutters{background:#090300;border-right:0}.cm-s-3024-night .CodeMirror-guttermarker{color:#db2d20}.cm-s-3024-night .CodeMirror-guttermarker-subtle,.cm-s-3024-night .CodeMirror-linenumber{color:#5c5855}.cm-s-3024-night .CodeMirror-cursor{border-left:1px solid #807d7c}.cm-s-3024-night span.cm-comment{color:#cdab53}.cm-s-3024-night span.cm-atom,.cm-s-3024-night span.cm-number{color:#a16a94}.cm-s-3024-night span.cm-attribute,.cm-s-3024-night span.cm-property{color:#01a252}.cm-s-3024-night span.cm-keyword{color:#db2d20}.cm-s-3024-night span.cm-string{color:#fded02}.cm-s-3024-night span.cm-variable{color:#01a252}.cm-s-3024-night span.cm-variable-2{color:#01a0e4}.cm-s-3024-night span.cm-def{color:#e8bbd0}.cm-s-3024-night span.cm-bracket{color:#d6d5d4}.cm-s-3024-night span.cm-tag{color:#db2d20}.cm-s-3024-night span.cm-link{color:#a16a94}.cm-s-3024-night span.cm-error{background:#db2d20;color:#807d7c}.cm-s-3024-night .CodeMirror-activeline-background{background:#2f2f2f}.cm-s-3024-night .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/3024-night.css"],names:[],mappings:"AAUA,4BAA8B,mBAAoB,AAAC,aAAe,CAAE,AACpE,yCAA2C,kBAAoB,CAAE,AACjE,sJAAgK,6BAAkC,CAAE,AACpM,qKAA+K,6BAAkC,CAAE,AACnN,qCAAuC,mBAAoB,AAAC,cAAkB,CAAE,AAChF,0CAA4C,aAAe,CAAE,AAE7D,yFAA0C,aAAe,CAAE,AAE3D,oCAAsC,6BAA+B,CAAE,AAEvE,iCAAmC,aAAe,CAAE,AAEpD,8DAAkC,aAAe,CAAE,AAEnD,qEAAwE,aAAe,CAAE,AACzF,iCAAmC,aAAe,CAAE,AACpD,gCAAkC,aAAe,CAAE,AAEnD,kCAAoC,aAAe,CAAE,AACrD,oCAAsC,aAAe,CAAE,AACvD,6BAA+B,aAAe,CAAE,AAChD,iCAAmC,aAAe,CAAE,AACpD,6BAA+B,aAAe,CAAE,AAChD,8BAAgC,aAAe,CAAE,AACjD,+BAAiC,mBAAoB,AAAC,aAAe,CAAE,AAEvE,mDAAqD,kBAAoB,CAAE,AAC3E,6CAA+C,0BAA2B,AAAC,oBAAwB,CAAE",file:"3024-night.css",sourcesContent:["/*\n\n    Name:       3024 night\n    Author:     Jan T. Sott (http://github.com/idleberg)\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-3024-night.CodeMirror { background: #090300; color: #d6d5d4; }\n.cm-s-3024-night div.CodeMirror-selected { background: #3a3432; }\n.cm-s-3024-night .CodeMirror-line::selection, .cm-s-3024-night .CodeMirror-line > span::selection, .cm-s-3024-night .CodeMirror-line > span > span::selection { background: rgba(58, 52, 50, .99); }\n.cm-s-3024-night .CodeMirror-line::-moz-selection, .cm-s-3024-night .CodeMirror-line > span::-moz-selection, .cm-s-3024-night .CodeMirror-line > span > span::-moz-selection { background: rgba(58, 52, 50, .99); }\n.cm-s-3024-night .CodeMirror-gutters { background: #090300; border-right: 0px; }\n.cm-s-3024-night .CodeMirror-guttermarker { color: #db2d20; }\n.cm-s-3024-night .CodeMirror-guttermarker-subtle { color: #5c5855; }\n.cm-s-3024-night .CodeMirror-linenumber { color: #5c5855; }\n\n.cm-s-3024-night .CodeMirror-cursor { border-left: 1px solid #807d7c; }\n\n.cm-s-3024-night span.cm-comment { color: #cdab53; }\n.cm-s-3024-night span.cm-atom { color: #a16a94; }\n.cm-s-3024-night span.cm-number { color: #a16a94; }\n\n.cm-s-3024-night span.cm-property, .cm-s-3024-night span.cm-attribute { color: #01a252; }\n.cm-s-3024-night span.cm-keyword { color: #db2d20; }\n.cm-s-3024-night span.cm-string { color: #fded02; }\n\n.cm-s-3024-night span.cm-variable { color: #01a252; }\n.cm-s-3024-night span.cm-variable-2 { color: #01a0e4; }\n.cm-s-3024-night span.cm-def { color: #e8bbd0; }\n.cm-s-3024-night span.cm-bracket { color: #d6d5d4; }\n.cm-s-3024-night span.cm-tag { color: #db2d20; }\n.cm-s-3024-night span.cm-link { color: #a16a94; }\n.cm-s-3024-night span.cm-error { background: #db2d20; color: #807d7c; }\n\n.cm-s-3024-night .CodeMirror-activeline-background { background: #2F2F2F; }\n.cm-s-3024-night .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-ambiance.CodeMirror{box-shadow:none}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/ambiance-mobile.css"],names:[],mappings:"AAAA,0BAGE,eAAiB,CAClB",file:"ambiance-mobile.css",sourcesContent:[".cm-s-ambiance.CodeMirror {\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,'.cm-s-ambiance .cm-header{color:blue}.cm-s-ambiance .cm-quote{color:#24c2c7}.cm-s-ambiance .cm-keyword{color:#cda869}.cm-s-ambiance .cm-atom{color:#cf7ea9}.cm-s-ambiance .cm-number{color:#78cf8a}.cm-s-ambiance .cm-def{color:#aac6e3}.cm-s-ambiance .cm-variable{color:#ffb795}.cm-s-ambiance .cm-variable-2{color:#eed1b3}.cm-s-ambiance .cm-variable-3{color:#faded3}.cm-s-ambiance .cm-property{color:#eed1b3}.cm-s-ambiance .cm-operator{color:#fa8d6a}.cm-s-ambiance .cm-comment{color:#555;font-style:italic}.cm-s-ambiance .cm-string{color:#8f9d6a}.cm-s-ambiance .cm-string-2{color:#9d937c}.cm-s-ambiance .cm-meta{color:#d2a8a1}.cm-s-ambiance .cm-qualifier{color:#ff0}.cm-s-ambiance .cm-builtin{color:#99c}.cm-s-ambiance .cm-bracket{color:#24c2c7}.cm-s-ambiance .cm-tag{color:#fee4ff}.cm-s-ambiance .cm-attribute{color:#9b859d}.cm-s-ambiance .cm-hr{color:pink}.cm-s-ambiance .cm-link{color:#f4c20b}.cm-s-ambiance .cm-special{color:#ff9d00}.cm-s-ambiance .cm-error{color:#af2018}.cm-s-ambiance .CodeMirror-matchingbracket{color:#0f0}.cm-s-ambiance .CodeMirror-nonmatchingbracket{color:#f22}.cm-s-ambiance div.CodeMirror-selected{background:hsla(0,0%,100%,.15)}.cm-s-ambiance.CodeMirror-focused div.CodeMirror-selected{background:hsla(0,0%,100%,.1)}.cm-s-ambiance .CodeMirror-line::selection,.cm-s-ambiance .CodeMirror-line>span::selection,.cm-s-ambiance .CodeMirror-line>span>span::selection{background:hsla(0,0%,100%,.1)}.cm-s-ambiance .CodeMirror-line::-moz-selection,.cm-s-ambiance .CodeMirror-line>span::-moz-selection,.cm-s-ambiance .CodeMirror-line>span>span::-moz-selection{background:hsla(0,0%,100%,.1)}.cm-s-ambiance.CodeMirror{line-height:1.4em;color:#e6e1dc;background-color:#202020;box-shadow:inset 0 0 10px #000}.cm-s-ambiance .CodeMirror-gutters{background:#3d3d3d;border-right:1px solid #4d4d4d;box-shadow:0 10px 20px #000}.cm-s-ambiance .CodeMirror-linenumber{text-shadow:0 1px 1px #4d4d4d;color:#111;padding:0 5px}.cm-s-ambiance .CodeMirror-guttermarker{color:#aaa}.cm-s-ambiance .CodeMirror-guttermarker-subtle{color:#111}.cm-s-ambiance .CodeMirror-cursor{border-left:1px solid #7991e8}.cm-s-ambiance .CodeMirror-activeline-background{background:none repeat scroll 0 0 hsla(0,0%,100%,.031)}.cm-s-ambiance.CodeMirror,.cm-s-ambiance .CodeMirror-gutters{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAQAAAAHUWYVAABFFUlEQVQYGbzBCeDVU/74/6fj9HIcx/FRHx9JCFmzMyGRURhLZIkUsoeRfUjS2FNDtr6WkMhO9sm+S8maJfu+Jcsg+/o/c+Z4z/t97/vezy3z+z8ekGlnYICG/o7gdk+wmSHZ1z4pJItqapjoKXWahm8NmV6eOTbWUOp6/6a/XIg6GQqmenJ2lDHyvCFZ2cBDbmtHA043VFhHwXxClWmeYAdLhV00Bd85go8VmaFCkbVkzlQENzfBDZ5gtN7HwF0KDrTwJ0dypSOzpaKCMwQHKTIreYIxlmhXTzTWkVm+LTynZhiSBT3RZQ7aGfjGEd3qyXQ1FDymqbKxpspERQN2MiRjNZlFFQXfCNFm9nM1zpAsoYjmtRTc5ajwuaXc5xrWskT97RaKzAGe5ARHhVUsDbjKklziiX5WROcJwSNCNI+9w1Jwv4Zb2r7lCMZ4oq5C0EdTx+2GzNuKpJ+iFf38JEWkHJn9DNF7mmBDITrWEg0VWL3pHU20tSZnuqWu+R3BtYa8XxV1HO7GyD32UkOpL/yDloINFTmvtId+nmAjxRw40VMwVKiwrKLE4bK5UOVntYwhOcSSXKrJHKPJedocpGjVz/ZMIbnYUPB10/eKCrs5apqpgVmWzBYWpmtKHecJPjaUuEgRDDaU0oZghCJ6zNMQ5ZhDYx05r5v2muQdM0EILtXUsaKiQX9WMEUotagQzFbUNN6NUPC2nm5pxEWGCjMc3GdJHjSU2kORLK/JGSrkfGEIjncU/CYUnOipoYemwj8tST9NsJmB7TUVXtbUtXATJVZXBMvYeTXJfobgJUPmGMP/yFaWonaa6BcFO3nqcIqCozSZoZoSr1g4zJOzuyGnxTEX3lUEJ7WcZgme8ddaWvWJo2AJR9DZU3CUIbhCSG6ybSwN6qtJVnCU2svDTP2ZInOw2cBTrqtQahtNZn9NcJ4l2NaSmSkkP1noZWnVwkLmdUPOwLZEwy2Z3S3R+4rIG9hcbpPXHFVWcQdZkn2FOta3cKWQnNRC5g1LsJah4GCzSVsKnCOY5OAFRTBekyyryeyilhFKva75r4Mc0aWanGEaThcy31s439KKxTzJYY5WTHPU1FtIHjQU3Oip4xlNzj/lBw23dYZVliQa7WAXf4shetcQfatI+jWRDBPmyNeW6A1P5kdDgyYJlba0BIM8BZu1JfrFwItyjcAMR3K0BWOIrtMEXyhyrlVEx3ui5dUBjmB/Q3CXW85R4mBD0s7B+4q5tKUjOlb9qqmhi5AZ6GFIC5HXtOobdYGlVdMVbNJ8toNTFcHxnoL+muBagcctjWnbNMuR00uI7nQESwg5q2qqrKWIfrNUmeQocY6HuyxJV02wj36w00yhpmUFenv4p6fUkZYqLyuinx2RGOjhCXYyJF84oiU00YMOOhhquNdfbOB7gU88pY4xJO8LVdp6/q2voeB4R04vIdhSE40xZObx1HGGJ/ja0LBthFInKaLPPFzuCaYaoj8JjPME8yoyxo6zlBqkiUZYgq00OYMswbWO5NGmq+xhipxHLRW29ARjNKXO0wRnear8XSg4XFPLKEPUS1GqvyLwiuBUoa7zpZ0l5xxFwWmWZC1H5h5FwU8eQ7K+g8UcVY6TMQreVQT/8uQ8Z+ALIXnSEa2pYZQneE9RZbSBNYXfWYJzW/h/4j4Dp1tYVcFIC5019Vyi4ThPqSFCzjGWaHQTBU8q6vrVwgxP9Lkm840imWKpcLCjYTtrKuwvsKSnrvHCXGkSMk9p6lhckfRpIeis+N2PiszT+mFLspyGleUhDwcLrZqmyeylxwjBcKHEapqkmyangyLZRVOijwOtCY5SsG5zL0OwlCJ4y5KznF3EUNDDrinwiyLZRzOXtlBbK5ITHFGLp8Q0R6ab6mS7enI2cFrxOyHvOCFaT1HThS1krjCwqWeurCkk+willhCC+RSZnRXBiZaC5RXRIZYKp2lyfrHwiKPKR0JDzrdU2EFgpidawlFDR6FgXUMNa+g1FY3bUQh2cLCwosRdnuQTS/S+JVrGLeWIvtQUvONJxlqSQYYKpwoN2kaocLjdVsis4Mk80ESF2YpSkzwldjHkjFCUutI/r+EHDU8oCs6yzL3PhWiEooZdFMkymlas4AcI3KmoMMNSQ3tHzjGWCrcJJdYyZC7QFGwjRL9p+MrRkAGWzIaWCn9W0F3TsK01c2ZvQw0byvxuQU0r1lM0qJO7wW0kRIMdDTtXEdzi4VIh+EoIHm0mWtAtpCixlabgn83fKTI7anJe9ST7WIK1DMGpQmYeA58ImV6ezOGOzK2Kgq01pd60cKWiUi9Lievb/0vIDPHQ05Kzt4ddPckQBQtoaurjyHnek/nKzpQLrVgKPjIkh2v4uyezpv+Xoo7fPFXaGFp1vaLKxQ4uUpQQS5VuQs7BCq4xRJv7fwpVvvFEB3j+620haOuocqMhWd6TTPAEx+mdFNGHdranFe95WrWmIvlY4F1Dle2ECgc6cto7SryuqGGGha0tFQ5V53migUKmg6XKAo4qS3mik+0OZpAhOLeZKicacgaYcyx5hypYQE02ZA4xi/pNhOQxR4klNKyqacj+mpxnLTnnGSo85++3ZCZq6lrZkXlGEX3o+C9FieccJbZWVFjC0Yo1FZnJhoYMFoI1hEZ9r6hwg75HwzBNhbZCdJEfJwTPGzJvaKImw1yYX1HDAmpXR+ZJQ/SmgqMNVQb5vgamGwLtt7VwvP7Qk1xpiM5x5Cyv93E06MZmgs0Nya2azIKOYKCGBQQW97RmhKNKF02JZqHEJ4o58qp7X5EcZmc56trXEqzjCBZ1MFGR87Ql2tSTs6CGxS05PTzRQorkbw7aKoKXFDXsYW42VJih/q+FP2BdTzDTwVqOYB13liM50vG7wy28qagyuIXMeQI/Oqq8bcn5wJI50xH00CRntyfpL1T4hydYpoXgNiFzoIUTDZnLNRzh4TBHwbYGDvZkxmlyJloyr6tRihpeUG94GnKtIznREF0tzJG/OOr73JBcrSh1k6WuTprgLU+mnSGnv6Zge0NNz+kTDdH8nuAuTdJDCNb21LCiIuqlYbqGzT3RAoZofQfjFazkqeNWdYaGvYTM001EW2oKPvVk1ldUGSgUtHFwjKM1h9jnFcmy5lChoLNaQMGGDsYbKixlaMBmmsx1QjCfflwTfO/gckW0ruZ3jugKR3R5W9hGUWqCgxuFgsuaCHorotGKzGaeZB9DMsaTnKCpMtwTvOzhYk0rdrArKCqcaWmVk1+F372ur1YkKxgatI8Qfe1gIX9wE9FgS8ESmuABIXnRUbCapcKe+nO7slClSZFzpV/LkLncEb1qiO42fS3R855Su2mCLh62t1SYZZYVmKwIHjREF2uihTzB20JOkz7dkxzYQnK0UOU494wh+VWRc6Un2kpTaVgLDFEkJ/uhzRcI0YKGgpGWOlocBU/a4fKoJ/pEaNV6jip3+Es9VXY078rGnmAdf7t9ylPXS34RBSuYPs1UecZTU78WanhBCHpZ5sAoTz0LGZKjPf9TRypqWEiTvOFglL1fCEY3wY/++rbk7C8bWebA6p6om6PgOL2kp44TFJlVNBXae2rqqdZztOJpT87GQsE9jqCPIe9VReZuQ/CIgacsyZdCpIScSYqcZk8r+nsyCzhyfhOqHGOIvrLknC8wTpFcaYiGC/RU1NRbUeUpocQOnkRpGOrIOcNRx+1uA0UrzhSSt+VyS3SJpnFWkzNDqOFGIWcfR86DnmARTQ1HKIL33ExPiemeOhYSSjzlSUZZuE4TveoJLnBUOFof6KiysCbnAEcZgcUNTDOwkqWu3RWtmGpZwlHhJENdZ3miGz0lJlsKnjbwqSHQjpxnFDlTLLwqJPMZMjd7KrzkSG7VsxXBZE+F8YZkb01Oe00yyRK9psh5SYh29ySPKBo2ylNht7ZkZnsKenjKNJu9PNEyZpaCHv4Kt6RQsLvAVp7M9kIimmCUwGeWqLMmGuIotYMmWNpSahkhZw9FqZsVnKJhsjAHvtHMsTM9fCI06Dx/u3vfUXCqfsKRc4oFY2jMsoo/7DJDwZ1CsIKnJu+J9ldkpmiCxQx1rWjI+T9FwcWWzOuaYH0Hj7klNRVWEQpmaqosakiGNTFHdjS/qnUdmf0NJW5xsL0HhimCCZZSRzmSPTXJQ4aaztAwtZnoabebJ+htCaZ7Cm535ByoqXKbX1WRc4Eh2MkRXWzImVc96Cj4VdOKVxR84VdQsIUM8Psoou2byVHyZFuq7O8otbSQ2UAoeEWTudATLGSpZzVLlXVkPU2Jc+27lsw2jmg5T5VhbeE3BT083K9WsTTkFU/Osi0rC5lRlpwRHUiesNS0sOvmqGML1aRbPAxTJD9ZKtxuob+hhl8cwYGWpJ8nub7t5p6coYbMovZ1BTdaKn1jYD6h4GFDNFyT/Kqe1XCXphXHOKLZmuRSRdBPEfVUXQzJm5YGPGGJdvAEr7hHNdGZnuBvrpciGmopOLf5N0uVMy0FfYToJk90uUCbJupaVpO53UJXR2bVpoU00V2KOo4zMFrBd0Jtz2pa0clT5Q5L8IpQ177mWQejPMEJhuQjS10ref6HHjdEhy1P1EYR7GtO0uSsKJQYLiTnG1rVScj5lyazpqWGl5uBbRWl7m6ixGOOnEsMJR7z8J0n6KMnCdxhiNYQCoZ6CmYLnO8omC3MkW3bktlPmEt/VQQHejL3+dOE5FlPdK/Mq8hZxxJtLyRrepLThYKbLZxkSb5W52vYxNOaOxUF0yxMUPwBTYqCzy01XayYK0sJyWBLqX0MwU5CzoymRzV0EjjeUeLgDpTo6ij42ZAzvD01dHUUTPLU96MdLbBME8nFBn7zJCMtJcZokn8YoqU0FS5WFKyniHobguMcmW8N0XkWZjkyN3hqOMtS08r+/xTBwpZSZ3qiVRX8SzMHHjfUNFjgHEPmY9PL3ykEzxkSre/1ZD6z/NuznuB0RcE1TWTm9zRgfUWVJiG6yrzgmWPXC8EAR4Wxhlad0ZbgQyEz3pG5RVEwwDJH2mgKpjcTiCOzn1lfUWANFbZ2BA8balnEweJC9J0iuaeZoI+ippFCztEKVvckR2iice1JvhVytrQwUAZpgsubCPaU7xUe9vWnaOpaSBEspalykhC9bUlOMpT42ZHca6hyrqKmw/wMR8H5ZmdFoBVJb03O4UL0tSNnvIeRmkrLWqrs78gcrEn2tpcboh0UPOW3UUR9PMk4T4nnNKWmCjlrefhCwxRNztfmIQVdDElvS4m1/WuOujoZCs5XVOjtKPGokJzsYCtFYoWonSPT21DheU/wWhM19FcElwqNGOsp9Q8N/cwXaiND1MmeL1Q5XROtYYgGeFq1aTMsoMmcrKjQrOFQTQ1fmBYhmW6o8Jkjc7iDJRTBIo5kgJD5yMEYA3srCg7VFKwiVJkmRCc5ohGOKhsYMn/XBLdo5taZjlb9YAlGWRimqbCsoY7HFAXLa5I1HPRxMMsQDHFkWtRNniqT9UEeNjcE7RUlrCJ4R2CSJuqlKHWvJXjAUNcITYkenuBRB84TbeepcqTj3zZyFJzgYQdHnqfgI0ddUwS6GqWpsKWhjq9cV0vBAEMN2znq+EBfIWT+pClYw5xsTlJU6GeIBsjGmmANTzJZiIYpgrM0Oa8ZMjd7NP87jxhqGOhJlnQtjuQpB+8aEE00wZFznSJPyHxgH3HkPOsJFvYk8zqCHzTs1BYOa4J3PFU+UVRZxlHDM4YavlNUuMoRveiZA2d7grMNc2g+RbSCEKzmgYsUmWmazFJyoiOZ4KnyhKOGRzWJa0+moyV4TVHDzn51Awtqaphfk/lRQ08FX1iiqxTB/kLwd0VynKfEvI6cd4XMV5bMhZ7gZUWVzYQ6Nm2BYzxJbw3bGthEUUMfgbGeorae6DxHtJoZ6alhZ0+ytiVoK1R4z5PTrOECT/SugseEOlb1MMNR4VRNcJy+V1Hg9ONClSZFZjdHlc6W6FBLdJja2MC5hhpu0DBYEY1TFGwiFAxRRCsYkiM9JRb0JNMVkW6CZYT/2EiTGWmo8k+h4FhDNE7BvppoTSFnmCV5xZKzvcCdDo7VVPnIU+I+Rc68juApC90MwcFCsJ5hDqxgScYKreruyQwTqrzoqDCmhWi4IbhB0Yrt3RGa6GfDv52rKXWhh28dyZaWUvcZeMTBaZoSGyiCtRU5J8iviioHaErs7Jkj61syVzTTgOcUOQ8buFBTYWdL5g3T4qlpe0+wvD63heAXRfCCIed9RbCsp2CiI7raUOYOTU13N8PNHvpaGvayo4a3LLT1lDrVEPT2zLUlheB1R+ZTRfKWJ+dcocLJfi11vyJ51lLqJ0WD7tRwryezjiV5W28uJO9qykzX8JDe2lHl/9oyBwa2UMfOngpXCixvKdXTk3wrsKmiVYdZIqsoWEERjbcUNDuiaQomGoIbFdEHmsyWnuR+IeriKDVLnlawlyNHKwKlSU631PKep8J4Q+ayjkSLKYLhalNHlYvttb6fHm0p6OApsZ4l2VfdqZkjuysy6ysKLlckf1KUutCTs39bmCgEyyoasIWlVaMF7mgmWtBT8Kol5xpH9IGllo8cJdopcvZ2sImlDmMIbtDk3KIpeNiS08lQw11NFPTwVFlPP6pJ2gvRfI7gQUfmNAtf6Gs0wQxDsKGlVBdF8rCa3jzdwMaGHOsItrZk7hAyOzpK9VS06j5F49b0VNGOOfKs3lDToMsMBe9ZWtHFEgxTJLs7qrygKZjUnmCYoeAqeU6jqWuLJup4WghOdvCYJnrSkSzoyRkm5M2StQwVltPkfCAk58tET/CSg+8MUecmotMEnhBKfWBIZsg2ihruMJQaoIm+tkTLKEqspMh00w95gvFCQRtDwTT1gVDDSEVdlwqZfxoQRbK0g+tbiBZxzKlpnpypejdDwTaeOvorMk/IJE10h9CqRe28hhLbe0pMsdSwv4ZbhKivo2BjDWfL8UKJgeavwlwb5KlwhyE4u4XkGE2ytZCznKLCDZZq42VzT8HLCrpruFbIfOIINmh/qCdZ1ZBc65kLHR1Bkyf5zn6pN3SvGKIlFNGplhrO9QSXanLOMQTLCa0YJCRrCZm/CZmrLTm7WzCK4GJDiWUdFeYx1LCFg3NMd0XmCuF3Y5rITLDUsYS9zoHVzwnJoYpSTQoObyEzr4cFBNqYTopoaU/wkyLZ2lPhX/5Y95ulxGTV7KjhWrOZgl8MyUUafjYraNjNU1N3IWcjT5WzWqjwtoarHSUObGYO3GCJZpsBlnJGPd6ZYLyl1GdCA2625IwwJDP8GUKymbzuyPlZlvTUsaUh5zFDhRWFzPKKZLAlWdcQbObgF9tOqOsmB1dqcqYJmWstFbZRRI9poolmqiLnU0POvxScpah2iSL5UJNzgScY5+AuIbpO0YD3NCW+dLMszFSdFCWGqG6eVq2uYVNDdICGD6W7EPRWZEY5gpsE9rUkS3mijzzJnm6UpUFXG1hCUeVoS5WfNcFpblELL2qqrCvMvRfd45oalvKU2tiQ6ePJOVMRXase9iTtLJztPxJKLWpo2CRDcJwn2sWSLKIO1WQWNTCvpVUvOZhgSC40JD0dOctaSqzkCRbXsKlb11Oip6PCJ0IwSJM31j3akRxlP7Rwn6aGaUL0qiLnJkvB3xWZ2+Q1TfCwpQH3G0o92UzmX4o/oJNQMMSQc547wVHhdk+VCw01DFYEnTxzZKAm74QmeNNR1w6WzEhNK15VJzuCdxQ53dRUDws5KvwgBMOEgpcVNe0hZI6RXT1Jd0cyj5nsaEAHgVmGaJIlWdsc5Ui2ElrRR6jrRAttNMEAIWrTDFubkZaok7/AkzfIwfuWVq0jHzuCK4QabtLUMVPB3kJ0oyHTSVFlqMALilJf2Rf8k5aaHtMfayocLBS8L89oKoxpJvnAkDPa0qp5DAUTHKWmCcnthlou8iCKaFFLHWcINd1nyIwXqrSxMNmSs6KmoL2QrKuWtlQ5V0120xQ5vRyZS1rgFkWwhiOwiuQbR0OOVhQM9iS3tiXp4RawRPMp5tDletOOBL95MpM01dZTBM9pkn5qF010rIeHFcFZhmSGpYpTsI6nwhqe5C9ynhlpp5ophuRb6WcJFldkVnVEwwxVfrVkvnWUuNLCg5bgboFHPDlDPDmnK7hUrWiIbjadDclujlZcaokOFup4Ri1kacV6jmrrK1hN9bGwpKEBQ4Q6DvIUXOmo6U5LqQM6EPyiKNjVkPnJkDPNEaxhiFay5ExW1NXVUGqcpYYdPcGiCq7z/TSlbhL4pplWXKd7NZO5QQFrefhRQW/NHOsqcIglc4UhWklR8K0QzbAw08CBDnpbgqXdeD/QUsM4RZXDFBW6WJKe/mFPdH0LtBgiq57wFLzlyQzz82qYx5D5WJP5yVJDW01BfyHnS6HKO/reZqId1WGa4Hkh2kWodJ8i6KoIPlAj2hPt76CzXsVR6koPRzWTfKqIentatYpQw2me4AA3y1Kind3SwoOKZDcFXTwl9tWU6mfgRk9d71sKtlNwrjnYw5tC5n5LdKiGry3JKNlHEd3oaMCFHrazBPMp/uNJ+V7IudcSbeOIdjUEdwl0VHCOZo5t6YluEuaC9mQeMgSfOyKnYGFHcIeQ84yQWbuJYJpZw5CzglDH7gKnWqqM9ZTaXcN0TeYhR84eQtJT76JJ1lREe7WnnvsMmRc9FQ7SBBM9mV3lCUdmHk/S2RAMt0QjFNFqQpWjDPQ01DXWUdDBkXziKPjGEP3VP+zIWU2t7im41FOloyWzn/L6dkUy3VLDaZ6appgDLHPjJEsyvJngWEPUyVBiAaHCTEXwrLvSEbV1e1gKJniicWorC1MUrVjB3uDhJE/wgSOzk1DXpk0k73qCM8xw2UvD5kJmDUfOomqMpWCkJRlvKXGmoeBm18USjVIk04SClxTB6YrgLAPLWYK9HLUt5cmc0vYES8GnTeRc6skZbQkWdxRsIcyBRzx1DbTk9FbU0caTPOgJHhJKnOGIVhQqvKmo0llRw9sabrZkDtdg3PqaKi9oatjY8B+G371paMg6+mZFNNtQ04mWBq3rYLOmtWWQp8KJnpy9DdFensyjdqZ+yY40VJlH8wcdLzC8PZnvHMFUTZUrDTkLyQaGus5X5LzpYAf3i+e/ZlhqGqWhh6Ou6xTR9Z6oi5AZZtp7Mj2EEm8oSpxiYZCHU/1fbGdNNNRRoZMhmilEb2gqHOEJDtXkHK/JnG6IrvbPCwV3NhONVdS1thBMs1T4QOBcTWa2IzhMk2nW5Kyn9tXUtpv9RsG2msxk+ZsQzRQacJncpgke0+T8y5Fzj8BiGo7XlJjaTIlpQs7KFjpqGnKuoyEPeIKnFMkZHvopgh81ySxNFWvJWcKRs70j2FOT012IllEEO1n4pD1513Yg2ssQPOThOkvyrqHUdEXOSEsihmBbTbKX1kLBPWqWkLOqJbjB3GBIZmoa8qWl4CG/iZ7oiA72ZL7TJNeZUY7kFQftDcHHluBzRbCegzMtrRjVQpX2lgoPKKLJAkcbMl01XK2p7yhL8pCBbQ3BN2avJgKvttcrWDK3CiUOVxQ8ZP+pqXKyIxnmBymCg5vJjNfkPK4+c8cIfK8ocVt7kmfd/I5SR1hKvCzUtb+lhgc00ZaO6CyhIQP1Uv4yIZjload72PXX0OIJvnFU+0Zf6MhsJwTfW0r0UwQfW4LNLZl5HK261JCZ4qnBaAreVAS3WrjV0LBnNDUNNDToCEeFfwgcb4gOEqLRhirWkexrCEYKVV711DLYEE1XBEsp5tpTGjorkomKYF9FDXv7fR3BGwbettSxnyL53MBPjsxDZjMh+VUW9NRxq1DhVk+FSxQcaGjV9Pawv6eGByw5qzoy7xk4RsOShqjJwWKe/1pEEfzkobeD/dQJmpqedcyBTy2sr4nGNRH0c0SPWTLrqAc0OQcb/gemKgqucQT7ySWKCn2EUotoCvpZct7RO2sy/QW0IWcXd7pQRQyZVwT2USRO87uhjioTLKV2brpMUcMQRbKH/N2T+UlTpaMls6cmc6CCNy3JdYYSUzzJQ4oSD3oKLncULOiJvjBEC2oqnCJkJluCYy2ZQ5so9YYlZ1VLlQU1mXEW1jZERwj/MUSRc24TdexlqLKfQBtDTScJUV8FszXBEY5ktpD5Ur9hYB4Nb1iikw3JoYpkKX+RodRKFt53MMuRnKSpY31PwYaGaILh3wxJGz9TkTPEETxoCWZrgvOlmyMzxFEwVJE5xZKzvyJ4WxEc16Gd4Xe3Weq4XH2jKRikqOkGQ87hQnC7wBmGYLAnesX3M+S87eFATauuN+Qcrh7xIxXJbUIdMw3JGE3ylCWzrieaqCn4zhGM19TQ3z1oH1AX+pWEqIc7wNGAkULBo/ZxRaV9NNyh4Br3rCHZzbzmSfawBL0dNRwpW1kK9mxPXR9povcdrGSZK9c2k0xwFGzjuniCtRSZCZ6ccZ7gaktmgAOtKbG/JnOkJrjcQTdFMsxRQ2cLY3WTIrlCw1eWKn8R6pvt4GFDso3QoL4a3nLk3G6JrtME3dSenpx7PNFTmga0EaJTLQ061sEeQoWXhSo9LTXsaSjoJQRXeZLtDclbCrYzfzHHeaKjHCVOUkQHO3JeEepr56mhiyaYYKjjNU+Fed1wS5VlhWSqI/hYUdDOkaxiKehoyOnrCV5yBHtbWFqTHCCwtpDcYolesVR5yUzTZBb3RNMd0d6WP+SvhuBmRcGxnuQzT95IC285cr41cLGQ6aJJhmi4TMGempxeimBRQw1tFKV+8jd6KuzoSTqqDxzRtpZkurvKEHxlqXKRIjjfUNNXQsNOsRScoWFLT+YeRZVD3GRN0MdQcKqQjHDMrdGGVu3iYJpQx3WGUvfbmxwFfR20WBq0oYY7LMFhhgYtr8jpaEnaOzjawWWaTP8mMr0t/EPDPoqcnxTBI5o58L7uoWnMrpoqPwgVrlAUWE+V+TQl9rawoyP6QGAlQw2TPRX+YSkxyBC8Z6jhHkXBgQL7WII3DVFnRfCrBfxewv9D6xsyjys4VkhWb9pUU627JllV0YDNHMku/ldNMMXDEo4aFnAkk4U6frNEU4XgZUPmEKHUl44KrzmYamjAbh0JFvGnaTLPu1s9jPCwjFpYiN7z1DTOk/nc07CfDFzmCf7i+bfNHXhDtLeBXzTBT5rkMvWOIxpl4EMh2LGJBu2syDnAEx2naEhHDWMMzPZEhygyS1mS5RTJr5ZkoKbEUoYqr2kqdDUE8ztK7OaIntJkFrIECwv8LJTaVx5XJE86go8dFeZ3FN3rjabCAYpoYEeC9zzJVULBbmZhDyd7ko09ydpNZ3nm2Kee4FPPXHnYEF1nqOFEC08LUVcDvYXkJHW8gTaKCk9YGOeIJhqiE4ToPEepdp7IWFjdwnWaufGMwJJCMtUTTBBK9BGCOy2tGGrJTHIwyEOzp6aPzNMOtlZkDvcEWpP5SVNhfkvDxhmSazTJXYrM9U1E0xwFVwqZQwzJxw6+kGGGUj2FglGGmnb1/G51udRSMNlTw6GGnCcUwVcOpmsqTHa06o72sw1RL02p9z0VbnMLOaIX3QKaYKSCFQzBKEUNHTSc48k53RH9wxGMtpQa5KjjW0W0n6XCCCG4yxNNdhQ4R4l1Ff+2sSd6UFHiIEOyqqFgT01mEUMD+joy75jPhOA+oVVLm309FR4yVOlp4RhLiScNmSmaYF5Pw0STrOIoWMSR2UkRXOMp+M4SHW8o8Zoi6OZgjKOaFar8zZDzkWzvKOjkKBjmCXby8JahhjXULY4KlzgKLvAwxVGhvyd4zxB1d9T0piazmKLCVZY5sKiD0y2ZSYrkUEPUbIk+dlQ4SJHTR50k1DPaUWIdTZW9NJwnJMOECgd7ou/MnppMJ02O1VT4Wsh85MnZzcFTngpXGKo84qmwgKbCL/orR/SzJ2crA+t6Mp94KvxJUeIbT3CQu1uIdlQEOzlKfS3UMcrTiFmOuroocrZrT2AcmamOKg8YomeEKm/rlT2sociMaybaUlFhuqHCM2qIJ+rg4EcDFymiDSxzaHdPcpE62pD5kyM5SBMoA1PaUtfIthS85ig1VPiPPYXgYEMNk4Qq7TXBgo7oT57gPUdwgCHzhIVFPFU6OYJzHAX9m5oNrVjeE61miDrqQ4VSa1oiURTsKHC0IfjNwU2WzK6eqK8jWln4g15TVBnqmDteCJ501PGAocJhhqjZdtBEB6lnhLreFJKxmlKbeGrqLiSThVIbCdGzloasa6lpMQXHCME2boLpJgT7yWaemu6wBONbqGNVRS0PKIL7LckbjmQtR7K8I5qtqel+T/ChJTNIKLjdUMNIRyvOEko9YYl2cwQveBikCNawJKcLBbc7+JM92mysNvd/Fqp8a0k6CNEe7cnZrxlW0wQXaXjaktnRwNOGZKYiONwS7a1JVheq3WgJHlQUGKHKmp4KAxXR/ULURcNgoa4zhKSLpZR3kxRRb0NmD0OFn+UCS7CzI1nbP6+o4x47QZE5xRCt3ZagnYcvmpYQktXdk5YKXTzBC57kKEe0VVuiSYqapssMS3C9p2CKkHOg8B8Pa8p5atrIw3qezIWanMGa5HRDNF6RM9wcacl0N+Q8Z8hsIkSnaIIdHRUOEebAPy1zbCkhM062FCJtif7PU+UtoVXzWKqM1PxXO8cfdruhFQ/a6x3JKYagvVDhQEtNiyiiSQ7OsuRsZUku0CRNDs4Sog6KKjsZgk2bYJqijgsEenoKeniinRXBn/U3lgpPdyDZynQx8IiioMnCep5Ky8mjGs6Wty0l1hUQTcNWswS3WRp2kCNZwJG8omG8JphPUaFbC8lEfabwP7VtM9yoaNCAjpR41VNhrD9LkbN722v0CoZMByFzhaW+MyzRYEWFDQwN2M4/JiT76PuljT3VU/A36eaIThb+R9oZGOAJ9tewkgGvqOMNRWYjT/Cwu99Q8LqDE4TgbLWxJ1jaDDAERsFOFrobgjUsBScaguXU8kKm2RL19tRypSHnHNlHiIZqgufs4opgQdVdwxBNNFBR6kVFqb8ogimOzB6a6HTzrlDHEpYaxjiiA4TMQobkDg2vejjfwJGWmnbVFAw3H3hq2NyQfG7hz4aC+w3BbwbesG0swYayvpAs6++Ri1Vfzx93mFChvyN5xVHTS+0p9aqCAxyZ6ZacZyw5+7uuQkFPR9DDk9NOiE7X1PCYJVjVUqq7JlrHwWALF5nfHNGjApdpqgzx5OwilDhCiDYTgnc9waGW4BdLNNUQvOtpzDOWHDH8D7TR/A/85KljEQu3NREc4Pl/6B1Hhc8Umb5CsKMmGC9EPcxoT2amwHNCmeOEnOPbklnMkbOgIvO5UMOpQrS9UGVdt6iH/fURjhI/WOpaW9OKLYRod6HCUEdOX000wpDZQ6hwg6LgZfOqo1RfT/CrJzjekXOGhpc1VW71ZLbXyyp+93ILbC1kPtIEYx0FIx1VDrLoVzXRKRYWk809yYlC9ImcrinxtabKnzRJk3lAU1OLEN1j2zrYzr2myHRXJFf4h4QKT1qSTzTB5+ZNTzTRkAxX8FcLV2uS8eoQQ2aAkFzvCM72sJIcJET3WPjRk5wi32uSS9rfZajpWEvj9hW42F4o5NytSXYy8IKHay10VYdrcl4SkqscrXpMwyGOgtkajheSxdQqmpxP1L3t4R5PqasFnrQEjytq6qgp9Y09Qx9o4S1FzhUCn1kyHSzBWLemoSGvOqLNhZyBjmCaAUYpMgt4Ck7wBBMMwWKWgjsUwTaGVsxWC1mYoKiyqqeGKYqonSIRQ3KIkHO0pmAxTdBHkbOvfllfr+AA+7gnc50huVKYK393FOyg7rbPO/izI7hE4CnHHHnJ0ogNPRUGeUpsrZZTBJcrovUcJe51BPsr6GkJdhCCsZ6aTtMEb2pqWkqeVtDXE/QVggsU/Nl86d9RMF3DxvZTA58agu810RWawCiSzzXBeU3MMW9oyJUedvNEvQyNu1f10BSMddR1vaLCYpYa/mGocLSiYDcLbQz8aMn5iyF4xBNMs1P0QEOV7o5gaWGuzSeLue4tt3ro7y4Tgm4G/mopdZgl6q0o6KzJWE3mMksNr3r+a6CbT8g5wZNzT9O7fi/zpaOmnz3BRoqos+tv9zMbdpxsqDBOEewtJLt7cg5wtKKbvldpSzRRCD43VFheCI7yZLppggMVBS/KMAdHODJvOwq2NQSbKKKPLdFWQs7Fqo+mpl01JXYRgq8dnGLhTiFzqmWsUMdpllZdbKlyvSdYxhI9YghOtxR8LgSLWHK62mGGVoxzBE8LNWzqH9CUesQzFy5RQzTc56mhi6fgXEWwpKfE5Z7M05ZgZUPmo6auiv8YKzDYwWBLMErIbKHJvOwIrvEdhOBcQ9JdU1NHQ7CXn2XIDFBKU2WAgcX9UAUzDXWd5alwuyJ41Z9rjKLCL4aCp4WarhPm2rH+SaHUYE001JDZ2ZAzXPjdMpZWvC9wmqIB2lLhQ01D5jO06hghWMndbM7yRJMsoCj1vYbnFQVrW9jak3OlEJ3s/96+p33dEPRV5GxiqaGjIthUU6FFEZyqCa5qJrpBdzSw95IUnOPIrCUUjRZQFrbw5PR0R1qiYx3cb6nrWUMrBmmiBQxVHtTew5ICP/ip6g4hed/Akob/32wvBHsIOX83cI8hGeNeNPCIkPmXe8fPKx84OMSRM1MTdXSwjCZ4S30jVGhvqTRak/OVhgGazHuOCud5onEO1lJr6ecVyaOK6H7zqlBlIaHE0oroCgfvGJIdPcmfLNGLjpz7hZwZQpUbFME0A1cIJa7VNORkgfsMBatbKgwwJM9bSvQXeNOvbIjelg6WWvo5kvbKaJJNHexkKNHL9xRyFlH8Ti2riB5wVPhUk7nGkJnoCe428LR/wRGdYIlmWebCyxou1rCk4g/ShugBDX0V0ZQWkh0dOVsagkM0yV6OoLd5ye+pRlsCr0n+KiQrGuq5yJDzrTAXHtLUMduTDBVKrSm3eHL+6ijxhFDX9Z5gVU/wliHYTMiMFpKLNMEywu80wd3meoFmt6VbRMPenhrOc6DVe4pgXU8DnnHakLOIIrlF4FZPIw6R+zxBP0dyq6OOZ4Q5sLKCcz084ok+VsMMyQhNZmmBgX5xIXOEJTmi7VsGTvMTNdHHhpzdbE8Du2oKxgvBqQKdDDnTFOylCFaxR1syz2iqrOI/FEpNc3C6f11/7+ASS6l2inq2ciTrCCzgyemrCL5SVPjQkdPZUmGy2c9Sw9FtR1sS30RmsKPCS4rkIC/2U0MduwucYolGaPjKEyhzmiPYXagyWbYz8LWBDdzRimAXzxx4z8K9hpzlhLq+NiQ97HuKorMUfK/OVvC2JfiHUPCQI/q7J2gjK+tTDNxkCc4TMssqCs4TGtLVwQihyoAWgj9bosU80XGW6Ac9TJGziaUh5+hnFcHOnlaM1iRn29NaqGENTTTSUHCH2tWTeV0osUhH6psuVLjRUmGWhm6OZEshGeNowABHcJ2Bpy2ZszRcKkRXd2QuKVEeXnbfaEq825FguqfgfE2whlChSRMdron+LATTPQ2Z369t4B9C5gs/ylzv+CMmepIDPclFQl13W0rspPd1JOcbghGOEutqCv5qacURQl3dDKyvyJlqKXGPgcM9FfawJAMVmdcspcYKOZc4GjDYkFlK05olNMHyHn4zFNykyOxt99RkHlfwmiHo60l2EKI+mhreEKp080Tbug08BVPcgoqC5zWt+NLDTZ7oNSF51N1qie7Va3uCCwyZbkINf/NED6jzOsBdZjFN8oqG3wxVunqCSYYKf3EdhJyf9YWGf7tRU2oH3VHgPr1fe5J9hOgHd7xQ0y7qBwXr23aGErP0cm64JVjZwsOGqL+mhNgZmhJLW2oY4UhedsyBgzrCKrq7BmcpNVhR6jBPq64Vgi+kn6XE68pp8J5/+0wRHGOpsKenQn9DZntPzjRLZpDAdD2fnSgkG9tmIXnUwQ6WVighs7Yi2MxQ0N3CqYaCXkJ0oyOztMDJjmSSpcpvlrk0RMMOjmArQ04PRV1DO1FwhCVaUVPpKUM03JK5SxPsIWRu8/CGHi8UHChiqGFDTbSRJWeYUDDcH6vJWUxR4k1FXbMUwV6e4AJFXS8oMqsZKqzvYQ9DDQdZckY4aGsIhtlubbd2r3j4QBMoTamdPZk7O/Bf62lacZwneNjQoGcdVU7zJOd7ghsUHOkosagic6cnWc8+4gg285R6zZP5s1/LUbCKIznTwK36PkdwlOrl4U1LwfdCCa+IrvFkmgw1PCAUXKWo0sURXWcI2muKJlgyFzhynCY4RBOsqCjoI1R5zREco0n2Vt09BQtYSizgKNHfUmUrQ5UOCh51BFcLmY7umhYqXKQomOop8bUnWNNQcIiBcYaC6xzMNOS8JQQfeqKBmmglB+97ok/lfk3ygaHSyZaCRTzRxQo6GzLfa2jWBPepw+UmT7SQEJyiyRkhBLMVOfcoMjcK0eZChfUNzFAUzCsEN5vP/X1uP/n/aoMX+K+nw/Hjr/9xOo7j7Pju61tLcgvJpTWXNbfN5jLpi6VfCOviTktKlFusQixdEKWmEBUKNaIpjZRSSOXSgzaaKLdabrm1/9nZ+/f+vd/vz/v9+Xy+zZ7PRorYoZqyLrCwQdEAixxVOEXNNnjX2nUSRlkqGmWowk8lxR50JPy9Bo6qJXaXwNvREBvnThPEPrewryLhcAnj5WE15Fqi8W7R1sAuEu86S4ENikItFN4xkv9Af4nXSnUVcLiA9xzesFpivRRVeFKtsMRaKBhuSbjOELnAUtlSQUpXgdfB4Z1oSbnFEetbQ0IrAe+Y+pqnDcEJFj6S8LDZzZHwY4e3XONNlARraomNEt2bkvGsosA3ioyHm+6jCMbI59wqt4eeara28IzEmyPgoRaUOEDhTVdEJhmCoTWfC0p8aNkCp0oYqih2iqGi4yXeMkOsn4LdLLnmKfh/YogjNsPebeFGR4m9BJHLzB61XQ3BtpISfS2FugsK9FAtLWX1dCRcrCnUp44CNzuCowUZmxSRgYaE6Za0W2u/E7CVXCiI/UOR8aAm1+OSyE3mOUcwyc1zBBeoX1kiKy0Zfxck1Gsyulti11i83QTBF5Kg3pDQThFMVHiPSlK+0cSedng/VaS8bOZbtsBcTcZAR8JP5KeqQ1OYKAi20njdNNRpgnsU//K+JnaXJaGTomr7aYIphoRn9aeShJWKEq9LcozSF7QleEfDI5LYm5bgVkFkRwVDBCVu0DDIkGupo8TZBq+/pMQURYErJQmPKGKjNDkWOLx7Jd5QizdUweIaKrlP7SwJDhZvONjLkOsBBX9UpGxnydhXkfBLQ8IxgojQbLFnJf81JytSljclYYyEFyx0kVBvKWOFJmONpshGAcsduQY5giVNCV51eOdJYo/pLhbvM0uDHSevNKRcrKZIqnCtJeEsO95RoqcgGK4ocZcho1tTYtcZvH41pNQ7vA0WrhIfOSraIIntIAi+NXWCErdbkvrWwjRLrt0NKUdL6KSOscTOdMSOUtBHwL6OLA0vNSdynaWQEnCpIvKaIrJJEbvHkmuNhn6OjM8VkSGSqn1uYJCGHnq9I3aLhNME3t6GjIkO7xrNFumpyTNX/NrwX7CrIRiqqWijI9JO4d1iieykyfiposQIQ8YjjsjlBh6oHWbwRjgYJQn2NgSnNycmJAk3NiXhx44Sxykihxm8ybUwT1OVKySc7vi3OXVkdBJ4AyXBeksDXG0IhgtYY0lY5ahCD0ehborIk5aUWRJviMA7Xt5kyRjonrXENkm8yYqgs8VzgrJmClK20uMM3jRJ0FiQICQF9hdETlLQWRIb5ki6WDfWRPobvO6a4GP5mcOrNzDFELtTkONLh9dXE8xypEg7z8A9jkhrQ6Fhjlg/QVktJXxt4WXzT/03Q8IaQWSqIuEvloQ2mqC9Jfi7wRul4RX3pSPlzpoVlmCtI2jvKHCFhjcM3sN6lqF6HxnKelLjXWbwrpR4xzuCrTUZx2qq9oAh8p6ixCUGr78g8oyjRAtB5CZFwi80VerVpI0h+IeBxa6Zg6kWvpDHaioYYuEsRbDC3eOmC2JvGYLeioxGknL2UATNJN6hmtj1DlpLvDVmocYbrGCVJKOrg4X6DgddLA203BKMFngdJJFtFd7vJLm6KEpc5yjQrkk7M80SGe34X24nSex1Ra5Omgb71JKyg8SrU3i/kARKwWpH0kOGhKkObyfd0ZGjvyXlAkVZ4xRbYJ2irFMkFY1SwyWxr2oo4zlNiV+7zmaweFpT4kR3kaDAFW6xpSqzJay05FtYR4HmZhc9UxKbbfF2V8RG1MBmSaE+kmC6JnaRXK9gsiXhJHl/U0qM0WTcbyhwkYIvFGwjSbjfwhiJt8ZSQU+Bd5+marPMOkVkD0muxYLIfEuhh60x/J92itguihJSEMySVPQnTewnEm+620rTQEMsOfo4/kP/0ARvWjitlpSX7GxBgcMEsd3EEeYWvdytd+Saawi6aCIj1CkGb6Aj9rwhx16Cf3vAwFy5pyLhVonXzy51FDpdEblbkdJbUcEPDEFzQ8qNmhzzLTmmKWKbFCXeEuRabp6rxbvAtLF442QjQ+wEA9eL1xSR7Q0JXzlSHjJ4exq89yR0laScJ/FW6z4a73pFMEfDiRZvuvijIt86RaSFOl01riV2mD1UEvxGk/Geg5aWwGki1zgKPG9J2U8PEg8qYvMsZeytiTRXBMslCU8JSlxi8EabjwUldlDNLfzTUmCgxWsjqWCOHavYAqsknKFIO0yQ61VL5AVFxk6WhEaCAkdJgt9aSkzXlKNX2jEa79waYuc7gq0N3GDJGCBhoiTXUEPsdknCUE1CK0fwsiaylSF2uiDyO4XX3pFhNd7R4itFGc0k/ElBZwWvq+GC6szVeEoS/MZ+qylwpKNKv9Z469UOjqCjwlusicyTxG6VpNxcQ8IncoR4RhLbR+NdpGGmJWOcIzJGUuKPGpQg8rrG21dOMqQssJQ4RxH5jaUqnZuQ0F4Q+cjxLwPtpZbIAk3QTJHQWBE5S1BokoVtDd6lhqr9UpHSUxMcIYl9pojsb8h4SBOsMQcqvOWC2E8EVehqiJ1hrrAEbQxeK0NGZ0Gkq+guSRgniM23bIHVkqwx4hiHd7smaOyglyIyQuM978j4VS08J/A2G1KeMBRo4fBaSNhKUEZfQewVQ/C1I+MgfbEleEzCUw7mKXI0M3hd1EESVji8x5uQ41nxs1q4RMJCCXs7Iq9acpxn22oSDnQ/sJTxsCbHIYZiLyhY05TY0ZLIOQrGaSJDDN4t8pVaIrsqqFdEegtizc1iTew5Q4ayBDMUsQMkXocaYkc0hZua412siZ1rSXlR460zRJ5SlHGe5j801RLMlJTxtaOM3Q1pvxJ45zUlWFD7rsAbpfEm1JHxG0eh8w2R7QQVzBUw28FhFp5QZzq8t2rx2joqulYTWSuJdTYfWwqMFMcovFmSyJPNyLhE4E10pHzYjOC3huArRa571ZsGajQpQx38SBP5pyZB6lMU3khDnp0MBV51BE9o2E+TY5Ml2E8S7C0o6w1xvCZjf0HkVEHCzFoyNmqC+9wdcqN+Tp7jSDheE9ws8Y5V0NJCn2bk2tqSY4okdrEhx1iDN8cSudwepWmAGXKcJXK65H9to8jYQRH7SBF01ESUJdd0TayVInaWhLkOjlXE5irKGOnI6GSWGCJa482zBI9rCr0jyTVcEuzriC1vcr6mwFGSiqy5zMwxBH/TJHwjSPhL8+01kaaSUuMFKTcLEvaUePcrSmwn8DZrgikWb7CGPxkSjhQwrRk57tctmxLsb9sZvL9LSlyuSLlWkqOjwduo8b6Uv1DkmudIeFF2dHCgxVtk8dpIvHpBxhEOdhKk7OLIUSdJ+cSRY57B+0DgGUUlNfpthTfGkauzxrvTsUUaCVhlKeteTXCoJDCa2NOKhOmC4G1H8JBd4OBZReSRGkqcb/CO1PyLJTLB4j1q8JYaIutEjSLX8YKM+a6phdMsdLFUoV5RTm9JSkuDN8WcIon0NZMNZWh1q8C7SJEwV5HxrmnnTrf3KoJBlmCYI2ilSLlfEvlE4011NNgjgthzEua0oKK7JLE7HZHlEl60BLMVFewg4EWNt0ThrVNEVkkiTwpKXSWJzdRENgvKGq4IhjsiezgSFtsfCUq8qki5S1LRQeYQQ4nemmCkImWMw3tFUoUBZk4NOeZYEp4XRKTGa6wJjrWNHBVJR4m3FCnbuD6aak2WsMTh3SZImGCIPKNgsDpVwnsa70K31lCFJZYcwwSMFcQulGTsZuEaSdBXkPGZhu0FsdUO73RHjq8MPGGIfaGIbVTk6iuI3GFgucHrIQkmWSJdBd7BBu+uOryWAhY7+Lki9rK5wtEQzWwvtbqGhIMFwWRJsElsY4m9IIg9L6lCX0VklaPAYkfkZEGDnOWowlBJjtMUkcGK4Lg6EtoZInMUBVYLgn0UsdmCyCz7gIGHFfk+k1QwTh5We7A9x+IdJ6CvIkEagms0hR50eH9UnTQJ+2oiKyVlLFUE+8gBGu8MQ3CppUHesnjTHN4QB/UGPhCTHLFPHMFrCqa73gqObUJGa03wgbhHkrCfpEpzNLE7JDS25FMKhlhKKWKfCgqstLCPu1zBXy0J2ztwjtixBu8UTRn9LVtkmCN2iyFhtME70JHRQ1KVZXqKI/KNIKYMCYs1GUMEKbM1bKOI9LDXC7zbHS+bt+1MTWS9odA9DtrYtpbImQJ2VHh/lisEwaHqUk1kjKTAKknkBEXkbkdMGwq0dnhzLJF3NJH3JVwrqOB4Sca2hti75nmJN0WzxS6UxDYoEpxpa4htVlRjkYE7DZGzJVU72uC9IyhQL4i8YfGWSYLLNcHXloyz7QhNifmKSE9JgfGmuyLhc403Xm9vqcp6gXe3xuuv8F6VJNxkyTHEkHG2g0aKXL0MsXc1bGfgas2//dCONXiNLCX+5mB7eZIl1kHh7ajwpikyzlUUWOVOsjSQlsS+M0R+pPje/dzBXRZGO0rMtgQrLLG9VSu9n6CMXS3BhwYmSoIBhsjNBmZbgusE9BCPCP5triU4VhNbJfE+swSP27aayE8tuTpYYjtrYjMVGZdp2NpS1s6aBnKSHDsbKuplKbHM4a0wMFd/5/DmGyKrJSUaW4IBrqUhx0vyfzTBBLPIUcnZdrAkNsKR0sWRspumSns6Ch0v/qqIbBYUWKvPU/CFoyrDJGwSNFhbA/MlzKqjrO80hRbpKx0Jewsi/STftwGSlKc1JZyAzx05dhLEdnfQvhZOqiHWWEAHC7+30FuRcZUgaO5gpaIK+xsiHRUsqaPElTV40xQZQ107Q9BZE1nryDVGU9ZSQ47bmhBpLcYpUt7S+xuK/FiT8qKjwXYw5ypS2iuCv7q1gtgjhuBuB8LCFY5cUuCNtsQOFcT+4Ih9JX+k8Ea6v0iCIRZOtCT0Et00JW5UeC85Cg0ScK0k411HcG1zKtre3SeITBRk7WfwDhEvaYLTHP9le0m8By0JDwn4TlLW/aJOvGHxdjYUes+ScZigCkYQdNdEOhkiezgShqkx8ueKjI8lDfK2oNiOFvrZH1hS+tk7NV7nOmLHicGWEgubkXKdwdtZknCLJXaCpkrjZBtLZFsDP9CdxWsSr05Sxl6CMmoFbCOgryX40uDtamB7SVmXW4Ihlgpmq+00tBKUUa83WbjLUNkzDmY7cow1JDygyPGlhgGKYKz4vcV7QBNbJIgM11TUqZaMdwTeSguH6rOaw1JRKzaaGyxVm2EJ/uCIrVWUcZUkcp2grMsEjK+DMwS59jQk3Kd6SEq1d0S6uVmO4Bc1lDXTUcHjluCXEq+1OlBDj1pi9zgiXxnKuE0SqTXwhqbETW6RggMEnGl/q49UT2iCzgJvRwVXS2K/d6+ZkyUl7jawSVLit46EwxVljDZwoSQ20sDBihztHfk2yA8NVZghiXwrYHQdfKAOtzsayjhY9bY0yE2CWEeJ9xfzO423xhL5syS2TFJofO2pboHob0nY4GiAgRrvGQEDa/FWSsoaaYl0syRsEt3kWoH3B01shCXhTUWe9w3Bt44SC9QCh3eShQctwbaK2ApLroGCMlZrYqvlY3qYhM0aXpFkPOuoqJ3Dm6fxXrGwVF9gCWZagjPqznfkuMKQ8DPTQRO8ZqG1hPGKEm9IgpGW4DZDgTNriTxvFiq+Lz+0cKfp4wj6OCK9JSnzNSn9LFU7UhKZZMnYwcJ8s8yRsECScK4j5UOB95HFO0CzhY4xJxuCix0lDlEUeMdS6EZBkTsUkZ4K74dugyTXS7aNgL8aqjDfkCE0ZbwkCXpaWCKhl8P7VD5jxykivSyxyZrYERbe168LYu9ZYh86IkscgVLE7tWPKmJv11CgoyJltMEbrohtVAQfO4ImltiHEroYEs7RxAarVpY8AwXMcMReFOTYWe5iiLRQxJ5Q8DtJ8LQhWOhIeFESPGsILhbNDRljNbHzNRlTFbk2S3L0NOS6V1KFJYKUbSTcIIhM0wQ/s2TM0SRMNcQmSap3jCH4yhJZKSkwyRHpYYgsFeQ4U7xoCB7VVOExhXepo9ABBsYbvGWKXPME3lyH95YioZ0gssQRWWbI+FaSMkXijZXwgiTlYdPdkNLaETxlyDVIwqeaEus0aTcYcg0RVOkpR3CSJqIddK+90JCxzsDVloyrFd5ZAr4TBKfaWa6boEA7C7s6EpYaeFPjveooY72mjIccLHJ9HUwVlDhKkmutJDJBwnp1rvulJZggKDRfbXAkvC/4l3ozQOG9a8lxjx0i7nV4jSXc7vhe3OwIxjgSHjdEhhsif9YkPGlus3iLFDnWOFhtCZbJg0UbQcIaR67JjthoCyMEZRwhiXWyxO5QxI6w5NhT4U1WsJvDO60J34fW9hwzwlKij6ZAW9ne4L0s8C6XeBMEkd/LQy1VucBRot6QMlbivaBhoBgjqGiCJNhsqVp/S2SsG6DIONCR0dXhvWbJ+MRRZJkkuEjgDXJjFQW6SSL7GXK8Z2CZg7cVsbWGoKmEpzQ5elpiy8Ryg7dMkLLUEauzeO86CuwlSOlgYLojZWeJ9xM3S1PWfEfKl5ISLQ0MEKR8YOB2QfCxJBjrKPCN4f9MkaSsqoVXJBmP7EpFZ9UQfOoOFwSzBN4MQ8LsGrymlipcJQhmy0GaQjPqCHaXRwuCZwRbqK2Fg9wlClZqYicrIgMdZfxTQ0c7TBIbrChxmuzoKG8XRaSrIhhiyNFJkrC7oIAWMEOQa5aBekPCRknCo4IKPrYkvCDI8aYmY7WFtprgekcJZ3oLIqssCSMtFbQTJKwXYy3BY5oCh2iKPCpJOE+zRdpYgi6O2KmOAgvVCYaU4ySRek1sgyFhJ403QFHiVEmJHwtybO1gs8Hr5+BETQX3War0qZngYGgtVZtoqd6vFSk/UwdZElYqyjrF4HXUeFspIi9IGKf4j92pKGAdCYMVsbcV3kRF0N+R8LUd5PCsIGWoxDtBkCI0nKofdJQxT+LtZflvuc8Q3CjwWkq8KwUpHzkK/NmSsclCL0nseQdj5FRH5CNHSgtLiW80Of5HU9Hhlsga9bnBq3fEVltKfO5IaSTmGjjc4J0otcP7QsJUSQM8pEj5/wCuUuC2DWz8AAAAAElFTkSuQmCC")}',"",{
version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/ambiance.css"],names:[],mappings:"AAIA,0BAA4B,UAAY,CAAE,AAC1C,yBAA2B,aAAe,CAAE,AAE5C,2BAA6B,aAAe,CAAE,AAC9C,wBAA0B,aAAe,CAAE,AAC3C,0BAA4B,aAAe,CAAE,AAC7C,uBAAyB,aAAe,CAAE,AAC1C,4BAA8B,aAAe,CAAE,AAC/C,8BAAgC,aAAe,CAAE,AACjD,8BAAgC,aAAe,CAAE,AACjD,4BAA8B,aAAe,CAAE,AAC/C,4BAA8B,aAAe,CAAE,AAC/C,2BAA6B,WAAY,AAAC,iBAAkB,CAAE,AAC9D,0BAA4B,aAAe,CAAE,AAC7C,4BAA8B,aAAe,CAAE,AAC/C,wBAA0B,aAAe,CAAE,AAC3C,6BAA+B,UAAc,CAAE,AAC/C,2BAA6B,UAAe,CAAE,AAC9C,2BAA6B,aAAe,CAAE,AAC9C,uBAAyB,aAAe,CAAE,AAC1C,6BAA+B,aAAe,CAAE,AAChD,sBAAwB,UAAY,CAAE,AACtC,wBAA0B,aAAe,CAAE,AAC3C,2BAA6B,aAAe,CAAE,AAC9C,yBAA2B,aAAe,CAAE,AAE5C,2CAA6C,UAAY,CAAE,AAC3D,8CAAgD,UAAY,CAAE,AAE9D,uCAAyC,8BAAsC,CAAE,AACjF,0DAA4D,6BAAsC,CAAE,AACpG,gJAA0J,6BAAsC,CAAE,AAClM,+JAAyK,6BAAsC,CAAE,AAIjN,0BACE,kBAAoB,AACpB,cAAe,AACf,yBAA0B,AAG1B,8BAAiC,CAClC,AAED,mCACE,mBAAoB,AACpB,+BAAgC,AAChC,2BAA8B,CAC/B,AAED,sCACE,8BAAiC,AACjC,WAAY,AACZ,aAAe,CAChB,AAED,wCAA0C,UAAY,CAAE,AACxD,+CAAiD,UAAY,CAAE,AAE/D,kCAAoC,6BAA+B,CAAE,AAErE,iDACE,sDAAgE,CACjE,AAED,6DAEE,spuBAAwpuB,CACzpuB",file:"ambiance.css",sourcesContent:['/* ambiance theme for codemirror */\n\n/* Color scheme */\n\n.cm-s-ambiance .cm-header { color: blue; }\n.cm-s-ambiance .cm-quote { color: #24C2C7; }\n\n.cm-s-ambiance .cm-keyword { color: #cda869; }\n.cm-s-ambiance .cm-atom { color: #CF7EA9; }\n.cm-s-ambiance .cm-number { color: #78CF8A; }\n.cm-s-ambiance .cm-def { color: #aac6e3; }\n.cm-s-ambiance .cm-variable { color: #ffb795; }\n.cm-s-ambiance .cm-variable-2 { color: #eed1b3; }\n.cm-s-ambiance .cm-variable-3 { color: #faded3; }\n.cm-s-ambiance .cm-property { color: #eed1b3; }\n.cm-s-ambiance .cm-operator { color: #fa8d6a; }\n.cm-s-ambiance .cm-comment { color: #555; font-style:italic; }\n.cm-s-ambiance .cm-string { color: #8f9d6a; }\n.cm-s-ambiance .cm-string-2 { color: #9d937c; }\n.cm-s-ambiance .cm-meta { color: #D2A8A1; }\n.cm-s-ambiance .cm-qualifier { color: yellow; }\n.cm-s-ambiance .cm-builtin { color: #9999cc; }\n.cm-s-ambiance .cm-bracket { color: #24C2C7; }\n.cm-s-ambiance .cm-tag { color: #fee4ff; }\n.cm-s-ambiance .cm-attribute { color: #9B859D; }\n.cm-s-ambiance .cm-hr { color: pink; }\n.cm-s-ambiance .cm-link { color: #F4C20B; }\n.cm-s-ambiance .cm-special { color: #FF9D00; }\n.cm-s-ambiance .cm-error { color: #AF2018; }\n\n.cm-s-ambiance .CodeMirror-matchingbracket { color: #0f0; }\n.cm-s-ambiance .CodeMirror-nonmatchingbracket { color: #f22; }\n\n.cm-s-ambiance div.CodeMirror-selected { background: rgba(255, 255, 255, 0.15); }\n.cm-s-ambiance.CodeMirror-focused div.CodeMirror-selected { background: rgba(255, 255, 255, 0.10); }\n.cm-s-ambiance .CodeMirror-line::selection, .cm-s-ambiance .CodeMirror-line > span::selection, .cm-s-ambiance .CodeMirror-line > span > span::selection { background: rgba(255, 255, 255, 0.10); }\n.cm-s-ambiance .CodeMirror-line::-moz-selection, .cm-s-ambiance .CodeMirror-line > span::-moz-selection, .cm-s-ambiance .CodeMirror-line > span > span::-moz-selection { background: rgba(255, 255, 255, 0.10); }\n\n/* Editor styling */\n\n.cm-s-ambiance.CodeMirror {\n  line-height: 1.40em;\n  color: #E6E1DC;\n  background-color: #202020;\n  -webkit-box-shadow: inset 0 0 10px black;\n  -moz-box-shadow: inset 0 0 10px black;\n  box-shadow: inset 0 0 10px black;\n}\n\n.cm-s-ambiance .CodeMirror-gutters {\n  background: #3D3D3D;\n  border-right: 1px solid #4D4D4D;\n  box-shadow: 0 10px 20px black;\n}\n\n.cm-s-ambiance .CodeMirror-linenumber {\n  text-shadow: 0px 1px 1px #4d4d4d;\n  color: #111;\n  padding: 0 5px;\n}\n\n.cm-s-ambiance .CodeMirror-guttermarker { color: #aaa; }\n.cm-s-ambiance .CodeMirror-guttermarker-subtle { color: #111; }\n\n.cm-s-ambiance .CodeMirror-cursor { border-left: 1px solid #7991E8; }\n\n.cm-s-ambiance .CodeMirror-activeline-background {\n  background: none repeat scroll 0% 0% rgba(255, 255, 255, 0.031);\n}\n\n.cm-s-ambiance.CodeMirror,\n.cm-s-ambiance .CodeMirror-gutters {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAQAAAAHUWYVAABFFUlEQVQYGbzBCeDVU/74/6fj9HIcx/FRHx9JCFmzMyGRURhLZIkUsoeRfUjS2FNDtr6WkMhO9sm+S8maJfu+Jcsg+/o/c+Z4z/t97/vezy3z+z8ekGlnYICG/o7gdk+wmSHZ1z4pJItqapjoKXWahm8NmV6eOTbWUOp6/6a/XIg6GQqmenJ2lDHyvCFZ2cBDbmtHA043VFhHwXxClWmeYAdLhV00Bd85go8VmaFCkbVkzlQENzfBDZ5gtN7HwF0KDrTwJ0dypSOzpaKCMwQHKTIreYIxlmhXTzTWkVm+LTynZhiSBT3RZQ7aGfjGEd3qyXQ1FDymqbKxpspERQN2MiRjNZlFFQXfCNFm9nM1zpAsoYjmtRTc5ajwuaXc5xrWskT97RaKzAGe5ARHhVUsDbjKklziiX5WROcJwSNCNI+9w1Jwv4Zb2r7lCMZ4oq5C0EdTx+2GzNuKpJ+iFf38JEWkHJn9DNF7mmBDITrWEg0VWL3pHU20tSZnuqWu+R3BtYa8XxV1HO7GyD32UkOpL/yDloINFTmvtId+nmAjxRw40VMwVKiwrKLE4bK5UOVntYwhOcSSXKrJHKPJedocpGjVz/ZMIbnYUPB10/eKCrs5apqpgVmWzBYWpmtKHecJPjaUuEgRDDaU0oZghCJ6zNMQ5ZhDYx05r5v2muQdM0EILtXUsaKiQX9WMEUotagQzFbUNN6NUPC2nm5pxEWGCjMc3GdJHjSU2kORLK/JGSrkfGEIjncU/CYUnOipoYemwj8tST9NsJmB7TUVXtbUtXATJVZXBMvYeTXJfobgJUPmGMP/yFaWonaa6BcFO3nqcIqCozSZoZoSr1g4zJOzuyGnxTEX3lUEJ7WcZgme8ddaWvWJo2AJR9DZU3CUIbhCSG6ybSwN6qtJVnCU2svDTP2ZInOw2cBTrqtQahtNZn9NcJ4l2NaSmSkkP1noZWnVwkLmdUPOwLZEwy2Z3S3R+4rIG9hcbpPXHFVWcQdZkn2FOta3cKWQnNRC5g1LsJah4GCzSVsKnCOY5OAFRTBekyyryeyilhFKva75r4Mc0aWanGEaThcy31s439KKxTzJYY5WTHPU1FtIHjQU3Oip4xlNzj/lBw23dYZVliQa7WAXf4shetcQfatI+jWRDBPmyNeW6A1P5kdDgyYJlba0BIM8BZu1JfrFwItyjcAMR3K0BWOIrtMEXyhyrlVEx3ui5dUBjmB/Q3CXW85R4mBD0s7B+4q5tKUjOlb9qqmhi5AZ6GFIC5HXtOobdYGlVdMVbNJ8toNTFcHxnoL+muBagcctjWnbNMuR00uI7nQESwg5q2qqrKWIfrNUmeQocY6HuyxJV02wj36w00yhpmUFenv4p6fUkZYqLyuinx2RGOjhCXYyJF84oiU00YMOOhhquNdfbOB7gU88pY4xJO8LVdp6/q2voeB4R04vIdhSE40xZObx1HGGJ/ja0LBthFInKaLPPFzuCaYaoj8JjPME8yoyxo6zlBqkiUZYgq00OYMswbWO5NGmq+xhipxHLRW29ARjNKXO0wRnear8XSg4XFPLKEPUS1GqvyLwiuBUoa7zpZ0l5xxFwWmWZC1H5h5FwU8eQ7K+g8UcVY6TMQreVQT/8uQ8Z+ALIXnSEa2pYZQneE9RZbSBNYXfWYJzW/h/4j4Dp1tYVcFIC5019Vyi4ThPqSFCzjGWaHQTBU8q6vrVwgxP9Lkm840imWKpcLCjYTtrKuwvsKSnrvHCXGkSMk9p6lhckfRpIeis+N2PiszT+mFLspyGleUhDwcLrZqmyeylxwjBcKHEapqkmyangyLZRVOijwOtCY5SsG5zL0OwlCJ4y5KznF3EUNDDrinwiyLZRzOXtlBbK5ITHFGLp8Q0R6ab6mS7enI2cFrxOyHvOCFaT1HThS1krjCwqWeurCkk+willhCC+RSZnRXBiZaC5RXRIZYKp2lyfrHwiKPKR0JDzrdU2EFgpidawlFDR6FgXUMNa+g1FY3bUQh2cLCwosRdnuQTS/S+JVrGLeWIvtQUvONJxlqSQYYKpwoN2kaocLjdVsis4Mk80ESF2YpSkzwldjHkjFCUutI/r+EHDU8oCs6yzL3PhWiEooZdFMkymlas4AcI3KmoMMNSQ3tHzjGWCrcJJdYyZC7QFGwjRL9p+MrRkAGWzIaWCn9W0F3TsK01c2ZvQw0byvxuQU0r1lM0qJO7wW0kRIMdDTtXEdzi4VIh+EoIHm0mWtAtpCixlabgn83fKTI7anJe9ST7WIK1DMGpQmYeA58ImV6ezOGOzK2Kgq01pd60cKWiUi9Lievb/0vIDPHQ05Kzt4ddPckQBQtoaurjyHnek/nKzpQLrVgKPjIkh2v4uyezpv+Xoo7fPFXaGFp1vaLKxQ4uUpQQS5VuQs7BCq4xRJv7fwpVvvFEB3j+620haOuocqMhWd6TTPAEx+mdFNGHdranFe95WrWmIvlY4F1Dle2ECgc6cto7SryuqGGGha0tFQ5V53migUKmg6XKAo4qS3mik+0OZpAhOLeZKicacgaYcyx5hypYQE02ZA4xi/pNhOQxR4klNKyqacj+mpxnLTnnGSo85++3ZCZq6lrZkXlGEX3o+C9FieccJbZWVFjC0Yo1FZnJhoYMFoI1hEZ9r6hwg75HwzBNhbZCdJEfJwTPGzJvaKImw1yYX1HDAmpXR+ZJQ/SmgqMNVQb5vgamGwLtt7VwvP7Qk1xpiM5x5Cyv93E06MZmgs0Nya2azIKOYKCGBQQW97RmhKNKF02JZqHEJ4o58qp7X5EcZmc56trXEqzjCBZ1MFGR87Ql2tSTs6CGxS05PTzRQorkbw7aKoKXFDXsYW42VJih/q+FP2BdTzDTwVqOYB13liM50vG7wy28qagyuIXMeQI/Oqq8bcn5wJI50xH00CRntyfpL1T4hydYpoXgNiFzoIUTDZnLNRzh4TBHwbYGDvZkxmlyJloyr6tRihpeUG94GnKtIznREF0tzJG/OOr73JBcrSh1k6WuTprgLU+mnSGnv6Zge0NNz+kTDdH8nuAuTdJDCNb21LCiIuqlYbqGzT3RAoZofQfjFazkqeNWdYaGvYTM001EW2oKPvVk1ldUGSgUtHFwjKM1h9jnFcmy5lChoLNaQMGGDsYbKixlaMBmmsx1QjCfflwTfO/gckW0ruZ3jugKR3R5W9hGUWqCgxuFgsuaCHorotGKzGaeZB9DMsaTnKCpMtwTvOzhYk0rdrArKCqcaWmVk1+F372ur1YkKxgatI8Qfe1gIX9wE9FgS8ESmuABIXnRUbCapcKe+nO7slClSZFzpV/LkLncEb1qiO42fS3R855Su2mCLh62t1SYZZYVmKwIHjREF2uihTzB20JOkz7dkxzYQnK0UOU494wh+VWRc6Un2kpTaVgLDFEkJ/uhzRcI0YKGgpGWOlocBU/a4fKoJ/pEaNV6jip3+Es9VXY078rGnmAdf7t9ylPXS34RBSuYPs1UecZTU78WanhBCHpZ5sAoTz0LGZKjPf9TRypqWEiTvOFglL1fCEY3wY/++rbk7C8bWebA6p6om6PgOL2kp44TFJlVNBXae2rqqdZztOJpT87GQsE9jqCPIe9VReZuQ/CIgacsyZdCpIScSYqcZk8r+nsyCzhyfhOqHGOIvrLknC8wTpFcaYiGC/RU1NRbUeUpocQOnkRpGOrIOcNRx+1uA0UrzhSSt+VyS3SJpnFWkzNDqOFGIWcfR86DnmARTQ1HKIL33ExPiemeOhYSSjzlSUZZuE4TveoJLnBUOFof6KiysCbnAEcZgcUNTDOwkqWu3RWtmGpZwlHhJENdZ3miGz0lJlsKnjbwqSHQjpxnFDlTLLwqJPMZMjd7KrzkSG7VsxXBZE+F8YZkb01Oe00yyRK9psh5SYh29ySPKBo2ylNht7ZkZnsKenjKNJu9PNEyZpaCHv4Kt6RQsLvAVp7M9kIimmCUwGeWqLMmGuIotYMmWNpSahkhZw9FqZsVnKJhsjAHvtHMsTM9fCI06Dx/u3vfUXCqfsKRc4oFY2jMsoo/7DJDwZ1CsIKnJu+J9ldkpmiCxQx1rWjI+T9FwcWWzOuaYH0Hj7klNRVWEQpmaqosakiGNTFHdjS/qnUdmf0NJW5xsL0HhimCCZZSRzmSPTXJQ4aaztAwtZnoabebJ+htCaZ7Cm535ByoqXKbX1WRc4Eh2MkRXWzImVc96Cj4VdOKVxR84VdQsIUM8Psoou2byVHyZFuq7O8otbSQ2UAoeEWTudATLGSpZzVLlXVkPU2Jc+27lsw2jmg5T5VhbeE3BT083K9WsTTkFU/Osi0rC5lRlpwRHUiesNS0sOvmqGML1aRbPAxTJD9ZKtxuob+hhl8cwYGWpJ8nub7t5p6coYbMovZ1BTdaKn1jYD6h4GFDNFyT/Kqe1XCXphXHOKLZmuRSRdBPEfVUXQzJm5YGPGGJdvAEr7hHNdGZnuBvrpciGmopOLf5N0uVMy0FfYToJk90uUCbJupaVpO53UJXR2bVpoU00V2KOo4zMFrBd0Jtz2pa0clT5Q5L8IpQ177mWQejPMEJhuQjS10ref6HHjdEhy1P1EYR7GtO0uSsKJQYLiTnG1rVScj5lyazpqWGl5uBbRWl7m6ixGOOnEsMJR7z8J0n6KMnCdxhiNYQCoZ6CmYLnO8omC3MkW3bktlPmEt/VQQHejL3+dOE5FlPdK/Mq8hZxxJtLyRrepLThYKbLZxkSb5W52vYxNOaOxUF0yxMUPwBTYqCzy01XayYK0sJyWBLqX0MwU5CzoymRzV0EjjeUeLgDpTo6ij42ZAzvD01dHUUTPLU96MdLbBME8nFBn7zJCMtJcZokn8YoqU0FS5WFKyniHobguMcmW8N0XkWZjkyN3hqOMtS08r+/xTBwpZSZ3qiVRX8SzMHHjfUNFjgHEPmY9PL3ykEzxkSre/1ZD6z/NuznuB0RcE1TWTm9zRgfUWVJiG6yrzgmWPXC8EAR4Wxhlad0ZbgQyEz3pG5RVEwwDJH2mgKpjcTiCOzn1lfUWANFbZ2BA8balnEweJC9J0iuaeZoI+ippFCztEKVvckR2iice1JvhVytrQwUAZpgsubCPaU7xUe9vWnaOpaSBEspalykhC9bUlOMpT42ZHca6hyrqKmw/wMR8H5ZmdFoBVJb03O4UL0tSNnvIeRmkrLWqrs78gcrEn2tpcboh0UPOW3UUR9PMk4T4nnNKWmCjlrefhCwxRNztfmIQVdDElvS4m1/WuOujoZCs5XVOjtKPGokJzsYCtFYoWonSPT21DheU/wWhM19FcElwqNGOsp9Q8N/cwXaiND1MmeL1Q5XROtYYgGeFq1aTMsoMmcrKjQrOFQTQ1fmBYhmW6o8Jkjc7iDJRTBIo5kgJD5yMEYA3srCg7VFKwiVJkmRCc5ohGOKhsYMn/XBLdo5taZjlb9YAlGWRimqbCsoY7HFAXLa5I1HPRxMMsQDHFkWtRNniqT9UEeNjcE7RUlrCJ4R2CSJuqlKHWvJXjAUNcITYkenuBRB84TbeepcqTj3zZyFJzgYQdHnqfgI0ddUwS6GqWpsKWhjq9cV0vBAEMN2znq+EBfIWT+pClYw5xsTlJU6GeIBsjGmmANTzJZiIYpgrM0Oa8ZMjd7NP87jxhqGOhJlnQtjuQpB+8aEE00wZFznSJPyHxgH3HkPOsJFvYk8zqCHzTs1BYOa4J3PFU+UVRZxlHDM4YavlNUuMoRveiZA2d7grMNc2g+RbSCEKzmgYsUmWmazFJyoiOZ4KnyhKOGRzWJa0+moyV4TVHDzn51Awtqaphfk/lRQ08FX1iiqxTB/kLwd0VynKfEvI6cd4XMV5bMhZ7gZUWVzYQ6Nm2BYzxJbw3bGthEUUMfgbGeorae6DxHtJoZ6alhZ0+ytiVoK1R4z5PTrOECT/SugseEOlb1MMNR4VRNcJy+V1Hg9ONClSZFZjdHlc6W6FBLdJja2MC5hhpu0DBYEY1TFGwiFAxRRCsYkiM9JRb0JNMVkW6CZYT/2EiTGWmo8k+h4FhDNE7BvppoTSFnmCV5xZKzvcCdDo7VVPnIU+I+Rc68juApC90MwcFCsJ5hDqxgScYKreruyQwTqrzoqDCmhWi4IbhB0Yrt3RGa6GfDv52rKXWhh28dyZaWUvcZeMTBaZoSGyiCtRU5J8iviioHaErs7Jkj61syVzTTgOcUOQ8buFBTYWdL5g3T4qlpe0+wvD63heAXRfCCIed9RbCsp2CiI7raUOYOTU13N8PNHvpaGvayo4a3LLT1lDrVEPT2zLUlheB1R+ZTRfKWJ+dcocLJfi11vyJ51lLqJ0WD7tRwryezjiV5W28uJO9qykzX8JDe2lHl/9oyBwa2UMfOngpXCixvKdXTk3wrsKmiVYdZIqsoWEERjbcUNDuiaQomGoIbFdEHmsyWnuR+IeriKDVLnlawlyNHKwKlSU631PKep8J4Q+ayjkSLKYLhalNHlYvttb6fHm0p6OApsZ4l2VfdqZkjuysy6ysKLlckf1KUutCTs39bmCgEyyoasIWlVaMF7mgmWtBT8Kol5xpH9IGllo8cJdopcvZ2sImlDmMIbtDk3KIpeNiS08lQw11NFPTwVFlPP6pJ2gvRfI7gQUfmNAtf6Gs0wQxDsKGlVBdF8rCa3jzdwMaGHOsItrZk7hAyOzpK9VS06j5F49b0VNGOOfKs3lDToMsMBe9ZWtHFEgxTJLs7qrygKZjUnmCYoeAqeU6jqWuLJup4WghOdvCYJnrSkSzoyRkm5M2StQwVltPkfCAk58tET/CSg+8MUecmotMEnhBKfWBIZsg2ihruMJQaoIm+tkTLKEqspMh00w95gvFCQRtDwTT1gVDDSEVdlwqZfxoQRbK0g+tbiBZxzKlpnpypejdDwTaeOvorMk/IJE10h9CqRe28hhLbe0pMsdSwv4ZbhKivo2BjDWfL8UKJgeavwlwb5KlwhyE4u4XkGE2ytZCznKLCDZZq42VzT8HLCrpruFbIfOIINmh/qCdZ1ZBc65kLHR1Bkyf5zn6pN3SvGKIlFNGplhrO9QSXanLOMQTLCa0YJCRrCZm/CZmrLTm7WzCK4GJDiWUdFeYx1LCFg3NMd0XmCuF3Y5rITLDUsYS9zoHVzwnJoYpSTQoObyEzr4cFBNqYTopoaU/wkyLZ2lPhX/5Y95ulxGTV7KjhWrOZgl8MyUUafjYraNjNU1N3IWcjT5WzWqjwtoarHSUObGYO3GCJZpsBlnJGPd6ZYLyl1GdCA2625IwwJDP8GUKymbzuyPlZlvTUsaUh5zFDhRWFzPKKZLAlWdcQbObgF9tOqOsmB1dqcqYJmWstFbZRRI9poolmqiLnU0POvxScpah2iSL5UJNzgScY5+AuIbpO0YD3NCW+dLMszFSdFCWGqG6eVq2uYVNDdICGD6W7EPRWZEY5gpsE9rUkS3mijzzJnm6UpUFXG1hCUeVoS5WfNcFpblELL2qqrCvMvRfd45oalvKU2tiQ6ePJOVMRXase9iTtLJztPxJKLWpo2CRDcJwn2sWSLKIO1WQWNTCvpVUvOZhgSC40JD0dOctaSqzkCRbXsKlb11Oip6PCJ0IwSJM31j3akRxlP7Rwn6aGaUL0qiLnJkvB3xWZ2+Q1TfCwpQH3G0o92UzmX4o/oJNQMMSQc547wVHhdk+VCw01DFYEnTxzZKAm74QmeNNR1w6WzEhNK15VJzuCdxQ53dRUDws5KvwgBMOEgpcVNe0hZI6RXT1Jd0cyj5nsaEAHgVmGaJIlWdsc5Ui2ElrRR6jrRAttNMEAIWrTDFubkZaok7/AkzfIwfuWVq0jHzuCK4QabtLUMVPB3kJ0oyHTSVFlqMALilJf2Rf8k5aaHtMfayocLBS8L89oKoxpJvnAkDPa0qp5DAUTHKWmCcnthlou8iCKaFFLHWcINd1nyIwXqrSxMNmSs6KmoL2QrKuWtlQ5V0120xQ5vRyZS1rgFkWwhiOwiuQbR0OOVhQM9iS3tiXp4RawRPMp5tDletOOBL95MpM01dZTBM9pkn5qF010rIeHFcFZhmSGpYpTsI6nwhqe5C9ynhlpp5ophuRb6WcJFldkVnVEwwxVfrVkvnWUuNLCg5bgboFHPDlDPDmnK7hUrWiIbjadDclujlZcaokOFup4Ri1kacV6jmrrK1hN9bGwpKEBQ4Q6DvIUXOmo6U5LqQM6EPyiKNjVkPnJkDPNEaxhiFay5ExW1NXVUGqcpYYdPcGiCq7z/TSlbhL4pplWXKd7NZO5QQFrefhRQW/NHOsqcIglc4UhWklR8K0QzbAw08CBDnpbgqXdeD/QUsM4RZXDFBW6WJKe/mFPdH0LtBgiq57wFLzlyQzz82qYx5D5WJP5yVJDW01BfyHnS6HKO/reZqId1WGa4Hkh2kWodJ8i6KoIPlAj2hPt76CzXsVR6koPRzWTfKqIentatYpQw2me4AA3y1Kind3SwoOKZDcFXTwl9tWU6mfgRk9d71sKtlNwrjnYw5tC5n5LdKiGry3JKNlHEd3oaMCFHrazBPMp/uNJ+V7IudcSbeOIdjUEdwl0VHCOZo5t6YluEuaC9mQeMgSfOyKnYGFHcIeQ84yQWbuJYJpZw5CzglDH7gKnWqqM9ZTaXcN0TeYhR84eQtJT76JJ1lREe7WnnvsMmRc9FQ7SBBM9mV3lCUdmHk/S2RAMt0QjFNFqQpWjDPQ01DXWUdDBkXziKPjGEP3VP+zIWU2t7im41FOloyWzn/L6dkUy3VLDaZ6appgDLHPjJEsyvJngWEPUyVBiAaHCTEXwrLvSEbV1e1gKJniicWorC1MUrVjB3uDhJE/wgSOzk1DXpk0k73qCM8xw2UvD5kJmDUfOomqMpWCkJRlvKXGmoeBm18USjVIk04SClxTB6YrgLAPLWYK9HLUt5cmc0vYES8GnTeRc6skZbQkWdxRsIcyBRzx1DbTk9FbU0caTPOgJHhJKnOGIVhQqvKmo0llRw9sabrZkDtdg3PqaKi9oatjY8B+G371paMg6+mZFNNtQ04mWBq3rYLOmtWWQp8KJnpy9DdFensyjdqZ+yY40VJlH8wcdLzC8PZnvHMFUTZUrDTkLyQaGus5X5LzpYAf3i+e/ZlhqGqWhh6Ou6xTR9Z6oi5AZZtp7Mj2EEm8oSpxiYZCHU/1fbGdNNNRRoZMhmilEb2gqHOEJDtXkHK/JnG6IrvbPCwV3NhONVdS1thBMs1T4QOBcTWa2IzhMk2nW5Kyn9tXUtpv9RsG2msxk+ZsQzRQacJncpgke0+T8y5Fzj8BiGo7XlJjaTIlpQs7KFjpqGnKuoyEPeIKnFMkZHvopgh81ySxNFWvJWcKRs70j2FOT012IllEEO1n4pD1513Yg2ssQPOThOkvyrqHUdEXOSEsihmBbTbKX1kLBPWqWkLOqJbjB3GBIZmoa8qWl4CG/iZ7oiA72ZL7TJNeZUY7kFQftDcHHluBzRbCegzMtrRjVQpX2lgoPKKLJAkcbMl01XK2p7yhL8pCBbQ3BN2avJgKvttcrWDK3CiUOVxQ8ZP+pqXKyIxnmBymCg5vJjNfkPK4+c8cIfK8ocVt7kmfd/I5SR1hKvCzUtb+lhgc00ZaO6CyhIQP1Uv4yIZjload72PXX0OIJvnFU+0Zf6MhsJwTfW0r0UwQfW4LNLZl5HK261JCZ4qnBaAreVAS3WrjV0LBnNDUNNDToCEeFfwgcb4gOEqLRhirWkexrCEYKVV711DLYEE1XBEsp5tpTGjorkomKYF9FDXv7fR3BGwbettSxnyL53MBPjsxDZjMh+VUW9NRxq1DhVk+FSxQcaGjV9Pawv6eGByw5qzoy7xk4RsOShqjJwWKe/1pEEfzkobeD/dQJmpqedcyBTy2sr4nGNRH0c0SPWTLrqAc0OQcb/gemKgqucQT7ySWKCn2EUotoCvpZct7RO2sy/QW0IWcXd7pQRQyZVwT2USRO87uhjioTLKV2brpMUcMQRbKH/N2T+UlTpaMls6cmc6CCNy3JdYYSUzzJQ4oSD3oKLncULOiJvjBEC2oqnCJkJluCYy2ZQ5so9YYlZ1VLlQU1mXEW1jZERwj/MUSRc24TdexlqLKfQBtDTScJUV8FszXBEY5ktpD5Ur9hYB4Nb1iikw3JoYpkKX+RodRKFt53MMuRnKSpY31PwYaGaILh3wxJGz9TkTPEETxoCWZrgvOlmyMzxFEwVJE5xZKzvyJ4WxEc16Gd4Xe3Weq4XH2jKRikqOkGQ87hQnC7wBmGYLAnesX3M+S87eFATauuN+Qcrh7xIxXJbUIdMw3JGE3ylCWzrieaqCn4zhGM19TQ3z1oH1AX+pWEqIc7wNGAkULBo/ZxRaV9NNyh4Br3rCHZzbzmSfawBL0dNRwpW1kK9mxPXR9povcdrGSZK9c2k0xwFGzjuniCtRSZCZ6ccZ7gaktmgAOtKbG/JnOkJrjcQTdFMsxRQ2cLY3WTIrlCw1eWKn8R6pvt4GFDso3QoL4a3nLk3G6JrtME3dSenpx7PNFTmga0EaJTLQ061sEeQoWXhSo9LTXsaSjoJQRXeZLtDclbCrYzfzHHeaKjHCVOUkQHO3JeEepr56mhiyaYYKjjNU+Fed1wS5VlhWSqI/hYUdDOkaxiKehoyOnrCV5yBHtbWFqTHCCwtpDcYolesVR5yUzTZBb3RNMd0d6WP+SvhuBmRcGxnuQzT95IC285cr41cLGQ6aJJhmi4TMGempxeimBRQw1tFKV+8jd6KuzoSTqqDxzRtpZkurvKEHxlqXKRIjjfUNNXQsNOsRScoWFLT+YeRZVD3GRN0MdQcKqQjHDMrdGGVu3iYJpQx3WGUvfbmxwFfR20WBq0oYY7LMFhhgYtr8jpaEnaOzjawWWaTP8mMr0t/EPDPoqcnxTBI5o58L7uoWnMrpoqPwgVrlAUWE+V+TQl9rawoyP6QGAlQw2TPRX+YSkxyBC8Z6jhHkXBgQL7WII3DVFnRfCrBfxewv9D6xsyjys4VkhWb9pUU627JllV0YDNHMku/ldNMMXDEo4aFnAkk4U6frNEU4XgZUPmEKHUl44KrzmYamjAbh0JFvGnaTLPu1s9jPCwjFpYiN7z1DTOk/nc07CfDFzmCf7i+bfNHXhDtLeBXzTBT5rkMvWOIxpl4EMh2LGJBu2syDnAEx2naEhHDWMMzPZEhygyS1mS5RTJr5ZkoKbEUoYqr2kqdDUE8ztK7OaIntJkFrIECwv8LJTaVx5XJE86go8dFeZ3FN3rjabCAYpoYEeC9zzJVULBbmZhDyd7ko09ydpNZ3nm2Kee4FPPXHnYEF1nqOFEC08LUVcDvYXkJHW8gTaKCk9YGOeIJhqiE4ToPEepdp7IWFjdwnWaufGMwJJCMtUTTBBK9BGCOy2tGGrJTHIwyEOzp6aPzNMOtlZkDvcEWpP5SVNhfkvDxhmSazTJXYrM9U1E0xwFVwqZQwzJxw6+kGGGUj2FglGGmnb1/G51udRSMNlTw6GGnCcUwVcOpmsqTHa06o72sw1RL02p9z0VbnMLOaIX3QKaYKSCFQzBKEUNHTSc48k53RH9wxGMtpQa5KjjW0W0n6XCCCG4yxNNdhQ4R4l1Ff+2sSd6UFHiIEOyqqFgT01mEUMD+joy75jPhOA+oVVLm309FR4yVOlp4RhLiScNmSmaYF5Pw0STrOIoWMSR2UkRXOMp+M4SHW8o8Zoi6OZgjKOaFar8zZDzkWzvKOjkKBjmCXby8JahhjXULY4KlzgKLvAwxVGhvyd4zxB1d9T0piazmKLCVZY5sKiD0y2ZSYrkUEPUbIk+dlQ4SJHTR50k1DPaUWIdTZW9NJwnJMOECgd7ou/MnppMJ02O1VT4Wsh85MnZzcFTngpXGKo84qmwgKbCL/orR/SzJ2crA+t6Mp94KvxJUeIbT3CQu1uIdlQEOzlKfS3UMcrTiFmOuroocrZrT2AcmamOKg8YomeEKm/rlT2sociMaybaUlFhuqHCM2qIJ+rg4EcDFymiDSxzaHdPcpE62pD5kyM5SBMoA1PaUtfIthS85ig1VPiPPYXgYEMNk4Qq7TXBgo7oT57gPUdwgCHzhIVFPFU6OYJzHAX9m5oNrVjeE61miDrqQ4VSa1oiURTsKHC0IfjNwU2WzK6eqK8jWln4g15TVBnqmDteCJ501PGAocJhhqjZdtBEB6lnhLreFJKxmlKbeGrqLiSThVIbCdGzloasa6lpMQXHCME2boLpJgT7yWaemu6wBONbqGNVRS0PKIL7LckbjmQtR7K8I5qtqel+T/ChJTNIKLjdUMNIRyvOEko9YYl2cwQveBikCNawJKcLBbc7+JM92mysNvd/Fqp8a0k6CNEe7cnZrxlW0wQXaXjaktnRwNOGZKYiONwS7a1JVheq3WgJHlQUGKHKmp4KAxXR/ULURcNgoa4zhKSLpZR3kxRRb0NmD0OFn+UCS7CzI1nbP6+o4x47QZE5xRCt3ZagnYcvmpYQktXdk5YKXTzBC57kKEe0VVuiSYqapssMS3C9p2CKkHOg8B8Pa8p5atrIw3qezIWanMGa5HRDNF6RM9wcacl0N+Q8Z8hsIkSnaIIdHRUOEebAPy1zbCkhM062FCJtif7PU+UtoVXzWKqM1PxXO8cfdruhFQ/a6x3JKYagvVDhQEtNiyiiSQ7OsuRsZUku0CRNDs4Sog6KKjsZgk2bYJqijgsEenoKeniinRXBn/U3lgpPdyDZynQx8IiioMnCep5Ky8mjGs6Wty0l1hUQTcNWswS3WRp2kCNZwJG8omG8JphPUaFbC8lEfabwP7VtM9yoaNCAjpR41VNhrD9LkbN722v0CoZMByFzhaW+MyzRYEWFDQwN2M4/JiT76PuljT3VU/A36eaIThb+R9oZGOAJ9tewkgGvqOMNRWYjT/Cwu99Q8LqDE4TgbLWxJ1jaDDAERsFOFrobgjUsBScaguXU8kKm2RL19tRypSHnHNlHiIZqgufs4opgQdVdwxBNNFBR6kVFqb8ogimOzB6a6HTzrlDHEpYaxjiiA4TMQobkDg2vejjfwJGWmnbVFAw3H3hq2NyQfG7hz4aC+w3BbwbesG0swYayvpAs6++Ri1Vfzx93mFChvyN5xVHTS+0p9aqCAxyZ6ZacZyw5+7uuQkFPR9DDk9NOiE7X1PCYJVjVUqq7JlrHwWALF5nfHNGjApdpqgzx5OwilDhCiDYTgnc9waGW4BdLNNUQvOtpzDOWHDH8D7TR/A/85KljEQu3NREc4Pl/6B1Hhc8Umb5CsKMmGC9EPcxoT2amwHNCmeOEnOPbklnMkbOgIvO5UMOpQrS9UGVdt6iH/fURjhI/WOpaW9OKLYRod6HCUEdOX000wpDZQ6hwg6LgZfOqo1RfT/CrJzjekXOGhpc1VW71ZLbXyyp+93ILbC1kPtIEYx0FIx1VDrLoVzXRKRYWk809yYlC9ImcrinxtabKnzRJk3lAU1OLEN1j2zrYzr2myHRXJFf4h4QKT1qSTzTB5+ZNTzTRkAxX8FcLV2uS8eoQQ2aAkFzvCM72sJIcJET3WPjRk5wi32uSS9rfZajpWEvj9hW42F4o5NytSXYy8IKHay10VYdrcl4SkqscrXpMwyGOgtkajheSxdQqmpxP1L3t4R5PqasFnrQEjytq6qgp9Y09Qx9o4S1FzhUCn1kyHSzBWLemoSGvOqLNhZyBjmCaAUYpMgt4Ck7wBBMMwWKWgjsUwTaGVsxWC1mYoKiyqqeGKYqonSIRQ3KIkHO0pmAxTdBHkbOvfllfr+AA+7gnc50huVKYK393FOyg7rbPO/izI7hE4CnHHHnJ0ogNPRUGeUpsrZZTBJcrovUcJe51BPsr6GkJdhCCsZ6aTtMEb2pqWkqeVtDXE/QVggsU/Nl86d9RMF3DxvZTA58agu810RWawCiSzzXBeU3MMW9oyJUedvNEvQyNu1f10BSMddR1vaLCYpYa/mGocLSiYDcLbQz8aMn5iyF4xBNMs1P0QEOV7o5gaWGuzSeLue4tt3ro7y4Tgm4G/mopdZgl6q0o6KzJWE3mMksNr3r+a6CbT8g5wZNzT9O7fi/zpaOmnz3BRoqos+tv9zMbdpxsqDBOEewtJLt7cg5wtKKbvldpSzRRCD43VFheCI7yZLppggMVBS/KMAdHODJvOwq2NQSbKKKPLdFWQs7Fqo+mpl01JXYRgq8dnGLhTiFzqmWsUMdpllZdbKlyvSdYxhI9YghOtxR8LgSLWHK62mGGVoxzBE8LNWzqH9CUesQzFy5RQzTc56mhi6fgXEWwpKfE5Z7M05ZgZUPmo6auiv8YKzDYwWBLMErIbKHJvOwIrvEdhOBcQ9JdU1NHQ7CXn2XIDFBKU2WAgcX9UAUzDXWd5alwuyJ41Z9rjKLCL4aCp4WarhPm2rH+SaHUYE001JDZ2ZAzXPjdMpZWvC9wmqIB2lLhQ01D5jO06hghWMndbM7yRJMsoCj1vYbnFQVrW9jak3OlEJ3s/96+p33dEPRV5GxiqaGjIthUU6FFEZyqCa5qJrpBdzSw95IUnOPIrCUUjRZQFrbw5PR0R1qiYx3cb6nrWUMrBmmiBQxVHtTew5ICP/ip6g4hed/Akob/32wvBHsIOX83cI8hGeNeNPCIkPmXe8fPKx84OMSRM1MTdXSwjCZ4S30jVGhvqTRak/OVhgGazHuOCud5onEO1lJr6ecVyaOK6H7zqlBlIaHE0oroCgfvGJIdPcmfLNGLjpz7hZwZQpUbFME0A1cIJa7VNORkgfsMBatbKgwwJM9bSvQXeNOvbIjelg6WWvo5kvbKaJJNHexkKNHL9xRyFlH8Ti2riB5wVPhUk7nGkJnoCe428LR/wRGdYIlmWebCyxou1rCk4g/ShugBDX0V0ZQWkh0dOVsagkM0yV6OoLd5ye+pRlsCr0n+KiQrGuq5yJDzrTAXHtLUMduTDBVKrSm3eHL+6ijxhFDX9Z5gVU/wliHYTMiMFpKLNMEywu80wd3meoFmt6VbRMPenhrOc6DVe4pgXU8DnnHakLOIIrlF4FZPIw6R+zxBP0dyq6OOZ4Q5sLKCcz084ok+VsMMyQhNZmmBgX5xIXOEJTmi7VsGTvMTNdHHhpzdbE8Du2oKxgvBqQKdDDnTFOylCFaxR1syz2iqrOI/FEpNc3C6f11/7+ASS6l2inq2ciTrCCzgyemrCL5SVPjQkdPZUmGy2c9Sw9FtR1sS30RmsKPCS4rkIC/2U0MduwucYolGaPjKEyhzmiPYXagyWbYz8LWBDdzRimAXzxx4z8K9hpzlhLq+NiQ97HuKorMUfK/OVvC2JfiHUPCQI/q7J2gjK+tTDNxkCc4TMssqCs4TGtLVwQihyoAWgj9bosU80XGW6Ac9TJGziaUh5+hnFcHOnlaM1iRn29NaqGENTTTSUHCH2tWTeV0osUhH6psuVLjRUmGWhm6OZEshGeNowABHcJ2Bpy2ZszRcKkRXd2QuKVEeXnbfaEq825FguqfgfE2whlChSRMdron+LATTPQ2Z369t4B9C5gs/ylzv+CMmepIDPclFQl13W0rspPd1JOcbghGOEutqCv5qacURQl3dDKyvyJlqKXGPgcM9FfawJAMVmdcspcYKOZc4GjDYkFlK05olNMHyHn4zFNykyOxt99RkHlfwmiHo60l2EKI+mhreEKp080Tbug08BVPcgoqC5zWt+NLDTZ7oNSF51N1qie7Va3uCCwyZbkINf/NED6jzOsBdZjFN8oqG3wxVunqCSYYKf3EdhJyf9YWGf7tRU2oH3VHgPr1fe5J9hOgHd7xQ0y7qBwXr23aGErP0cm64JVjZwsOGqL+mhNgZmhJLW2oY4UhedsyBgzrCKrq7BmcpNVhR6jBPq64Vgi+kn6XE68pp8J5/+0wRHGOpsKenQn9DZntPzjRLZpDAdD2fnSgkG9tmIXnUwQ6WVighs7Yi2MxQ0N3CqYaCXkJ0oyOztMDJjmSSpcpvlrk0RMMOjmArQ04PRV1DO1FwhCVaUVPpKUM03JK5SxPsIWRu8/CGHi8UHChiqGFDTbSRJWeYUDDcH6vJWUxR4k1FXbMUwV6e4AJFXS8oMqsZKqzvYQ9DDQdZckY4aGsIhtlubbd2r3j4QBMoTamdPZk7O/Bf62lacZwneNjQoGcdVU7zJOd7ghsUHOkosagic6cnWc8+4gg285R6zZP5s1/LUbCKIznTwK36PkdwlOrl4U1LwfdCCa+IrvFkmgw1PCAUXKWo0sURXWcI2muKJlgyFzhynCY4RBOsqCjoI1R5zREco0n2Vt09BQtYSizgKNHfUmUrQ5UOCh51BFcLmY7umhYqXKQomOop8bUnWNNQcIiBcYaC6xzMNOS8JQQfeqKBmmglB+97ok/lfk3ygaHSyZaCRTzRxQo6GzLfa2jWBPepw+UmT7SQEJyiyRkhBLMVOfcoMjcK0eZChfUNzFAUzCsEN5vP/X1uP/n/aoMX+K+nw/Hjr/9xOo7j7Pju61tLcgvJpTWXNbfN5jLpi6VfCOviTktKlFusQixdEKWmEBUKNaIpjZRSSOXSgzaaKLdabrm1/9nZ+/f+vd/vz/v9+Xy+zZ7PRorYoZqyLrCwQdEAixxVOEXNNnjX2nUSRlkqGmWowk8lxR50JPy9Bo6qJXaXwNvREBvnThPEPrewryLhcAnj5WE15Fqi8W7R1sAuEu86S4ENikItFN4xkv9Af4nXSnUVcLiA9xzesFpivRRVeFKtsMRaKBhuSbjOELnAUtlSQUpXgdfB4Z1oSbnFEetbQ0IrAe+Y+pqnDcEJFj6S8LDZzZHwY4e3XONNlARraomNEt2bkvGsosA3ioyHm+6jCMbI59wqt4eeara28IzEmyPgoRaUOEDhTVdEJhmCoTWfC0p8aNkCp0oYqih2iqGi4yXeMkOsn4LdLLnmKfh/YogjNsPebeFGR4m9BJHLzB61XQ3BtpISfS2FugsK9FAtLWX1dCRcrCnUp44CNzuCowUZmxSRgYaE6Za0W2u/E7CVXCiI/UOR8aAm1+OSyE3mOUcwyc1zBBeoX1kiKy0Zfxck1Gsyulti11i83QTBF5Kg3pDQThFMVHiPSlK+0cSedng/VaS8bOZbtsBcTcZAR8JP5KeqQ1OYKAi20njdNNRpgnsU//K+JnaXJaGTomr7aYIphoRn9aeShJWKEq9LcozSF7QleEfDI5LYm5bgVkFkRwVDBCVu0DDIkGupo8TZBq+/pMQURYErJQmPKGKjNDkWOLx7Jd5QizdUweIaKrlP7SwJDhZvONjLkOsBBX9UpGxnydhXkfBLQ8IxgojQbLFnJf81JytSljclYYyEFyx0kVBvKWOFJmONpshGAcsduQY5giVNCV51eOdJYo/pLhbvM0uDHSevNKRcrKZIqnCtJeEsO95RoqcgGK4ocZcho1tTYtcZvH41pNQ7vA0WrhIfOSraIIntIAi+NXWCErdbkvrWwjRLrt0NKUdL6KSOscTOdMSOUtBHwL6OLA0vNSdynaWQEnCpIvKaIrJJEbvHkmuNhn6OjM8VkSGSqn1uYJCGHnq9I3aLhNME3t6GjIkO7xrNFumpyTNX/NrwX7CrIRiqqWijI9JO4d1iieykyfiposQIQ8YjjsjlBh6oHWbwRjgYJQn2NgSnNycmJAk3NiXhx44Sxykihxm8ybUwT1OVKySc7vi3OXVkdBJ4AyXBeksDXG0IhgtYY0lY5ahCD0ehborIk5aUWRJviMA7Xt5kyRjonrXENkm8yYqgs8VzgrJmClK20uMM3jRJ0FiQICQF9hdETlLQWRIb5ki6WDfWRPobvO6a4GP5mcOrNzDFELtTkONLh9dXE8xypEg7z8A9jkhrQ6Fhjlg/QVktJXxt4WXzT/03Q8IaQWSqIuEvloQ2mqC9Jfi7wRul4RX3pSPlzpoVlmCtI2jvKHCFhjcM3sN6lqF6HxnKelLjXWbwrpR4xzuCrTUZx2qq9oAh8p6ixCUGr78g8oyjRAtB5CZFwi80VerVpI0h+IeBxa6Zg6kWvpDHaioYYuEsRbDC3eOmC2JvGYLeioxGknL2UATNJN6hmtj1DlpLvDVmocYbrGCVJKOrg4X6DgddLA203BKMFngdJJFtFd7vJLm6KEpc5yjQrkk7M80SGe34X24nSex1Ra5Omgb71JKyg8SrU3i/kARKwWpH0kOGhKkObyfd0ZGjvyXlAkVZ4xRbYJ2irFMkFY1SwyWxr2oo4zlNiV+7zmaweFpT4kR3kaDAFW6xpSqzJay05FtYR4HmZhc9UxKbbfF2V8RG1MBmSaE+kmC6JnaRXK9gsiXhJHl/U0qM0WTcbyhwkYIvFGwjSbjfwhiJt8ZSQU+Bd5+marPMOkVkD0muxYLIfEuhh60x/J92itguihJSEMySVPQnTewnEm+620rTQEMsOfo4/kP/0ARvWjitlpSX7GxBgcMEsd3EEeYWvdytd+Saawi6aCIj1CkGb6Aj9rwhx16Cf3vAwFy5pyLhVonXzy51FDpdEblbkdJbUcEPDEFzQ8qNmhzzLTmmKWKbFCXeEuRabp6rxbvAtLF442QjQ+wEA9eL1xSR7Q0JXzlSHjJ4exq89yR0laScJ/FW6z4a73pFMEfDiRZvuvijIt86RaSFOl01riV2mD1UEvxGk/Geg5aWwGki1zgKPG9J2U8PEg8qYvMsZeytiTRXBMslCU8JSlxi8EabjwUldlDNLfzTUmCgxWsjqWCOHavYAqsknKFIO0yQ61VL5AVFxk6WhEaCAkdJgt9aSkzXlKNX2jEa79waYuc7gq0N3GDJGCBhoiTXUEPsdknCUE1CK0fwsiaylSF2uiDyO4XX3pFhNd7R4itFGc0k/ElBZwWvq+GC6szVeEoS/MZ+qylwpKNKv9Z469UOjqCjwlusicyTxG6VpNxcQ8IncoR4RhLbR+NdpGGmJWOcIzJGUuKPGpQg8rrG21dOMqQssJQ4RxH5jaUqnZuQ0F4Q+cjxLwPtpZbIAk3QTJHQWBE5S1BokoVtDd6lhqr9UpHSUxMcIYl9pojsb8h4SBOsMQcqvOWC2E8EVehqiJ1hrrAEbQxeK0NGZ0Gkq+guSRgniM23bIHVkqwx4hiHd7smaOyglyIyQuM978j4VS08J/A2G1KeMBRo4fBaSNhKUEZfQewVQ/C1I+MgfbEleEzCUw7mKXI0M3hd1EESVji8x5uQ41nxs1q4RMJCCXs7Iq9acpxn22oSDnQ/sJTxsCbHIYZiLyhY05TY0ZLIOQrGaSJDDN4t8pVaIrsqqFdEegtizc1iTew5Q4ayBDMUsQMkXocaYkc0hZua412siZ1rSXlR460zRJ5SlHGe5j801RLMlJTxtaOM3Q1pvxJ45zUlWFD7rsAbpfEm1JHxG0eh8w2R7QQVzBUw28FhFp5QZzq8t2rx2joqulYTWSuJdTYfWwqMFMcovFmSyJPNyLhE4E10pHzYjOC3huArRa571ZsGajQpQx38SBP5pyZB6lMU3khDnp0MBV51BE9o2E+TY5Ml2E8S7C0o6w1xvCZjf0HkVEHCzFoyNmqC+9wdcqN+Tp7jSDheE9ws8Y5V0NJCn2bk2tqSY4okdrEhx1iDN8cSudwepWmAGXKcJXK65H9to8jYQRH7SBF01ESUJdd0TayVInaWhLkOjlXE5irKGOnI6GSWGCJa482zBI9rCr0jyTVcEuzriC1vcr6mwFGSiqy5zMwxBH/TJHwjSPhL8+01kaaSUuMFKTcLEvaUePcrSmwn8DZrgikWb7CGPxkSjhQwrRk57tctmxLsb9sZvL9LSlyuSLlWkqOjwduo8b6Uv1DkmudIeFF2dHCgxVtk8dpIvHpBxhEOdhKk7OLIUSdJ+cSRY57B+0DgGUUlNfpthTfGkauzxrvTsUUaCVhlKeteTXCoJDCa2NOKhOmC4G1H8JBd4OBZReSRGkqcb/CO1PyLJTLB4j1q8JYaIutEjSLX8YKM+a6phdMsdLFUoV5RTm9JSkuDN8WcIon0NZMNZWh1q8C7SJEwV5HxrmnnTrf3KoJBlmCYI2ilSLlfEvlE4011NNgjgthzEua0oKK7JLE7HZHlEl60BLMVFewg4EWNt0ThrVNEVkkiTwpKXSWJzdRENgvKGq4IhjsiezgSFtsfCUq8qki5S1LRQeYQQ4nemmCkImWMw3tFUoUBZk4NOeZYEp4XRKTGa6wJjrWNHBVJR4m3FCnbuD6aak2WsMTh3SZImGCIPKNgsDpVwnsa70K31lCFJZYcwwSMFcQulGTsZuEaSdBXkPGZhu0FsdUO73RHjq8MPGGIfaGIbVTk6iuI3GFgucHrIQkmWSJdBd7BBu+uOryWAhY7+Lki9rK5wtEQzWwvtbqGhIMFwWRJsElsY4m9IIg9L6lCX0VklaPAYkfkZEGDnOWowlBJjtMUkcGK4Lg6EtoZInMUBVYLgn0UsdmCyCz7gIGHFfk+k1QwTh5We7A9x+IdJ6CvIkEagms0hR50eH9UnTQJ+2oiKyVlLFUE+8gBGu8MQ3CppUHesnjTHN4QB/UGPhCTHLFPHMFrCqa73gqObUJGa03wgbhHkrCfpEpzNLE7JDS25FMKhlhKKWKfCgqstLCPu1zBXy0J2ztwjtixBu8UTRn9LVtkmCN2iyFhtME70JHRQ1KVZXqKI/KNIKYMCYs1GUMEKbM1bKOI9LDXC7zbHS+bt+1MTWS9odA9DtrYtpbImQJ2VHh/lisEwaHqUk1kjKTAKknkBEXkbkdMGwq0dnhzLJF3NJH3JVwrqOB4Sca2hti75nmJN0WzxS6UxDYoEpxpa4htVlRjkYE7DZGzJVU72uC9IyhQL4i8YfGWSYLLNcHXloyz7QhNifmKSE9JgfGmuyLhc403Xm9vqcp6gXe3xuuv8F6VJNxkyTHEkHG2g0aKXL0MsXc1bGfgas2//dCONXiNLCX+5mB7eZIl1kHh7ajwpikyzlUUWOVOsjSQlsS+M0R+pPje/dzBXRZGO0rMtgQrLLG9VSu9n6CMXS3BhwYmSoIBhsjNBmZbgusE9BCPCP5triU4VhNbJfE+swSP27aayE8tuTpYYjtrYjMVGZdp2NpS1s6aBnKSHDsbKuplKbHM4a0wMFd/5/DmGyKrJSUaW4IBrqUhx0vyfzTBBLPIUcnZdrAkNsKR0sWRspumSns6Ch0v/qqIbBYUWKvPU/CFoyrDJGwSNFhbA/MlzKqjrO80hRbpKx0Jewsi/STftwGSlKc1JZyAzx05dhLEdnfQvhZOqiHWWEAHC7+30FuRcZUgaO5gpaIK+xsiHRUsqaPElTV40xQZQ107Q9BZE1nryDVGU9ZSQ47bmhBpLcYpUt7S+xuK/FiT8qKjwXYw5ypS2iuCv7q1gtgjhuBuB8LCFY5cUuCNtsQOFcT+4Ih9JX+k8Ea6v0iCIRZOtCT0Et00JW5UeC85Cg0ScK0k411HcG1zKtre3SeITBRk7WfwDhEvaYLTHP9le0m8By0JDwn4TlLW/aJOvGHxdjYUes+ScZigCkYQdNdEOhkiezgShqkx8ueKjI8lDfK2oNiOFvrZH1hS+tk7NV7nOmLHicGWEgubkXKdwdtZknCLJXaCpkrjZBtLZFsDP9CdxWsSr05Sxl6CMmoFbCOgryX40uDtamB7SVmXW4Ihlgpmq+00tBKUUa83WbjLUNkzDmY7cow1JDygyPGlhgGKYKz4vcV7QBNbJIgM11TUqZaMdwTeSguH6rOaw1JRKzaaGyxVm2EJ/uCIrVWUcZUkcp2grMsEjK+DMwS59jQk3Kd6SEq1d0S6uVmO4Bc1lDXTUcHjluCXEq+1OlBDj1pi9zgiXxnKuE0SqTXwhqbETW6RggMEnGl/q49UT2iCzgJvRwVXS2K/d6+ZkyUl7jawSVLit46EwxVljDZwoSQ20sDBihztHfk2yA8NVZghiXwrYHQdfKAOtzsayjhY9bY0yE2CWEeJ9xfzO423xhL5syS2TFJofO2pboHob0nY4GiAgRrvGQEDa/FWSsoaaYl0syRsEt3kWoH3B01shCXhTUWe9w3Bt44SC9QCh3eShQctwbaK2ApLroGCMlZrYqvlY3qYhM0aXpFkPOuoqJ3Dm6fxXrGwVF9gCWZagjPqznfkuMKQ8DPTQRO8ZqG1hPGKEm9IgpGW4DZDgTNriTxvFiq+Lz+0cKfp4wj6OCK9JSnzNSn9LFU7UhKZZMnYwcJ8s8yRsECScK4j5UOB95HFO0CzhY4xJxuCix0lDlEUeMdS6EZBkTsUkZ4K74dugyTXS7aNgL8aqjDfkCE0ZbwkCXpaWCKhl8P7VD5jxykivSyxyZrYERbe168LYu9ZYh86IkscgVLE7tWPKmJv11CgoyJltMEbrohtVAQfO4ImltiHEroYEs7RxAarVpY8AwXMcMReFOTYWe5iiLRQxJ5Q8DtJ8LQhWOhIeFESPGsILhbNDRljNbHzNRlTFbk2S3L0NOS6V1KFJYKUbSTcIIhM0wQ/s2TM0SRMNcQmSap3jCH4yhJZKSkwyRHpYYgsFeQ4U7xoCB7VVOExhXepo9ABBsYbvGWKXPME3lyH95YioZ0gssQRWWbI+FaSMkXijZXwgiTlYdPdkNLaETxlyDVIwqeaEus0aTcYcg0RVOkpR3CSJqIddK+90JCxzsDVloyrFd5ZAr4TBKfaWa6boEA7C7s6EpYaeFPjveooY72mjIccLHJ9HUwVlDhKkmutJDJBwnp1rvulJZggKDRfbXAkvC/4l3ozQOG9a8lxjx0i7nV4jSXc7vhe3OwIxjgSHjdEhhsif9YkPGlus3iLFDnWOFhtCZbJg0UbQcIaR67JjthoCyMEZRwhiXWyxO5QxI6w5NhT4U1WsJvDO60J34fW9hwzwlKij6ZAW9ne4L0s8C6XeBMEkd/LQy1VucBRot6QMlbivaBhoBgjqGiCJNhsqVp/S2SsG6DIONCR0dXhvWbJ+MRRZJkkuEjgDXJjFQW6SSL7GXK8Z2CZg7cVsbWGoKmEpzQ5elpiy8Ryg7dMkLLUEauzeO86CuwlSOlgYLojZWeJ9xM3S1PWfEfKl5ISLQ0MEKR8YOB2QfCxJBjrKPCN4f9MkaSsqoVXJBmP7EpFZ9UQfOoOFwSzBN4MQ8LsGrymlipcJQhmy0GaQjPqCHaXRwuCZwRbqK2Fg9wlClZqYicrIgMdZfxTQ0c7TBIbrChxmuzoKG8XRaSrIhhiyNFJkrC7oIAWMEOQa5aBekPCRknCo4IKPrYkvCDI8aYmY7WFtprgekcJZ3oLIqssCSMtFbQTJKwXYy3BY5oCh2iKPCpJOE+zRdpYgi6O2KmOAgvVCYaU4ySRek1sgyFhJ403QFHiVEmJHwtybO1gs8Hr5+BETQX3War0qZngYGgtVZtoqd6vFSk/UwdZElYqyjrF4HXUeFspIi9IGKf4j92pKGAdCYMVsbcV3kRF0N+R8LUd5PCsIGWoxDtBkCI0nKofdJQxT+LtZflvuc8Q3CjwWkq8KwUpHzkK/NmSsclCL0nseQdj5FRH5CNHSgtLiW80Of5HU9Hhlsga9bnBq3fEVltKfO5IaSTmGjjc4J0otcP7QsJUSQM8pEj5/wCuUuC2DWz8AAAAAElFTkSuQmCC");\n}\n'],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-base16-dark.CodeMirror{background:#151515;color:#e0e0e0}.cm-s-base16-dark div.CodeMirror-selected{background:#303030}.cm-s-base16-dark .CodeMirror-line::selection,.cm-s-base16-dark .CodeMirror-line>span::selection,.cm-s-base16-dark .CodeMirror-line>span>span::selection{background:rgba(48,48,48,.99)}.cm-s-base16-dark .CodeMirror-line::-moz-selection,.cm-s-base16-dark .CodeMirror-line>span::-moz-selection,.cm-s-base16-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(48,48,48,.99)}.cm-s-base16-dark .CodeMirror-gutters{background:#151515;border-right:0}.cm-s-base16-dark .CodeMirror-guttermarker{color:#ac4142}.cm-s-base16-dark .CodeMirror-guttermarker-subtle,.cm-s-base16-dark .CodeMirror-linenumber{color:#505050}.cm-s-base16-dark .CodeMirror-cursor{border-left:1px solid #b0b0b0}.cm-s-base16-dark span.cm-comment{color:#8f5536}.cm-s-base16-dark span.cm-atom,.cm-s-base16-dark span.cm-number{color:#aa759f}.cm-s-base16-dark span.cm-attribute,.cm-s-base16-dark span.cm-property{color:#90a959}.cm-s-base16-dark span.cm-keyword{color:#ac4142}.cm-s-base16-dark span.cm-string{color:#f4bf75}.cm-s-base16-dark span.cm-variable{color:#90a959}.cm-s-base16-dark span.cm-variable-2{color:#6a9fb5}.cm-s-base16-dark span.cm-def{color:#d28445}.cm-s-base16-dark span.cm-bracket{color:#e0e0e0}.cm-s-base16-dark span.cm-tag{color:#ac4142}.cm-s-base16-dark span.cm-link{color:#aa759f}.cm-s-base16-dark span.cm-error{background:#ac4142;color:#b0b0b0}.cm-s-base16-dark .CodeMirror-activeline-background{background:#202020}.cm-s-base16-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/base16-dark.css"],names:[],mappings:"AAUA,6BAA+B,mBAAoB,AAAC,aAAe,CAAE,AACrE,0CAA4C,kBAAoB,CAAE,AAClE,yJAAmK,6BAAkC,CAAE,AACvM,wKAAkL,6BAAkC,CAAE,AACtN,sCAAwC,mBAAoB,AAAC,cAAkB,CAAE,AACjF,2CAA6C,aAAe,CAAE,AAE9D,2FAA2C,aAAe,CAAE,AAC5D,qCAAuC,6BAA+B,CAAE,AAExE,kCAAoC,aAAe,CAAE,AAErD,gEAAmC,aAAe,CAAE,AAEpD,uEAA0E,aAAe,CAAE,AAC3F,kCAAoC,aAAe,CAAE,AACrD,iCAAmC,aAAe,CAAE,AAEpD,mCAAqC,aAAe,CAAE,AACtD,qCAAuC,aAAe,CAAE,AACxD,8BAAgC,aAAe,CAAE,AACjD,kCAAoC,aAAe,CAAE,AACrD,8BAAgC,aAAe,CAAE,AACjD,+BAAiC,aAAe,CAAE,AAClD,gCAAkC,mBAAoB,AAAC,aAAe,CAAE,AAExE,oDAAsD,kBAAoB,CAAE,AAC5E,8CAAgD,0BAA2B,AAAC,oBAAwB,CAAE",file:"base16-dark.css",sourcesContent:["/*\n\n    Name:       Base16 Default Dark\n    Author:     Chris Kempson (http://chriskempson.com)\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-base16-dark.CodeMirror { background: #151515; color: #e0e0e0; }\n.cm-s-base16-dark div.CodeMirror-selected { background: #303030; }\n.cm-s-base16-dark .CodeMirror-line::selection, .cm-s-base16-dark .CodeMirror-line > span::selection, .cm-s-base16-dark .CodeMirror-line > span > span::selection { background: rgba(48, 48, 48, .99); }\n.cm-s-base16-dark .CodeMirror-line::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(48, 48, 48, .99); }\n.cm-s-base16-dark .CodeMirror-gutters { background: #151515; border-right: 0px; }\n.cm-s-base16-dark .CodeMirror-guttermarker { color: #ac4142; }\n.cm-s-base16-dark .CodeMirror-guttermarker-subtle { color: #505050; }\n.cm-s-base16-dark .CodeMirror-linenumber { color: #505050; }\n.cm-s-base16-dark .CodeMirror-cursor { border-left: 1px solid #b0b0b0; }\n\n.cm-s-base16-dark span.cm-comment { color: #8f5536; }\n.cm-s-base16-dark span.cm-atom { color: #aa759f; }\n.cm-s-base16-dark span.cm-number { color: #aa759f; }\n\n.cm-s-base16-dark span.cm-property, .cm-s-base16-dark span.cm-attribute { color: #90a959; }\n.cm-s-base16-dark span.cm-keyword { color: #ac4142; }\n.cm-s-base16-dark span.cm-string { color: #f4bf75; }\n\n.cm-s-base16-dark span.cm-variable { color: #90a959; }\n.cm-s-base16-dark span.cm-variable-2 { color: #6a9fb5; }\n.cm-s-base16-dark span.cm-def { color: #d28445; }\n.cm-s-base16-dark span.cm-bracket { color: #e0e0e0; }\n.cm-s-base16-dark span.cm-tag { color: #ac4142; }\n.cm-s-base16-dark span.cm-link { color: #aa759f; }\n.cm-s-base16-dark span.cm-error { background: #ac4142; color: #b0b0b0; }\n\n.cm-s-base16-dark .CodeMirror-activeline-background { background: #202020; }\n.cm-s-base16-dark .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n"],
sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-base16-light.CodeMirror{background:#f5f5f5;color:#202020}.cm-s-base16-light div.CodeMirror-selected{background:#e0e0e0}.cm-s-base16-light .CodeMirror-line::selection,.cm-s-base16-light .CodeMirror-line>span::selection,.cm-s-base16-light .CodeMirror-line>span>span::selection{background:#e0e0e0}.cm-s-base16-light .CodeMirror-line::-moz-selection,.cm-s-base16-light .CodeMirror-line>span::-moz-selection,.cm-s-base16-light .CodeMirror-line>span>span::-moz-selection{background:#e0e0e0}.cm-s-base16-light .CodeMirror-gutters{background:#f5f5f5;border-right:0}.cm-s-base16-light .CodeMirror-guttermarker{color:#ac4142}.cm-s-base16-light .CodeMirror-guttermarker-subtle,.cm-s-base16-light .CodeMirror-linenumber{color:#b0b0b0}.cm-s-base16-light .CodeMirror-cursor{border-left:1px solid #505050}.cm-s-base16-light span.cm-comment{color:#8f5536}.cm-s-base16-light span.cm-atom,.cm-s-base16-light span.cm-number{color:#aa759f}.cm-s-base16-light span.cm-attribute,.cm-s-base16-light span.cm-property{color:#90a959}.cm-s-base16-light span.cm-keyword{color:#ac4142}.cm-s-base16-light span.cm-string{color:#f4bf75}.cm-s-base16-light span.cm-variable{color:#90a959}.cm-s-base16-light span.cm-variable-2{color:#6a9fb5}.cm-s-base16-light span.cm-def{color:#d28445}.cm-s-base16-light span.cm-bracket{color:#202020}.cm-s-base16-light span.cm-tag{color:#ac4142}.cm-s-base16-light span.cm-link{color:#aa759f}.cm-s-base16-light span.cm-error{background:#ac4142;color:#505050}.cm-s-base16-light .CodeMirror-activeline-background{background:#dddcdc}.cm-s-base16-light .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/base16-light.css"],names:[],mappings:"AAUA,8BAAgC,mBAAoB,AAAC,aAAe,CAAE,AACtE,2CAA6C,kBAAoB,CAAE,AACnE,4JAAsK,kBAAoB,CAAE,AAC5L,2KAAqL,kBAAoB,CAAE,AAC3M,uCAAyC,mBAAoB,AAAC,cAAkB,CAAE,AAClF,4CAA8C,aAAe,CAAE,AAE/D,6FAA4C,aAAe,CAAE,AAC7D,sCAAwC,6BAA+B,CAAE,AAEzE,mCAAqC,aAAe,CAAE,AAEtD,kEAAoC,aAAe,CAAE,AAErD,yEAA4E,aAAe,CAAE,AAC7F,mCAAqC,aAAe,CAAE,AACtD,kCAAoC,aAAe,CAAE,AAErD,oCAAsC,aAAe,CAAE,AACvD,sCAAwC,aAAe,CAAE,AACzD,+BAAiC,aAAe,CAAE,AAClD,mCAAqC,aAAe,CAAE,AACtD,+BAAiC,aAAe,CAAE,AAClD,gCAAkC,aAAe,CAAE,AACnD,iCAAmC,mBAAoB,AAAC,aAAe,CAAE,AAEzE,qDAAuD,kBAAoB,CAAE,AAC7E,+CAAiD,0BAA2B,AAAC,oBAAwB,CAAE",file:"base16-light.css",sourcesContent:["/*\n\n    Name:       Base16 Default Light\n    Author:     Chris Kempson (http://chriskempson.com)\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-base16-light.CodeMirror { background: #f5f5f5; color: #202020; }\n.cm-s-base16-light div.CodeMirror-selected { background: #e0e0e0; }\n.cm-s-base16-light .CodeMirror-line::selection, .cm-s-base16-light .CodeMirror-line > span::selection, .cm-s-base16-light .CodeMirror-line > span > span::selection { background: #e0e0e0; }\n.cm-s-base16-light .CodeMirror-line::-moz-selection, .cm-s-base16-light .CodeMirror-line > span::-moz-selection, .cm-s-base16-light .CodeMirror-line > span > span::-moz-selection { background: #e0e0e0; }\n.cm-s-base16-light .CodeMirror-gutters { background: #f5f5f5; border-right: 0px; }\n.cm-s-base16-light .CodeMirror-guttermarker { color: #ac4142; }\n.cm-s-base16-light .CodeMirror-guttermarker-subtle { color: #b0b0b0; }\n.cm-s-base16-light .CodeMirror-linenumber { color: #b0b0b0; }\n.cm-s-base16-light .CodeMirror-cursor { border-left: 1px solid #505050; }\n\n.cm-s-base16-light span.cm-comment { color: #8f5536; }\n.cm-s-base16-light span.cm-atom { color: #aa759f; }\n.cm-s-base16-light span.cm-number { color: #aa759f; }\n\n.cm-s-base16-light span.cm-property, .cm-s-base16-light span.cm-attribute { color: #90a959; }\n.cm-s-base16-light span.cm-keyword { color: #ac4142; }\n.cm-s-base16-light span.cm-string { color: #f4bf75; }\n\n.cm-s-base16-light span.cm-variable { color: #90a959; }\n.cm-s-base16-light span.cm-variable-2 { color: #6a9fb5; }\n.cm-s-base16-light span.cm-def { color: #d28445; }\n.cm-s-base16-light span.cm-bracket { color: #202020; }\n.cm-s-base16-light span.cm-tag { color: #ac4142; }\n.cm-s-base16-light span.cm-link { color: #aa759f; }\n.cm-s-base16-light span.cm-error { background: #ac4142; color: #505050; }\n\n.cm-s-base16-light .CodeMirror-activeline-background { background: #DDDCDC; }\n.cm-s-base16-light .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-blackboard.CodeMirror{background:#0c1021;color:#f8f8f8}.cm-s-blackboard div.CodeMirror-selected{background:#253b76}.cm-s-blackboard .CodeMirror-line::selection,.cm-s-blackboard .CodeMirror-line>span::selection,.cm-s-blackboard .CodeMirror-line>span>span::selection{background:rgba(37,59,118,.99)}.cm-s-blackboard .CodeMirror-line::-moz-selection,.cm-s-blackboard .CodeMirror-line>span::-moz-selection,.cm-s-blackboard .CodeMirror-line>span>span::-moz-selection{background:rgba(37,59,118,.99)}.cm-s-blackboard .CodeMirror-gutters{background:#0c1021;border-right:0}.cm-s-blackboard .CodeMirror-guttermarker{color:#fbde2d}.cm-s-blackboard .CodeMirror-guttermarker-subtle,.cm-s-blackboard .CodeMirror-linenumber{color:#888}.cm-s-blackboard .CodeMirror-cursor{border-left:1px solid #a7a7a7}.cm-s-blackboard .cm-keyword{color:#fbde2d}.cm-s-blackboard .cm-atom,.cm-s-blackboard .cm-number{color:#d8fa3c}.cm-s-blackboard .cm-def{color:#8da6ce}.cm-s-blackboard .cm-variable{color:#ff6400}.cm-s-blackboard .cm-operator{color:#fbde2d}.cm-s-blackboard .cm-comment{color:#aeaeae}.cm-s-blackboard .cm-string,.cm-s-blackboard .cm-string-2{color:#61ce3c}.cm-s-blackboard .cm-meta{color:#d8fa3c}.cm-s-blackboard .cm-attribute,.cm-s-blackboard .cm-builtin,.cm-s-blackboard .cm-tag{color:#8da6ce}.cm-s-blackboard .cm-header{color:#ff6400}.cm-s-blackboard .cm-hr{color:#aeaeae}.cm-s-blackboard .cm-link{color:#8da6ce}.cm-s-blackboard .cm-error{background:#9d1e15;color:#f8f8f8}.cm-s-blackboard .CodeMirror-activeline-background{background:#3c3636}.cm-s-blackboard .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/blackboard.css"],names:[],mappings:"AAEA,4BAA8B,mBAAoB,AAAC,aAAe,CAAE,AACpE,yCAA2C,kBAAoB,CAAE,AACjE,sJAAgK,8BAAmC,CAAE,AACrM,qKAA+K,8BAAmC,CAAE,AACpN,qCAAuC,mBAAoB,AAAC,cAAgB,CAAE,AAC9E,0CAA4C,aAAe,CAAE,AAE7D,yFAA0C,UAAY,CAAE,AACxD,oCAAsC,6BAA+B,CAAE,AAEvE,6BAA+B,aAAe,CAAE,AAEhD,sDAA8B,aAAe,CAAE,AAC/C,yBAA2B,aAAe,CAAE,AAC5C,8BAAgC,aAAe,CAAE,AACjD,8BAAgC,aAAe,CAAE,AACjD,6BAA+B,aAAe,CAAE,AAEhD,0DAAgC,aAAe,CAAE,AACjD,0BAA4B,aAAe,CAAE,AAG7C,qFAAiC,aAAe,CAAE,AAClD,4BAA8B,aAAe,CAAE,AAC/C,wBAA0B,aAAe,CAAE,AAC3C,0BAA4B,aAAe,CAAE,AAC7C,2BAA6B,mBAAoB,AAAC,aAAe,CAAE,AAEnE,mDAAqD,kBAAoB,CAAE,AAC3E,6CAA+C,uBAAuB,oBAAuB,CAAE",file:"blackboard.css",sourcesContent:["/* Port of TextMate's Blackboard theme */\n\n.cm-s-blackboard.CodeMirror { background: #0C1021; color: #F8F8F8; }\n.cm-s-blackboard div.CodeMirror-selected { background: #253B76; }\n.cm-s-blackboard .CodeMirror-line::selection, .cm-s-blackboard .CodeMirror-line > span::selection, .cm-s-blackboard .CodeMirror-line > span > span::selection { background: rgba(37, 59, 118, .99); }\n.cm-s-blackboard .CodeMirror-line::-moz-selection, .cm-s-blackboard .CodeMirror-line > span::-moz-selection, .cm-s-blackboard .CodeMirror-line > span > span::-moz-selection { background: rgba(37, 59, 118, .99); }\n.cm-s-blackboard .CodeMirror-gutters { background: #0C1021; border-right: 0; }\n.cm-s-blackboard .CodeMirror-guttermarker { color: #FBDE2D; }\n.cm-s-blackboard .CodeMirror-guttermarker-subtle { color: #888; }\n.cm-s-blackboard .CodeMirror-linenumber { color: #888; }\n.cm-s-blackboard .CodeMirror-cursor { border-left: 1px solid #A7A7A7; }\n\n.cm-s-blackboard .cm-keyword { color: #FBDE2D; }\n.cm-s-blackboard .cm-atom { color: #D8FA3C; }\n.cm-s-blackboard .cm-number { color: #D8FA3C; }\n.cm-s-blackboard .cm-def { color: #8DA6CE; }\n.cm-s-blackboard .cm-variable { color: #FF6400; }\n.cm-s-blackboard .cm-operator { color: #FBDE2D; }\n.cm-s-blackboard .cm-comment { color: #AEAEAE; }\n.cm-s-blackboard .cm-string { color: #61CE3C; }\n.cm-s-blackboard .cm-string-2 { color: #61CE3C; }\n.cm-s-blackboard .cm-meta { color: #D8FA3C; }\n.cm-s-blackboard .cm-builtin { color: #8DA6CE; }\n.cm-s-blackboard .cm-tag { color: #8DA6CE; }\n.cm-s-blackboard .cm-attribute { color: #8DA6CE; }\n.cm-s-blackboard .cm-header { color: #FF6400; }\n.cm-s-blackboard .cm-hr { color: #AEAEAE; }\n.cm-s-blackboard .cm-link { color: #8DA6CE; }\n.cm-s-blackboard .cm-error { background: #9D1E15; color: #F8F8F8; }\n\n.cm-s-blackboard .CodeMirror-activeline-background { background: #3C3636; }\n.cm-s-blackboard .CodeMirror-matchingbracket { outline:1px solid grey;color:white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-cobalt.CodeMirror{background:#002240;color:#fff}.cm-s-cobalt div.CodeMirror-selected{background:#b36539}.cm-s-cobalt .CodeMirror-line::selection,.cm-s-cobalt .CodeMirror-line>span::selection,.cm-s-cobalt .CodeMirror-line>span>span::selection{background:rgba(179,101,57,.99)}.cm-s-cobalt .CodeMirror-line::-moz-selection,.cm-s-cobalt .CodeMirror-line>span::-moz-selection,.cm-s-cobalt .CodeMirror-line>span>span::-moz-selection{background:rgba(179,101,57,.99)}.cm-s-cobalt .CodeMirror-gutters{background:#002240;border-right:1px solid #aaa}.cm-s-cobalt .CodeMirror-guttermarker{color:#ffee80}.cm-s-cobalt .CodeMirror-guttermarker-subtle,.cm-s-cobalt .CodeMirror-linenumber{color:#d0d0d0}.cm-s-cobalt .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-cobalt span.cm-comment{color:#08f}.cm-s-cobalt span.cm-atom{color:#845dc4}.cm-s-cobalt span.cm-attribute,.cm-s-cobalt span.cm-number{color:#ff80e1}.cm-s-cobalt span.cm-keyword{color:#ffee80}.cm-s-cobalt span.cm-string{color:#3ad900}.cm-s-cobalt span.cm-meta{color:#ff9d00}.cm-s-cobalt span.cm-tag,.cm-s-cobalt span.cm-variable-2{color:#9effff}.cm-s-cobalt span.cm-def,.cm-s-cobalt span.cm-variable-3{color:#fff}.cm-s-cobalt span.cm-bracket{color:#d8d8d8}.cm-s-cobalt span.cm-builtin,.cm-s-cobalt span.cm-special{color:#ff9e59}.cm-s-cobalt span.cm-link{color:#845dc4}.cm-s-cobalt span.cm-error{color:#9d1e15}.cm-s-cobalt .CodeMirror-activeline-background{background:#002d57}.cm-s-cobalt .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/cobalt.css"],names:[],mappings:"AAAA,wBAA0B,mBAAoB,AAAC,UAAa,CAAE,AAC9D,qCAAuC,kBAAoB,CAAE,AAC7D,0IAAoJ,+BAAoC,CAAE,AAC1L,yJAAmK,+BAAoC,CAAE,AACzM,iCAAmC,mBAAoB,AAAC,2BAA6B,CAAE,AACvF,sCAAwC,aAAe,CAAE,AAEzD,iFAAsC,aAAe,CAAE,AACvD,gCAAkC,0BAA6B,CAAE,AAEjE,6BAA+B,UAAY,CAAE,AAC7C,0BAA4B,aAAe,CAAE,AAC7C,2DAA8D,aAAe,CAAE,AAC/E,6BAA+B,aAAe,CAAE,AAChD,4BAA8B,aAAe,CAAE,AAC/C,0BAA4B,aAAe,CAAE,AAC7C,yDAA4D,aAAe,CAAE,AAC7E,yDAA4D,UAAa,CAAE,AAC3E,6BAA+B,aAAe,CAAE,AAChD,0DAA6D,aAAe,CAAE,AAC9E,0BAA4B,aAAe,CAAE,AAC7C,2BAA6B,aAAe,CAAE,AAE9C,+CAAiD,kBAAoB,CAAE,AACvE,yCAA2C,uBAAuB,oBAAuB,CAAE",file:"cobalt.css",sourcesContent:[".cm-s-cobalt.CodeMirror { background: #002240; color: white; }\n.cm-s-cobalt div.CodeMirror-selected { background: #b36539; }\n.cm-s-cobalt .CodeMirror-line::selection, .cm-s-cobalt .CodeMirror-line > span::selection, .cm-s-cobalt .CodeMirror-line > span > span::selection { background: rgba(179, 101, 57, .99); }\n.cm-s-cobalt .CodeMirror-line::-moz-selection, .cm-s-cobalt .CodeMirror-line > span::-moz-selection, .cm-s-cobalt .CodeMirror-line > span > span::-moz-selection { background: rgba(179, 101, 57, .99); }\n.cm-s-cobalt .CodeMirror-gutters { background: #002240; border-right: 1px solid #aaa; }\n.cm-s-cobalt .CodeMirror-guttermarker { color: #ffee80; }\n.cm-s-cobalt .CodeMirror-guttermarker-subtle { color: #d0d0d0; }\n.cm-s-cobalt .CodeMirror-linenumber { color: #d0d0d0; }\n.cm-s-cobalt .CodeMirror-cursor { border-left: 1px solid white; }\n\n.cm-s-cobalt span.cm-comment { color: #08f; }\n.cm-s-cobalt span.cm-atom { color: #845dc4; }\n.cm-s-cobalt span.cm-number, .cm-s-cobalt span.cm-attribute { color: #ff80e1; }\n.cm-s-cobalt span.cm-keyword { color: #ffee80; }\n.cm-s-cobalt span.cm-string { color: #3ad900; }\n.cm-s-cobalt span.cm-meta { color: #ff9d00; }\n.cm-s-cobalt span.cm-variable-2, .cm-s-cobalt span.cm-tag { color: #9effff; }\n.cm-s-cobalt span.cm-variable-3, .cm-s-cobalt span.cm-def { color: white; }\n.cm-s-cobalt span.cm-bracket { color: #d8d8d8; }\n.cm-s-cobalt span.cm-builtin, .cm-s-cobalt span.cm-special { color: #ff9e59; }\n.cm-s-cobalt span.cm-link { color: #845dc4; }\n.cm-s-cobalt span.cm-error { color: #9d1e15; }\n\n.cm-s-cobalt .CodeMirror-activeline-background { background: #002D57; }\n.cm-s-cobalt .CodeMirror-matchingbracket { outline:1px solid grey;color:white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-eclipse span.cm-meta{color:#ff1717}.cm-s-eclipse span.cm-keyword{line-height:1em;font-weight:700;color:#7f0055}.cm-s-eclipse span.cm-atom{color:#219}.cm-s-eclipse span.cm-number{color:#164}.cm-s-eclipse span.cm-def{color:#00f}.cm-s-eclipse span.cm-variable{color:#000}.cm-s-eclipse span.cm-variable-2,.cm-s-eclipse span.cm-variable-3{color:#0000c0}.cm-s-eclipse span.cm-operator,.cm-s-eclipse span.cm-property{color:#000}.cm-s-eclipse span.cm-comment{color:#3f7f5f}.cm-s-eclipse span.cm-string{color:#2a00ff}.cm-s-eclipse span.cm-string-2{color:#f50}.cm-s-eclipse span.cm-qualifier{color:#555}.cm-s-eclipse span.cm-builtin{color:#30a}.cm-s-eclipse span.cm-bracket{color:#cc7}.cm-s-eclipse span.cm-tag{color:#170}.cm-s-eclipse span.cm-attribute{color:#00c}.cm-s-eclipse span.cm-link{color:#219}.cm-s-eclipse span.cm-error{color:red}.cm-s-eclipse .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-eclipse .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/eclipse.css"],names:[],mappings:"AAAA,2BAA6B,aAAe,CAAE,AAC9C,8BAAgC,gBAAiB,AAAC,gBAAkB,AAAC,aAAe,CAAE,AACtF,2BAA6B,UAAY,CAAE,AAC3C,6BAA+B,UAAY,CAAE,AAC7C,0BAA4B,UAAY,CAAE,AAC1C,+BAAiC,UAAa,CAAE,AAEhD,kEAAmC,aAAe,CAAE,AAEpD,8DAAiC,UAAa,CAAE,AAChD,8BAAgC,aAAe,CAAE,AACjD,6BAA+B,aAAe,CAAE,AAChD,+BAAiC,UAAY,CAAE,AAC/C,gCAAkC,UAAY,CAAE,AAChD,8BAAgC,UAAY,CAAE,AAC9C,8BAAgC,UAAY,CAAE,AAC9C,0BAA4B,UAAY,CAAE,AAC1C,gCAAkC,UAAY,CAAE,AAChD,2BAA6B,UAAY,CAAE,AAC3C,4BAA8B,SAAY,CAAE,AAE5C,gDAAkD,kBAAoB,CAAE,AACxE,0CAA4C,uBAAuB,AAAC,oBAAuB,CAAE",file:"eclipse.css",sourcesContent:[".cm-s-eclipse span.cm-meta { color: #FF1717; }\n.cm-s-eclipse span.cm-keyword { line-height: 1em; font-weight: bold; color: #7F0055; }\n.cm-s-eclipse span.cm-atom { color: #219; }\n.cm-s-eclipse span.cm-number { color: #164; }\n.cm-s-eclipse span.cm-def { color: #00f; }\n.cm-s-eclipse span.cm-variable { color: black; }\n.cm-s-eclipse span.cm-variable-2 { color: #0000C0; }\n.cm-s-eclipse span.cm-variable-3 { color: #0000C0; }\n.cm-s-eclipse span.cm-property { color: black; }\n.cm-s-eclipse span.cm-operator { color: black; }\n.cm-s-eclipse span.cm-comment { color: #3F7F5F; }\n.cm-s-eclipse span.cm-string { color: #2A00FF; }\n.cm-s-eclipse span.cm-string-2 { color: #f50; }\n.cm-s-eclipse span.cm-qualifier { color: #555; }\n.cm-s-eclipse span.cm-builtin { color: #30a; }\n.cm-s-eclipse span.cm-bracket { color: #cc7; }\n.cm-s-eclipse span.cm-tag { color: #170; }\n.cm-s-eclipse span.cm-attribute { color: #00c; }\n.cm-s-eclipse span.cm-link { color: #219; }\n.cm-s-eclipse span.cm-error { color: #f00; }\n\n.cm-s-eclipse .CodeMirror-activeline-background { background: #e8f2ff; }\n.cm-s-eclipse .CodeMirror-matchingbracket { outline:1px solid grey; color:black !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-elegant span.cm-atom,.cm-s-elegant span.cm-number,.cm-s-elegant span.cm-string{color:#762}.cm-s-elegant span.cm-comment{color:#262;font-style:italic;line-height:1em}.cm-s-elegant span.cm-meta{color:#555;font-style:italic;line-height:1em}.cm-s-elegant span.cm-variable{color:#000}.cm-s-elegant span.cm-variable-2{color:#b11}.cm-s-elegant span.cm-qualifier{color:#555}.cm-s-elegant span.cm-keyword{color:#730}.cm-s-elegant span.cm-builtin{color:#30a}.cm-s-elegant span.cm-link{color:#762}.cm-s-elegant span.cm-error{background-color:#fdd}.cm-s-elegant .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-elegant .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/elegant.css"],names:[],mappings:"AAAA,qFAAyF,UAAY,CAAE,AACvG,8BAAgC,WAAY,AAAC,kBAAmB,AAAC,eAAiB,CAAE,AACpF,2BAA6B,WAAY,AAAC,kBAAmB,AAAC,eAAiB,CAAE,AACjF,+BAAiC,UAAa,CAAE,AAChD,iCAAmC,UAAY,CAAE,AACjD,gCAAkC,UAAY,CAAE,AAChD,8BAAgC,UAAY,CAAE,AAC9C,8BAAgC,UAAY,CAAE,AAC9C,2BAA6B,UAAY,CAAE,AAC3C,4BAA8B,qBAAuB,CAAE,AAEvD,gDAAkD,kBAAoB,CAAE,AACxE,0CAA4C,uBAAuB,AAAC,oBAAuB,CAAE",file:"elegant.css",sourcesContent:[".cm-s-elegant span.cm-number, .cm-s-elegant span.cm-string, .cm-s-elegant span.cm-atom { color: #762; }\n.cm-s-elegant span.cm-comment { color: #262; font-style: italic; line-height: 1em; }\n.cm-s-elegant span.cm-meta { color: #555; font-style: italic; line-height: 1em; }\n.cm-s-elegant span.cm-variable { color: black; }\n.cm-s-elegant span.cm-variable-2 { color: #b11; }\n.cm-s-elegant span.cm-qualifier { color: #555; }\n.cm-s-elegant span.cm-keyword { color: #730; }\n.cm-s-elegant span.cm-builtin { color: #30a; }\n.cm-s-elegant span.cm-link { color: #762; }\n.cm-s-elegant span.cm-error { background-color: #fdd; }\n\n.cm-s-elegant .CodeMirror-activeline-background { background: #e8f2ff; }\n.cm-s-elegant .CodeMirror-matchingbracket { outline:1px solid grey; color:black !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-erlang-dark.CodeMirror{background:#002240;color:#fff}.cm-s-erlang-dark div.CodeMirror-selected{background:#b36539}.cm-s-erlang-dark .CodeMirror-line::selection,.cm-s-erlang-dark .CodeMirror-line>span::selection,.cm-s-erlang-dark .CodeMirror-line>span>span::selection{background:rgba(179,101,57,.99)}.cm-s-erlang-dark .CodeMirror-line::-moz-selection,.cm-s-erlang-dark .CodeMirror-line>span::-moz-selection,.cm-s-erlang-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(179,101,57,.99)}.cm-s-erlang-dark .CodeMirror-gutters{background:#002240;border-right:1px solid #aaa}.cm-s-erlang-dark .CodeMirror-guttermarker{color:#fff}.cm-s-erlang-dark .CodeMirror-guttermarker-subtle,.cm-s-erlang-dark .CodeMirror-linenumber{color:#d0d0d0}.cm-s-erlang-dark .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-erlang-dark span.cm-quote{color:#ccc}.cm-s-erlang-dark span.cm-atom{color:#f133f1}.cm-s-erlang-dark span.cm-attribute{color:#ff80e1}.cm-s-erlang-dark span.cm-bracket{color:#ff9d00}.cm-s-erlang-dark span.cm-builtin{color:#eaa}.cm-s-erlang-dark span.cm-comment{color:#77f}.cm-s-erlang-dark span.cm-def{color:#e7a}.cm-s-erlang-dark span.cm-keyword{color:#ffee80}.cm-s-erlang-dark span.cm-meta{color:#50fefe}.cm-s-erlang-dark span.cm-number{color:#ffd0d0}.cm-s-erlang-dark span.cm-operator{color:#d55}.cm-s-erlang-dark span.cm-property,.cm-s-erlang-dark span.cm-qualifier{color:#ccc}.cm-s-erlang-dark span.cm-special{color:#fbb}.cm-s-erlang-dark span.cm-string{color:#3ad900}.cm-s-erlang-dark span.cm-string-2{color:#ccc}.cm-s-erlang-dark span.cm-tag{color:#9effff}.cm-s-erlang-dark span.cm-variable{color:#50fe50}.cm-s-erlang-dark span.cm-variable-2{color:#e0e}.cm-s-erlang-dark span.cm-variable-3{color:#ccc}.cm-s-erlang-dark span.cm-error{color:#9d1e15}.cm-s-erlang-dark .CodeMirror-activeline-background{background:#013461}.cm-s-erlang-dark .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/erlang-dark.css"],names:[],mappings:"AAAA,6BAA+B,mBAAoB,AAAC,UAAa,CAAE,AACnE,0CAA4C,kBAAoB,CAAE,AAClE,yJAAmK,+BAAoC,CAAE,AACzM,wKAAkL,+BAAoC,CAAE,AACxN,sCAAwC,mBAAoB,AAAC,2BAA6B,CAAE,AAC5F,2CAA6C,UAAa,CAAE,AAE5D,2FAA2C,aAAe,CAAE,AAC5D,qCAAuC,0BAA6B,CAAE,AAEtE,gCAAuC,UAAY,CAAE,AACrD,+BAAuC,aAAe,CAAE,AACxD,oCAAuC,aAAe,CAAE,AACxD,kCAAuC,aAAe,CAAE,AACxD,kCAAuC,UAAY,CAAE,AACrD,kCAAuC,UAAY,CAAE,AACrD,8BAAuC,UAAY,CAAE,AACrD,kCAAuC,aAAe,CAAE,AACxD,+BAAuC,aAAe,CAAE,AACxD,iCAAuC,aAAe,CAAE,AACxD,mCAAuC,UAAY,CAAE,AAErD,uEAAuC,UAAY,CAAE,AACrD,kCAAuC,UAAe,CAAE,AACxD,iCAAuC,aAAe,CAAE,AACxD,mCAAuC,UAAY,CAAE,AACrD,8BAAuC,aAAe,CAAE,AACxD,mCAAuC,aAAe,CAAE,AACxD,qCAAuC,UAAY,CAAE,AACrD,qCAAuC,UAAY,CAAE,AACrD,gCAAuC,aAAe,CAAE,AAExD,oDAAsD,kBAAoB,CAAE,AAC5E,8CAAgD,uBAAuB,AAAC,oBAAuB,CAAE",file:"erlang-dark.css",sourcesContent:[".cm-s-erlang-dark.CodeMirror { background: #002240; color: white; }\n.cm-s-erlang-dark div.CodeMirror-selected { background: #b36539; }\n.cm-s-erlang-dark .CodeMirror-line::selection, .cm-s-erlang-dark .CodeMirror-line > span::selection, .cm-s-erlang-dark .CodeMirror-line > span > span::selection { background: rgba(179, 101, 57, .99); }\n.cm-s-erlang-dark .CodeMirror-line::-moz-selection, .cm-s-erlang-dark .CodeMirror-line > span::-moz-selection, .cm-s-erlang-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(179, 101, 57, .99); }\n.cm-s-erlang-dark .CodeMirror-gutters { background: #002240; border-right: 1px solid #aaa; }\n.cm-s-erlang-dark .CodeMirror-guttermarker { color: white; }\n.cm-s-erlang-dark .CodeMirror-guttermarker-subtle { color: #d0d0d0; }\n.cm-s-erlang-dark .CodeMirror-linenumber { color: #d0d0d0; }\n.cm-s-erlang-dark .CodeMirror-cursor { border-left: 1px solid white; }\n\n.cm-s-erlang-dark span.cm-quote      { color: #ccc; }\n.cm-s-erlang-dark span.cm-atom       { color: #f133f1; }\n.cm-s-erlang-dark span.cm-attribute  { color: #ff80e1; }\n.cm-s-erlang-dark span.cm-bracket    { color: #ff9d00; }\n.cm-s-erlang-dark span.cm-builtin    { color: #eaa; }\n.cm-s-erlang-dark span.cm-comment    { color: #77f; }\n.cm-s-erlang-dark span.cm-def        { color: #e7a; }\n.cm-s-erlang-dark span.cm-keyword    { color: #ffee80; }\n.cm-s-erlang-dark span.cm-meta       { color: #50fefe; }\n.cm-s-erlang-dark span.cm-number     { color: #ffd0d0; }\n.cm-s-erlang-dark span.cm-operator   { color: #d55; }\n.cm-s-erlang-dark span.cm-property   { color: #ccc; }\n.cm-s-erlang-dark span.cm-qualifier  { color: #ccc; }\n.cm-s-erlang-dark span.cm-special    { color: #ffbbbb; }\n.cm-s-erlang-dark span.cm-string     { color: #3ad900; }\n.cm-s-erlang-dark span.cm-string-2   { color: #ccc; }\n.cm-s-erlang-dark span.cm-tag        { color: #9effff; }\n.cm-s-erlang-dark span.cm-variable   { color: #50fe50; }\n.cm-s-erlang-dark span.cm-variable-2 { color: #e0e; }\n.cm-s-erlang-dark span.cm-variable-3 { color: #ccc; }\n.cm-s-erlang-dark span.cm-error      { color: #9d1e15; }\n\n.cm-s-erlang-dark .CodeMirror-activeline-background { background: #013461; }\n.cm-s-erlang-dark .CodeMirror-matchingbracket { outline:1px solid grey; color:white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-lesser-dark{line-height:1.3em}.cm-s-lesser-dark.CodeMirror{background:#262626;color:#ebefe7;text-shadow:0 -1px 1px #262626}.cm-s-lesser-dark div.CodeMirror-selected{background:#45443b}.cm-s-lesser-dark .CodeMirror-line::selection,.cm-s-lesser-dark .CodeMirror-line>span::selection,.cm-s-lesser-dark .CodeMirror-line>span>span::selection{background:rgba(69,68,59,.99)}.cm-s-lesser-dark .CodeMirror-line::-moz-selection,.cm-s-lesser-dark .CodeMirror-line>span::-moz-selection,.cm-s-lesser-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(69,68,59,.99)}.cm-s-lesser-dark .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-lesser-dark pre{padding:0 8px}.cm-s-lesser-dark.CodeMirror span.CodeMirror-matchingbracket{color:#7efc7e}.cm-s-lesser-dark .CodeMirror-gutters{background:#262626;border-right:1px solid #aaa}.cm-s-lesser-dark .CodeMirror-guttermarker{color:#599eff}.cm-s-lesser-dark .CodeMirror-guttermarker-subtle,.cm-s-lesser-dark .CodeMirror-linenumber{color:#777}.cm-s-lesser-dark span.cm-header{color:#a0a}.cm-s-lesser-dark span.cm-quote{color:#090}.cm-s-lesser-dark span.cm-keyword{color:#599eff}.cm-s-lesser-dark span.cm-atom{color:#c2b470}.cm-s-lesser-dark span.cm-number{color:#b35e4d}.cm-s-lesser-dark span.cm-def{color:#fff}.cm-s-lesser-dark span.cm-variable{color:#d9bf8c}.cm-s-lesser-dark span.cm-variable-2{color:#669199}.cm-s-lesser-dark span.cm-variable-3{color:#fff}.cm-s-lesser-dark span.cm-operator,.cm-s-lesser-dark span.cm-property{color:#92a75c}.cm-s-lesser-dark span.cm-comment{color:#666}.cm-s-lesser-dark span.cm-string{color:#bcd279}.cm-s-lesser-dark span.cm-string-2{color:#f50}.cm-s-lesser-dark span.cm-meta{color:#738c73}.cm-s-lesser-dark span.cm-qualifier{color:#555}.cm-s-lesser-dark span.cm-builtin{color:#ff9e59}.cm-s-lesser-dark span.cm-bracket{color:#ebefe7}.cm-s-lesser-dark span.cm-tag{color:#669199}.cm-s-lesser-dark span.cm-attribute{color:#00c}.cm-s-lesser-dark span.cm-hr{color:#999}.cm-s-lesser-dark span.cm-link{color:#00c}.cm-s-lesser-dark span.cm-error{color:#9d1e15}.cm-s-lesser-dark .CodeMirror-activeline-background{background:#3c3a3a}.cm-s-lesser-dark .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/lesser-dark.css"],names:[],mappings:"AAIA,kBACE,iBAAmB,CACpB,AACD,6BAA+B,mBAAoB,AAAC,cAAe,AAAC,8BAAgC,CAAE,AACtG,0CAA4C,kBAAoB,CAAE,AAClE,yJAAmK,6BAAkC,CAAE,AACvM,wKAAkL,6BAAkC,CAAE,AACtN,qCAAuC,0BAA6B,CAAE,AACtE,sBAAwB,aAAe,CAAE,AAEzC,6DAA+D,aAAe,CAAE,AAEhF,sCAAwC,mBAAoB,AAAC,2BAA4B,CAAE,AAC3F,2CAA6C,aAAe,CAAE,AAE9D,2FAA2C,UAAY,CAAE,AAEzD,iCAAmC,UAAY,CAAE,AACjD,gCAAkC,UAAY,CAAE,AAChD,kCAAoC,aAAe,CAAE,AACrD,+BAAiC,aAAe,CAAE,AAClD,iCAAmC,aAAe,CAAE,AACpD,8BAAgC,UAAa,CAAE,AAC/C,mCAAqC,aAAc,CAAE,AACrD,qCAAuC,aAAe,CAAE,AACxD,qCAAuC,UAAa,CAAE,AAEtD,sEAAqC,aAAe,CAAE,AACtD,kCAAoC,UAAY,CAAE,AAClD,iCAAmC,aAAe,CAAE,AACpD,mCAAqC,UAAY,CAAE,AACnD,+BAAiC,aAAe,CAAE,AAClD,oCAAsC,UAAY,CAAE,AACpD,kCAAoC,aAAe,CAAE,AACrD,kCAAoC,aAAe,CAAE,AACrD,8BAAgC,aAAe,CAAE,AACjD,oCAAsC,UAAY,CAAE,AACpD,6BAA+B,UAAY,CAAE,AAC7C,+BAAiC,UAAY,CAAE,AAC/C,gCAAkC,aAAe,CAAE,AAEnD,oDAAsD,kBAAoB,CAAE,AAC5E,8CAAgD,uBAAuB,AAAC,oBAAuB,CAAE",file:"lesser-dark.css",sourcesContent:["/*\nhttp://lesscss.org/ dark theme\nPorted to CodeMirror by Peter Kroon\n*/\n.cm-s-lesser-dark {\n  line-height: 1.3em;\n}\n.cm-s-lesser-dark.CodeMirror { background: #262626; color: #EBEFE7; text-shadow: 0 -1px 1px #262626; }\n.cm-s-lesser-dark div.CodeMirror-selected { background: #45443B; } /* 33322B*/\n.cm-s-lesser-dark .CodeMirror-line::selection, .cm-s-lesser-dark .CodeMirror-line > span::selection, .cm-s-lesser-dark .CodeMirror-line > span > span::selection { background: rgba(69, 68, 59, .99); }\n.cm-s-lesser-dark .CodeMirror-line::-moz-selection, .cm-s-lesser-dark .CodeMirror-line > span::-moz-selection, .cm-s-lesser-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(69, 68, 59, .99); }\n.cm-s-lesser-dark .CodeMirror-cursor { border-left: 1px solid white; }\n.cm-s-lesser-dark pre { padding: 0 8px; }/*editable code holder*/\n\n.cm-s-lesser-dark.CodeMirror span.CodeMirror-matchingbracket { color: #7EFC7E; }/*65FC65*/\n\n.cm-s-lesser-dark .CodeMirror-gutters { background: #262626; border-right:1px solid #aaa; }\n.cm-s-lesser-dark .CodeMirror-guttermarker { color: #599eff; }\n.cm-s-lesser-dark .CodeMirror-guttermarker-subtle { color: #777; }\n.cm-s-lesser-dark .CodeMirror-linenumber { color: #777; }\n\n.cm-s-lesser-dark span.cm-header { color: #a0a; }\n.cm-s-lesser-dark span.cm-quote { color: #090; }\n.cm-s-lesser-dark span.cm-keyword { color: #599eff; }\n.cm-s-lesser-dark span.cm-atom { color: #C2B470; }\n.cm-s-lesser-dark span.cm-number { color: #B35E4D; }\n.cm-s-lesser-dark span.cm-def { color: white; }\n.cm-s-lesser-dark span.cm-variable { color:#D9BF8C; }\n.cm-s-lesser-dark span.cm-variable-2 { color: #669199; }\n.cm-s-lesser-dark span.cm-variable-3 { color: white; }\n.cm-s-lesser-dark span.cm-property { color: #92A75C; }\n.cm-s-lesser-dark span.cm-operator { color: #92A75C; }\n.cm-s-lesser-dark span.cm-comment { color: #666; }\n.cm-s-lesser-dark span.cm-string { color: #BCD279; }\n.cm-s-lesser-dark span.cm-string-2 { color: #f50; }\n.cm-s-lesser-dark span.cm-meta { color: #738C73; }\n.cm-s-lesser-dark span.cm-qualifier { color: #555; }\n.cm-s-lesser-dark span.cm-builtin { color: #ff9e59; }\n.cm-s-lesser-dark span.cm-bracket { color: #EBEFE7; }\n.cm-s-lesser-dark span.cm-tag { color: #669199; }\n.cm-s-lesser-dark span.cm-attribute { color: #00c; }\n.cm-s-lesser-dark span.cm-hr { color: #999; }\n.cm-s-lesser-dark span.cm-link { color: #00c; }\n.cm-s-lesser-dark span.cm-error { color: #9d1e15; }\n\n.cm-s-lesser-dark .CodeMirror-activeline-background { background: #3C3A3A; }\n.cm-s-lesser-dark .CodeMirror-matchingbracket { outline:1px solid grey; color:white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-monokai.CodeMirror{background:#272822;color:#f8f8f2}.cm-s-monokai div.CodeMirror-selected{background:#49483e}.cm-s-monokai .CodeMirror-line::selection,.cm-s-monokai .CodeMirror-line>span::selection,.cm-s-monokai .CodeMirror-line>span>span::selection{background:rgba(73,72,62,.99)}.cm-s-monokai .CodeMirror-line::-moz-selection,.cm-s-monokai .CodeMirror-line>span::-moz-selection,.cm-s-monokai .CodeMirror-line>span>span::-moz-selection{background:rgba(73,72,62,.99)}.cm-s-monokai .CodeMirror-gutters{background:#272822;border-right:0}.cm-s-monokai .CodeMirror-guttermarker{color:#fff}.cm-s-monokai .CodeMirror-guttermarker-subtle,.cm-s-monokai .CodeMirror-linenumber{color:#d0d0d0}.cm-s-monokai .CodeMirror-cursor{border-left:1px solid #f8f8f0}.cm-s-monokai span.cm-comment{color:#75715e}.cm-s-monokai span.cm-atom,.cm-s-monokai span.cm-number{color:#ae81ff}.cm-s-monokai span.cm-attribute,.cm-s-monokai span.cm-property{color:#a6e22e}.cm-s-monokai span.cm-keyword{color:#f92672}.cm-s-monokai span.cm-builtin{color:#66d9ef}.cm-s-monokai span.cm-string{color:#e6db74}.cm-s-monokai span.cm-variable{color:#f8f8f2}.cm-s-monokai span.cm-variable-2{color:#9effff}.cm-s-monokai span.cm-variable-3{color:#66d9ef}.cm-s-monokai span.cm-def{color:#fd971f}.cm-s-monokai span.cm-bracket{color:#f8f8f2}.cm-s-monokai span.cm-tag{color:#f92672}.cm-s-monokai span.cm-header,.cm-s-monokai span.cm-link{color:#ae81ff}.cm-s-monokai span.cm-error{background:#f92672;color:#f8f8f0}.cm-s-monokai .CodeMirror-activeline-background{background:#373831}.cm-s-monokai .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/monokai.css"],names:[],mappings:"AAEA,yBAA2B,mBAAoB,AAAC,aAAe,CAAE,AACjE,sCAAwC,kBAAoB,CAAE,AAC9D,6IAAuJ,6BAAkC,CAAE,AAC3L,4JAAsK,6BAAkC,CAAE,AAC1M,kCAAoC,mBAAoB,AAAC,cAAkB,CAAE,AAC7E,uCAAyC,UAAa,CAAE,AAExD,mFAAuC,aAAe,CAAE,AACxD,iCAAmC,6BAA+B,CAAE,AAEpE,8BAAgC,aAAe,CAAE,AAEjD,wDAA+B,aAAe,CAAE,AAEhD,+DAAkE,aAAe,CAAE,AACnF,8BAAgC,aAAe,CAAE,AACjD,8BAAgC,aAAe,CAAE,AACjD,6BAA+B,aAAe,CAAE,AAEhD,+BAAiC,aAAe,CAAE,AAClD,iCAAmC,aAAe,CAAE,AACpD,iCAAmC,aAAe,CAAE,AACpD,0BAA4B,aAAe,CAAE,AAC7C,8BAAgC,aAAe,CAAE,AACjD,0BAA4B,aAAe,CAAE,AAE7C,wDAA6B,aAAe,CAAE,AAC9C,4BAA8B,mBAAoB,AAAC,aAAe,CAAE,AAEpE,gDAAkD,kBAAoB,CAAE,AACxE,0CACE,0BAA2B,AAC3B,oBAAwB,CACzB",file:"monokai.css",sourcesContent:["/* Based on Sublime Text's Monokai theme */\n\n.cm-s-monokai.CodeMirror { background: #272822; color: #f8f8f2; }\n.cm-s-monokai div.CodeMirror-selected { background: #49483E; }\n.cm-s-monokai .CodeMirror-line::selection, .cm-s-monokai .CodeMirror-line > span::selection, .cm-s-monokai .CodeMirror-line > span > span::selection { background: rgba(73, 72, 62, .99); }\n.cm-s-monokai .CodeMirror-line::-moz-selection, .cm-s-monokai .CodeMirror-line > span::-moz-selection, .cm-s-monokai .CodeMirror-line > span > span::-moz-selection { background: rgba(73, 72, 62, .99); }\n.cm-s-monokai .CodeMirror-gutters { background: #272822; border-right: 0px; }\n.cm-s-monokai .CodeMirror-guttermarker { color: white; }\n.cm-s-monokai .CodeMirror-guttermarker-subtle { color: #d0d0d0; }\n.cm-s-monokai .CodeMirror-linenumber { color: #d0d0d0; }\n.cm-s-monokai .CodeMirror-cursor { border-left: 1px solid #f8f8f0; }\n\n.cm-s-monokai span.cm-comment { color: #75715e; }\n.cm-s-monokai span.cm-atom { color: #ae81ff; }\n.cm-s-monokai span.cm-number { color: #ae81ff; }\n\n.cm-s-monokai span.cm-property, .cm-s-monokai span.cm-attribute { color: #a6e22e; }\n.cm-s-monokai span.cm-keyword { color: #f92672; }\n.cm-s-monokai span.cm-builtin { color: #66d9ef; }\n.cm-s-monokai span.cm-string { color: #e6db74; }\n\n.cm-s-monokai span.cm-variable { color: #f8f8f2; }\n.cm-s-monokai span.cm-variable-2 { color: #9effff; }\n.cm-s-monokai span.cm-variable-3 { color: #66d9ef; }\n.cm-s-monokai span.cm-def { color: #fd971f; }\n.cm-s-monokai span.cm-bracket { color: #f8f8f2; }\n.cm-s-monokai span.cm-tag { color: #f92672; }\n.cm-s-monokai span.cm-header { color: #ae81ff; }\n.cm-s-monokai span.cm-link { color: #ae81ff; }\n.cm-s-monokai span.cm-error { background: #f92672; color: #f8f8f0; }\n\n.cm-s-monokai .CodeMirror-activeline-background { background: #373831; }\n.cm-s-monokai .CodeMirror-matchingbracket {\n  text-decoration: underline;\n  color: white !important;\n}\n"],
sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-neat span.cm-comment{color:#a86}.cm-s-neat span.cm-keyword{line-height:1em;font-weight:700;color:blue}.cm-s-neat span.cm-string{color:#a22}.cm-s-neat span.cm-builtin{line-height:1em;font-weight:700;color:#077}.cm-s-neat span.cm-special{line-height:1em;font-weight:700;color:#0aa}.cm-s-neat span.cm-variable{color:#000}.cm-s-neat span.cm-atom,.cm-s-neat span.cm-number{color:#3a3}.cm-s-neat span.cm-meta{color:#555}.cm-s-neat span.cm-link{color:#3a3}.cm-s-neat .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-neat .CodeMirror-matchingbracket{outline:1px solid grey;color:#000!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/neat.css"],names:[],mappings:"AAAA,2BAA6B,UAAY,CAAE,AAC3C,2BAA6B,gBAAiB,AAAC,gBAAkB,AAAC,UAAY,CAAE,AAChF,0BAA4B,UAAY,CAAE,AAC1C,2BAA6B,gBAAiB,AAAC,gBAAkB,AAAC,UAAY,CAAE,AAChF,2BAA6B,gBAAiB,AAAC,gBAAkB,AAAC,UAAY,CAAE,AAChF,4BAA8B,UAAa,CAAE,AAC7C,kDAAqD,UAAY,CAAE,AACnE,wBAA0B,UAAY,CAAE,AACxC,wBAA0B,UAAY,CAAE,AAExC,6CAA+C,kBAAoB,CAAE,AACrE,uCAAyC,uBAAuB,AAAC,oBAAuB,CAAE",file:"neat.css",sourcesContent:[".cm-s-neat span.cm-comment { color: #a86; }\n.cm-s-neat span.cm-keyword { line-height: 1em; font-weight: bold; color: blue; }\n.cm-s-neat span.cm-string { color: #a22; }\n.cm-s-neat span.cm-builtin { line-height: 1em; font-weight: bold; color: #077; }\n.cm-s-neat span.cm-special { line-height: 1em; font-weight: bold; color: #0aa; }\n.cm-s-neat span.cm-variable { color: black; }\n.cm-s-neat span.cm-number, .cm-s-neat span.cm-atom { color: #3a3; }\n.cm-s-neat span.cm-meta { color: #555; }\n.cm-s-neat span.cm-link { color: #3a3; }\n\n.cm-s-neat .CodeMirror-activeline-background { background: #e8f2ff; }\n.cm-s-neat .CodeMirror-matchingbracket { outline:1px solid grey; color:black !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-night.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-night div.CodeMirror-selected{background:#447}.cm-s-night .CodeMirror-line::selection,.cm-s-night .CodeMirror-line>span::selection,.cm-s-night .CodeMirror-line>span>span::selection{background:rgba(68,68,119,.99)}.cm-s-night .CodeMirror-line::-moz-selection,.cm-s-night .CodeMirror-line>span::-moz-selection,.cm-s-night .CodeMirror-line>span>span::-moz-selection{background:rgba(68,68,119,.99)}.cm-s-night .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-night .CodeMirror-guttermarker{color:#fff}.cm-s-night .CodeMirror-guttermarker-subtle{color:#bbb}.cm-s-night .CodeMirror-linenumber{color:#f8f8f8}.cm-s-night .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-night span.cm-comment{color:#8900d1}.cm-s-night span.cm-atom{color:#845dc4}.cm-s-night span.cm-attribute,.cm-s-night span.cm-number{color:#ffd500}.cm-s-night span.cm-keyword{color:#599eff}.cm-s-night span.cm-string{color:#37f14a}.cm-s-night span.cm-meta{color:#7678e2}.cm-s-night span.cm-tag,.cm-s-night span.cm-variable-2{color:#99b2ff}.cm-s-night span.cm-def,.cm-s-night span.cm-variable-3{color:#fff}.cm-s-night span.cm-bracket{color:#8da6ce}.cm-s-night span.cm-builtin,.cm-s-night span.cm-special{color:#ff9e59}.cm-s-night span.cm-link{color:#845dc4}.cm-s-night span.cm-error{color:#9d1e15}.cm-s-night .CodeMirror-activeline-background{background:#1c005a}.cm-s-night .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/night.css"],names:[],mappings:"AAEA,uBAAyB,mBAAoB,AAAC,aAAe,CAAE,AAC/D,oCAAsC,eAAiB,CAAE,AACzD,uIAAiJ,8BAAmC,CAAE,AACtL,sJAAgK,8BAAmC,CAAE,AACrM,gCAAkC,mBAAoB,AAAC,2BAA6B,CAAE,AACtF,qCAAuC,UAAa,CAAE,AACtD,4CAA8C,UAAY,CAAE,AAC5D,mCAAqC,aAAe,CAAE,AACtD,+BAAiC,0BAA6B,CAAE,AAEhE,4BAA8B,aAAe,CAAE,AAC/C,yBAA2B,aAAe,CAAE,AAC5C,yDAA4D,aAAe,CAAE,AAC7E,4BAA8B,aAAe,CAAE,AAC/C,2BAA6B,aAAe,CAAE,AAC9C,yBAA2B,aAAe,CAAE,AAC5C,uDAA0D,aAAe,CAAE,AAC3E,uDAA0D,UAAa,CAAE,AACzE,4BAA8B,aAAe,CAAE,AAC/C,wDAA2D,aAAe,CAAE,AAC5E,yBAA2B,aAAe,CAAE,AAC5C,0BAA4B,aAAe,CAAE,AAE7C,8CAAgD,kBAAoB,CAAE,AACtE,wCAA0C,uBAAuB,AAAC,oBAAuB,CAAE",file:"night.css",sourcesContent:["/* Loosely based on the Midnight Textmate theme */\n\n.cm-s-night.CodeMirror { background: #0a001f; color: #f8f8f8; }\n.cm-s-night div.CodeMirror-selected { background: #447; }\n.cm-s-night .CodeMirror-line::selection, .cm-s-night .CodeMirror-line > span::selection, .cm-s-night .CodeMirror-line > span > span::selection { background: rgba(68, 68, 119, .99); }\n.cm-s-night .CodeMirror-line::-moz-selection, .cm-s-night .CodeMirror-line > span::-moz-selection, .cm-s-night .CodeMirror-line > span > span::-moz-selection { background: rgba(68, 68, 119, .99); }\n.cm-s-night .CodeMirror-gutters { background: #0a001f; border-right: 1px solid #aaa; }\n.cm-s-night .CodeMirror-guttermarker { color: white; }\n.cm-s-night .CodeMirror-guttermarker-subtle { color: #bbb; }\n.cm-s-night .CodeMirror-linenumber { color: #f8f8f8; }\n.cm-s-night .CodeMirror-cursor { border-left: 1px solid white; }\n\n.cm-s-night span.cm-comment { color: #8900d1; }\n.cm-s-night span.cm-atom { color: #845dc4; }\n.cm-s-night span.cm-number, .cm-s-night span.cm-attribute { color: #ffd500; }\n.cm-s-night span.cm-keyword { color: #599eff; }\n.cm-s-night span.cm-string { color: #37f14a; }\n.cm-s-night span.cm-meta { color: #7678e2; }\n.cm-s-night span.cm-variable-2, .cm-s-night span.cm-tag { color: #99b2ff; }\n.cm-s-night span.cm-variable-3, .cm-s-night span.cm-def { color: white; }\n.cm-s-night span.cm-bracket { color: #8da6ce; }\n.cm-s-night span.cm-builtin, .cm-s-night span.cm-special { color: #ff9e59; }\n.cm-s-night span.cm-link { color: #845dc4; }\n.cm-s-night span.cm-error { color: #9d1e15; }\n\n.cm-s-night .CodeMirror-activeline-background { background: #1C005A; }\n.cm-s-night .CodeMirror-matchingbracket { outline:1px solid grey; color:white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-paraiso-dark.CodeMirror{background:#2f1e2e;color:#b9b6b0}.cm-s-paraiso-dark div.CodeMirror-selected{background:#41323f}.cm-s-paraiso-dark .CodeMirror-line::selection,.cm-s-paraiso-dark .CodeMirror-line>span::selection,.cm-s-paraiso-dark .CodeMirror-line>span>span::selection{background:rgba(65,50,63,.99)}.cm-s-paraiso-dark .CodeMirror-line::-moz-selection,.cm-s-paraiso-dark .CodeMirror-line>span::-moz-selection,.cm-s-paraiso-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(65,50,63,.99)}.cm-s-paraiso-dark .CodeMirror-gutters{background:#2f1e2e;border-right:0}.cm-s-paraiso-dark .CodeMirror-guttermarker{color:#ef6155}.cm-s-paraiso-dark .CodeMirror-guttermarker-subtle,.cm-s-paraiso-dark .CodeMirror-linenumber{color:#776e71}.cm-s-paraiso-dark .CodeMirror-cursor{border-left:1px solid #8d8687}.cm-s-paraiso-dark span.cm-comment{color:#e96ba8}.cm-s-paraiso-dark span.cm-atom,.cm-s-paraiso-dark span.cm-number{color:#815ba4}.cm-s-paraiso-dark span.cm-attribute,.cm-s-paraiso-dark span.cm-property{color:#48b685}.cm-s-paraiso-dark span.cm-keyword{color:#ef6155}.cm-s-paraiso-dark span.cm-string{color:#fec418}.cm-s-paraiso-dark span.cm-variable{color:#48b685}.cm-s-paraiso-dark span.cm-variable-2{color:#06b6ef}.cm-s-paraiso-dark span.cm-def{color:#f99b15}.cm-s-paraiso-dark span.cm-bracket{color:#b9b6b0}.cm-s-paraiso-dark span.cm-tag{color:#ef6155}.cm-s-paraiso-dark span.cm-link{color:#815ba4}.cm-s-paraiso-dark span.cm-error{background:#ef6155;color:#8d8687}.cm-s-paraiso-dark .CodeMirror-activeline-background{background:#4d344a}.cm-s-paraiso-dark .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/paraiso-dark.css"],names:[],mappings:"AAUA,8BAAgC,mBAAoB,AAAC,aAAe,CAAE,AACtE,2CAA6C,kBAAoB,CAAE,AACnE,4JAAsK,6BAAkC,CAAE,AAC1M,2KAAqL,6BAAkC,CAAE,AACzN,uCAAyC,mBAAoB,AAAC,cAAkB,CAAE,AAClF,4CAA8C,aAAe,CAAE,AAE/D,6FAA4C,aAAe,CAAE,AAC7D,sCAAwC,6BAA+B,CAAE,AAEzE,mCAAqC,aAAe,CAAE,AAEtD,kEAAoC,aAAe,CAAE,AAErD,yEAA4E,aAAe,CAAE,AAC7F,mCAAqC,aAAe,CAAE,AACtD,kCAAoC,aAAe,CAAE,AAErD,oCAAsC,aAAe,CAAE,AACvD,sCAAwC,aAAe,CAAE,AACzD,+BAAiC,aAAe,CAAE,AAClD,mCAAqC,aAAe,CAAE,AACtD,+BAAiC,aAAe,CAAE,AAClD,gCAAkC,aAAe,CAAE,AACnD,iCAAmC,mBAAoB,AAAC,aAAe,CAAE,AAEzE,qDAAuD,kBAAoB,CAAE,AAC7E,+CAAiD,0BAA2B,AAAC,oBAAwB,CAAE",file:"paraiso-dark.css",sourcesContent:["/*\n\n    Name:       Paraíso (Dark)\n    Author:     Jan T. Sott\n\n    Color scheme by Jan T. Sott (https://github.com/idleberg/Paraiso-CodeMirror)\n    Inspired by the art of Rubens LP (http://www.rubenslp.com.br)\n\n*/\n\n.cm-s-paraiso-dark.CodeMirror { background: #2f1e2e; color: #b9b6b0; }\n.cm-s-paraiso-dark div.CodeMirror-selected { background: #41323f; }\n.cm-s-paraiso-dark .CodeMirror-line::selection, .cm-s-paraiso-dark .CodeMirror-line > span::selection, .cm-s-paraiso-dark .CodeMirror-line > span > span::selection { background: rgba(65, 50, 63, .99); }\n.cm-s-paraiso-dark .CodeMirror-line::-moz-selection, .cm-s-paraiso-dark .CodeMirror-line > span::-moz-selection, .cm-s-paraiso-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(65, 50, 63, .99); }\n.cm-s-paraiso-dark .CodeMirror-gutters { background: #2f1e2e; border-right: 0px; }\n.cm-s-paraiso-dark .CodeMirror-guttermarker { color: #ef6155; }\n.cm-s-paraiso-dark .CodeMirror-guttermarker-subtle { color: #776e71; }\n.cm-s-paraiso-dark .CodeMirror-linenumber { color: #776e71; }\n.cm-s-paraiso-dark .CodeMirror-cursor { border-left: 1px solid #8d8687; }\n\n.cm-s-paraiso-dark span.cm-comment { color: #e96ba8; }\n.cm-s-paraiso-dark span.cm-atom { color: #815ba4; }\n.cm-s-paraiso-dark span.cm-number { color: #815ba4; }\n\n.cm-s-paraiso-dark span.cm-property, .cm-s-paraiso-dark span.cm-attribute { color: #48b685; }\n.cm-s-paraiso-dark span.cm-keyword { color: #ef6155; }\n.cm-s-paraiso-dark span.cm-string { color: #fec418; }\n\n.cm-s-paraiso-dark span.cm-variable { color: #48b685; }\n.cm-s-paraiso-dark span.cm-variable-2 { color: #06b6ef; }\n.cm-s-paraiso-dark span.cm-def { color: #f99b15; }\n.cm-s-paraiso-dark span.cm-bracket { color: #b9b6b0; }\n.cm-s-paraiso-dark span.cm-tag { color: #ef6155; }\n.cm-s-paraiso-dark span.cm-link { color: #815ba4; }\n.cm-s-paraiso-dark span.cm-error { background: #ef6155; color: #8d8687; }\n\n.cm-s-paraiso-dark .CodeMirror-activeline-background { background: #4D344A; }\n.cm-s-paraiso-dark .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-paraiso-light.CodeMirror{background:#e7e9db;color:#41323f}.cm-s-paraiso-light div.CodeMirror-selected{background:#b9b6b0}.cm-s-paraiso-light .CodeMirror-line::selection,.cm-s-paraiso-light .CodeMirror-line>span::selection,.cm-s-paraiso-light .CodeMirror-line>span>span::selection{background:#b9b6b0}.cm-s-paraiso-light .CodeMirror-line::-moz-selection,.cm-s-paraiso-light .CodeMirror-line>span::-moz-selection,.cm-s-paraiso-light .CodeMirror-line>span>span::-moz-selection{background:#b9b6b0}.cm-s-paraiso-light .CodeMirror-gutters{background:#e7e9db;border-right:0}.cm-s-paraiso-light .CodeMirror-guttermarker{color:#000}.cm-s-paraiso-light .CodeMirror-guttermarker-subtle,.cm-s-paraiso-light .CodeMirror-linenumber{color:#8d8687}.cm-s-paraiso-light .CodeMirror-cursor{border-left:1px solid #776e71}.cm-s-paraiso-light span.cm-comment{color:#e96ba8}.cm-s-paraiso-light span.cm-atom,.cm-s-paraiso-light span.cm-number{color:#815ba4}.cm-s-paraiso-light span.cm-attribute,.cm-s-paraiso-light span.cm-property{color:#48b685}.cm-s-paraiso-light span.cm-keyword{color:#ef6155}.cm-s-paraiso-light span.cm-string{color:#fec418}.cm-s-paraiso-light span.cm-variable{color:#48b685}.cm-s-paraiso-light span.cm-variable-2{color:#06b6ef}.cm-s-paraiso-light span.cm-def{color:#f99b15}.cm-s-paraiso-light span.cm-bracket{color:#41323f}.cm-s-paraiso-light span.cm-tag{color:#ef6155}.cm-s-paraiso-light span.cm-link{color:#815ba4}.cm-s-paraiso-light span.cm-error{background:#ef6155;color:#776e71}.cm-s-paraiso-light .CodeMirror-activeline-background{background:#cfd1c4}.cm-s-paraiso-light .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/paraiso-light.css"],names:[],mappings:"AAUA,+BAAiC,mBAAoB,AAAC,aAAe,CAAE,AACvE,4CAA8C,kBAAoB,CAAE,AACpE,+JAAyK,kBAAoB,CAAE,AAC/L,8KAAwL,kBAAoB,CAAE,AAC9M,wCAA0C,mBAAoB,AAAC,cAAkB,CAAE,AACnF,6CAA+C,UAAa,CAAE,AAE9D,+FAA6C,aAAe,CAAE,AAC9D,uCAAyC,6BAA+B,CAAE,AAE1E,oCAAsC,aAAe,CAAE,AAEvD,oEAAqC,aAAe,CAAE,AAEtD,2EAA8E,aAAe,CAAE,AAC/F,oCAAsC,aAAe,CAAE,AACvD,mCAAqC,aAAe,CAAE,AAEtD,qCAAuC,aAAe,CAAE,AACxD,uCAAyC,aAAe,CAAE,AAC1D,gCAAkC,aAAe,CAAE,AACnD,oCAAsC,aAAe,CAAE,AACvD,gCAAkC,aAAe,CAAE,AACnD,iCAAmC,aAAe,CAAE,AACpD,kCAAoC,mBAAoB,AAAC,aAAe,CAAE,AAE1E,sDAAwD,kBAAoB,CAAE,AAC9E,gDAAkD,0BAA2B,AAAC,oBAAwB,CAAE",file:"paraiso-light.css",sourcesContent:["/*\n\n    Name:       Paraíso (Light)\n    Author:     Jan T. Sott\n\n    Color scheme by Jan T. Sott (https://github.com/idleberg/Paraiso-CodeMirror)\n    Inspired by the art of Rubens LP (http://www.rubenslp.com.br)\n\n*/\n\n.cm-s-paraiso-light.CodeMirror { background: #e7e9db; color: #41323f; }\n.cm-s-paraiso-light div.CodeMirror-selected { background: #b9b6b0; }\n.cm-s-paraiso-light .CodeMirror-line::selection, .cm-s-paraiso-light .CodeMirror-line > span::selection, .cm-s-paraiso-light .CodeMirror-line > span > span::selection { background: #b9b6b0; }\n.cm-s-paraiso-light .CodeMirror-line::-moz-selection, .cm-s-paraiso-light .CodeMirror-line > span::-moz-selection, .cm-s-paraiso-light .CodeMirror-line > span > span::-moz-selection { background: #b9b6b0; }\n.cm-s-paraiso-light .CodeMirror-gutters { background: #e7e9db; border-right: 0px; }\n.cm-s-paraiso-light .CodeMirror-guttermarker { color: black; }\n.cm-s-paraiso-light .CodeMirror-guttermarker-subtle { color: #8d8687; }\n.cm-s-paraiso-light .CodeMirror-linenumber { color: #8d8687; }\n.cm-s-paraiso-light .CodeMirror-cursor { border-left: 1px solid #776e71; }\n\n.cm-s-paraiso-light span.cm-comment { color: #e96ba8; }\n.cm-s-paraiso-light span.cm-atom { color: #815ba4; }\n.cm-s-paraiso-light span.cm-number { color: #815ba4; }\n\n.cm-s-paraiso-light span.cm-property, .cm-s-paraiso-light span.cm-attribute { color: #48b685; }\n.cm-s-paraiso-light span.cm-keyword { color: #ef6155; }\n.cm-s-paraiso-light span.cm-string { color: #fec418; }\n\n.cm-s-paraiso-light span.cm-variable { color: #48b685; }\n.cm-s-paraiso-light span.cm-variable-2 { color: #06b6ef; }\n.cm-s-paraiso-light span.cm-def { color: #f99b15; }\n.cm-s-paraiso-light span.cm-bracket { color: #41323f; }\n.cm-s-paraiso-light span.cm-tag { color: #ef6155; }\n.cm-s-paraiso-light span.cm-link { color: #815ba4; }\n.cm-s-paraiso-light span.cm-error { background: #ef6155; color: #776e71; }\n\n.cm-s-paraiso-light .CodeMirror-activeline-background { background: #CFD1C4; }\n.cm-s-paraiso-light .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-rubyblue.CodeMirror{background:#112435;color:#fff}.cm-s-rubyblue div.CodeMirror-selected{background:#38566f}.cm-s-rubyblue .CodeMirror-line::selection,.cm-s-rubyblue .CodeMirror-line>span::selection,.cm-s-rubyblue .CodeMirror-line>span>span::selection{background:rgba(56,86,111,.99)}.cm-s-rubyblue .CodeMirror-line::-moz-selection,.cm-s-rubyblue .CodeMirror-line>span::-moz-selection,.cm-s-rubyblue .CodeMirror-line>span>span::-moz-selection{background:rgba(56,86,111,.99)}.cm-s-rubyblue .CodeMirror-gutters{background:#1f4661;border-right:7px solid #3e7087}.cm-s-rubyblue .CodeMirror-guttermarker{color:#fff}.cm-s-rubyblue .CodeMirror-guttermarker-subtle{color:#3e7087}.cm-s-rubyblue .CodeMirror-linenumber{color:#fff}.cm-s-rubyblue .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-rubyblue span.cm-comment{color:#999;font-style:italic;line-height:1em}.cm-s-rubyblue span.cm-atom{color:#f4c20b}.cm-s-rubyblue span.cm-attribute,.cm-s-rubyblue span.cm-number{color:#82c6e0}.cm-s-rubyblue span.cm-keyword{color:#f0f}.cm-s-rubyblue span.cm-string{color:#f08047}.cm-s-rubyblue span.cm-meta{color:#f0f}.cm-s-rubyblue span.cm-tag,.cm-s-rubyblue span.cm-variable-2{color:#7bd827}.cm-s-rubyblue span.cm-def,.cm-s-rubyblue span.cm-variable-3{color:#fff}.cm-s-rubyblue span.cm-bracket{color:#f0f}.cm-s-rubyblue span.cm-link{color:#f4c20b}.cm-s-rubyblue span.CodeMirror-matchingbracket{color:#f0f!important}.cm-s-rubyblue span.cm-builtin,.cm-s-rubyblue span.cm-special{color:#ff9d00}.cm-s-rubyblue span.cm-error{color:#af2018}.cm-s-rubyblue .CodeMirror-activeline-background{background:#173047}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/rubyblue.css"],names:[],mappings:"AAAA,0BAA4B,mBAAoB,AAAC,UAAa,CAAE,AAChE,uCAAyC,kBAAoB,CAAE,AAC/D,gJAA0J,8BAAoC,CAAE,AAChM,+JAAyK,8BAAoC,CAAE,AAC/M,mCAAqC,mBAAoB,AAAC,8BAAgC,CAAE,AAC5F,wCAA0C,UAAa,CAAE,AACzD,+CAAiD,aAAe,CAAE,AAClE,sCAAwC,UAAa,CAAE,AACvD,kCAAoC,0BAA6B,CAAE,AAEnE,+BAAiC,WAAY,AAAC,kBAAkB,AAAC,eAAiB,CAAE,AACpF,4BAA8B,aAAe,CAAE,AAC/C,+DAAkE,aAAe,CAAE,AACnF,+BAAiC,UAAY,CAAE,AAC/C,8BAAgC,aAAe,CAAE,AACjD,4BAA8B,UAAY,CAAE,AAC5C,6DAAgE,aAAe,CAAE,AACjF,6DAAgE,UAAa,CAAE,AAC/E,+BAAiC,UAAY,CAAE,AAC/C,4BAA8B,aAAe,CAAE,AAC/C,+CAAiD,oBAAsB,CAAE,AACzE,8DAAiE,aAAe,CAAE,AAClF,6BAA+B,aAAe,CAAE,AAEhD,iDAAmD,kBAAoB,CAAE",file:"rubyblue.css",sourcesContent:[".cm-s-rubyblue.CodeMirror { background: #112435; color: white; }\n.cm-s-rubyblue div.CodeMirror-selected { background: #38566F; }\n.cm-s-rubyblue .CodeMirror-line::selection, .cm-s-rubyblue .CodeMirror-line > span::selection, .cm-s-rubyblue .CodeMirror-line > span > span::selection { background: rgba(56, 86, 111, 0.99); }\n.cm-s-rubyblue .CodeMirror-line::-moz-selection, .cm-s-rubyblue .CodeMirror-line > span::-moz-selection, .cm-s-rubyblue .CodeMirror-line > span > span::-moz-selection { background: rgba(56, 86, 111, 0.99); }\n.cm-s-rubyblue .CodeMirror-gutters { background: #1F4661; border-right: 7px solid #3E7087; }\n.cm-s-rubyblue .CodeMirror-guttermarker { color: white; }\n.cm-s-rubyblue .CodeMirror-guttermarker-subtle { color: #3E7087; }\n.cm-s-rubyblue .CodeMirror-linenumber { color: white; }\n.cm-s-rubyblue .CodeMirror-cursor { border-left: 1px solid white; }\n\n.cm-s-rubyblue span.cm-comment { color: #999; font-style:italic; line-height: 1em; }\n.cm-s-rubyblue span.cm-atom { color: #F4C20B; }\n.cm-s-rubyblue span.cm-number, .cm-s-rubyblue span.cm-attribute { color: #82C6E0; }\n.cm-s-rubyblue span.cm-keyword { color: #F0F; }\n.cm-s-rubyblue span.cm-string { color: #F08047; }\n.cm-s-rubyblue span.cm-meta { color: #F0F; }\n.cm-s-rubyblue span.cm-variable-2, .cm-s-rubyblue span.cm-tag { color: #7BD827; }\n.cm-s-rubyblue span.cm-variable-3, .cm-s-rubyblue span.cm-def { color: white; }\n.cm-s-rubyblue span.cm-bracket { color: #F0F; }\n.cm-s-rubyblue span.cm-link { color: #F4C20B; }\n.cm-s-rubyblue span.CodeMirror-matchingbracket { color:#F0F !important; }\n.cm-s-rubyblue span.cm-builtin, .cm-s-rubyblue span.cm-special { color: #FF9D00; }\n.cm-s-rubyblue span.cm-error { color: #AF2018; }\n\n.cm-s-rubyblue .CodeMirror-activeline-background { background: #173047; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{line-height:1.45em;color-profile:sRGB;rendering-intent:auto}.cm-s-solarized.cm-s-dark{color:#839496;background-color:#002b36;text-shadow:#002b36 0 1px}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83;text-shadow:#eee8d5 0 1px}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-variable-3{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{color:transparent;border-top:1px solid #586e75;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-strong{color:#eee}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{color:#586e75;border-bottom:1px dotted #dc322f}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:rgba(7,54,66,.99)}.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection,.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection{background:rgba(7,54,66,.99)}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection,.cm-s-solarized.cm-s-light .CodeMirror-line::selection{background:#eee8d5}.cm-s-ligh .CodeMirror-line>span::-moz-selection,.cm-s-ligh .CodeMirror-line>span>span::-moz-selection,.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75;text-shadow:#021014 0 -1px}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:hsla(0,0%,100%,.06)}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:rgba(0,0,0,.06)}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/solarized.css"],names:[],mappings:"AAUA,kBAAoB,aAAe,CAAE,AACrC,kBAAoB,aAAe,CAAE,AACrC,kBAAoB,aAAe,CAAE,AACrC,kBAAoB,aAAe,CAAE,AACrC,iBAAmB,aAAe,CAAE,AACpC,iBAAmB,aAAe,CAAE,AACpC,iBAAmB,aAAe,CAAE,AACpC,iBAAoB,aAAe,CAAE,AACrC,wBAA2B,aAAe,CAAE,AAC5C,wBAA2B,aAAe,CAAE,AAC5C,qBAAuB,aAAe,CAAE,AACxC,yBAA2B,aAAe,CAAE,AAC5C,wBAA2B,aAAe,CAAE,AAC5C,sBAAwB,aAAe,CAAE,AACzC,sBAAwB,aAAe,CAAE,AACzC,uBAAyB,aAAe,CAAE,AAI1C,gBACE,mBAAoB,AACpB,mBAAoB,AACpB,qBAAuB,CACxB,AACD,0BACE,cAAe,AACf,yBAA0B,AAC1B,yBAA2B,CAC5B,AACD,2BACE,yBAA0B,AAC1B,cAAe,AACf,yBAA2B,CAC5B,AAED,mCACE,gBAAkB,CACnB,AAED,2BAA6B,aAAe,CAAE,AAC9C,0BAA4B,aAAe,CAAE,AAE7C,4BAA8B,aAAe,CAAE,AAE/C,oDAA6B,aAAe,CAAE,AAC9C,wBAA0B,aAAe,CAAE,AAE3C,6BAA+B,aAAe,CAAE,AAChD,+BAAiC,aAAe,CAAE,AAClD,+BAAiC,aAAe,CAAE,AAElD,6BAA+B,aAAe,CAAE,AAChD,6BAA+B,aAAe,CAAE,AAEhD,4BAA8B,cAAe,AAAC,iBAAkB,CAAE,AAElE,2BAA6B,aAAe,CAAE,AAC9C,6BAA+B,aAAe,CAAE,AAEhD,yBAA2B,aAAe,CAAE,AAC5C,8BAAgC,aAAe,CAAE,AACjD,4BAA8B,aAAe,CAAE,AAC/C,4BAA8B,aAAe,CAAE,AAC/C,4CAA8C,aAAe,CAAE,AAC/D,+CAAiD,aAAe,CAAE,AAClE,wBAA0B,aAAe,CAAE,AAC3C,8BAAgC,aAAe,CAAE,AACjD,uBACE,kBAAmB,AACnB,6BAA8B,AAC9B,aAAe,CAChB,AACD,yBAA2B,cAAe,AAAC,cAAgB,CAAE,AAC7D,4BAA8B,aAAe,CAAE,AAC/C,uBACE,WAAY,AACZ,0BAA2B,AAC3B,4BAA8B,CAC/B,AACD,2BAA6B,UAAY,CAAE,AAC3C,0DAEE,cAAe,AACf,gCAAkC,CACnC,AAED,kDAAoD,kBAAoB,CAAE,AAC1E,iDAAmD,4BAAkC,CAAE,AACvF,kKAA4K,4BAAkC,CAAE,AAEhN,mDAAqD,kBAAoB,CAAE,AAC3E,sJAAgK,kBAAoB,CAAE,AACtL,mKAA6K,kBAAoB,CAAE,AAOnM,2BAGE,qCAAuC,CACxC,AAGD,oCACE,cAAgB,CACjB,AAKD,8CACE,wBAA0B,CAC3B,AAED,iDACE,cAAe,AACf,0BAA4B,CAC7B,AAGD,+CACE,wBAA0B,CAC3B,AAED,kDACE,aAAe,CAChB,AAGD,uCACE,aAAe,CAChB,AACD,gDAAkD,aAAe,CAAE,AACnE,mDAAqD,UAAY,CAAE,AACnE,oDAAsD,aAAe,CAAE,AAEvE,2DACE,aAAe,CAChB,AAGD,mCAAqC,6BAA+B,CAAE,AAGtE,4DAA8D,eAAoB,CAAE,AACpF,kDAAoD,qBAA0B,CAAE,AAChF,2DAA6D,kBAAoB,CAAE,AACnF,iDAAmD,wBAA0B,CAAE,AAG/E,4DACE,8BAAsC,CACvC,AACD,6DACE,0BAAgC,CACjC",file:"solarized.css",sourcesContent:["/*\nSolarized theme for code-mirror\nhttp://ethanschoonover.com/solarized\n*/\n\n/*\nSolarized color palette\nhttp://ethanschoonover.com/solarized/img/solarized-palette.png\n*/\n\n.solarized.base03 { color: #002b36; }\n.solarized.base02 { color: #073642; }\n.solarized.base01 { color: #586e75; }\n.solarized.base00 { color: #657b83; }\n.solarized.base0 { color: #839496; }\n.solarized.base1 { color: #93a1a1; }\n.solarized.base2 { color: #eee8d5; }\n.solarized.base3  { color: #fdf6e3; }\n.solarized.solar-yellow  { color: #b58900; }\n.solarized.solar-orange  { color: #cb4b16; }\n.solarized.solar-red { color: #dc322f; }\n.solarized.solar-magenta { color: #d33682; }\n.solarized.solar-violet  { color: #6c71c4; }\n.solarized.solar-blue { color: #268bd2; }\n.solarized.solar-cyan { color: #2aa198; }\n.solarized.solar-green { color: #859900; }\n\n/* Color scheme for code-mirror */\n\n.cm-s-solarized {\n  line-height: 1.45em;\n  color-profile: sRGB;\n  rendering-intent: auto;\n}\n.cm-s-solarized.cm-s-dark {\n  color: #839496;\n  background-color: #002b36;\n  text-shadow: #002b36 0 1px;\n}\n.cm-s-solarized.cm-s-light {\n  background-color: #fdf6e3;\n  color: #657b83;\n  text-shadow: #eee8d5 0 1px;\n}\n\n.cm-s-solarized .CodeMirror-widget {\n  text-shadow: none;\n}\n\n.cm-s-solarized .cm-header { color: #586e75; }\n.cm-s-solarized .cm-quote { color: #93a1a1; }\n\n.cm-s-solarized .cm-keyword { color: #cb4b16; }\n.cm-s-solarized .cm-atom { color: #d33682; }\n.cm-s-solarized .cm-number { color: #d33682; }\n.cm-s-solarized .cm-def { color: #2aa198; }\n\n.cm-s-solarized .cm-variable { color: #839496; }\n.cm-s-solarized .cm-variable-2 { color: #b58900; }\n.cm-s-solarized .cm-variable-3 { color: #6c71c4; }\n\n.cm-s-solarized .cm-property { color: #2aa198; }\n.cm-s-solarized .cm-operator { color: #6c71c4; }\n\n.cm-s-solarized .cm-comment { color: #586e75; font-style:italic; }\n\n.cm-s-solarized .cm-string { color: #859900; }\n.cm-s-solarized .cm-string-2 { color: #b58900; }\n\n.cm-s-solarized .cm-meta { color: #859900; }\n.cm-s-solarized .cm-qualifier { color: #b58900; }\n.cm-s-solarized .cm-builtin { color: #d33682; }\n.cm-s-solarized .cm-bracket { color: #cb4b16; }\n.cm-s-solarized .CodeMirror-matchingbracket { color: #859900; }\n.cm-s-solarized .CodeMirror-nonmatchingbracket { color: #dc322f; }\n.cm-s-solarized .cm-tag { color: #93a1a1; }\n.cm-s-solarized .cm-attribute { color: #2aa198; }\n.cm-s-solarized .cm-hr {\n  color: transparent;\n  border-top: 1px solid #586e75;\n  display: block;\n}\n.cm-s-solarized .cm-link { color: #93a1a1; cursor: pointer; }\n.cm-s-solarized .cm-special { color: #6c71c4; }\n.cm-s-solarized .cm-em {\n  color: #999;\n  text-decoration: underline;\n  text-decoration-style: dotted;\n}\n.cm-s-solarized .cm-strong { color: #eee; }\n.cm-s-solarized .cm-error,\n.cm-s-solarized .cm-invalidchar {\n  color: #586e75;\n  border-bottom: 1px dotted #dc322f;\n}\n\n.cm-s-solarized.cm-s-dark div.CodeMirror-selected { background: #073642; }\n.cm-s-solarized.cm-s-dark.CodeMirror ::selection { background: rgba(7, 54, 66, 0.99); }\n.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection, .cm-s-dark .CodeMirror-line > span::-moz-selection, .cm-s-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(7, 54, 66, 0.99); }\n\n.cm-s-solarized.cm-s-light div.CodeMirror-selected { background: #eee8d5; }\n.cm-s-solarized.cm-s-light .CodeMirror-line::selection, .cm-s-light .CodeMirror-line > span::selection, .cm-s-light .CodeMirror-line > span > span::selection { background: #eee8d5; }\n.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection, .cm-s-ligh .CodeMirror-line > span::-moz-selection, .cm-s-ligh .CodeMirror-line > span > span::-moz-selection { background: #eee8d5; }\n\n/* Editor styling */\n\n\n\n/* Little shadow on the view-port of the buffer view */\n.cm-s-solarized.CodeMirror {\n  -moz-box-shadow: inset 7px 0 12px -6px #000;\n  -webkit-box-shadow: inset 7px 0 12px -6px #000;\n  box-shadow: inset 7px 0 12px -6px #000;\n}\n\n/* Remove gutter border */\n.cm-s-solarized .CodeMirror-gutters {\n  border-right: 0;\n}\n\n/* Gutter colors and line number styling based of color scheme (dark / light) */\n\n/* Dark */\n.cm-s-solarized.cm-s-dark .CodeMirror-gutters {\n  background-color: #073642;\n}\n\n.cm-s-solarized.cm-s-dark .CodeMirror-linenumber {\n  color: #586e75;\n  text-shadow: #021014 0 -1px;\n}\n\n/* Light */\n.cm-s-solarized.cm-s-light .CodeMirror-gutters {\n  background-color: #eee8d5;\n}\n\n.cm-s-solarized.cm-s-light .CodeMirror-linenumber {\n  color: #839496;\n}\n\n/* Common */\n.cm-s-solarized .CodeMirror-linenumber {\n  padding: 0 5px;\n}\n.cm-s-solarized .CodeMirror-guttermarker-subtle { color: #586e75; }\n.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker { color: #ddd; }\n.cm-s-solarized.cm-s-light .CodeMirror-guttermarker { color: #cb4b16; }\n\n.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text {\n  color: #586e75;\n}\n\n/* Cursor */\n.cm-s-solarized .CodeMirror-cursor { border-left: 1px solid #819090; }\n\n/* Fat cursor */\n.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor { background: #77ee77; }\n.cm-s-solarized.cm-s-light .cm-animate-fat-cursor { background-color: #77ee77; }\n.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor { background: #586e75; }\n.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor { background-color: #586e75; }\n\n/* Active line */\n.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background {\n  background: rgba(255, 255, 255, 0.06);\n}\n.cm-s-solarized.cm-s-light .CodeMirror-activeline-background {\n  background: rgba(0, 0, 0, 0.06);\n}\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-the-matrix.CodeMirror{background:#000;color:#0f0}.cm-s-the-matrix div.CodeMirror-selected{background:#2d2d2d}.cm-s-the-matrix .CodeMirror-line::selection,.cm-s-the-matrix .CodeMirror-line>span::selection,.cm-s-the-matrix .CodeMirror-line>span>span::selection{background:rgba(45,45,45,.99)}.cm-s-the-matrix .CodeMirror-line::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span::-moz-selection,.cm-s-the-matrix .CodeMirror-line>span>span::-moz-selection{background:rgba(45,45,45,.99)}.cm-s-the-matrix .CodeMirror-gutters{background:#060;border-right:2px solid #0f0}.cm-s-the-matrix .CodeMirror-guttermarker{color:#0f0}.cm-s-the-matrix .CodeMirror-guttermarker-subtle,.cm-s-the-matrix .CodeMirror-linenumber{color:#fff}.cm-s-the-matrix .CodeMirror-cursor{border-left:1px solid #0f0}.cm-s-the-matrix span.cm-keyword{color:#008803;font-weight:700}.cm-s-the-matrix span.cm-atom{color:#3ff}.cm-s-the-matrix span.cm-number{color:#ffb94f}.cm-s-the-matrix span.cm-def{color:#99c}.cm-s-the-matrix span.cm-variable{color:#f6c}.cm-s-the-matrix span.cm-variable-2{color:#c6f}.cm-s-the-matrix span.cm-variable-3{color:#96f}.cm-s-the-matrix span.cm-property{color:#62ffa0}.cm-s-the-matrix span.cm-operator{color:#999}.cm-s-the-matrix span.cm-comment{color:#ccc}.cm-s-the-matrix span.cm-string{color:#39c}.cm-s-the-matrix span.cm-meta{color:#c9f}.cm-s-the-matrix span.cm-qualifier{color:#fff700}.cm-s-the-matrix span.cm-builtin{color:#30a}.cm-s-the-matrix span.cm-bracket{color:#cc7}.cm-s-the-matrix span.cm-tag{color:#ffbd40}.cm-s-the-matrix span.cm-attribute{color:#fff700}.cm-s-the-matrix span.cm-error{color:red}.cm-s-the-matrix .CodeMirror-activeline-background{background:#040}","",{
version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/the-matrix.css"],names:[],mappings:"AAAA,4BAA8B,gBAAoB,AAAC,UAAe,CAAE,AACpE,yCAA2C,kBAAoB,CAAE,AACjE,sJAAgK,6BAAmC,CAAE,AACrM,qKAA+K,6BAAmC,CAAE,AACpN,qCAAuC,gBAAiB,AAAC,2BAAgC,CAAE,AAC3F,0CAA4C,UAAY,CAAE,AAE1D,yFAA0C,UAAe,CAAE,AAC3D,oCAAsC,0BAA+B,CAAE,AAEvE,iCAAmC,cAAe,AAAC,eAAkB,CAAE,AACvE,8BAAgC,UAAY,CAAE,AAC9C,gCAAkC,aAAe,CAAE,AACnD,6BAA+B,UAAY,CAAE,AAC7C,kCAAoC,UAAY,CAAE,AAClD,oCAAsC,UAAY,CAAE,AACpD,oCAAsC,UAAY,CAAE,AACpD,kCAAoC,aAAe,CAAE,AACrD,kCAAoC,UAAY,CAAE,AAClD,iCAAmC,UAAe,CAAE,AACpD,gCAAkC,UAAY,CAAE,AAChD,8BAAgC,UAAY,CAAE,AAC9C,mCAAqC,aAAe,CAAE,AACtD,iCAAmC,UAAY,CAAE,AACjD,iCAAmC,UAAY,CAAE,AACjD,6BAA+B,aAAe,CAAE,AAChD,mCAAqC,aAAe,CAAE,AACtD,+BAAiC,SAAe,CAAE,AAElD,mDAAqD,eAAiB,CAAE",file:"the-matrix.css",sourcesContent:[".cm-s-the-matrix.CodeMirror { background: #000000; color: #00FF00; }\n.cm-s-the-matrix div.CodeMirror-selected { background: #2D2D2D; }\n.cm-s-the-matrix .CodeMirror-line::selection, .cm-s-the-matrix .CodeMirror-line > span::selection, .cm-s-the-matrix .CodeMirror-line > span > span::selection { background: rgba(45, 45, 45, 0.99); }\n.cm-s-the-matrix .CodeMirror-line::-moz-selection, .cm-s-the-matrix .CodeMirror-line > span::-moz-selection, .cm-s-the-matrix .CodeMirror-line > span > span::-moz-selection { background: rgba(45, 45, 45, 0.99); }\n.cm-s-the-matrix .CodeMirror-gutters { background: #060; border-right: 2px solid #00FF00; }\n.cm-s-the-matrix .CodeMirror-guttermarker { color: #0f0; }\n.cm-s-the-matrix .CodeMirror-guttermarker-subtle { color: white; }\n.cm-s-the-matrix .CodeMirror-linenumber { color: #FFFFFF; }\n.cm-s-the-matrix .CodeMirror-cursor { border-left: 1px solid #00FF00; }\n\n.cm-s-the-matrix span.cm-keyword { color: #008803; font-weight: bold; }\n.cm-s-the-matrix span.cm-atom { color: #3FF; }\n.cm-s-the-matrix span.cm-number { color: #FFB94F; }\n.cm-s-the-matrix span.cm-def { color: #99C; }\n.cm-s-the-matrix span.cm-variable { color: #F6C; }\n.cm-s-the-matrix span.cm-variable-2 { color: #C6F; }\n.cm-s-the-matrix span.cm-variable-3 { color: #96F; }\n.cm-s-the-matrix span.cm-property { color: #62FFA0; }\n.cm-s-the-matrix span.cm-operator { color: #999; }\n.cm-s-the-matrix span.cm-comment { color: #CCCCCC; }\n.cm-s-the-matrix span.cm-string { color: #39C; }\n.cm-s-the-matrix span.cm-meta { color: #C9F; }\n.cm-s-the-matrix span.cm-qualifier { color: #FFF700; }\n.cm-s-the-matrix span.cm-builtin { color: #30a; }\n.cm-s-the-matrix span.cm-bracket { color: #cc7; }\n.cm-s-the-matrix span.cm-tag { color: #FFBD40; }\n.cm-s-the-matrix span.cm-attribute { color: #FFF700; }\n.cm-s-the-matrix span.cm-error { color: #FF0000; }\n\n.cm-s-the-matrix .CodeMirror-activeline-background { background: #040; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-tomorrow-night-eighties.CodeMirror{background:#000;color:#ccc}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2d2d2d}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::selection{background:rgba(45,45,45,.99)}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span::-moz-selection,.cm-s-tomorrow-night-eighties .CodeMirror-line>span>span::-moz-selection{background:rgba(45,45,45,.99)}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000;border-right:0}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6a6a6a}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53}.cm-s-tomorrow-night-eighties span.cm-atom,.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-attribute,.cm-s-tomorrow-night-eighties span.cm-property{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-string{color:#fc6}.cm-s-tomorrow-night-eighties span.cm-variable{color:#9c9}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#69c}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#ccc}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6a6a6a}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/tomorrow-night-eighties.css"],names:[],mappings:"AAUA,yCAA2C,gBAAoB,AAAC,UAAe,CAAE,AACjF,sDAAwD,kBAAoB,CAAE,AAC9E,6LAAuM,6BAAmC,CAAE,AAC5O,4MAAsN,6BAAmC,CAAE,AAC3P,kDAAoD,gBAAoB,AAAC,cAAkB,CAAE,AAC7F,uDAAyD,aAAe,CAAE,AAC1E,8DAAgE,UAAY,CAAE,AAC9E,qDAAuD,aAAe,CAAE,AACxE,iDAAmD,6BAA+B,CAAE,AAEpF,8CAAgD,aAAe,CAAE,AAEjE,wFAA+C,aAAe,CAAE,AAEhE,+FAAkG,UAAe,CAAE,AACnH,8CAAgD,aAAe,CAAE,AACjE,6CAA+C,UAAe,CAAE,AAEhE,+CAAiD,UAAe,CAAE,AAClE,iDAAmD,UAAe,CAAE,AACpE,0CAA4C,aAAe,CAAE,AAC7D,8CAAgD,UAAe,CAAE,AACjE,0CAA4C,aAAe,CAAE,AAC7D,2CAA6C,aAAe,CAAE,AAC9D,4CAA8C,mBAAoB,AAAC,aAAe,CAAE,AAEpF,gEAAkE,kBAAoB,CAAE,AACxF,0DAA4D,0BAA2B,AAAC,oBAAwB,CAAE",file:"tomorrow-night-eighties.css",sourcesContent:["/*\n\n    Name:       Tomorrow Night - Eighties\n    Author:     Chris Kempson\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-tomorrow-night-eighties.CodeMirror { background: #000000; color: #CCCCCC; }\n.cm-s-tomorrow-night-eighties div.CodeMirror-selected { background: #2D2D2D; }\n.cm-s-tomorrow-night-eighties .CodeMirror-line::selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span::selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span > span::selection { background: rgba(45, 45, 45, 0.99); }\n.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span::-moz-selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span > span::-moz-selection { background: rgba(45, 45, 45, 0.99); }\n.cm-s-tomorrow-night-eighties .CodeMirror-gutters { background: #000000; border-right: 0px; }\n.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker { color: #f2777a; }\n.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle { color: #777; }\n.cm-s-tomorrow-night-eighties .CodeMirror-linenumber { color: #515151; }\n.cm-s-tomorrow-night-eighties .CodeMirror-cursor { border-left: 1px solid #6A6A6A; }\n\n.cm-s-tomorrow-night-eighties span.cm-comment { color: #d27b53; }\n.cm-s-tomorrow-night-eighties span.cm-atom { color: #a16a94; }\n.cm-s-tomorrow-night-eighties span.cm-number { color: #a16a94; }\n\n.cm-s-tomorrow-night-eighties span.cm-property, .cm-s-tomorrow-night-eighties span.cm-attribute { color: #99cc99; }\n.cm-s-tomorrow-night-eighties span.cm-keyword { color: #f2777a; }\n.cm-s-tomorrow-night-eighties span.cm-string { color: #ffcc66; }\n\n.cm-s-tomorrow-night-eighties span.cm-variable { color: #99cc99; }\n.cm-s-tomorrow-night-eighties span.cm-variable-2 { color: #6699cc; }\n.cm-s-tomorrow-night-eighties span.cm-def { color: #f99157; }\n.cm-s-tomorrow-night-eighties span.cm-bracket { color: #CCCCCC; }\n.cm-s-tomorrow-night-eighties span.cm-tag { color: #f2777a; }\n.cm-s-tomorrow-night-eighties span.cm-link { color: #a16a94; }\n.cm-s-tomorrow-night-eighties span.cm-error { background: #f2777a; color: #6A6A6A; }\n\n.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background { background: #343600; }\n.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-twilight.CodeMirror{background:#141414;color:#f7f7f7}.cm-s-twilight div.CodeMirror-selected{background:#323232}.cm-s-twilight .CodeMirror-line::selection,.cm-s-twilight .CodeMirror-line>span::selection,.cm-s-twilight .CodeMirror-line>span>span::selection{background:rgba(50,50,50,.99)}.cm-s-twilight .CodeMirror-line::-moz-selection,.cm-s-twilight .CodeMirror-line>span::-moz-selection,.cm-s-twilight .CodeMirror-line>span>span::-moz-selection{background:rgba(50,50,50,.99)}.cm-s-twilight .CodeMirror-gutters{background:#222;border-right:1px solid #aaa}.cm-s-twilight .CodeMirror-guttermarker{color:#fff}.cm-s-twilight .CodeMirror-guttermarker-subtle,.cm-s-twilight .CodeMirror-linenumber{color:#aaa}.cm-s-twilight .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-twilight .cm-keyword{color:#f9ee98}.cm-s-twilight .cm-atom{color:#fc0}.cm-s-twilight .cm-number{color:#ca7841}.cm-s-twilight .cm-def{color:#8da6ce}.cm-s-twilight span.cm-def,.cm-s-twilight span.cm-tag,.cm-s-twilight span.cm-variable-2,.cm-s-twilight span.cm-variable-3{color:#607392}.cm-s-twilight .cm-operator{color:#cda869}.cm-s-twilight .cm-comment{color:#777;font-style:italic;font-weight:400}.cm-s-twilight .cm-string{color:#8f9d6a;font-style:italic}.cm-s-twilight .cm-string-2{color:#bd6b18}.cm-s-twilight .cm-meta{background-color:#141414;color:#f7f7f7}.cm-s-twilight .cm-builtin{color:#cda869}.cm-s-twilight .cm-tag{color:#997643}.cm-s-twilight .cm-attribute{color:#d6bb6d}.cm-s-twilight .cm-header{color:#ff6400}.cm-s-twilight .cm-hr{color:#aeaeae}.cm-s-twilight .cm-link{color:#ad9361;font-style:italic;text-decoration:none}.cm-s-twilight .cm-error{border-bottom:1px solid red}.cm-s-twilight .CodeMirror-activeline-background{background:#27282e}.cm-s-twilight .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/twilight.css"],names:[],mappings:"AAAA,0BAA4B,mBAAoB,AAAC,aAAe,CAAE,AAClE,uCAAyC,kBAAoB,CAAE,AAC/D,gJAA0J,6BAAmC,CAAE,AAC/L,+JAAyK,6BAAmC,CAAE,AAE9M,mCAAqC,gBAAiB,AAAC,2BAA6B,CAAE,AACtF,wCAA0C,UAAa,CAAE,AAEzD,qFAAwC,UAAY,CAAE,AACtD,kCAAoC,0BAA6B,CAAE,AAEnE,2BAA6B,aAAe,CAAE,AAC9C,wBAA0B,UAAY,CAAE,AACxC,0BAA4B,aAAgB,CAAE,AAC9C,uBAAyB,aAAe,CAAE,AAE1C,0HAAgE,aAAe,CAAE,AACjF,4BAA8B,aAAe,CAAE,AAC/C,2BAA6B,WAAW,AAAC,kBAAkB,AAAC,eAAmB,CAAE,AACjF,0BAA4B,cAAc,AAAC,iBAAkB,CAAE,AAC/D,4BAA8B,aAAc,CAAE,AAC9C,wBAA0B,yBAAyB,AAAC,aAAc,CAAE,AACpE,2BAA6B,aAAe,CAAE,AAC9C,uBAAyB,aAAe,CAAE,AAC1C,6BAA+B,aAAe,CAAE,AAChD,0BAA4B,aAAe,CAAE,AAC7C,sBAAwB,aAAe,CAAE,AACzC,wBAA0B,cAAc,AAAC,kBAAkB,AAAC,oBAAqB,CAAE,AACnF,yBAA2B,2BAA6B,CAAE,AAE1D,iDAAmD,kBAAoB,CAAE,AACzE,2CAA6C,uBAAuB,AAAC,oBAAuB,CAAE",file:"twilight.css",sourcesContent:[".cm-s-twilight.CodeMirror { background: #141414; color: #f7f7f7; } /**/\n.cm-s-twilight div.CodeMirror-selected { background: #323232; } /**/\n.cm-s-twilight .CodeMirror-line::selection, .cm-s-twilight .CodeMirror-line > span::selection, .cm-s-twilight .CodeMirror-line > span > span::selection { background: rgba(50, 50, 50, 0.99); }\n.cm-s-twilight .CodeMirror-line::-moz-selection, .cm-s-twilight .CodeMirror-line > span::-moz-selection, .cm-s-twilight .CodeMirror-line > span > span::-moz-selection { background: rgba(50, 50, 50, 0.99); }\n\n.cm-s-twilight .CodeMirror-gutters { background: #222; border-right: 1px solid #aaa; }\n.cm-s-twilight .CodeMirror-guttermarker { color: white; }\n.cm-s-twilight .CodeMirror-guttermarker-subtle { color: #aaa; }\n.cm-s-twilight .CodeMirror-linenumber { color: #aaa; }\n.cm-s-twilight .CodeMirror-cursor { border-left: 1px solid white; }\n\n.cm-s-twilight .cm-keyword { color: #f9ee98; } /**/\n.cm-s-twilight .cm-atom { color: #FC0; }\n.cm-s-twilight .cm-number { color:  #ca7841; } /**/\n.cm-s-twilight .cm-def { color: #8DA6CE; }\n.cm-s-twilight span.cm-variable-2, .cm-s-twilight span.cm-tag { color: #607392; } /**/\n.cm-s-twilight span.cm-variable-3, .cm-s-twilight span.cm-def { color: #607392; } /**/\n.cm-s-twilight .cm-operator { color: #cda869; } /**/\n.cm-s-twilight .cm-comment { color:#777; font-style:italic; font-weight:normal; } /**/\n.cm-s-twilight .cm-string { color:#8f9d6a; font-style:italic; } /**/\n.cm-s-twilight .cm-string-2 { color:#bd6b18; } /*?*/\n.cm-s-twilight .cm-meta { background-color:#141414; color:#f7f7f7; } /*?*/\n.cm-s-twilight .cm-builtin { color: #cda869; } /*?*/\n.cm-s-twilight .cm-tag { color: #997643; } /**/\n.cm-s-twilight .cm-attribute { color: #d6bb6d; } /*?*/\n.cm-s-twilight .cm-header { color: #FF6400; }\n.cm-s-twilight .cm-hr { color: #AEAEAE; }\n.cm-s-twilight .cm-link { color:#ad9361; font-style:italic; text-decoration:none; } /**/\n.cm-s-twilight .cm-error { border-bottom: 1px solid red; }\n\n.cm-s-twilight .CodeMirror-activeline-background { background: #27282E; }\n.cm-s-twilight .CodeMirror-matchingbracket { outline:1px solid grey; color:white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-vibrant-ink.CodeMirror{background:#000;color:#fff}.cm-s-vibrant-ink div.CodeMirror-selected{background:#35493c}.cm-s-vibrant-ink .CodeMirror-line::selection,.cm-s-vibrant-ink .CodeMirror-line>span::selection,.cm-s-vibrant-ink .CodeMirror-line>span>span::selection{background:rgba(53,73,60,.99)}.cm-s-vibrant-ink .CodeMirror-line::-moz-selection,.cm-s-vibrant-ink .CodeMirror-line>span::-moz-selection,.cm-s-vibrant-ink .CodeMirror-line>span>span::-moz-selection{background:rgba(53,73,60,.99)}.cm-s-vibrant-ink .CodeMirror-gutters{background:#002240;border-right:1px solid #aaa}.cm-s-vibrant-ink .CodeMirror-guttermarker{color:#fff}.cm-s-vibrant-ink .CodeMirror-guttermarker-subtle,.cm-s-vibrant-ink .CodeMirror-linenumber{color:#d0d0d0}.cm-s-vibrant-ink .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-vibrant-ink .cm-keyword{color:#cc7832}.cm-s-vibrant-ink .cm-atom{color:#fc0}.cm-s-vibrant-ink .cm-number{color:#ffee98}.cm-s-vibrant-ink .cm-def{color:#8da6ce}.cm-s-vibrant-ink span.cm-variable-2,.cm-s-vibrant-ink span.cm-variable-3,.cm-s-vibrant span.cm-def,.cm-s-vibrant span.cm-tag{color:#ffc66d}.cm-s-vibrant-ink .cm-operator{color:#888}.cm-s-vibrant-ink .cm-comment{color:gray;font-weight:700}.cm-s-vibrant-ink .cm-string{color:#a5c25c}.cm-s-vibrant-ink .cm-string-2{color:red}.cm-s-vibrant-ink .cm-meta{color:#d8fa3c}.cm-s-vibrant-ink .cm-attribute,.cm-s-vibrant-ink .cm-builtin,.cm-s-vibrant-ink .cm-tag{color:#8da6ce}.cm-s-vibrant-ink .cm-header{color:#ff6400}.cm-s-vibrant-ink .cm-hr{color:#aeaeae}.cm-s-vibrant-ink .cm-link{color:blue}.cm-s-vibrant-ink .cm-error{border-bottom:1px solid red}.cm-s-vibrant-ink .CodeMirror-activeline-background{background:#27282e}.cm-s-vibrant-ink .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/vibrant-ink.css"],names:[],mappings:"AAEA,6BAA+B,gBAAkB,AAAC,UAAa,CAAE,AACjE,0CAA4C,kBAAoB,CAAE,AAClE,yJAAmK,6BAAmC,CAAE,AACxM,wKAAkL,6BAAmC,CAAE,AAEvN,sCAAwC,mBAAoB,AAAC,2BAA6B,CAAE,AAC5F,2CAA6C,UAAa,CAAE,AAE5D,2FAA2C,aAAe,CAAE,AAC5D,qCAAuC,0BAA6B,CAAE,AAEtE,8BAAgC,aAAe,CAAE,AACjD,2BAA6B,UAAY,CAAE,AAC3C,6BAA+B,aAAgB,CAAE,AACjD,0BAA4B,aAAe,CAAE,AAE7C,8HAAkE,aAAe,CAAE,AACnF,+BAAiC,UAAY,CAAE,AAC/C,8BAAgC,WAAY,AAAC,eAAkB,CAAE,AACjE,6BAA+B,aAAgB,CAAE,AACjD,+BAAiC,SAAW,CAAE,AAC9C,2BAA6B,aAAe,CAAE,AAG9C,wFAAkC,aAAe,CAAE,AACnD,6BAA+B,aAAe,CAAE,AAChD,yBAA2B,aAAe,CAAE,AAC5C,2BAA6B,UAAY,CAAE,AAC3C,4BAA8B,2BAA6B,CAAE,AAE7D,oDAAsD,kBAAoB,CAAE,AAC5E,8CAAgD,uBAAuB,AAAC,oBAAuB,CAAE",file:"vibrant-ink.css",sourcesContent:["/* Taken from the popular Visual Studio Vibrant Ink Schema */\n\n.cm-s-vibrant-ink.CodeMirror { background: black; color: white; }\n.cm-s-vibrant-ink div.CodeMirror-selected { background: #35493c; }\n.cm-s-vibrant-ink .CodeMirror-line::selection, .cm-s-vibrant-ink .CodeMirror-line > span::selection, .cm-s-vibrant-ink .CodeMirror-line > span > span::selection { background: rgba(53, 73, 60, 0.99); }\n.cm-s-vibrant-ink .CodeMirror-line::-moz-selection, .cm-s-vibrant-ink .CodeMirror-line > span::-moz-selection, .cm-s-vibrant-ink .CodeMirror-line > span > span::-moz-selection { background: rgba(53, 73, 60, 0.99); }\n\n.cm-s-vibrant-ink .CodeMirror-gutters { background: #002240; border-right: 1px solid #aaa; }\n.cm-s-vibrant-ink .CodeMirror-guttermarker { color: white; }\n.cm-s-vibrant-ink .CodeMirror-guttermarker-subtle { color: #d0d0d0; }\n.cm-s-vibrant-ink .CodeMirror-linenumber { color: #d0d0d0; }\n.cm-s-vibrant-ink .CodeMirror-cursor { border-left: 1px solid white; }\n\n.cm-s-vibrant-ink .cm-keyword { color: #CC7832; }\n.cm-s-vibrant-ink .cm-atom { color: #FC0; }\n.cm-s-vibrant-ink .cm-number { color:  #FFEE98; }\n.cm-s-vibrant-ink .cm-def { color: #8DA6CE; }\n.cm-s-vibrant-ink span.cm-variable-2, .cm-s-vibrant span.cm-tag { color: #FFC66D; }\n.cm-s-vibrant-ink span.cm-variable-3, .cm-s-vibrant span.cm-def { color: #FFC66D; }\n.cm-s-vibrant-ink .cm-operator { color: #888; }\n.cm-s-vibrant-ink .cm-comment { color: gray; font-weight: bold; }\n.cm-s-vibrant-ink .cm-string { color:  #A5C25C; }\n.cm-s-vibrant-ink .cm-string-2 { color: red; }\n.cm-s-vibrant-ink .cm-meta { color: #D8FA3C; }\n.cm-s-vibrant-ink .cm-builtin { color: #8DA6CE; }\n.cm-s-vibrant-ink .cm-tag { color: #8DA6CE; }\n.cm-s-vibrant-ink .cm-attribute { color: #8DA6CE; }\n.cm-s-vibrant-ink .cm-header { color: #FF6400; }\n.cm-s-vibrant-ink .cm-hr { color: #AEAEAE; }\n.cm-s-vibrant-ink .cm-link { color: blue; }\n.cm-s-vibrant-ink .cm-error { border-bottom: 1px solid red; }\n\n.cm-s-vibrant-ink .CodeMirror-activeline-background { background: #27282E; }\n.cm-s-vibrant-ink .CodeMirror-matchingbracket { outline:1px solid grey; color:white !important; }\n"],sourceRoot:"webpack://"}])},function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,".cm-s-xq-dark.CodeMirror{background:#0a001f;color:#f8f8f8}.cm-s-xq-dark div.CodeMirror-selected{background:#27007a}.cm-s-xq-dark .CodeMirror-line::selection,.cm-s-xq-dark .CodeMirror-line>span::selection,.cm-s-xq-dark .CodeMirror-line>span>span::selection{background:rgba(39,0,122,.99)}.cm-s-xq-dark .CodeMirror-line::-moz-selection,.cm-s-xq-dark .CodeMirror-line>span::-moz-selection,.cm-s-xq-dark .CodeMirror-line>span>span::-moz-selection{background:rgba(39,0,122,.99)}.cm-s-xq-dark .CodeMirror-gutters{background:#0a001f;border-right:1px solid #aaa}.cm-s-xq-dark .CodeMirror-guttermarker{color:#ffbd40}.cm-s-xq-dark .CodeMirror-guttermarker-subtle,.cm-s-xq-dark .CodeMirror-linenumber{color:#f8f8f8}.cm-s-xq-dark .CodeMirror-cursor{border-left:1px solid #fff}.cm-s-xq-dark span.cm-keyword{color:#ffbd40}.cm-s-xq-dark span.cm-atom{color:#6c8cd5}.cm-s-xq-dark span.cm-number{color:#164}.cm-s-xq-dark span.cm-def{color:#fff;text-decoration:underline}.cm-s-xq-dark span.cm-variable{color:#fff}.cm-s-xq-dark span.cm-variable-2{color:#eee}.cm-s-xq-dark span.cm-variable-3{color:#ddd}.cm-s-xq-dark span.cm-comment{color:gray}.cm-s-xq-dark span.cm-string{color:#9fee00}.cm-s-xq-dark span.cm-meta{color:#ff0}.cm-s-xq-dark span.cm-qualifier{color:#fff700}.cm-s-xq-dark span.cm-builtin{color:#30a}.cm-s-xq-dark span.cm-bracket{color:#cc7}.cm-s-xq-dark span.cm-tag{color:#ffbd40}.cm-s-xq-dark span.cm-attribute{color:#fff700}.cm-s-xq-dark span.cm-error{color:red}.cm-s-xq-dark .CodeMirror-activeline-background{background:#27282e}.cm-s-xq-dark .CodeMirror-matchingbracket{outline:1px solid grey;color:#fff!important}","",{version:3,sources:["/./smc-webapp/node_modules/codemirror/theme/xq-dark.css"],names:[],mappings:"AAsBA,yBAA2B,mBAAoB,AAAC,aAAe,CAAE,AACjE,sCAAwC,kBAAoB,CAAE,AAC9D,6IAAuJ,6BAAmC,CAAE,AAC5L,4JAAsK,6BAAmC,CAAE,AAC3M,kCAAoC,mBAAoB,AAAC,2BAA6B,CAAE,AACxF,uCAAyC,aAAe,CAAE,AAE1D,mFAAuC,aAAe,CAAE,AACxD,iCAAmC,0BAA6B,CAAE,AAElE,8BAAgC,aAAe,CAAE,AACjD,2BAA6B,aAAe,CAAE,AAC9C,6BAA+B,UAAY,CAAE,AAC7C,0BAA4B,WAAY,AAAC,yBAA0B,CAAE,AACrE,+BAAiC,UAAY,CAAE,AAC/C,iCAAmC,UAAY,CAAE,AACjD,iCAAmC,UAAY,CAAE,AAGjD,8BAAgC,UAAY,CAAE,AAC9C,6BAA+B,aAAe,CAAE,AAChD,2BAA6B,UAAc,CAAE,AAC7C,gCAAkC,aAAe,CAAE,AACnD,8BAAgC,UAAY,CAAE,AAC9C,8BAAgC,UAAY,CAAE,AAC9C,0BAA4B,aAAe,CAAE,AAC7C,gCAAkC,aAAe,CAAE,AACnD,4BAA8B,SAAY,CAAE,AAE5C,gDAAkD,kBAAoB,CAAE,AACxE,0CAA4C,uBAAuB,AAAC,oBAAuB,CAAE",file:"xq-dark.css",sourcesContent:['/*\nCopyright (C) 2011 by MarkLogic Corporation\nAuthor: Mike Brevoort <mike@brevoort.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n.cm-s-xq-dark.CodeMirror { background: #0a001f; color: #f8f8f8; }\n.cm-s-xq-dark div.CodeMirror-selected { background: #27007A; }\n.cm-s-xq-dark .CodeMirror-line::selection, .cm-s-xq-dark .CodeMirror-line > span::selection, .cm-s-xq-dark .CodeMirror-line > span > span::selection { background: rgba(39, 0, 122, 0.99); }\n.cm-s-xq-dark .CodeMirror-line::-moz-selection, .cm-s-xq-dark .CodeMirror-line > span::-moz-selection, .cm-s-xq-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(39, 0, 122, 0.99); }\n.cm-s-xq-dark .CodeMirror-gutters { background: #0a001f; border-right: 1px solid #aaa; }\n.cm-s-xq-dark .CodeMirror-guttermarker { color: #FFBD40; }\n.cm-s-xq-dark .CodeMirror-guttermarker-subtle { color: #f8f8f8; }\n.cm-s-xq-dark .CodeMirror-linenumber { color: #f8f8f8; }\n.cm-s-xq-dark .CodeMirror-cursor { border-left: 1px solid white; }\n\n.cm-s-xq-dark span.cm-keyword { color: #FFBD40; }\n.cm-s-xq-dark span.cm-atom { color: #6C8CD5; }\n.cm-s-xq-dark span.cm-number { color: #164; }\n.cm-s-xq-dark span.cm-def { color: #FFF; text-decoration:underline; }\n.cm-s-xq-dark span.cm-variable { color: #FFF; }\n.cm-s-xq-dark span.cm-variable-2 { color: #EEE; }\n.cm-s-xq-dark span.cm-variable-3 { color: #DDD; }\n.cm-s-xq-dark span.cm-property {}\n.cm-s-xq-dark span.cm-operator {}\n.cm-s-xq-dark span.cm-comment { color: gray; }\n.cm-s-xq-dark span.cm-string { color: #9FEE00; }\n.cm-s-xq-dark span.cm-meta { color: yellow; }\n.cm-s-xq-dark span.cm-qualifier { color: #FFF700; }\n.cm-s-xq-dark span.cm-builtin { color: #30a; }\n.cm-s-xq-dark span.cm-bracket { color: #cc7; }\n.cm-s-xq-dark span.cm-tag { color: #FFBD40; }\n.cm-s-xq-dark span.cm-attribute { color: #FFF700; }\n.cm-s-xq-dark span.cm-error { color: #f00; }\n\n.cm-s-xq-dark .CodeMirror-activeline-background { background: #27282E; }\n.cm-s-xq-dark .CodeMirror-matchingbracket { outline:1px solid grey; color:white !important; }\n'],sourceRoot:"webpack://"}])},function(e,exports){exports.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},exports.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+d>=1?p/l:p*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=f,s/=256,c-=8);e[n+h-f]|=128*m}},,function(e,exports,t){var n=t(355);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(356);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(357);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(358);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(359);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(360);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(361);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(362);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(363);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(364);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(365);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(366);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(367);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(368);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(369);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(370);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(371);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(372);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(373);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(374);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(375);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(376);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(377);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(378);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(379);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(380);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(381);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(382);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){var n=t(383);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},,,function(e,exports){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAIklEQVQ4y2MsZ1jFykBFwMRAZTBq4KiBowaOGjhq4FAxEADHPAFOTDXl+wAAAABJRU5ErkJggg=="},function(e,exports){function t(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var n=-1,r=1,i=0;t.Diff,t.prototype.diff_main=function(e,t,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=r;if(null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[[i,e]]:[];void 0===n&&(n=!0);var s=n,a=this.diff_commonPrefix(e,t),l=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var u=this.diff_compute_(e,t,s,o);return l&&u.unshift([i,l]),c&&u.push([i,c]),this.diff_cleanupMerge(u),u},t.prototype.diff_compute_=function(e,t,o,s){var a;if(!e)return[[r,t]];if(!t)return[[n,e]];var l=s-new Date;if(l<0)return[[n,e],[r,t]];var c=e.length>t.length?e:t,u=e.length>t.length?t:e,d=c.indexOf(u);if(d!=-1)return a=[[r,c.substring(0,d)],[i,u],[r,c.substring(d+u.length)]],e.length>t.length&&(a[0][0]=a[2][0]=n),a;if(1==u.length)return[[n,e],[r,t]];var p=this.diff_halfMatch_(e,t,s);if(l=s-new Date,l<0)return[[n,e],[r,t]];if(p){var h=p[0],f=p[1],m=p[2],_=p[3],g=p[4],v=this.diff_main(h,m,o,s),y=this.diff_main(f,_,o,s);return v.concat([[i,g]],y)}return o&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,s):this.diff_bisect_(e,t,s)},t.prototype.diff_lineMode_=function(e,t,o){var s=this.diff_linesToChars_(e,t);e=s.chars1,t=s.chars2;var a=s.lineArray,l=this.diff_main(e,t,!1,o);this.diff_charsToLines_(l,a),this.diff_cleanupSemantic(l),l.push([i,""]);for(var c=0,u=0,d=0,p="",h="";c<l.length;){switch(l[c][0]){case r:d++,h+=l[c][1];break;case n:u++,p+=l[c][1];break;case i:if(u>=1&&d>=1){l.splice(c-u-d,u+d),c=c-u-d;for(var s=this.diff_main(p,h,!1,o),f=s.length-1;f>=0;f--)l.splice(c,0,s[f]);c+=s.length}d=0,u=0,p="",h=""}c++}return l.pop(),l},t.prototype.diff_bisect_=function(e,t,i){for(var o=e.length,s=t.length,a=Math.ceil((o+s)/2),l=a,c=2*a,u=Array(c),d=Array(c),p=0;p<c;p++)u[p]=-1,d[p]=-1;u[l+1]=0,d[l+1]=0;for(var h=o-s,f=h%2!=0,m=0,_=0,g=0,v=0,y=0;y<a&&!((new Date).getTime()>i);y++){for(var b=-y+m;b<=y-_;b+=2){var w,x=l+b;w=b==-y||b!=y&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1;for(var k=w-b;w<o&&k<s&&e.charAt(w)==t.charAt(k);)w++,k++;if(u[x]=w,w>o)_+=2;else if(k>s)m+=2;else if(f){var A=l+h-b;if(A>=0&&A<c&&d[A]!=-1){var C=o-d[A];if(w>=C)return this.diff_bisectSplit_(e,t,w,k,i)}}}for(var E=-y+g;E<=y-v;E+=2){var C,A=l+E;C=E==-y||E!=y&&d[A-1]<d[A+1]?d[A+1]:d[A-1]+1;for(var S=C-E;C<o&&S<s&&e.charAt(o-C-1)==t.charAt(s-S-1);)C++,S++;if(d[A]=C,C>o)v+=2;else if(S>s)g+=2;else if(!f){var x=l+h-E;if(x>=0&&x<c&&u[x]!=-1){var w=u[x],k=l+w-x;if(C=o-C,w>=C)return this.diff_bisectSplit_(e,t,w,k,i)}}}}return[[n,e],[r,t]]},t.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),c=this.diff_main(o,s,!1,i),u=this.diff_main(a,l,!1,i);return c.concat(u)},t.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,o=-1,s=r.length;o<e.length-1;){o=e.indexOf("\n",n),o==-1&&(o=e.length-1);var a=e.substring(n,o+1);n=o+1,(i.hasOwnProperty?i.hasOwnProperty(a):void 0!==i[a])?t+=String.fromCharCode(i[a]):(t+=String.fromCharCode(s),i[a]=s,r[s++]=a)}return t}var r=[],i={};r[0]="";var o=n(e),s=n(t);return{chars1:o,chars2:s,lineArray:r}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;
if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),l=t.indexOf(a);if(l==-1)return o;s+=l,0!=l&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t,n){function r(e,t,r){for(var i,o,s,l,c,u=e.substring(r,r+Math.floor(e.length/4)),d=-1,p="",h=0;(d=t.indexOf(u,d+1))!=-1;){if(h+=1,h%100===0&&(c=n-new Date,c<0))return null;var f=a.diff_commonPrefix(e.substring(r),t.substring(d)),m=a.diff_commonSuffix(e.substring(0,r),t.substring(0,d));p.length<m+f&&(p=t.substring(d-m,d)+t.substring(d,d+f),i=e.substring(0,r-m),o=e.substring(r+f),s=t.substring(0,d-m),l=t.substring(d+f))}return 2*p.length>=e.length?[i,o,s,l,p]:null}if(this.Diff_Timeout<=0)return null;var i=e.length>t.length?e:t,o=e.length>t.length?t:e;if(i.length<4||2*o.length<i.length)return null;var s,a=this,l=r(i,o,Math.ceil(i.length/4)),c=r(i,o,Math.ceil(i.length/2));if(!l&&!c)return null;s=c?l&&l[4].length>c[4].length?l:c:l;var u,d,p,h;e.length>t.length?(u=s[0],d=s[1],p=s[2],h=s[3]):(p=s[0],h=s[1],u=s[2],d=s[3]);var f=s[4];return[u,d,p,h,f]},t.prototype.diff_cleanupSemantic=function(e){for(var t=!1,o=[],s=0,a=null,l=0,c=0,u=0,d=0,p=0;l<e.length;)e[l][0]==i?(o[s++]=l,c=d,u=p,d=0,p=0,a=e[l][1]):(e[l][0]==r?d+=e[l][1].length:p+=e[l][1].length,a&&a.length<=Math.max(c,u)&&a.length<=Math.max(d,p)&&(e.splice(o[s-1],0,[n,a]),e[o[s-1]+1][0]=r,s--,s--,l=s>0?o[s-1]:-1,c=0,u=0,d=0,p=0,a=null,t=!0)),l++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),l=1;l<e.length;){if(e[l-1][0]==n&&e[l][0]==r){var h=e[l-1][1],f=e[l][1],m=this.diff_commonOverlap_(h,f),_=this.diff_commonOverlap_(f,h);m>=_?(m>=h.length/2||m>=f.length/2)&&(e.splice(l,0,[i,f.substring(0,m)]),e[l-1][1]=h.substring(0,h.length-m),e[l+1][1]=f.substring(m),l++):(_>=h.length/2||_>=f.length/2)&&(e.splice(l,0,[i,h.substring(0,_)]),e[l-1][0]=r,e[l-1][1]=f.substring(0,f.length-_),e[l+1][0]=n,e[l+1][1]=h.substring(_),l++),l++}l++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&r.match(t.whitespaceRegex_),l=s&&i.match(t.whitespaceRegex_),c=a&&r.match(t.linebreakRegex_),u=l&&i.match(t.linebreakRegex_),d=c&&e.match(t.blanklineEndRegex_),p=u&&n.match(t.blanklineStartRegex_);return d||p?5:c||u?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var r=1;r<e.length-1;){if(e[r-1][0]==i&&e[r+1][0]==i){var o=e[r-1][1],s=e[r][1],a=e[r+1][1],l=this.diff_commonSuffix(o,s);if(l){var c=s.substring(s.length-l);o=o.substring(0,o.length-l),s=c+s.substring(0,s.length-l),a=c+a}for(var u=o,d=s,p=a,h=n(o,s)+n(s,a);s.charAt(0)===a.charAt(0);){o+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var f=n(o,s)+n(s,a);f>=h&&(h=f,u=o,d=s,p=a)}e[r-1][1]!=u&&(u?e[r-1][1]=u:(e.splice(r-1,1),r--),e[r][1]=d,p?e[r+1][1]=p:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,o=[],s=0,a=null,l=0,c=!1,u=!1,d=!1,p=!1;l<e.length;)e[l][0]==i?(e[l][1].length<this.Diff_EditCost&&(d||p)?(o[s++]=l,c=d,u=p,a=e[l][1]):(s=0,a=null),d=p=!1):(e[l][0]==n?p=!0:d=!0,a&&(c&&u&&d&&p||a.length<this.Diff_EditCost/2&&c+u+d+p==3)&&(e.splice(o[s-1],0,[n,a]),e[o[s-1]+1][0]=r,s--,a=null,c&&u?(d=p=!0,s=0):(s--,l=s>0?o[s-1]:-1,d=p=!1),t=!0)),l++;t&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push([i,""]);for(var t,o=0,s=0,a=0,l="",c="";o<e.length;)switch(e[o][0]){case r:a++,c+=e[o][1],o++;break;case n:s++,l+=e[o][1],o++;break;case i:s+a>1?(0!==s&&0!==a&&(t=this.diff_commonPrefix(c,l),0!==t&&(o-s-a>0&&e[o-s-a-1][0]==i?e[o-s-a-1][1]+=c.substring(0,t):(e.splice(0,0,[i,c.substring(0,t)]),o++),c=c.substring(t),l=l.substring(t)),t=this.diff_commonSuffix(c,l),0!==t&&(e[o][1]=c.substring(c.length-t)+e[o][1],c=c.substring(0,c.length-t),l=l.substring(0,l.length-t))),0===s?e.splice(o-a,s+a,[r,c]):0===a?e.splice(o-s,s+a,[n,l]):e.splice(o-s-a,s+a,[n,l],[r,c]),o=o-s-a+(s?1:0)+(a?1:0)+1):0!==o&&e[o-1][0]==i?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,a=0,s=0,l="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(o=1;o<e.length-1;)e[o-1][0]==i&&e[o+1][0]==i&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),u=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),u=!0)),o++;u&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var i,o=0,s=0,a=0,l=0;for(i=0;i<e.length&&(e[i][0]!==r&&(o+=e[i][1].length),e[i][0]!==n&&(s+=e[i][1].length),!(o>t));i++)a=o,l=s;return e.length!=i&&e[i][0]===n?l:l+(t-a)},t.prototype.diff_prettyHtml=function(e){for(var t=[],o=/&/g,s=/</g,a=/>/g,l=/\n/g,c=0;c<e.length;c++){var u=e[c][0],d=e[c][1],p=d.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&para;<br>");switch(u){case r:t[c]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case n:t[c]='<del style="background:#ffe6e6;">'+p+"</del>";break;case i:t[c]="<span>"+p+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,o=0,s=0,a=0;a<e.length;a++){var l=e[a][0],c=e[a][1];switch(l){case r:o+=c.length;break;case n:s+=c.length;break;case i:t+=Math.max(o,s),o=0,s=0}}return t+=Math.max(o,s)},t.prototype.diff_toDelta=function(e){for(var t=[],o=0;o<e.length;o++)switch(e[o][0]){case r:t[o]="+"+encodeURI(e[o][1]);break;case n:t[o]="-"+e[o][1].length;break;case i:t[o]="="+e[o][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,t){for(var o=[],s=0,a=0,l=t.split(/\t/g),c=0;c<l.length;c++){var u=l[c].substring(1);switch(l[c].charAt(0)){case"+":try{o[s++]=[r,decodeURI(u)]}catch(e){throw Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var d=parseInt(u,10);if(isNaN(d)||d<0)throw Error("Invalid number in diff_fromDelta: "+u);var p=e.substring(a,a+=d);"="==l[c].charAt(0)?o[s++]=[i,p]:o[s++]=[n,p];break;default:if(l[c])throw Error("Invalid diff operation in diff_fromDelta: "+l[c])}}if(a!=e.length)throw Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return o},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){function r(e,r){var i=e/t.length,s=Math.abs(n-r);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),o=this,s=this.Match_Threshold,a=e.indexOf(t,n);a!=-1&&(s=Math.min(r(0,a),s),a=e.lastIndexOf(t,n+t.length),a!=-1&&(s=Math.min(r(0,a),s)));var l=1<<t.length-1;a=-1;for(var c,u,d,p=t.length+e.length,h=0;h<t.length;h++){for(c=0,u=p;c<u;)r(h,n+u)<=s?c=u:p=u,u=Math.floor((p-c)/2+c);p=u;var f=Math.max(1,n-u+1),m=Math.min(n+u,e.length)+t.length,_=Array(m+2);_[m+1]=(1<<h)-1;for(var g=m;g>=f;g--){var v=i[e.charAt(g-1)];if(0===h?_[g]=(_[g+1]<<1|1)&v:_[g]=(_[g+1]<<1|1)&v|((d[g+1]|d[g])<<1|1)|d[g+1],_[g]&l){var y=r(h,g-1);if(y<=s){if(s=y,a=g-1,!(a>n))break;f=Math.max(1,2*n-a)}}}if(r(h+1,n)>s)break;d=_}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var o=t.substring(e.start2-r,e.start2);o&&e.diffs.unshift([i,o]);var s=t.substring(e.start2+e.length1,e.start2+e.length1+r);s&&e.diffs.push([i,s]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t.prototype.patch_make=function(e,o,s){var a,l;if("string"==typeof e&&"string"==typeof o&&void 0===s)a=e,l=this.diff_main(a,o,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(e&&"object"==typeof e&&void 0===o&&void 0===s)l=e,a=this.diff_text1(l);else if("string"==typeof e&&o&&"object"==typeof o&&void 0===s)a=e,l=o;else{if("string"!=typeof e||"string"!=typeof o||!s||"object"!=typeof s)throw Error("Unknown call format to patch_make.");a=e,l=s}if(0===l.length)return[];for(var c=[],u=new t.patch_obj,d=0,p=0,h=0,f=a,m=a,_=0;_<l.length;_++){var g=l[_][0],v=l[_][1];switch(d||g===i||(u.start1=p,u.start2=h),g){case r:u.diffs[d++]=l[_],u.length2+=v.length,m=m.substring(0,h)+v+m.substring(h);break;case n:u.length1+=v.length,u.diffs[d++]=l[_],m=m.substring(0,h)+m.substring(h+v.length);break;case i:v.length<=2*this.Patch_Margin&&d&&l.length!=_+1?(u.diffs[d++]=l[_],u.length1+=v.length,u.length2+=v.length):v.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(u,f),c.push(u),u=new t.patch_obj,d=0,f=m,p=h)}g!==r&&(p+=v.length),g!==n&&(h+=v.length)}return d&&(this.patch_addContext_(u,f),c.push(u)),c},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=i.diffs[s].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var o=this.patch_addPadding(e);t=o+t+o,this.patch_splitMax(e);for(var s=0,a=[],l=0;l<e.length;l++){var c,u=e[l].start2+s,d=this.diff_text1(e[l].diffs),p=-1;if(d.length>this.Match_MaxBits?(c=this.match_main(t,d.substring(0,this.Match_MaxBits),u),c!=-1&&(p=this.match_main(t,d.substring(d.length-this.Match_MaxBits),u+d.length-this.Match_MaxBits),(p==-1||c>=p)&&(c=-1))):c=this.match_main(t,d,u),c==-1)a[l]=!1,s-=e[l].length2-e[l].length1;else{a[l]=!0,s=c-u;var h;if(h=p==-1?t.substring(c,c+d.length):t.substring(c,p+this.Match_MaxBits),d==h)t=t.substring(0,c)+this.diff_text2(e[l].diffs)+t.substring(c+d.length);else{var f=this.diff_main(d,h,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(f)/d.length>this.Patch_DeleteThreshold)a[l]=!1;else{this.diff_cleanupSemanticLossless(f);for(var m,_=0,g=0;g<e[l].diffs.length;g++){var v=e[l].diffs[g];v[0]!==i&&(m=this.diff_xIndex(f,_)),v[0]===r?t=t.substring(0,c+m)+v[1]+t.substring(c+m):v[0]===n&&(t=t.substring(0,c+m)+t.substring(c+this.diff_xIndex(f,_+v[1].length))),v[0]!==n&&(_+=v[1].length)}}}}}return t=t.substring(o.length,t.length-o.length),[t,a]},t.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;r<=t;r++)n+=String.fromCharCode(r);for(var r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var o=e[0],s=o.diffs;if(0==s.length||s[0][0]!=i)s.unshift([i,n]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>s[0][1].length){var a=t-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}if(o=e[e.length-1],s=o.diffs,0==s.length||s[s.length-1][0]!=i)s.push([i,n]),o.length1+=t,o.length2+=t;else if(t>s[s.length-1][1].length){var a=t-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,a),o.length1+=a,o.length2+=a}return n},t.prototype.patch_splitMax=function(e){for(var o=this.Match_MaxBits,s=0;s<e.length;s++)if(!(e[s].length1<=o)){var a=e[s];e.splice(s--,1);for(var l=a.start1,c=a.start2,u="";0!==a.diffs.length;){var d=new t.patch_obj,p=!0;for(d.start1=l-u.length,d.start2=c-u.length,""!==u&&(d.length1=d.length2=u.length,d.diffs.push([i,u]));0!==a.diffs.length&&d.length1<o-this.Patch_Margin;){var h=a.diffs[0][0],f=a.diffs[0][1];h===r?(d.length2+=f.length,c+=f.length,d.diffs.push(a.diffs.shift()),p=!1):h===n&&1==d.diffs.length&&d.diffs[0][0]==i&&f.length>2*o?(d.length1+=f.length,l+=f.length,p=!1,d.diffs.push([h,f]),a.diffs.shift()):(f=f.substring(0,o-d.length1-this.Patch_Margin),d.length1+=f.length,l+=f.length,h===i?(d.length2+=f.length,c+=f.length):p=!1,d.diffs.push([h,f]),f==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(f.length))}u=this.diff_text2(d.diffs),u=u.substring(u.length-this.Patch_Margin);var m=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);""!==m&&(d.length1+=m.length,d.length2+=m.length,0!==d.diffs.length&&d.diffs[d.diffs.length-1][0]===i?d.diffs[d.diffs.length-1][1]+=m:d.diffs.push([i,m])),p||e.splice(++s,0,d)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var o=[];if(!e)return o;for(var s=e.split("\n"),a=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<s.length;){var c=s[a].match(l);if(!c)throw Error("Invalid patch string: "+s[a]);var u=new t.patch_obj;for(o.push(u),u.start1=parseInt(c[1],10),""===c[2]?(u.start1--,u.length1=1):"0"==c[2]?u.length1=0:(u.start1--,u.length1=parseInt(c[2],10)),u.start2=parseInt(c[3],10),""===c[4]?(u.start2--,u.length2=1):"0"==c[4]?u.length2=0:(u.start2--,u.length2=parseInt(c[4],10)),a++;a<s.length;){var d=s[a].charAt(0);try{var p=decodeURI(s[a].substring(1))}catch(e){throw Error("Illegal escape in patch_fromText: "+p)}if("-"==d)u.diffs.push([n,p]);else if("+"==d)u.diffs.push([r,p]);else if(" "==d)u.diffs.push([i,p]);else{if("@"==d)break;if(""!==d)throw Error('Invalid patch mode "'+d+'" in: '+p)}a++}}return o},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var o,s=["@@ -"+e+" +"+t+" @@\n"],a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case r:o="+";break;case n:o="-";break;case i:o=" "}s[a+1]=o+encodeURI(this.diffs[a][1])+"\n"}return s.join("").replace(/%20/g," ")},this.diff_match_patch=t,this.DIFF_DELETE=n,this.DIFF_INSERT=r,this.DIFF_EQUAL=i},,,function(e,exports){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}e.exports=function(e){return null!=e&&(t(e)||n(e)||!!e._isBuffer)}},function(e,exports,t){exports.parse=t(423),exports.stringify=t(424)},function(e,exports){var t,n,r,i,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:t,text:r}},a=function(e){return e&&e!==n&&s("Expected '"+e+"' instead of '"+n+"'"),n=r.charAt(t),t+=1,n},l=function(){var e,t="";for("-"===n&&(t="-",a("-"));n>="0"&&n<="9";)t+=n,a();if("."===n)for(t+=".";a()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,a(),"-"!==n&&"+"!==n||(t+=n,a());n>="0"&&n<="9";)t+=n,a();return e=+t,isFinite(e)?e:void s("Bad number")},c=function(){var e,t,r,i="";if('"'===n)for(;a();){if('"'===n)return a(),i;if("\\"===n)if(a(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(a(),16),isFinite(e));t+=1)r=16*r+e;i+=String.fromCharCode(r)}else{if("string"!=typeof o[n])break;i+=o[n]}else i+=n}s("Bad string")},u=function(){for(;n&&n<=" ";)a()},d=function(){switch(n){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}s("Unexpected '"+n+"'")},p=function(){var e=[];if("["===n){if(a("["),u(),"]"===n)return a("]"),e;for(;n;){if(e.push(i()),u(),"]"===n)return a("]"),e;a(","),u()}}s("Bad array")},h=function(){var e,t={};if("{"===n){if(a("{"),u(),"}"===n)return a("}"),t;for(;n;){if(e=c(),u(),a(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=i(),u(),"}"===n)return a("}"),t;a(","),u()}}s("Bad object")};i=function(){switch(u(),n){case"{":return h();case"[":return p();case'"':return c();case"-":return l();default:return n>="0"&&n<="9"?l():d()}},e.exports=function(e,o){var a;return r=e,t=0,n=" ",a=i(),u(),n&&s("Syntax error"),"function"==typeof o?function e(t,n){var r,i,s=t[n];if(s&&"object"==typeof s)for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i=e(s,r),void 0!==i?s[r]=i:delete s[r]);return o.call(t,n,s)}({"":a},""):a}},function(e,exports){function t(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,s){var a,l,c,u,d,p=r,h=s[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof o&&(h=o.call(s,e,h)),typeof h){case"string":return t(h);case"number":return isFinite(h)?h+"":"null";case"boolean":case"null":return h+"";case"object":if(!h)return"null";if(r+=i,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(u=h.length,a=0;a<u;a+=1)d[a]=n(a,h)||"null";return c=0===d.length?"[]":r?"[\n"+r+d.join(",\n"+r)+"\n"+p+"]":"["+d.join(",")+"]",r=p,c}if(o&&"object"==typeof o)for(u=o.length,a=0;a<u;a+=1)l=o[a],"string"==typeof l&&(c=n(l,h),c&&d.push(t(l)+(r?": ":":")+c));else for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(c=n(l,h),c&&d.push(t(l)+(r?": ":":")+c));return c=0===d.length?"{}":r?"{\n"+r+d.join(",\n"+r)+"\n"+p+"}":"{"+d.join(",")+"}",r=p,c}}var r,i,o,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(e,t,s){var a;if(r="",i="","number"==typeof s)for(a=0;a<s;a+=1)i+=" ";else"string"==typeof s&&(i=s);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return n("",{"":e})}},function(e,exports,t){var n=t(426),r=t(427),i=r;i.v1=n,i.v4=r,e.exports=i},function(e,exports,t){function n(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var u=void 0!==e.clockseq?e.clockseq:a,d=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:c+1,h=d-l+(p-c)/1e4;if(h<0&&void 0===e.clockseq&&(u=u+1&16383),(h<0||d>l)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=d,c=p,a=u,d+=122192928e5;var f=(1e4*(268435455&d)+p)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var m=d/4294967296*1e4&268435455;o[r++]=m>>>8&255,o[r++]=255&m,o[r++]=m>>>24&15|16,o[r++]=m>>>16&255,o[r++]=u>>>8|128,o[r++]=255&u;for(var _=e.node||s,g=0;g<6;++g)o[r+g]=_[g];return t?t:i(o)}var r=t(207),i=t(206),o=r(),s=[1|o[0],o[1],o[2],o[3],o[4],o[5]],a=16383&(o[6]<<8|o[7]),l=0,c=0;e.exports=n},function(e,exports,t){function n(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}var r=t(207),i=t(206);e.exports=n},function(e,exports){exports.version=1494252317,exports.min_browser_version=1494018348,exports.min_project_version=1494037382},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function n(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return e.indexOf(t)!=-1}function r(t,n,r){var i=t.getCursor(),s=r(t,i),a=s;if(/^[\w$_]*$/.test(s.string)||(s=a={start:i.ch,end:i.ch,string:"",state:s.state,className:":"==s.string?"python-type":null}),!l)var l=[];l.push(a);var c=o(s,l);return c=c.sort(),{list:c,from:e.Pos(i.line,s.start),to:e.Pos(i.line,s.end)}}function i(e){return r(e,l,function(e,t){return e.getTokenAt(t)})}function o(e,r){function i(e){0!=e.lastIndexOf(c,0)||n(s,e)||s.push(e)}function o(e){t(u,i),t(d,i),t(a,i),t(l,i)}var s=[],c=e.string;if(r){var p,h=r.pop();for("variable"==h.type?p=h.string:"variable-3"==h.type&&(p=":"+h.string);null!=p&&r.length;)p=p[r.pop().string];null!=p&&o(p)}return s}e.registerHelper("hint","python",i);var s="and del from not while as elif global or with assert else if pass yieldbreak except import print class exec in raise continue finally is return def for lambda try",a=s.split(" "),l=s.toUpperCase().split(" "),c="abs divmod input open staticmethod all enumerate int ord str any eval isinstance pow sum basestring execfile issubclass print superbin file iter property tuple bool filter len range typebytearray float list raw_input unichr callable format locals reduce unicodechr frozenset long reload vars classmethod getattr map repr xrangecmp globals max reversed zip compile hasattr memoryview round __import__complex hash min set apply delattr help next setattr bufferdict hex object slice coerce dir id oct sorted intern ",u=c.split(" ").join("() ").split(" "),d=c.toUpperCase().split(" ").join("() ").split(" ")})},function(e,exports){"use strict";function t(e,t){return"string"==typeof e?e=RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);return n&&n.index==t.pos?(t.pos+=n[0].length||1,"searching"):void(n?t.pos=n.index:t.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,i(t))}function s(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){m(e)},onKeyDown:i})}function a(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function l(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function c(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function u(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=RegExp(t[1],t[2].indexOf("i")==-1?"":"i")}catch(e){}else e=c(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function d(e,n,r){n.queryText=r,n.query=u(r),e.removeOverlay(n.overlay,i(n.query)),n.overlay=t(n.query,i(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,i(n.query)))}function p(e,t,n,i){var o=r(e);if(o.query)return f(e,t);var l=e.getSelection()||o.lastQuery;if(n&&e.openDialog){var c=null,u=function(t,n){CodeMirror.e_stop(n),t&&(t!=o.queryText&&(d(e,o,t),o.posFrom=o.posTo=e.getCursor()),c&&(c.style.opacity=1),f(e,n.shiftKey,function(t,n){var r;n.line<3&&document.querySelector&&(r=e.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>e.cursorCoords(n,"window").top&&((c=r).style.opacity=.4)}))};s(e,v,l,u,function(t,n){var i=CodeMirror.keyName(t),o=CodeMirror.keyMap[e.getOption("keyMap")][i];o||(o=e.getOption("extraKeys")[i]),"findNext"==o||"findPrev"==o||"findPersistentNext"==o||"findPersistentPrev"==o?(CodeMirror.e_stop(t),d(e,r(e),n),e.execCommand(o)):"find"!=o&&"findPersistent"!=o||(CodeMirror.e_stop(t),u(n,t))}),i&&l&&(d(e,o,l),f(e,t))}else a(e,v,"Search for:",l,function(n){n&&!o.query&&e.operation(function(){d(e,o,n),o.posFrom=o.posTo=e.getCursor(),f(e,t)})})}function h(e,t){for(var n=e.findMarksAt(t),r=0;r<n.length;r++)if(n[r].collapsed)return!0;return!1}function f(e,t,n){e.operation(function(){var i=r(e),s=o(e,i.query,t?i.posFrom:i.posTo);return s.find(t)||(s=o(e,i.query,t?CodeMirror.Pos(e.lastLine()):CodeMirror.Pos(e.firstLine(),0)),s.find(t))?(e.setSelection(s.from(),s.to()),e.scrollIntoView({from:s.from(),to:s.to()},20),i.posFrom=s.from(),i.posTo=s.to(),!h(e,i.posFrom)||i.init&&i.init.ch==i.posFrom.ch&&i.init.line==i.posFrom.line?(i.init=!1,void(n&&n(s.from(),s.to()))):(i.init||(i.init={line:i.posFrom.line,ch:i.posFrom.ch}),void f(e,t,n))):void(i.init=!1)})}function m(e){e.operation(function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function _(e,t,n){e.operation(function(){for(var r=o(e,t);r.findNext();)if(!h(e,r.from()))if("string"!=typeof t){var i=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,function(e,t){return i[t]}))}else r.replace(n)})}function g(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,i=t?"Replace all:":"Replace:";a(e,i+y,i,n,function(n){n&&(n=u(n),a(e,b,"Replace with:","",function(r){if(r=c(r),t)_(e,n,r);else{m(e);var i=o(e,n,e.getCursor("from")),s=!1,a=function(){var t,c=i.from();if(!(t=i.findNext())&&(i=o(e,n),!(t=i.findNext())||c&&i.from().line==c.line&&i.from().ch==c.ch))return void(s=!1);e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()});var d=i.from();return!h(e,d)||s&&s.ch==d.ch&&s.line==d.line?(s=!1,void l(e,w,"Replace?",[function(){u(t)},a,function(){_(e,n,r)}])):(s||(s={line:d.line,ch:d.ch}),void a())},u=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),a()};a()}}))})}}if("MacIntel"==navigator.platform)var v='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #666" class="CodeMirror-search-hint">Hit enter, then Next (⌘-G) and Prev (Shift-⌘-G). Use /re/ for regular expression.';else var v='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #666" class="CodeMirror-search-hint">Hit enter, then Next (Ctrl-G) and Prev (Shift-Ctrl-G). Use /re/ for regular expression.';var y=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #666" class="CodeMirror-search-hint">Hit enter (use /re/ syntax for regular expression search)</span>',b='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',w="Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>";CodeMirror.commands.find=function(e){m(e),p(e)},CodeMirror.commands.findNext=p,CodeMirror.commands.findPrev=function(e){p(e,!0)},CodeMirror.commands.findPersistent=function(e){m(e),p(e,!1,!0)},CodeMirror.commands.findPersistentNext=function(e){p(e,!1,!0,!0)},CodeMirror.commands.findPersistentPrev=function(e){p(e,!0,!0,!0)},CodeMirror.commands.findPersistent=function(e){m(e),p(e,!1,!0)},CodeMirror.commands.findPersistentNext=function(e){p(e,!1,!0,!0)},CodeMirror.commands.findPersistentPrev=function(e){p(e,!0,!0,!0)},CodeMirror.commands.clearSearch=m,CodeMirror.commands.replace=g,CodeMirror.commands.replaceAll=function(e){g(e,!0)}},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("coffeescript2",function(e,t){var n=["false","no","null","off","on","true","undefined","Infinity","NaN"],r=["and","break","by","catch","class","continue","debugger","delete","do","else","extends","finally","for","if","in","instanceof","is","isnt","loop","new","not","of","or","return","super","switch","then","this","throw","try","typeof","unless","until","when","while","yield"],i=n.join("|"),o="[a-zA-Z\\$_][\\w\\$]*",s=r.join("|"),a="((?:0(?:(?:[bB][01]+)|(?:[oO][0-7]+)|(?:[xX][0-9a-fA-F]+)))|(?:[\\d]*\\.?[\\d]+(?:e[\\+\\-]\\d+)?))",l="\\/((?![*+?\\s])(?:[^\\r\\n\\[/\\\\]|\\\\.|\\[(?:[^\\r\\n\\]\\\\]|\\\\.)*\\])+)\\/",c="\\b(([gimuy])(?![gimuy]*\\2))+\\b",u="[^\\w\\$]",d="[^a-z]",p="([^0-9a-fA-FoxOX\\+\\-\\.]|\\.{2,})",h="[\\t ]*",f="[a-zA-Z:_][a-zA-Z0-9:_\\-\\.]*",m="(?:\"(?:(?:\\\")|[^\"])*\")|(?:'(?:(?:\\')|[^'])*')",_="(?:\\{[\\s\\S]*?\\})",g="<\\/?("+f+")(?: (?:"+m+"|"+_+"|[^<>\"'])*?)?(?:\\/)?"+h+">";return{token:function(e,n){var r="";if(n.isolated?e.sol()||(e.backUp(1),e.match(RegExp("^"+u),!1)||(n.isolated=!1),e.next()):e.sol()?n.isolated=!0:(e.backUp(1),e.match(RegExp("^"+u),!1)&&(n.isolated=!0),e.next()),t.cjsx){if(n.xml_element)e.match(/^\/?>/)&&(n.xml_attribute=!1,n.xml_element=!1,n.xml_string=!1,n.xml_value=!1,r="keyword");else if(!n.string_interpolated&&!n.string_literal&&!n.regexp&&!n.regexp_block&&e.match(RegExp("^"+g),!1))return n.xml_element=!0,e.match(RegExp("<\\/?"+f)),"keyword";if(n.xml_element){if(n.xml_attribute){if(e.match(/^(?:\/>)|[\t=> ]/))return n.xml_attribute=!1,r;r="number"}else n.isolated&&!n.xml_string&&!n.xml_value&&e.match(RegExp("^"+o),!1)&&(n.xml_attribute=!0,r="number");if(e.match(RegExp("^"+m)))return"string";if(n.xml_value){if(e.match(/^\}/))return n.xml_value=!1,"minus"}else e.match(RegExp("^"+_),!1)&&(n.xml_value=!0,r="minus");if(!n.xml_value)return e.next(),r}}return n.parameter_list?e.match(/^\)/,!1)&&(n.parameter_list=!1):e.match(/^\([^\n\r\(\)]*\)[\t ]*(->|=>)/,!1)&&(n.parameter_list=!0),n.parameter&&(e.sol()||e.match(RegExp("^"+u),!1)?n.parameter=!1:r="def"),n.parameter_list&&e.match(RegExp("^"+o),!1)&&(n.parameter=!0,r="def"),!n.isolated||n.string_interpolated||n.string_literal||n.comment_block||n.comment_line||!e.match(RegExp("^@"))?(n.keyword&&(e.sol()||e.match(RegExp("^"+d),!1)?n.keyword=!1:r="keyword"),n.isolated&&e.match(RegExp("^("+s+")("+u+"|$)"),!1)&&(n.keyword=!0,r="keyword"),n.constant&&(e.sol()||e.match(RegExp("^"+d),!1)?n.constant=!1:r="string"),n.isolated&&e.match(RegExp("^("+i+")("+u+"|$)"),!1)&&(n.constant=!0,r="string"),n.function&&(e.sol()||e.match(/^(:|=)/,!1)?n.function=!1:r="def"),e.match(RegExp("^"+o+h+"(:|=)"+h+"(\\([^\\n\\r]+\\))?"+h+"(->|=>)"),!1)&&(n.function=!0,r="def"),n.property?e.sol()||e.match(/^:/,!1)?n.property=!1:r="def":n.regexp||n.regexp_block||n.string_interpolated||n.string_literal||!e.match(RegExp("^("+o+"|((\"|')?(?:(?:(?!\\3).)|\\\\\\3)*\\3))"+h+":"),!1)||(n.property=!0,r="def"),n.variable&&(e.sol()||e.match(/^[=\[]/,!1)?n.variable=!1:r="def"),e.match(RegExp("^"+o+"(\\[.*\\])*"+h+"=([^=]|$)"),!1)&&(n.variable=!0,r="def"),n.method&&(e.sol()||e.match(RegExp("^"+u),!1)?n.method=!1:r="def"),e.match(RegExp("^\\."+o),!1)&&(n.method=!0),n.number&&(e.sol()||e.match(RegExp("^"+p),!1)?n.number=!1:r="number"),n.isolated&&e.match(RegExp("^"+a+"("+u+"|$)"),!1)&&(e.backUp(1),e.match(/^\.{2,}/,!1)||(n.number=!0,r="number"),e.next()),n.string_interpolated?e.match(/^\\{2}/,!1)||e.match(/^\\"/,!1)?(r="string",e.next()):e.match(/^"/,!1)?(n.string_interpolated=!1,r="string"):r="string":n.comment_block||n.comment_line||n.regexp||n.regexp_block||n.property||n.string_literal||!e.match(/^"/,!1)||(n.string_interpolated=!0,r="string"),n.string_literal?e.match(/^\\{2}/,!1)||e.match(/^\\'/,!1)?(r="string",e.next()):e.match(/^'/,!1)?(n.string_literal=!1,r="string"):r="string":n.comment_block||n.comment_line||n.regexp||n.regexp_block||n.property||n.string_interpolated||!e.match(/^'/,!1)||(n.string_literal=!0,r="string"),n.regexp_block?e.match(/^\/{3}/,!1)?(n.regexp_block=!1,r="string",e.next(),e.next(),e.next(),e.match(RegExp("^"+c)),e.backUp(1)):r="string":n.string_interpolated||n.string_literal||!e.match(/^\/{3}/,!1)||(n.regexp_block=!0,r="string"),n.regexp?e.match(/^\\\\\//,!1)?(n.regexp=!1,r="string",e.next(),e.next(),e.next(),e.match(RegExp("^"+c)),e.backUp(1)):e.match(/^\\\//,!1)?(r="string",e.next()):e.sol()||e.match(/^\//,!1)?(n.regexp=!1,r="string",e.next(),e.match(RegExp("^"+c)),e.backUp(1)):r="string":n.regexp_block||n.string_interpolated||n.string_literal||!e.match(RegExp("^"+l),!1)||(n.regexp=!0,r="string"),n.comment_block?e.match(/^#{3}/,!1)?(n.comment_block=!1,r="comment",e.next(),e.next()):r="comment":n.regexp||n.regexp_block||n.string_interpolated||n.string_literal||!e.match(/^#{3}/,!1)||(n.comment_block=!0,r="comment",e.next(),e.next()),e.sol()&&(n.comment_line=!1),n.comment_line?r="comment":n.comment_block||n.regexp||n.regexp_block||n.string_interpolated||n.string_literal||!e.match(/^#/,!1)?n.regexp_block&&e.match(/^[\t ]+#/,!1)&&(n.comment_line=!0,r="comment"):e.column()>1?(e.backUp(2),e.match(/^#{3}/,!1)||(n.comment_line=!0,
r="comment"),e.next(),e.next()):(n.comment_line=!0,r="comment"),n.string_interpolation?n.comment_block||n.regexp||n.regexp_block||n.string_interpolated||n.string_literal||!e.match(/^\}/,!1)||(n.string_interpolation=!1,n.string_interpolated=!0,r="minus"):n.string_interpolated&&e.match(/^#\{/,!1)&&(n.string_interpolation=!0,n.string_interpolated=!1,r="minus",e.next()),e.next(),r):(n.method=!0,"keyword")},startState:function(){return{comment_block:!1,comment_line:!1,constant:!1,function:!1,isolated:!1,keyword:!1,method:!1,number:!1,parameter:!1,parameter_list:!1,property:!1,regexp:!1,regexp_block:!1,string_interpolated:!1,string_interpolation:!1,string_literal:!1,variable:!1,xml_attribute:!1,xml_element:!1,xml_string:!1,xml_value:!1}},lineComment:"#",fold:"indent"}}),e.defineMIME("text/cjsx",{cjsx:!0,name:"coffeescript2"}),e.defineMIME("text/coffeescript2",{cjsx:!1,name:"coffeescript2"})})},function(e,exports){CodeMirror.defineMode("less",function(e){function t(e,t){return a=t,e}function n(e,n){var l=e.next();if("@"==l)return e.eatWhile(/[\w\-]/),t("meta",e.current());if("/"==l&&e.eat("*"))return n.tokenize=i,i(e,n);if("<"==l&&e.eat("!"))return n.tokenize=o,o(e,n);if("="==l)t(null,"compare");else{if("|"==l&&e.eat("="))return t(null,"compare");if('"'==l||"'"==l)return n.tokenize=s(l),n.tokenize(e,n);if("/"==l){if(e.eat("/"))return n.tokenize=r,r(e,n);if("string"==a||"("==a)return t("string","string");if(void 0!==n.stack[n.stack.length-1])return t(null,l);if(e.eatWhile(/[\a-zA-Z0-9\-_.\s]/),/\/|\)|#/.test(e.peek()||e.eatSpace()&&")"===e.peek())||e.eol())return t("string","string")}else{if("!"==l)return e.match(/^\s*\w*/),t("keyword","important");if(/\d/.test(l))return e.eatWhile(/[\w.%]/),t("number","unit");if(/[,+<>*\/]/.test(l))return"="==e.peek()||"a"==a?t("string","string"):","===l?t(null,l):t(null,"select-op");if(/[;{}:\[\]()~\|]/.test(l)){if(":"==l)return e.eatWhile(/[a-z\\\-]/),c.test(e.current())?t("tag","tag"):":"==e.peek()?(e.next(),e.eatWhile(/[a-z\\\-]/),e.current().match(/\:\:\-(o|ms|moz|webkit)\-/)?t("string","string"):c.test(e.current().substring(1))?t("tag","tag"):t(null,l)):t(null,l);if("~"!=l)return t(null,l);if("r"==a)return t("string","string")}else{if("."==l)return"("==a?t("string","string"):(e.eatWhile(/[\a-zA-Z0-9\-_]/)," "===e.peek()&&e.eatSpace(),")"===e.peek()||":"===a?t("number","unit"):e.current().length>1&&"rule"===n.stack[n.stack.length-1]&&null===e.peek().match(/{|,|\+|\(/)?t("number","unit"):t("tag","tag"));if("#"==l)return e.eatWhile(/[A-Za-z0-9]/),4==e.current().length||7==e.current().length?null!=e.current().match(/[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}/,!1)?e.current().substring(1)!=e.current().match(/[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}/,!1)?t("atom","tag"):(e.eatSpace(),/[\/<>.(){!$%^&*_\-\\?=+\|#'~`]/.test(e.peek())?"select-op"===a?t("number","unit"):t("atom","tag"):"}"==e.peek()?t("number","unit"):/[a-zA-Z\\]/.test(e.peek())?t("atom","tag"):e.eol()?t("atom","tag"):t("number","unit")):(e.eatWhile(/[\w\\\-]/),t("atom",e.current())):(e.eatWhile(/[\w\\\-]/),"rule"===n.stack[n.stack.length-1]?t("atom",e.current()):t("atom",e.current()));if("&"==l)return e.eatWhile(/[\w\-]/),t(null,l);if(e.eatWhile(/[\w\\\-_%.{]/),null===e.current().match(/\\/)){if("string"==a)return"{"===n.stack[n.stack.length-1]&&":"===e.peek()?t("variable","variable"):("/"===e.peek()&&e.eatWhile(/[\w\\\-_%.{:\/]/),t(a,e.current()));if(null!=e.current().match(/(^http$|^https$)/))return e.eatWhile(/[\w\\\-_%.{:\/]/),"/"===e.peek()&&e.eatWhile(/[\w\\\-_%.{:\/]/),t("string","string");if("<"==e.peek()||">"==e.peek()||"+"==e.peek())return"("!==a||"n"!==e.current()&&"-n"!==e.current()?t("tag","tag"):t("string",e.current());if(/\(/.test(e.peek()))return"when"===e.current()?t("variable","variable"):"@media"===n.stack[n.stack.length-1]&&"and"===e.current()?t("variable",e.current()):t(null,l);if("/"==e.peek()&&void 0!==n.stack[n.stack.length-1])return"/"===e.peek()&&e.eatWhile(/[\w\\\-_%.{:\/]/),t("string",e.current());if(e.current().match(/\-\d|\-.\d/))return t("number","unit");if(/\/|[\s\)]/.test(e.peek()||e.eol()||e.eatSpace()&&"/"==e.peek())&&e.current().indexOf(".")!==-1)return"{"==e.current().substring(e.current().length-1,e.current().length)?(e.backUp(1),t("tag","tag")):(e.eatSpace(),/[{<>.a-zA-Z\/]/.test(e.peek())||e.eol()?t("tag","tag"):t("string","string"));if(e.eol()||"["==e.peek()||"#"==e.peek()||"tag"==a){if("{"==e.current().substring(e.current().length-1,e.current().length))e.backUp(1);else{if("border-color"===n.stack[n.stack.length-1]||"background-position"===n.stack[n.stack.length-1]||"font-family"===n.stack[n.stack.length-1])return t(null,e.current());if("tag"===a)return t("tag","tag");if((":"===a||"unit"===a)&&"rule"===n.stack[n.stack.length-1])return t(null,e.current());if("rule"===n.stack[n.stack.length-1]&&"tag"===a)return t("string",e.current());if(";"===n.stack[n.stack.length-1]&&":"===a)return t(null,e.current());if("#"===e.peek()&&void 0!==a&&null===a.match(/\+|,|tag|select\-op|}|{|;/g))return t("string",e.current());if("variable"===a)return t(null,e.current());if("{"===n.stack[n.stack.length-1]&&"comment"===a)return t("variable",e.current());if(0===n.stack.length&&(";"===a||"comment"===a))return t("tag",e.current());if(("{"===n.stack[n.stack.length-1]||";"===a)&&"@media{"!==n.stack[n.stack.length-1])return t("variable",e.current());if("{"===n.stack[n.stack.length-2]&&";"===n.stack[n.stack.length-1])return t("variable",e.current())}return t("tag","tag")}if("compare"==a||"a"==a||"("==a)return t("string","string");if("|"==a||"-"==e.current()||"["==a)return"|"==a&&null!==e.peek().match(/\]|=|\~/)?t("number",e.current()):"|"==a?t("tag","tag"):"["==a?(e.eatWhile(/\w\-/),t("number",e.current())):t(null,l);if(":"==e.peek()||e.eatSpace()&&":"==e.peek()){e.next();var u=":"==e.peek();if(u)e.backUp(1);else{var d=e.pos,p=e.current().length;e.eatWhile(/[a-z\\\-]/);var h=e.pos;if(null!=e.current().substring(p-1).match(c))return e.backUp(h-(d-1)),t("tag","tag");e.backUp(h-(d-1))}return u?t("tag","tag"):t("variable","variable")}return"font-family"===n.stack[n.stack.length-1]||"background-position"===n.stack[n.stack.length-1]||"border-color"===n.stack[n.stack.length-1]?t(null,null):null===n.stack[n.stack.length-1]&&":"===a?t(null,e.current()):/\^|\$/.test(e.current())&&null!==e.peek().match(/\~|=/)?t("string","string"):"unit"===a&&"rule"===n.stack[n.stack.length-1]?t(null,"unit"):"unit"===a&&";"===n.stack[n.stack.length-1]?t(null,"unit"):")"===a&&"rule"===n.stack[n.stack.length-1]?t(null,"unit"):a&&null!==a.match("@")&&"rule"===n.stack[n.stack.length-1]?t(null,"unit"):";"!==a&&"}"!==a&&","!==a||";"!==n.stack[n.stack.length-1]?";"===a&&void 0!==e.peek()&&null===e.peek().match(/{|./)||";"===a&&e.eatSpace()&&null===e.peek().match(/{|./)?t("variable",e.current()):"@media"===a&&"@media"===n.stack[n.stack.length-1]||"@namespace"===a?t("tag",e.current()):"{"===a&&";"===n.stack[n.stack.length-1]&&"{"===e.peek()?t("tag","tag"):"{"!==a&&":"!==a||";"!==n.stack[n.stack.length-1]?"{"===n.stack[n.stack.length-1]&&e.eatSpace()&&null===e.peek().match(/.|#/)||"select-op"===a||"rule"===n.stack[n.stack.length-1]&&","===a?t("tag","tag"):"variable"===a&&"rule"===n.stack[n.stack.length-1]?t("tag","tag"):e.eatSpace()&&"{"===e.peek()||e.eol()||"{"===e.peek()?t("tag","tag"):(")"!==a||"and"!=e.current()&&"and "!=e.current())&&(")"!==a||"when"!=e.current()&&"when "!=e.current())?")"===a||"comment"===a||"{"===a?t("tag","tag"):e.sol()?t("tag","tag"):e.eatSpace()&&"#"===e.peek()||"#"===e.peek()?t("tag","tag"):0===n.stack.length?t("tag","tag"):";"===a&&void 0!==e.peek()&&null!==e.peek().match(/^[.|\#]/g)?t("tag","tag"):":"===a?(e.eatSpace(),t(null,e.current())):"and "===e.current()||"and"===e.current()?t("variable",e.current()):";"===a&&"{"===n.stack[n.stack.length-1]?t("variable",e.current()):"rule"===n.stack[n.stack.length-1]?t(null,e.current()):t("tag",e.current()):t("variable","variable"):t(null,e.current()):t("tag",e.current())}if("\\"===e.current().charAt(e.current().length-1)){for(e.eat(/\'|\"|\)|\(/);e.eatWhile(/[\w\\\-_%.{]/);)e.eat(/\'|\"|\)|\(/);return t("string",e.current())}}}}}function r(e,r){return e.skipToEnd(),r.tokenize=n,t("comment","comment")}function i(e,r){for(var i,o=!1;null!=(i=e.next());){if(o&&"/"==i){r.tokenize=n;break}o="*"==i}return t("comment","comment")}function o(e,r){for(var i,o=0;null!=(i=e.next());){if(o>=2&&">"==i){r.tokenize=n;break}o="-"==i?o+1:0}return t("comment","comment")}function s(e){return function(r,i){for(var o,s=!1;null!=(o=r.next())&&(o!=e||s);)s=!s&&"\\"==o;return s||(i.tokenize=n),t("string","string")}}var a,l=e.indentUnit,c=/(^\:root$|^\:nth\-child$|^\:nth\-last\-child$|^\:nth\-of\-type$|^\:nth\-last\-of\-type$|^\:first\-child$|^\:last\-child$|^\:first\-of\-type$|^\:last\-of\-type$|^\:only\-child$|^\:only\-of\-type$|^\:empty$|^\:link|^\:visited$|^\:active$|^\:hover$|^\:focus$|^\:target$|^\:lang$|^\:enabled^\:disabled$|^\:checked$|^\:first\-line$|^\:first\-letter$|^\:before$|^\:after$|^\:not$|^\:required$|^\:invalid$)/;return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,n){if(e.eatSpace())return null;var r=n.tokenize(e,n),i=n.stack[n.stack.length-1];if("hash"==a&&"rule"==i?r="atom":"variable"==r&&("rule"==i?r=null:i&&"@media{"!=i||(r="when"==e.current()?"variable":/[\s,|\s\)|\s]/.test(e.peek())?"tag":a)),"rule"==i&&/^[\{\};]$/.test(a)&&n.stack.pop(),"{"==a?"@media"==i?n.stack[n.stack.length-1]="@media{":n.stack.push("{"):"}"==a?n.stack.pop():"@media"==a?n.stack.push("@media"):"font-family"===e.current()?n.stack[n.stack.length-1]="font-family":"background-position"===e.current()?n.stack[n.stack.length-1]="background-position":"border-color"===e.current()?n.stack[n.stack.length-1]="border-color":"{"==i&&"comment"!=a&&"tag"!==a?n.stack.push("rule"):":"===e.peek()&&null===e.current().match(/@|#/)&&(r=a),";"!==a||"font-family"!=n.stack[n.stack.length-1]&&"background-position"!=n.stack[n.stack.length-1]&&"border-color"!=n.stack[n.stack.length-1]){if("tag"===a&&")"===e.peek()&&null===e.current().match(/\:/))a=null,r=null;else if("variable"===a&&")"===e.peek()||"variable"===a&&e.eatSpace()&&")"===e.peek())return t(null,e.current())}else n.stack[n.stack.length-1]=e.current();return r},indent:function(e,t){var n=e.stack.length;return/^\}/.test(t)?n-="rule"===e.stack[e.stack.length-1]?2:1:"{"===e.stack[e.stack.length-2]&&(n-="rule"===e.stack[e.stack.length-1]?1:0),e.baseIndent+n*l},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),CodeMirror.defineMIME("text/x-less","less"),CodeMirror.mimeModes.hasOwnProperty("text/css")||CodeMirror.defineMIME("text/css","less")},function(e,exports){CodeMirror.defineMode("makefile",function(){function e(e,s){if(e.eatSpace())return null;var a=e.sol(),l=e.next(),c=e.current();if("@"===l)return"atom";if(a){if("#"===l)return e.eat("!")?(e.skipToEnd(),"meta"):(e.skipToEnd(),"tag");if("i"===l&&(e.match("f ")||e.match("fdef ")||e.match("fndef ")||e.match("feq (")||e.match("fneq (")))return e.skipToEnd(),"bracket";if("e"===l&&(e.match("lse")||e.match("ndif")))return"bracket";if("i"===l&&e.match("nclude "))return"string";if("-"===l&&e.match("include "))return"string";if("v"===l&&e.match("path "))return"string";if((e.match(/^[\w]+[\s]+/)||e.match(/^[\w]+/))&&("="===e.peek()||(e.match("?")||e.match("+")||e.match("-"))&&"="===e.peek()))return"variable-2";if(e.eat(":")||e.match(/^[\w]+:/)||e.match(/^(.)+[\w]+:/)||"$"===l&&e.match(/^\(+[\w]+\)+/)&&e.eat(":"))return"="===e.peek()?"variable-2":"header"}else{if("*"===l)return"quote";if("%"===l)return"atom";if("\\"===l&&e.eol())return"comment";if("#"===l)return e.skipToEnd(),"tag";if((e.eat(":")||e.eat("+"))&&e.peek("="))return"variable-2";if("$"===l&&e.eat("$")&&e.match(/^[\w]+/))return"variable-2";if("$"===l&&e.eat("("))return s.tokens.unshift(i),n(e,s);if("$"===l&&e.eat("{"))return s.tokens.unshift(o),n(e,s);if("$"===l&&(e.eat("@")||e.eat("<")||e.eat("^")))return"quote";if("'"===l||'"'===l||"`"===l)return s.tokens.unshift(t(l)),n(e,s)}return e.eatWhile(/[\w-]/),r.hasOwnProperty(c)?r[c]:null}function t(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());)if(r===e&&!o){i=!0;break}return!i&&o||n.tokens.shift(),")"===e||"}"===e?"variable-2":"string"}}function n(t,n){return(n.tokens[0]||e)(t,n)}var r={},i=function(e,r){return r.tokens.length>1&&e.eat("$"),r.tokens[0]=t(")"),n(e,r)},o=function(e,r){return r.tokens.length>1&&e.eat("$"),r.tokens[0]=t("}"),n(e,r)};return{startState:function(){return{tokens:[]}},token:function(e,t){return n(e,t)},lineComment:"#"}}),CodeMirror.defineMIME("text/x-makefile","makefile")},function(e,exports){!function(e){e(CodeMirror)}(function(e){"use strict";function t(e,t,n){var r;return r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?n+=" mw-mnemonic":t}function n(e,n){return function(r,i,o){o&&r.sol()?i.ownLine=!0:o===!1&&i.ownLine&&(i.ownLine=!1);var s=i.ownLine?n:e;return r.match(/[^&]+/)?s:(r.next(),t(r,s,s))}}e.defineMode("mediawiki",function(n){function r(e,t,n){return t.isBold&&(e+=" strong"),t.isItalic&&(e+=" em"),i(e,t,n)}function i(e,t,n){var r="";switch(t.nTemplate){case 0:break;case 1:r+="-template";break;case 2:r+="-template2";break;default:r+="-template3"}switch(t.nExt){case 0:break;case 1:r+="-ext";break;case 2:r+="-ext2";break;default:r+="-ext3"}return t.nLink>0&&(r+="-link"),""!==r&&(e="mw"+r+"-ground "+e),n&&t[n]--,e}function o(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=r.stack.pop();break}n.next()}return i(e,r)}}function s(e){return function(t,n){return t.skipToEnd(),n.tokenize=n.stack.pop(),i(e,n)}}function a(e,t){return function(n,r){return r.tokenize=r.stack.pop(),n.eat(e)?i(t,r):i("error",r)}}function l(e){return function(t,n){return t.match(/[^&<\[\{~]+/)?(t.eol()&&(t.backUp(e),n.tokenize=s("mw-section-header")),null):T("","")(t,n)}}function c(e,t){return e.match(/[^\{\}\|]+/)?i("mw-templatevariable-name",t):e.eat("|")?(t.tokenize=u,i("mw-templatevariable-delimiter",t)):e.match("}}}")?(t.tokenize=t.stack.pop(),i("mw-templatevariable-bracket",t)):e.match("{{{")?(t.stack.push(t.tokenize),i("mw-templatevariable-bracket",t)):(e.next(),i("mw-templatevariable-name",t))}function u(e,t){return e.match(/[^\{\}\[<\&~]+/)?i("mw-templatevariable",t):e.match("}}}")?(t.tokenize=t.stack.pop(),i("mw-templatevariable-bracket",t)):T("mw-templatevariable","")(e,t)}function d(e,t){return e.match(/#?[^\:\}\{~]+/)?i("mw-parserfunction-name",t):e.eat(":")?(t.tokenize=p,i("mw-parserfunction-delimiter",t)):e.match("}}")?(t.tokenize=t.stack.pop(),i("mw-parserfunction-bracket",t,"nExt")):T("mw-parserfunction","")(e,t)}function p(e,t){return e.match(/[^\|\}\{\[<\&~]+/)?i("mw-parserfunction",t):e.eat("|")?i("mw-parserfunction-delimiter",t):e.match("}}")?(t.tokenize=t.stack.pop(),i("mw-parserfunction-bracket",t,"nExt")):T("mw-parserfunction","")(e,t)}function h(e){return function(t,n){return t.match(/[\s\u00a0]*\|[\s\u00a0]*/)?(n.tokenize=f(!0),i("mw-template-delimiter",n)):t.match(/[\s\u00a0]*\}\}/)?(n.tokenize=n.stack.pop(),i("mw-template-bracket",n,"nTemplate")):e&&t.sol()?(n.nTemplate--,void(n.tokenize=n.stack.pop())):t.match(/[\s\u00a0]*[^\s\u00a0\|\}<\{\&~]+/)?(n.tokenize=h(!0),i("mw-template-name mw-pagename",n)):t.eatSpace()?t.eol()===!0?i("mw-template-name",n):i("mw-template-name mw-pagename",n):T("mw-template-name mw-pagename","mw-template-name-mnemonic mw-pagename")(t,n)}}function f(e){return function(t,n){return e&&t.eatWhile(/[^=\|\}\{\[<\&~]/)?t.eat("=")?(n.tokenize=f(!1),i("mw-template-argument-name",n)):i("mw-template",n):t.eatWhile(/[^\|\}\{\[<\&~]/)?i("mw-template",n):t.eat("|")?(n.tokenize=f(!0),i("mw-template-delimiter",n)):t.match("}}")?(n.tokenize=n.stack.pop(),i("mw-template-bracket",n,"nTemplate")):T("mw-template","")(t,n)}}function m(e){return function(t,n){for(;e>0;)e--,t.next();return t.eol()?(n.nLink--,n.tokenize=n.stack.pop()):n.tokenize=_,i("mw-extlink-protocol",n)}}function _(e,t){return e.sol()?(t.nLink--,void(t.tokenize=t.stack.pop())):e.match(/[\s\u00a0]*\]/)?(t.tokenize=t.stack.pop(),i("mw-extlink-bracket",t,"nLink")):e.eatSpace()?(t.tokenize=g,r("",t)):e.match(/[^\s\u00a0\]\{\&~]+/)||e.eatSpace()?r("mw-extlink",t):T("mw-extlink","")(e,t)}function g(e,t){return e.sol()?(t.nLink--,void(t.tokenize=t.stack.pop())):e.eat("]")?(t.tokenize=t.stack.pop(),i("mw-extlink-bracket",t,"nLink")):e.match(/[^'\]\{\&~]+/)?r("mw-extlink-text",t):T("mw-extlink-text","")(e,t)}function v(e,t){return e.sol()?(t.nLink--,void(t.tokenize=t.stack.pop())):e.match(/[\s\u00a0]*#[\s\u00a0]*/)?(t.tokenize=y,i("mw-link",t)):e.match(/[\s\u00a0]*\|[\s\u00a0]*/)?(t.tokenize=b(),i("mw-link-delimiter",t)):e.match(/[\s\u00a0]*\]\]/)?(t.tokenize=t.stack.pop(),i("mw-link-bracket",t,"nLink")):e.match(/[\s\u00a0]*[^\s\u00a0#\|\]\&~\{]+/)||e.eatSpace()?r("mw-link-pagename mw-pagename",t):T("mw-link-pagename mw-pagename","mw-pagename")(e,t)}function y(e,t){return e.sol()?(t.nLink--,void(t.tokenize=t.stack.pop())):e.match(/[^\|\]\&~\{\}]+/)?i("mw-link-tosection",t):e.eat("|")?(t.tokenize=b(),i("mw-link-delimiter",t)):e.match("]]")?(t.tokenize=t.stack.pop(),i("mw-link-bracket",t,"nLink")):T("mw-link-tosection","")(e,t)}function b(){var e,t;return function(n,o){if(n.match("]]"))return o.tokenize=o.stack.pop(),i("mw-link-bracket",o,"nLink");if(n.match("'''"))return e=!e,i("mw-link-text mw-apostrophes",o);if(n.match("''"))return t=!t,i("mw-link-text mw-apostrophes",o);var s="mw-link-text";return e&&(s+=" strong"),t&&(s+=" em"),n.match(/[^'\]\{\&~]+/)?r(s,o):T(s,"")(n,o)}}function w(e,t,n){return function(r,o){for(var s="";e>0;)e--,s+=r.next();return r.eol()?(o.tokenize=o.stack.pop(),i(n?"mw-htmltag-name":"mw-exttag-name",o)):(r.eatSpace(),r.eol()?(o.tokenize=o.stack.pop(),i(n?"mw-htmltag-name":"mw-exttag-name",o)):n?(t?o.tokenize=a(">","mw-htmltag-bracket"):o.tokenize=x(s),i("mw-htmltag-name",o)):(t?o.tokenize=a(">","mw-exttag-bracket"):o.tokenize=k(s),i("mw-exttag-name",o)))}}function x(e){return function(t,n){return t.match(/[^>\/<\{\&~]+/)?i("mw-htmltag-attribute",n):t.eat(">")?(n.InHtmlTag.push(e),n.tokenize=n.stack.pop(),i("mw-htmltag-bracket",n)):t.match("/>")?(n.tokenize=n.stack.pop(),i("mw-htmltag-bracket",n)):T("mw-htmltag-attribute","")(t,n)}}function k(t){return function(r,o){return r.match(/[^>\/<\{\&~]+/)?i("mw-exttag-attribute",o):r.eat(">")?(o.extName=t,t in n.mwextMode.tag&&(o.extMode=e.getMode(n,n.mwextMode.tag[t]),o.extState=e.startState(o.extMode)),o.tokenize=A(t),i("mw-exttag-bracket",o)):r.match("/>")?(o.tokenize=o.stack.pop(),i("mw-exttag-bracket",o)):T("mw-exttag-attribute","")(r,o)}}function A(e){return function(t,n){var r,i=!1,o=t.pos,s=RegExp("</"+e+"\\s*>"),a=s.exec(o?t.string.slice(o):t.string);if(a){if(0===a.index)return n.tokenize=C(e),n.extName=!1,n.extMode!==!1&&(n.extMode=!1,n.extState=!1),n.tokenize(t,n);r=a.index+o,i=t.string,t.string=i.slice(0,r)}return n.stack.push(n.tokenize),n.tokenize=E(i),n.tokenize(t,n)}}function C(e){return function(t,n){return t.next(),t.next(),n.tokenize=w(e.length,!0,!1),i("mw-exttag-bracket",n)}}function E(e){return function(t,n){var r;return n.extMode===!1?(r=e===!1&&t.sol()?"line-cm-mw-exttag":"mw-exttag",t.skipToEnd()):(r=(e===!1&&t.sol()?"line-cm-mw-tag-":"mw-tag-")+n.extName,r+=" "+n.extMode.token(t,n.extState,e===!1)),t.eol()&&(e!==!1&&(t.string=e),n.tokenize=n.stack.pop()),i(r,n)}}function S(e,t){return e.sol()?(t.tokenize=j,j(e,t)):T("mw-table-definition","")(e,t)}function j(e,t){if(e.sol()){if(e.eat("|"))return e.eat("-")?(e.eatSpace(),t.tokenize=S,i("mw-table-delimiter",t)):e.eat("}")?(t.tokenize=t.stack.pop(),i("mw-table-bracket",t)):(e.eatSpace(),t.tokenize=M(!0,!1),i("mw-table-delimiter",t));if(e.eat("!"))return e.eatSpace(),t.tokenize=M(!0,!0),i("mw-table-delimiter",t)}return T("","")(e,t)}function M(e,t){return function(n,o){if(n.sol()){var s=n.peek();if("|"===s||"!"===s)return o.tokenize=j,o.tokenize(n,o);o.isBold=!1,o.isItalic=!1}else{if(n.match(/[^'\|\{\[<\&~]+/))return r(t?"strong":"",o);if(n.match("||")||t&&n.match("!!")||e&&n.eat("|"))return o.isBold=!1,o.isItalic=!1,e&&(o.tokenize=M(!1,t)),i("mw-table-delimiter",o)}return T(t?"strong":"",t?"strong":"")(n,o)}}function T(e,s){return function(a,u){function p(e){return u.stack.push(u.tokenize),u.tokenize=e,e(a,u)}var f=a.sol(),_=a.next();if(f)switch(u.isBold=!1,u.isItalic=!1,_){case" ":return"mw-skipformatting";case"-":if(a.match("---"))return"mw-hr";break;case"=":var g=a.match(/(={0,5})(.+?(=\1\s*))$/);if(g)return a.backUp(g[2].length),u.stack.push(u.tokenize),u.tokenize=l(g[3].length),"mw-section-header line-cm-mw-section-"+(g[1].length+1);break;case"*":case"#":if(a.match(/[\*#]*:*/))return"mw-list";break;case":":if(a.match(/:*[\*#]*/))return"mw-indenting";break;case"{":if(a.eat("|"))return a.eatSpace(),u.stack.push(u.tokenize),u.tokenize=S,"mw-table-bracket"}switch(_){case"&":return r(t(a,e,s),u);case"'":if(a.match("''"))return u.isBold=!u.isBold,i("mw-apostrophes",u);if(a.eat("'"))return u.isItalic=!u.isItalic,i("mw-apostrophes",u);break;case"[":if(a.eat("[")){if(a.eatSpace(),/[^\]\|\[]/.test(a.peek()))return u.nLink++,u.stack.push(u.tokenize),u.tokenize=v,i("mw-link-bracket",u)}else{var y=a.match(O);if(y)return u.nLink++,a.backUp(y[0].length),u.stack.push(u.tokenize),u.tokenize=m(y[0].length),i("mw-extlink-bracket",u)}break;case"{":if(a.match("{{"))return a.eatSpace(),u.stack.push(u.tokenize),u.tokenize=c,i("mw-templatevariable-bracket",u);if(a.match(/\{[\s\u00a0]*/)){if("#"===a.peek())return u.nExt++,u.stack.push(u.tokenize),u.tokenize=d,i("mw-parserfunction-bracket",u);var b=a.match(/([^\s\u00a0\}\[\]<\{\'\|\&\:]+)(\:|[\s\u00a0]*)(\}\}?)?(.)?/);return b&&(a.backUp(b[0].length),(":"===b[2]||void 0===b[4]||"}}"===b[3])&&(b[1].toLowerCase()in n.mwextFunctionSynonyms[0]||b[1]in n.mwextFunctionSynonyms[1]))?(u.nExt++,u.stack.push(u.tokenize),u.tokenize=d,i("mw-parserfunction-bracket",u)):(u.nTemplate++,u.stack.push(u.tokenize),u.tokenize=h(!1),i("mw-template-bracket",u))}break;case"<":if(a.match("!--"))return p(o("mw-comment","-->"));var x=!!a.eat("/"),k=a.match(/[^>\/\s\u00a0\.\*\,\[\]\{\}\$\^\+\?\|\/\\'`~<=!@#%&\(\)-]+/);if(k){if(k=k[0].toLowerCase(),n.mwextTags&&k in n.mwextTags)return x===!0?"error":(a.backUp(k.length),u.stack.push(u.tokenize),u.tokenize=w(k.length,x,!1),i("mw-exttag-bracket",u));if(k in N)return x===!0&&k!==u.InHtmlTag.pop()?"error":(a.backUp(k.length),u.stack.push(u.tokenize),u.tokenize=w(k.length,x,!0),i("mw-htmltag-bracket",u));a.backUp(k.length)}break;case"~":if(a.match(/~{2,4}/))return"mw-signature"}a.match(/[^\s\u00a0_>\}\[\]<\{\'\|\&\:~]+/);var A=r(e,u);return A}}var O=RegExp(n.mwextUrlProtocols,"i"),N={b:!0,bdi:!0,del:!0,i:!0,ins:!0,u:!0,font:!0,big:!0,small:!0,sub:!0,sup:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,cite:!0,code:!0,em:!0,s:!0,strike:!0,strong:!0,tt:!0,var:!0,div:!0,center:!0,blockquote:!0,ol:!0,ul:!0,dl:!0,table:!0,caption:!0,pre:!0,ruby:!0,rb:!0,rp:!0,rt:!0,rtc:!0,p:!0,span:!0,abbr:!0,dfn:!0,kbd:!0,samp:!0,data:!0,time:!0,mark:!0,br:!0,wbr:!0,hr:!0,li:!0,dt:!0,dd:!0,td:!0,th:!0,tr:!0,noinclude:!0,includeonly:!0,onlyinclude:!0};return{startState:function(){return{tokenize:T("",""),stack:[],InHtmlTag:[],isBold:!1,isItalic:!1,extName:!1,extMode:!1,extState:!1,nTemplate:0,nLink:0,nExt:0}},copyState:function(t){return{tokenize:t.tokenize,stack:t.stack.concat([]),InHtmlTag:t.InHtmlTag.concat([]),isBold:t.isBold,isItalic:t.isItalic,extName:t.extName,extMode:t.extMode,extState:t.extMode!==!1&&e.copyState(t.extMode,t.extState),nTemplate:t.nTemplate,nLink:t.nLink,nExt:t.nExt}},token:function(e,t){return t.tokenize(e,t)},blankLine:function(e){if(e.extName){if(e.extMode){var t="";return e.extMode.blankLine&&(t=" "+e.extMode.blankLine(e.extState)),"line-cm-mw-tag-"+e.extName+t}return"line-cm-mw-exttag"}}}}),e.defineMIME("text/mediawiki","mediawiki"),e.defineMode("mw-tag-pre",function(){return{startState:function(){return{}},token:n("mw-tag-pre","line-cm-mw-tag-pre")}}),e.defineMode("mw-tag-nowiki",function(){return{startState:function(){return{}},token:n("mw-tag-nowiki","line-cm-mw-tag-nowiki")}})})},function(e,exports){CodeMirror.defineMode("ocaml",function(){function e(e,i){var o=e.next();if('"'===o)return i.tokenize=t,i.tokenize(e,i);if("("===o&&e.eat("*"))return i.commentLevel++,i.tokenize=n,i.tokenize(e,i);if("~"===o)return e.eatWhile(/\w/),"variable-2";if("`"===o)return e.eatWhile(/\w/),"quote";if(/\d/.test(o))return e.eatWhile(/[\d]/),e.eat(".")&&e.eatWhile(/[\d]/),"number";if(/[+\-*&%=<>!?|]/.test(o))return"operator";e.eatWhile(/\w/);var s=e.current();return r[s]||"variable"}function t(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if('"'===r&&!o){i=!0;break}o=!o&&"\\"===r}return i&&!o&&(n.tokenize=e),"string"}function n(t,n){for(var r,i;n.commentLevel>0&&null!=(i=t.next());)"("===r&&"*"===i&&n.commentLevel++,"*"===r&&")"===i&&n.commentLevel--,r=i;return n.commentLevel<=0&&(n.tokenize=e),"comment"}var r={true:"atom",false:"atom",let:"keyword",rec:"keyword",in:"keyword",of:"keyword",and:"keyword",succ:"keyword",if:"keyword",then:"keyword",else:"keyword",for:"keyword",to:"keyword",while:"keyword",do:"keyword",done:"keyword",fun:"keyword",function:"keyword",val:"keyword",type:"keyword",mutable:"keyword",match:"keyword",with:"keyword",try:"keyword",raise:"keyword",begin:"keyword",end:"keyword",open:"builtin",trace:"builtin",ignore:"builtin",exit:"builtin",print_string:"builtin",print_endline:"builtin"};return{startState:function(){return{tokenize:e,commentLevel:0}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},blockCommentStart:"(*",blockCommentEnd:"*)"}}),CodeMirror.defineMIME("text/x-ocaml","ocaml")},function(e,exports){CodeMirror.defineMode("pari",function(e,t){function n(e,t){var n=e.next();if(_[n]){var o=_[n](e,t);if(o!==!1)return o}if('"'==n||"'"==n)return t.tokenize=r(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return l=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=i,i(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if("\\"==n&&e.eat("\\"))return e.skipToEnd(),"comment";if(v.test(n))return e.eatWhile(v),"operator";e.eatWhile(/[\w\$_]/);var s=e.current();return p.propertyIsEnumerable(s)?(f.propertyIsEnumerable(s)&&(l="newstatement"),"keyword"):h.propertyIsEnumerable(s)?(f.propertyIsEnumerable(s)&&(l="newstatement"),"builtin"):m.propertyIsEnumerable(s)?"atom":"variable"}function r(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!g)&&(n.tokenize=null),"string"}}function i(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function o(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function s(e,t,n){var r=e.indented;return e.context&&"statement"==e.context.type&&(r=e.context.indented),e.context=new o(r,t,n,null,e.context)}function a(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}var l,c=e.indentUnit,u=t.statementIndentUnit||c,d=t.dontAlignCalls,p=t.keywords||{},h=t.builtin||{},f=t.blockKeywords||{},m=t.atoms||{},_=t.hooks||{},g=t.multiLineStrings,v=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new o((e||0)-c,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var r=t.context;if(e.sol()&&(null==r.align&&(r.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;l=null;var i=(t.tokenize||n)(e,t);if("comment"==i||"meta"==i)return i;if(null==r.align&&(r.align=!0),";"!=l&&":"!=l&&","!=l||"statement"!=r.type)if("{"==l)s(t,e.column(),"}");else if("["==l)s(t,e.column(),"]");else if("("==l)s(t,e.column(),")");else if("}"==l){for(;"statement"==r.type;)r=a(t);for("}"==r.type&&(r=a(t));"statement"==r.type;)r=a(t)}else l==r.type?a(t):(("}"==r.type||"top"==r.type)&&";"!=l||"statement"==r.type&&"newstatement"==l)&&s(t,e.column(),"statement");else a(t);return t.startOfLine=!1,i},indent:function(e,t){if(e.tokenize!=n&&null!=e.tokenize)return CodeMirror.Pass;var r=e.context,i=t&&t.charAt(0);"statement"==r.type&&"}"==i&&(r=r.prev);var o=i==r.type;return"statement"==r.type?r.indented+("{"==i?0:u):!r.align||d&&")"==r.type?")"!=r.type||o?r.indented+(o?0:c):r.indented+u:r.column+(o?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"\\\\",fold:"brace"}}),function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e,n){if(!n.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),n.tokenize=null;break}if(e.next(),e.eol()){n.tokenize=t;break}}return"meta"}function n(e,t){for(var n=0;n<e.length;++n)CodeMirror.defineMIME(e[n],t)}var r="Col Euler I List Mat Mod O Pi Pol Polrev Qfb Ser Set Str Strchr Strexpand Strprintf Strtex Vec Vecrev Vecsmall abs acos acosh addhelp addprimes agm alarm algdep alias allocatemem apply arg asin asinh atan atanh bernfrac bernreal bernvec besselh1 besselh2 besseli besselj besseljh besselk besseln bestappr bezout bezoutres bigomega binary binomial bitand bitneg bitnegimply bitor bittest bitxor bnfcertify bnfcompress bnfdecodemodule bnfinit bnfisintnorm bnfisnorm bnfisprincipal bnfissunit bnfisunit bnfnarrow bnfsignunit bnfsunit bnrL1 bnrclassno bnrclassnolist bnrconductor bnrconductorofchar bnrdisc bnrdisclist bnrinit bnrisconductor bnrisprincipal bnrrootnumber bnrstark break ceil centerlift charpoly chinese component concat conj conjvec content contfrac contfracpnqn core coredisc cos cosh cotan default denominator deriv derivnum diffop dilog dirdiv direuler dirmul dirzetak divisors divrem eint1 ellL1 elladd ellak ellan ellanalyticrank ellap ellbil ellchangecurve ellchangepoint ellconvertname elldivpol elleisnum elleta ellgenerators ellglobalred ellgroup ellheight ellheightmatrix ellidentify ellinit ellisoncurve ellj elllocalred elllog elllseries ellminimalmodel ellmodulareqn ellorder ellordinate ellpointtoz ellpow ellrootno ellsearch ellsigma ellsub elltaniyama elltatepairing elltors ellweilpairing ellwp ellzeta ellztopoint erfc error eta eulerphi eval exp extern externstr factor factorback factorcantor factorff factorial factorint factormod factornf factorpadic ffgen ffinit fflog fforder ffprimroot fibonacci floor for fordiv forell forprime forstep forsubgroup forvec frac galoisexport galoisfixedfield galoisgetpol galoisidentify galoisinit galoisisabelian galoisisnormal galoispermtopol galoissubcyclo galoissubfields galoissubgroups gamma gammah gcd getheap getrand getstack gettime global hilbert hyperu idealadd idealaddtoone idealappr idealchinese idealcoprime idealdiv idealfactor idealfactorback idealfrobenius idealhnf idealintersect idealinv ideallist ideallistarch ideallog idealmin idealmul idealnorm idealpow idealprimedec idealramgroups idealred idealstar idealtwoelt idealval if imag incgam incgamc input install intcirc intformal intfouriercos intfourierexp intfouriersin intfuncinit intlaplaceinv intmellininv intmellininvshort intnum intnuminit intnuminitgen intnumromb intnumstep isfundamental ispower isprime ispseudoprime issquare issquarefree kill kronecker lcm length lex lift lindep listcreate listinsert listkill listpop listput listsort lngamma local log matadjoint matalgtobasis matbasistoalg matcompanion matdet matdetint matdiagonal mateigen matfrobenius mathess mathilbert mathnf mathnfmod mathnfmodid matid matimage matimagecompl matindexrank matintersect matinverseimage matisdiagonal matker matkerint matmuldiagonal matmultodiagonal matpascal matrank matrix matrixqz matsize matsnf matsolve matsolvemod matsupplement mattranspose max min minpoly modreverse moebius my newtonpoly next nextprime nfalgtobasis nfbasis nfbasistoalg nfdetint nfdisc nfeltadd nfeltdiv nfeltdiveuc nfeltdivmodpr nfeltdivrem nfeltmod nfeltmul nfeltmulmodpr nfeltnorm nfeltpow nfeltpowmodpr nfeltreduce nfeltreducemodpr nfelttrace nfeltval nffactor nffactorback nffactormod nfgaloisapply nfgaloisconj nfhilbert nfhnf nfhnfmod nfinit nfisideal nfisincl nfisisom nfkermodpr nfmodprinit nfnewprec nfroots nfrootsof1 nfsnf nfsolvemodpr nfsubfields norm norml2 numbpart numdiv numerator numtoperm omega padicappr padicfields padicprec partitions permtonum plot plotbox plotclip plotcolor plotcopy plotcursor plotdraw ploth plothraw plothsizes plotinit plotkill plotlines plotlinetype plotmove plotpoints plotpointsize plotpointtype plotrbox plotrecth plotrecthraw plotrline plotrmove plotrpoint plotscale plotstring polchebyshev polcoeff polcompositum polcyclo poldegree poldisc poldiscreduced polgalois polhensellift polhermite polinterpolate polisirreducible pollead pollegendre polrecip polred polredabs polredbest polredord polresultant polroots polrootsff polrootsmod polrootspadic polsturm polsubcyclo polsylvestermatrix polsym poltchebi poltschirnhaus polylog polzagier precision precprime prime primepi primes print print1 printf printtex prod prodeuler prodinf psdraw psi psploth psplothraw qfbclassno qfbcompraw qfbhclassno qfbnucomp qfbnupow qfbpowraw qfbprimeform qfbred qfbsolve qfgaussred qfjacobi qflll qflllgram qfminim qfperfection qfrep qfsign quadclassunit quaddisc quadgen quadhilbert quadpoly quadray quadregulator quadunit quit random read readvec real removeprimes return rnfalgtobasis rnfbasis rnfbasistoalg rnfcharpoly rnfconductor rnfdedekind rnfdet rnfdisc rnfeltabstorel rnfeltdown rnfeltreltoabs rnfeltup rnfequation rnfhnfbasis rnfidealabstorel rnfidealdown rnfidealhnf rnfidealmul rnfidealnormabs rnfidealnormrel rnfidealreltoabs rnfidealtwoelt rnfidealup rnfinit rnfisabelian rnfisfree rnfisnorm rnfisnorminit rnfkummer rnflllgram rnfnormgroup rnfpolred rnfpolredabs rnfpseudobasis rnfsteinitz round select serconvol serlaplace serreverse setintersect setisset setminus setrand setsearch setunion shift shiftmul sigma sign simplify sin sinh sizebyte sizedigit solve sqr sqrt sqrtint sqrtn stirling subgrouplist subst substpol substvec sum sumalt sumdedekind sumdiv suminf sumnum sumnumalt sumnuminit sumpos system tan tanh taylor teichmuller theta thetanullk thue thueinit trace trap truncate type until valuation variable vecextract vecmax vecmin vecsort vector vectorsmall vectorv version warning weber whatnow while write write1 writebin writetex zeta zetak zetakinit zncoppersmith znlog znorder znprimroot znstar";
n(["text/pari"],{name:"pari",keywords:e(r),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":t}})}()},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e){return RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return 0==e.scopes.length?{type:"undefined",offset:0}:e.scopes[e.scopes.length-1]}var r=t(["and","or","not","is"]),i=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],s={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},a={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};e.registerHelper("hintWords","python",i.concat(o)),e.defineMode("python",function(l,c){function u(e,t){if(e.sol()&&"py"==n(t).type){var r=n(t).offset;if(e.eatSpace()){var i=e.indentation();return i>r?h(e,t,"py"):i<r&&f(e,t)&&(t.errorToken=!0),null}var o=d(e,t);return r>0&&f(e,t)&&(o+=" "+_),o}return d(e,t)}function d(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n||"︡"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var i=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(i=!0),e.match(/^\d+\.\d*/)&&(i=!0),e.match(/^\.\d+/)&&(i=!0),i)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f]+/i)&&(o=!0),e.match(/^0b[01]+/i)&&(o=!0),e.match(/^0o[0-7]+/i)&&(o=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}return e.match(E)?(t.tokenize=p(e.current()),t.tokenize(e,t)):e.match(b)||e.match(y)?null:e.match(v)||e.match(w)?"operator":e.match(g)?null:e.match(S)||e.match(r)?"keyword":e.match(j)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(x)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),_)}function p(e){function t(t,i){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return r}else{if(t.match(e))return i.tokenize=u,r;t.eat(/['"]/)}if(n){if(c.singleLineStringErrors)return _;i.tokenize=u}return r}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";return t.isString=!0,t}function h(e,t,r){var i=0,o=null;if("py"==r)for(;"py"!=n(t).type;)t.scopes.pop();i=n(t).offset+("py"==r?l.indentUnit:k),"py"==r||e.match(/^(\s|#.*)*$/,!1)||(o=e.column()+1),t.scopes.push({offset:i,type:r,align:o})}function f(e,t){for(var r=e.indentation();n(t).offset>r;){if("py"!=n(t).type)return!0;if(t.scopes.pop(),0==t.scopes.length)return!1}return n(t).offset!=r}function m(e,t){var r=t.tokenize(e,t),i=e.current();if("."==i)return r=e.match(x,!1)?null:_,null==r&&"meta"==t.lastStyle&&(r="meta"),r;if("@"==i)return c.version&&3==parseInt(c.version,10)?e.match(x,!1)?"meta":"operator":e.match(x,!1)?"meta":_;"variable"!=r&&"builtin"!=r||"meta"!=t.lastStyle||(r="meta"),"pass"!=i&&"return"!=i||(t.dedent+=1),"lambda"==i&&(t.lambda=!0),":"!=i||t.lambda||"py"!=n(t).type||h(e,t,"py");var o=1==i.length?"[({".indexOf(i):-1;if(o!=-1&&h(e,t,"])}".slice(o,o+1)),o="])}".indexOf(i),o!=-1){if(n(t).type!=i)return _;t.scopes.pop()}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),r}var _="error",g=c.singleDelimiters||RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),v=c.doubleOperators||RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),y=c.doubleDelimiters||RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),b=c.tripleDelimiters||RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");if(c.version&&3==parseInt(c.version,10))var w=c.singleOperators||RegExp("^[\\+\\-\\*/%&|\\^~<>!@]"),x=c.identifiers||RegExp("^[_A-Za-z¡-￿][_A-Za-z0-9¡-￿]*");else var w=c.singleOperators||RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),x=c.identifiers||RegExp("^[_A-Za-z][_A-Za-z0-9]*");var k=c.hangingIndent||l.indentUnit,A=i,C=o;if(void 0!=c.extra_keywords&&(A=A.concat(c.extra_keywords)),void 0!=c.extra_builtins&&(C=C.concat(c.extra_builtins)),c.version&&3==parseInt(c.version,10)){A=A.concat(a.keywords),C=C.concat(a.builtins);var E=RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{A=A.concat(s.keywords),C=C.concat(s.builtins);var E=RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var S=t(A),j=t(C),M={startState:function(e){return{tokenize:u,scopes:[{offset:e||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=m(e,t);t.lastStyle=r;var i=e.current();return i&&r&&(t.lastToken=i),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+_:r},indent:function(t,r){if(t.tokenize!=u)return t.tokenize.isString?e.Pass:0;var i=n(t),o=r&&r.charAt(0)==i.type;return null!=i.align?i.align-(o?1:0):o&&t.scopes.length>1?t.scopes[t.scopes.length-2].offset:i.offset},closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return M}),e.defineMIME("text/x-python","python");var l=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:l("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})})},function(e,exports){"use strict";CodeMirror.defineMode("rst",function(e,t){var n=/^\*\*[^\*\s](?:[^\*]*[^\*\s])?\*\*/,r=/^\*[^\*\s](?:[^\*]*[^\*\s])?\*/,i=/^``[^`\s](?:[^`]*[^`\s])``/,o=/^(?:[\d]+(?:[\.,]\d+)*)/,s=/^(?:\s\+[\d]+(?:[\.,]\d+)*)/,a=/^(?:\s\-[\d]+(?:[\.,]\d+)*)/,l="[Hh][Tt][Tt][Pp][Ss]?://",c="(?:[\\d\\w.-]+)\\.(?:\\w{2,6})",u="(?:/[\\d\\w\\#\\%\\&\\-\\.\\,\\/\\:\\=\\?\\~]+)*",d=RegExp("^"+l+c+u),p={token:function(e){if(e.match(n)&&e.match(/\W+|$/,!1))return"strong";if(e.match(r)&&e.match(/\W+|$/,!1))return"em";if(e.match(i)&&e.match(/\W+|$/,!1))return"string-2";if(e.match(o))return"number";if(e.match(s))return"positive";if(e.match(a))return"negative";if(e.match(d))return"link";for(;!(null==e.next()||e.match(n,!1)||e.match(r,!1)||e.match(i,!1)||e.match(o,!1)||e.match(s,!1)||e.match(a,!1)||e.match(d,!1)););return null}},h=CodeMirror.getMode(e,t.backdrop||"rst-base");return CodeMirror.overlayMode(h,p,!0)},"python","stex"),CodeMirror.defineMode("rst-base",function(e){function t(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}function n(e,t){var i=null;if(e.sol()&&e.match(V,!1))c(t,a,{mode:p,local:CodeMirror.startState(p)});else if(e.sol()&&e.match(C))c(t,r),i="meta";else if(e.sol()&&e.match(A))c(t,n),i="header";else if(d(t)==z||e.match(z,!1))switch(u(t)){case 0:c(t,n,l(z,1)),e.match(/^:/),i="meta";break;case 1:c(t,n,l(z,2)),e.match(v),i="keyword",e.current().match(/^(?:math|latex)/)&&(t.tmp_stex=!0);break;case 2:c(t,n,l(z,3)),e.match(/^:`/),i="meta";break;case 3:if(t.tmp_stex&&(t.tmp_stex=void 0,t.tmp={mode:h,local:CodeMirror.startState(h)}),t.tmp){if("`"==e.peek()){c(t,n,l(z,4)),t.tmp=void 0;break}i=t.tmp.mode.token(e,t.tmp.local);break}c(t,n,l(z,4)),e.match(k),i="string";break;case 4:c(t,n,l(z,5)),e.match(/^`/),i="meta";break;case 5:c(t,n,l(z,6)),e.match(_);break;default:c(t,n)}else if(d(t)==R||e.match(R,!1))switch(u(t)){case 0:c(t,n,l(R,1)),e.match(/^`/),i="meta";break;case 1:c(t,n,l(R,2)),e.match(k),i="string";break;case 2:c(t,n,l(R,3)),e.match(/^`:/),i="meta";break;case 3:c(t,n,l(R,4)),e.match(v),i="keyword";break;case 4:c(t,n,l(R,5)),e.match(/^:/),i="meta";break;case 5:c(t,n,l(R,6)),e.match(_);break;default:c(t,n)}else if(d(t)==P||e.match(P,!1))switch(u(t)){case 0:c(t,n,l(P,1)),e.match(/^:/),i="meta";break;case 1:c(t,n,l(P,2)),e.match(v),i="keyword";break;case 2:c(t,n,l(P,3)),e.match(/^:/),i="meta";break;case 3:c(t,n,l(P,4)),e.match(_);break;default:c(t,n)}else if(d(t)==O||e.match(O,!1))switch(u(t)){case 0:c(t,n,l(O,1)),e.match(F),i="variable-2";break;case 1:c(t,n,l(O,2)),e.match(/^_?_?/)&&(i="link");break;default:c(t,n)}else if(e.match(N))c(t,n),i="quote";else if(e.match(I))c(t,n),i="quote";else if(e.match(D))c(t,n),e.peek()&&!e.peek().match(/^\W$/)||(i="link");else if(d(t)==L||e.match(L,!1))switch(u(t)){case 0:!e.peek()||e.peek().match(/^\W$/)?c(t,n,l(L,1)):e.match(L);break;case 1:c(t,n,l(L,2)),e.match(/^`/),i="link";break;case 2:c(t,n,l(L,3)),e.match(k);break;case 3:c(t,n,l(L,4)),e.match(/^`_/),i="link";break;default:c(t,n)}else e.match(J)?c(t,o):e.next()&&c(t,n);return i}function r(e,t){var o=null;if(d(t)==j||e.match(j,!1))switch(u(t)){case 0:c(t,r,l(j,1)),e.match(F),o="variable-2";break;case 1:c(t,r,l(j,2)),e.match(U);break;case 2:c(t,r,l(j,3)),e.match(W),o="keyword";break;case 3:c(t,r,l(j,4)),e.match(H),o="meta";break;default:c(t,n)}else if(d(t)==S||e.match(S,!1))switch(u(t)){case 0:c(t,r,l(S,1)),e.match(B),o="keyword",e.current().match(/^(?:math|latex)/)?t.tmp_stex=!0:e.current().match(/^python/)&&(t.tmp_py=!0);break;case 1:c(t,r,l(S,2)),e.match(q),o="meta",(e.match(/^latex\s*$/)||t.tmp_stex)&&(t.tmp_stex=void 0,c(t,a,{mode:h,local:CodeMirror.startState(h)}));break;case 2:c(t,r,l(S,3)),(e.match(/^python\s*$/)||t.tmp_py)&&(t.tmp_py=void 0,c(t,a,{mode:p,local:CodeMirror.startState(p)}));break;default:c(t,n)}else if(d(t)==E||e.match(E,!1))switch(u(t)){case 0:c(t,r,l(E,1)),e.match(K),e.match(G),o="link";break;case 1:c(t,r,l(E,2)),e.match(Y),o="meta";break;default:c(t,n)}else e.match(M)?(c(t,n),o="quote"):e.match(T)?(c(t,n),o="quote"):(e.eatSpace(),e.eol()?c(t,n):(e.skipToEnd(),c(t,i),o="comment"));return o}function i(e,t){return s(e,t,"comment")}function o(e,t){return s(e,t,"meta")}function s(e,t,r){return e.eol()||e.eatSpace()?(e.skipToEnd(),r):(c(t,n),null)}function a(e,t){return t.ctx.mode&&t.ctx.local?e.sol()?(e.eatSpace()||c(t,n),null):t.ctx.mode.token(e,t.ctx.local):(c(t,n),null)}function l(e,t,n,r){return{phase:e,stage:t,mode:n,local:r}}function c(e,t,n){e.tok=t,e.ctx=n||{}}function u(e){return e.ctx.stage||0}function d(e){return e.ctx.phase}var p=CodeMirror.getMode(e,"python"),h=CodeMirror.getMode(e,"stex"),f="\\s+",m="(?:\\s*|\\W|$)",_=RegExp(t("^{0}",m)),g="(?:[^\\W\\d_](?:[\\w!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",v=RegExp(t("^{0}",g)),y="(?:[^\\W\\d_](?:[\\w\\s!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",b=t("(?:{0}|`{1}`)",g,y),w="(?:[^\\s\\|](?:[^\\|]*[^\\s\\|])?)",x="(?:[^\\`]+)",k=RegExp(t("^{0}",x)),A=RegExp("^([!'#$%&\"()*+,-./:;<=>?@\\[\\\\\\]^_`{|}~])\\1{3,}\\s*$"),C=RegExp(t("^\\.\\.{0}",f)),E=RegExp(t("^_{0}:{1}|^__:{1}",b,m)),S=RegExp(t("^{0}::{1}",b,m)),j=RegExp(t("^\\|{0}\\|{1}{2}::{3}",w,f,b,m)),M=RegExp(t("^\\[(?:\\d+|#{0}?|\\*)]{1}",b,m)),T=RegExp(t("^\\[{0}\\]{1}",b,m)),O=RegExp(t("^\\|{0}\\|",w)),N=RegExp(t("^\\[(?:\\d+|#{0}?|\\*)]_",b)),I=RegExp(t("^\\[{0}\\]_",b)),D=RegExp(t("^{0}__?",b)),L=RegExp(t("^`{0}`_",x)),z=RegExp(t("^:{0}:`{1}`{2}",g,x,m)),R=RegExp(t("^`{1}`:{0}:{2}",g,x,m)),P=RegExp(t("^:{0}:{1}",g,m)),B=RegExp(t("^{0}",b)),q=RegExp(t("^::{0}",m)),F=RegExp(t("^\\|{0}\\|",w)),U=RegExp(t("^{0}",f)),W=RegExp(t("^{0}",b)),H=RegExp(t("^::{0}",m)),K=RegExp("^_"),G=RegExp(t("^{0}|_",b)),Y=RegExp(t("^:{0}",m)),J=RegExp("^::\\s*$"),V=RegExp("^\\s+(?:>>>|sage:|In \\[\\d+\\]:)\\s");return{startState:function(){return{tok:n,ctx:l(void 0,0)}},copyState:function(e){var t=e.ctx,n=e.tmp;return t.local&&(t={mode:t.mode,local:CodeMirror.copyState(t.mode,t.local)}),n&&(n={mode:n.mode,local:CodeMirror.copyState(n.mode,n.local)}),{tok:e.tok,ctx:t,tmp:n}},innerMode:function(e){return e.tmp?{state:e.tmp.local,mode:e.tmp.mode}:e.ctx.mode?{state:e.ctx.local,mode:e.ctx.mode}:null},token:function(e,t){return t.tok(e,t)}}},"python","stex"),CodeMirror.defineMIME("text/x-rst","rst")},function(e,exports,t){e.exports={default:t(520),__esModule:!0}},function(e,exports,t){e.exports={default:t(522),__esModule:!0}},function(e,exports,t){e.exports={default:t(524),__esModule:!0}},function(e,exports,t){e.exports={default:t(526),__esModule:!0}},function(e,exports,t){e.exports={default:t(527),__esModule:!0}},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e){var t=e.search(o);return t==-1?0:t}function n(e,t,n){return/\bstring\b/.test(e.getTokenTypeAt(s(t.line,0)))&&!/^[\'\"\`]/.test(n)}function r(e,t){var n=e.getMode();return n.useInnerComments!==!1&&n.innerMode?e.getModeAt(t):n}var i={},o=/[^\s\u00a0]/,s=e.Pos;e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=i);for(var t=this,n=1/0,r=this.listSelections(),o=null,a=r.length-1;a>=0;a--){var l=r[a].from(),c=r[a].to();l.line>=n||(c.line>=n&&(c=s(n,0)),n=l.line,null==o?t.uncomment(l,c,e)?o="un":(t.lineComment(l,c,e),o="line"):"un"==o?t.uncomment(l,c,e):t.lineComment(l,c,e))}}),e.defineExtension("lineComment",function(e,a,l){l||(l=i);var c=this,u=r(c,e),d=c.getLine(e.line);if(null!=d&&!n(c,e,d)){var p=l.lineComment||u.lineComment;if(!p)return void((l.blockCommentStart||u.blockCommentStart)&&(l.fullLines=!0,c.blockComment(e,a,l)));var h=Math.min(0!=a.ch||a.line==e.line?a.line+1:a.line,c.lastLine()+1),f=null==l.padding?" ":l.padding,m=l.commentBlankLines||e.line==a.line;c.operation(function(){if(l.indent){for(var n=null,r=e.line;r<h;++r){var i=c.getLine(r),a=i.slice(0,t(i));(null==n||n.length>a.length)&&(n=a)}for(var r=e.line;r<h;++r){var i=c.getLine(r),u=n.length;(m||o.test(i))&&(i.slice(0,u)!=n&&(u=t(i)),c.replaceRange(n+p+f,s(r,0),s(r,u)))}}else for(var r=e.line;r<h;++r)(m||o.test(c.getLine(r)))&&c.replaceRange(p+f,s(r,0))})}}),e.defineExtension("blockComment",function(e,t,n){n||(n=i);var a=this,l=r(a,e),c=n.blockCommentStart||l.blockCommentStart,u=n.blockCommentEnd||l.blockCommentEnd;if(!c||!u)return void((n.lineComment||l.lineComment)&&0!=n.fullLines&&a.lineComment(e,t,n));if(!/\bcomment\b/.test(a.getTokenTypeAt(s(e.line,0)))){var d=Math.min(t.line,a.lastLine());d!=e.line&&0==t.ch&&o.test(a.getLine(d))&&--d;var p=null==n.padding?" ":n.padding;e.line>d||a.operation(function(){if(0!=n.fullLines){var r=o.test(a.getLine(d));a.replaceRange(p+u,s(d)),a.replaceRange(c+p,s(e.line,0));var i=n.blockCommentLead||l.blockCommentLead;if(null!=i)for(var h=e.line+1;h<=d;++h)(h!=d||r)&&a.replaceRange(i+p,s(h,0))}else a.replaceRange(u,t),a.replaceRange(c,e)})}}),e.defineExtension("uncomment",function(e,t,n){n||(n=i);var a,l=this,c=r(l,e),u=Math.min(0!=t.ch||t.line==e.line?t.line:t.line-1,l.lastLine()),d=Math.min(e.line,u),p=n.lineComment||c.lineComment,h=[],f=null==n.padding?" ":n.padding;e:if(p){for(var m=d;m<=u;++m){var _=l.getLine(m),g=_.indexOf(p);if(g>-1&&!/comment/.test(l.getTokenTypeAt(s(m,g+1)))&&(g=-1),g==-1&&o.test(_))break e;if(g>-1&&o.test(_.slice(0,g)))break e;h.push(_)}if(l.operation(function(){for(var e=d;e<=u;++e){var t=h[e-d],n=t.indexOf(p),r=n+p.length;n<0||(t.slice(r,r+f.length)==f&&(r+=f.length),a=!0,l.replaceRange("",s(e,n),s(e,r)))}}),a)return!0}var v=n.blockCommentStart||c.blockCommentStart,y=n.blockCommentEnd||c.blockCommentEnd;if(!v||!y)return!1;var b=n.blockCommentLead||c.blockCommentLead,w=l.getLine(d),x=w.indexOf(v);if(x==-1)return!1;var k=u==d?w:l.getLine(u),A=k.indexOf(y,u==d?x+v.length:0);A==-1&&d!=u&&(k=l.getLine(--u),A=k.indexOf(y));var C=s(d,x+1),E=s(u,A+1);if(A==-1||!/comment/.test(l.getTokenTypeAt(C))||!/comment/.test(l.getTokenTypeAt(E))||l.getRange(C,E,"\n").indexOf(y)>-1)return!1;var S=w.lastIndexOf(v,e.ch),j=S==-1?-1:w.slice(0,e.ch).indexOf(y,S+v.length);if(S!=-1&&j!=-1&&j+y.length!=e.ch)return!1;j=k.indexOf(y,t.ch);var M=k.slice(t.ch).lastIndexOf(v,j-t.ch);return S=j==-1||M==-1?-1:t.ch+M,(j==-1||S==-1||S==t.ch)&&(l.operation(function(){l.replaceRange("",s(u,A-(f&&k.slice(A-f.length,A)==f?f.length:0)),s(u,A+y.length));var e=x+v.length;if(f&&w.slice(e,e+f.length)==f&&(e+=f.length),l.replaceRange("",s(d,x),s(d,e)),b)for(var t=d+1;t<=u;++t){var n=l.getLine(t),r=n.indexOf(b);if(r!=-1&&!o.test(n.slice(0,r))){var i=r+b.length;f&&n.slice(i,i+f.length)==f&&(i+=f.length),l.replaceRange("",s(t,r),s(t,i))}}}),!0)})})},function(e,exports,t){!function(e){e(t(2))}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:p[t]}function n(e){return function(t){return a(t,e)}}function r(e){var t=e.state.closeBrackets;if(!t||t.override)return t;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function i(n){var i=r(n);if(!i||n.getOption("disableInput"))return e.Pass;for(var o=t(i,"pairs"),s=n.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return e.Pass;var l=c(n,s[a].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}for(var a=s.length-1;a>=0;a--){var u=s[a].head;n.replaceRange("",h(u.line,u.ch-1),h(u.line,u.ch+1),"+delete")}}function o(n){var i=r(n),o=i&&t(i,"explode");if(!o||n.getOption("disableInput"))return e.Pass;for(var s=n.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return e.Pass;var l=c(n,s[a].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}n.operation(function(){n.replaceSelection("\n\n",null),n.execCommand("goCharLeft"),s=n.listSelections();for(var e=0;e<s.length;e++){var t=s[e].head.line;n.indentLine(t,null,!0),n.indentLine(t+1,null,!0)}})}function s(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new h(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new h(t.head.line,t.head.ch+(n?1:-1))}}function a(n,i){var o=r(n);if(!o||n.getOption("disableInput"))return e.Pass;var a=t(o,"pairs"),c=a.indexOf(i);if(c==-1)return e.Pass;for(var p,f=t(o,"triples"),m=a.charAt(c+1)==i,_=n.listSelections(),g=c%2==0,v=0;v<_.length;v++){var y,b=_[v],w=b.head,x=n.getRange(w,h(w.line,w.ch+1));if(g&&!b.empty())y="surround";else if(!m&&g||x!=i)if(m&&w.ch>1&&f.indexOf(i)>=0&&n.getRange(h(w.line,w.ch-2),w)==i+i&&(w.ch<=2||n.getRange(h(w.line,w.ch-3),h(w.line,w.ch-2))!=i))y="addFour";else if(m){if(e.isWordChar(x)||!u(n,w,i))return e.Pass;y="both"}else{if(!g||n.getLine(w.line).length!=w.ch&&!l(x,a)&&!/\s/.test(x))return e.Pass;y="both"}else y=m&&d(n,w)?"both":f.indexOf(i)>=0&&n.getRange(w,h(w.line,w.ch+3))==i+i+i?"skipThree":"skip";if(p){if(p!=y)return e.Pass}else p=y}var k=c%2?a.charAt(c-1):i,A=c%2?i:a.charAt(c+1);n.operation(function(){if("skip"==p)n.execCommand("goCharRight");else if("skipThree"==p)for(var e=0;e<3;e++)n.execCommand("goCharRight");else if("surround"==p){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=k+t[e]+A;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(var e=0;e<t.length;e++)t[e]=s(t[e]);n.setSelections(t)}else"both"==p?(n.replaceSelection(k+A,null),n.triggerElectric(k+A),n.execCommand("goCharLeft")):"addFour"==p&&(n.replaceSelection(k+k+k+k,"before"),n.execCommand("goCharRight"))})}function l(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function c(e,t){var n=e.getRange(h(t.line,t.ch-1),h(t.line,t.ch+1));return 2==n.length?n:null}function u(t,n,r){var i=t.getLine(n.line),o=t.getTokenAt(n);if(/\bstring2?\b/.test(o.type)||d(t,n))return!1;var s=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(s.pos=s.start=o.start;;){var a=t.getMode().token(s,o.state);if(s.pos>=n.ch+1)return/\bstring2?\b/.test(a);s.start=s.pos}}function d(e,t){var n=e.getTokenAt(h(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch}var p={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},h=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.removeKeyMap(m),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(m))});for(var f=p.pairs+"`",m={Backspace:i,Enter:o},_=0;_<f.length;_++)m["'"+f.charAt(_)+"'"]=n(f.charAt(_))})},function(e,exports,t){!function(e){e(t(2),t(138))}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),r=[],l=0;l<n.length;l++){if(!n[l].empty())return e.Pass;var c=n[l].head,u=t.getTokenAt(c),d=e.innerMode(t.getMode(),u.state),p=d.state;if("xml"!=d.mode.name||!p.tagName)return e.Pass;var h=t.getOption("autoCloseTags"),f="html"==d.mode.configuration,m="object"==typeof h&&h.dontCloseTags||f&&s,_="object"==typeof h&&h.indentTags||f&&a,g=p.tagName;u.end>c.ch&&(g=g.slice(0,g.length-u.end+c.ch));var v=g.toLowerCase();if(!g||"string"==u.type&&(u.end!=c.ch||!/[\"\']/.test(u.string.charAt(u.string.length-1))||1==u.string.length)||"tag"==u.type&&"closeTag"==p.type||u.string.indexOf("/")==u.string.length-1||m&&i(m,v)>-1||o(t,g,c,p,!0))return e.Pass;var y=_&&i(_,v)>-1;r[l]={indent:y,text:">"+(y?"\n\n":"")+"</"+g+">",newPos:y?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}for(var l=n.length-1;l>=0;l--){var b=r[l];t.replaceRange(b.text,n[l].head,n[l].anchor,"+insert");var w=t.listSelections().slice(0);w[l]={head:b.newPos,anchor:b.newPos},t.setSelections(w),b.indent&&(t.indentLine(b.newPos.line,null,!0),t.indentLine(b.newPos.line+1,null,!0))}}function n(t,n){for(var r=t.listSelections(),i=[],s=n?"/":"</",a=0;a<r.length;a++){if(!r[a].empty())return e.Pass;var l=r[a].head,c=t.getTokenAt(l),u=e.innerMode(t.getMode(),c.state),d=u.state;if(n&&("string"==c.type||"<"!=c.string.charAt(0)||c.start!=l.ch-1))return e.Pass;var p;if("xml"!=u.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==u.mode.name)p=s+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=u.mode.name)return e.Pass;p=s+"style"}else{if(!d.context||!d.context.tagName||o(t,d.context.tagName,l,d))return e.Pass;p=s+d.context.tagName}">"!=t.getLine(l.line).charAt(c.end)&&(p+=">"),i[a]=p}t.replaceSelections(i),r=t.listSelections();for(var a=0;a<r.length;a++)(a==r.length-1||r[a].head.line<r[a+1].head.line)&&t.indentLine(r[a].head.line)}function r(t){return t.getOption("disableInput")?e.Pass:n(t,!0)}function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var s=Math.min(t.lastLine()+1,r.line+500),a=e.scanForClosingTag(t,r,null,s);if(!a||a.tag!=n)return!1;for(var l=i.context,c=o?1:0;l&&l.tagName==n;l=l.prev)++c;r=a.to;for(var u=1;u<c;u++){var d=e.scanForClosingTag(t,r,null,s);if(!d||d.tag!=n)return!1;r=d.to}return!0}e.defineOption("autoCloseTags",!1,function(n,i,o){if(o!=e.Init&&o&&n.removeKeyMap("autoCloseTags"),i){var s={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(s["'/'"]=function(e){return r(e)}),("object"!=typeof i||i.whenOpening)&&(s["'>'"]=function(e){return t(e)}),n.addKeyMap(s)}});var s=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return n(e)}})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,r=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(i){if(i.getOption("disableInput"))return e.Pass;for(var o=i.listSelections(),s=[],a=0;a<o.length;a++){var l=o[a].head,c=i.getStateAfter(l.line),u=c.list!==!1,d=0!==c.quote,p=i.getLine(l.line),h=t.exec(p);if(!o[a].empty()||!u&&!d||!h)return void i.execCommand("newlineAndIndent");if(n.test(p))/>\s*$/.test(p)||i.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[a]="\n";else{var f=h[1],m=h[5],_=r.test(h[2])||h[2].indexOf(">")>=0?h[2].replace("x"," "):parseInt(h[3],10)+1+h[4];s[a]="\n"+f+_+m}}i.replaceSelections(s)}})},function(e,exports,t){!function(e){e(t(2),t(138))}(function(e){"use strict";function t(e){e.state.tagHit&&e.state.tagHit.clear(),e.state.tagOther&&e.state.tagOther.clear(),e.state.tagHit=e.state.tagOther=null}function n(n){n.state.failedTagMatch=!1,n.operation(function(){if(t(n),!n.somethingSelected()){var r=n.getCursor(),i=n.getViewport();i.from=Math.min(i.from,r.line),i.to=Math.max(r.line+1,i.to);var o=e.findMatchingTag(n,r,i);if(o){if(n.state.matchBothTags){var s="open"==o.at?o.open:o.close;s&&(n.state.tagHit=n.markText(s.from,s.to,{className:"CodeMirror-matchingtag"}))}var a="close"==o.at?o.open:o.close;a?n.state.tagOther=n.markText(a.from,a.to,{className:"CodeMirror-matchingtag"}):n.state.failedTagMatch=!0}}})}function r(e){e.state.failedTagMatch&&n(e)}e.defineOption("matchTags",!1,function(i,o,s){s&&s!=e.Init&&(i.off("cursorActivity",n),i.off("viewportChange",r),t(i)),o&&(i.state.matchBothTags="object"==typeof o&&o.bothTags,i.on("cursorActivity",n),i.on("viewportChange",r),n(i))}),e.commands.toMatchingTag=function(t){var n=e.findMatchingTag(t,t.getCursor());if(n){var r="close"==n.at?n.open:n.close;r&&t.extendSelection(r.to,r.from)}}})},function(e,exports,t){!function(e){e(t(2))}(function(e){e.defineOption("showTrailingSpace",!1,function(t,n,r){r==e.Init&&(r=!1),r&&!n?t.removeOverlay("trailingspace"):!r&&n&&t.addOverlay({token:function(e){for(var t=e.string.length,n=t;n&&/\s/.test(e.string.charAt(n-1));--n);return n>e.pos?(e.pos=n,null):(e.pos=t,"trailingspace")},name:"trailingspace"})})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var a=n.ch,l=0;;){var c=a<=0?-1:s.lastIndexOf(r,a-1);if(c!=-1){if(1==l&&c<n.ch)break;if(i=t.getTokenTypeAt(e.Pos(o,c+1)),!/^(comment|string)/.test(i))return c+1;a=c-1}else{if(1==l)break;l=1,a=s.length}}}var i,o=n.line,s=t.getLine(o),a="{",l="}",c=r("{");if(null==c&&(a="[",l="]",c=r("[")),null!=c){var u,d,p=1,h=t.lastLine();e:for(var f=o;f<=h;++f)for(var m=t.getLine(f),_=f==o?c:0;;){var g=m.indexOf(a,_),v=m.indexOf(l,_);if(g<0&&(g=m.length),v<0&&(v=m.length),_=Math.min(g,v),_==m.length)break;if(t.getTokenTypeAt(e.Pos(f,_+1))==i)if(_==g)++p;else if(!--p){u=f,d=_;break e}++_}if(null!=u&&(o!=u||d!=c))return{from:e.Pos(o,c),to:e.Pos(u,d)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var s=t.getLine(i),a=s.indexOf(";");if(a!=-1)return{startCh:r.end,end:e.Pos(i,a)}}}var i,o=n.line,s=r(o);if(!s||r(o-1)||(i=r(o-2))&&i.end.line==o-1)return null;for(var a=s.end;;){var l=r(a.line+1);if(null==l)break;a=l.end}return{from:t.clipPos(e.Pos(o,s.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=n.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var s=i;;){var a=r(s+1);if(null==a)break;++s}return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(s))}})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var s,a=n.line,l=t.getLine(a),c=n.ch,u=0;;){var d=c<=0?-1:l.lastIndexOf(i,c-1);if(d!=-1){if(1==u&&d<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(a,d+1)))&&(0==d||l.slice(d-o.length,d)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(a,d))))){s=d+i.length;break}c=d-1}else{if(1==u)return;u=1,c=l.length}}var p,h,f=1,m=t.lastLine();e:for(var _=a;_<=m;++_)for(var g=t.getLine(_),v=_==a?s:0;;){var y=g.indexOf(i,v),b=g.indexOf(o,v);if(y<0&&(y=g.length),b<0&&(b=g.length),v=Math.min(y,b),v==g.length)break;if(v==y)++f;else if(!--f){p=_,h=v;break e}++v}if(null!=p&&(a!=p||h!=s))return{from:e.Pos(a,s),to:e.Pos(p,h)}}})})},function(e,exports,t){!function(e){e(t(2),t(211))}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return e===!0&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarks(d(t,0),d(t+1,0)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==t)return n[r]}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,s=t,a=e.foldOption(o,"minFoldSize"),l=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(r(e,s))n=i(o.indicatorFolded);else{var c=d(s,0),u=l&&l(e,c);u&&u.to.line-u.from.line>=a&&(n=i(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n),++s})}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function a(e,t,n){var i=e.state.foldGutter;if(i){var o=i.options;if(n==o.gutter){var s=r(e,t);s?s.clear():e.foldCode(d(t,0),o.rangeFinder)}}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}}function c(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function u(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}}e.defineOption("foldGutter",!1,function(r,i,o){o&&o!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",a),r.off("change",l),r.off("viewportChange",c),r.off("fold",u),r.off("unfold",u),r.off("swapDoc",l)),i&&(r.state.foldGutter=new t(n(i)),s(r),r.on("gutterClick",a),r.on("change",l),r.on("viewportChange",c),r.on("fold",u),r.on("unfold",u),r.on("swapDoc",l))});var d=e.Pos})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(t,n){var r=t.getLine(n),i=r.search(/\S/);return i==-1||/\bcomment\b/.test(t.getTokenTypeAt(e.Pos(n,i+1)))?-1:e.countColumn(r,null,t.getOption("tabSize"))}!e.registerHelper("fold","indent",function(n,r){var i=t(n,r.line);if(!(i<0)){for(var o=null,s=r.line+1,a=n.lastLine();s<=a;++s){var l=t(n,s);if(l==-1);else{if(!(l>i))break;o=s}}return o?{from:e.Pos(r.line,n.getLine(r.line).length),to:e.Pos(o,n.getLine(o).length)}:void 0}})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){function r(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function i(e,t,n){var i=t&&t.match(/^#+/);return i&&r(e)?i[0].length:(i=n&&n.match(/^[=\-]+\s*$/),i&&r(e+1)?"="==n[0]?1:2:o)}var o=100,s=t.getLine(n.line),a=t.getLine(n.line+1),l=i(n.line,s,a);if(l!==o){for(var c=t.lastLine(),u=n.line,d=t.getLine(u+2);u<c&&!(i(u+1,a,d)<=l);)++u,a=d,d=t.getLine(u+2);return{from:e.Pos(n.line,s.length),to:e.Pos(u,t.getLine(u).length)}}})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";var t=/[\w$]+/,n=500;e.registerHelper("hint","anyword",function(r,i){for(var o=i&&i.word||t,s=i&&i.range||n,a=r.getCursor(),l=r.getLine(a.line),c=a.ch,u=c;u&&o.test(l.charAt(u-1));)--u;for(var d=u!=c&&l.slice(u,c),p=i&&i.list||[],h={},f=RegExp(o.source,"g"),m=-1;m<=1;m+=2)for(var _=a.line,g=Math.min(Math.max(_+m*s,r.firstLine()),r.lastLine())+m;_!=g;_+=m)for(var v,y=r.getLine(_);v=f.exec(y);)_==a.line&&v[0]===d||d&&0!=v[0].lastIndexOf(d,0)||Object.prototype.hasOwnProperty.call(h,v[0])||(h[v[0]]=!0,p.push(v[0]));return{list:p,from:e.Pos(a.line,u),to:e.Pos(a.line,c)}})})},function(e,exports,t){!function(e){e(t(2),t(87))}(function(e){
"use strict";var t={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};e.registerHelper("hint","css",function(n){function r(e){for(var t in e)c&&0!=t.lastIndexOf(c,0)||d.push(t)}var i=n.getCursor(),o=n.getTokenAt(i),s=e.innerMode(n.getMode(),o.state);if("css"==s.mode.name){if("keyword"==o.type&&0=="!important".indexOf(o.string))return{list:["!important"],from:e.Pos(i.line,o.start),to:e.Pos(i.line,o.end)};var a=o.start,l=i.ch,c=o.string.slice(0,l-a);/[^\w$_-]/.test(c)&&(c="",a=l=i.ch);var u=e.resolveMode("text/css"),d=[],p=s.state.state;return"pseudo"==p||"variable-3"==o.type?r(t):"block"==p||"maybeprop"==p?r(u.propertyKeywords):"prop"==p||"parens"==p||"at"==p||"params"==p?(r(u.valueKeywords),r(u.colorKeywords)):"media"!=p&&"media_parens"!=p||(r(u.mediaTypes),r(u.mediaFeatures)),d.length?{list:d,from:e.Pos(i.line,a),to:e.Pos(i.line,l)}:void 0}})})},function(e,exports,t){!function(e){e(t(2),t(212))}(function(e){"use strict";function t(e){for(var t in d)d.hasOwnProperty(t)&&(e.attrs[t]=d[t])}function n(t,n){var r={schemaInfo:u};if(n)for(var i in n)r[i]=n[i];return e.hint.xml(t,r)}var r="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),i=["_blank","_self","_top","_parent"],o=["ascii","utf-8","utf-16","latin1","latin1"],s=["get","post","put","delete"],a=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],l=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],c={attrs:{}},u={a:{attrs:{href:null,ping:null,type:null,media:l,target:i,hreflang:r}},abbr:c,acronym:c,address:c,applet:c,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:l,hreflang:r,type:null,shape:["default","rect","circle","poly"]}},article:c,aside:c,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:c,base:{attrs:{href:null,target:i}},basefont:c,bdi:c,bdo:c,big:c,blockquote:{attrs:{cite:null}},body:c,br:c,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:a,formmethod:s,formnovalidate:["","novalidate"],formtarget:i,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:c,center:c,cite:c,code:c,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:c,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:c,dir:c,div:c,dl:c,dt:c,em:c,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:c,figure:c,font:c,footer:c,form:{attrs:{action:null,name:null,"accept-charset":o,autocomplete:["on","off"],enctype:a,method:s,novalidate:["","novalidate"],target:i}},frame:c,frameset:c,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:c,hgroup:c,hr:c,html:{attrs:{manifest:null},children:["head","body"]},i:c,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:a,formmethod:s,formnovalidate:["","novalidate"],formtarget:i,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:c,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:c,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:r,media:l,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:c,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:o,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:c,noframes:c,noscript:c,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:c,param:{attrs:{name:null,value:null}},pre:c,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:c,rt:c,ruby:c,s:c,samp:c,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:o}},section:c,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:c,source:{attrs:{src:null,type:null,media:null}},span:c,strike:c,strong:c,style:{attrs:{type:["text/css"],media:l,scoped:null}},sub:c,summary:c,sup:c,table:c,tbody:c,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:c,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:c,time:{attrs:{datetime:null}},title:c,tr:c,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:r}},tt:c,u:c,ul:c,var:c,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:c},d={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],class:null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};t(c);for(var p in u)u.hasOwnProperty(p)&&u[p]!=c&&t(u[p]);e.htmlSchema=u,e.registerHelper("hint","html",n)})},function(e,exports,t){!function(e){e(t(2))}(function(e){function t(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function n(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return e.indexOf(t)!=-1}function r(t,n,r,i){var o=t.getCursor(),s=r(t,o);if(!/\b(?:string|comment)\b/.test(s.type)){s.state=e.innerMode(t.getMode(),s.state).state,/^[\w$_]*$/.test(s.string)?s.end>o.ch&&(s.end=o.ch,s.string=s.string.slice(0,o.ch-s.start)):s={start:o.ch,end:o.ch,string:"",state:s.state,type:"."==s.string?"property":null};for(var a=s;"property"==a.type;){if(a=r(t,c(o.line,a.start)),"."!=a.string)return;if(a=r(t,c(o.line,a.start)),!u)var u=[];u.push(a)}return{list:l(s,u,n,i),from:c(o.line,s.start),to:c(o.line,s.end)}}}function i(e,t){return r(e,h,function(e,t){return e.getTokenAt(t)},t)}function o(e,t){var n=e.getTokenAt(t);return t.ch==n.start+1&&"."==n.string.charAt(0)?(n.end=n.start,n.string=".",n.type="property"):/^\.[\w$_]*$/.test(n.string)&&(n.type="property",n.start++,n.string=n.string.replace(/\./,"")),n}function s(e,t){return r(e,f,o,t)}function a(e,t){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var n=e;n;n=Object.getPrototypeOf(n))Object.getOwnPropertyNames(n).forEach(t);else for(var r in e)t(r)}function l(e,r,i,o){function s(e){0!=e.lastIndexOf(h,0)||n(c,e)||c.push(e)}function l(e){"string"==typeof e?t(u,s):e instanceof Array?t(d,s):e instanceof Function&&t(p,s),a(e,s)}var c=[],h=e.string,f=o&&o.globalScope||window;if(r&&r.length){var m,_=r.pop();for(_.type&&0===_.type.indexOf("variable")?(o&&o.additionalContext&&(m=o.additionalContext[_.string]),o&&o.useGlobalScope===!1||(m=m||f[_.string])):"string"==_.type?m="":"atom"==_.type?m=1:"function"==_.type&&(null==f.jQuery||"$"!=_.string&&"jQuery"!=_.string||"function"!=typeof f.jQuery?null!=f._&&"_"==_.string&&"function"==typeof f._&&(m=f._()):m=f.jQuery());null!=m&&r.length;)m=m[r.pop().string];null!=m&&l(m)}else{for(var g=e.state.localVars;g;g=g.next)s(g.name);for(var g=e.state.globalVars;g;g=g.next)s(g.name);o&&o.useGlobalScope===!1||l(f),t(i,s)}return c}var c=e.Pos;e.registerHelper("hint","javascript",i),e.registerHelper("hint","coffeescript",s);var u="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),d="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),p="prototype apply call bind".split(" "),h="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),f="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(t,n){var r=e.cmpPos(n.from,t.from);return r>0&&t.to.ch-t.from.ch!=n.to.ch-n.from.ch}function r(e,t,n){var r=e.options.hintOptions,i={};for(var o in m)i[o]=m[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function i(e){return"string"==typeof e?e:e.text}function o(e,t){function n(e,n){var i;i="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,o[e]=i}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.options.customKeys,o=i?{}:r;if(i)for(var s in i)i.hasOwnProperty(s)&&n(s,i[s]);var a=e.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&n(s,a[s]);return o}function s(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,n){this.completion=t,this.data=n,this.picked=!1;var r=this,a=t.cm,l=this.hints=document.createElement("ul");l.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var c=n.list,u=0;u<c.length;++u){var h=l.appendChild(document.createElement("li")),f=c[u],m=d+(u!=this.selectedHint?"":" "+p);null!=f.className&&(m=f.className+" "+m),h.className=m,f.render?f.render(h,n,f):h.appendChild(document.createTextNode(f.displayText||i(f))),h.hintId=u}var _=a.cursorCoords(t.options.alignWithWord?n.from:null),g=_.left,v=_.bottom,y=!0;l.style.left=g+"px",l.style.top=v+"px";var b=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),w=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(l);var x=l.getBoundingClientRect(),k=x.bottom-w,A=l.scrollHeight>l.clientHeight+1,C=a.getScrollInfo();if(k>0){var E=x.bottom-x.top,S=_.top-(_.bottom-x.top);if(S-E>0)l.style.top=(v=_.top-E)+"px",y=!1;else if(E>w){l.style.height=w-5+"px",l.style.top=(v=_.bottom-x.top)+"px";var j=a.getCursor();n.from.ch!=j.ch&&(_=a.cursorCoords(j),l.style.left=(g=_.left)+"px",x=l.getBoundingClientRect())}}var M=x.right-b;if(M>0&&(x.right-x.left>b&&(l.style.width=b-5+"px",M-=x.right-x.left-b),l.style.left=(g=_.left-M)+"px"),A)for(var T=l.firstChild;T;T=T.nextSibling)T.style.paddingRight=a.display.nativeBarWidth+"px";if(a.addKeyMap(this.keyMap=o(t,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:c.length,close:function(){t.close()},pick:function(){r.pick()},data:n})),t.options.closeOnUnfocus){var O;a.on("blur",this.onBlur=function(){O=setTimeout(function(){t.close()},100)}),a.on("focus",this.onFocus=function(){clearTimeout(O)})}return a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),n=a.getWrapperElement().getBoundingClientRect(),r=v+C.top-e.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return y||(i+=l.offsetHeight),i<=n.top||i>=n.bottom?t.close():(l.style.top=r+"px",void(l.style.left=g+C.left-e.left+"px"))}),e.on(l,"dblclick",function(e){var t=s(l,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())}),e.on(l,"click",function(e){var n=s(l,e.target||e.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),t.options.completeOnSingleClick&&r.pick())}),e.on(l,"mousedown",function(){setTimeout(function(){a.focus()},20)}),e.signal(n,"select",c[0],l.firstChild),!0}function l(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}function c(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}function u(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){function r(i){return i==o.length?t(null):void c(o[i],e,n,function(e){e&&e.list.length>0?t(e):r(i+1)})}var o=l(e,i);r(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}var d="CodeMirror-hint",p="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",function(n){n=r(this,this.getCursor("start"),n);var i=this.listSelections();if(!(i.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var o=0;o<i.length;o++)if(i[o].head.line!=i[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var s=this.state.completionActive=new t(this,n);s.options.hint&&(e.signal(this,"startCompletion",this),s.update(!0))}});var h=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},f=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(i(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(f(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=h(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;c(this.options.hint,this.cm,this.options,function(r){t.tick==n&&t.finishUpdate(r,e)})}},finishUpdate:function(t,r){this.data&&e.signal(this.data,"update");var i=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&n(this.data,t)||(this.data=t,t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):(this.widget=new a(this,t),e.signal(t,"shown"))))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+p,""),r=this.hints.childNodes[this.selectedHint=t],r.className+=" "+p,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:u}),e.registerHelper("hint","fromList",function(t,n){var r=t.getCursor(),i=t.getTokenAt(r),o=e.Pos(r.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var s=i.string,a=e.Pos(r.line,i.start);else var s="",a=o;for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,s.length)==s&&l.push(u)}if(l.length)return{list:l,from:a,to:o}}),e.commands.autocomplete=e.showHint;var m={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},function(e,exports,t){!function(e){e(t(2),t(218))}(function(e){"use strict";function t(e){return"[object Array]"==Object.prototype.toString.call(e)}function n(t){var n=t.doc.modeOption;return"sql"===n&&(n="text/x-sql"),e.resolveMode(n).keywords}function r(t){var n=t.doc.modeOption;return"sql"===n&&(n="text/x-sql"),e.resolveMode(n).identifierQuote||"`"}function i(e){return"string"==typeof e?e:e.text}function o(e,n){return t(n)&&(n={columns:n}),n.text||(n.text=e),n}function s(e){var n={};if(t(e))for(var r=e.length-1;r>=0;r--){var s=e[r];n[i(s).toUpperCase()]=o(i(s),s)}else if(e)for(var a in e)n[a.toUpperCase()]=o(a,e[a]);return n}function a(e){return _[e.toUpperCase()]}function l(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function c(e,t){var n=e.length,r=i(t).substr(0,n);return e.toUpperCase()===r.toUpperCase()}function u(e,n,r,i){if(t(r))for(var o=0;o<r.length;o++)c(n,r[o])&&e.push(i(r[o]));else for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a=a&&a!==!0?a.displayText?{text:a.text,displayText:a.displayText}:a.text:s,c(n,a)&&e.push(i(a))}}function d(e){"."==e.charAt(0)&&(e=e.substr(1));for(var t=e.split(y+y),n=0;n<t.length;n++)t[n]=t[n].replace(RegExp(y,"g"),"");return t.join(y)}function p(e){for(var t=i(e).split("."),n=0;n<t.length;n++)t[n]=y+t[n].replace(RegExp(y,"g"),y+y)+y;var r=t.join(".");return"string"==typeof e?r:(e=l(e),e.text=r,e)}function h(e,t,n,r){for(var i=!1,o=[],s=t.start,c=!0;c;)c="."==t.string.charAt(0),i=i||t.string.charAt(0)==y,s=t.start,o.unshift(d(t.string)),t=r.getTokenAt(w(e.line,t.start)),"."==t.string&&(c=!0,t=r.getTokenAt(w(e.line,t.start)));var h=o.join(".");u(n,h,_,function(e){return i?p(e):e}),u(n,h,g,function(e){return i?p(e):e}),h=o.pop();var f=o.join("."),v=!1,b=f;if(!a(f)){var x=f;f=m(f,r),f!==x&&(v=!0)}var k=a(f);return k&&k.columns&&(k=k.columns),k&&u(n,h,k,function(e){var t=f;return 1==v&&(t=b),"string"==typeof e?e=t+"."+e:(e=l(e),e.text=t+"."+e.text),i?p(e):e}),s}function f(e,t){if(e)for(var n=/[,;]/g,r=e.split(" "),i=0;i<r.length;i++)t(r[i]?r[i].replace(n,""):"")}function m(e,t){for(var n=t.doc,r=n.getValue(),i=e.toUpperCase(),o="",s="",l=[],c={start:w(0,0),end:w(t.lastLine(),t.getLineHandle(t.lastLine()).length)},u=r.indexOf(b.QUERY_DIV);u!=-1;)l.push(n.posFromIndex(u)),u=r.indexOf(b.QUERY_DIV,u+1);l.unshift(w(0,0)),l.push(w(t.lastLine(),t.getLineHandle(t.lastLine()).text.length));for(var d=null,p=t.getCursor(),h=0;h<l.length;h++){if((null==d||x(p,d)>0)&&x(p,l[h])<=0){c={start:d,end:l[h]};break}d=l[h]}for(var m=n.getRange(c.start,c.end,!1),h=0;h<m.length;h++){var _=m[h];if(f(_,function(e){var t=e.toUpperCase();t===i&&a(o)&&(s=o),t!==b.ALIAS_KEYWORD&&(o=e)}),s)break}return s}var _,g,v,y,b={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},w=e.Pos,x=e.cmpPos;e.registerHelper("hint","sql",function(e,t){_=s(t&&t.tables);var i=t&&t.defaultTable,o=t&&t.disableKeywords;g=i&&a(i),v=n(e),y=r(e),i&&!g&&(g=m(i,e)),g=g||[],g.columns&&(g=g.columns);var l,c,d,p=e.getCursor(),f=[],b=e.getTokenAt(p);return b.end>p.ch&&(b.end=p.ch,b.string=b.string.slice(0,p.ch-b.start)),b.string.match(/^[.`"\w@]\w*$/)?(d=b.string,l=b.start,c=b.end):(l=c=p.ch,d=""),"."==d.charAt(0)||d.charAt(0)==y?l=h(p,b,f,e):(u(f,d,_,function(e){return e}),u(f,d,g,function(e){return e}),o||u(f,d,v,function(e){return e.toUpperCase()})),{list:f,from:w(p.line,l),to:w(p.line,c)}})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.runMode=function(t,n,r,i){var o=e.getMode(e.defaults,n),s=/MSIE \d/.test(navigator.userAgent),a=s&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var l=i&&i.tabSize||e.defaults.tabSize,c=r,u=0;c.innerHTML="",r=function(e,t){if("\n"==e)return c.appendChild(document.createTextNode(a?"\r":e)),void(u=0);for(var n="",r=0;;){var i=e.indexOf("\t",r);if(i==-1){n+=e.slice(r),u+=e.length-r;break}u+=i-r,n+=e.slice(r,i);var o=l-u%l;u+=o;for(var s=0;s<o;++s)n+=" ";r=i+1}if(t){var d=c.appendChild(document.createElement("span"));d.className="cm-"+t.replace(/ +/g," cm-"),d.appendChild(document.createTextNode(n))}else c.appendChild(document.createTextNode(n))}}for(var d=e.splitLines(t),p=i&&i.state||e.startState(o),h=0,f=d.length;h<f;++h){h&&r("\n");var m=new e.StringStream(d[h]);for(!m.string&&o.blankLine&&o.blankLine(p);!m.eol();){var _=o.token(m,p);r(m.current(),_,h,m.start,p),m.start=m.pos}}}})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e){for(var t=0;t<e.state.activeLines.length;t++)e.removeLineClass(e.state.activeLines[t],"wrap",o),e.removeLineClass(e.state.activeLines[t],"background",s),e.removeLineClass(e.state.activeLines[t],"gutter",a)}function n(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function r(e,r){for(var i=[],l=0;l<r.length;l++){var c=r[l],u=e.getOption("styleActiveLine");if("object"==typeof u&&u.nonEmpty?c.anchor.line==c.head.line:c.empty()){var d=e.getLineHandleVisualStart(c.head.line);i[i.length-1]!=d&&i.push(d)}}n(e.state.activeLines,i)||e.operation(function(){t(e);for(var n=0;n<i.length;n++)e.addLineClass(i[n],"wrap",o),e.addLineClass(i[n],"background",s),e.addLineClass(i[n],"gutter",a);e.state.activeLines=i})}function i(e,t){r(e,t.ranges)}var o="CodeMirror-activeline",s="CodeMirror-activeline-background",a="CodeMirror-activeline-gutter";e.defineOption("styleActiveLine",!1,function(n,o,s){var a=s!=e.Init&&s;o!=a&&(a&&(n.off("beforeSelectionChange",i),t(n),delete n.state.activeLines),o&&(n.state.activeLines=[],r(n,n.listSelections()),n.on("beforeSelectionChange",i)))})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t,n){for(var r=n.paragraphStart||e.getHelper(t,"paragraphStart"),i=t.line,o=e.firstLine();i>o;--i){var s=e.getLine(i);if(r&&r.test(s))break;if(!/\S/.test(s)){++i;break}}for(var a=n.paragraphEnd||e.getHelper(t,"paragraphEnd"),l=t.line+1,c=e.lastLine();l<=c;++l){var s=e.getLine(l);if(a&&a.test(s)){++l;break}if(!/\S/.test(s))break}return{from:i,to:l}}function n(e,t,n,r){for(var i=t;i<e.length&&" "==e.charAt(i);)i++;for(;i>0&&!n.test(e.slice(i-1,i+1));--i);for(var o=!0;;o=!1){var s=i;if(r)for(;" "==e.charAt(s-1);)--s;if(0!=s||!o)return{from:s,to:i};i=t}}function r(t,r,o,s){r=t.clipPos(r),o=t.clipPos(o);var a=s.column||80,l=s.wrapOn||/\s\S|-[^\.\d]/,c=s.killTrailingSpace!==!1,u=[],d="",p=r.line,h=t.getRange(r,o,!1);if(!h.length)return null;for(var f=h[0].match(/^[ \t]*/)[0],m=0;m<h.length;++m){var _=h[m],g=d.length,v=0;d&&_&&!l.test(d.charAt(d.length-1)+_.charAt(0))&&(d+=" ",v=1);var y="";if(m&&(y=_.match(/^\s*/)[0],_=_.slice(y.length)),d+=_,m){var b=d.length>a&&f==y&&n(d,a,l,c);b&&b.from==g&&b.to==g+v?(d=f+_,++p):u.push({text:[v?" ":""],from:i(p,g),to:i(p+1,y.length)})}for(;d.length>a;){var w=n(d,a,l,c);u.push({text:["",f],from:i(p,w.from),to:i(p,w.to)}),d=f+d.slice(w.to),++p}}return u.length&&t.operation(function(){for(var n=0;n<u.length;++n){var r=u[n];(r.text||e.cmpPos(r.from,r.to))&&t.replaceRange(r.text,r.from,r.to)}}),u.length?{from:u[0].from,to:e.changeEnd(u[u.length-1])}:null}var i=e.Pos;e.defineExtension("wrapParagraph",function(e,n){n=n||{},e||(e=this.getCursor());var o=t(this,e,n);return r(this,i(o.from,0),i(o.to-1),n)}),e.commands.wrapLines=function(e){e.operation(function(){for(var n=e.listSelections(),o=e.lastLine()+1,s=n.length-1;s>=0;s--){var a,l=n[s];if(l.empty()){var c=t(e,l.head,{});a={from:i(c.from,0),to:i(c.to-1)}}else a={from:l.from(),to:l.to()};a.to.line>=o||(o=a.from.line,r(e,a.from,a.to,{}))}})},e.defineExtension("wrapRange",function(e,t,n){return r(this,e,t,n||{})}),e.defineExtension("wrapParagraphsInRange",function(e,n,o){o=o||{};for(var s=this,a=[],l=e.line;l<=n.line;){var c=t(s,i(l,0),o);a.push(c),l=c.to}var u=!1;return a.length&&s.operation(function(){for(var e=a.length-1;e>=0;--e)u=u||r(s,i(a[e].from,0),i(a[e].to-1),o)}),u})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t){return e.line==t.line&&e.ch==t.ch}function n(e){D.push(e),D.length>50&&D.shift()}function r(e){return D.length?void(D[D.length-1]+=e):n(e)}function i(e){return D[D.length-(e?Math.min(e,1):1)]||""}function o(){return D.length>1&&D.pop(),i()}function s(e,i,o,s,a){null==a&&(a=e.getRange(i,o)),s&&L&&L.cm==e&&t(i,L.pos)&&e.isClean(L.gen)?r(a):n(a),e.replaceRange("",i,o,"+delete"),L=s?{cm:e,pos:i,gen:e.changeGeneration()}:null}function a(e,t,n){return e.findPosH(t,n,"char",!0)}function l(e,t,n){return e.findPosH(t,n,"word",!0)}function c(e,t,n){return e.findPosV(t,n,"line",e.doc.sel.goalColumn)}function u(e,t,n){return e.findPosV(t,n,"page",e.doc.sel.goalColumn)}function d(e,t,n){for(var r=t.line,i=e.getLine(r),o=/\S/.test(n<0?i.slice(0,t.ch):i.slice(t.ch)),s=e.firstLine(),a=e.lastLine();;){if(r+=n,r<s||r>a)return e.clipPos(I(r-n,n<0?0:null));i=e.getLine(r);var l=/\S/.test(i);if(l)o=!0;else if(o)return I(r,0)}}function p(e,t,n){for(var r=t.line,i=t.ch,o=e.getLine(t.line),s=!1;;){var a=o.charAt(i+(n<0?-1:0));if(a){if(s&&/[!?.]/.test(a))return I(r,i+(n>0?1:0));s||(s=/\w/.test(a)),i+=n}else{if(r==(n<0?e.firstLine():e.lastLine()))return I(r,i);if(o=e.getLine(r+n),!/\S/.test(o))return I(r,i);r+=n,i=n<0?o.length:0}}}function h(e,n,r){var i;if(e.findMatchingBracket&&(i=e.findMatchingBracket(n,!0))&&i.match&&(i.forward?1:-1)==r)return r>0?I(i.to.line,i.to.ch+1):i.to;for(var o=!0;;o=!1){var s=e.getTokenAt(n),a=I(n.line,r<0?s.start:s.end);if(!(o&&r>0&&s.end==n.ch)&&/\w/.test(s.string))return a;var l=e.findPosH(a,r,"char");if(t(a,l))return n;n=l}}function f(e,t){var n=e.state.emacsPrefix;return n?(x(e),"-"==n?-1:+n):t?null:1}function m(e){var t="string"==typeof e?function(t){t.execCommand(e)}:e;return function(e){var n=f(e);t(e);for(var r=1;r<n;++r)t(e)}}function _(e,n,r,i){var o=f(e);o<0&&(i=-i,o=-o);for(var s=0;s<o;++s){var a=r(e,n,i);if(t(a,n))break;n=a}return n}function g(e,t){var n=function(n){n.extendSelection(_(n,n.getCursor(),e,t))};return n.motion=!0,n}function v(e,t,n){for(var r,i=e.listSelections(),o=i.length;o--;)r=i[o].head,s(e,r,_(e,r,t,n),!0)}function y(e){if(e.somethingSelected()){for(var t,n=e.listSelections(),r=n.length;r--;)t=n[r],s(e,t.anchor,t.head);return!0}}function b(e,t){return e.state.emacsPrefix?void("-"!=t&&(e.state.emacsPrefix+=t)):(e.state.emacsPrefix=t,e.on("keyHandled",w),void e.on("inputRead",k))}function w(e,t){e.state.emacsPrefixMap||z.hasOwnProperty(t)||x(e)}function x(e){e.state.emacsPrefix=null,e.off("keyHandled",w),e.off("inputRead",k)}function k(e,t){var n=f(e);if(n>1&&"+input"==t.origin){for(var r=t.text.join("\n"),i="",o=1;o<n;++o)i+=r;e.replaceSelection(i)}}function A(e){e.state.emacsPrefixMap=!0,e.addKeyMap(P),e.on("keyHandled",C),e.on("inputRead",C)}function C(e,t){("string"!=typeof t||!/^\d$/.test(t)&&"Ctrl-U"!=t)&&(e.removeKeyMap(P),e.state.emacsPrefixMap=!1,e.off("keyHandled",C),e.off("inputRead",C))}function E(e){e.setCursor(e.getCursor()),e.setExtending(!e.getExtending()),e.on("change",function(){e.setExtending(!1)})}function S(e){e.setExtending(!1),e.setCursor(e.getCursor())}function j(e,t,n){e.openDialog?e.openDialog(t+': <input type="text" style="width: 10em"/>',n,{bottom:!0}):n(prompt(t,""))}function M(e,t){var n=e.getCursor(),r=e.findPosH(n,1,"word");e.replaceRange(t(e.getRange(n,r)),n,r),e.setCursor(r)}function T(e){for(var t=e.getCursor(),n=t.line,r=t.ch,i=[];n>=e.firstLine();){for(var o=e.getLine(n),s=null==r?o.length:r;s>0;){var r=o.charAt(--s);if(")"==r)i.push("(");else if("]"==r)i.push("[");else if("}"==r)i.push("{");else if(/[\(\{\[]/.test(r)&&(!i.length||i.pop()!=r))return e.extendSelection(I(n,s))}--n,r=null}}function O(e){e.execCommand("clearSearch"),S(e)}function N(e){P[e]=function(t){b(t,e)},R["Ctrl-"+e]=function(t){b(t,e)},z["Ctrl-"+e]=!0}var I=e.Pos,D=[],L=null,z={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0};e.emacs={kill:s,killRegion:y,repeated:m};for(var R=e.keyMap.emacs=e.normalizeKeyMap({"Ctrl-W":function(e){s(e,e.getCursor("start"),e.getCursor("end"))},"Ctrl-K":m(function(e){var t=e.getCursor(),n=e.clipPos(I(t.line)),r=e.getRange(t,n);/\S/.test(r)||(r+="\n",n=I(t.line+1,0)),s(e,t,n,!0,r);
}),"Alt-W":function(e){n(e.getSelection()),S(e)},"Ctrl-Y":function(e){var t=e.getCursor();e.replaceRange(i(f(e)),t,t,"paste"),e.setSelection(t,e.getCursor())},"Alt-Y":function(e){e.replaceSelection(o(),"around","paste")},"Ctrl-Space":E,"Ctrl-Shift-2":E,"Ctrl-F":g(a,1),"Ctrl-B":g(a,-1),Right:g(a,1),Left:g(a,-1),"Ctrl-D":function(e){v(e,a,1)},Delete:function(e){y(e)||v(e,a,1)},"Ctrl-H":function(e){v(e,a,-1)},Backspace:function(e){y(e)||v(e,a,-1)},"Alt-F":g(l,1),"Alt-B":g(l,-1),"Alt-D":function(e){v(e,l,1)},"Alt-Backspace":function(e){v(e,l,-1)},"Ctrl-N":g(c,1),"Ctrl-P":g(c,-1),Down:g(c,1),Up:g(c,-1),"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",End:"goLineEnd",Home:"goLineStart","Alt-V":g(u,-1),"Ctrl-V":g(u,1),PageUp:g(u,-1),PageDown:g(u,1),"Ctrl-Up":g(d,-1),"Ctrl-Down":g(d,1),"Alt-A":g(p,-1),"Alt-E":g(p,1),"Alt-K":function(e){v(e,p,1)},"Ctrl-Alt-K":function(e){v(e,h,1)},"Ctrl-Alt-Backspace":function(e){v(e,h,-1)},"Ctrl-Alt-F":g(h,1),"Ctrl-Alt-B":g(h,-1),"Shift-Ctrl-Alt-2":function(e){var t=e.getCursor();e.setSelection(_(e,t,h,1),t)},"Ctrl-Alt-T":function(e){var t=h(e,e.getCursor(),-1),n=h(e,t,1),r=h(e,n,1),i=h(e,r,-1);e.replaceRange(e.getRange(i,r)+e.getRange(n,i)+e.getRange(t,n),t,r)},"Ctrl-Alt-U":m(T),"Alt-Space":function(e){for(var t=e.getCursor(),n=t.ch,r=t.ch,i=e.getLine(t.line);n&&/\s/.test(i.charAt(n-1));)--n;for(;r<i.length&&/\s/.test(i.charAt(r));)++r;e.replaceRange(" ",I(t.line,n),I(t.line,r))},"Ctrl-O":m(function(e){e.replaceSelection("\n","start")}),"Ctrl-T":m(function(e){e.execCommand("transposeChars")}),"Alt-C":m(function(e){M(e,function(e){var t=e.search(/\w/);return t==-1?e:e.slice(0,t)+e.charAt(t).toUpperCase()+e.slice(t+1).toLowerCase()})}),"Alt-U":m(function(e){M(e,function(e){return e.toUpperCase()})}),"Alt-L":m(function(e){M(e,function(e){return e.toLowerCase()})}),"Alt-;":"toggleComment","Ctrl-/":m("undo"),"Shift-Ctrl--":m("undo"),"Ctrl-Z":m("undo"),"Cmd-Z":m("undo"),"Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findNext","Ctrl-R":"findPrev","Ctrl-G":O,"Shift-Alt-5":"replace","Alt-/":"autocomplete",Enter:"newlineAndIndent","Ctrl-J":m(function(e){e.replaceSelection("\n","end")}),Tab:"indentAuto","Alt-G G":function(e){var t=f(e,!0);return null!=t&&t>0?e.setCursor(t-1):void j(e,"Goto line",function(t){var n;t&&!isNaN(n=+t)&&n==(0|n)&&n>0&&e.setCursor(n-1)})},"Ctrl-X Tab":function(e){e.indentSelection(f(e,!0)||e.getOption("indentUnit"))},"Ctrl-X Ctrl-X":function(e){e.setSelection(e.getCursor("head"),e.getCursor("anchor"))},"Ctrl-X Ctrl-S":"save","Ctrl-X Ctrl-W":"save","Ctrl-X S":"saveAll","Ctrl-X F":"open","Ctrl-X U":m("undo"),"Ctrl-X K":"close","Ctrl-X Delete":function(e){s(e,e.getCursor(),p(e,e.getCursor(),1),!0)},"Ctrl-X H":"selectAll","Ctrl-Q Tab":m("insertTab"),"Ctrl-U":A}),P={"Ctrl-G":x},B=0;B<10;++B)N(B+"");N("-")})},function(e,exports,t){!function(e){e(t(2),t(139),t(137))}(function(e){"use strict";function t(t,n,r){if(r<0&&0==n.ch)return t.clipPos(h(n.line-1));var i=t.getLine(n.line);if(r>0&&n.ch>=i.length)return t.clipPos(h(n.line+1,0));for(var o,s="start",a=n.ch,l=r<0?0:i.length,c=0;a!=l;a+=r,c++){var u=i.charAt(r<0?a-1:a),d="_"!=u&&e.isWordChar(u)?"w":"o";if("w"==d&&u.toUpperCase()==u&&(d="W"),"start"==s)"o"!=d&&(s="in",o=d);else if("in"==s&&o!=d){if("w"==o&&"W"==d&&r<0&&a--,"W"==o&&"w"==d&&r>0){o="w";continue}break}}return h(n.line,a)}function n(e,n){e.extendSelectionsBy(function(r){return e.display.shift||e.doc.extend||r.empty()?t(e.doc,r.head,n):n<0?r.from():r.to()})}function r(t,n){return t.isReadOnly()?e.Pass:(t.operation(function(){for(var e=t.listSelections().length,r=[],i=-1,o=0;o<e;o++){var s=t.listSelections()[o].head;if(!(s.line<=i)){var a=h(s.line+(n?0:1),0);t.replaceRange("\n",a,null,"+insertLine"),t.indentLine(a.line,null,!0),r.push({head:a,anchor:a}),i=s.line+1}}t.setSelections(r)}),void t.execCommand("indentAuto"))}function i(t,n){for(var r=n.ch,i=r,o=t.getLine(n.line);r&&e.isWordChar(o.charAt(r-1));)--r;for(;i<o.length&&e.isWordChar(o.charAt(i));)++i;return{from:h(n.line,r),to:h(n.line,i),word:o.slice(r,i)}}function o(e,t,n){for(var r=0;r<e.length;r++)if(e[r].from()==t&&e[r].to()==n)return!0;return!1}function s(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r],o=i.head,s=e.scanForBracket(o,-1);if(!s)return!1;for(;;){var a=e.scanForBracket(o,1);if(!a)return!1;if(a.ch==v.charAt(v.indexOf(s.ch)+1)){n.push({anchor:h(s.pos.line,s.pos.ch+1),head:a.pos});break}o=h(a.pos.line,a.pos.ch+1)}}return e.setSelections(n),!0}function a(t,n){if(t.isReadOnly())return e.Pass;for(var r,i=t.listSelections(),o=[],s=0;s<i.length;s++){var a=i[s];if(!a.empty()){for(var l=a.from().line,c=a.to().line;s<i.length-1&&i[s+1].from().line==c;)c=i[++s].to().line;i[s].to().ch||c--,o.push(l,c)}}o.length?r=!0:o.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],i=0;i<o.length;i+=2){var s=o[i],a=o[i+1],l=h(s,0),c=h(a),u=t.getRange(l,c,!1);n?u.sort():u.sort(function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1}),t.replaceRange(u,l,c),r&&e.push({anchor:l,head:h(a+1,0)})}r&&t.setSelections(e,0)})}function l(t,n){t.operation(function(){for(var r=t.listSelections(),o=[],s=[],a=0;a<r.length;a++){var l=r[a];l.empty()?(o.push(a),s.push("")):s.push(n(t.getRange(l.from(),l.to())))}t.replaceSelections(s,"around","case");for(var c,a=o.length-1;a>=0;a--){var l=r[o[a]];if(!(c&&e.cmpPos(l.head,c)>0)){var u=i(t,l.head);c=u.from,t.replaceRange(n(u.word),u.from,u.to)}}})}function c(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var o=i(t,n);if(!o.word)return;n=o.from,r=o.to}return{from:n,to:r,query:t.getRange(n,r),word:o}}function u(e,t){var n=c(e);if(n){var r=n.query,i=e.getSearchCursor(r,t?n.to:n.from);(t?i.findNext():i.findPrevious())?e.setSelection(i.from(),i.to()):(i=e.getSearchCursor(r,t?h(e.firstLine(),0):e.clipPos(h(e.lastLine()))),(t?i.findNext():i.findPrevious())?e.setSelection(i.from(),i.to()):n.word&&e.setSelection(n.from,n.to))}}var d=e.keyMap.sublime={fallthrough:"default"},p=e.commands,h=e.Pos,f=e.keyMap.default==e.keyMap.macDefault,m=f?"Cmd-":"Ctrl-",_=f?"Ctrl-":"Alt-";p[d[_+"Left"]="goSubwordLeft"]=function(e){n(e,-1)},p[d[_+"Right"]="goSubwordRight"]=function(e){n(e,1)},f&&(d["Cmd-Left"]="goLineStartSmart");var g=f?"Ctrl-Alt-":"Ctrl-";p[d[g+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},p[d[g+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},p[d["Shift-"+m+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)for(var i=t[r].from(),o=t[r].to(),s=i.line;s<=o.line;++s)o.line>i.line&&s==o.line&&0==o.ch||n.push({anchor:s==i.line?i:h(s,0),head:s==o.line?o:h(s)});e.setSelections(n,0)},d["Shift-Tab"]="indentLess",p[d.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},p[d[m+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r];n.push({anchor:h(i.from().line,0),head:h(i.to().line+1,0)})}e.setSelections(n)},d["Shift-Ctrl-K"]="deleteLine",p[d[m+"Enter"]="insertLineAfter"]=function(e){return r(e,!1)},p[d["Shift-"+m+"Enter"]="insertLineBefore"]=function(e){return r(e,!0)},p[d[m+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),r=t.getCursor("to"),s=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,r)){var a=i(t,n);if(!a.word)return;t.setSelection(a.from,a.to),s=!0}else{var l=t.getRange(n,r),c=s?RegExp("\\b"+l+"\\b"):l,u=t.getSearchCursor(c,r),d=u.findNext();if(d||(u=t.getSearchCursor(c,h(t.firstLine(),0)),d=u.findNext()),!d||o(t.listSelections(),u.from(),u.to()))return e.Pass;t.addSelection(u.from(),u.to())}s&&(t.state.sublimeFindFullWord=t.doc.sel)};var v="(){}[]";p[d["Shift-"+m+"Space"]="selectScope"]=function(e){s(e)||e.execCommand("selectAll")},p[d["Shift-"+m+"M"]="selectBetweenBrackets"]=function(t){if(!s(t))return e.Pass},p[d[m+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var r=t.scanForBracket(n.head,1);if(r&&0!=e.cmpPos(r.pos,n.head))return r.pos;var i=t.scanForBracket(n.head,-1);return i&&h(i.pos.line,i.pos.ch+1)||n.head})};var y=f?"Cmd-Ctrl-":"Shift-Ctrl-";p[d[y+"Up"]="swapLineUp"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],i=t.firstLine()-1,o=[],s=0;s<n.length;s++){var a=n[s],l=a.from().line-1,c=a.to().line;o.push({anchor:h(a.anchor.line-1,a.anchor.ch),head:h(a.head.line-1,a.head.ch)}),0!=a.to().ch||a.empty()||--c,l>i?r.push(l,c):r.length&&(r[r.length-1]=c),i=c}t.operation(function(){for(var e=0;e<r.length;e+=2){var n=r[e],i=r[e+1],s=t.getLine(n);t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),i>t.lastLine()?t.replaceRange("\n"+s,h(t.lastLine()),null,"+swapLine"):t.replaceRange(s+"\n",h(i,0),null,"+swapLine")}t.setSelections(o),t.scrollIntoView()})},p[d[y+"Down"]="swapLineDown"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],i=t.lastLine()+1,o=n.length-1;o>=0;o--){var s=n[o],a=s.to().line+1,l=s.from().line;0!=s.to().ch||s.empty()||a--,a<i?r.push(a,l):r.length&&(r[r.length-1]=l),i=l}t.operation(function(){for(var e=r.length-2;e>=0;e-=2){var n=r[e],i=r[e+1],o=t.getLine(n);n==t.lastLine()?t.replaceRange("",h(n-1),h(n),"+swapLine"):t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),t.replaceRange(o+"\n",h(i,0),null,"+swapLine")}t.scrollIntoView()})},p[d[m+"/"]="toggleCommentIndented"]=function(e){e.toggleComment({indent:!0})},p[d[m+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){for(var i=t[r],o=i.from(),s=o.line,a=i.to().line;r<t.length-1&&t[r+1].from().line==a;)a=t[++r].to().line;n.push({start:s,end:a,anchor:!i.empty()&&o})}e.operation(function(){for(var t=0,r=[],i=0;i<n.length;i++){for(var o,s=n[i],a=s.anchor&&h(s.anchor.line-t,s.anchor.ch),l=s.start;l<=s.end;l++){var c=l-t;l==s.end&&(o=h(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",h(c),h(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}r.push({anchor:a||o,head:o})}e.setSelections(r,0)})},p[d["Shift-"+m+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];r.empty()?e.replaceRange(e.getLine(r.head.line)+"\n",h(r.head.line,0)):e.replaceRange(e.getRange(r.from(),r.to()),r.from())}e.scrollIntoView()})},f||(d[m+"T"]="transposeChars"),p[d.F9="sortLines"]=function(e){a(e,!0)},p[d[m+"F9"]="sortLinesInsensitive"]=function(e){a(e,!1)},p[d.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},p[d["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},p[d[m+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),s=e.findMarks(i,o),a=0;a<s.length;a++)if(s[a].sublimeBookmark){s[a].clear();for(var l=0;l<n.length;l++)n[l]==s[a]&&n.splice(l--,1);break}a==s.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},p[d["Shift-"+m+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},p[d["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},d["Alt-Q"]="wrapLines";var b=m+"K ";d[b+m+"Backspace"]="delLineLeft",p[d.Backspace="smartBackspace"]=function(t){return t.somethingSelected()?e.Pass:void t.operation(function(){for(var n=t.listSelections(),r=t.getOption("indentUnit"),i=n.length-1;i>=0;i--){var o=n[i].head,s=t.getRange({line:o.line,ch:0},o),a=e.countColumn(s,null,t.getOption("tabSize")),l=t.findPosH(o,-1,"char",!1);if(s&&!/\S/.test(s)&&a%r==0){var c=new h(o.line,e.findColumn(s,a-r,r));c.ch!=o.ch&&(l=c)}t.replaceRange("",l,o,"+delete")}})},p[d[b+m+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,h(t[n].to().line),"+delete");e.scrollIntoView()})},p[d[b+m+"U"]="upcaseAtCursor"]=function(e){l(e,function(e){return e.toUpperCase()})},p[d[b+m+"L"]="downcaseAtCursor"]=function(e){l(e,function(e){return e.toLowerCase()})},p[d[b+m+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},p[d[b+m+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},p[d[b+m+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i)}},p[d[b+m+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},p[d[b+m+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},d[b+m+"G"]="clearBookmarks",p[d[b+m+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)};var w=f?"Ctrl-Shift-":"Ctrl-Alt-";p[d[w+"Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line>e.firstLine()&&e.addSelection(h(r.head.line-1,r.head.ch))}})},p[d[w+"Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line<e.lastLine()&&e.addSelection(h(r.head.line+1,r.head.ch))}})},p[d[m+"F3"]="findUnder"]=function(e){u(e,!0)},p[d["Shift-"+m+"F3"]="findUnderPrevious"]=function(e){u(e,!1)},p[d["Alt-F3"]="findAllUnder"]=function(e){var t=c(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i)}},d["Shift-"+m+"["]="fold",d["Shift-"+m+"]"]="unfold",d[b+m+"0"]=d[b+m+"J"]="unfoldAll",d[m+"I"]="findIncremental",d["Shift-"+m+"I"]="findIncrementalReverse",d[m+"H"]="replace",d.F3="findNext",d["Shift-F3"]="findPrev",e.normalizeKeyMap(d)})},function(e,exports,t){!function(e){e(t(2),t(139),t(210),t(137))}(function(e){"use strict";var t=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],n=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}],r=e.Pos,i=function(){function i(t){t.setOption("disableInput",!0),t.setOption("showCursorWhenSelecting",!1),e.signal(t,"vim-mode-change",{mode:"normal"}),t.on("cursorActivity",nt),k(t),e.on(t.getInputField(),"paste",u(t))}function o(t){t.setOption("disableInput",!1),t.off("cursorActivity",nt),e.off(t.getInputField(),"paste",u(t)),t.state.vim=null}function s(t,n){this==e.keyMap.vim&&e.rmClass(t.getWrapperElement(),"cm-fat-cursor"),n&&n.attach==a||o(t,!1)}function a(t,n){this==e.keyMap.vim&&e.addClass(t.getWrapperElement(),"cm-fat-cursor"),n&&n.attach==a||i(t)}function l(t,n){if(n){if(this[t])return this[t];var r=c(t);if(!r)return!1;var i=e.Vim.findKey(n,r);return"function"==typeof i&&e.signal(n,"vim-keypress",r),i}}function c(e){if("'"==e.charAt(0))return e.charAt(1);var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var r=!1,i=0;i<t.length;i++){var o=t[i];o in ct?t[i]=ct[o]:r=!0,o in ut&&(t[i]=ut[o])}return!!r&&(_(n)&&(t[t.length-1]=n.toLowerCase()),"<"+t.join("-")+">")}function u(e){var t=e.state.vim;return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(R(e.getCursor(),0,1)),jt.enterInsertMode(e,{},t))}),t.onPasteFn}function d(e,t){for(var n=[],r=e;r<e+t;r++)n.push(String.fromCharCode(r));return n}function p(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function h(e){return/^[a-z]$/.test(e)}function f(e){return"()[]{}".indexOf(e)!=-1}function m(e){return dt.test(e)}function _(e){return/^[A-Z]$/.test(e)}function g(e){return/^\s*$/.test(e)}function v(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function y(e,t,n,r,i){if(void 0===t&&!i)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),yt[e]={type:n,defaultValue:t,callback:i},r)for(var o=0;o<r.length;o++)yt[r[o]]=yt[e];t&&b(e,t)}function b(e,t,n,r){var i=yt[e];r=r||{};var o=r.scope;if(!i)throw Error("Unknown option: "+e);if("boolean"==i.type){if(t&&t!==!0)throw Error("Invalid argument: "+e+"="+t);t!==!1&&(t=!0)}i.callback?("local"!==o&&i.callback(t,void 0),"global"!==o&&n&&i.callback(t,n)):("local"!==o&&(i.value="boolean"==i.type?!!t:t),"global"!==o&&n&&(n.state.vim.options[e]={value:t}))}function w(e,t,n){var r=yt[e];n=n||{};var i=n.scope;if(!r)throw Error("Unknown option: "+e);{if(!r.callback){var o="global"!==i&&t&&t.state.vim.options[e];return(o||"local"!==i&&r||{}).value}var o=t&&r.callback(void 0,t);if("global"!==i&&void 0!==o)return o;if("local"!==i)return r.callback()}}function x(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=wt()}function k(e){return e.state.vim||(e.state.vim={inputState:new C,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function A(){xt={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:bt(),macroModeState:new x,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new M({}),searchHistoryController:new T({}),exCommandHistoryController:new T({})};for(var e in yt){var t=yt[e];t.value=t.defaultValue}}function C(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function E(t,n){t.state.vim.inputState=new C,e.signal(t,"vim-command-done",n)}function S(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function j(e,t){var n=xt.registerController.registers[e];if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,vt.push(e)}function M(e){this.registers=e,this.unnamedRegister=e['"']=new S,e["."]=new S,e[":"]=new S,e["/"]=new S}function T(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}function O(e,t){Et[e]=t}function N(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n}function I(e,t){St[e]=t}function D(e,t){jt[e]=t}function L(e,t,n){var i=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),o=V(e,i)-1;o=n?o+1:o;var s=Math.min(Math.max(0,t.ch),o);return r(i,s)}function z(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function R(e,t,n){return"object"==typeof t&&(n=t.ch,t=t.line),
r(e.line+t,e.ch+n)}function P(e,t){return{line:t.line-e.line,ch:t.line-e.line}}function B(e,t,n,r){for(var i,o=[],s=[],a=0;a<t.length;a++){var l=t[a];"insert"==n&&"insert"!=l.context||l.context&&l.context!=n||r.operator&&"action"==l.type||!(i=q(e,l.keys))||("partial"==i&&o.push(l),"full"==i&&s.push(l))}return{partial:o.length&&o,full:s.length&&s}}function q(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,r=e.slice(0,n),i=t.slice(0,n);return r==i&&e.length>n?"full":0==i.indexOf(r)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function F(e){var t=/^.*(<[\w\-]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" "}return n}function U(e,t,n){return function(){for(var r=0;r<n;r++)t(e)}}function W(e){return r(e.line,e.ch)}function H(e,t){return e.ch==t.ch&&e.line==t.line}function K(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function G(e,t){return arguments.length>2&&(t=G.apply(void 0,Array.prototype.slice.call(arguments,1))),K(e,t)?e:t}function Y(e,t){return arguments.length>2&&(t=Y.apply(void 0,Array.prototype.slice.call(arguments,1))),K(e,t)?t:e}function J(e,t,n){var r=K(e,t),i=K(t,n);return r&&i}function V(e,t){return e.getLine(t).length}function Q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Z(e){return e.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function X(e,t,n){var i=V(e,t),o=Array(n-i+1).join(" ");e.setCursor(r(t,i)),e.replaceRange(o,e.getCursor())}function ee(e,t){var n=[],i=e.listSelections(),o=W(e.clipPos(t)),s=!H(t,o),a=e.getCursor("head"),l=ne(i,a),c=H(i[l].head,i[l].anchor),u=i.length-1,d=u-l>l?u:0,p=i[d].anchor,h=Math.min(p.line,o.line),f=Math.max(p.line,o.line),m=p.ch,_=o.ch,g=i[d].head.ch-m,v=_-m;g>0&&v<=0?(m++,s||_--):g<0&&v>=0?(m--,c||_++):g<0&&v==-1&&(m--,_++);for(var y=h;y<=f;y++){var b={anchor:new r(y,m),head:new r(y,_)};n.push(b)}return l=o.line==f?n.length-1:0,e.setSelections(n),t.ch=_,p.ch=m,p}function te(e,t,n){for(var r=[],i=0;i<n;i++){var o=R(t,i,0);r.push({anchor:o,head:o})}e.setSelections(r,0)}function ne(e,t,n){for(var r=0;r<e.length;r++){var i="head"!=n&&H(e[r].anchor,t),o="anchor"!=n&&H(e[r].head,t);if(i||o)return r}return-1}function re(e,t){var n=t.lastSelection,i=function(){var t=e.listSelections(),n=t[0],r=t[t.length-1],i=K(n.anchor,n.head)?n.anchor:n.head,o=K(r.anchor,r.head)?r.head:r.anchor;return[i,o]},o=function(){var t=e.getCursor(),i=e.getCursor(),o=n.visualBlock;if(o){var s=o.width,a=o.height;i=r(t.line+a,t.ch+s);for(var l=[],c=t.line;c<i.line;c++){var u=r(c,t.ch),d=r(c,i.ch),p={anchor:u,head:d};l.push(p)}e.setSelections(l)}else{var h=n.anchorMark.find(),f=n.headMark.find(),m=f.line-h.line,_=f.ch-h.ch;i={line:i.line+m,ch:m?i.ch:_+i.ch},n.visualLine&&(t=r(t.line,0),i=r(i.line,V(e,i.line))),e.setSelection(t,i)}return[t,i]};return t.visualMode?i():o()}function ie(e,t){var n=t.sel.anchor,r=t.sel.head;t.lastPastedText&&(r=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(r),anchor:W(n),head:W(r),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function oe(e,t,n){var i,o=e.state.vim.sel,s=o.head,a=o.anchor;return K(n,t)&&(i=n,n=t,t=i),K(s,a)?(s=G(t,s),a=Y(a,n)):(a=G(t,a),s=Y(s,n),s=R(s,0,-1),s.ch==-1&&s.line!=e.firstLine()&&(s=r(s.line-1,V(e,s.line-1)))),[a,s]}function se(e,t,n){var r=e.state.vim;t=t||r.sel;var n=n||r.visualLine?"line":r.visualBlock?"block":"char",i=ae(e,t,n);e.setSelections(i.ranges,i.primary),rt(e)}function ae(e,t,n,i){var o=W(t.head),s=W(t.anchor);if("char"==n){var a=i||K(t.head,t.anchor)?0:1,l=K(t.head,t.anchor)?1:0;return o=R(t.head,0,a),s=R(t.anchor,0,l),{ranges:[{anchor:s,head:o}],primary:0}}if("line"==n){if(K(t.head,t.anchor))o.ch=0,s.ch=V(e,s.line);else{s.ch=0;var c=e.lastLine();o.line>c&&(o.line=c),o.ch=V(e,o.line)}return{ranges:[{anchor:s,head:o}],primary:0}}if("block"==n){for(var u=Math.min(s.line,o.line),d=Math.min(s.ch,o.ch),p=Math.max(s.line,o.line),h=Math.max(s.ch,o.ch)+1,f=p-u+1,m=o.line==u?0:f-1,_=[],g=0;g<f;g++)_.push({anchor:r(u+g,d),head:r(u+g,h)});return{ranges:_,primary:m}}}function le(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=G(t,e.getCursor("anchor"))),t}function ce(t,n){var r=t.state.vim;n!==!1&&t.setCursor(L(t,r.sel.head)),ie(t,r),r.visualMode=!1,r.visualLine=!1,r.visualBlock=!1,e.signal(t,"vim-mode-change",{mode:"normal"}),r.fakeCursor&&r.fakeCursor.clear()}function ue(e,t,n){var r=e.getRange(t,n);if(/\n\s*$/.test(r)){var i=r.split("\n");i.pop();for(var o,o=i.pop();i.length>0&&o&&g(o);o=i.pop())n.line--,n.ch=0;o?(n.line--,n.ch=V(e,n.line)):n.ch=0}}function de(e,t,n){t.ch=0,n.ch=0,n.line++}function pe(e){if(!e)return 0;var t=e.search(/\S/);return t==-1?e.length:t}function he(e,t,n,i,o){for(var s=le(e),a=e.getLine(s.line),l=s.ch,c=o?pt[0]:ht[0];!c(a.charAt(l));)if(l++,l>=a.length)return null;i?c=ht[0]:(c=pt[0],c(a.charAt(l))||(c=pt[1]));for(var u=l,d=l;c(a.charAt(u))&&u<a.length;)u++;for(;c(a.charAt(d))&&d>=0;)d--;if(d++,t){for(var p=u;/\s/.test(a.charAt(u))&&u<a.length;)u++;if(p==u){for(var h=d;/\s/.test(a.charAt(d-1))&&d>0;)d--;d||(d=h)}}return{start:r(s.line,d),end:r(s.line,u)}}function fe(e,t,n){H(t,n)||xt.jumpList.add(e,t,n)}function me(e,t){xt.lastCharacterSearch.increment=e,xt.lastCharacterSearch.forward=t.forward,xt.lastCharacterSearch.selectedCharacter=t.selectedCharacter}function _e(e,t,n,i){var o=W(e.getCursor()),s=n?1:-1,a=n?e.lineCount():-1,l=o.ch,c=o.line,u=e.getLine(c),d={lineText:u,nextCh:u.charAt(l),lastCh:null,index:l,symb:i,reverseSymb:(n?{")":"(","}":"{"}:{"(":")","{":"}"})[i],forward:n,depth:0,curMoveThrough:!1},p=Mt[i];if(!p)return o;var h=Tt[p].init,f=Tt[p].isComplete;for(h&&h(d);c!==a&&t;){if(d.index+=s,d.nextCh=d.lineText.charAt(d.index),!d.nextCh){if(c+=s,d.lineText=e.getLine(c)||"",s>0)d.index=0;else{var m=d.lineText.length;d.index=m>0?m-1:0}d.nextCh=d.lineText.charAt(d.index)}f(d)&&(o.line=c,o.ch=d.index,t--)}return d.nextCh||d.curMoveThrough?r(c,d.index):o}function ge(e,t,n,r,i){var o=t.line,s=t.ch,a=e.getLine(o),l=n?1:-1,c=r?ht:pt;if(i&&""==a){if(o+=l,a=e.getLine(o),!p(e,o))return null;s=n?0:a.length}for(;;){if(i&&""==a)return{from:0,to:0,line:o};for(var u=l>0?a.length:-1,d=u,h=u;s!=u;){for(var f=!1,m=0;m<c.length&&!f;++m)if(c[m](a.charAt(s))){for(d=s;s!=u&&c[m](a.charAt(s));)s+=l;if(h=s,f=d!=h,d==t.ch&&o==t.line&&h==d+l)continue;return{from:Math.min(d,h+1),to:Math.max(d,h),line:o}}f||(s+=l)}if(o+=l,!p(e,o))return null;a=e.getLine(o),s=l>0?0:a.length}}function ve(e,t,n,i,o,s){var a=W(t),l=[];(i&&!o||!i&&o)&&n++;for(var c=!(i&&o),u=0;u<n;u++){var d=ge(e,t,i,s,c);if(!d){var p=V(e,e.lastLine());l.push(i?{line:e.lastLine(),from:p,to:p}:{line:0,from:0,to:0});break}l.push(d),t=r(d.line,i?d.to-1:d.from)}var h=l.length!=n,f=l[0],m=l.pop();return i&&!o?(h||f.from==a.ch&&f.line==a.line||(m=l.pop()),r(m.line,m.from)):i&&o?r(m.line,m.to-1):!i&&o?(h||f.to==a.ch&&f.line==a.line||(m=l.pop()),r(m.line,m.to)):r(m.line,m.from)}function ye(e,t,n,i){for(var o,s=e.getCursor(),a=s.ch,l=0;l<t;l++){var c=e.getLine(s.line);if(o=xe(a,c,i,n,!0),o==-1)return null;a=o}return r(e.getCursor().line,o)}function be(e,t){var n=e.getCursor().line;return L(e,r(n,t-1))}function we(e,t,n,r){v(n,gt)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(r))}function xe(e,t,n,r,i){var o;return r?(o=t.indexOf(n,e+1),o==-1||i||(o-=1)):(o=t.lastIndexOf(n,e-1),o==-1||i||(o+=1)),o}function ke(e,t,n,i,o){function s(t){return!e.getLine(t)}function a(e,t,n){return n?s(e)!=s(e+t):!s(e)&&s(e+t)}var l,c,u=t.line,d=e.firstLine(),p=e.lastLine(),h=u;if(i){for(;d<=h&&h<=p&&n>0;)a(h,i)&&n--,h+=i;return new r(h,0)}var f=e.state.vim;if(f.visualLine&&a(u,1,!0)){var m=f.sel.anchor;a(m.line,-1,!0)&&(o&&m.line==u||(u+=1))}var _=s(u);for(h=u;h<=p&&n;h++)a(h,1,!0)&&(o&&s(h)==_||n--);for(c=new r(h,0),h>p&&!_?_=!0:o=!1,h=u;h>d&&(o&&s(h)!=_&&h!=u||!a(h,-1,!0));h--);return l=new r(h,0),{start:l,end:c}}function Ae(e,t,n,i){var o,s,a=t,l={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[n],c={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[n],u=e.getLine(a.line).charAt(a.ch),d=u===c?1:0;if(o=e.scanForBracket(r(a.line,a.ch+d),-1,null,{bracketRegex:l}),s=e.scanForBracket(r(a.line,a.ch+d),1,null,{bracketRegex:l}),!o||!s)return{start:a,end:a};if(o=o.pos,s=s.pos,o.line==s.line&&o.ch>s.ch||o.line>s.line){var p=o;o=s,s=p}return i?s.ch+=1:o.ch+=1,{start:o,end:s}}function Ce(e,t,n,i){var o,s,a,l,c=W(t),u=e.getLine(c.line),d=u.split(""),p=d.indexOf(n);if(c.ch<p?c.ch=p:p<c.ch&&d[c.ch]==n&&(s=c.ch,--c.ch),d[c.ch]!=n||s)for(a=c.ch;a>-1&&!o;a--)d[a]==n&&(o=a+1);else o=c.ch+1;if(o&&!s)for(a=o,l=d.length;a<l&&!s;a++)d[a]==n&&(s=a);return o&&s?(i&&(--o,++s),{start:r(c.line,o),end:r(c.line,s)}):{start:c,end:c}}function Ee(){}function Se(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new Ee)}function je(e,t,n,r,i){e.openDialog?e.openDialog(t,r,{bottom:!0,value:i.value,onKeyDown:i.onKeyDown,onKeyUp:i.onKeyUp,selectValueOnOpen:!1}):r(prompt(n,""))}function Me(e){var t=Te(e)||[];if(!t.length)return[];var n=[];if(0===t[0]){for(var r=0;r<t.length;r++)"number"==typeof t[r]&&n.push(e.substring(t[r]+1,t[r+1]));return n}}function Te(e){for(var t=!1,n=[],r=0;r<e.length;r++){var i=e.charAt(r);t||"/"!=i||n.push(r),t=!t&&"\\"==i}return n}function Oe(e){for(var t="|(){",n="}",r=!1,i=[],o=-1;o<e.length;o++){var s=e.charAt(o)||"",a=e.charAt(o+1)||"",l=a&&t.indexOf(a)!=-1;r?("\\"===s&&l||i.push(s),r=!1):"\\"===s?(r=!0,a&&n.indexOf(a)!=-1&&(l=!0),l&&"\\"!==a||i.push(s)):(i.push(s),l&&"\\"!==a&&i.push("\\"))}return i.join("")}function Ne(e){for(var t=!1,n=[],r=-1;r<e.length;r++){var i=e.charAt(r)||"",o=e.charAt(r+1)||"";Ot[i+o]?(n.push(Ot[i+o]),r++):t?(n.push(i),t=!1):"\\"===i?(t=!0,m(o)||"$"===o?n.push("$"):"/"!==o&&"\\"!==o&&n.push("\\")):("$"===i&&n.push("$"),n.push(i),"/"===o&&n.push("\\"))}return n.join("")}function Ie(t){for(var n=new e.StringStream(t),r=[];!n.eol();){for(;n.peek()&&"\\"!=n.peek();)r.push(n.next());var i=!1;for(var o in Nt)if(n.match(o,!0)){i=!0,r.push(Nt[o]);break}i||r.push(n.next())}return r.join("")}function De(e,t,n){var r=xt.registerController.getRegister("/");if(r.setText(e),e instanceof RegExp)return e;var i,o,s=Te(e);if(s.length){i=e.substring(0,s[0]);var a=e.substring(s[0]);o=a.indexOf("i")!=-1}else i=e;if(!i)return null;w("pcre")||(i=Oe(i)),n&&(t=/^[^A-Z]*$/.test(i));var l=RegExp(i,t||o?"i":void 0);return l}function Le(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}function ze(e,t){var n='<span style="font-family: monospace; white-space: pre">'+(e||"")+'<input type="text"></span>';return t&&(n+=' <span style="color: #888">'+t+"</span>"),n}function Re(e,t){var n=(t.prefix||"")+" "+(t.desc||""),r=ze(t.prefix,t.desc);je(e,r,n,t.onClose,t)}function Pe(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}return!1}function Be(e,t,n,r){if(t){var i=Se(e),o=De(t,!!n,!!r);if(o)return Fe(e,o),Pe(o,i.getQuery())?o:(i.setQuery(o),o)}}function qe(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(t&&!n.sol())return void n.skipToEnd();var r=n.match(e,!1);if(r)return 0==r[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+r[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););},query:e}}function Fe(e,t){var n=Se(e),r=n.getOverlay();r&&t==r.query||(r&&e.removeOverlay(r),r=qe(t),e.addOverlay(r),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(r))}function Ue(e,t,n,i){return void 0===i&&(i=1),e.operation(function(){for(var o=e.getCursor(),s=e.getSearchCursor(n,o),a=0;a<i;a++){var l=s.find(t);if(0==a&&l&&H(s.from(),o)&&(l=s.find(t)),!l&&(s=e.getSearchCursor(n,t?r(e.lastLine()):r(e.firstLine(),0)),!s.find(t)))return}return s.from()})}function We(e){var t=Se(e);e.removeOverlay(Se(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function He(e,t,n){return"number"!=typeof e&&(e=e.line),t instanceof Array?v(e,t):n?e>=t&&e<=n:e==t}function Ke(e){var t=e.getScrollInfo(),n=6,r=10,i=e.coordsChar({left:0,top:n+t.top},"local"),o=t.clientHeight-r+t.top,s=e.coordsChar({left:0,top:o},"local");return{top:i.line,bottom:s.line}}function Ge(e,t,n){if("'"==n){var r=e.doc.history.done,i=r[r.length-2];return i&&i.ranges&&i.ranges[0].head}var o=t.marks[n];return o&&o.find()}function Ye(t,n,r,i,o,s,a,l,c){function u(){t.operation(function(){for(;!m;)d(),p();h()})}function d(){var e=t.getRange(s.from(),s.to()),n=e.replace(a,l);s.replace(n)}function p(){for(;s.findNext()&&He(s.from(),i,o);)if(r||!_||s.from().line!=_.line)return t.scrollIntoView(s.from(),30),t.setSelection(s.from(),s.to()),_=s.from(),void(m=!1);m=!0}function h(e){if(e&&e(),t.focus(),_){t.setCursor(_);var n=t.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=_.ch}c&&c()}function f(n,r,i){e.e_stop(n);var o=e.keyName(n);switch(o){case"Y":d(),p();break;case"N":p();break;case"A":var s=c;c=void 0,t.operation(u),c=s;break;case"L":d();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":h(i)}return m&&h(i),!0}t.state.vim.exMode=!0;var m=!1,_=s.from();return p(),m?void Le(t,"No matches for "+a.source):n?void Re(t,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:f}):(u(),void(c&&c()))}function Je(t){var n=t.state.vim,r=xt.macroModeState,i=xt.registerController.getRegister("."),o=r.isPlaying,s=r.lastInsertModeChanges,a=[];if(!o){for(var l=s.inVisualBlock?n.lastSelection.visualBlock.height:1,c=s.changes,a=[],u=0;u<c.length;)a.push(c[u]),c[u]instanceof ot?u++:u+=l;s.changes=a,t.off("change",tt),e.off(t.getInputField(),"keydown",st)}!o&&n.insertModeRepeat>1&&(at(t,n,n.insertModeRepeat-1,!0),n.lastEditInputState.repeatOverride=n.insertModeRepeat),delete n.insertModeRepeat,n.insertMode=!1,t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),i.setText(s.changes.join("")),e.signal(t,"vim-mode-change",{mode:"normal"}),r.isRecording&&Xe(r)}function Ve(e){t.unshift(e)}function Qe(e,t,n,r,i){var o={keys:e,type:t};o[t]=n,o[t+"Args"]=r;for(var s in i)o[s]=i[s];Ve(o)}function Ze(t,n,r,i){var o=xt.registerController.getRegister(i);if(":"==i)return o.keyBuffer[0]&&zt.processCommand(t,o.keyBuffer[0]),void(r.isPlaying=!1);var s=o.keyBuffer,a=0;r.isPlaying=!0,r.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<s.length;l++)for(var c,u,d=s[l];d;)if(c=/<\w+-.+?>|<\w+>|./.exec(d),u=c[0],d=d.substring(c.index+u.length),e.Vim.handleKey(t,u,"macro"),n.insertMode){var p=o.insertModeChanges[a++].changes;xt.macroModeState.lastInsertModeChanges.changes=p,lt(t,p,1),Je(t)}r.isPlaying=!1}function $e(e,t){if(!e.isPlaying){var n=e.latestRegister,r=xt.registerController.getRegister(n);r&&r.pushText(t)}}function Xe(e){if(!e.isPlaying){var t=e.latestRegister,n=xt.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}}function et(e,t){if(!e.isPlaying){var n=e.latestRegister,r=xt.registerController.getRegister(n);r&&r.pushSearchQuery&&r.pushSearchQuery(t)}}function tt(e,t){var n=xt.macroModeState,r=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(r.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var i=t.text.join("\n");r.maybeReset&&(r.changes=[],r.maybeReset=!1),r.changes.push(i)}t=t.next}}function nt(e){var t=e.state.vim;if(t.insertMode){var n=xt.macroModeState;if(n.isPlaying)return;var r=n.lastInsertModeChanges;r.expectCursorActivityForChange?r.expectCursorActivityForChange=!1:r.maybeReset=!0}else e.curOp.isVimOp||it(e,t);t.visualMode&&rt(e)}function rt(e){var t=e.state.vim,n=L(e,W(t.sel.head)),r=R(n,0,1);t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(n,r,{className:"cm-animate-fat-cursor"})}function it(t,n){var r=t.getCursor("anchor"),i=t.getCursor("head");if(n.visualMode&&!t.somethingSelected()?ce(t,!1):n.visualMode||n.insertMode||!t.somethingSelected()||(n.visualMode=!0,n.visualLine=!1,e.signal(t,"vim-mode-change",{mode:"visual"})),n.visualMode){var o=K(i,r)?0:-1,s=K(i,r)?-1:0;i=R(i,0,o),r=R(r,0,s),n.sel={anchor:r,head:i},we(t,n,"<",G(i,r)),we(t,n,">",Y(i,r))}else n.insertMode||(n.lastHPos=t.getCursor().ch)}function ot(e){this.keyName=e}function st(t){function n(){return i.maybeReset&&(i.changes=[],i.maybeReset=!1),i.changes.push(new ot(o)),!0}var r=xt.macroModeState,i=r.lastInsertModeChanges,o=e.keyName(t);o&&(o.indexOf("Delete")==-1&&o.indexOf("Backspace")==-1||e.lookupKey(o,"vim-insert",n))}function at(e,t,n,r){function i(){a?Ct.processAction(e,t,t.lastEditActionCommand):Ct.evalInput(e,t)}function o(n){if(s.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var r=s.lastInsertModeChanges;lt(e,r.changes,n)}}var s=xt.macroModeState;s.isPlaying=!0;var a=!!t.lastEditActionCommand,l=t.inputState;if(t.inputState=t.lastEditInputState,a&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;c<n;c++)i(),o(1);else r||i(),o(n);t.inputState=l,t.insertMode&&!r&&Je(e),s.isPlaying=!1}function lt(t,n,r){function i(n){return"string"==typeof n?e.commands[n](t):n(t),!0}var o=t.getCursor("head"),s=xt.macroModeState.lastInsertModeChanges.inVisualBlock;if(s){var a=t.state.vim,l=a.lastSelection,c=P(l.anchor,l.head);te(t,o,c.line+1),r=t.listSelections().length,t.setCursor(o)}for(var u=0;u<r;u++){s&&t.setCursor(R(o,u,0));for(var d=0;d<n.length;d++){var p=n[d];if(p instanceof ot)e.lookupKey(p.keyName,"vim-insert",i);else{var h=t.getCursor();t.replaceRange(p,h,h)}}}s&&t.setCursor(R(o,0,1))}e.defineOption("vimMode",!1,function(t,n,r){n&&"vim"!=t.getOption("keyMap")?t.setOption("keyMap","vim"):!n&&r!=e.Init&&/^vim/.test(t.getOption("keyMap"))&&t.setOption("keyMap","default")});var ct={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},ut={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},dt=/[\d]/,pt=[e.isWordChar,function(t){return t&&!e.isWordChar(t)&&!/\s/.test(t)}],ht=[function(e){return/\S/.test(e)}],ft=d(65,26),mt=d(97,26),_t=d(48,10),gt=[].concat(ft,mt,_t,["<",">"]),vt=[].concat(ft,mt,_t,["-",'"',".",":","/"]),yt={};y("filetype",void 0,"string",["ft"],function(e,t){if(void 0!==t){if(void 0===e){var n=t.getOption("mode");return"null"==n?"":n}var n=""==e?"null":e;t.setOption("mode",n)}});var bt=function(){function e(e,t,a){function l(t){var i=++r%n,o=s[i];o&&o.clear(),s[i]=e.setBookmark(t)}var c=r%n,u=s[c];if(u){var d=u.find();d&&!H(d,t)&&l(t)}else l(t);l(a),i=r,o=r-n+1,o<0&&(o=0)}function t(e,t){r+=t,r>i?r=i:r<o&&(r=o);var a=s[(n+r)%n];if(a&&!a.find()){var l,c=t>0?1:-1,u=e.getCursor();do if(r+=c,a=s[(n+r)%n],a&&(l=a.find())&&!H(u,l))break;while(r<i&&r>o)}return a}var n=100,r=-1,i=0,o=0,s=Array(n);return{cachedCursor:void 0,add:e,move:t}},wt=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};x.prototype={exitMacroRecordMode:function(){var e=xt.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=xt.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};var xt,kt,At={buildKeyMap:function(){},getRegisterController:function(){return xt.registerController},resetVimGlobalState_:A,getVimGlobalState_:function(){return xt},maybeInitVimState_:k,suppressErrorLogging:!1,InsertModeKey:ot,map:function(e,t,n){zt.map(e,t,n)},unmap:function(e,t){zt.unmap(e,t)},setOption:b,getOption:w,defineOption:y,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;Lt[e]=n,zt.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var r=this.findKey(e,t,n);if("function"==typeof r)return r()},findKey:function(n,r,i){function o(){var e=xt.macroModeState;if(e.isRecording){if("q"==r)return e.exitMacroRecordMode(),E(n),!0;"mapping"!=i&&$e(e,r)}}function s(){if("<Esc>"==r)return E(n),d.visualMode?ce(n):d.insertMode&&Je(n),!0}function a(t){for(var i;t;)i=/<\w+-.+?>|<\w+>|./.exec(t),r=i[0],t=t.substring(i.index+r.length),e.Vim.handleKey(n,r,"mapping")}function l(){if(s())return!0;for(var e=d.inputState.keyBuffer=d.inputState.keyBuffer+r,i=1==r.length,o=Ct.matchCommand(e,t,d.inputState,"insert");e.length>1&&"full"!=o.type;){var e=d.inputState.keyBuffer=e.slice(1),a=Ct.matchCommand(e,t,d.inputState,"insert");"none"!=a.type&&(o=a)}if("none"==o.type)return E(n),!1;if("partial"==o.type)return kt&&window.clearTimeout(kt),kt=window.setTimeout(function(){d.insertMode&&d.inputState.keyBuffer&&E(n)},w("insertModeEscKeysTimeout")),!i;if(kt&&window.clearTimeout(kt),i){for(var l=n.listSelections(),c=0;c<l.length;c++){var u=l[c].head;n.replaceRange("",R(u,0,-(e.length-1)),u,"+input")}xt.macroModeState.lastInsertModeChanges.changes.pop()}return E(n),o.command}function c(){if(o()||s())return!0;var e=d.inputState.keyBuffer=d.inputState.keyBuffer+r;if(/^[1-9]\d*$/.test(e))return!0;var i=/^(\d*)(.*)$/.exec(e);if(!i)return E(n),!1;var a=d.visualMode?"visual":"normal",l=Ct.matchCommand(i[2]||i[1],t,d.inputState,a);if("none"==l.type)return E(n),!1;if("partial"==l.type)return!0;d.inputState.keyBuffer="";var i=/^(\d*)(.*)$/.exec(e);return i[1]&&"0"!=i[1]&&d.inputState.pushRepeatDigit(i[1]),l.command}var u,d=k(n);return u=d.insertMode?l():c(),u===!1?void 0:u===!0?function(){return!0}:function(){return n.operation(function(){n.curOp.isVimOp=!0;try{"keyToKey"==u.type?a(u.toKeys):Ct.processCommand(n,d,u)}catch(t){throw n.state.vim=void 0,k(n),e.Vim.suppressErrorLogging||console.log(t),t}return!0})}},handleEx:function(e,t){zt.processCommand(e,t)},defineMotion:O,defineAction:D,defineOperator:I,mapCommand:Qe,_mapCommand:Ve,defineRegister:j,exitVisualMode:ce,exitInsertMode:Je};C.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},C.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},S.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(wt(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},M.prototype={pushText:function(e,t,n,r,i){r&&"\n"==n.charAt(0)&&(n=n.slice(1)+"\n"),r&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var o=this.isValidRegister(e)?this.getRegister(e):null;if(!o){switch(t){case"yank":this.registers[0]=new S(n,r,i);break;case"delete":case"change":n.indexOf("\n")==-1?this.registers["-"]=new S(n,r):(this.shiftNumericRegisters_(),this.registers[1]=new S(n,r))}return void this.unnamedRegister.setText(n,r,i)}var s=_(e);s?o.pushText(n,r):o.setText(n,r,i),this.unnamedRegister.setText(""+o,r)},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new S),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&v(e,vt)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},T.prototype={nextMatch:function(e,t){var n=this.historyBuffer,r=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var i=this.iterator+r;t?i>=0:i<n.length;i+=r)for(var o=n[i],s=0;s<=o.length;s++)if(this.initialPrefix==o.substring(0,s))return this.iterator=i,o;return i>=n.length?(this.iterator=n.length,this.initialPrefix):i<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Ct={matchCommand:function(e,t,n,r){var i=B(e,t,r,n);if(!i.full&&!i.partial)return{type:"none"};if(!i.full&&i.partial)return{type:"partial"};for(var o,s=0;s<i.full.length;s++){var a=i.full[s];o||(o=a)}return"<character>"==o.keys.slice(-11)&&(n.selectedCharacter=F(e)),{type:"full",command:o}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=z(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var r=t.inputState;if(r.operator){if(r.operator==n.operator)return r.motion="expandToLine",r.motionArgs={linewise:!0},void this.evalInput(e,t);E(e)}r.operator=n.operator,r.operatorArgs=z(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var r=t.visualMode,i=z(n.operatorMotionArgs);i&&r&&i.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),r||this.processMotion(e,t,n)},processAction:function(e,t,n){var r=t.inputState,i=r.getRepeat(),o=!!i,s=z(n.actionArgs)||{};r.selectedCharacter&&(s.selectedCharacter=r.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),s.repeat=i||1,s.repeatIsExplicit=o,s.registerName=r.registerName,E(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,r,n),jt[n.action](e,s,t)},processSearch:function(t,n,r){function i(e,i,o){xt.searchHistoryController.pushInput(e),xt.searchHistoryController.reset();try{Be(t,e,i,o)}catch(n){return Le(t,"Invalid regex: "+e),void E(t)}Ct.processMotion(t,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:r.searchArgs.toJumplist}})}function o(e){t.scrollTo(p.left,p.top),i(e,!0,!0);var n=xt.macroModeState;n.isRecording&&et(n,e)}function s(n,r,i){var o,s,a=e.keyName(n);"Up"==a||"Down"==a?(o="Up"==a,s=n.target?n.target.selectionEnd:0,r=xt.searchHistoryController.nextMatch(r,o)||"",i(r),s&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(s,n.target.value.length))):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&xt.searchHistoryController.reset();var c;try{c=Be(t,r,!0,!0)}catch(e){}c?t.scrollIntoView(Ue(t,!l,c),30):(We(t),t.scrollTo(p.left,p.top))}function a(n,r,i){var o=e.keyName(n);"Esc"==o||"Ctrl-C"==o||"Ctrl-["==o||"Backspace"==o&&""==r?(xt.searchHistoryController.pushInput(r),xt.searchHistoryController.reset(),Be(t,d),We(t),t.scrollTo(p.left,p.top),e.e_stop(n),E(t),i(),t.focus()):"Up"==o||"Down"==o?e.e_stop(n):"Ctrl-U"==o&&(e.e_stop(n),i(""))}if(t.getSearchCursor){var l=r.searchArgs.forward,c=r.searchArgs.wholeWordOnly;Se(t).setReversed(!l);var u=l?"/":"?",d=Se(t).getQuery(),p=t.getScrollInfo();switch(r.searchArgs.querySrc){case"prompt":var h=xt.macroModeState;if(h.isPlaying){var f=h.replaySearchQueries.shift();i(f,!0,!1)}else Re(t,{onClose:o,prefix:u,desc:It,onKeyUp:s,onKeyDown:a});break;case"wordUnderCursor":var m=he(t,!1,!0,!1,!0),_=!0;if(m||(m=he(t,!1,!0,!1,!1),_=!1),!m)return;var f=t.getLine(m.start.line).substring(m.start.ch,m.end.ch);f=_&&c?"\\b"+f+"\\b":Z(f),xt.jumpList.cachedCursor=t.getCursor(),t.setCursor(m.start),i(f,!0,!1)}}},processEx:function(t,n,r){function i(e){xt.exCommandHistoryController.pushInput(e),xt.exCommandHistoryController.reset(),zt.processCommand(t,e)}function o(n,r,i){var o,s,a=e.keyName(n);("Esc"==a||"Ctrl-C"==a||"Ctrl-["==a||"Backspace"==a&&""==r)&&(xt.exCommandHistoryController.pushInput(r),xt.exCommandHistoryController.reset(),e.e_stop(n),E(t),i(),t.focus()),"Up"==a||"Down"==a?(e.e_stop(n),o="Up"==a,s=n.target?n.target.selectionEnd:0,r=xt.exCommandHistoryController.nextMatch(r,o)||"",i(r),s&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(s,n.target.value.length))):"Ctrl-U"==a?(e.e_stop(n),i("")):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&xt.exCommandHistoryController.reset()}"keyToEx"==r.type?zt.processCommand(t,r.exArgs.input):n.visualMode?Re(t,{onClose:i,prefix:":",value:"'<,'>",onKeyDown:o}):Re(t,{onClose:i,prefix:":",onKeyDown:o})},evalInput:function(e,t){var n,i,o,s=t.inputState,a=s.motion,l=s.motionArgs||{},c=s.operator,u=s.operatorArgs||{},d=s.registerName,p=t.sel,h=W(t.visualMode?L(e,p.head):e.getCursor("head")),f=W(t.visualMode?L(e,p.anchor):e.getCursor("anchor")),m=W(h),_=W(f);if(c&&this.recordLastEdit(t,s),o=void 0!==s.repeatOverride?s.repeatOverride:s.getRepeat(),o>0&&l.explicitRepeat?l.repeatIsExplicit=!0:(l.noRepeat||!l.explicitRepeat&&0===o)&&(o=1,l.repeatIsExplicit=!1),s.selectedCharacter&&(l.selectedCharacter=u.selectedCharacter=s.selectedCharacter),l.repeat=o,E(e),a){var g=Et[a](e,h,l,t);if(t.lastMotion=Et[a],!g)return;if(l.toJumplist){var v=xt.jumpList,y=v.cachedCursor;y?(fe(e,y,g),delete v.cachedCursor):fe(e,h,g)}g instanceof Array?(i=g[0],n=g[1]):n=g,n||(n=W(h)),t.visualMode?(t.visualBlock&&n.ch===1/0||(n=L(e,n,t.visualBlock)),i&&(i=L(e,i,!0)),i=i||_,p.anchor=i,p.head=n,se(e),we(e,t,"<",K(i,n)?i:n),we(e,t,">",K(i,n)?n:i)):c||(n=L(e,n),e.setCursor(n.line,n.ch))}if(c){if(u.lastSel){i=_;var b=u.lastSel,w=Math.abs(b.head.line-b.anchor.line),x=Math.abs(b.head.ch-b.anchor.ch);n=b.visualLine?r(_.line+w,_.ch):b.visualBlock?r(_.line+w,_.ch+x):b.head.line==b.anchor.line?r(_.line,_.ch+x):r(_.line+w,_.ch),t.visualMode=!0,t.visualLine=b.visualLine,t.visualBlock=b.visualBlock,p=t.sel={anchor:i,head:n},se(e)}else t.visualMode&&(u.lastSel={anchor:W(p.anchor),head:W(p.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var k,A,C,S,j;if(t.visualMode){if(k=G(p.head,p.anchor),A=Y(p.head,p.anchor),C=t.visualLine||u.linewise,S=t.visualBlock?"block":C?"line":"char",j=ae(e,{anchor:k,head:A},S),C){var M=j.ranges;if("block"==S)for(var T=0;T<M.length;T++)M[T].head.ch=V(e,M[T].head.line);else"line"==S&&(M[0].head=r(M[0].head.line+1,0))}}else{if(k=W(i||_),A=W(n||m),K(A,k)){var O=k;k=A,A=O}C=l.linewise||u.linewise,C?de(e,k,A):l.forward&&ue(e,k,A),S="char";var N=!l.inclusive||C;j=ae(e,{anchor:k,head:A},S,N)}e.setSelections(j.ranges,j.primary),t.lastMotion=null,u.repeat=o,u.registerName=d,u.linewise=C;var I=St[c](e,u,j.ranges,_,n);t.visualMode&&ce(e,null!=I),I&&e.setCursor(I)}},recordLastEdit:function(e,t,n){var r=xt.macroModeState;r.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,r.lastInsertModeChanges.changes=[],r.lastInsertModeChanges.expectCursorActivityForChange=!1)}},Et={moveToTopLine:function(e,t,n){var i=Ke(e).top+n.repeat-1;return r(i,pe(e.getLine(i)))},moveToMiddleLine:function(e){var t=Ke(e),n=Math.floor(.5*(t.top+t.bottom));return r(n,pe(e.getLine(n)))},moveToBottomLine:function(e,t,n){var i=Ke(e).bottom-n.repeat+1;return r(i,pe(e.getLine(i)))},expandToLine:function(e,t,n){var i=t;return r(i.line+n.repeat-1,1/0)},findNext:function(e,t,n){var r=Se(e),i=r.getQuery();if(i){var o=!n.forward;return o=r.isReversed()?!o:o,Fe(e,i),Ue(e,o,i,n.repeat)}},goToMark:function(e,t,n,r){var i=Ge(e,r,n.selectedCharacter);return i?n.linewise?{line:i.line,ch:pe(e.getLine(i.line))}:i:null},moveToOtherHighlightedEnd:function(e,t,n,i){if(i.visualBlock&&n.sameLine){var o=i.sel;return[L(e,r(o.anchor.line,o.head.ch)),L(e,r(o.head.line,o.anchor.ch))]}return[i.sel.head,i.sel.anchor]},jumpToMark:function(e,t,n,i){for(var o=t,s=0;s<n.repeat;s++){var a=o;for(var l in i.marks)if(h(l)){var c=i.marks[l].find(),u=n.forward?K(c,a):K(a,c);if(!(u||n.linewise&&c.line==a.line)){var d=H(a,o),p=n.forward?J(a,c,o):J(o,c,a);(d||p)&&(o=c);
}}}return n.linewise&&(o=r(o.line,pe(e.getLine(o.line)))),o},moveByCharacters:function(e,t,n){var i=t,o=n.repeat,s=n.forward?i.ch+o:i.ch-o;return r(i.line,s)},moveByLines:function(e,t,n,i){var o=t,s=o.ch;switch(i.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:s=i.lastHPos;break;default:i.lastHPos=s}var a=n.repeat+(n.repeatOffset||0),l=n.forward?o.line+a:o.line-a,c=e.firstLine(),u=e.lastLine();return l<c&&o.line==c?this.moveToStartOfLine(e,t,n,i):l>u&&o.line==u?this.moveToEol(e,t,n,i):(n.toFirstChar&&(s=pe(e.getLine(l)),i.lastHPos=s),i.lastHSPos=e.charCoords(r(l,s),"div").left,r(l,s))},moveByDisplayLines:function(e,t,n,i){var o=t;switch(i.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:i.lastHSPos=e.charCoords(o,"div").left}var s=n.repeat,a=e.findPosV(o,n.forward?s:-s,"line",i.lastHSPos);if(a.hitSide)if(n.forward)var l=e.charCoords(a,"div"),c={top:l.top+8,left:i.lastHSPos},a=e.coordsChar(c,"div");else{var u=e.charCoords(r(e.firstLine(),0),"div");u.left=i.lastHSPos,a=e.coordsChar(u,"div")}return i.lastHPos=a.ch,a},moveByPage:function(e,t,n){var r=t,i=n.repeat;return e.findPosV(r,n.forward?i:-i,"page")},moveByParagraph:function(e,t,n){var r=n.forward?1:-1;return ke(e,t,n.repeat,r)},moveByScroll:function(e,t,n,r){var i=e.getScrollInfo(),o=null,s=n.repeat;s||(s=i.clientHeight/(2*e.defaultTextHeight()));var a=e.charCoords(t,"local");n.repeat=s;var o=Et.moveByDisplayLines(e,t,n,r);if(!o)return null;var l=e.charCoords(o,"local");return e.scrollTo(null,i.top+l.top-a.top),o},moveByWords:function(e,t,n){return ve(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},moveTillCharacter:function(e,t,n){var r=n.repeat,i=ye(e,r,n.forward,n.selectedCharacter),o=n.forward?-1:1;return me(o,n),i?(i.ch+=o,i):null},moveToCharacter:function(e,t,n){var r=n.repeat;return me(0,n),ye(e,r,n.forward,n.selectedCharacter)||t},moveToSymbol:function(e,t,n){var r=n.repeat;return _e(e,r,n.forward,n.selectedCharacter)||t},moveToColumn:function(e,t,n,r){var i=n.repeat;return r.lastHPos=i-1,r.lastHSPos=e.charCoords(t,"div").left,be(e,i)},moveToEol:function(e,t,n,i){var o=t;i.lastHPos=1/0;var s=r(o.line+n.repeat-1,1/0),a=e.clipPos(s);return a.ch--,i.lastHSPos=e.charCoords(a,"div").left,s},moveToFirstNonWhiteSpaceCharacter:function(e,t){var n=t;return r(n.line,pe(e.getLine(n.line)))},moveToMatchedSymbol:function(e,t){var n,i=t,o=i.line,s=i.ch,a=e.getLine(o);do if(n=a.charAt(s++),n&&f(n)){var l=e.getTokenTypeAt(r(o,s));if("string"!==l&&"comment"!==l)break}while(n);if(n){var c=e.findMatchingBracket(r(o,s));return c.to}return i},moveToStartOfLine:function(e,t){return r(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,n){var i=n.forward?e.lastLine():e.firstLine();return n.repeatIsExplicit&&(i=n.repeat-e.getOption("firstLineNumber")),r(i,pe(e.getLine(i)))},textObjectManipulation:function(e,t,n,r){var i={"(":")",")":"(","{":"}","}":"{","[":"]","]":"["},o={"'":!0,'"':!0},s=n.selectedCharacter;"b"==s?s="(":"B"==s&&(s="{");var a,l=!n.textObjectInner;if(i[s])a=Ae(e,t,s,l);else if(o[s])a=Ce(e,t,s,l);else if("W"===s)a=he(e,l,!0,!0);else if("w"===s)a=he(e,l,!0,!1);else{if("p"!==s)return null;if(a=ke(e,t,n.repeat,0,l),n.linewise=!0,r.visualMode)r.visualLine||(r.visualLine=!0);else{var c=r.inputState.operatorArgs;c&&(c.linewise=!0),a.end.line--}}return e.state.vim.visualMode?oe(e,a.start,a.end):[a.start,a.end]},repeatLastCharacterSearch:function(e,t,n){var r=xt.lastCharacterSearch,i=n.repeat,o=n.forward===r.forward,s=(r.increment?1:0)*(o?-1:1);e.moveH(-s,"char"),n.inclusive=!!o;var a=ye(e,i,o,r.selectedCharacter);return a?(a.ch+=s,a):(e.moveH(s,"char"),t)}},St={change:function(t,n,i){var o,s,a=t.state.vim;if(xt.macroModeState.lastInsertModeChanges.inVisualBlock=a.visualBlock,a.visualMode){s=t.getSelection();var l=N("",i.length);t.replaceSelections(l),o=G(i[0].head,i[0].anchor)}else{var c=i[0].anchor,u=i[0].head;s=t.getRange(c,u);var d=a.lastEditInputState||{};if("moveByWords"==d.motion&&!g(s)){var p=/\s+$/.exec(s);p&&d.motionArgs&&d.motionArgs.forward&&(u=R(u,0,-p[0].length),s=s.slice(0,-p[0].length))}var h=new r(c.line-1,Number.MAX_VALUE),f=t.firstLine()==t.lastLine();u.line>t.lastLine()&&n.linewise&&!f?t.replaceRange("",h,u):t.replaceRange("",c,u),n.linewise&&(f||(t.setCursor(h),e.commands.newlineAndIndent(t)),c.ch=Number.MAX_VALUE),o=c}xt.registerController.pushText(n.registerName,"change",s,n.linewise,i.length>1),jt.enterInsertMode(t,{head:o},t.state.vim)},delete:function(e,t,n){var i,o,s=e.state.vim;if(s.visualBlock){o=e.getSelection();var a=N("",n.length);e.replaceSelections(a),i=n[0].anchor}else{var l=n[0].anchor,c=n[0].head;t.linewise&&c.line!=e.firstLine()&&l.line==e.lastLine()&&l.line==c.line-1&&(l.line==e.firstLine()?l.ch=0:l=r(l.line-1,V(e,l.line-1))),o=e.getRange(l,c),e.replaceRange("",l,c),i=l,t.linewise&&(i=Et.moveToFirstNonWhiteSpaceCharacter(e,l))}return xt.registerController.pushText(t.registerName,"delete",o,t.linewise,s.visualBlock),L(e,i)},indent:function(e,t,n){var r=e.state.vim,i=n[0].anchor.line,o=r.visualBlock?n[n.length-1].anchor.line:n[0].head.line,s=r.visualMode?t.repeat:1;t.linewise&&o--;for(var a=i;a<=o;a++)for(var l=0;l<s;l++)e.indentLine(a,t.indentRight);return Et.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},changeCase:function(e,t,n,r,i){for(var o=e.getSelections(),s=[],a=t.toLower,l=0;l<o.length;l++){var c=o[l],u="";if(a===!0)u=c.toLowerCase();else if(a===!1)u=c.toUpperCase();else for(var d=0;d<c.length;d++){var p=c.charAt(d);u+=_(p)?p.toLowerCase():p.toUpperCase()}s.push(u)}return e.replaceSelections(s),t.shouldMoveCursor?i:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?Et.moveToFirstNonWhiteSpaceCharacter(e,r):t.linewise?r:G(n[0].anchor,n[0].head)},yank:function(e,t,n,r){var i=e.state.vim,o=e.getSelection(),s=i.visualMode?G(i.sel.anchor,i.sel.head,n[0].head,n[0].anchor):r;return xt.registerController.pushText(t.registerName,"yank",o,t.linewise,i.visualBlock),s}},jt={jumpListWalk:function(e,t,n){if(!n.visualMode){var r=t.repeat,i=t.forward,o=xt.jumpList,s=o.move(e,i?r:-r),a=s?s.find():void 0;a=a?a:e.getCursor(),e.setCursor(a)}},scroll:function(e,t,n){if(!n.visualMode){var r=t.repeat||1,i=e.defaultTextHeight(),o=e.getScrollInfo().top,s=i*r,a=t.forward?o+s:o-s,l=W(e.getCursor()),c=e.charCoords(l,"local");if(t.forward)a>c.top?(l.line+=(a-c.top)/i,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,a);else{var u=a+e.getScrollInfo().clientHeight;u<c.bottom?(l.line-=(c.bottom-u)/i,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,a)}}},scrollToCursor:function(e,t){var n=e.getCursor().line,i=e.charCoords(r(n,0),"local"),o=e.getScrollInfo().clientHeight,s=i.top,a=i.bottom-s;switch(t.position){case"center":s=s-o/2+a;break;case"bottom":s=s-o+a}e.scrollTo(null,s)},replayMacro:function(e,t,n){var r=t.selectedCharacter,i=t.repeat,o=xt.macroModeState;for("@"==r&&(r=o.latestRegister);i--;)Ze(e,n,o,r)},enterMacroRecordMode:function(e,t){var n=xt.macroModeState,r=t.selectedCharacter;n.enterMacroRecordMode(e,r)},toggleOverwrite:function(t){t.state.overwrite?(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})):(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(t,n,i){if(!t.getOption("readOnly")){i.insertMode=!0,i.insertModeRepeat=n&&n.repeat||1;var o=n?n.insertAt:null,s=i.sel,a=n.head||t.getCursor("head"),l=t.listSelections().length;if("eol"==o)a=r(a.line,V(t,a.line));else if("charAfter"==o)a=R(a,0,1);else if("firstNonBlank"==o)a=Et.moveToFirstNonWhiteSpaceCharacter(t,a);else if("startOfSelectedArea"==o)i.visualBlock?(a=r(Math.min(s.head.line,s.anchor.line),Math.min(s.head.ch,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line<s.anchor.line?s.head:r(s.anchor.line,0);else if("endOfSelectedArea"==o)i.visualBlock?(a=r(Math.min(s.head.line,s.anchor.line),Math.max(s.head.ch+1,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line>=s.anchor.line?R(s.head,0,1):r(s.anchor.line,0);else if("inplace"==o&&i.visualMode)return;t.setOption("disableInput",!1),n&&n.replace?(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"})):(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})),xt.macroModeState.isPlaying||(t.on("change",tt),e.on(t.getInputField(),"keydown",st)),i.visualMode&&ce(t),te(t,a,l)}},toggleVisualMode:function(t,n,i){var o,s=n.repeat,a=t.getCursor();i.visualMode?i.visualLine^n.linewise||i.visualBlock^n.blockwise?(i.visualLine=!!n.linewise,i.visualBlock=!!n.blockwise,e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),se(t)):ce(t):(i.visualMode=!0,i.visualLine=!!n.linewise,i.visualBlock=!!n.blockwise,o=L(t,r(a.line,a.ch+s-1),!0),i.sel={anchor:a,head:o},e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),se(t),we(t,i,"<",G(a,o)),we(t,i,">",Y(a,o)))},reselectLastSelection:function(t,n,r){var i=r.lastSelection;if(r.visualMode&&ie(t,r),i){var o=i.anchorMark.find(),s=i.headMark.find();if(!o||!s)return;r.sel={anchor:o,head:s},r.visualMode=!0,r.visualLine=i.visualLine,r.visualBlock=i.visualBlock,se(t),we(t,r,"<",G(o,s)),we(t,r,">",Y(o,s)),e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""})}},joinLines:function(e,t,n){var i,o;if(n.visualMode){if(i=e.getCursor("anchor"),o=e.getCursor("head"),K(o,i)){var s=o;o=i,i=s}o.ch=V(e,o.line)-1}else{var a=Math.max(t.repeat,2);i=e.getCursor(),o=L(e,r(i.line+a-1,1/0))}for(var l=0,c=i.line;c<o.line;c++){l=V(e,i.line);var s=r(i.line+1,V(e,i.line+1)),u=e.getRange(i,s);u=u.replace(/\n\s*/g," "),e.replaceRange(u,i,s)}var d=r(i.line,l);n.visualMode&&ce(e,!1),e.setCursor(d)},newLineAndEnterInsertMode:function(t,n,i){i.insertMode=!0;var o=W(t.getCursor());if(o.line!==t.firstLine()||n.after){o.line=n.after?o.line:o.line-1,o.ch=V(t,o.line),t.setCursor(o);var s=e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent;s(t)}else t.replaceRange("\n",r(t.firstLine(),0)),t.setCursor(t.firstLine(),0);this.enterInsertMode(t,{repeat:n.repeat},i)},paste:function(e,t,n){var i=W(e.getCursor()),o=xt.registerController.getRegister(t.registerName),s=""+o;if(s){if(t.matchIndent){var a=e.getOption("tabSize"),l=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*a+1*n},c=e.getLine(e.getCursor().line),u=l(c.match(/^\s*/)[0]),d=s.replace(/\n$/,""),p=s!==d,h=l(s.match(/^\s*/)[0]),s=d.replace(/^\s*/gm,function(t){var n=u+(l(t)-h);if(n<0)return"";if(e.getOption("indentWithTabs")){var r=Math.floor(n/a);return Array(r+1).join("\t")}return Array(n+1).join(" ")});s+=p?"\n":""}if(t.repeat>1)var s=Array(t.repeat+1).join(s);var f=o.linewise,m=o.blockwise;if(f)n.visualMode?s=n.visualLine?s.slice(0,-1):"\n"+s.slice(0,s.length-1)+"\n":t.after?(s="\n"+s.slice(0,s.length-1),i.ch=V(e,i.line)):i.ch=0;else{if(m){s=s.split("\n");for(var _=0;_<s.length;_++)s[_]=""==s[_]?" ":s[_]}i.ch+=t.after?1:0}var g,v;if(n.visualMode){n.lastPastedText=s;var y,b=re(e,n),w=b[0],x=b[1],k=e.getSelection(),A=e.listSelections(),C=Array(A.length).join("1").split("1");n.lastSelection&&(y=n.lastSelection.headMark.find()),xt.registerController.unnamedRegister.setText(k),m?(e.replaceSelections(C),x=r(w.line+s.length-1,w.ch),e.setCursor(w),ee(e,x),e.replaceSelections(s),g=w):n.visualBlock?(e.replaceSelections(C),e.setCursor(w),e.replaceRange(s,w,w),g=w):(e.replaceRange(s,w,x),g=e.posFromIndex(e.indexFromPos(w)+s.length-1)),y&&(n.lastSelection.headMark=e.setBookmark(y)),f&&(g.ch=0)}else if(m){e.setCursor(i);for(var _=0;_<s.length;_++){var E=i.line+_;E>e.lastLine()&&e.replaceRange("\n",r(E,0));var S=V(e,E);S<i.ch&&X(e,E,i.ch)}e.setCursor(i),ee(e,r(i.line+s.length-1,i.ch)),e.replaceSelections(s),g=i}else e.replaceRange(s,i),f&&t.after?g=r(i.line+1,pe(e.getLine(i.line+1))):f&&!t.after?g=r(i.line,pe(e.getLine(i.line))):!f&&t.after?(v=e.indexFromPos(i),g=e.posFromIndex(v+s.length-1)):(v=e.indexFromPos(i),g=e.posFromIndex(v+s.length));n.visualMode&&ce(e,!1),e.setCursor(g)}},undo:function(t,n){t.operation(function(){U(t,e.commands.undo,n.repeat)(),t.setCursor(t.getCursor("anchor"))})},redo:function(t,n){U(t,e.commands.redo,n.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){var r=t.selectedCharacter;we(e,n,r,e.getCursor())},replace:function(t,n,i){var o,s,a=n.selectedCharacter,l=t.getCursor(),c=t.listSelections();if(i.visualMode)l=t.getCursor("start"),s=t.getCursor("end");else{var u=t.getLine(l.line);o=l.ch+n.repeat,o>u.length&&(o=u.length),s=r(l.line,o)}if("\n"==a)i.visualMode||t.replaceRange("",l,s),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t);else{var d=t.getRange(l,s);if(d=d.replace(/[^\n]/g,a),i.visualBlock){var p=Array(t.getOption("tabSize")+1).join(" ");d=t.getSelection(),d=d.replace(/\t/g,p).replace(/[^\n]/g,a).split("\n"),t.replaceSelections(d)}else t.replaceRange(d,l,s);i.visualMode?(l=K(c[0].anchor,c[0].head)?c[0].anchor:c[0].head,t.setCursor(l),ce(t,!1)):t.setCursor(R(s,0,-1))}},incrementNumberToken:function(e,t){for(var n,i,o,s,a,l=e.getCursor(),c=e.getLine(l.line),u=/-?\d+/g;null!==(n=u.exec(c))&&(a=n[0],i=n.index,o=i+a.length,!(l.ch<o)););if((t.backtrack||!(o<=l.ch))&&a){var d=t.increase?1:-1,p=parseInt(a)+d*t.repeat,h=r(l.line,i),f=r(l.line,o);s=""+p,e.replaceRange(s,h,f),e.setCursor(r(l.line,i+s.length-1))}},repeatLastEdit:function(e,t,n){var r=n.lastEditInputState;if(r){var i=t.repeat;i&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=i:i=n.lastEditInputState.repeatOverride||i,at(e,n,i,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:Je},Mt={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Tt={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};y("pcre",!0,"boolean"),Ee.prototype={getQuery:function(){return xt.query},setQuery:function(e){xt.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return xt.isReversed},setReversed:function(e){xt.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var Ot={"\\n":"\n","\\r":"\r","\\t":"\t"},Nt={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"},It="(Javascript regexp)",Dt=function(){this.buildCommandMap_()};Dt.prototype={processCommand:function(e,t,n){var r=this;e.operation(function(){e.curOp.isVimOp=!0,r._processCommand(e,t,n)})},_processCommand:function(t,n,r){var i=t.state.vim,o=xt.registerController.getRegister(":"),s=""+o;i.visualMode&&ce(t);var a=new e.StringStream(n);o.setText(n);var l=r||{};l.input=n;try{this.parseInput_(t,a,l)}catch(e){throw Le(t,e),e}var c,u;if(l.commandName){if(c=this.matchCommand_(l.commandName)){if(u=c.name,c.excludeFromCommandHistory&&o.setText(s),this.parseCommandArgs_(a,l,c),"exToKey"==c.type){for(var d=0;d<c.toKeys.length;d++)e.Vim.handleKey(t,c.toKeys[d],"mapping");return}if("exToEx"==c.type)return void this.processCommand(t,c.toInput)}}else void 0!==l.line&&(u="move");if(!u)return void Le(t,'Not an editor command ":'+n+'"');try{Lt[u](t,l),c&&c.possiblyAsync||!l.callback||l.callback()}catch(e){throw Le(t,e),e}},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var r=t.match(/^(\w+)/);return r?n.commandName=r[1]:n.commandName=t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return e.getCursor().line;case"$":return e.lastLine();case"'":var r=t.next(),i=Ge(e,e.state.vim,r);if(!i)throw Error("Mark not set");return i.line;default:return void t.backUp(1)}},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var r=n.argDelimiter||/\s+/,i=Q(t.argString).split(r);i.length&&i[0]&&(t.args=i)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var r=this.commandMap_[n];if(0===r.name.indexOf(e))return r}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<n.length;e++){var t=n[e],r=t.shortName||t.name;this.commandMap_[r]=t}},map:function(e,n,r){if(":"!=e&&":"==e.charAt(0)){if(r)throw Error("Mode not supported for ex mappings");var i=e.substring(1);":"!=n&&":"==n.charAt(0)?this.commandMap_[i]={name:i,type:"exToEx",toInput:n.substring(1),user:!0}:this.commandMap_[i]={name:i,type:"exToKey",toKeys:n,user:!0}}else if(":"!=n&&":"==n.charAt(0)){var o={keys:e,type:"keyToEx",exArgs:{input:n.substring(1)}};r&&(o.context=r),t.unshift(o)}else{var o={keys:e,type:"keyToKey",toKeys:n};r&&(o.context=r),t.unshift(o)}},unmap:function(e,n){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var r=e.substring(1);if(this.commandMap_[r]&&this.commandMap_[r].user)return void delete this.commandMap_[r]}else for(var i=e,o=0;o<t.length;o++)if(i==t[o].keys&&t[o].context===n)return void t.splice(o,1);throw Error("No such mapping.")}};var Lt={colorscheme:function(e,t){return!t.args||t.args.length<1?void Le(e,e.getOption("theme")):void e.setOption("theme",t.args[0])},map:function(e,t,n){var r=t.args;return!r||r.length<2?void(e&&Le(e,"Invalid mapping: "+t.input)):void zt.map(r[0],r[1],n)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var r=t.args;return!r||r.length<1?void(e&&Le(e,"No such mapping: "+t.input)):void zt.unmap(r[0],n)},move:function(e,t){Ct.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,r=t.setCfg||{};if(!n||n.length<1)return void(e&&Le(e,"Invalid mapping: "+t.input));var i=n[0].split("="),o=i[0],s=i[1],a=!1;if("?"==o.charAt(o.length-1)){if(s)throw Error("Trailing characters: "+t.argString);o=o.substring(0,o.length-1),a=!0}void 0===s&&"no"==o.substring(0,2)&&(o=o.substring(2),s=!1);var l=yt[o]&&"boolean"==yt[o].type;if(l&&void 0==s&&(s=!0),!l&&void 0===s||a){var c=w(o,e,r);c===!0||c===!1?Le(e," "+(c?"":"no")+o):Le(e,"  "+o+"="+c)}else b(o,s,e,r)},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,r=xt.registerController.registers,i="----------Registers----------<br><br>";if(n){var o;n=n.join("");for(var s=0;s<n.length;s++)if(o=n.charAt(s),xt.registerController.isValidRegister(o)){var a=r[o]||new S;i+='"'+o+"    "+a+"<br>"}}else for(var o in r){var l=""+r[o];l.length&&(i+='"'+o+"    "+l+"<br>")}Le(e,i)},sort:function(t,n){function i(){if(n.argString){var t=new e.StringStream(n.argString);if(t.eat("!")&&(a=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var r=t.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!r&&!t.eol())return"Invalid arguments";if(r[1]){l=r[1].indexOf("i")!=-1,c=r[1].indexOf("u")!=-1;var i=r[1].indexOf("d")!=-1||r[1].indexOf("n")!=-1&&1,o=r[1].indexOf("x")!=-1&&1,s=r[1].indexOf("o")!=-1&&1;if(i+o+s>1)return"Invalid arguments";u=i&&"decimal"||o&&"hex"||s&&"octal"}r[2]&&(d=RegExp(r[2].substr(1,r[2].length-2),l?"i":""))}}function o(e,t){if(a){var n;n=e,e=t,t=n}l&&(e=e.toLowerCase(),t=t.toLowerCase());var r=u&&v.exec(e),i=u&&v.exec(t);return r?(r=parseInt((r[1]+r[2]).toLowerCase(),y),i=parseInt((i[1]+i[2]).toLowerCase(),y),r-i):e<t?-1:1}function s(e,t){if(a){var n;n=e,e=t,t=n}return l&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}var a,l,c,u,d,p=i();if(p)return void Le(t,p+": "+n.argString);var h=n.line||t.firstLine(),f=n.lineEnd||n.line||t.lastLine();if(h!=f){var m=r(h,0),_=r(f,V(t,f)),g=t.getRange(m,_).split("\n"),v=d?d:"decimal"==u?/(-?)([\d]+)/:"hex"==u?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==u?/([0-7]+)/:null,y="decimal"==u?10:"hex"==u?16:"octal"==u?8:null,b=[],w=[];if(u||d)for(var x=0;x<g.length;x++){var k=d?g[x].match(d):null;k&&""!=k[0]?b.push(k):!d&&v.exec(g[x])?b.push(g[x]):w.push(g[x])}else w=g;if(b.sort(d?s:o),d)for(var x=0;x<b.length;x++)b[x]=b[x].input;else u||w.sort(o);if(g=a?b.concat(w):w.concat(b),c){var A,C=g;g=[];for(var x=0;x<C.length;x++)C[x]!=A&&g.push(C[x]),A=C[x]}t.replaceRange(g.join("\n"),m,_)}},global:function(e,t){var n=t.argString;if(!n)return void Le(e,"Regular Expression missing from global");var r,i=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),s=Me(n),a=n;if(s.length&&(a=s[0],r=s.slice(1,s.length).join("/")),a)try{Be(e,a,!0,!0)}catch(t){return void Le(e,"Invalid regex: "+a)}for(var l=Se(e).getQuery(),c=[],u="",d=i;d<=o;d++){var p=l.test(e.getLine(d));p&&(c.push(d+1),u+=e.getLine(d)+"<br>")}if(!r)return void Le(e,u);var h=0,f=function(){if(h<c.length){var t=c[h]+r;zt.processCommand(e,t,{callback:f})}h++};f()},substitute:function(e,t){if(!e.getSearchCursor)throw Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var n,i,o,s,a=t.argString,l=a?Me(a):[],c="",u=!1,d=!1;if(l.length)n=l[0],c=l[1],void 0!==c&&(c=w("pcre")?Ie(c):Ne(c),xt.lastSubstituteReplacePart=c),i=l[2]?l[2].split(" "):[];else if(a&&a.length)return void Le(e,"Substitutions should be of the form :s/pattern/replace/");if(i&&(o=i[0],s=parseInt(i[1]),o&&(o.indexOf("c")!=-1&&(u=!0,o.replace("c","")),o.indexOf("g")!=-1&&(d=!0,o.replace("g","")),n=n+"/"+o)),n)try{Be(e,n,!0,!0)}catch(t){return void Le(e,"Invalid regex: "+n)}if(c=c||xt.lastSubstituteReplacePart,void 0===c)return void Le(e,"No previous substitute regular expression");var p=Se(e),h=p.getQuery(),f=void 0!==t.line?t.line:e.getCursor().line,m=t.lineEnd||f;f==e.firstLine()&&m==e.lastLine()&&(m=1/0),s&&(f=m,m=f+s-1);var _=L(e,r(f,0)),g=e.getSearchCursor(h,_);Ye(e,u,d,f,m,g,h,c,t.callback)},redo:e.commands.redo,undo:e.commands.undo,write:function(t){e.commands.save?e.commands.save(t):t.save&&t.save()},nohlsearch:function(e){We(e)},yank:function(e){var t=W(e.getCursor()),n=t.line,r=e.getLine(n);xt.registerController.pushText("0","yank",r,!0,!0)},delmarks:function(t,n){if(!n.argString||!Q(n.argString))return void Le(t,"Argument required");for(var r=t.state.vim,i=new e.StringStream(Q(n.argString));!i.eol();){i.eatSpace();var o=i.pos;if(!i.match(/[a-zA-Z]/,!1))return void Le(t,"Invalid argument: "+n.argString.substring(o));var s=i.next();if(i.match("-",!0)){if(!i.match(/[a-zA-Z]/,!1))return void Le(t,"Invalid argument: "+n.argString.substring(o));var a=s,l=i.next();if(!(h(a)&&h(l)||_(a)&&_(l)))return void Le(t,"Invalid argument: "+a+"-");var c=a.charCodeAt(0),u=l.charCodeAt(0);if(c>=u)return void Le(t,"Invalid argument: "+n.argString.substring(o));for(var d=0;d<=u-c;d++){var p=String.fromCharCode(c+d);delete r.marks[p]}}else delete r.marks[s]}}},zt=new Dt;return e.keyMap.vim={attach:a,detach:s,call:l},y("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={fallthrough:["default"],attach:a,detach:s,call:l},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:a,detach:s,call:l},A(),At};e.Vim=i()})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("clojure",function(e){function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t,n){this.indent=e,this.type=t,this.prev=n}function r(e,t,r){e.indentStack=new n(t,r,e.indentStack)}function i(e){e.indentStack=e.indentStack.prev}function o(e,t){return"0"===e&&t.eat(/x/i)?(t.eatWhile(x.hex),!0):("+"!=e&&"-"!=e||!x.digit.test(t.peek())||(t.eat(x.sign),e=t.next()),!!x.digit.test(e)&&(t.eat(e),t.eatWhile(x.digit),"."==t.peek()?(t.eat("."),t.eatWhile(x.digit)):"/"==t.peek()&&(t.eat("/"),t.eatWhile(x.digit)),t.eat(x.exponent)&&(t.eat(x.sign),t.eatWhile(x.digit)),!0))}function s(e){var t=e.next();t&&t.match(/[a-z]/)&&e.match(/[a-z]+/,!0)||"u"===t&&e.match(/[0-9a-z]{4}/i,!0)}var a="builtin",l="comment",c="string",u="string-2",d="atom",p="number",h="bracket",f="keyword",m="variable",_=e.indentUnit||2,g=e.indentUnit||2,v=t("true false nil"),y=t("defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord defproject deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle"),b=t("* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -> ->> ->ArrayChunk ->Vec ->VecNode ->VecSeq -cache-protocol-fn -reset-methods .. / < <= = == > >= EMPTY-NODE accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* bound? butlast byte byte-array bytes case cat cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while eduction empty empty? ensure enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by hash hash-combine hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc inc' init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod munge name namespace namespace-munge neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string realized? reduce reduce-kv reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents slurp some some-fn sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing update update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap *default-data-reader-fn* as-> cond-> cond->> reduced reduced? send-via set-agent-send-executor! set-agent-send-off-executor! some-> some->>"),w=t("ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catch let letfn binding loop for doseq dotimes when-let if-let defstruct struct-map assoc testing deftest handler-case handle dotrace deftrace"),x={digit:/\d/,digit_or_colon:/[\d:]/,hex:/[0-9a-f]/i,sign:/[+-]/,exponent:/e/i,keyword_char:/[^\s\(\[\;\)\]]/,
symbol:/[\w*+!\-\._?:<>\/\xa1-\uffff]/,block_indent:/^(?:def|with)[^\/]+$|\/(?:def|with)/};return{startState:function(){return{indentStack:null,indentation:0,mode:!1}},token:function(e,t){if(null==t.indentStack&&e.sol()&&(t.indentation=e.indentation()),"string"!=t.mode&&e.eatSpace())return null;var n=null;switch(t.mode){case"string":for(var k,A=!1;null!=(k=e.next());){if('"'==k&&!A){t.mode=!1;break}A=!A&&"\\"==k}n=c;break;default:var C=e.next();if('"'==C)t.mode="string",n=c;else if("\\"==C)s(e),n=u;else if("'"!=C||x.digit_or_colon.test(e.peek()))if(";"==C)e.skipToEnd(),n=l;else if(o(C,e))n=p;else if("("==C||"["==C||"{"==C){var E,S="",j=e.column();if("("==C)for(;null!=(E=e.eat(x.keyword_char));)S+=E;S.length>0&&(w.propertyIsEnumerable(S)||x.block_indent.test(S))?r(t,j+_,C):(e.eatSpace(),e.eol()||";"==e.peek()?r(t,j+g,C):r(t,j+e.current().length,C)),e.backUp(e.current().length-1),n=h}else if(")"==C||"]"==C||"}"==C)n=h,null!=t.indentStack&&t.indentStack.type==(")"==C?"(":"]"==C?"[":"{")&&i(t);else{if(":"==C)return e.eatWhile(x.symbol),d;e.eatWhile(x.symbol),n=y&&y.propertyIsEnumerable(e.current())?f:b&&b.propertyIsEnumerable(e.current())?a:v&&v.propertyIsEnumerable(e.current())?d:m}else n=d}return n},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}}),e.defineMIME("text/x-clojure","clojure"),e.defineMIME("text/x-clojurescript","clojure"),e.defineMIME("application/edn","clojure")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("coffeescript",function(e,t){function n(e){return RegExp("^(("+e.join(")|(")+"))\\b")}function r(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var n=t.scope.offset;if(e.eatSpace()){var r=e.indentation();return r>n&&"coffee"==t.scope.type?"indent":r<n?"dedent":null}n>0&&a(e,t)}if(e.eatSpace())return null;var s=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=o,t.tokenize(e,t);if("#"===s)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var l=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(l=!0),e.match(/^-?\d+\.\d*/)&&(l=!0),e.match(/^-?\.\d+/)&&(l=!0),l)return"."==e.peek()&&e.backUp(1),"number";var m=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(m=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(m=!0),e.match(/^-?0(?![\dx])/i)&&(m=!0),m)return"number"}if(e.match(v))return t.tokenize=i(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(y)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=i(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(u)||e.match(f)?"operator":e.match(d)?"punctuation":e.match(w)?"atom":e.match(h)||t.prop&&e.match(p)?"property":e.match(g)?"keyword":e.match(p)?"variable":(e.next(),c)}function i(e,n,i){return function(o,s){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return i}else{if(o.match(e))return s.tokenize=r,i;o.eat(/['"\/]/)}return n&&(t.singleLineStringErrors?i=c:s.tokenize=r),i}}function o(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=r;break}e.eatWhile("#")}return"comment"}function s(t,n,r){r=r||"coffee";for(var i=0,o=!1,s=null,a=n.scope;a;a=a.prev)if("coffee"===a.type||"}"==a.type){i=a.offset+e.indentUnit;break}"coffee"!==r?(o=null,s=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:i,type:r,prev:n.scope,align:o,alignOffset:s}}function a(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,i=t.scope;i;i=i.prev)if(n===i.offset){r=!0;break}if(!r)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function l(e,t){var n=t.tokenize(e,t),r=e.current();"return"===r&&(t.dedent=!0),(("->"===r||"=>"===r)&&e.eol()||"indent"===n)&&s(e,t);var i="[({".indexOf(r);if(i!==-1&&s(e,t,"])}".slice(i,i+1)),m.exec(r)&&s(e,t),"then"==r&&a(e,t),"dedent"===n&&a(e,t))return c;if(i="])}".indexOf(r),i!==-1){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==r&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),n}var c="error",u=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,d=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,p=/^[_A-Za-z$][_A-Za-z$0-9]*/,h=/^@[_A-Za-z$][_A-Za-z$0-9]*/,f=n(["and","or","not","is","isnt","in","instanceof","typeof"]),m=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],_=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],g=n(m.concat(_));m=n(m);var v=/^('{3}|\"{3}|['\"])/,y=/^(\/{3}|\/)/,b=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],w=n(b),x={startState:function(e){return{tokenize:r,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var r=l(e,t);return r&&"comment"!=r&&(n&&(n.align=!0),t.prop="punctuation"==r&&"."==e.current()),r},indent:function(e,t){if(e.tokenize!=r)return 0;var n=e.scope,i=t&&"])}".indexOf(t.charAt(0))>-1;if(i)for(;"coffee"==n.type&&n.prev;)n=n.prev;var o=i&&n.type===t.charAt(0);return n.align?n.alignOffset-(o?1:0):(o?n.prev:n).offset},lineComment:"#",fold:"indent"};return x}),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("commonlisp",function(e){function t(e){for(var t;t=e.next();)if("\\"==t)e.next();else if(!c.test(t)){e.backUp(1);break}return e.current()}function n(e,n){if(e.eatSpace())return o="ws",null;if(e.match(l))return"number";var c=e.next();if("\\"==c&&(c=e.next()),'"'==c)return(n.tokenize=r)(e,n);if("("==c)return o="open","bracket";if(")"==c||"]"==c)return o="close","bracket";if(";"==c)return e.skipToEnd(),o="ws","comment";if(/['`,@]/.test(c))return null;if("|"==c)return e.skipTo("|")?(e.next(),"symbol"):(e.skipToEnd(),"error");if("#"==c){var c=e.next();return"("==c?(o="open","bracket"):/[+\-=\.']/.test(c)?null:/\d/.test(c)&&e.match(/^\d*#/)?null:"|"==c?(n.tokenize=i)(e,n):":"==c?(t(e),"meta"):"\\"==c?(e.next(),t(e),"string-2"):"error"}var u=t(e);return"."==u?null:(o="symbol","nil"==u||"t"==u||":"==u.charAt(0)?"atom":"open"==n.lastType&&(s.test(u)||a.test(u))?"keyword":"&"==u.charAt(0)?"variable-2":"variable")}function r(e,t){for(var r,i=!1;r=e.next();){if('"'==r&&!i){t.tokenize=n;break}i=!i&&"\\"==r}return"string"}function i(e,t){for(var r,i;r=e.next();){if("#"==r&&"|"==i){t.tokenize=n;break}i=r}return o="ws","comment"}var o,s=/^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$/,a=/^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$/,l=/^(?:[+\-]?(?:\d+|\d*\.\d+)(?:[efd][+\-]?\d+)?|[+\-]?\d+(?:\/[+\-]?\d+)?|#b[+\-]?[01]+|#o[+\-]?[0-7]+|#x[+\-]?[\da-f]+)/,c=/[^\s'`,@()\[\]";]/;return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastType:null,tokenize:n}},token:function(t,n){t.sol()&&"number"!=typeof n.ctx.indentTo&&(n.ctx.indentTo=n.ctx.start+1),o=null;var r=n.tokenize(t,n);return"ws"!=o&&(null==n.ctx.indentTo?"symbol"==o&&a.test(t.current())?n.ctx.indentTo=n.ctx.start+e.indentUnit:n.ctx.indentTo="next":"next"==n.ctx.indentTo&&(n.ctx.indentTo=t.column()),n.lastType=o),"open"==o?n.ctx={prev:n.ctx,start:t.column(),indentTo:null}:"close"==o&&(n.ctx=n.ctx.prev||n.ctx),r},indent:function(e,t){var n=e.ctx.indentTo;return"number"==typeof n?n:e.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;",blockCommentStart:"#|",blockCommentEnd:"|#"}}),e.defineMIME("text/x-common-lisp","commonlisp")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("diff",function(){var e={"+":"positive","-":"negative","@":"meta"};return{token:function(t){var n=t.string.search(/[\t ]+?$/);if(!t.sol()||0===n)return t.skipToEnd(),("error "+(e[t.string.charAt(0)]||"")).replace(/ $/,"");var r=e[t.peek()]||t.skipToEnd();return n===-1?t.skipToEnd():t.pos=n,r}}}),e.defineMIME("text/x-diff","diff")})},function(e,exports,t){!function(e){e(t(2),t(215))}(function(e){"use strict";var t=["from","maintainer","run","cmd","expose","env","add","copy","entrypoint","volume","user","workdir","onbuild"],n="("+t.join("|")+")",r=RegExp(n+"\\s*$","i"),i=RegExp(n+"(\\s+)","i");e.defineSimpleMode("dockerfile",{start:[{regex:/#.*$/,token:"comment"},{regex:r,token:"variable-2"},{regex:i,token:["variable-2",null],next:"arguments"},{regex:/./,token:null}],arguments:[{regex:/#.*$/,token:"error",next:"start"},{regex:/[^#]+\\$/,token:null},{regex:/[^#]+/,token:null,next:"start"},{regex:/$/,token:null,next:"start"},{token:null,next:"start"}],meta:{lineComment:"#"}}),e.defineMIME("text/x-dockerfile","dockerfile")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("dtd",function(e){function t(e,t){return s=t,e}function n(e,n){var s=e.next();if("<"!=s||!e.eat("!")){if("<"==s&&e.eat("?"))return n.tokenize=o("meta","?>"),t("meta",s);if("#"==s&&e.eatWhile(/[\w]/))return t("atom","tag");if("|"==s)return t("keyword","seperator");if(s.match(/[\(\)\[\]\-\.,\+\?>]/))return t(null,s);if(s.match(/[\[\]]/))return t("rule",s);if('"'==s||"'"==s)return n.tokenize=i(s),n.tokenize(e,n);if(e.eatWhile(/[a-zA-Z\?\+\d]/)){var a=e.current();return null!==a.substr(a.length-1,a.length).match(/\?|\+/)&&e.backUp(1),t("tag","tag")}return"%"==s||"*"==s?t("number","number"):(e.eatWhile(/[\w\\\-_%.{,]/),t(null,null))}return e.eatWhile(/[\-]/)?(n.tokenize=r,r(e,n)):e.eatWhile(/[\w]/)?t("keyword","doindent"):void 0}function r(e,r){for(var i,o=0;null!=(i=e.next());){if(o>=2&&">"==i){r.tokenize=n;break}o="-"==i?o+1:0}return t("comment","comment")}function i(e){return function(r,i){for(var o,s=!1;null!=(o=r.next());){if(o==e&&!s){i.tokenize=n;break}s=!s&&"\\"==o}return t("string","tag")}}function o(e,t){return function(r,i){for(;!r.eol();){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}var s,a=e.indentUnit;return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t),r=t.stack[t.stack.length-1];return"["==e.current()||"doindent"===s||"["==s?t.stack.push("rule"):"endtag"===s?t.stack[t.stack.length-1]="endtag":"]"==e.current()||"]"==s||">"==s&&"rule"==r?t.stack.pop():"["==s&&t.stack.push("["),n},indent:function(e,t){var n=e.stack.length;return t.match(/\]\s+|\]/)?n-=1:">"===t.substr(t.length-1,t.length)&&("<"===t.substr(0,1)||"doindent"==s&&t.length>1||("doindent"==s?n--:">"==s&&t.length>1||"tag"==s&&">"!==t||("tag"==s&&"rule"==e.stack[e.stack.length-1]?n--:"tag"==s?n++:">"===t&&"rule"==e.stack[e.stack.length-1]&&">"===s?n--:">"===t&&"rule"==e.stack[e.stack.length-1]||("<"!==t.substr(0,1)&&">"===t.substr(0,1)?n-=1:">"===t||(n-=1)))),null!=s&&"]"!=s||n--),e.baseIndent+n*a},electricChars:"]>"}}),e.defineMIME("application/xml-dtd","dtd")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("ecl",function(e){function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){return!!t.startOfLine&&(e.skipToEnd(),"meta")}function r(e,t){var n=e.next();if(v[n]){var r=v[n](e,t);if(r!==!1)return r}if('"'==n||"'"==n)return t.tokenize=i(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return c=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=o,o(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(y.test(n))return e.eatWhile(y),"operator";e.eatWhile(/[\w\$_]/);var s=e.current().toLowerCase();if(d.propertyIsEnumerable(s))return _.propertyIsEnumerable(s)&&(c="newstatement"),"keyword";if(p.propertyIsEnumerable(s))return _.propertyIsEnumerable(s)&&(c="newstatement"),"variable";if(h.propertyIsEnumerable(s))return _.propertyIsEnumerable(s)&&(c="newstatement"),"variable-2";if(f.propertyIsEnumerable(s))return _.propertyIsEnumerable(s)&&(c="newstatement"),"variable-3";if(m.propertyIsEnumerable(s))return _.propertyIsEnumerable(s)&&(c="newstatement"),"builtin";for(var a=s.length-1;a>=0&&(!isNaN(s[a])||"_"==s[a]);)--a;if(a>0){var l=s.substr(0,a+1);if(f.propertyIsEnumerable(l))return _.propertyIsEnumerable(l)&&(c="newstatement"),"variable-3"}return g.propertyIsEnumerable(s)?"atom":null}function i(e){return function(t,n){for(var i,o=!1,s=!1;null!=(i=t.next());){if(i==e&&!o){s=!0;break}o=!o&&"\\"==i}return!s&&o||(n.tokenize=r),"string"}}function o(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=r;break}i="*"==n}return"comment"}function s(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function a(e,t,n){return e.context=new s(e.indented,t,n,null,e.context)}function l(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}var c,u=e.indentUnit,d=t("abs acos allnodes ascii asin asstring atan atan2 ave case choose choosen choosesets clustersize combine correlation cos cosh count covariance cron dataset dedup define denormalize distribute distributed distribution ebcdic enth error evaluate event eventextra eventname exists exp failcode failmessage fetch fromunicode getisvalid global graph group hash hash32 hash64 hashcrc hashmd5 having if index intformat isvalid iterate join keyunicode length library limit ln local log loop map matched matchlength matchposition matchtext matchunicode max merge mergejoin min nolocal nonempty normalize parse pipe power preload process project pull random range rank ranked realformat recordof regexfind regexreplace regroup rejected rollup round roundup row rowdiff sample set sin sinh sizeof soapcall sort sorted sqrt stepped stored sum table tan tanh thisnode topn tounicode transfer trim truncate typeof ungroup unicodeorder variance which workunit xmldecode xmlencode xmltext xmlunicode"),p=t("apply assert build buildindex evaluate fail keydiff keypatch loadxml nothor notify output parallel sequential soapcall wait"),h=t("__compressed__ all and any as atmost before beginc++ best between case const counter csv descend encrypt end endc++ endmacro except exclusive expire export extend false few first flat from full function group header heading hole ifblock import in interface joined keep keyed last left limit load local locale lookup macro many maxcount maxlength min skew module named nocase noroot noscan nosort not of only opt or outer overwrite packed partition penalty physicallength pipe quote record relationship repeat return right scan self separator service shared skew skip sql store terminator thor threshold token transform trim true type unicodeorder unsorted validate virtual whole wild within xml xpath"),f=t("ascii big_endian boolean data decimal ebcdic integer pattern qstring real record rule set of string token udecimal unicode unsigned varstring varunicode"),m=t("checkpoint deprecated failcode failmessage failure global independent onwarning persist priority recovery stored success wait when"),_=t("catch class do else finally for if switch try while"),g=t("true false null"),v={"#":n},y=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new s((e||0)-u,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;c=null;var i=(t.tokenize||r)(e,t);if("comment"==i||"meta"==i)return i;if(null==n.align&&(n.align=!0),";"!=c&&":"!=c||"statement"!=n.type)if("{"==c)a(t,e.column(),"}");else if("["==c)a(t,e.column(),"]");else if("("==c)a(t,e.column(),")");else if("}"==c){for(;"statement"==n.type;)n=l(t);for("}"==n.type&&(n=l(t));"statement"==n.type;)n=l(t)}else c==n.type?l(t):("}"==n.type||"top"==n.type||"statement"==n.type&&"newstatement"==c)&&a(t,e.column(),"statement");else l(t);return t.startOfLine=!1,i},indent:function(e,t){if(e.tokenize!=r&&null!=e.tokenize)return 0;var n=e.context,i=t&&t.charAt(0);"statement"==n.type&&"}"==i&&(n=n.prev);var o=i==n.type;return"statement"==n.type?n.indented+("{"==i?0:u):n.align?n.column+(o?0:1):n.indented+(o?0:u)},electricChars:"{}"}}),e.defineMIME("text/x-ecl","ecl")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("eiffel",function(){function e(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function t(e,t,n){return n.tokenize.push(e),e(t,n)}function n(e,n){if(e.eatSpace())return null;var i=e.next();return'"'==i||"'"==i?t(r(i,"string"),e,n):"-"==i&&e.eat("-")?(e.skipToEnd(),"comment"):":"==i&&e.eat("=")?"operator":/[0-9]/.test(i)?(e.eatWhile(/[xXbBCc0-9\.]/),e.eat(/[\?\!]/),"ident"):/[a-zA-Z_0-9]/.test(i)?(e.eatWhile(/[a-zA-Z_0-9]/),e.eat(/[\?\!]/),"ident"):/[=+\-\/*^%<>~]/.test(i)?(e.eatWhile(/[=+\-\/*^%<>~]/),"operator"):null}function r(e,t,n){return function(r,i){for(var o,s=!1;null!=(o=r.next());){if(o==e&&(n||!s)){i.tokenize.pop();break}s=!s&&"%"==o}return t}}var i=e(["note","across","when","variant","until","unique","undefine","then","strip","select","retry","rescue","require","rename","reference","redefine","prefix","once","old","obsolete","loop","local","like","is","inspect","infix","include","if","frozen","from","external","export","ensure","end","elseif","else","do","creation","create","check","alias","agent","separate","invariant","inherit","indexing","feature","expanded","deferred","class","Void","True","Result","Precursor","False","Current","create","attached","detachable","as","and","implies","not","or"]),o=e([":=","and then","and","or","<<",">>"]);return{startState:function(){return{tokenize:[n]}},token:function(e,t){var n=t.tokenize[t.tokenize.length-1](e,t);if("ident"==n){var r=e.current();n=i.propertyIsEnumerable(e.current())?"keyword":o.propertyIsEnumerable(e.current())?"operator":/^[A-Z][A-Z_0-9]*$/g.test(r)?"tag":/^0[bB][0-1]+$/g.test(r)?"number":/^0[cC][0-7]+$/g.test(r)?"number":/^0[xX][a-fA-F0-9]+$/g.test(r)?"number":/^([0-9]+\.[0-9]*)|([0-9]*\.[0-9]+)$/g.test(r)?"number":/^[0-9]+$/g.test(r)?"number":"variable"}return n},lineComment:"--"}}),e.defineMIME("text/x-eiffel","eiffel")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("elm",function(){function e(e,t,n){return t(n),n(e,t)}function t(){return function(t,i){if(t.eatWhile(h))return null;var f=t.next();if(p.test(f)){if("{"==f&&t.eat("-")){var m="comment";return t.eat("#")&&(m="meta"),e(t,i,n(m,1))}return null}if("'"==f)return t.eat("\\")?t.next():t.next(),t.eat("'")?"string":"error";if('"'==f)return e(t,i,r);if(s.test(f))return t.eatWhile(u),t.eat(".")?"qualifier":"variable-2";if(o.test(f)){var _=1===t.pos;return t.eatWhile(u),_?"variable-3":"variable"}if(a.test(f)){if("0"==f){if(t.eat(/[xX]/))return t.eatWhile(l),"integer";if(t.eat(/[oO]/))return t.eatWhile(c),"number"}t.eatWhile(a);var m="number";return t.eat(".")&&(m="number",t.eatWhile(a)),t.eat(/[eE]/)&&(m="number",t.eat(/[-+]/),t.eatWhile(a)),m}return d.test(f)?"-"==f&&t.eat(/-/)&&(t.eatWhile(/-/),!t.eat(d))?(t.skipToEnd(),"comment"):(t.eatWhile(d),"builtin"):"error"}}function n(e,r){return 0==r?t():function(i,o){for(var s=r;!i.eol();){var a=i.next();if("{"==a&&i.eat("-"))++s;else if("-"==a&&i.eat("}")&&(--s,0==s))return o(t()),e}return o(n(e,s)),e}}function r(e,n){for(;!e.eol();){var r=e.next();if('"'==r)return n(t()),"string";if("\\"==r){if(e.eol()||e.eat(h))return n(i),"string";e.eat("&")||e.next()}}return n(t()),"error"}function i(n,i){return n.eat("\\")?e(n,i,r):(n.next(),i(t()),"error")}var o=/[a-z_]/,s=/[A-Z]/,a=/[0-9]/,l=/[0-9A-Fa-f]/,c=/[0-7]/,u=/[a-z_A-Z0-9\']/,d=/[-!#$%&*+.\/<=>?@\\^|~:\u03BB\u2192]/,p=/[(),;[\]`{}]/,h=/[ \t\v\f]/,f=function(){for(var e={},t=["case","of","as","if","then","else","let","in","infix","infixl","infixr","type","alias","input","output","foreign","loopback","module","where","import","exposing","_","..","|",":","=","\\",'"',"->","<-"],n=t.length;n--;)e[t[n]]="keyword";return e}();return{startState:function(){return{f:t()}},copyState:function(e){return{f:e.f}},token:function(e,t){var n=t.f(e,function(e){t.f=e}),r=e.current();return f.hasOwnProperty(r)?f[r]:n}}}),e.defineMIME("text/x-elm","elm")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMIME("text/x-erlang","erlang"),e.defineMode("erlang",function(t){function n(e,t){if(t.in_string)return t.in_string=!o(e),u(t,e,"string");if(t.in_atom)return t.in_atom=!s(e),u(t,e,"atom");if(e.eatSpace())return u(t,e,"whitespace");if(!f(t)&&e.match(/-\s*[a-zß-öø-ÿ][\wØ-ÞÀ-Öß-öø-ÿ]*/))return c(e.current(),E)?u(t,e,"type"):u(t,e,"attribute");var n=e.next();if("%"==n)return e.skipToEnd(),u(t,e,"comment");if(":"==n)return u(t,e,"colon");if("?"==n)return e.eatSpace(),e.eatWhile(B),u(t,e,"macro");if("#"==n)return e.eatSpace(),e.eatWhile(B),u(t,e,"record");if("$"==n)return"\\"!=e.next()||e.match(q)?u(t,e,"number"):u(t,e,"error");if("."==n)return u(t,e,"dot");if("'"==n){if(!(t.in_atom=!s(e))){if(e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),u(t,e,"fun");if(e.match(/\s*\(/,!1)||e.match(/\s*:/,!1))return u(t,e,"function")}return u(t,e,"atom")}if('"'==n)return t.in_string=!o(e),u(t,e,"string");if(/[A-Z_Ø-ÞÀ-Ö]/.test(n))return e.eatWhile(B),u(t,e,"variable");if(/[a-z_ß-öø-ÿ]/.test(n)){if(e.eatWhile(B),e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),u(t,e,"fun");var a=e.current();return c(a,S)?u(t,e,"keyword"):c(a,T)?u(t,e,"operator"):e.match(/\s*\(/,!1)?!c(a,P)||":"==f(t).token&&"erlang"!=f(t,2).token?c(a,R)?u(t,e,"guard"):u(t,e,"function"):u(t,e,"builtin"):":"==l(e)?"erlang"==a?u(t,e,"builtin"):u(t,e,"function"):c(a,["true","false"])?u(t,e,"boolean"):u(t,e,"atom")}var d=/[0-9]/,p=/[0-9a-zA-Z]/;return d.test(n)?(e.eatWhile(d),e.eat("#")?e.eatWhile(p)||e.backUp(1):e.eat(".")&&(e.eatWhile(d)?e.eat(/[eE]/)&&(e.eat(/[-+]/)?e.eatWhile(d)||e.backUp(2):e.eatWhile(d)||e.backUp(1)):e.backUp(1)),u(t,e,"number")):r(e,I,D)?u(t,e,"open_paren"):r(e,L,z)?u(t,e,"close_paren"):i(e,j,M)?u(t,e,"separator"):i(e,O,N)?u(t,e,"operator"):u(t,e,null)}function r(e,t,n){if(1==e.current().length&&t.test(e.current())){for(e.backUp(1);t.test(e.peek());)if(e.next(),c(e.current(),n))return!0;e.backUp(e.current().length-1)}return!1}function i(e,t,n){if(1==e.current().length&&t.test(e.current())){for(;t.test(e.peek());)e.next();for(;0<e.current().length;){if(c(e.current(),n))return!0;e.backUp(1)}e.next()}return!1}function o(e){return a(e,'"',"\\")}function s(e){return a(e,"'","\\")}function a(e,t,n){for(;!e.eol();){var r=e.next();if(r==t)return!0;r==n&&e.next()}return!1}function l(e){var t=e.match(/([\n\s]+|%[^\n]*\n)*(.)/,!1);return t?t.pop():""}function c(e,t){return-1<t.indexOf(e)}function u(e,t,n){switch(m(e,p(n,t)),n){case"atom":return"atom";case"attribute":return"attribute";case"boolean":return"atom";case"builtin":return"builtin";case"close_paren":return null;case"colon":return null;case"comment":return"comment";case"dot":return null;case"error":return"error";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"open_paren":return null;case"operator":return"operator";case"record":return"bracket";case"separator":return null;case"string":return"string";case"type":return"def";case"variable":return"variable";default:return null}}function d(e,t,n,r){return{token:e,column:t,indent:n,type:r}}function p(e,t){return d(t.current(),t.column(),t.indentation(),e)}function h(e){return d(e,0,0,e)}function f(e,t){var n=e.tokenStack.length,r=t?t:1;return!(n<r)&&e.tokenStack[n-r]}function m(e,t){"comment"!=t.type&&"whitespace"!=t.type&&(e.tokenStack=_(e.tokenStack,t),e.tokenStack=g(e.tokenStack))}function _(e,t){var n=e.length-1;return 0<n&&"record"===e[n].type&&"dot"===t.type?e.pop():0<n&&"group"===e[n].type?(e.pop(),e.push(t)):e.push(t),e}function g(e){if(!e.length)return e;var t=e.length-1;if("dot"===e[t].type)return[];if(t>1&&"fun"===e[t].type&&"fun"===e[t-1].token)return e.slice(0,t-1);switch(e[t].token){case"}":return v(e,{g:["{"]});case"]":return v(e,{i:["["]});case")":return v(e,{i:["("]});case">>":return v(e,{i:["<<"]});case"end":return v(e,{i:["begin","case","fun","if","receive","try"]});case",":return v(e,{e:["begin","try","when","->",",","(","[","{","<<"]});case"->":return v(e,{r:["when"],m:["try","if","case","receive"]});case";":return v(e,{E:["case","fun","if","receive","try","when"]});case"catch":return v(e,{e:["try"]});case"of":return v(e,{e:["case"]});case"after":return v(e,{e:["receive","try"]});default:return e}}function v(e,t){for(var n in t)for(var r=e.length-1,i=t[n],o=r-1;-1<o;o--)if(c(e[o].token,i)){var s=e.slice(0,o);switch(n){case"m":return s.concat(e[o]).concat(e[r]);case"r":return s.concat(e[r]);case"i":return s;case"g":return s.concat(h("group"));case"E":return s.concat(e[o]);case"e":return s.concat(e[o])}}return"E"==n?[]:e}function y(n,r){var i,o=t.indentUnit,s=b(r),a=f(n,1),l=f(n,2);return n.in_string||n.in_atom?e.Pass:l?"when"==a.token?a.column+o:"when"===s&&"function"===l.type?l.indent+o:"("===s&&"fun"===a.token?a.column+3:"catch"===s&&(i=k(n,["try"]))?i.column:c(s,["end","after","of"])?(i=k(n,["begin","case","fun","if","receive","try"]),i?i.column:e.Pass):c(s,z)?(i=k(n,D),i?i.column:e.Pass):c(a.token,[",","|","||"])||c(s,[",","|","||"])?(i=w(n),i?i.column+i.token.length:o):"->"==a.token?c(l.token,["receive","case","if","try"])?l.column+o+o:l.column+o:c(a.token,D)?a.column+a.token.length:(i=x(n),C(i)?i.column+o:0):0}function b(e){var t=e.match(/,|[a-z]+|\}|\]|\)|>>|\|+|\(/);return C(t)&&0===t.index?t[0]:""}function w(e){var t=e.tokenStack.slice(0,-1),n=A(t,"type",["open_paren"]);return!!C(t[n])&&t[n]}function x(e){var t=e.tokenStack,n=A(t,"type",["open_paren","separator","keyword"]),r=A(t,"type",["operator"]);return C(n)&&C(r)&&n<r?t[n+1]:!!C(n)&&t[n]}function k(e,t){var n=e.tokenStack,r=A(n,"token",t);return!!C(n[r])&&n[r]}function A(e,t,n){for(var r=e.length-1;-1<r;r--)if(c(e[r][t],n))return r;return!1}function C(e){return e!==!1&&null!=e}var E=["-type","-spec","-export_type","-opaque"],S=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],j=/[\->,;]/,M=["->",";",","],T=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],O=/[\+\-\*\/<>=\|:!]/,N=["=","+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-","!"],I=/[<\(\[\{]/,D=["<<","(","[","{"],L=/[>\)\]\}]/,z=["}","]",")",">>"],R=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],P=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],B=/[\w@Ø-ÞÀ-Öß-öø-ÿ]/,q=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;return{startState:function(){return{tokenStack:[],in_string:!1,in_atom:!1}},token:function(e,t){return n(e,t)},indent:function(e,t){return y(e,t)},lineComment:"%"}})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("fortran",function(){function e(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function t(e,t){if(e.match(a))return"operator";var l=e.next();if("!"==l)return e.skipToEnd(),"comment";if('"'==l||"'"==l)return t.tokenize=n(l),t.tokenize(e,t);if(/[\[\]\(\),]/.test(l))return null;if(/\d/.test(l))return e.eatWhile(/[\w\.]/),"number";if(s.test(l))return e.eatWhile(s),"operator";e.eatWhile(/[\w\$_]/);var c=e.current().toLowerCase();return r.hasOwnProperty(c)?"keyword":i.hasOwnProperty(c)||o.hasOwnProperty(c)?"builtin":"variable"}function n(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return!o&&i||(n.tokenize=null),"string"}}var r=e(["abstract","accept","allocatable","allocate","array","assign","asynchronous","backspace","bind","block","byte","call","case","class","close","common","contains","continue","cycle","data","deallocate","decode","deferred","dimension","do","elemental","else","encode","end","endif","entry","enumerator","equivalence","exit","external","extrinsic","final","forall","format","function","generic","go","goto","if","implicit","import","include","inquire","intent","interface","intrinsic","module","namelist","non_intrinsic","non_overridable","none","nopass","nullify","open","optional","options","parameter","pass","pause","pointer","print","private","program","protected","public","pure","read","recursive","result","return","rewind","save","select","sequence","stop","subroutine","target","then","to","type","use","value","volatile","where","while","write"]),i=e(["abort","abs","access","achar","acos","adjustl","adjustr","aimag","aint","alarm","all","allocated","alog","amax","amin","amod","and","anint","any","asin","associated","atan","besj","besjn","besy","besyn","bit_size","btest","cabs","ccos","ceiling","cexp","char","chdir","chmod","clog","cmplx","command_argument_count","complex","conjg","cos","cosh","count","cpu_time","cshift","csin","csqrt","ctime","c_funloc","c_loc","c_associated","c_null_ptr","c_null_funptr","c_f_pointer","c_null_char","c_alert","c_backspace","c_form_feed","c_new_line","c_carriage_return","c_horizontal_tab","c_vertical_tab","dabs","dacos","dasin","datan","date_and_time","dbesj","dbesj","dbesjn","dbesy","dbesy","dbesyn","dble","dcos","dcosh","ddim","derf","derfc","dexp","digits","dim","dint","dlog","dlog","dmax","dmin","dmod","dnint","dot_product","dprod","dsign","dsinh","dsin","dsqrt","dtanh","dtan","dtime","eoshift","epsilon","erf","erfc","etime","exit","exp","exponent","extends_type_of","fdate","fget","fgetc","float","floor","flush","fnum","fputc","fput","fraction","fseek","fstat","ftell","gerror","getarg","get_command","get_command_argument","get_environment_variable","getcwd","getenv","getgid","getlog","getpid","getuid","gmtime","hostnm","huge","iabs","iachar","iand","iargc","ibclr","ibits","ibset","ichar","idate","idim","idint","idnint","ieor","ierrno","ifix","imag","imagpart","index","int","ior","irand","isatty","ishft","ishftc","isign","iso_c_binding","is_iostat_end","is_iostat_eor","itime","kill","kind","lbound","len","len_trim","lge","lgt","link","lle","llt","lnblnk","loc","log","logical","long","lshift","lstat","ltime","matmul","max","maxexponent","maxloc","maxval","mclock","merge","move_alloc","min","minexponent","minloc","minval","mod","modulo","mvbits","nearest","new_line","nint","not","or","pack","perror","precision","present","product","radix","rand","random_number","random_seed","range","real","realpart","rename","repeat","reshape","rrspacing","rshift","same_type_as","scale","scan","second","selected_int_kind","selected_real_kind","set_exponent","shape","short","sign","signal","sinh","sin","sleep","sngl","spacing","spread","sqrt","srand","stat","sum","symlnk","system","system_clock","tan","tanh","time","tiny","transfer","transpose","trim","ttynam","ubound","umask","unlink","unpack","verify","xor","zabs","zcos","zexp","zlog","zsin","zsqrt"]),o=e(["c_bool","c_char","c_double","c_double_complex","c_float","c_float_complex","c_funptr","c_int","c_int16_t","c_int32_t","c_int64_t","c_int8_t","c_int_fast16_t","c_int_fast32_t","c_int_fast64_t","c_int_fast8_t","c_int_least16_t","c_int_least32_t","c_int_least64_t","c_int_least8_t","c_intmax_t","c_intptr_t","c_long","c_long_double","c_long_double_complex","c_long_long","c_ptr","c_short","c_signed_char","c_size_t","character","complex","double","integer","logical","real"]),s=/[+\-*&=<>\/\:]/,a=RegExp("(.and.|.or.|.eq.|.lt.|.le.|.gt.|.ge.|.ne.|.not.|.eqv.|.neqv.)","i");
return{startState:function(){return{tokenize:null}},token:function(e,n){if(e.eatSpace())return null;var r=(n.tokenize||t)(e,n);return"comment"==r||"meta"==r?r:r}}}),e.defineMIME("text/x-fortran","fortran")})},function(e,exports,t){!function(e){e(t(2),t(217),t(214))}(function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(n,r){function i(e){return e.code=!1,null}var o=0,s={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var i=e.pos;e.eatWhile("`");var s=1+e.pos-i;return n.code?s===o&&(n.code=!1):(o=s,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,r.gitHubSpice!==!1)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:i},a={taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var l in r)a[l]=r[l];return a.name="markdown",e.overlayMode(e.getMode(n,a),s)},"markdown"),e.defineMIME("text/x-gfm","gfm")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("go",function(e){function t(e,t){var i=e.next();if('"'==i||"'"==i||"`"==i)return t.tokenize=n(i),t.tokenize(e,t);if(/[\d\.]/.test(i))return"."==i?e.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"==i?e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/):e.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(i))return a=i,null;if("/"==i){if(e.eat("*"))return t.tokenize=r,r(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(d.test(i))return e.eatWhile(d),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var o=e.current();return c.propertyIsEnumerable(o)?("case"!=o&&"default"!=o||(a="case"),"keyword"):u.propertyIsEnumerable(o)?"atom":"variable"}function n(e){return function(n,r){for(var i,o=!1,s=!1;null!=(i=n.next());){if(i==e&&!o){s=!0;break}o=!o&&"`"!=e&&"\\"==i}return(s||!o&&"`"!=e)&&(r.tokenize=t),"string"}}function r(e,n){for(var r,i=!1;r=e.next();){if("/"==r&&i){n.tokenize=t;break}i="*"==r}return"comment"}function i(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function o(e,t,n){return e.context=new i(e.indented,t,n,null,e.context)}function s(e){if(e.context.prev){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}}var a,l=e.indentUnit,c={break:!0,case:!0,chan:!0,const:!0,continue:!0,default:!0,defer:!0,else:!0,fallthrough:!0,for:!0,func:!0,go:!0,goto:!0,if:!0,import:!0,interface:!0,map:!0,package:!0,range:!0,return:!0,select:!0,struct:!0,switch:!0,type:!0,var:!0,bool:!0,byte:!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,int:!0,uint:!0,uintptr:!0,error:!0,rune:!0},u={true:!0,false:!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,delete:!0,imag:!0,len:!0,make:!0,new:!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},d=/[+\-*&^%:=<>!|\/]/;return{startState:function(e){return{tokenize:null,context:new i((e||0)-l,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,n){var r=n.context;if(e.sol()&&(null==r.align&&(r.align=!1),n.indented=e.indentation(),n.startOfLine=!0,"case"==r.type&&(r.type="}")),e.eatSpace())return null;a=null;var i=(n.tokenize||t)(e,n);return"comment"==i?i:(null==r.align&&(r.align=!0),"{"==a?o(n,e.column(),"}"):"["==a?o(n,e.column(),"]"):"("==a?o(n,e.column(),")"):"case"==a?r.type="case":"}"==a&&"}"==r.type?r=s(n):a==r.type&&s(n),n.startOfLine=!1,i)},indent:function(e,n){if(e.tokenize!=t&&null!=e.tokenize)return 0;var r=e.context,i=n&&n.charAt(0);if("case"==r.type&&/^(?:case|default)\b/.test(n))return e.context.type="}",r.indented;var o=i==r.type;return r.align?r.column+(o?0:1):r.indented+(o?0:l)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-go","go")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("groovy",function(t){function n(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function r(e,t){var n=e.next();if('"'==n||"'"==n)return i(n,e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return d=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),e.eat(/eE/)&&(e.eat(/\+\-/),e.eatWhile(/\d/)),"number";if("/"==n){if(e.eat("*"))return t.tokenize.push(s),s(e,t);if(e.eat("/"))return e.skipToEnd(),"comment";if(a(t.lastToken,!1))return i(n,e,t)}if("-"==n&&e.eat(">"))return d="->",null;if(/[+\-*&%=<>!?|\/~]/.test(n))return e.eatWhile(/[+\-*&%=<>|~]/),"operator";if(e.eatWhile(/[\w\$_]/),"@"==n)return e.eatWhile(/[\w\$_\.]/),"meta";if("."==t.lastToken)return"property";if(e.eat(":"))return d="proplabel","property";var r=e.current();return m.propertyIsEnumerable(r)?"atom":p.propertyIsEnumerable(r)?(h.propertyIsEnumerable(r)?d="newstatement":f.propertyIsEnumerable(r)&&(d="standalone"),"keyword"):"variable"}function i(e,t,n){function r(t,n){for(var r,s=!1,a=!i;null!=(r=t.next());){if(r==e&&!s){if(!i)break;if(t.match(e+e)){a=!0;break}}if('"'==e&&"$"==r&&!s&&t.eat("{"))return n.tokenize.push(o()),"string";s=!s&&"\\"==r}return a&&n.tokenize.pop(),"string"}var i=!1;if("/"!=e&&t.eat(e)){if(!t.eat(e))return"string";i=!0}return n.tokenize.push(r),r(t,n)}function o(){function e(e,n){if("}"==e.peek()){if(t--,0==t)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)}else"{"==e.peek()&&t++;return r(e,n)}var t=1;return e.isBase=!0,e}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize.pop();break}r="*"==n}return"comment"}function a(e,t){return!e||"operator"==e||"->"==e||/[\.\[\{\(,;:]/.test(e)||"newstatement"==e||"keyword"==e||"proplabel"==e||"standalone"==e&&!t}function l(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function c(e,t,n){return e.context=new l(e.indented,t,n,null,e.context)}function u(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}var d,p=n("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws transient try void volatile while"),h=n("catch class do else finally for if switch try while enum interface def"),f=n("return break continue"),m=n("null true false this");return r.isBase=!0,{startState:function(e){return{tokenize:[r],context:new l((e||0)-t.indentUnit,0,"top",!1),indented:0,startOfLine:!0,lastToken:null}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0,"statement"!=n.type||a(t.lastToken,!0)||(u(t),n=t.context)),e.eatSpace())return null;d=null;var r=t.tokenize[t.tokenize.length-1](e,t);if("comment"==r)return r;if(null==n.align&&(n.align=!0),";"!=d&&":"!=d||"statement"!=n.type)if("->"==d&&"statement"==n.type&&"}"==n.prev.type)u(t),t.context.align=!1;else if("{"==d)c(t,e.column(),"}");else if("["==d)c(t,e.column(),"]");else if("("==d)c(t,e.column(),")");else if("}"==d){for(;"statement"==n.type;)n=u(t);for("}"==n.type&&(n=u(t));"statement"==n.type;)n=u(t)}else d==n.type?u(t):("}"==n.type||"top"==n.type||"statement"==n.type&&"newstatement"==d)&&c(t,e.column(),"statement");else u(t);return t.startOfLine=!1,t.lastToken=d||r,r},indent:function(n,r){if(!n.tokenize[n.tokenize.length-1].isBase)return e.Pass;var i=r&&r.charAt(0),o=n.context;"statement"!=o.type||a(n.lastToken,!0)||(o=o.prev);var s=i==o.type;return"statement"==o.type?o.indented+("{"==i?0:t.indentUnit):o.align?o.column+(s?0:1):o.indented+(s?0:t.indentUnit)},electricChars:"{}",closeBrackets:{triples:"'\""},fold:"brace"}}),e.defineMIME("text/x-groovy","groovy")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("haskell",function(e,t){function n(e,t,n){return t(n),n(e,t)}function r(e,t){if(e.eatWhile(m))return null;var r=e.next();if(f.test(r)){if("{"==r&&e.eat("-")){var s="comment";return e.eat("#")&&(s="meta"),n(e,t,i(s,1))}return null}if("'"==r)return e.eat("\\")?e.next():e.next(),e.eat("'")?"string":"string error";if('"'==r)return n(e,t,o);if(l.test(r))return e.eatWhile(p),e.eat(".")?"qualifier":"variable-2";if(a.test(r))return e.eatWhile(p),"variable";if(c.test(r)){if("0"==r){if(e.eat(/[xX]/))return e.eatWhile(u),"integer";if(e.eat(/[oO]/))return e.eatWhile(d),"number"}e.eatWhile(c);var s="number";return e.match(/^\.\d+/)&&(s="number"),e.eat(/[eE]/)&&(s="number",e.eat(/[-+]/),e.eatWhile(c)),s}if("."==r&&e.eat("."))return"keyword";if(h.test(r)){if("-"==r&&e.eat(/-/)&&(e.eatWhile(/-/),!e.eat(h)))return e.skipToEnd(),"comment";var s="variable";return":"==r&&(s="variable-2"),e.eatWhile(h),s}return"error"}function i(e,t){return 0==t?r:function(n,o){for(var s=t;!n.eol();){var a=n.next();if("{"==a&&n.eat("-"))++s;else if("-"==a&&n.eat("}")&&(--s,0==s))return o(r),e}return o(i(e,s)),e}}function o(e,t){for(;!e.eol();){var n=e.next();if('"'==n)return t(r),"string";if("\\"==n){if(e.eol()||e.eat(m))return t(s),"string";e.eat("&")||e.next()}}return t(r),"string error"}function s(e,t){return e.eat("\\")?n(e,t,o):(e.next(),t(r),"error")}var a=/[a-z_]/,l=/[A-Z]/,c=/\d/,u=/[0-9A-Fa-f]/,d=/[0-7]/,p=/[a-z_A-Z0-9'\xa1-\uffff]/,h=/[-!#$%&*+.\/<=>?@\\^|~:]/,f=/[(),;[\]`{}]/,m=/[ \t\v\f]/,_=function(){function e(e){return function(){for(var t=0;t<arguments.length;t++)n[arguments[t]]=e}}var n={};e("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_"),e("keyword")("..",":","::","=","\\","<-","->","@","~","=>"),e("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**"),e("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True"),e("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");var r=t.overrideKeywords;if(r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n}();return{startState:function(){return{f:r}},copyState:function(e){return{f:e.f}},token:function(e,t){var n=t.f(e,function(e){t.f=e}),r=e.current();return _.hasOwnProperty(r)?_[r]:n},blockCommentStart:"{-",blockCommentEnd:"-}",lineComment:"--"}}),e.defineMIME("text/x-haskell","haskell")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("haxe",function(e,t){function n(e){return{type:e,style:"keyword"}}function r(e,t,n){return t.tokenize=n,n(e,t)}function i(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==t&&!r)return!0;r=!r&&"\\"==n}}function o(e,t,n){return G=e,Y=n,t}function s(e,t){var n=e.next();if('"'==n||"'"==n)return r(e,t,a(n));if(/[\[\]{}\(\),;\:\.]/.test(n))return o(n);if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),o("number","number");if(/\d/.test(n)||"-"==n&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/),o("number","number");if(t.reAllowed&&"~"==n&&e.eat(/\//))return i(e,"/"),e.eatWhile(/[gimsu]/),o("regexp","string-2");if("/"==n)return e.eat("*")?r(e,t,l):e.eat("/")?(e.skipToEnd(),o("comment","comment")):(e.eatWhile(re),o("operator",null,e.current()));if("#"==n)return e.skipToEnd(),o("conditional","meta");if("@"==n)return e.eat(/:/),e.eatWhile(/[\w_]/),o("metadata","meta");if(re.test(n))return e.eatWhile(re),o("operator",null,e.current());var s;if(/[A-Z]/.test(n))return e.eatWhile(/[\w_<>]/),s=e.current(),o("type","variable-3",s);e.eatWhile(/[\w_]/);var s=e.current(),c=ne.propertyIsEnumerable(s)&&ne[s];return c&&t.kwAllowed?o(c.type,c.style,s):o("variable","variable",s)}function a(e){return function(t,n){return i(t,e)&&(n.tokenize=s),o("string","string")}}function l(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=s;break}r="*"==n}return o("comment","comment")}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function u(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,i){var o=e.cc;for(oe.state=e,oe.stream=i,oe.marked=null,oe.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():k;if(s(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return oe.marked?oe.marked:"variable"==n&&u(e,r)?"variable-2":"variable"==n&&p(e,r)?"variable-3":t}}}function p(e,t){if(/[a-z]/.test(t.charAt(0)))return!1;for(var n=e.importedtypes.length,r=0;r<n;r++)if(e.importedtypes[r]==t)return!0}function h(e){for(var t=oe.state,n=t.importedtypes;n;n=n.next)if(n.name==e)return;t.importedtypes={name:e,next:t.importedtypes}}function f(){for(var e=arguments.length-1;e>=0;e--)oe.cc.push(arguments[e])}function m(){return f.apply(null,arguments),!0}function _(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function g(e){var t=oe.state;if(t.context){if(oe.marked="def",_(e,t.localVars))return;t.localVars={name:e,next:t.localVars}}else if(t.globalVars){if(_(e,t.globalVars))return;t.globalVars={name:e,next:t.globalVars}}}function v(){oe.state.context||(oe.state.localVars=se),oe.state.context={prev:oe.state.context,vars:oe.state.localVars}}function y(){oe.state.localVars=oe.state.context.vars,oe.state.context=oe.state.context.prev}function b(e,t){var n=function(){var n=oe.state;n.lexical=new c(n.indented,oe.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function w(){var e=oe.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(n){return n==e?m():";"==e?f():m(t)}return t}function k(e){return"@"==e?m(j):"var"==e?m(b("vardef"),R,x(";"),w):"keyword a"==e?m(b("form"),A,k,w):"keyword b"==e?m(b("form"),k,w):"{"==e?m(b("}"),v,z,w,y):";"==e?m():"attribute"==e?m(S):"function"==e?m(F):"for"==e?m(b("form"),x("("),b(")"),B,x(")"),w,k,w):"variable"==e?m(b("stat"),N):"switch"==e?m(b("form"),A,b("}","switch"),x("{"),z,w,w):"case"==e?m(A,x(":")):"default"==e?m(x(":")):"catch"==e?m(b("form"),v,x("("),K,x(")"),k,w,y):"import"==e?m(T,x(";")):"typedef"==e?m(O):f(b("stat"),A,x(";"),w)}function A(e){return ie.hasOwnProperty(e)?m(E):"type"==e?m(E):"function"==e?m(F):"keyword c"==e?m(C):"("==e?m(b(")"),C,x(")"),w,E):"operator"==e?m(A):"["==e?m(b("]"),L(C,"]"),w,E):"{"==e?m(b("}"),L(D,"}"),w,E):m()}function C(e){return e.match(/[;\}\)\],]/)?f():f(A)}function E(e,t){if("operator"==e&&/\+\+|--/.test(t))return m(E);if("operator"==e||":"==e)return m(A);if(";"!=e)return"("==e?m(b(")"),L(A,")"),w,E):"."==e?m(I,E):"["==e?m(b("]"),A,x("]"),w,E):void 0}function S(e){return"attribute"==e?m(S):"function"==e?m(F):"var"==e?m(R):void 0}function j(e){return":"==e?m(j):"variable"==e?m(j):"("==e?m(b(")"),L(M,")"),w,k):void 0}function M(e){if("variable"==e)return m()}function T(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(h(t),m()):"variable"==e||"property"==e||"."==e||"*"==t?m(T):void 0}function O(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(h(t),m()):"type"==e&&/[A-Z]/.test(t.charAt(0))?m():void 0}function N(e){return":"==e?m(w,k):f(E,x(";"),w)}function I(e){if("variable"==e)return oe.marked="property",m()}function D(e){if("variable"==e&&(oe.marked="property"),ie.hasOwnProperty(e))return m(x(":"),A)}function L(e,t){function n(r){return","==r?m(e,n):r==t?m():m(x(t))}return function(r){return r==t?m():f(e,n)}}function z(e){return"}"==e?m():f(k,z)}function R(e,t){return"variable"==e?(g(t),m(U,P)):m()}function P(e,t){return"="==t?m(A,P):","==e?m(R):void 0}function B(e,t){return"variable"==e?(g(t),m(q,A)):f()}function q(e,t){if("in"==t)return m()}function F(e,t){return"variable"==e||"type"==e?(g(t),m(F)):"new"==t?m(F):"("==e?m(b(")"),v,L(K,")"),w,U,k,y):void 0}function U(e){if(":"==e)return m(W)}function W(e){return"type"==e?m():"variable"==e?m():"{"==e?m(b("}"),L(H,"}"),w):void 0}function H(e){if("variable"==e)return m(U)}function K(e,t){if("variable"==e)return g(t),m(U)}var G,Y,J=e.indentUnit,V=n("keyword a"),Q=n("keyword b"),Z=n("keyword c"),X=n("operator"),ee={type:"atom",style:"atom"},te={type:"attribute",style:"attribute"},G=n("typedef"),ne={if:V,while:V,else:Q,do:Q,try:Q,return:Z,break:Z,continue:Z,new:Z,throw:Z,var:n("var"),inline:te,static:te,using:n("import"),public:te,private:te,cast:n("cast"),import:n("import"),macro:n("macro"),function:n("function"),catch:n("catch"),untyped:n("untyped"),callback:n("cb"),for:n("for"),switch:n("switch"),case:n("case"),default:n("default"),in:X,never:n("property_access"),trace:n("trace"),class:G,abstract:G,enum:G,interface:G,typedef:G,extends:G,implements:G,dynamic:G,true:ee,false:ee,null:ee},re=/[+\-*&%=<>!?|]/,ie={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},oe={state:null,column:null,marked:null,cc:null},se={name:"this",next:null};return y.lex=!0,w.lex=!0,{startState:function(e){var n=["Int","Float","String","Void","Std","Bool","Dynamic","Array"],r={tokenize:s,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new c((e||0)-J,0,"block",!1),localVars:t.localVars,importedtypes:n,context:t.localVars&&{vars:t.localVars},indented:0};return t.globalVars&&"object"==typeof t.globalVars&&(r.globalVars=t.globalVars),r},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==G?n:(t.reAllowed=!("operator"!=G&&"keyword c"!=G&&!G.match(/^[\[{}\(,;:]$/)),t.kwAllowed="."!=G,d(t,n,G,Y,e))},indent:function(e,t){if(e.tokenize!=s)return 0;var n=t&&t.charAt(0),r=e.lexical;"stat"==r.type&&"}"==n&&(r=r.prev);var i=r.type,o=n==i;return"vardef"==i?r.indented+4:"form"==i&&"{"==n?r.indented:"stat"==i||"form"==i?r.indented+J:"switch"!=r.info||o?r.align?r.column+(o?0:1):r.indented+(o?0:J):r.indented+(/^(?:case|default)\b/.test(t)?J:2*J)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-haxe","haxe"),e.defineMode("hxml",function(){return{startState:function(){return{define:!1,inString:!1}},token:function(e,t){var n=e.peek(),r=e.sol();if("#"==n)return e.skipToEnd(),"comment";if(r&&"-"==n){var i="variable-2";return e.eat(/-/),"-"==e.peek()&&(e.eat(/-/),i="keyword a"),"D"==e.peek()&&(e.eat(/[D]/),i="keyword c",t.define=!0),e.eatWhile(/[A-Z]/i),i}var n=e.peek();return 0==t.inString&&"'"==n&&(t.inString=!0,n=e.next()),1==t.inString?(e.skipTo("'")||e.skipToEnd(),"'"==e.peek()&&(e.next(),t.inString=!1),"string"):(e.next(),null)},lineComment:"#"}}),e.defineMIME("text/x-hxml","hxml")})},function(e,exports,t){!function(e){e(t(2),t(106),t(213))}(function(e){"use strict";e.defineMode("htmlembedded",function(t,n){return e.multiplexingMode(e.getMode(t,"htmlmixed"),{open:n.open||n.scriptStartRegex||"<%",close:n.close||n.scriptEndRegex||"%>",mode:e.getMode(t,n.scriptingModeSpec)})},"htmlmixed"),e.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),e.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),e.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),e.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("http",function(){function e(e,t){return e.skipToEnd(),t.cur=s,"error"}function t(t,r){return t.match(/^HTTP\/\d\.\d/)?(r.cur=n,"keyword"):t.match(/^[A-Z]+/)&&/[ \t]/.test(t.peek())?(r.cur=i,"keyword"):e(t,r)}function n(t,n){var i=t.match(/^\d+/);if(!i)return e(t,n);n.cur=r;var o=+i[0];return o>=100&&o<200?"positive informational":o>=200&&o<300?"positive success":o>=300&&o<400?"positive redirect":o>=400&&o<500?"negative client-error":o>=500&&o<600?"negative server-error":"error"}function r(e,t){return e.skipToEnd(),t.cur=s,null}function i(e,t){return e.eatWhile(/\S/),t.cur=o,"string-2"}function o(t,n){return t.match(/^HTTP\/\d\.\d$/)?(n.cur=s,"keyword"):e(t,n)}function s(e){return e.sol()&&!e.eat(/[ \t]/)?e.match(/^.*?:/)?"atom":(e.skipToEnd(),"error"):(e.skipToEnd(),"string")}function a(e){return e.skipToEnd(),null}return{token:function(e,t){var n=t.cur;return n!=s&&n!=a&&e.eatSpace()?null:n(e,t)},blankLine:function(e){e.cur=a},startState:function(){return{cur:t}}}}),e.defineMIME("message/http","http")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("jinja2",function(){function e(e,s){var a=e.peek();if(s.incomment)return e.skipTo("#}")?(e.eatWhile(/\#|}/),s.incomment=!1):e.skipToEnd(),"comment";if(s.intag){if(s.operator){if(s.operator=!1,e.match(i))return"atom";if(e.match(o))return"number"}if(s.sign){if(s.sign=!1,e.match(i))return"atom";if(e.match(o))return"number"}if(s.instring)return a==s.instring&&(s.instring=!1),e.next(),"string";if("'"==a||'"'==a)return s.instring=a,e.next(),"string";if(e.match(s.intag+"}")||e.eat("-")&&e.match(s.intag+"}"))return s.intag=!1,"tag";if(e.match(n))return s.operator=!0,"operator";if(e.match(r))s.sign=!0;else if(e.eat(" ")||e.sol()){if(e.match(t))return"keyword";if(e.match(i))return"atom";if(e.match(o))return"number";e.sol()&&e.next()}else e.next();return"variable"}if(e.eat("{")){if(a=e.eat("#"))return s.incomment=!0,e.skipTo("#}")?(e.eatWhile(/\#|}/),s.incomment=!1):e.skipToEnd(),"comment";if(a=e.eat(/\{|%/))return s.intag=a,"{"==a&&(s.intag="}"),e.eat("-"),"tag"}e.next()}var t=["and","as","block","endblock","by","cycle","debug","else","elif","extends","filter","endfilter","firstof","for","endfor","if","endif","ifchanged","endifchanged","ifequal","endifequal","ifnotequal","endifnotequal","in","include","load","not","now","or","parsed","regroup","reversed","spaceless","endspaceless","ssi","templatetag","openblock","closeblock","openvariable","closevariable","openbrace","closebrace","opencomment","closecomment","widthratio","url","with","endwith","get_current_language","trans","endtrans","noop","blocktrans","endblocktrans","get_available_languages","get_current_language_bidi","plural"],n=/^[+\-*&%=<>!?|~^]/,r=/^[:\[\(\{]/,i=["true","false"],o=/^(\d[+\-\*\/])?\d+(\.\d+)?/;return t=RegExp("(("+t.join(")|(")+"))\\b"),i=RegExp("(("+i.join(")|(")+"))\\b"),{startState:function(){return{tokenize:e}},token:function(e,t){return t.tokenize(e,t)}}})})},function(e,exports,t){!function(e){e(t(2),t(108),t(107))}(function(e){"use strict";function t(e,t,n,r){this.state=e,this.mode=t,this.depth=n,this.prev=r}function n(r){return new t(e.copyState(r.mode,r.state),r.mode,r.depth,r.prev&&n(r.prev))}e.defineMode("jsx",function(r,i){function o(e){var t=e.tagName;e.tagName=null;var n=c.indent(e,"");return e.tagName=t,n}function s(e,t){return t.context.mode==c?a(e,t,t.context):l(e,t,t.context)}function a(n,i,a){if(2==a.depth)return n.match(/^.*?\*\//)?a.depth=1:n.skipToEnd(),"comment";if("{"==n.peek()){c.skipAttribute(a.state);var l=o(a.state),d=a.state.context;if(d&&n.match(/^[^>]*>\s*$/,!1)){for(;d.prev&&!d.startOfLine;)d=d.prev;d.startOfLine?l-=r.indentUnit:a.prev.state.lexical&&(l=a.prev.state.lexical.indented)}else 1==a.depth&&(l+=r.indentUnit);return i.context=new t(e.startState(u,l),u,0,i.context),null}if(1==a.depth){if("<"==n.peek())return c.skipAttribute(a.state),i.context=new t(e.startState(c,o(a.state)),c,0,i.context),null;if(n.match("//"))return n.skipToEnd(),"comment";if(n.match("/*"))return a.depth=2,s(n,i)}var p,h=c.token(n,a.state),f=n.current();return/\btag\b/.test(h)?/>$/.test(f)?a.state.context?a.depth=0:i.context=i.context.prev:/^</.test(f)&&(a.depth=1):!h&&(p=f.indexOf("{"))>-1&&n.backUp(f.length-p),h}function l(n,r,i){if("<"==n.peek()&&u.expressionAllowed(n,i.state))return u.skipExpression(i.state),r.context=new t(e.startState(c,u.indent(i.state,"")),c,0,r.context),null;var o=u.token(n,i.state);if(!o&&null!=i.depth){var s=n.current();"{"==s?i.depth++:"}"==s&&0==--i.depth&&(r.context=r.context.prev)}return o}var c=e.getMode(r,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1}),u=e.getMode(r,i&&i.base||"javascript");return{startState:function(){return{context:new t(e.startState(u),u)}},copyState:function(e){return{context:n(e.context)}},token:s,indent:function(e,t,n){return e.context.mode.indent(e.context.state,t,n)},innerMode:function(e){return e.context}}},"xml","javascript"),e.defineMIME("text/jsx","jsx"),e.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("julia",function(e,t){function n(e,t){return void 0===t&&(t="\\b"),RegExp("^(("+e.join(")|(")+"))"+t)}function r(e){return i(e,"[")}function i(e,t){var n=o(e),r=o(e,1);return void 0===t&&(t="("),n===t||r===t&&"for"===n}function o(e,t){return void 0===t&&(t=0),e.scopes.length<=t?null:e.scopes[e.scopes.length-(t+1)]}function s(e,t){if(e.match(/^#=/,!1))return t.tokenize=c,t.tokenize(e,t);var n=t.leavingExpr;if(e.sol()&&(n=!1),t.leavingExpr=!1,n&&e.match(/^'+/))return"operator";if(e.match(/^\.{2,3}/))return"operator";if(e.eatSpace())return null;var s=e.peek();if("#"===s)return e.skipToEnd(),"comment";"["===s&&t.scopes.push("["),"("===s&&t.scopes.push("(");var p=o(t);r(t)&&"]"===s&&("for"===p&&t.scopes.pop(),t.scopes.pop(),t.leavingExpr=!0),i(t)&&")"===s&&("for"===p&&t.scopes.pop(),t.scopes.pop(),t.leavingExpr=!0);var h;if((h=e.match(b,!1))&&t.scopes.push(h[0]),e.match(w,!1)&&t.scopes.pop(),r(t)){if("end"==t.lastToken&&e.match(/^:/))return"operator";if(e.match(/^end/))return"number"}if(e.match(/^::(?![:\$])/))return t.tokenize=l,t.tokenize(e,t);if(!n&&e.match(C)||e.match(/:\./))return"builtin";if(e.match(/^{[^}]*}(?=\()/))return"builtin";if(e.match(_))return"operator";if(e.match(/^[0-9\.]/,!1)){var f=RegExp(/^im\b/),m=!1;if(e.match(/^\d*\.(?!\.)\d*([Eef][\+\-]?\d+)?/i)&&(m=!0),e.match(/^\d+\.(?!\.)\d*/)&&(m=!0),e.match(/^\.\d+/)&&(m=!0),e.match(/^0x\.[0-9a-f]+p[\+\-]?\d+/i)&&(m=!0),e.match(/^0x[0-9a-f]+/i)&&(m=!0),e.match(/^0b[01]+/i)&&(m=!0),e.match(/^0o[0-7]+/i)&&(m=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(m=!0),e.match(/^0(?![\dx])/i)&&(m=!0),m)return e.match(f),t.leavingExpr=!0,"number"}if(e.match(/^'/))return t.tokenize=u,t.tokenize(e,t);if(e.match(E))return t.tokenize=d(e.current()),t.tokenize(e,t);if(e.match(A))return"meta";if(e.match(g))return null;if(e.match(x))return"keyword";if(e.match(k))return"builtin";var y=t.isDefinition||"function"==t.lastToken||"macro"==t.lastToken||"type"==t.lastToken||"immutable"==t.lastToken;return e.match(v)?y?"."===e.peek()?(t.isDefinition=!0,"variable"):(t.isDefinition=!1,"def"):e.match(/^({[^}]*})*\(/,!1)?a(e,t):(t.leavingExpr=!0,"variable"):(e.next(),"error")}function a(e,t){var n=e.match(/^(\(\s*)/);if(n&&(t.firstParenPos<0&&(t.firstParenPos=t.scopes.length),t.scopes.push("("),t.charsAdvanced+=n[1].length),"("==o(t)&&e.match(/^\)/)&&(t.scopes.pop(),t.charsAdvanced+=1,t.scopes.length<=t.firstParenPos)){var r=e.match(/^\s*?=(?!=)/,!1);return e.backUp(t.charsAdvanced),t.firstParenPos=-1,t.charsAdvanced=0,r?"def":"builtin"}if(e.match(/^$/g,!1)){for(e.backUp(t.charsAdvanced);t.scopes.length>t.firstParenPos;)t.scopes.pop();return t.firstParenPos=-1,t.charsAdvanced=0,"builtin"}return t.charsAdvanced+=e.match(/^([^()]*)/)[1].length,a(e,t)}function l(e,t){return e.match(/.*?(?=,|;|{|}|\(|\)|=|$|\s)/),e.match(/^{/)?t.nestedLevels++:e.match(/^}/)&&t.nestedLevels--,t.nestedLevels>0?e.match(/.*?(?={|})/):0==t.nestedLevels&&(t.tokenize=s),"builtin"}function c(e,t){return e.match(/^#=/)&&t.nestedLevels++,e.match(/.*?(?=(#=|=#))/)||e.skipToEnd(),e.match(/^=#/)&&(t.nestedLevels--,0==t.nestedLevels&&(t.tokenize=s)),"comment"}function u(e,t){var n,r=!1;if(e.match(y))r=!0;else if(n=e.match(/\\u([a-f0-9]{1,4})(?=')/i)){var i=parseInt(n[1],16);(i<=55295||i>=57344)&&(r=!0,e.next())}else if(n=e.match(/\\U([A-Fa-f0-9]{5,8})(?=')/)){var i=parseInt(n[1],16);i<=1114111&&(r=!0,e.next())}return r?(t.leavingExpr=!0,t.tokenize=s,"string"):(e.match(/^[^']+(?=')/)||e.skipToEnd(),e.match(/^'/)&&(t.tokenize=s),"error")}function d(e){function t(t,n){if(t.eat("\\"))t.next();else{if(t.match(e))return n.tokenize=s,n.leavingExpr=!0,"string";t.eat(/[`"]/)}return t.eatWhile(/[^\\`"]/),"string"}return'"""'===e.substr(-3)?e='"""':'"'===e.substr(-1)&&(e='"'),t}var p="\\\\[0-7]{1,3}",h="\\\\x[A-Fa-f0-9]{1,2}",f="\\\\[abefnrtv0%?'\"\\\\]",m="([^\\u0027\\u005C\\uD800-\\uDFFF]|[\\uD800-\\uDFFF][\\uDC00-\\uDFFF])",_=t.operators||n(["\\.?[\\\\%*+\\-<>!=\\/^]=?","\\.?[|&\\u00F7\\u2260\\u2264\\u2265]","\\u00D7","\\u2208","\\u2209","\\u220B","\\u220C","\\u2229","\\u222A","\\u2286","\\u2288","\\u228A","\\u22c5","\\?","~",":","\\$","\\.[<>]","<<=?",">>>?=?","\\.[<>=]=","->?","\\/\\/","=>","<:","\\bin\\b(?!\\()"],""),g=t.delimiters||/^[;,()[\]{}]/,v=t.identifiers||/^[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,y=n([p,h,f,m],"'"),b=n(["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"]),w=n(["end","else","elseif","catch","finally"]),x=n(["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype"]),k=n(["true","false","nothing","NaN","Inf"]),A=/^@[_A-Za-z][\w]*/,C=/^:[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,E=/^(`|([_A-Za-z\u00A1-\uFFFF]*"("")?))/,S={
startState:function(){return{tokenize:s,scopes:[],lastToken:null,leavingExpr:!1,isDefinition:!1,nestedLevels:0,charsAdvanced:0,firstParenPos:-1}},token:function(e,t){var n=t.tokenize(e,t),r=e.current();return r&&n&&(t.lastToken=r),"."===r&&(n=e.match(v,!1)||e.match(A,!1)||e.match(/\(/,!1)?"operator":"error"),n},indent:function(t,n){var r=0;return"]"!==n&&")"!==n&&"end"!==n&&"else"!==n&&"catch"!==n&&"elseif"!==n&&"finally"!==n||(r=-1),(t.scopes.length+r)*e.indentUnit},electricInput:/\b(end|else|catch|finally)\b/,blockCommentStart:"#=",blockCommentEnd:"=#",lineComment:"#",fold:"indent"};return S}),e.defineMIME("text/x-julia","julia")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("lua",function(e,t){function n(e){return RegExp("^(?:"+e.join("|")+")","i")}function r(e){return RegExp("^(?:"+e.join("|")+")$","i")}function i(e){for(var t=0;e.eat("=");)++t;return e.eat("["),t}function o(e,t){var n=e.next();return"-"==n&&e.eat("-")?e.eat("[")&&e.eat("[")?(t.cur=s(i(e),"comment"))(e,t):(e.skipToEnd(),"comment"):'"'==n||"'"==n?(t.cur=a(n))(e,t):"["==n&&/[\[=]/.test(e.peek())?(t.cur=s(i(e),"string"))(e,t):/\d/.test(n)?(e.eatWhile(/[\w.%]/),"number"):/[\w_]/.test(n)?(e.eatWhile(/[\w\\\-_.]/),"variable"):null}function s(e,t){return function(n,r){for(var i,s=null;null!=(i=n.next());)if(null==s)"]"==i&&(s=0);else if("="==i)++s;else{if("]"==i&&s==e){r.cur=o;break}s=null}return t}}function a(e){return function(t,n){for(var r,i=!1;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.cur=o),"string"}}var l=e.indentUnit,c=r(t.specials||[]),u=r(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug","debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2","math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib","package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]),d=r(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]),p=r(["function","if","repeat","do","\\(","{"]),h=r(["end","until","\\)","}"]),f=n(["end","until","\\)","}","else","elseif"]);return{startState:function(e){return{basecol:e||0,indentDepth:0,cur:o}},token:function(e,t){if(e.eatSpace())return null;var n=t.cur(e,t),r=e.current();return"variable"==n&&(d.test(r)?n="keyword":u.test(r)?n="builtin":c.test(r)&&(n="variable-2")),"comment"!=n&&"string"!=n&&(p.test(r)?++t.indentDepth:h.test(r)&&--t.indentDepth),n},indent:function(e,t){var n=f.test(t);return e.basecol+l*(e.indentDepth-(n?1:0))},lineComment:"--",blockCommentStart:"--[[",blockCommentEnd:"]]"}}),e.defineMIME("text/x-lua","lua")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("nginx",function(e){function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){return a=t,e}function r(e,t){e.eatWhile(/[\w\$_]/);var r=e.current();if(l.propertyIsEnumerable(r))return"keyword";if(c.propertyIsEnumerable(r))return"variable-2";if(u.propertyIsEnumerable(r))return"string-2";var a=e.next();return"@"==a?(e.eatWhile(/[\w\\\-]/),n("meta",e.current())):"/"==a&&e.eat("*")?(t.tokenize=i,i(e,t)):"<"==a&&e.eat("!")?(t.tokenize=o,o(e,t)):"="!=a?"~"!=a&&"|"!=a||!e.eat("=")?'"'==a||"'"==a?(t.tokenize=s(a),t.tokenize(e,t)):"#"==a?(e.skipToEnd(),n("comment","comment")):"!"==a?(e.match(/^\s*\w*/),n("keyword","important")):/\d/.test(a)?(e.eatWhile(/[\w.%]/),n("number","unit")):/[,.+>*\/]/.test(a)?n(null,"select-op"):/[;{}:\[\]]/.test(a)?n(null,a):(e.eatWhile(/[\w\\\-]/),n("variable","variable")):n(null,"compare"):void n(null,"compare")}function i(e,t){for(var i,o=!1;null!=(i=e.next());){if(o&&"/"==i){t.tokenize=r;break}o="*"==i}return n("comment","comment")}function o(e,t){for(var i,o=0;null!=(i=e.next());){if(o>=2&&">"==i){t.tokenize=r;break}o="-"==i?o+1:0}return n("comment","comment")}function s(e){return function(t,i){for(var o,s=!1;null!=(o=t.next())&&(o!=e||s);)s=!s&&"\\"==o;return s||(i.tokenize=r),n("string","string")}}var a,l=t("break return rewrite set accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23"),c=t("http mail events server types location upstream charset_map limit_except if geo map"),u=t("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files"),d=e.indentUnit;return{startState:function(e){return{tokenize:r,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;a=null;var n=t.tokenize(e,t),r=t.stack[t.stack.length-1];return"hash"==a&&"rule"==r?n="atom":"variable"==n&&("rule"==r?n="number":r&&"@media{"!=r||(n="tag")),"rule"==r&&/^[\{\};]$/.test(a)&&t.stack.pop(),"{"==a?"@media"==r?t.stack[t.stack.length-1]="@media{":t.stack.push("{"):"}"==a?t.stack.pop():"@media"==a?t.stack.push("@media"):"{"==r&&"comment"!=a&&t.stack.push("rule"),n},indent:function(e,t){var n=e.stack.length;return/^\}/.test(t)&&(n-="rule"==e.stack[e.stack.length-1]?2:1),e.baseIndent+n*d},electricChars:"}"}}),e.defineMIME("text/x-nginx-conf","nginx")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("ntriples",function(){function e(e,n){var r,i=e.location;r=i==t.PRE_SUBJECT&&"<"==n?t.WRITING_SUB_URI:i==t.PRE_SUBJECT&&"_"==n?t.WRITING_BNODE_URI:i==t.PRE_PRED&&"<"==n?t.WRITING_PRED_URI:i==t.PRE_OBJ&&"<"==n?t.WRITING_OBJ_URI:i==t.PRE_OBJ&&"_"==n?t.WRITING_OBJ_BNODE:i==t.PRE_OBJ&&'"'==n?t.WRITING_OBJ_LITERAL:i==t.WRITING_SUB_URI&&">"==n?t.PRE_PRED:i==t.WRITING_BNODE_URI&&" "==n?t.PRE_PRED:i==t.WRITING_PRED_URI&&">"==n?t.PRE_OBJ:i==t.WRITING_OBJ_URI&&">"==n?t.POST_OBJ:i==t.WRITING_OBJ_BNODE&&" "==n?t.POST_OBJ:i==t.WRITING_OBJ_LITERAL&&'"'==n?t.POST_OBJ:i==t.WRITING_LIT_LANG&&" "==n?t.POST_OBJ:i==t.WRITING_LIT_TYPE&&">"==n?t.POST_OBJ:i==t.WRITING_OBJ_LITERAL&&"@"==n?t.WRITING_LIT_LANG:i==t.WRITING_OBJ_LITERAL&&"^"==n?t.WRITING_LIT_TYPE:" "!=n||i!=t.PRE_SUBJECT&&i!=t.PRE_PRED&&i!=t.PRE_OBJ&&i!=t.POST_OBJ?i==t.POST_OBJ&&"."==n?t.PRE_SUBJECT:t.ERROR:i,e.location=r}var t={PRE_SUBJECT:0,WRITING_SUB_URI:1,WRITING_BNODE_URI:2,PRE_PRED:3,WRITING_PRED_URI:4,PRE_OBJ:5,WRITING_OBJ_URI:6,WRITING_OBJ_BNODE:7,WRITING_OBJ_LITERAL:8,WRITING_LIT_LANG:9,WRITING_LIT_TYPE:10,POST_OBJ:11,ERROR:12};return{startState:function(){return{location:t.PRE_SUBJECT,uris:[],anchors:[],bnodes:[],langs:[],types:[]}},token:function(t,n){var r=t.next();if("<"==r){e(n,r);var i="";return t.eatWhile(function(e){return"#"!=e&&">"!=e&&(i+=e,!0)}),n.uris.push(i),t.match("#",!1)?"variable":(t.next(),e(n,">"),"variable")}if("#"==r){var o="";return t.eatWhile(function(e){return">"!=e&&" "!=e&&(o+=e,!0)}),n.anchors.push(o),"variable-2"}if(">"==r)return e(n,">"),"variable";if("_"==r){e(n,r);var s="";return t.eatWhile(function(e){return" "!=e&&(s+=e,!0)}),n.bnodes.push(s),t.next(),e(n," "),"builtin"}if('"'==r)return e(n,r),t.eatWhile(function(e){return'"'!=e}),t.next(),"@"!=t.peek()&&"^"!=t.peek()&&e(n,'"'),"string";if("@"==r){e(n,"@");var a="";return t.eatWhile(function(e){return" "!=e&&(a+=e,!0)}),n.langs.push(a),t.next(),e(n," "),"string-2"}if("^"==r){t.next(),e(n,"^");var l="";return t.eatWhile(function(e){return">"!=e&&(l+=e,!0)}),n.types.push(l),t.next(),e(n,">"),"variable"}" "==r&&e(n,r),"."==r&&e(n,r)}}}),e.defineMIME("text/n-triples","ntriples")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("octave",function(){function e(e){return RegExp("^(("+e.join(")|(")+"))\\b")}function t(e,t){return e.sol()||"'"!==e.peek()?(t.tokenize=r,r(e,t)):(e.next(),t.tokenize=r,"operator")}function n(e,t){return e.match(/^.*%}/)?(t.tokenize=r,"comment"):(e.skipToEnd(),"comment")}function r(h,f){if(h.eatSpace())return null;if(h.match("%{"))return f.tokenize=n,h.skipToEnd(),"comment";if(h.match(/^[%#]/))return h.skipToEnd(),"comment";if(h.match(/^[0-9\.+-]/,!1)){if(h.match(/^[+-]?0x[0-9a-fA-F]+[ij]?/))return h.tokenize=r,"number";if(h.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?[ij]?/))return"number";if(h.match(/^[+-]?\d+([EeDd][+-]?\d+)?[ij]?/))return"number"}if(h.match(e(["nan","NaN","inf","Inf"])))return"number";var m=h.match(/^"(?:[^"]|"")*("|$)/)||h.match(/^'(?:[^']|'')*('|$)/);return m?m[1]?"string":"string error":h.match(p)?"keyword":h.match(d)?"builtin":h.match(u)?"variable":h.match(i)||h.match(s)?"operator":h.match(o)||h.match(a)||h.match(l)?null:h.match(c)?(f.tokenize=t,null):(h.next(),"error")}var i=RegExp("^[\\+\\-\\*/&|\\^~<>!@'\\\\]"),o=RegExp("^[\\(\\[\\{\\},:=;]"),s=RegExp("^((==)|(~=)|(<=)|(>=)|(<<)|(>>)|(\\.[\\+\\-\\*/\\^\\\\]))"),a=RegExp("^((!=)|(\\+=)|(\\-=)|(\\*=)|(/=)|(&=)|(\\|=)|(\\^=))"),l=RegExp("^((>>=)|(<<=))"),c=RegExp("^[\\]\\)]"),u=RegExp("^[_A-Za-z¡-￿][_A-Za-z0-9¡-￿]*"),d=e(["error","eval","function","abs","acos","atan","asin","cos","cosh","exp","log","prod","sum","log10","max","min","sign","sin","sinh","sqrt","tan","reshape","break","zeros","default","margin","round","ones","rand","syn","ceil","floor","size","clear","zeros","eye","mean","std","cov","det","eig","inv","norm","rank","trace","expm","logm","sqrtm","linspace","plot","title","xlabel","ylabel","legend","text","grid","meshgrid","mesh","num2str","fft","ifft","arrayfun","cellfun","input","fliplr","flipud","ismember"]),p=e(["return","case","switch","else","elseif","end","endif","endfunction","if","otherwise","do","for","while","try","catch","classdef","properties","events","methods","global","persistent","endfor","endwhile","printf","sprintf","disp","until","continue","pkg"]);return{startState:function(){return{tokenize:r}},token:function(e,n){var r=n.tokenize(e,n);return"number"!==r&&"variable"!==r||(n.tokenize=t),r},lineComment:"%",fold:"indent"}}),e.defineMIME("text/x-octave","octave")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("pascal",function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e,t){var a=e.next();if("#"==a&&t.startOfLine)return e.skipToEnd(),"meta";if('"'==a||"'"==a)return t.tokenize=n(a),t.tokenize(e,t);if("("==a&&e.eat("*"))return t.tokenize=r,r(e,t);if(/[\[\]{}\(\),;\:\.]/.test(a))return null;if(/\d/.test(a))return e.eatWhile(/[\w\.]/),"number";if("/"==a&&e.eat("/"))return e.skipToEnd(),"comment";if(s.test(a))return e.eatWhile(s),"operator";e.eatWhile(/[\w\$_]/);var l=e.current();return i.propertyIsEnumerable(l)?"keyword":o.propertyIsEnumerable(l)?"atom":"variable"}function n(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return!o&&i||(n.tokenize=null),"string"}}function r(e,t){for(var n,r=!1;n=e.next();){if(")"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}var i=e("and array begin case const div do downto else end file for forward integer boolean char function goto if in label mod nil not of or packed procedure program record repeat set string then to type until var while with"),o={null:!0},s=/[+\-*&%=<>!?|\/]/;return{startState:function(){return{tokenize:null}},token:function(e,n){if(e.eatSpace())return null;var r=(n.tokenize||t)(e,n);return"comment"==r||"meta"==r?r:r},electricChars:"{}"}}),e.defineMIME("text/x-pascal","pascal")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t){return e.string.charAt(e.pos+(t||0))}function n(e,t){if(t){var n=e.pos-t;return e.string.substr(n>=0?n:0,t)}return e.string.substr(0,e.pos-1)}function r(e,t){var n=e.string.length,r=n-e.pos+1;return e.string.substr(e.pos,t&&t<n?t:r)}function i(e,t){var n,r=e.pos+t;r<=0?e.pos=0:r>=(n=e.string.length-1)?e.pos=n:e.pos=r}e.defineMode("perl",function(){function e(e,t,n,r,i){return t.chain=null,t.style=null,t.tail=null,t.tokenize=function(e,t){for(var o,a=!1,l=0;o=e.next();){if(o===n[l]&&!a)return void 0!==n[++l]?(t.chain=n[l],t.style=r,t.tail=i):i&&e.eatWhile(i),t.tokenize=s,r;a=!a&&"\\"==o}return r},t.tokenize(e,t)}function o(e,t,n){return t.tokenize=function(e,t){return e.string==n&&(t.tokenize=s),e.skipToEnd(),"string"},t.tokenize(e,t)}function s(s,u){if(s.eatSpace())return null;if(u.chain)return e(s,u,u.chain,u.style,u.tail);if(s.match(/^\-?[\d\.]/,!1)&&s.match(/^(\-?(\d*\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F]+|0b[01]+|\d+(e[+-]?\d+)?)/))return"number";if(s.match(/^<<(?=\w)/))return s.eatWhile(/\w/),o(s,u,s.current().substr(2));if(s.sol()&&s.match(/^\=item(?!\w)/))return o(s,u,"=cut");var d=s.next();if('"'==d||"'"==d){if(n(s,3)=="<<"+d){var p=s.pos;s.eatWhile(/\w/);var h=s.current().substr(1);if(h&&s.eat(d))return o(s,u,h);s.pos=p}return e(s,u,[d],"string")}if("q"==d){var f=t(s,-2);if(!f||!/\w/.test(f))if(f=t(s,0),"x"==f){if(f=t(s,1),"("==f)return i(s,2),e(s,u,[")"],l,c);if("["==f)return i(s,2),e(s,u,["]"],l,c);if("{"==f)return i(s,2),e(s,u,["}"],l,c);if("<"==f)return i(s,2),e(s,u,[">"],l,c);if(/[\^'"!~\/]/.test(f))return i(s,1),e(s,u,[s.eat(f)],l,c)}else if("q"==f){if(f=t(s,1),"("==f)return i(s,2),e(s,u,[")"],"string");if("["==f)return i(s,2),e(s,u,["]"],"string");if("{"==f)return i(s,2),e(s,u,["}"],"string");if("<"==f)return i(s,2),e(s,u,[">"],"string");if(/[\^'"!~\/]/.test(f))return i(s,1),e(s,u,[s.eat(f)],"string")}else if("w"==f){if(f=t(s,1),"("==f)return i(s,2),e(s,u,[")"],"bracket");if("["==f)return i(s,2),e(s,u,["]"],"bracket");if("{"==f)return i(s,2),e(s,u,["}"],"bracket");if("<"==f)return i(s,2),e(s,u,[">"],"bracket");if(/[\^'"!~\/]/.test(f))return i(s,1),e(s,u,[s.eat(f)],"bracket")}else if("r"==f){if(f=t(s,1),"("==f)return i(s,2),e(s,u,[")"],l,c);if("["==f)return i(s,2),e(s,u,["]"],l,c);if("{"==f)return i(s,2),e(s,u,["}"],l,c);if("<"==f)return i(s,2),e(s,u,[">"],l,c);if(/[\^'"!~\/]/.test(f))return i(s,1),e(s,u,[s.eat(f)],l,c);
}else if(/[\^'"!~\/(\[{<]/.test(f)){if("("==f)return i(s,1),e(s,u,[")"],"string");if("["==f)return i(s,1),e(s,u,["]"],"string");if("{"==f)return i(s,1),e(s,u,["}"],"string");if("<"==f)return i(s,1),e(s,u,[">"],"string");if(/[\^'"!~\/]/.test(f))return e(s,u,[s.eat(f)],"string")}}if("m"==d){var f=t(s,-2);if((!f||!/\w/.test(f))&&(f=s.eat(/[(\[{<\^'"!~\/]/))){if(/[\^'"!~\/]/.test(f))return e(s,u,[f],l,c);if("("==f)return e(s,u,[")"],l,c);if("["==f)return e(s,u,["]"],l,c);if("{"==f)return e(s,u,["}"],l,c);if("<"==f)return e(s,u,[">"],l,c)}}if("s"==d){var f=/[\/>\]})\w]/.test(t(s,-2));if(!f&&(f=s.eat(/[(\[{<\^'"!~\/]/)))return"["==f?e(s,u,["]","]"],l,c):"{"==f?e(s,u,["}","}"],l,c):"<"==f?e(s,u,[">",">"],l,c):"("==f?e(s,u,[")",")"],l,c):e(s,u,[f,f],l,c)}if("y"==d){var f=/[\/>\]})\w]/.test(t(s,-2));if(!f&&(f=s.eat(/[(\[{<\^'"!~\/]/)))return"["==f?e(s,u,["]","]"],l,c):"{"==f?e(s,u,["}","}"],l,c):"<"==f?e(s,u,[">",">"],l,c):"("==f?e(s,u,[")",")"],l,c):e(s,u,[f,f],l,c)}if("t"==d){var f=/[\/>\]})\w]/.test(t(s,-2));if(!f&&(f=s.eat("r"),f&&(f=s.eat(/[(\[{<\^'"!~\/]/))))return"["==f?e(s,u,["]","]"],l,c):"{"==f?e(s,u,["}","}"],l,c):"<"==f?e(s,u,[">",">"],l,c):"("==f?e(s,u,[")",")"],l,c):e(s,u,[f,f],l,c)}if("`"==d)return e(s,u,[d],"variable-2");if("/"==d)return/~\s*$/.test(n(s))?e(s,u,[d],l,c):"operator";if("$"==d){var p=s.pos;if(s.eatWhile(/\d/)||s.eat("{")&&s.eatWhile(/\d/)&&s.eat("}"))return"variable-2";s.pos=p}if(/[$@%]/.test(d)){var p=s.pos;if(s.eat("^")&&s.eat(/[A-Z]/)||!/[@$%&]/.test(t(s,-2))&&s.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){var f=s.current();if(a[f])return"variable-2"}s.pos=p}if(/[$@%&]/.test(d)&&(s.eatWhile(/[\w$\[\]]/)||s.eat("{")&&s.eatWhile(/[\w$\[\]]/)&&s.eat("}"))){var f=s.current();return a[f]?"variable-2":"variable"}if("#"==d&&"$"!=t(s,-2))return s.skipToEnd(),"comment";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(d)){var p=s.pos;if(s.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/),a[s.current()])return"operator";s.pos=p}if("_"==d&&1==s.pos){if("_END__"==r(s,6))return e(s,u,["\0"],"comment");if("_DATA__"==r(s,7))return e(s,u,["\0"],"variable-2");if("_C__"==r(s,7))return e(s,u,["\0"],"string")}if(/\w/.test(d)){var p=s.pos;if("{"==t(s,-2)&&("}"==t(s,0)||s.eatWhile(/\w/)&&"}"==t(s,0)))return"string";s.pos=p}if(/[A-Z]/.test(d)){var m=t(s,-2),p=s.pos;if(s.eatWhile(/[A-Z_]/),!/[\da-z]/.test(t(s,0))){var f=a[s.current()];return f?(f[1]&&(f=f[0]),":"!=m?1==f?"keyword":2==f?"def":3==f?"atom":4==f?"operator":5==f?"variable-2":"meta":"meta"):"meta"}s.pos=p}if(/[a-zA-Z_]/.test(d)){var m=t(s,-2);s.eatWhile(/\w/);var f=a[s.current()];return f?(f[1]&&(f=f[0]),":"!=m?1==f?"keyword":2==f?"def":3==f?"atom":4==f?"operator":5==f?"variable-2":"meta":"meta"):"meta"}return null}var a={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$a:5,$b:5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,if:[1,1],elsif:[1,1],else:[1,1],while:[1,1],unless:[1,1],for:[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,break:1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,continue:[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,default:1,defined:1,delete:1,die:1,do:1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,goto:1,grep:1,hex:1,import:1,index:1,int:1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,new:1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,package:1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,return:1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},l="string-2",c=/[goseximacplud]/;return{startState:function(){return{tokenize:s,chain:null,style:null,tail:null}},token:function(e,t){return(t.tokenize||s)(e,t)},lineComment:"#"}}),e.registerHelper("wordChars","perl",/[\w$]/),e.defineMIME("text/x-perl","perl")})},function(e,exports,t){!function(e){e(t(2),t(106),t(216))}(function(e){"use strict";function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t,i){return 0==e.length?r(t):function(o,s){for(var a=e[0],l=0;l<a.length;l++)if(o.match(a[l][0]))return s.tokenize=n(e.slice(1),t),a[l][1];return s.tokenize=r(t,i),"string"}}function r(e,t){return function(n,r){return i(n,r,e,t)}}function i(e,t,r,i){if(i!==!1&&e.match("${",!1)||e.match("{$",!1))return t.tokenize=null,"string";if(i!==!1&&e.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return e.match("[",!1)&&(t.tokenize=n([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],r,i)),e.match(/\-\>\w/,!1)&&(t.tokenize=n([[["->",null]],[[/[\w]+/,"variable"]]],r,i)),"variable-2";for(var o=!1;!e.eol()&&(o||i===!1||!e.match("{$",!1)&&!e.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!o&&e.match(r)){t.tokenize=null,t.tokStack.pop(),t.tokStack.pop();break}o="\\"==e.next()&&!o}return"string"}var o="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",s="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",a="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";e.registerHelper("hintWords","php",[o,s,a].join(" ").split(" ")),e.registerHelper("wordChars","php",/[\w$]/);var l={name:"clike",helperType:"php",keywords:t(o),blockKeywords:t("catch do else elseif for foreach if switch try while finally"),defKeywords:t("class function interface namespace trait"),atoms:t(s),builtin:t(a),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,t){var n;if(n=e.match(/<<\s*/)){var i=e.eat(/['"]/);e.eatWhile(/[\w\.]/);var o=e.current().slice(n[0].length+(i?2:1));if(i&&e.eat(i),o)return(t.tokStack||(t.tokStack=[])).push(o,0),t.tokenize=r(o,"'"!=i),"string"}return!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1},'"':function(e,t){return(t.tokStack||(t.tokStack=[])).push('"',0),t.tokenize=r('"'),"string"},"{":function(e,t){return t.tokStack&&t.tokStack.length&&t.tokStack[t.tokStack.length-1]++,!1},"}":function(e,t){return t.tokStack&&t.tokStack.length>0&&!--t.tokStack[t.tokStack.length-1]&&(t.tokenize=r(t.tokStack[t.tokStack.length-2])),!1}}};e.defineMode("php",function(t,n){function r(t,n){var r=n.curMode==o;if(t.sol()&&n.pending&&'"'!=n.pending&&"'"!=n.pending&&(n.pending=null),r)return r&&null==n.php.tokenize&&t.match("?>")?(n.curMode=i,n.curState=n.html,n.php.context.prev||(n.php=null),"meta"):o.token(t,n.curState);if(t.match(/^<\?\w*/))return n.curMode=o,n.php||(n.php=e.startState(o,i.indent(n.html,""))),n.curState=n.php,"meta";if('"'==n.pending||"'"==n.pending){for(;!t.eol()&&t.next()!=n.pending;);var s="string"}else if(n.pending&&t.pos<n.pending.end){t.pos=n.pending.end;var s=n.pending.style}else var s=i.token(t,n.curState);n.pending&&(n.pending=null);var a,l=t.current(),c=l.search(/<\?/);return c!=-1&&("string"==s&&(a=l.match(/[\'\"]$/))&&!/\?>/.test(l)?n.pending=a[0]:n.pending={end:t.pos,style:s},t.backUp(l.length-c)),s}var i=e.getMode(t,"text/html"),o=e.getMode(t,l);return{startState:function(){var t=e.startState(i),r=n.startOpen?e.startState(o):null;return{html:t,php:r,curMode:n.startOpen?o:i,curState:n.startOpen?r:t,pending:null}},copyState:function(t){var n,r=t.html,s=e.copyState(i,r),a=t.php,l=a&&e.copyState(o,a);return n=t.curMode==i?s:l,{html:s,php:l,curMode:t.curMode,curState:n,pending:t.pending}},token:r,indent:function(e,t){return e.curMode!=o&&/^\s*<\//.test(t)||e.curMode==o&&/^\?>/.test(t)?i.indent(e.html,t):e.curMode.indent(e.curState,t)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed","clike"),e.defineMIME("application/x-httpd-php","php"),e.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),e.defineMIME("text/x-php",l)})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("pig",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return"comment"}function i(e){return function(t,n){for(var r,i=!1,s=!1;null!=(r=t.next());){if(r==e&&!i){s=!0;break}i=!i&&"\\"==r}return(s||!i&&!c)&&(n.tokenize=o),"error"}}function o(e,t){var o=e.next();return'"'==o||"'"==o?n(e,t,i(o)):/[\[\]{}\(\),;\.]/.test(o)?null:/\d/.test(o)?(e.eatWhile(/[\w\.]/),"number"):"/"==o?e.eat("*")?n(e,t,r):(e.eatWhile(u),"operator"):"-"==o?e.eat("-")?(e.skipToEnd(),"comment"):(e.eatWhile(u),"operator"):u.test(o)?(e.eatWhile(u),"operator"):(e.eatWhile(/[\w\$_]/),s&&s.propertyIsEnumerable(e.current().toUpperCase())&&!e.eat(")")&&!e.eat(".")?"keyword":a&&a.propertyIsEnumerable(e.current().toUpperCase())?"variable-2":l&&l.propertyIsEnumerable(e.current().toUpperCase())?"variable-3":"variable")}var s=t.keywords,a=t.builtins,l=t.types,c=t.multiLineStrings,u=/[*+\-%<>=&?:\/!|]/;return{startState:function(){return{tokenize:o,startOfLine:!0}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n}}}),function(){function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var n="ABS ACOS ARITY ASIN ATAN AVG BAGSIZE BINSTORAGE BLOOM BUILDBLOOM CBRT CEIL CONCAT COR COS COSH COUNT COUNT_STAR COV CONSTANTSIZE CUBEDIMENSIONS DIFF DISTINCT DOUBLEABS DOUBLEAVG DOUBLEBASE DOUBLEMAX DOUBLEMIN DOUBLEROUND DOUBLESUM EXP FLOOR FLOATABS FLOATAVG FLOATMAX FLOATMIN FLOATROUND FLOATSUM GENERICINVOKER INDEXOF INTABS INTAVG INTMAX INTMIN INTSUM INVOKEFORDOUBLE INVOKEFORFLOAT INVOKEFORINT INVOKEFORLONG INVOKEFORSTRING INVOKER ISEMPTY JSONLOADER JSONMETADATA JSONSTORAGE LAST_INDEX_OF LCFIRST LOG LOG10 LOWER LONGABS LONGAVG LONGMAX LONGMIN LONGSUM MAX MIN MAPSIZE MONITOREDUDF NONDETERMINISTIC OUTPUTSCHEMA  PIGSTORAGE PIGSTREAMING RANDOM REGEX_EXTRACT REGEX_EXTRACT_ALL REPLACE ROUND SIN SINH SIZE SQRT STRSPLIT SUBSTRING SUM STRINGCONCAT STRINGMAX STRINGMIN STRINGSIZE TAN TANH TOBAG TOKENIZE TOMAP TOP TOTUPLE TRIM TEXTLOADER TUPLESIZE UCFIRST UPPER UTF8STORAGECONVERTER ",r="VOID IMPORT RETURNS DEFINE LOAD FILTER FOREACH ORDER CUBE DISTINCT COGROUP JOIN CROSS UNION SPLIT INTO IF OTHERWISE ALL AS BY USING INNER OUTER ONSCHEMA PARALLEL PARTITION GROUP AND OR NOT GENERATE FLATTEN ASC DESC IS STREAM THROUGH STORE MAPREDUCE SHIP CACHE INPUT OUTPUT STDERROR STDIN STDOUT LIMIT SAMPLE LEFT RIGHT FULL EQ GT LT GTE LTE NEQ MATCHES TRUE FALSE DUMP",i="BOOLEAN INT LONG FLOAT DOUBLE CHARARRAY BYTEARRAY BAG TUPLE MAP ";e.defineMIME("text/x-pig",{name:"pig",builtins:t(n),keywords:t(r),types:t(i)}),e.registerHelper("hintWords","pig",(n+i+r).split(" "))}()})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("properties",function(){return{token:function(e,t){var n=e.sol()||t.afterSection,r=e.eol();if(t.afterSection=!1,n&&(t.nextMultiline?(t.inMultiline=!0,t.nextMultiline=!1):t.position="def"),r&&!t.nextMultiline&&(t.inMultiline=!1,t.position="def"),n)for(;e.eatSpace(););var i=e.next();return!n||"#"!==i&&"!"!==i&&";"!==i?n&&"["===i?(t.afterSection=!0,e.skipTo("]"),e.eat("]"),"header"):"="===i||":"===i?(t.position="quote",null):("\\"===i&&"quote"===t.position&&e.eol()&&(t.nextMultiline=!0),t.position):(t.position="comment",e.skipToEnd(),"comment")},startState:function(){return{position:"def",nextMultiline:!1,inMultiline:!1,afterSection:!1}}}}),e.defineMIME("text/x-properties","properties"),e.defineMIME("text/x-ini","properties")})},function(e,exports,t){!function(e){e(t(2),t(107),t(87),t(106))}(function(e){"use strict";e.defineMode("pug",function(t){function n(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(Z),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}function r(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&":"===e.peek())return t.javaScriptLine=!1,void(t.javaScriptLineExcludesColon=!1);var n=Z.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),n||!0}}function i(e,t){if(t.javaScriptArguments){if(0===t.javaScriptArgumentsDepth&&"("!==e.peek())return void(t.javaScriptArguments=!1);if("("===e.peek()?t.javaScriptArgumentsDepth++:")"===e.peek()&&t.javaScriptArgumentsDepth--,0===t.javaScriptArgumentsDepth)return void(t.javaScriptArguments=!1);var n=Z.token(e,t.jsState);return n||!0}}function o(e){if(e.match(/^yield\b/))return"keyword"}function s(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return Y}function a(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function l(e,t){if(t.isInterpolating){if("}"===e.peek()){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else"{"===e.peek()&&t.interpolationNesting++;return Z.token(e,t.jsState)||!0}}function c(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,G}function u(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,G}function d(e){if(e.match(/^default\b/))return G}function p(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string",G}function h(e,t){if(e.match(/^append\b/))return t.restOfLine="variable",G}function f(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable",G}function m(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",G}function _(e,t){if(e.match(/^include\b/))return t.restOfLine="string",G}function g(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,G}function v(e,t){if(t.isIncludeFiltered){var n=S(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",n}}function y(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,G}function b(e,t){return e.match(/^\+([-\w]+)/)?(e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):e.match(/^\+#{/,!1)?(e.next(),t.mixinCallAfter=!0,a(e,t)):void 0}function w(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function x(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,G}function k(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,G}function A(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,G;if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){for(;!e.match(/^ in\b/,!1)&&e.next(););return"variable"}}}function C(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,G}function E(e,t){var n;if(n=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=n[1].toLowerCase(),"script"===t.lastTag&&(t.scriptType="application/javascript"),"tag"}function S(n,r){if(n.match(/^:([\w\-]+)/)){var i;return t&&t.innerModes&&(i=t.innerModes(n.current().substring(1))),i||(i=n.current().substring(1)),"string"==typeof i&&(i=e.getMode(t,i)),q(n,r,i),"atom"}}function j(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function M(e){if(e.match(/^#([\w-]+)/))return J}function T(e){if(e.match(/^\.([\w-]+)/))return V}function O(e,t){if("("==e.peek())return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function N(t,n){if(n.isAttrs){if(Q[t.peek()]&&n.attrsNest.push(Q[t.peek()]),n.attrsNest[n.attrsNest.length-1]===t.peek())n.attrsNest.pop();else if(t.eat(")"))return n.isAttrs=!1,"punctuation";if(n.inAttributeName&&t.match(/^[^=,\)!]+/))return"="!==t.peek()&&"!"!==t.peek()||(n.inAttributeName=!1,n.jsState=e.startState(Z),"script"===n.lastTag&&"type"===t.current().trim().toLowerCase()?n.attributeIsType=!0:n.attributeIsType=!1),"attribute";var r=Z.token(t,n.jsState);if(n.attributeIsType&&"string"===r&&(n.scriptType=""+t.current()),0===n.attrsNest.length&&("string"===r||"variable"===r||"keyword"===r))try{return Function("","var x "+n.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),n.inAttributeName=!0,n.attrValue="",t.backUp(t.current().length),N(t,n)}catch(e){}return n.attrValue+=t.current(),r||!0}}function I(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function D(e){if(e.sol()&&e.eatSpace())return"indent"}function L(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}function z(e){if(e.match(/^: */))return"colon"}function R(e,t){return e.match(/^(?:\| ?| )([^\n]+)/)?"string":e.match(/^(<[^\n]*)/,!1)?(q(e,t,"htmlmixed"),t.innerModeForLine=!0,F(e,t,!0)):void 0}function P(e,t){if(e.eat(".")){var n=null;return"script"===t.lastTag&&t.scriptType.toLowerCase().indexOf("javascript")!=-1?n=t.scriptType.toLowerCase().replace(/"|'/g,""):"style"===t.lastTag&&(n="css"),q(e,t,n),"dot"}}function B(e){return e.next(),null}function q(n,r,i){i=e.mimeModes[i]||i,i=t.innerModes?t.innerModes(i)||i:i,i=e.mimeModes[i]||i,i=e.getMode(t,i),r.indentOf=n.indentation(),i&&"null"!==i.name?r.innerMode=i:r.indentToken="string"}function F(t,n,r){return t.indentation()>n.indentOf||n.innerModeForLine&&!t.sol()||r?n.innerMode?(n.innerState||(n.innerState=n.innerMode.startState?e.startState(n.innerMode,t.indentation()):{}),t.hideFirstChars(n.indentOf+2,function(){return n.innerMode.token(t,n.innerState)||!0})):(t.skipToEnd(),n.indentToken):void(t.sol()&&(n.indentOf=1/0,n.indentToken=null,n.innerMode=null,n.innerState=null))}function U(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var n=t.restOfLine;return t.restOfLine="",n}}function W(){return new n}function H(e){return e.copy()}function K(e,t){var n=F(e,t)||U(e,t)||l(e,t)||v(e,t)||A(e,t)||N(e,t)||r(e,t)||i(e,t)||w(e,t)||o(e,t)||s(e,t)||a(e,t)||c(e,t)||u(e,t)||d(e,t)||p(e,t)||h(e,t)||f(e,t)||m(e,t)||_(e,t)||g(e,t)||y(e,t)||b(e,t)||x(e,t)||k(e,t)||C(e,t)||E(e,t)||S(e,t)||j(e,t)||M(e,t)||T(e,t)||O(e,t)||I(e,t)||D(e,t)||R(e,t)||L(e,t)||z(e,t)||P(e,t)||B(e,t);return n===!0?null:n}var G="keyword",Y="meta",J="builtin",V="qualifier",Q={"{":"}","(":")","[":"]"},Z=e.getMode(t,"javascript");return n.prototype.copy=function(){var t=new n;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=e.copyState(Z,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=e.copyState(this.innerMode,this.innerState)),
t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:W,copyState:H,token:K}},"javascript","css","htmlmixed"),e.defineMIME("text/x-pug","pug"),e.defineMIME("text/x-jade","pug")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.registerHelper("wordChars","r",/[\w.]/),e.defineMode("r",function(e){function t(e){for(var t=e.split(" "),n={},r=0;r<t.length;++r)n[t[r]]=!0;return n}function n(e,t){a=null;var n=e.next();if("#"==n)return e.skipToEnd(),"comment";if("0"==n&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if("."==n&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(n))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==n||'"'==n)return t.tokenize=r(n),"string";if("`"==n)return e.match(/[^`]+`/),"variable-3";if("."==n&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(n)&&"_"!=n){e.eatWhile(/[\w\.]/);var i=e.current();return l.propertyIsEnumerable(i)?"atom":u.propertyIsEnumerable(i)?(d.propertyIsEnumerable(i)&&!e.match(/\s*if(\s+|$)/,!1)&&(a="block"),"keyword"):c.propertyIsEnumerable(i)?"builtin":"variable"}return"%"==n?(e.skipTo("%")&&e.next(),"operator variable-2"):"<"==n&&e.eat("-")||"<"==n&&e.match("<-")||"-"==n&&e.match(/>>?/)?"operator arrow":"="==n&&t.ctx.argList?"arg-is":p.test(n)?"$"==n?"operator dollar":(e.eatWhile(p),"operator"):/[\(\){}\[\];]/.test(n)?(a=n,";"==n?"semi":null):null}function r(e){return function(t,r){if(t.eat("\\")){var i=t.next();return"x"==i?t.match(/^[a-f0-9]{2}/i):("u"==i||"U"==i)&&t.eat("{")&&t.skipTo("}")?t.next():"u"==i?t.match(/^[a-f0-9]{4}/i):"U"==i?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(i)&&t.match(/^[0-7]{1,2}/),"string-2"}for(var o;null!=(o=t.next());){if(o==e){r.tokenize=n;break}if("\\"==o){t.backUp(1);break}}return"string"}}function i(e,t,n){e.ctx={type:t,indent:e.indent,flags:0,column:n.column(),prev:e.ctx}}function o(e,t){var n=e.ctx;e.ctx={type:n.type,indent:n.indent,flags:n.flags|t,column:n.column,prev:n.prev}}function s(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}var a,l=t("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_"),c=t("list quote bquote eval return call parse deparse"),u=t("if else repeat while function for in next break"),d=t("if else repeat while function for"),p=/[+\-*\/^<>=!&|~$:]/,h=1,f=2,m=4;return{startState:function(){return{tokenize:n,ctx:{type:"top",indent:-e.indentUnit,flags:f},indent:0,afterIdent:!1}},token:function(e,t){if(e.sol()&&(0==(3&t.ctx.flags)&&(t.ctx.flags|=f),t.ctx.flags&m&&s(t),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"!=n&&0==(t.ctx.flags&f)&&o(t,h),";"!=a&&"{"!=a&&"}"!=a||"block"!=t.ctx.type||s(t),"{"==a?i(t,"}",e):"("==a?(i(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):"["==a?i(t,"]",e):"block"==a?i(t,"block",e):a==t.ctx.type?s(t):"block"==t.ctx.type&&"comment"!=n&&o(t,m),t.afterIdent="variable"==n||"keyword"==n,n},indent:function(t,r){if(t.tokenize!=n)return 0;var i=r&&r.charAt(0),o=t.ctx,s=i==o.type;return o.flags&m&&(o=o.prev),"block"==o.type?o.indent+("{"==i?0:e.indentUnit):o.flags&h?o.column+(s?0:1):o.indent+(s?0:e.indentUnit)},lineComment:"#"}}),e.defineMIME("text/x-rsrc","r")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("ruby",function(e){function t(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function r(e,t){if(e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(c),"comment";if(e.eatSpace())return null;var r,o=e.next();if("`"==o||"'"==o||'"'==o)return n(a(o,"string",'"'==o||"`"==o),e,t);if("/"==o)return i(e)?n(a(o,"string-2",!0),e,t):"operator";if("%"==o){var s="string",d=!0;e.eat("s")?s="atom":e.eat(/[WQ]/)?s="string":e.eat(/[r]/)?s="string-2":e.eat(/[wxq]/)&&(s="string",d=!1);var p=e.eat(/[^\w\s=]/);return p?(f.propertyIsEnumerable(p)&&(p=f[p]),n(a(p,s,d,!0),e,t)):"operator"}if("#"==o)return e.skipToEnd(),"comment";if("<"==o&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(l(r[1]),e,t);if("0"==o)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(o))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==o){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}if(":"==o)return e.eat("'")?n(a("'","atom",!1),e,t):e.eat('"')?n(a('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if("@"==o&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==o)return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(o))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident";if("|"!=o||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok){if(/[\(\)\[\]{}\\;]/.test(o))return u=o,null;if("-"==o&&e.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(o)){var h=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=o||h||(u="."),"operator"}return null}return u="|",null}function i(e){for(var t,n=e.pos,r=0,i=!1,o=!1;null!=(t=e.next());)if(o)o=!1;else{if("[{(".indexOf(t)>-1)r++;else if("]})".indexOf(t)>-1){if(r--,r<0)break}else if("/"==t&&0==r){i=!0;break}o="\\"==t}return e.backUp(e.pos-n),i}function o(e){return e||(e=1),function(t,n){if("}"==t.peek()){if(1==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=o(e-1)}else"{"==t.peek()&&(n.tokenize[n.tokenize.length-1]=o(e+1));return r(t,n)}}function s(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,r(t,n))}}function a(e,t,n,r){return function(i,a){var l,c=!1;for("read-quoted-paused"===a.context.type&&(a.context=a.context.prev,i.eat("}"));null!=(l=i.next());){if(l==e&&(r||!c)){a.tokenize.pop();break}if(n&&"#"==l&&!c){if(i.eat("{")){"}"==e&&(a.context={prev:a.context,type:"read-quoted-paused"}),a.tokenize.push(o());break}if(/[@\$]/.test(i.peek())){a.tokenize.push(s());break}}c=!c&&"\\"==l}return t}}function l(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function c(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var u,d=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),p=t(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),h=t(["end","until"]),f={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[r],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){u=null,e.sol()&&(t.indented=e.indentation());var n,r=t.tokenize[t.tokenize.length-1](e,t),i=u;if("ident"==r){var o=e.current();r="."==t.lastTok?"property":d.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(o)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable","keyword"==r&&(i=o,p.propertyIsEnumerable(o)?n="indent":h.propertyIsEnumerable(o)?n="dedent":"if"!=o&&"unless"!=o||e.column()!=e.indentation()?"do"==o&&t.context.indented<t.indented&&(n="indent"):n="indent")}return(u||r&&"comment"!=r)&&(t.lastTok=i),"|"==u&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(u)?t.context={prev:t.context,type:u||r,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(u))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==u||"operator"==r),r},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=r)return 0;var i=n&&n.charAt(0),o=t.context,s=o.type==f[i]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(s?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#"}}),e.defineMIME("text/x-ruby","ruby")})},function(e,exports,t){!function(e){e(t(2),t(215))}(function(e){"use strict";e.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\]|\\(?:[nrt0'"]|x[\da-fA-F]{2}|u\{[\da-fA-F]{6}\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\(?:['\\nrt0]|x[\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\s+mut)?|fn|enum|mod|struct|type)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|box|break|continue|const|crate|do|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|unsafe|unsized|use|virtual|where|while|yield)\b/,token:"keyword"},{regex:/\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\b/,token:"atom"},{regex:/\b(?:true|false|Some|None|Ok|Err)\b/,token:"builtin"},{regex:/\b(fn)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\[.*\]/,token:"meta"},{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\w*/,token:"variable"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\"]|\\(?:.|$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\s*\}$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),e.defineMIME("text/x-rustsrc","rust")})},function(e,exports,t){!function(e){e(t(2),t(87))}(function(e){"use strict";e.defineMode("sass",function(t){function n(e){return RegExp("^"+e.join("|"))}function r(e){return!e.peek()||e.match(/\s+$/,!1)}function i(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=u,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=s(e.next()),"string"):(t.tokenizer=s(")",!1),"string")}function o(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=u,u(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=u):n.skipToEnd(),"comment")}}function s(e,t){function n(i,o){var s=i.next(),l=i.peek(),c=i.string.charAt(i.pos-2),d="\\"!==s&&l===e||s===e&&"\\"!==c;return d?(s!==e&&t&&i.next(),r(i)&&(o.cursorHalf=0),o.tokenizer=u,"string"):"#"===s&&"{"===l?(o.tokenizer=a(n),i.next(),"operator"):"string"}return null==t&&(t=!0),n}function a(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):u(t,n)}}function l(e){if(0==e.indentCount){e.indentCount++;var n=e.scopes[0].offset,r=n+t.indentUnit;e.scopes.unshift({offset:r})}}function c(e){1!=e.scopes.length&&e.scopes.shift()}function u(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=o(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=o(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=a(u),"operator";if('"'===n||"'"===n)return e.next(),t.tokenizer=s(n),"string";if(t.cursorHalf){if("#"===n&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return r(e)&&(t.cursorHalf=0),"unit";if(e.match(y))return r(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,r(e)&&(t.cursorHalf=0),"atom";if("$"===n)return e.next(),e.eatWhile(/[\w-]/),r(e)&&(t.cursorHalf=0),"variable-2";if("!"===n)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(w))return r(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return r(e)&&(t.cursorHalf=0),p=e.current().toLowerCase(),_.hasOwnProperty(p)?"atom":m.hasOwnProperty(p)?"keyword":f.hasOwnProperty(p)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(r(e))return t.cursorHalf=0,null}else{if("-"===n&&e.match(/^-\w+-/))return"meta";if("."===n){if(e.next(),e.match(/^[\w-]+/))return l(t),"qualifier";if("#"===e.peek())return l(t),"tag"}if("#"===n){if(e.next(),e.match(/^[\w-]+/))return l(t),"builtin";if("#"===e.peek())return l(t),"tag"}if("$"===n)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(y))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,"atom";if("="===n&&e.match(/^=[\w-]+/))return l(t),"meta";if("+"===n&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===n&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||c(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return l(t),"def";if("@"===n)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){p=e.current().toLowerCase();var d=t.prevProp+"-"+p;return f.hasOwnProperty(d)?"property":f.hasOwnProperty(p)?(t.prevProp=p,"property"):g.hasOwnProperty(p)?"property":"tag"}return e.match(/ *:/,!1)?(l(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):e.match(/ *,/,!1)?"tag":(l(t),"tag")}if(":"===n)return e.match(x)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(w)?"operator":(e.next(),null)}function d(e,n){e.sol()&&(n.indentCount=0);var r=n.tokenizer(e,n),i=e.current();if("@return"!==i&&"}"!==i||c(n),null!==r){for(var o=e.pos-i.length,s=o+t.indentUnit*n.indentCount,a=[],l=0;l<n.scopes.length;l++){var u=n.scopes[l];u.offset<=s&&a.push(u)}n.scopes=a}return r}var p,h=e.mimeModes["text/css"],f=h.propertyKeywords||{},m=h.colorKeywords||{},_=h.valueKeywords||{},g=h.fontProperties||{},v=["true","false","null","auto"],y=RegExp("^"+v.join("|")),b=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],w=n(b),x=/^::?[a-zA-Z_][\w\-]*/;return{startState:function(){return{tokenizer:u,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=d(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}}),e.defineMIME("text/x-sass","sass")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("scheme",function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e,t,n){this.indent=e,this.type=t,this.prev=n}function n(e,n,r){e.indentStack=new t(n,r,e.indentStack)}function r(e){e.indentStack=e.indentStack.prev}function i(e){return e.match(g)}function o(e){return e.match(v)}function s(e,t){return t===!0&&e.backUp(1),e.match(b)}function a(e){return e.match(y)}var l="builtin",c="comment",u="string",d="atom",p="number",h="bracket",f=2,m=e("λ case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"),_=e("define let letrec let* lambda"),g=RegExp(/^(?:[-+]i|[-+][01]+#*(?:\/[01]+#*)?i|[-+]?[01]+#*(?:\/[01]+#*)?@[-+]?[01]+#*(?:\/[01]+#*)?|[-+]?[01]+#*(?:\/[01]+#*)?[-+](?:[01]+#*(?:\/[01]+#*)?)?i|[-+]?[01]+#*(?:\/[01]+#*)?)(?=[()\s;"]|$)/i),v=RegExp(/^(?:[-+]i|[-+][0-7]+#*(?:\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?)(?=[()\s;"]|$)/i),y=RegExp(/^(?:[-+]i|[-+][\da-f]+#*(?:\/[\da-f]+#*)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?@[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?[-+](?:[\da-f]+#*(?:\/[\da-f]+#*)?)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?)(?=[()\s;"]|$)/i),b=RegExp(/^(?:[-+]i|[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)i|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)@[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)?i|(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*))(?=[()\s;"]|$)/i);return{startState:function(){return{indentStack:null,indentation:0,mode:!1,sExprComment:!1}},token:function(e,t){if(null==t.indentStack&&e.sol()&&(t.indentation=e.indentation()),e.eatSpace())return null;var g=null;switch(t.mode){case"string":for(var v,y=!1;null!=(v=e.next());){if('"'==v&&!y){t.mode=!1;break}y=!y&&"\\"==v}g=u;break;case"comment":for(var v,b=!1;null!=(v=e.next());){if("#"==v&&b){t.mode=!1;break}b="|"==v}g=c;break;case"s-expr-comment":if(t.mode=!1,"("!=e.peek()&&"["!=e.peek()){e.eatWhile(/[^\/s]/),g=c;break}t.sExprComment=0;default:var w=e.next();if('"'==w)t.mode="string",g=u;else if("'"==w)g=d;else if("#"==w)if(e.eat("|"))t.mode="comment",g=c;else if(e.eat(/[tf]/i))g=d;else if(e.eat(";"))t.mode="s-expr-comment",g=c;else{var x=null,k=!1,A=!0;e.eat(/[ei]/i)?k=!0:e.backUp(1),e.match(/^#b/i)?x=i:e.match(/^#o/i)?x=o:e.match(/^#x/i)?x=a:e.match(/^#d/i)?x=s:e.match(/^[-+0-9.]/,!1)?(A=!1,x=s):k||e.eat("#"),null!=x&&(A&&!k&&e.match(/^#[ei]/i),x(e)&&(g=p))}else if(/^[-+0-9.]/.test(w)&&s(e,!0))g=p;else if(";"==w)e.skipToEnd(),g=c;else if("("==w||"["==w){for(var C,E="",S=e.column();null!=(C=e.eat(/[^\s\(\[\;\)\]]/));)E+=C;E.length>0&&_.propertyIsEnumerable(E)?n(t,S+f,w):(e.eatSpace(),e.eol()||";"==e.peek()?n(t,S+1,w):n(t,S+e.current().length,w)),e.backUp(e.current().length-1),"number"==typeof t.sExprComment&&t.sExprComment++,g=h}else")"==w||"]"==w?(g=h,null!=t.indentStack&&t.indentStack.type==(")"==w?"(":"[")&&(r(t),"number"==typeof t.sExprComment&&0==--t.sExprComment&&(g=c,t.sExprComment=!1))):(e.eatWhile(/[\w\$_\-!$%&*+\.\/:<=>?@\^~]/),g=m&&m.propertyIsEnumerable(e.current())?l:"variable")}return"number"==typeof t.sExprComment?c:g},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}}),e.defineMIME("text/x-scheme","scheme")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("shell",function(){function e(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)i[n[r]]=e}function t(e,t){if(e.eatSpace())return null;var s=e.sol(),a=e.next();if("\\"===a)return e.next(),null;if("'"===a||'"'===a||"`"===a)return t.tokens.unshift(n(a,"`"===a?"quote":"string")),r(e,t);if("#"===a)return s&&e.eat("!")?(e.skipToEnd(),"meta"):(e.skipToEnd(),"comment");if("$"===a)return t.tokens.unshift(o),r(e,t);if("+"===a||"="===a)return"operator";if("-"===a)return e.eat("-"),e.eatWhile(/\w/),"attribute";if(/\d/.test(a)&&(e.eatWhile(/\d/),e.eol()||!/\w/.test(e.peek())))return"number";e.eatWhile(/[\w-]/);var l=e.current();return"="===e.peek()&&/\w+/.test(l)?"def":i.hasOwnProperty(l)?i[l]:null}function n(e,t){var i="("==e?")":"{"==e?"}":e;return function(s,a){for(var l,c=!1,u=!1;null!=(l=s.next());){if(l===i&&!u){c=!0;break}if("$"===l&&!u&&"'"!==e){u=!0,s.backUp(1),a.tokens.unshift(o);break}if(!u&&l===e&&e!==i)return a.tokens.unshift(n(e,t)),r(s,a);u=!u&&"\\"===l}return!c&&u||a.tokens.shift(),t}}function r(e,n){return(n.tokens[0]||t)(e,n)}var i={};e("atom","true false"),e("keyword","if then do else elif while until for in esac fi fin fil done exit set unset export function"),e("builtin","ab awk bash beep cat cc cd chown chmod chroot clear cp curl cut diff echo find gawk gcc get git grep kill killall ln ls make mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh shopt shred source sort sleep ssh start stop su sudo tee telnet top touch vi vim wall wc wget who write yes zsh");var o=function(e,t){t.tokens.length>1&&e.eat("$");var i=e.next();return/['"({]/.test(i)?(t.tokens[0]=n(i,"("==i?"quote":"{"==i?"def":"string"),r(e,t)):(/\d/.test(i)||e.eatWhile(/\w/),t.tokens.shift(),"def")};return{startState:function(){return{tokens:[]}},token:function(e,t){return r(e,t)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),e.defineMIME("text/x-sh","shell")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("sieve",function(e){function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){var n=e.next();if("/"==n&&e.eat("*"))return t.tokenize=i,i(e,t);if("#"===n)return e.skipToEnd(),"comment";if('"'==n)return t.tokenize=o(n),t.tokenize(e,t);if("("==n)return t._indent.push("("),t._indent.push("{"),null;if("{"===n)return t._indent.push("{"),null;if(")"==n&&(t._indent.pop(),t._indent.pop()),"}"===n)return t._indent.pop(),null;if(","==n)return null;if(";"==n)return null;if(/[{}\(\),;]/.test(n))return null;if(/\d/.test(n))return e.eatWhile(/[\d]/),e.eat(/[KkMmGg]/),"number";if(":"==n)return e.eatWhile(/[a-zA-Z_]/),e.eatWhile(/[a-zA-Z0-9_]/),"operator";e.eatWhile(/\w/);var l=e.current();return"text"==l&&e.eat(":")?(t.tokenize=r,"string"):s.propertyIsEnumerable(l)?"keyword":a.propertyIsEnumerable(l)?"atom":null}function r(e,t){return t._multiLineString=!0,e.sol()?("."==e.next()&&e.eol()&&(t._multiLineString=!1,t.tokenize=n),"string"):(e.eatSpace(),"#"==e.peek()?(e.skipToEnd(),"comment"):(e.skipToEnd(),"string"))}function i(e,t){for(var r,i=!1;null!=(r=e.next());){if(i&&"/"==r){t.tokenize=n;break}i="*"==r}return"comment"}function o(e){return function(t,r){for(var i,o=!1;null!=(i=t.next())&&(i!=e||o);)o=!o&&"\\"==i;return o||(r.tokenize=n),"string"}}var s=t("if elsif else stop require"),a=t("true false not"),l=e.indentUnit;return{startState:function(e){return{tokenize:n,baseIndent:e||0,_indent:[]}},token:function(e,t){return e.eatSpace()?null:(t.tokenize||n)(e,t)},indent:function(e,t){var n=e._indent.length;return t&&"}"==t[0]&&n--,n<0&&(n=0),n*l},electricChars:"}"}}),e.defineMIME("application/sieve","sieve")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("smalltalk",function(e){var t=/[+\-\/\\*~<>=@%|&?!.,:;^]/,n=/true|false|nil|self|super|thisContext/,r=function(e,t){this.next=e,this.parent=t},i=function(e,t,n){this.name=e,this.context=t,this.eos=n},o=function(){this.context=new r(s,null),this.expectVariable=!0,this.indentation=0,this.userIndentationDelta=0};o.prototype.userIndent=function(t){this.userIndentationDelta=t>0?t/e.indentUnit-this.indentation:0};var s=function(e,o,s){var d=new i(null,o,!1),p=e.next();return'"'===p?d=a(e,new r(a,o)):"'"===p?d=l(e,new r(l,o)):"#"===p?"'"===e.peek()?(e.next(),d=c(e,new r(c,o))):e.eatWhile(/[^\s.{}\[\]()]/)?d.name="string-2":d.name="meta":"$"===p?("<"===e.next()&&(e.eatWhile(/[^\s>]/),e.next()),d.name="string-2"):"|"===p&&s.expectVariable?d.context=new r(u,o):/[\[\]{}()]/.test(p)?(d.name="bracket",d.eos=/[\[{(]/.test(p),"["===p?s.indentation++:"]"===p&&(s.indentation=Math.max(0,s.indentation-1))):t.test(p)?(e.eatWhile(t),d.name="operator",d.eos=";"!==p):/\d/.test(p)?(e.eatWhile(/[\w\d]/),d.name="number"):/[\w_]/.test(p)?(e.eatWhile(/[\w\d_]/),d.name=s.expectVariable?n.test(e.current())?"keyword":"variable":null):d.eos=s.expectVariable,d},a=function(e,t){return e.eatWhile(/[^"]/),new i("comment",e.eat('"')?t.parent:t,!0)},l=function(e,t){return e.eatWhile(/[^']/),new i("string",e.eat("'")?t.parent:t,!1)},c=function(e,t){return e.eatWhile(/[^']/),new i("string-2",e.eat("'")?t.parent:t,!1)},u=function(e,t){var n=new i(null,t,!1),r=e.next();return"|"===r?(n.context=t.parent,n.eos=!0):(e.eatWhile(/[^|]/),n.name="variable"),n};return{startState:function(){return new o},token:function(e,t){if(t.userIndent(e.indentation()),e.eatSpace())return null;var n=t.context.next(e,t.context,t);return t.context=n.context,t.expectVariable=n.eos,n.name},blankLine:function(e){e.userIndent(0)},indent:function(t,n){var r=t.context.next===s&&n&&"]"===n.charAt(0)?-1:t.userIndentationDelta;return(t.indentation+r)*e.indentUnit},electricChars:"]"}}),e.defineMIME("text/x-stsrc",{name:"smalltalk"})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("smarty",function(t,n){function r(e,t){return u=t,e}function i(e,t,n){return t.tokenize=n,n(e,t)}function o(e,t){return null==t&&(t=e.pos),3===h&&"{"==p&&(t==e.string.length||/\s/.test(e.string.charAt(t)))}function s(e,t){for(var n=e.string,r=e.pos;;){var s=n.indexOf(p,r);if(r=s+p.length,s==-1||!o(e,s+p.length))break}if(s==e.pos)return e.match(p),e.eat("*")?i(e,t,c("comment","*"+d)):(t.depth++,t.tokenize=a,u="startTag","tag");s>-1&&(e.string=n.slice(0,s));var l=f.token(e,t.base);return s>-1&&(e.string=n),l}function a(e,t){if(e.match(d,!0))return 3===h?(t.depth--,t.depth<=0&&(t.tokenize=s)):t.tokenize=s,r("tag",null);if(e.match(p,!0))return t.depth++,r("tag","startTag");var n=e.next();if("$"==n)return e.eatWhile(_.validIdentifier),r("variable-2","variable");if("|"==n)return r("operator","pipe");if("."==n)return r("operator","property");if(_.stringChar.test(n))return t.tokenize=l(n),r("string","string");if(_.operatorChars.test(n))return e.eatWhile(_.operatorChars),r("operator","operator");if("["==n||"]"==n)return r("bracket","bracket");if("("==n||")"==n)return r("bracket","operator");if(/\d/.test(n))return e.eatWhile(/\d/),r("number","number");if("variable"==t.last){if("@"==n)return e.eatWhile(_.validIdentifier),r("property","property");if("|"==n)return e.eatWhile(_.validIdentifier),r("qualifier","modifier")}else{if("pipe"==t.last)return e.eatWhile(_.validIdentifier),r("qualifier","modifier");if("whitespace"==t.last)return e.eatWhile(_.validIdentifier),r("attribute","modifier")}if("property"==t.last)return e.eatWhile(_.validIdentifier),r("property",null);if(/\s/.test(n))return u="whitespace",null;var i="";"/"!=n&&(i+=n);for(var o=null;o=e.eat(_.validIdentifier);)i+=o;for(var a=0,c=m.length;a<c;a++)if(m[a]==i)return r("keyword","keyword");return/\s/.test(n)?null:r("tag","tag")}function l(e){return function(t,n){for(var r=null,i=null;!t.eol();){if(i=t.peek(),t.next()==e&&"\\"!==r){n.tokenize=a;break}r=i}return"string"}}function c(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=s;break}n.next()}return e}}var u,d=n.rightDelimiter||"}",p=n.leftDelimiter||"{",h=n.version||2,f=e.getMode(t,n.baseMode||"null"),m=["debug","extends","function","include","literal"],_={operatorChars:/[+\-*&%=<>!?]/,validIdentifier:/[a-zA-Z0-9_]/,stringChar:/['"]/};return{startState:function(){return{base:e.startState(f),tokenize:s,last:null,depth:0}},copyState:function(t){return{base:e.copyState(f,t.base),tokenize:t.tokenize,last:t.last,depth:t.depth}},innerMode:function(e){if(e.tokenize==s)return{mode:f,state:e.base}},token:function(e,t){var n=t.tokenize(e,t);return t.last=u,n},indent:function(t,n){return t.tokenize==s&&f.indent?f.indent(t.base,n):e.Pass},blockCommentStart:p+"*",blockCommentEnd:"*"+d}}),e.defineMIME("text/x-smarty","smarty")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("sparql",function(e){function t(e){return RegExp("^(?:"+e.join("|")+")$","i")}function n(e,t){var n=e.next();if(s=null,"$"==n||"?"==n)return"?"==n&&e.match(/\s/,!1)?"operator":(e.match(/^[\w\d]*/),"variable-2");if("<"!=n||e.match(/^[\s\u00a0=]/,!1)){if('"'==n||"'"==n)return t.tokenize=r(n),t.tokenize(e,t);if(/[{}\(\),\.;\[\]]/.test(n))return s=n,"bracket";if("#"==n)return e.skipToEnd(),"comment";if(u.test(n))return e.eatWhile(u),"operator";if(":"==n)return e.eatWhile(/[\w\d\._\-]/),"atom";if("@"==n)return e.eatWhile(/[a-z\d\-]/i),"meta";if(e.eatWhile(/[_\w\d]/),e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var i=e.current();return l.test(i)?"builtin":c.test(i)?"keyword":"variable"}return e.match(/^[^\s\u00a0>]*>?/),"atom"}function r(e){return function(t,r){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){r.tokenize=n;break}o=!o&&"\\"==i}return"string"}}function i(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function o(e){e.indent=e.context.indent,e.context=e.context.prev}var s,a=e.indentUnit,l=t(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","iri","uri","bnode","count","sum","min","max","avg","sample","group_concat","rand","abs","ceil","floor","round","concat","substr","strlen","replace","ucase","lcase","encode_for_uri","contains","strstarts","strends","strbefore","strafter","year","month","day","hours","minutes","seconds","timezone","tz","now","uuid","struuid","md5","sha1","sha256","sha384","sha512","coalesce","if","strlang","strdt","isnumeric","regex","exists","isblank","isliteral","a","bind"]),c=t(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc","as","having","undef","values","group","minus","in","not","service","silent","using","insert","delete","union","true","false","with","data","copy","to","move","add","create","drop","clear","load"]),u=/[*+\-<>=&|\^\/!\?]/;return{startState:function(){return{tokenize:n,context:null,indent:0,col:0}},token:function(e,t){if(e.sol()&&(t.context&&null==t.context.align&&(t.context.align=!1),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);
if("comment"!=n&&t.context&&null==t.context.align&&"pattern"!=t.context.type&&(t.context.align=!0),"("==s)i(t,")",e.column());else if("["==s)i(t,"]",e.column());else if("{"==s)i(t,"}",e.column());else if(/[\]\}\)]/.test(s)){for(;t.context&&"pattern"==t.context.type;)o(t);t.context&&s==t.context.type&&(o(t),"}"==s&&t.context&&"pattern"==t.context.type&&o(t))}else"."==s&&t.context&&"pattern"==t.context.type?o(t):/atom|string|variable/.test(n)&&t.context&&(/[\}\]]/.test(t.context.type)?i(t,"pattern",e.column()):"pattern"!=t.context.type||t.context.align||(t.context.align=!0,t.context.col=e.column()));return n},indent:function(e,t){var n=t&&t.charAt(0),r=e.context;if(/[\]\}]/.test(n))for(;r&&"pattern"==r.type;)r=r.prev;var i=r&&n==r.type;return r?"pattern"==r.type?r.col:r.align?r.col+(i?0:1):r.indent+(i?0:a):0},lineComment:"#"}}),e.defineMIME("application/sparql-query","sparql")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("stex",function(){function e(e,t){e.cmdState.push(t)}function t(e){return e.cmdState.length>0?e.cmdState[e.cmdState.length-1]:null}function n(e){var t=e.cmdState.pop();t&&t.closeBracket()}function r(e){for(var t=e.cmdState,n=t.length-1;n>=0;n--){var r=t[n];if("DEFAULT"!=r.name)return r}return{styleIdentifier:function(){return null}}}function i(e,t,n){return function(){this.name=e,this.bracketNo=0,this.style=t,this.styles=n,this.argument=null,this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}function o(e,t){e.f=t}function s(n,i){var s;if(n.match(/^\\[a-zA-Z@]+/)){var u=n.current().slice(1);return s=c[u]||c.DEFAULT,s=new s,e(i,s),o(i,l),s.style}if(n.match(/^\\[$&%#{}_]/))return"tag";if(n.match(/^\\[,;!\/\\]/))return"tag";if(n.match("\\["))return o(i,function(e,t){return a(e,t,"\\]")}),"keyword";if(n.match("$$"))return o(i,function(e,t){return a(e,t,"$$")}),"keyword";if(n.match("$"))return o(i,function(e,t){return a(e,t,"$")}),"keyword";var d=n.next();return"%"==d?(n.skipToEnd(),"comment"):"}"==d||"]"==d?(s=t(i))?(s.closeBracket(d),o(i,l),"bracket"):"error":"{"==d||"["==d?(s=c.DEFAULT,s=new s,e(i,s),"bracket"):/\d/.test(d)?(n.eatWhile(/[\w.%]/),"atom"):(n.eatWhile(/[\w\-_]/),s=r(i),"begin"==s.name&&(s.argument=n.current()),s.styleIdentifier())}function a(e,t,n){if(e.eatSpace())return null;if(e.match(n))return o(t,s),"keyword";if(e.match(/^\\[a-zA-Z@]+/))return"tag";if(e.match(/^[a-zA-Z]+/))return"variable-2";if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/]/))return"tag";if(e.match(/^[\^_&]/))return"tag";if(e.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(e.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var r=e.next();return"{"==r||"}"==r||"["==r||"]"==r||"("==r||")"==r?"bracket":"%"==r?(e.skipToEnd(),"comment"):"error"}function l(e,r){var i,a=e.peek();return"{"==a||"["==a?(i=t(r),i.openBracket(a),e.eat(a),o(r,s),"bracket"):/[ \t\r]/.test(a)?(e.eat(a),null):(o(r,s),n(r),s(e,r))}var c={};return c.importmodule=i("importmodule","tag",["string","builtin"]),c.documentclass=i("documentclass","tag",["","atom"]),c.usepackage=i("usepackage","tag",["atom"]),c.begin=i("begin","tag",["atom"]),c.end=i("end","tag",["atom"]),c.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{cmdState:[],f:s}},copyState:function(e){return{cmdState:e.cmdState.slice(),f:e.f}},token:function(e,t){return t.f(e,t)},blankLine:function(e){e.f=s,e.cmdState.length=0},lineComment:"%"}}),e.defineMIME("text/x-stex","stex"),e.defineMIME("text/x-latex","stex")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("tiddlywiki",function(){function e(e,t,n){return t.tokenize=n,n(e,t)}function t(t,u){var w=t.sol(),x=t.peek();if(u.block=!1,w&&/[<\/\*{}\-]/.test(x)){if(t.match(b))return u.block=!0,e(t,u,i);if(t.match(m))return"quote";if(t.match(h)||t.match(f))return"comment";if(t.match(_)||t.match(g)||t.match(v)||t.match(y))return"comment";if(t.match(p))return"hr"}if(t.next(),w&&/[\/\*!#;:>|]/.test(x)){if("!"==x)return t.skipToEnd(),"header";if("*"==x)return t.eatWhile("*"),"comment";if("#"==x)return t.eatWhile("#"),"comment";if(";"==x)return t.eatWhile(";"),"comment";if(":"==x)return t.eatWhile(":"),"comment";if(">"==x)return t.eatWhile(">"),"quote";if("|"==x)return"header"}if("{"==x&&t.match(/\{\{/))return e(t,u,i);if(/[hf]/i.test(x)&&/[ti]/i.test(t.peek())&&t.match(/\b(ttps?|tp|ile):\/\/[\-A-Z0-9+&@#\/%?=~_|$!:,.;]*[A-Z0-9+&@#\/%=~_|$]/i))return"link";if('"'==x)return"string";if("~"==x)return"brace";if(/[\[\]]/.test(x)&&t.match(x))return"brace";if("@"==x)return t.eatWhile(d),"link";if(/\d/.test(x))return t.eatWhile(/\d/),"number";if("/"==x){if(t.eat("%"))return e(t,u,n);if(t.eat("/"))return e(t,u,o)}if("_"==x&&t.eat("_"))return e(t,u,s);if("-"==x&&t.eat("-")){if(" "!=t.peek())return e(t,u,a);if(" "==t.peek())return"brace"}return"'"==x&&t.eat("'")?e(t,u,r):"<"==x&&t.eat("<")?e(t,u,l):(t.eatWhile(/[\w\$_]/),c.propertyIsEnumerable(t.current())?"keyword":null)}function n(e,n){for(var r,i=!1;r=e.next();){if("/"==r&&i){n.tokenize=t;break}i="%"==r}return"comment"}function r(e,n){for(var r,i=!1;r=e.next();){if("'"==r&&i){n.tokenize=t;break}i="'"==r}return"strong"}function i(e,n){var r=n.block;return r&&e.current()?"comment":!r&&e.match(x)?(n.tokenize=t,"comment"):r&&e.sol()&&e.match(w)?(n.tokenize=t,"comment"):(e.next(),"comment")}function o(e,n){for(var r,i=!1;r=e.next();){if("/"==r&&i){n.tokenize=t;break}i="/"==r}return"em"}function s(e,n){for(var r,i=!1;r=e.next();){if("_"==r&&i){n.tokenize=t;break}i="_"==r}return"underlined"}function a(e,n){for(var r,i=!1;r=e.next();){if("-"==r&&i){n.tokenize=t;break}i="-"==r}return"strikethrough"}function l(e,n){if("<<"==e.current())return"macro";var r=e.next();return r?">"==r&&">"==e.peek()?(e.next(),n.tokenize=t,"macro"):(e.eatWhile(/[\w\$_]/),u.propertyIsEnumerable(e.current())?"keyword":null):(n.tokenize=t,null)}var c={},u={allTags:!0,closeAll:!0,list:!0,newJournal:!0,newTiddler:!0,permaview:!0,saveChanges:!0,search:!0,slider:!0,tabs:!0,tag:!0,tagging:!0,tags:!0,tiddler:!0,timeline:!0,today:!0,version:!0,option:!0,with:!0,filter:!0},d=/[\w_\-]/i,p=/^\-\-\-\-+$/,h=/^\/\*\*\*$/,f=/^\*\*\*\/$/,m=/^<<<$/,_=/^\/\/\{\{\{$/,g=/^\/\/\}\}\}$/,v=/^<!--\{\{\{-->$/,y=/^<!--\}\}\}-->$/,b=/^\{\{\{$/,w=/^\}\}\}$/,x=/.*?\}\}\}/;return{startState:function(){return{tokenize:t}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n}}}),e.defineMIME("text/x-tiddlywiki","tiddlywiki")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("tiki",function(e){function t(e,t,n){return function(i,o){for(;!i.eol();){if(i.match(t)){o.tokenize=r;break}i.next()}return n&&(o.tokenize=n),e}}function n(e){return function(t,n){for(;!t.eol();)t.next();return n.tokenize=r,e}}function r(e,o){function s(t){return o.tokenize=t,t(e,o)}var a=e.sol(),l=e.next();switch(l){case"{":return e.eat("/"),e.eatSpace(),e.eatWhile(/[^\s\u00a0=\"\'\/?(}]/),o.tokenize=i,"tag";case"_":if(e.eat("_"))return s(t("strong","__",r));break;case"'":if(e.eat("'"))return s(t("em","''",r));break;case"(":if(e.eat("("))return s(t("variable-2","))",r));break;case"[":return s(t("variable-3","]",r));case"|":if(e.eat("|"))return s(t("comment","||"));break;case"-":if(e.eat("="))return s(t("header string","=-",r));if(e.eat("-"))return s(t("error tw-deleted","--",r));break;case"=":if(e.match("=="))return s(t("tw-underline","===",r));break;case":":if(e.eat(":"))return s(t("comment","::"));break;case"^":return s(t("tw-box","^"));case"~":if(e.match("np~"))return s(t("meta","~/np~"))}if(a)switch(l){case"!":return s(e.match("!!!!!")?n("header string"):e.match("!!!!")?n("header string"):e.match("!!!")?n("header string"):e.match("!!")?n("header string"):n("header string"));case"*":case"#":case"+":return s(n("tw-listitem bracket"))}return null}function i(e,t){var n=e.next(),i=e.peek();return"}"==n?(t.tokenize=r,"tag"):"("==n||")"==n?"bracket":"="==n?(v="equals",">"==i&&(n=e.next(),i=e.peek()),/[\'\"]/.test(i)||(t.tokenize=s()),"operator"):/[\'\"]/.test(n)?(t.tokenize=o(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=\"\'\/?]/),"keyword")}function o(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"}}function s(){return function(e,t){for(;!e.eol();){var n=e.next(),r=e.peek();if(" "==n||","==n||/[ )}]/.test(r)){t.tokenize=i;break}}return"string"}}function a(){for(var e=arguments.length-1;e>=0;e--)y.cc.push(arguments[e])}function l(){return a.apply(null,arguments),!0}function c(e,t){var n=y.context&&y.context.noIndent;y.context={prev:y.context,pluginName:e,indent:y.indented,startOfLine:t,noIndent:n}}function u(){y.context&&(y.context=y.context.prev)}function d(e){if("openPlugin"==e)return y.pluginName=g,l(f,p(y.startOfLine));if("closePlugin"==e){var t=!1;return y.context?(t=y.context.pluginName!=g,u()):t=!0,t&&(b="error"),l(h(t))}return"string"==e?(y.context&&"!cdata"==y.context.name||c("!cdata"),y.tokenize==r&&u(),l()):l()}function p(e){return function(t){return"selfclosePlugin"==t||"endPlugin"==t?l():"endPlugin"==t?(c(y.pluginName,e),l()):l()}}function h(e){return function(t){return e&&(b="error"),"endPlugin"==t?l():a()}}function f(e){return"keyword"==e?(b="attribute",l(f)):"equals"==e?l(m,f):a()}function m(e){return"keyword"==e?(b="string",l()):"string"==e?l(_):a()}function _(e){return"string"==e?l(_):a()}var g,v,y,b,w=e.indentUnit;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,pluginName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;b=v=g=null;var n=t.tokenize(e,t);if((n||v)&&"comment"!=n)for(y=t;;){var r=t.cc.pop()||d;if(r(v||n))break}return t.startOfLine=!1,b||n},indent:function(e,t){var n=e.context;if(n&&n.noIndent)return 0;for(n&&/^{\//.test(t)&&(n=n.prev);n&&!n.startOfLine;)n=n.prev;return n?n.indent+w:0},electricChars:"/"}}),e.defineMIME("text/tiki","tiki")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("toml",function(){return{startState:function(){return{inString:!1,stringType:"",lhs:!0,inArray:0}},token:function(e,t){if(t.inString||'"'!=e.peek()&&"'"!=e.peek()||(t.stringType=e.peek(),e.next(),t.inString=!0),e.sol()&&0===t.inArray&&(t.lhs=!0),t.inString){for(;t.inString&&!e.eol();)e.peek()===t.stringType?(e.next(),t.inString=!1):"\\"===e.peek()?(e.next(),e.next()):e.match(/^.[^\\\"\']*/);return t.lhs?"property string":"string"}return t.inArray&&"]"===e.peek()?(e.next(),t.inArray--,"bracket"):t.lhs&&"["===e.peek()&&e.skipTo("]")?(e.next(),"]"===e.peek()&&e.next(),"atom"):"#"===e.peek()?(e.skipToEnd(),"comment"):e.eatSpace()?null:t.lhs&&e.eatWhile(function(e){return"="!=e&&" "!=e})?"property":t.lhs&&"="===e.peek()?(e.next(),t.lhs=!1,null):!t.lhs&&e.match(/^\d\d\d\d[\d\-\:\.T]*Z/)?"atom":t.lhs||!e.match("true")&&!e.match("false")?t.lhs||"["!==e.peek()?!t.lhs&&e.match(/^\-?\d+(?:\.\d+)?/)?"number":(e.eatSpace()||e.next(),null):(t.inArray++,e.next(),"bracket"):"atom"}}}),e.defineMIME("text/x-toml","toml")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("vb",function(t,n){function r(e){return RegExp("^(("+e.join(")|(")+"))\\b","i")}function i(e,t){t.currentIndent++}function o(e,t){t.currentIndent--}function s(e,t){if(e.eatSpace())return null;var n=e.peek();if("'"===n)return e.skipToEnd(),"comment";if(e.match(/^((&H)|(&O))?[0-9\.a-f]/i,!1)){var r=!1;if(e.match(/^\d*\.\d+F?/i)?r=!0:e.match(/^\d+\.\d*F?/)?r=!0:e.match(/^\.\d+F?/)&&(r=!0),r)return e.eat(/J/i),"number";var s=!1;if(e.match(/^&H[0-9a-f]+/i)?s=!0:e.match(/^&O[0-7]+/i)?s=!0:e.match(/^[1-9]\d*F?/)?(e.eat(/J/i),s=!0):e.match(/^0(?![\dx])/i)&&(s=!0),s)return e.eat(/L/i),"number"}return e.match(C)?(t.tokenize=a(e.current()),t.tokenize(e,t)):e.match(f)||e.match(h)?null:e.match(p)||e.match(u)||e.match(b)?"operator":e.match(d)?null:e.match(T)?(i(e,t),t.doInCurrentLine=!0,"keyword"):e.match(E)?(t.doInCurrentLine?t.doInCurrentLine=!1:i(e,t),"keyword"):e.match(S)?"keyword":e.match(M)?(o(e,t),o(e,t),"keyword"):e.match(j)?(o(e,t),"keyword"):e.match(A)?"keyword":e.match(k)?"keyword":e.match(m)?"variable":(e.next(),c)}function a(e){var t=1==e.length,r="string";return function(i,o){for(;!i.eol();){if(i.eatWhile(/[^'"]/),i.match(e))return o.tokenize=s,r;i.eat(/['"]/)}if(t){if(n.singleLineStringErrors)return c;o.tokenize=s}return r}}function l(e,t){var n=t.tokenize(e,t),r=e.current();if("."===r)return n=t.tokenize(e,t),r=e.current(),"variable"===n?"variable":c;var s="[({".indexOf(r);return s!==-1&&i(e,t),"dedent"===O&&o(e,t)?c:(s="])}".indexOf(r),s!==-1&&o(e,t)?c:n)}var c="error",u=RegExp("^[\\+\\-\\*/%&\\\\|\\^~<>!]"),d=RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),p=RegExp("^((==)|(<>)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),h=RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),f=RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),m=RegExp("^[_A-Za-z][_A-Za-z0-9]*"),_=["class","module","sub","enum","select","while","if","function","get","set","property","try"],g=["else","elseif","case","catch"],v=["next","loop"],y=["and","or","not","xor","in"],b=r(y),w=["as","dim","break","continue","optional","then","until","goto","byval","byref","new","handles","property","return","const","private","protected","friend","public","shared","static","true","false"],x=["integer","string","double","decimal","boolean","short","char","float","single"],k=r(w),A=r(x),C='"',E=r(_),S=r(g),j=r(v),M=r(["end"]),T=r(["do"]),O=null;e.registerHelper("hintWords","vb",_.concat(g).concat(v).concat(y).concat(w).concat(x));var N={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:s,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1}},token:function(e,t){e.sol()&&(t.currentIndent+=t.nextLineIndent,t.nextLineIndent=0,t.doInCurrentLine=0);var n=l(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e,n){var r=n.replace(/^\s+|\s+$/g,"");return r.match(j)||r.match(M)||r.match(S)?t.indentUnit*(e.currentIndent-1):e.currentIndent<0?0:e.currentIndent*t.indentUnit},lineComment:"'"};return N}),e.defineMIME("text/x-vb","vb")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("vbscript",function(e,t){function n(e){return RegExp("^(("+e.join(")|(")+"))\\b","i")}function r(e,t){t.currentIndent++}function i(e,t){t.currentIndent--}function o(e,t){if(e.eatSpace())return"space";var n=e.peek();if("'"===n)return e.skipToEnd(),"comment";if(e.match(F))return e.skipToEnd(),"comment";if(e.match(/^((&H)|(&O))?[0-9\.]/i,!1)&&!e.match(/^((&H)|(&O))?[0-9\.]+[a-z_]/i,!1)){var o=!1;if(e.match(/^\d*\.\d+/i)?o=!0:e.match(/^\d+\.\d*/)?o=!0:e.match(/^\.\d+/)&&(o=!0),o)return e.eat(/J/i),"number";var a=!1;if(e.match(/^&H[0-9a-f]+/i)?a=!0:e.match(/^&O[0-7]+/i)?a=!0:e.match(/^[1-9]\d*F?/)?(e.eat(/J/i),a=!0):e.match(/^0(?![\dx])/i)&&(a=!0),a)return e.eat(/L/i),"number"}return e.match(D)?(t.tokenize=s(e.current()),t.tokenize(e,t)):e.match(u)||e.match(c)||e.match(g)?"operator":e.match(d)?null:e.match(p)?"bracket":e.match(q)?(t.doInCurrentLine=!0,"keyword"):e.match(B)?(r(e,t),t.doInCurrentLine=!0,"keyword"):e.match(L)?(t.doInCurrentLine?t.doInCurrentLine=!1:r(e,t),"keyword"):e.match(z)?"keyword":e.match(P)?(i(e,t),i(e,t),"keyword"):e.match(R)?(t.doInCurrentLine?t.doInCurrentLine=!1:i(e,t),"keyword"):e.match(M)?"keyword":e.match(T)?"atom":e.match(I)?"variable-2":e.match(O)?"builtin":e.match(N)?"variable-2":e.match(h)?"variable":(e.next(),l)}function s(e){var n=1==e.length,r="string";return function(i,s){for(;!i.eol();){if(i.eatWhile(/[^'"]/),i.match(e))return s.tokenize=o,r;i.eat(/['"]/)}if(n){if(t.singleLineStringErrors)return l;s.tokenize=o}return r}}function a(e,t){var n=t.tokenize(e,t),r=e.current();return"."===r?(n=t.tokenize(e,t),r=e.current(),!n||"variable"!==n.substr(0,8)&&"builtin"!==n&&"keyword"!==n?l:("builtin"!==n&&"keyword"!==n||(n="variable"),j.indexOf(r.substr(1))>-1&&(n="variable-2"),n)):n}var l="error",c=RegExp("^[\\+\\-\\*/&\\\\\\^<>=]"),u=RegExp("^((<>)|(<=)|(>=))"),d=RegExp("^[\\.,]"),p=RegExp("^[\\(\\)]"),h=RegExp("^[A-Za-z][_A-Za-z0-9]*"),f=["class","sub","select","while","if","function","property","with","for"],m=["else","elseif","case"],_=["next","loop","wend"],g=n(["and","or","not","xor","is","mod","eqv","imp"]),v=["dim","redim","then","until","randomize","byval","byref","new","property","exit","in","const","private","public","get","set","let","stop","on error resume next","on error goto 0","option explicit","call","me"],y=["true","false","nothing","empty","null"],b=["abs","array","asc","atn","cbool","cbyte","ccur","cdate","cdbl","chr","cint","clng","cos","csng","cstr","date","dateadd","datediff","datepart","dateserial","datevalue","day","escape","eval","execute","exp","filter","formatcurrency","formatdatetime","formatnumber","formatpercent","getlocale","getobject","getref","hex","hour","inputbox","instr","instrrev","int","fix","isarray","isdate","isempty","isnull","isnumeric","isobject","join","lbound","lcase","left","len","loadpicture","log","ltrim","rtrim","trim","maths","mid","minute","month","monthname","msgbox","now","oct","replace","rgb","right","rnd","round","scriptengine","scriptenginebuildversion","scriptenginemajorversion","scriptengineminorversion","second","setlocale","sgn","sin","space","split","sqr","strcomp","string","strreverse","tan","time","timer","timeserial","timevalue","typename","ubound","ucase","unescape","vartype","weekday","weekdayname","year"],w=["vbBlack","vbRed","vbGreen","vbYellow","vbBlue","vbMagenta","vbCyan","vbWhite","vbBinaryCompare","vbTextCompare","vbSunday","vbMonday","vbTuesday","vbWednesday","vbThursday","vbFriday","vbSaturday","vbUseSystemDayOfWeek","vbFirstJan1","vbFirstFourDays","vbFirstFullWeek","vbGeneralDate","vbLongDate","vbShortDate","vbLongTime","vbShortTime","vbObjectError","vbOKOnly","vbOKCancel","vbAbortRetryIgnore","vbYesNoCancel","vbYesNo","vbRetryCancel","vbCritical","vbQuestion","vbExclamation","vbInformation","vbDefaultButton1","vbDefaultButton2","vbDefaultButton3","vbDefaultButton4","vbApplicationModal","vbSystemModal","vbOK","vbCancel","vbAbort","vbRetry","vbIgnore","vbYes","vbNo","vbCr","VbCrLf","vbFormFeed","vbLf","vbNewLine","vbNullChar","vbNullString","vbTab","vbVerticalTab","vbUseDefault","vbTrue","vbFalse","vbEmpty","vbNull","vbInteger","vbLong","vbSingle","vbDouble","vbCurrency","vbDate","vbString","vbObject","vbError","vbBoolean","vbVariant","vbDataObject","vbDecimal","vbByte","vbArray"],x=["WScript","err","debug","RegExp"],k=["description","firstindex","global","helpcontext","helpfile","ignorecase","length","number","pattern","source","value","count"],A=["clear","execute","raise","replace","test","write","writeline","close","open","state","eof","update","addnew","end","createobject","quit"],C=["server","response","request","session","application"],E=["buffer","cachecontrol","charset","contenttype","expires","expiresabsolute","isclientconnected","pics","status","clientcertificate","cookies","form","querystring","servervariables","totalbytes","contents","staticobjects","codepage","lcid","sessionid","timeout","scripttimeout"],S=["addheader","appendtolog","binarywrite","end","flush","redirect","binaryread","remove","removeall","lock","unlock","abandon","getlasterror","htmlencode","mappath","transfer","urlencode"],j=A.concat(k);x=x.concat(w),e.isASP&&(x=x.concat(C),j=j.concat(S,E));var M=n(v),T=n(y),O=n(b),N=n(x),I=n(j),D='"',L=n(f),z=n(m),R=n(_),P=n(["end"]),B=n(["do"]),q=n(["on error resume next","exit"]),F=n(["rem"]),U={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:o,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1,ignoreKeyword:!1}},token:function(e,t){e.sol()&&(t.currentIndent+=t.nextLineIndent,t.nextLineIndent=0,t.doInCurrentLine=0);var n=a(e,t);return t.lastToken={style:n,content:e.current()},"space"===n&&(n=null),n},indent:function(t,n){var r=n.replace(/^\s+|\s+$/g,"");return r.match(R)||r.match(P)||r.match(z)?e.indentUnit*(t.currentIndent-1):t.currentIndent<0?0:t.currentIndent*e.indentUnit}};return U}),e.defineMIME("text/vbscript","vbscript")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("velocity",function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e,t,n){return t.tokenize=n,n(e,t)}function n(e,n){var u=n.beforeParams;n.beforeParams=!1;var d=e.next();if("'"==d&&!n.inString&&n.inParams)return n.lastTokenWasBuiltin=!1,t(e,n,r(d));if('"'!=d){if(/[\[\]{}\(\),;\.]/.test(d))return"("==d&&u?n.inParams=!0:")"==d&&(n.inParams=!1,n.lastTokenWasBuiltin=!0),null;if(/\d/.test(d))return n.lastTokenWasBuiltin=!1,e.eatWhile(/[\w\.]/),"number";if("#"==d&&e.eat("*"))return n.lastTokenWasBuiltin=!1,t(e,n,i);if("#"==d&&e.match(/ *\[ *\[/))return n.lastTokenWasBuiltin=!1,t(e,n,o);if("#"==d&&e.eat("#"))return n.lastTokenWasBuiltin=!1,e.skipToEnd(),"comment";if("$"==d)return e.eatWhile(/[\w\d\$_\.{}]/),l&&l.propertyIsEnumerable(e.current())?"keyword":(n.lastTokenWasBuiltin=!0,n.beforeParams=!0,"builtin");if(c.test(d))return n.lastTokenWasBuiltin=!1,e.eatWhile(c),"operator";e.eatWhile(/[\w\$_{}@]/);var p=e.current();return s&&s.propertyIsEnumerable(p)?"keyword":a&&a.propertyIsEnumerable(p)||e.current().match(/^#@?[a-z0-9_]+ *$/i)&&"("==e.peek()&&(!a||!a.propertyIsEnumerable(p.toLowerCase()))?(n.beforeParams=!0,n.lastTokenWasBuiltin=!1,"keyword"):n.inString?(n.lastTokenWasBuiltin=!1,"string"):e.pos>p.length&&"."==e.string.charAt(e.pos-p.length-1)&&n.lastTokenWasBuiltin?"builtin":(n.lastTokenWasBuiltin=!1,null)}return n.lastTokenWasBuiltin=!1,n.inString?(n.inString=!1,"string"):n.inParams?t(e,n,r(d)):void 0}function r(e){return function(t,r){for(var i,o=!1,s=!1;null!=(i=t.next());){if(i==e&&!o){s=!0;break}if('"'==e&&"$"==t.peek()&&!o){r.inString=!0,s=!0;break}o=!o&&"\\"==i}return s&&(r.tokenize=n),"string"}}function i(e,t){for(var r,i=!1;r=e.next();){if("#"==r&&i){t.tokenize=n;break}i="*"==r}return"comment"}function o(e,t){for(var r,i=0;r=e.next();){if("#"==r&&2==i){t.tokenize=n;break}"]"==r?i++:" "!=r&&(i=0)}return"meta"}var s=e("#end #else #break #stop #[[ #]] #{end} #{else} #{break} #{stop}"),a=e("#if #elseif #foreach #set #include #parse #macro #define #evaluate #{if} #{elseif} #{foreach} #{set} #{include} #{parse} #{macro} #{define} #{evaluate}"),l=e("$foreach.count $foreach.hasNext $foreach.first $foreach.last $foreach.topmost $foreach.parent.count $foreach.parent.hasNext $foreach.parent.first $foreach.parent.last $foreach.parent $velocityCount $!bodyContent $bodyContent"),c=/[+\-*&%=<>!?:\/|]/;return{startState:function(){return{tokenize:n,beforeParams:!1,inParams:!1,inString:!1,lastTokenWasBuiltin:!1}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},blockCommentStart:"#*",blockCommentEnd:"*#",lineComment:"##",fold:"velocity"}}),e.defineMIME("text/velocity","velocity")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";function t(e,t,n){var r=t/o;return"tlv-"+e.tlvIndentationStyle[r]+"-"+n}function n(e){var t;return(t=e.match(a,!1))&&t[2].length>0}e.defineMode("verilog",function(t,n){function r(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function i(e,t){var n,r=e.peek();if(y[r]&&0!=(n=y[r](e,t)))return n;if(y.tokenBase&&0!=(n=y.tokenBase(e,t)))return n;if(/[,;:\.]/.test(r))return p=e.next(),null;if(x.test(r))return p=e.next(),"bracket";if("`"==r)return e.next(),e.eatWhile(/[\w\$_]/)?"def":null;if("$"==r)return e.next(),e.eatWhile(/[\w\$_]/)?"meta":null;if("#"==r)return e.next(),e.eatWhile(/[\d_.]/),"def";if('"'==r)return e.next(),t.tokenize=o(r),t.tokenize(e,t);if("/"==r){if(e.next(),e.eat("*"))return t.tokenize=s,s(e,t);if(e.eat("/"))return e.skipToEnd(),"comment";e.backUp(1)}if(e.match(j)||e.match(A)||e.match(C)||e.match(E)||e.match(S)||e.match(k)||e.match(j))return"number";if(e.eatWhile(w))return"meta";if(e.eatWhile(/[\w\$_]/)){var i=e.current();return b[i]?(N[i]&&(p="newblock"),L[i]&&(p="newstatement"),h=i,"keyword"):"variable"}return e.next(),null}function o(e){return function(t,n){for(var r,o=!1,s=!1;null!=(r=t.next());){if(r==e&&!o){s=!0;break}o=!o&&"\\"==r}return(s||!o&&!v)&&(n.tokenize=i),"string"}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=i;break}r="*"==n}return"comment"}function a(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function l(e,t,n){var r=e.indented,i=new a(r,t,n,null,e.context);return e.context=i}function c(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function u(e,t){if(e==t)return!0;var n=t.split(";");for(var r in n)if(e==n[r])return!0;return!1}function d(){var e=[];for(var t in N)if(N[t]){var n=N[t].split(";");for(var r in n)e.push(n[r])}var i=RegExp("[{}()\\[\\]]|("+e.join("|")+")$");return i}var p,h,f=t.indentUnit,m=n.statementIndentUnit||f,_=n.dontAlignCalls,g=n.noIndentKeywords||[],v=n.multiLineStrings,y=n.hooks||{},b=r("accept_on alias always always_comb always_ff always_latch and assert assign assume automatic before begin bind bins binsof bit break buf bufif0 bufif1 byte case casex casez cell chandle checker class clocking cmos config const constraint context continue cover covergroup coverpoint cross deassign default defparam design disable dist do edge else end endcase endchecker endclass endclocking endconfig endfunction endgenerate endgroup endinterface endmodule endpackage endprimitive endprogram endproperty endspecify endsequence endtable endtask enum event eventually expect export extends extern final first_match for force foreach forever fork forkjoin function generate genvar global highz0 highz1 if iff ifnone ignore_bins illegal_bins implements implies import incdir include initial inout input inside instance int integer interconnect interface intersect join join_any join_none large let liblist library local localparam logic longint macromodule matches medium modport module nand negedge nettype new nexttime nmos nor noshowcancelled not notif0 notif1 null or output package packed parameter pmos posedge primitive priority program property protected pull0 pull1 pulldown pullup pulsestyle_ondetect pulsestyle_onevent pure rand randc randcase randsequence rcmos real realtime ref reg reject_on release repeat restrict return rnmos rpmos rtran rtranif0 rtranif1 s_always s_eventually s_nexttime s_until s_until_with scalared sequence shortint shortreal showcancelled signed small soft solve specify specparam static string strong strong0 strong1 struct super supply0 supply1 sync_accept_on sync_reject_on table tagged task this throughout time timeprecision timeunit tran tranif0 tranif1 tri tri0 tri1 triand trior trireg type typedef union unique unique0 unsigned until until_with untyped use uwire var vectored virtual void wait wait_order wand weak weak0 weak1 while wildcard wire with within wor xnor xor"),w=/[\+\-\*\/!~&|^%=?:]/,x=/[\[\]{}()]/,k=/\d[0-9_]*/,A=/\d*\s*'s?d\s*\d[0-9_]*/i,C=/\d*\s*'s?b\s*[xz01][xz01_]*/i,E=/\d*\s*'s?o\s*[xz0-7][xz0-7_]*/i,S=/\d*\s*'s?h\s*[0-9a-fxz?][0-9a-fxz?_]*/i,j=/(\d[\d_]*(\.\d[\d_]*)?E-?[\d_]+)|(\d[\d_]*\.\d[\d_]*)/i,M=/^((\w+)|[)}\]])/,T=/[)}\]]/,O=r("case checker class clocking config function generate interface module packageprimitive program property specify sequence table task"),N={};for(var I in O)N[I]="end"+I;N.begin="end",N.casex="endcase",N.casez="endcase",N.do="while",N.fork="join;join_any;join_none",N.covergroup="endgroup";for(var D in g){var I=g[D];N[I]&&(N[I]=void 0)}var L=r("always always_comb always_ff always_latch assert assign assume else export for foreach forever if import initial repeat while");return{electricInput:d(),startState:function(e){var t={tokenize:null,context:new a((e||0)-f,0,"top",!1),indented:0,startOfLine:!0};return y.startState&&y.startState(t),t},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),y.token){var r=y.token(e,t);if(void 0!==r)return r}if(e.eatSpace())return null;p=null,h=null;var r=(t.tokenize||i)(e,t);if("comment"==r||"meta"==r||"variable"==r)return r;if(null==n.align&&(n.align=!0),p==n.type)c(t);else if(";"==p&&"statement"==n.type||n.type&&u(h,n.type))for(n=c(t);n&&"statement"==n.type;)n=c(t);else if("{"==p)l(t,e.column(),"}");else if("["==p)l(t,e.column(),"]");else if("("==p)l(t,e.column(),")");else if(n&&"endcase"==n.type&&":"==p)l(t,e.column(),"statement");else if("newstatement"==p)l(t,e.column(),"statement");else if("newblock"==p)if("function"!=h||!n||"statement"!=n.type&&"endgroup"!=n.type)if("task"==h&&n&&"statement"==n.type);else{var o=N[h];l(t,e.column(),o)}else;return t.startOfLine=!1,r},indent:function(t,n){if(t.tokenize!=i&&null!=t.tokenize)return e.Pass;if(y.indent){var r=y.indent(t);if(r>=0)return r}var o=t.context,s=n&&n.charAt(0);"statement"==o.type&&"}"==s&&(o=o.prev);var a=!1,l=n.match(M);return l&&(a=u(l[0],o.type)),"statement"==o.type?o.indented+("{"==s?0:m):T.test(o.type)&&o.align&&!_?o.column+(a?0:1):")"!=o.type||a?o.indented+(a?0:f):o.indented+m},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-verilog",{name:"verilog"}),e.defineMIME("text/x-systemverilog",{name:"verilog"});var r={"|":"link",">":"property",$:"variable",$$:"variable","?$":"qualifier","?*":"qualifier","-":"hr","/":"property","/-":"property","@":"variable-3","@-":"variable-3","@++":"variable-3","@+=":"variable-3","@+=-":"variable-3","@--":"variable-3","@-=":"variable-3","%+":"tag","%-":"tag","%":"tag",">>":"tag","<<":"tag","<>":"tag","#":"tag","^":"attribute","^^":"attribute","^!":"attribute","*":"variable-2","**":"variable-2","\\":"keyword",'"':"comment"},i={"/":"beh-hier",">":"beh-hier","-":"phys-hier","|":"pipe","?":"when","@":"stage","\\":"keyword"},o=3,s=!1,a=/^([~!@#\$%\^&\*-\+=\?\/\\\|'"<>]+)([\d\w_]*)/,l=/^[! ]  /,c=/^[! ] */,u=/^\/[\/\*]/;e.defineMIME("text/x-tlv",{name:"verilog",hooks:{electricInput:!1,token:function(e,d){var p,h=void 0;if(e.sol()&&!d.tlvInBlockComment){"\\"==e.peek()&&(h="def",e.skipToEnd(),e.string.match(/\\SV/)?d.tlvCodeActive=!1:e.string.match(/\\TLV/)&&(d.tlvCodeActive=!0)),d.tlvCodeActive&&0==e.pos&&0==d.indented&&(p=e.match(c,!1))&&(d.indented=p[0].length);var f=d.indented,m=f/o;if(m<=d.tlvIndentationStyle.length){var _=e.string.length==f,g=m*o;if(g<e.string.length){var v=e.string.slice(g),y=v[0];i[y]&&(p=v.match(a))&&r[p[1]]&&(f+=o,"\\"==y&&g>0||(d.tlvIndentationStyle[m]=i[y],s&&(d.statementComment=!1),m++))}if(!_)for(;d.tlvIndentationStyle.length>m;)d.tlvIndentationStyle.pop()}d.tlvNextIndent=f}if(d.tlvCodeActive){var b=!1;s&&(b=" "!=e.peek()&&void 0===h&&!d.tlvInBlockComment&&e.column()==d.tlvIndentationStyle.length*o,b&&(d.statementComment&&(b=!1),d.statementComment=e.match(u,!1)));var p;if(void 0!==h)h+=" "+t(d,0,"scope-ident");else if(e.pos/o<d.tlvIndentationStyle.length&&(p=e.match(e.sol()?l:/^   /)))h="tlv-indent-"+(e.pos%2==0?"even":"odd")+" "+t(d,e.pos-o,"indent"),"!"==p[0].charAt(0)&&(h+=" tlv-alert-line-prefix"),n(e)&&(h+=" "+t(d,e.pos,"before-scope-ident"));else if(d.tlvInBlockComment)e.match(/^.*?\*\//)?(d.tlvInBlockComment=!1,s&&!e.eol()&&(d.statementComment=!1)):e.skipToEnd(),h="comment";else if((p=e.match(u))&&!d.tlvInBlockComment)"//"==p[0]?e.skipToEnd():d.tlvInBlockComment=!0,h="comment";else if(p=e.match(a)){var w=p[1],x=p[2];w in r&&(x.length>0||e.eol())?(h=r[w],e.column()==d.indented&&(h+=" "+t(d,e.column(),"scope-ident"))):(e.backUp(e.current().length-1),h="tlv-default")}else e.match(/^\t+/)?h="tlv-tab":e.match(/^[\[\]{}\(\);\:]+/)?h="meta":(p=e.match(/^[mM]4([\+_])?[\w\d_]*/))?h="+"==p[1]?"tlv-m4-plus":"tlv-m4":e.match(/^ +/)?h=e.eol()?"error":"tlv-default":e.match(/^[\w\d_]+/)?h="number":(e.next(),h="tlv-default");b&&(h+=" tlv-statement")}else e.match(/^[mM]4([\w\d_]*)/)&&(h="tlv-m4");return h},indent:function(e){return 1==e.tlvCodeActive?e.tlvNextIndent:-1},startState:function(e){e.tlvIndentationStyle=[],
e.tlvCodeActive=!0,e.tlvNextIndent=-1,e.tlvInBlockComment=!1,s&&(e.statementComment=!1)}}})})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("xquery",function(){function e(e,t,n){return t.tokenize=n,n(e,t)}function t(t,s){var d=t.next(),h=!1,m=f(t);if("<"==d){if(t.match("!--",!0))return e(t,s,a);if(t.match("![CDATA",!1))return s.tokenize=l,"tag";if(t.match("?",!1))return e(t,s,c);var y=t.eat("/");t.eatSpace();for(var b,w="";b=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)w+=b;return e(t,s,o(w,y))}if("{"==d)return _(s,{type:"codeblock"}),null;if("}"==d)return g(s),null;if(u(s))return">"==d?"tag":"/"==d&&t.eat(">")?(g(s),"tag"):"variable";if(/\d/.test(d))return t.match(/^\d*(?:\.\d*)?(?:E[+\-]?\d+)?/),"atom";if("("===d&&t.eat(":"))return _(s,{type:"comment"}),e(t,s,n);if(m||'"'!==d&&"'"!==d){if("$"===d)return e(t,s,i);if(":"===d&&t.eat("="))return"keyword";if("("===d)return _(s,{type:"paren"}),null;if(")"===d)return g(s),null;if("["===d)return _(s,{type:"bracket"}),null;if("]"===d)return g(s),null;var x=v.propertyIsEnumerable(d)&&v[d];if(m&&'"'===d)for(;'"'!==t.next(););if(m&&"'"===d)for(;"'"!==t.next(););x||t.eatWhile(/[\w\$_-]/);var k=t.eat(":");!t.eat(":")&&k&&t.eatWhile(/[\w\$_-]/),t.match(/^[ \t]*\(/,!1)&&(h=!0);var A=t.current();return x=v.propertyIsEnumerable(A)&&v[A],h&&!x&&(x={type:"function_call",style:"variable def"}),p(s)?(g(s),"variable"):("element"!=A&&"attribute"!=A&&"axis_specifier"!=x.type||_(s,{type:"xmlconstructor"}),x?x.style:"variable")}return e(t,s,r(d))}function n(e,t){for(var n,r=!1,i=!1,o=0;n=e.next();){if(")"==n&&r){if(!(o>0)){g(t);break}o--}else":"==n&&i&&o++;r=":"==n,i="("==n}return"comment"}function r(e,n){return function(i,o){var s;if(h(o)&&i.current()==e)return g(o),n&&(o.tokenize=n),"string";if(_(o,{type:"string",name:e,tokenize:r(e,n)}),i.match("{",!1)&&d(o))return o.tokenize=t,"string";for(;s=i.next();){if(s==e){g(o),n&&(o.tokenize=n);break}if(i.match("{",!1)&&d(o))return o.tokenize=t,"string"}return"string"}}function i(e,n){var r=/[\w\$_-]/;if(e.eat('"')){for(;'"'!==e.next(););e.eat(":")}else e.eatWhile(r),e.match(":=",!1)||e.eat(":");return e.eatWhile(r),n.tokenize=t,"variable"}function o(e,n){return function(r,i){return r.eatSpace(),n&&r.eat(">")?(g(i),i.tokenize=t,"tag"):(r.eat("/")||_(i,{type:"tag",name:e,tokenize:t}),r.eat(">")?(i.tokenize=t,"tag"):(i.tokenize=s,"tag"))}}function s(n,i){var o=n.next();return"/"==o&&n.eat(">")?(d(i)&&g(i),u(i)&&g(i),"tag"):">"==o?(d(i)&&g(i),"tag"):"="==o?null:'"'==o||"'"==o?e(n,i,r(o,s)):(d(i)||_(i,{type:"attribute",tokenize:s}),n.eat(/[a-zA-Z_:]/),n.eatWhile(/[-a-zA-Z0-9_:.]/),n.eatSpace(),(n.match(">",!1)||n.match("/",!1))&&(g(i),i.tokenize=t),"attribute")}function a(e,n){for(var r;r=e.next();)if("-"==r&&e.match("->",!0))return n.tokenize=t,"comment"}function l(e,n){for(var r;r=e.next();)if("]"==r&&e.match("]",!0))return n.tokenize=t,"comment"}function c(e,n){for(var r;r=e.next();)if("?"==r&&e.match(">",!0))return n.tokenize=t,"comment meta"}function u(e){return m(e,"tag")}function d(e){return m(e,"attribute")}function p(e){return m(e,"xmlconstructor")}function h(e){return m(e,"string")}function f(e){return'"'===e.current()?e.match(/^[^\"]+\"\:/,!1):"'"===e.current()&&e.match(/^[^\"]+\'\:/,!1)}function m(e,t){return e.stack.length&&e.stack[e.stack.length-1].type==t}function _(e,t){e.stack.push(t)}function g(e){e.stack.pop();var n=e.stack.length&&e.stack[e.stack.length-1].tokenize;e.tokenize=n||t}var v=function(){function e(e){return{type:e,style:"keyword"}}for(var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},s={type:"punctuation",style:null},a={type:"axis_specifier",style:"qualifier"},l={if:t,switch:t,while:t,for:t,else:n,then:n,try:n,finally:n,catch:n,element:r,attribute:r,let:r,implements:r,import:r,module:r,namespace:r,return:r,super:r,this:r,throws:r,where:r,private:r,",":s,null:o,"fn:false()":o,"fn:true()":o},c=["after","ancestor","ancestor-or-self","and","as","ascending","assert","attribute","before","by","case","cast","child","comment","declare","default","define","descendant","descendant-or-self","descending","document","document-node","element","else","eq","every","except","external","following","following-sibling","follows","for","function","if","import","in","instance","intersect","item","let","module","namespace","node","node","of","only","or","order","parent","precedes","preceding","preceding-sibling","processing-instruction","ref","return","returns","satisfies","schema","schema-element","self","some","sortby","stable","text","then","to","treat","typeswitch","union","variable","version","where","xquery","empty-sequence"],u=0,d=c.length;u<d;u++)l[c[u]]=e(c[u]);for(var p=["xs:string","xs:float","xs:decimal","xs:double","xs:integer","xs:boolean","xs:date","xs:dateTime","xs:time","xs:duration","xs:dayTimeDuration","xs:time","xs:yearMonthDuration","numeric","xs:hexBinary","xs:base64Binary","xs:anyURI","xs:QName","xs:byte","xs:boolean","xs:anyURI","xf:yearMonthDuration"],u=0,d=p.length;u<d;u++)l[p[u]]=o;for(var h=["eq","ne","lt","le","gt","ge",":=","=",">",">=","<","<=",".","|","?","and","or","div","idiv","mod","*","/","+","-"],u=0,d=h.length;u<d;u++)l[h[u]]=i;for(var f=["self::","attribute::","child::","descendant::","descendant-or-self::","parent::","ancestor::","ancestor-or-self::","following::","preceding::","following-sibling::","preceding-sibling::"],u=0,d=f.length;u<d;u++)l[f[u]]=a;return l}();return{startState:function(){return{tokenize:t,cc:[],stack:[]}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n},blockCommentStart:"(:",blockCommentEnd:":)"}}),e.defineMIME("application/xquery","xquery")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var r=e.peek(),i=n.escaped;if(n.escaped=!1,"#"==r&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!i&&","==r)return e.next(),"meta";if(n.inlinePairs>0&&!i&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!n.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=e.indentation(),"atom"):n.pair&&e.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml"),e.defineMIME("text/yaml","yaml")})},function(e,exports,t){!function(e){e(t(2))}(function(e){"use strict";e.defineMode("z80",function(e,t){var n,r,i=t.ez80;i?(n=/^(exx?|(ld|cp)([di]r?)?|[lp]ea|pop|push|ad[cd]|cpl|daa|dec|inc|neg|sbc|sub|and|bit|[cs]cf|x?or|res|set|r[lr]c?a?|r[lr]d|s[lr]a|srl|djnz|nop|[de]i|halt|im|in([di]mr?|ir?|irx|2r?)|ot(dmr?|[id]rx|imr?)|out(0?|[di]r?|[di]2r?)|tst(io)?|slp)(\.([sl]?i)?[sl])?\b/i,r=/^(((call|j[pr]|rst|ret[in]?)(\.([sl]?i)?[sl])?)|(rs|st)mix)\b/i):(n=/^(exx?|(ld|cp|in)([di]r?)?|pop|push|ad[cd]|cpl|daa|dec|inc|neg|sbc|sub|and|bit|[cs]cf|x?or|res|set|r[lr]c?a?|r[lr]d|s[lr]a|srl|djnz|nop|rst|[de]i|halt|im|ot[di]r|out[di]?)\b/i,r=/^(call|j[pr]|ret[in]?|b_?(call|jump))\b/i);var o=/^(af?|bc?|c|de?|e|hl?|l|i[xy]?|r|sp)\b/i,s=/^(n?[zc]|p[oe]?|m)\b/i,a=/^([hl][xy]|i[xy][hl]|slia|sll)\b/i,l=/^([\da-f]+h|[0-7]+o|[01]+b|\d+d?)\b/i;return{startState:function(){return{context:0}},token:function(e,t){if(e.column()||(t.context=0),e.eatSpace())return null;var c;if(e.eatWhile(/\w/)){if(i&&e.eat(".")&&e.eatWhile(/\w/),c=e.current(),!e.indentation())return e.match(l)?"number":null;if((1==t.context||4==t.context)&&o.test(c))return t.context=4,"var2";if(2==t.context&&s.test(c))return t.context=4,"var3";if(n.test(c))return t.context=1,"keyword";if(r.test(c))return t.context=2,"keyword";if(4==t.context&&l.test(c))return"number";if(a.test(c))return"error"}else{if(e.eat(";"))return e.skipToEnd(),"comment";if(e.eat('"')){for(;(c=e.next())&&'"'!=c;)"\\"==c&&e.next();return"string"}if(e.eat("'")){if(e.match(/\\?.'/))return"number"}else if(e.eat(".")||e.sol()&&e.eat("#")){if(t.context=5,e.eatWhile(/\w/))return"def"}else if(e.eat("$")){if(e.eatWhile(/[\da-f]/i))return"number"}else if(e.eat("%")){if(e.eatWhile(/[01]/))return"number"}else e.next()}return null}}}),e.defineMIME("text/x-z80","z80"),e.defineMIME("text/x-ez80",{name:"z80",ez80:!0})})},function(e,exports,t){t(230),t(545),e.exports=t(61).Array.from},function(e,exports,t){t(547),e.exports=t(61).Object.assign},function(e,exports,t){var $=t(41);e.exports=function(e,t){return $.create(e,t)}},function(e,exports,t){t(551),e.exports=t(61).Object.entries},function(e,exports,t){t(548),e.exports=t(61).Object.setPrototypeOf},function(e,exports,t){t(552),e.exports=t(61).Object.values},function(e,exports,t){t(550),t(549),e.exports=t(61).Symbol},function(e,exports,t){t(230),t(553),e.exports=t(52)("iterator")},function(e,exports){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,exports){e.exports=function(){}},function(e,exports,t){var n=t(141),r=t(52)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,o,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=(t=Object(e))[r])?o:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,exports,t){var $=t(41);e.exports=function(e){var t=$.getKeys(e),n=$.getSymbols;if(n)for(var r,i=n(e),o=$.isEnum,s=0;i.length>s;)o.call(e,r=i[s++])&&t.push(r);return t}},function(e,exports,t){var n=t(89),r=t(41).getNames,i={}.toString,o="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(e){return o.slice()}};e.exports.get=function(e){return o&&"[object Window]"==i.call(e)?s(e):r(n(e))}},function(e,exports,t){var n=t(88),r=t(52)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[r]===e)}},function(e,exports,t){var n=t(141);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,exports,t){var n=t(140);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,exports,t){"use strict";var $=t(41),n=t(147),r=t(148),i={};t(146)(i,t(52)("iterator"),function(){return this}),e.exports=function(e,t,o){e.prototype=$.create(i,{next:n(1,o)}),r(e,t+" Iterator")}},function(e,exports,t){var n=t(52)("iterator"),r=!1;try{var i=[7][n]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:i=!0}},o[n]=function(){return s},e(o)}catch(e){}return i}},function(e,exports){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,exports,t){var $=t(41),n=t(89);e.exports=function(e,t){for(var r,i=n(e),o=$.getKeys(i),s=o.length,a=0;s>a;)if(i[r=o[a++]]===t)return r}},function(e,exports,t){var $=t(41),n=t(228),r=t(220);e.exports=t(144)(function(){var e=Object.assign,t={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=i})?function(e,t){for(var i=n(e),o=arguments,s=o.length,a=1,l=$.getKeys,c=$.getSymbols,u=$.isEnum;s>a;)for(var d,p=r(o[a++]),h=c?l(p).concat(c(p)):l(p),f=h.length,m=0;f>m;)u.call(p,d=h[m++])&&(i[d]=p[d]);return i}:Object.assign},function(e,exports,t){var n=t(41).getDesc,r=t(221),i=t(140),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,i){try{i=t(142)(Function.call,n(Object.prototype,"__proto__").set,2),i(e,[]),r=!(e instanceof Array)}catch(e){r=!0}return function(e,t){return o(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:o}},function(e,exports,t){var n=t(227),r=t(143);e.exports=function(e){return function(t,i){var o,s,a=r(t)+"",l=n(i),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):(o-55296<<10)+(s-56320)+65536)}}},function(e,exports,t){var n=t(227),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,exports,t){var n=t(530),r=t(52)("iterator"),i=t(88);e.exports=t(61).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||i[n(e)]}},function(e,exports,t){"use strict";var n=t(142),r=t(65),i=t(228),o=t(535),s=t(533),a=t(543),l=t(544);r(r.S+r.F*!t(537)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,c,u,d=i(e),p="function"==typeof this?this:Array,h=arguments,f=h.length,m=f>1?h[1]:void 0,_=void 0!==m,g=0,v=l(d);if(_&&(m=n(m,f>2?h[2]:void 0,2)),void 0==v||p==Array&&s(v))for(t=a(d.length),r=new p(t);t>g;g++)r[g]=_?m(d[g],g):d[g];else for(u=v.call(d),r=new p;!(c=u.next()).done;g++)r[g]=_?o(u,m,[c.value,g],!0):c.value;return r.length=g,r}})},function(e,exports,t){"use strict";var n=t(529),r=t(538),i=t(88),o=t(89);e.exports=t(222)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,exports,t){var n=t(65);n(n.S+n.F,"Object",{assign:t(540)})},function(e,exports,t){var n=t(65);n(n.S,"Object",{setPrototypeOf:t(541).set})},function(e,exports){},function(e,exports,t){"use strict";var $=t(41),n=t(109),r=t(145),i=t(219),o=t(65),s=t(225),a=t(144),l=t(226),c=t(148),u=t(229),d=t(52),p=t(539),h=t(532),f=t(531),m=t(534),_=t(140),g=t(89),v=t(147),y=$.getDesc,b=$.setDesc,w=$.create,x=h.get,k=n.Symbol,A=n.JSON,C=A&&A.stringify,E=!1,S=d("_hidden"),j=$.isEnum,M=l("symbol-registry"),T=l("symbols"),O="function"==typeof k,N=Object.prototype,I=i&&a(function(){return 7!=w(b({},"a",{get:function(){return b(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=y(N,t);r&&delete N[t],b(e,t,n),r&&e!==N&&b(N,t,r)}:b,D=function(e){var t=T[e]=w(k.prototype);return t._k=e,i&&E&&I(N,e,{configurable:!0,set:function(t){r(this,S)&&r(this[S],e)&&(this[S][e]=!1),I(this,e,v(1,t))}}),t},L=function(e){return"symbol"==typeof e},z=function(e,t,n){return n&&r(T,t)?(n.enumerable?(r(e,S)&&e[S][t]&&(e[S][t]=!1),n=w(n,{enumerable:v(0,!1)})):(r(e,S)||b(e,S,v(1,{})),e[S][t]=!0),I(e,t,n)):b(e,t,n)},R=function(e,t){_(e);for(var n,r=f(t=g(t)),i=0,o=r.length;o>i;)z(e,n=r[i++],t[n]);return e},P=function(e,t){return void 0===t?w(e):R(w(e),t)},B=function(e){var t=j.call(this,e);return!(t||!r(this,e)||!r(T,e)||r(this,S)&&this[S][e])||t},q=function(e,t){var n=y(e=g(e),t);return!n||!r(T,t)||r(e,S)&&e[S][t]||(n.enumerable=!0),n},F=function(e){for(var t,n=x(g(e)),i=[],o=0;n.length>o;)r(T,t=n[o++])||t==S||i.push(t);return i},U=function(e){for(var t,n=x(g(e)),i=[],o=0;n.length>o;)r(T,t=n[o++])&&i.push(T[t]);return i},W=function(e){if(void 0!==e&&!L(e)){for(var t,n,r=[e],i=1,o=arguments;o.length>i;)r.push(o[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&m(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!L(t))return t}),r[1]=t,C.apply(A,r)}},H=a(function(){var e=k();return"[null]"!=C([e])||"{}"!=C({a:e})||"{}"!=C(Object(e))});O||(k=function(){if(L(this))throw TypeError("Symbol is not a constructor");return D(u(arguments.length>0?arguments[0]:void 0))},s(k.prototype,"toString",function(){return this._k}),L=function(e){return e instanceof k},$.create=P,$.isEnum=B,$.getDesc=q,$.setDesc=z,$.setDescs=R,$.getNames=h.get=F,$.getSymbols=U,i&&!t(223)&&s(N,"propertyIsEnumerable",B,!0));var K={for:function(e){return r(M,e+="")?M[e]:M[e]=k(e)},keyFor:function(e){return p(M,e)},useSetter:function(){E=!0},useSimple:function(){E=!1}};$.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=d(e);K[e]=O?t:D(t)}),E=!0,o(o.G+o.W,{Symbol:k}),o(o.S,"Symbol",K),o(o.S+o.F*!O,"Object",{create:P,defineProperty:z,defineProperties:R,getOwnPropertyDescriptor:q,getOwnPropertyNames:F,getOwnPropertySymbols:U}),A&&o(o.S+o.F*(!O||H),"JSON",{stringify:W}),c(k,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(e,exports,t){var n=t(65),r=t(224)(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},function(e,exports,t){var n=t(65),r=t(224)(!1);n(n.S,"Object",{values:function(e){return r(e)}})},function(e,exports,t){t(546);var n=t(88);n.NodeList=n.HTMLCollection=n.Array},function(e,exports){function t(e){return e<0?Math.ceil(e):Math.floor(e)}function n(e,t){var n=m.month(e),r=n+t;for(e=m.month(e,r);r<0;)r=12+r;return m.month(e)!==r%12&&(e=m.date(e,0)),e}function r(e){return function(t,n){return void 0===n?t["get"+e]():(t=new Date(t),t["set"+e](n),t)}}function i(e){return function(t,n,r){return e(+m.startOf(t,r),+m.startOf(n,r))}}var o="milliseconds",s="seconds",a="minutes",l="hours",c="day",u="week",d="month",p="year",h="decade",f="century",m=e.exports={add:function(e,t,r){switch(e=new Date(e),r){case o:case s:case a:case l:case p:return m[r](e,m[r](e)+t);case c:return m.date(e,m.date(e)+t);case u:return m.date(e,m.date(e)+7*t);case d:return n(e,t);case h:return m.year(e,m.year(e)+10*t);case f:return m.year(e,m.year(e)+100*t)}throw new TypeError('Invalid units: "'+r+'"')},subtract:function(e,t,n){return m.add(e,-t,n)},startOf:function(e,t,n){switch(e=new Date(e),t){case"century":case"decade":case"year":e=m.month(e,0);case"month":e=m.date(e,1);case"week":case"day":e=m.hours(e,0);case"hours":e=m.minutes(e,0);case"minutes":e=m.seconds(e,0);case"seconds":e=m.milliseconds(e,0)}return t===h&&(e=m.subtract(e,m.year(e)%10,"year")),t===f&&(e=m.subtract(e,m.year(e)%100,"year")),t===u&&(e=m.weekday(e,0,n)),e},endOf:function(e,t,n){return e=new Date(e),e=m.startOf(e,t,n),e=m.add(e,1,t),e=m.subtract(e,1,o)},eq:i(function(e,t){return e===t}),neq:i(function(e,t){return e!==t}),gt:i(function(e,t){return e>t}),gte:i(function(e,t){return e>=t}),lt:i(function(e,t){return e<t}),lte:i(function(e,t){return e<=t}),min:function(){return new Date(Math.min.apply(Math,arguments))},max:function(){return new Date(Math.max.apply(Math,arguments))},inRange:function(e,t,n,r){return r=r||"day",(!t||m.gte(e,t,r))&&(!n||m.lte(e,n,r))},milliseconds:r("Milliseconds"),seconds:r("Seconds"),minutes:r("Minutes"),hours:r("Hours"),day:r("Day"),date:r("Date"),month:r("Month"),year:r("FullYear"),decade:function(e,t){return void 0===t?m.year(m.startOf(e,h)):m.add(e,t+10,p)},century:function(e,t){return void 0===t?m.year(m.startOf(e,f)):m.add(e,t+100,p)},weekday:function(e,t,n){var r=(m.day(e)+7-(n||0))%7;return void 0===t?r:m.add(e,t-r,c)},diff:function(e,n,r,i){var _,g,v;switch(r){case o:case s:case a:case l:case c:case u:_=n.getTime()-e.getTime();break;case d:case p:case h:case f:_=12*(m.year(n)-m.year(e))+m.month(n)-m.month(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case o:g=1;break;case s:g=1e3;break;case a:g=6e4;break;case l:g=36e5;break;case c:g=864e5;break;case u:g=6048e5;break;case d:g=1;break;case p:g=12;break;case h:g=120;break;case f:g=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return v=_/g,i?v:t(v)}}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){e.classList?e.classList.add(t):(0,o.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(231),o=n(i);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasClass=exports.removeClass=exports.addClass=void 0;var r=t(555),i=n(r),o=t(557),s=n(o),a=t(231),l=n(a);exports.addClass=i.default,exports.removeClass=s.default,exports.hasClass=l.default,exports.default={addClass:i.default,removeClass:s.default,hasClass:l.default}},function(e,exports){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return function(n){var r=n.currentTarget,i=n.target,s=(0,a.default)(r,e);s.some(function(e){return(0,o.default)(e,i)})&&t.call(this,n)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(77),o=n(i),s=t(563),a=n(s);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.listen=exports.filter=exports.off=exports.on=void 0;var r=t(90),i=n(r),o=t(110),s=n(o),a=t(558),l=n(a),c=t(560),u=n(c);exports.on=i.default,exports.off=s.default,exports.filter=l.default,exports.listen=u.default,exports.default={on:i.default,off:s.default,filter:l.default,listen:u.default}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(54),i=n(r),o=t(90),s=n(o),a=t(110),l=n(a),c=function(){};i.default&&(c=function(e,t,n,r){return(0,s.default)(e,t,n,r),function(){(0,l.default)(e,t,n,r)}}),exports.default=c,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.nodeName&&e.nodeName.toLowerCase()}function i(e){for(var t=(0,s.default)(e),n=e&&e.offsetParent;n&&"html"!==r(e)&&"static"===(0,l.default)(n,"position");)n=n.offsetParent;return n||t.documentElement}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var o=t(76),s=n(o),a=t(53),l=n(a);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.nodeName&&e.nodeName.toLowerCase()}function i(e,t){var n,i={top:0,left:0};return"fixed"===(0,m.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,c.default)(e),n=(0,a.default)(e),"html"!==r(t)&&(i=(0,a.default)(t)),i.top+=parseInt((0,m.default)(t,"borderTopWidth"),10)-(0,d.default)(t)||0,i.left+=parseInt((0,m.default)(t,"borderLeftWidth"),10)-(0,h.default)(t)||0),o({},n,{top:n.top-i.top-(parseInt((0,m.default)(e,"marginTop"),10)||0),left:n.left-i.left-(parseInt((0,m.default)(e,"marginLeft"),10)||0)})}Object.defineProperty(exports,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.default=i;var s=t(91),a=n(s),l=t(561),c=n(l),u=t(150),d=n(u),p=t(564),h=n(p),f=t(53),m=n(f);e.exports=exports.default},function(e,exports){"use strict";function t(e,t){var i,o="#"===t[0],s="."===t[0],a=o||s?t.slice(1):t,l=n.test(a);return l?o?(e=e.getElementById?e:document,(i=e.getElementById(a))?[i]:[]):r(e.getElementsByClassName&&s?e.getElementsByClassName(a):e.getElementsByTagName(t)):r(e.querySelectorAll(t))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var n=/^[\w-]*$/,r=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=(0,o.default)(e);return void 0===t?n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft:void(n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(66),o=n(i);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,o.default)(e,"position"),n="absolute"===t,r=e.ownerDocument;if("fixed"===t)return r||document;for(;(e=e.parentNode)&&9!==e.nodeType;){var i=n&&"static"===(0,o.default)(e,"position"),s=(0,o.default)(e,"overflow")+(0,o.default)(e,"overflow-y")+(0,o.default)(e,"overflow-x");if(!i&&/(auto|scroll)/.test(s)&&(0,a.default)(e)<e.scrollHeight)return e}return document}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(53),o=n(i),s=t(111),a=n(s);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;t=(0,o.default)(t),"float"==t&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),a.test(r)&&!s.test(t)){var i=n.left,l=e.runtimeStyle,c=l&&l.left;c&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,c&&(l.left=c)}return r}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(152),o=n(i),s=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=exports.default},function(e,exports){"use strict";function t(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,e.exports=exports.default},function(e,exports){"use strict";function t(e){return!(!e||!n.test(e))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=exports.default},function(e,exports){"use strict";function t(e){return e.replace(n,function(e,t){return t.toUpperCase()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var n=/-(.)/g;e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,o.default)(e).replace(s,"-ms-")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(233),o=n(i),s=/^ms-/;e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-d)),r=setTimeout(e,n);return d=t,r}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(54),o=n(i),s=["","webkit","moz","o","ms"],a="clearTimeout",l=r,c=void 0,u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o.default&&s.some(function(e){var t=u(e,"request");if(t in window)return a=u(e,"cancel"),l=function(e){return window[t](e)}});var d=(new Date).getTime();c=function(e){return l(e)},c.cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)},exports.default=c,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=(0,o.default)(e),r={top:0,left:0},i=void 0,s=void 0,l=void 0,u=void 0,p=void 0,f=void 0,_=void 0;if(e){i=t||(0,c.default)(e),u=(0,m.default)(i),s=(0,d.default)(i),f=(0,a.default)(i,!0),u=(0,m.default)(i),u||(r=(0,o.default)(i)),n={top:n.top-r.top,left:n.left-r.left,height:n.height,width:n.width},p=n.height,l=n.top+(u?0:s),_=l+p,s=s>l?l:_>s+f?_-f:s;var g=(0,h.default)(function(){return(0,d.default)(i,s)});return function(){return h.default.cancel(g)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var i=t(91),o=n(i),s=t(111),a=n(s),l=t(565),c=n(l),u=t(150),d=n(u),p=t(571),h=n(p),f=t(66),m=n(f);e.exports=exports.default},function(e,exports){"use strict";function t(e){return e.replace(n,function(e,t){return t.toUpperCase()})}var n=/-(.)/g;e.exports=t},function(e,exports,t){"use strict";function n(e){return r(e.replace(i,"ms-"))}var r=t(573),i=/^-ms-/;e.exports=n},function(e,exports,t){"use strict";function n(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var r=t(583);e.exports=n},function(e,exports,t){"use strict";function n(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?o(!1):void 0,"number"!=typeof t?o(!1):void 0,0===t||t-1 in e?void 0:o(!1),"function"==typeof e.callee?o(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():n(e):[e]}var o=t(14);e.exports=i},function(e,exports,t){"use strict";function n(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var r=l;l?void 0:a(!1);var i=n(e),c=i&&s(i);if(c){r.innerHTML=c[1]+e+c[2];for(var u=c[0];u--;)r=r.lastChild}else r.innerHTML=e;var d=r.getElementsByTagName("script");d.length&&(t?void 0:a(!1),o(d).forEach(t));for(var p=Array.from(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return p}var i=t(35),o=t(576),s=t(578),a=t(14),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=r},function(e,exports,t){"use strict";function n(e){return o?void 0:i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",s[e]=!o.firstChild),s[e]?d[e]:null}var r=t(35),i=t(14),o=r.canUseDOM?document.createElement("div"):null,s={},a=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(e){d[e]=u,s[e]=!0}),e.exports=n},function(e,exports){"use strict";function t(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=t},function(e,exports){"use strict";function t(e){return e.replace(n,"-$1").toLowerCase()}var n=/([A-Z])/g;e.exports=t},function(e,exports,t){"use strict";function n(e){return r(e).replace(i,"-ms-")}var r=t(580),i=/^ms-/;e.exports=n},function(e,exports){"use strict";function t(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,exports,t){"use strict";function n(e){return r(e)&&3==e.nodeType}var r=t(582);e.exports=n},function(e,exports){"use strict";function t(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=t},function(e,exports){"use strict";var t={childContextTypes:!0,contextTypes:!0,
defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,i,o){if("string"!=typeof i){var s=Object.getOwnPropertyNames(i);r&&(s=s.concat(Object.getOwnPropertySymbols(i)));for(var a=0;a<s.length;++a)if(!(t[s[a]]||n[s[a]]||o&&o[s[a]]))try{e[s[a]]=i[s[a]]}catch(e){}}return e}},function(e,exports){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,exports,t){var n=t(155),r=t(92),i=n(r,"Map");e.exports=i},function(e,exports,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var r=t(1178),i=t(1179),o=t(1180),s=t(1181),a=t(1182);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=o,n.prototype.has=s,n.prototype.set=a,e.exports=n},function(e,exports,t){function n(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}var r=t(1134),i=t(1135),o=t(316),s=t(112),a=t(1207);e.exports=n},function(e,exports,t){function n(e){if("string"==typeof e)return e;if(o(e))return i(e,n)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}var r=t(132),i=t(827),o=t(112),s=t(241),a=1/0,l=r?r.prototype:void 0,c=l?l.toString:void 0;e.exports=n},function(e,exports,t){var n=t(314),r=n(Object.getPrototypeOf,Object);e.exports=r},function(e,exports,t){function n(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}var r=t(132),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=n},function(e,exports){function t(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=t},function(e,exports,t){function n(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}var r=t(112),i=t(241),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},function(e,exports){function t(e){return r.call(e)}var n=Object.prototype,r=n.toString;e.exports=t},function(e,exports){function t(e,t){return e===t||e!==e&&t!==t}e.exports=t},function(e,exports,t){var n=t(1126),r=t(134),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=a},function(e,exports){function t(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=t},function(e,exports,t){function n(e){return null==e?"":r(e)}var r=t(590);e.exports=n},function(e,exports,t){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}function n(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function r(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):RegExp(e,t)}}function l(){}function c(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function u(e,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=c({},u.defaults,n||{});var s,a,l=n.highlight,d=0;try{s=t.lex(e,n)}catch(e){return r(e)}a=s.length;var p=function(e){if(e)return n.highlight=l,r(e);var t;try{t=i.parse(s,n)}catch(t){e=t}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return p();if(delete n.highlight,!a)return p();for(;d<s.length;d++)!function(e){return"code"!==e.type?--a||p():l(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--a||p():(e.text=n,e.escaped=!0,void(--a||p()))})}(s[d])}else try{return n&&(n=c({},u.defaults,n)),i.parse(t.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+o(e.message+"",!0)+"</pre>";throw e}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=a(d.item,"gm")(/bull/g,d.bullet)(),d.list=a(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=a(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=a(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=a(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=c({},d),d.gfm=c({},d.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),d.gfm.paragraph=a(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=c({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=d,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){for(var r,i,o,s,a,l,c,u,p,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),r=!1,p=o.length,u=0;u<p;u++)l=o[u],c=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==p-1&&(a=d.bullet.exec(o[u+1])[0],s===a||s.length>1&&a.length>1||(e=o.slice(u+1).join("\n")+e,u=p-1)),i=r||/\n\n(?!\s*$)/.test(l),u!==p-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=a(p.link)("inside",p._inside)("href",p._href)(),p.reflink=a(p.reflink)("inside",p._inside)(),p.normal=c({},p),p.pedantic=c({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=c({},p.normal,{escape:a(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=c({},p.gfm,{br:a(p.br)("{2,}","*")(),text:a(p.gfm.text)("{2,}","*")()}),n.rules=p,n.output=function(e,t,r){var i=new n(t,r);return i.output(e)},n.prototype.output=function(e){for(var t,n,r,i,s="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),s+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=o(i[1]),r=n),s+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):o(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,s+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),s+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),s+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),s+=this.renderer.codespan(o(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),s+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),s+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),s+=this.renderer.text(o(this.smartypants(i[0])));else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=o(i[1]),r=n,s+=this.renderer.link(r,null,n);return s},n.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(s(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},r.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},i.parse=function(e,t,n){var r=new i(t,n);return r.parse(e)},i.prototype.parse=function(e){this.inline=new n(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i,o="",s="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});s+=this.renderer.tablerow(n)}return this.renderer.table(o,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,u.options=u.setOptions=function(e){return c(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},u.Parser=i,u.parser=i.parse,u.Renderer=r,u.Lexer=t,u.lexer=t.lex,u.InlineLexer=n,u.inlineLexer=n.output,u.parse=u,e.exports=u}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(exports,function(){return this}())},function(e,exports,t){!function(){var n=t(204),r=t(105).utf8,i=t(421),o=t(105).bin,s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=""+e);for(var a=n.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,d=-1732584194,p=271733878,h=0;h<a.length;h++)a[h]=16711935&(a[h]<<8|a[h]>>>24)|4278255360&(a[h]<<24|a[h]>>>8);a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var f=s._ff,m=s._gg,_=s._hh,g=s._ii,h=0;h<a.length;h+=16){var v=c,y=u,b=d,w=p;c=f(c,u,d,p,a[h+0],7,-680876936),p=f(p,c,u,d,a[h+1],12,-389564586),d=f(d,p,c,u,a[h+2],17,606105819),u=f(u,d,p,c,a[h+3],22,-1044525330),c=f(c,u,d,p,a[h+4],7,-176418897),p=f(p,c,u,d,a[h+5],12,1200080426),d=f(d,p,c,u,a[h+6],17,-1473231341),u=f(u,d,p,c,a[h+7],22,-45705983),c=f(c,u,d,p,a[h+8],7,1770035416),p=f(p,c,u,d,a[h+9],12,-1958414417),d=f(d,p,c,u,a[h+10],17,-42063),u=f(u,d,p,c,a[h+11],22,-1990404162),c=f(c,u,d,p,a[h+12],7,1804603682),p=f(p,c,u,d,a[h+13],12,-40341101),d=f(d,p,c,u,a[h+14],17,-1502002290),u=f(u,d,p,c,a[h+15],22,1236535329),c=m(c,u,d,p,a[h+1],5,-165796510),p=m(p,c,u,d,a[h+6],9,-1069501632),d=m(d,p,c,u,a[h+11],14,643717713),u=m(u,d,p,c,a[h+0],20,-373897302),c=m(c,u,d,p,a[h+5],5,-701558691),p=m(p,c,u,d,a[h+10],9,38016083),d=m(d,p,c,u,a[h+15],14,-660478335),u=m(u,d,p,c,a[h+4],20,-405537848),c=m(c,u,d,p,a[h+9],5,568446438),p=m(p,c,u,d,a[h+14],9,-1019803690),d=m(d,p,c,u,a[h+3],14,-187363961),u=m(u,d,p,c,a[h+8],20,1163531501),c=m(c,u,d,p,a[h+13],5,-1444681467),p=m(p,c,u,d,a[h+2],9,-51403784),d=m(d,p,c,u,a[h+7],14,1735328473),u=m(u,d,p,c,a[h+12],20,-1926607734),c=_(c,u,d,p,a[h+5],4,-378558),p=_(p,c,u,d,a[h+8],11,-2022574463),d=_(d,p,c,u,a[h+11],16,1839030562),u=_(u,d,p,c,a[h+14],23,-35309556),c=_(c,u,d,p,a[h+1],4,-1530992060),p=_(p,c,u,d,a[h+4],11,1272893353),d=_(d,p,c,u,a[h+7],16,-155497632),u=_(u,d,p,c,a[h+10],23,-1094730640),c=_(c,u,d,p,a[h+13],4,681279174),p=_(p,c,u,d,a[h+0],11,-358537222),d=_(d,p,c,u,a[h+3],16,-722521979),u=_(u,d,p,c,a[h+6],23,76029189),c=_(c,u,d,p,a[h+9],4,-640364487),p=_(p,c,u,d,a[h+12],11,-421815835),d=_(d,p,c,u,a[h+15],16,530742520),u=_(u,d,p,c,a[h+2],23,-995338651),c=g(c,u,d,p,a[h+0],6,-198630844),p=g(p,c,u,d,a[h+7],10,1126891415),d=g(d,p,c,u,a[h+14],15,-1416354905),u=g(u,d,p,c,a[h+5],21,-57434055),c=g(c,u,d,p,a[h+12],6,1700485571),p=g(p,c,u,d,a[h+3],10,-1894986606),d=g(d,p,c,u,a[h+10],15,-1051523),u=g(u,d,p,c,a[h+1],21,-2054922799),c=g(c,u,d,p,a[h+8],6,1873313359),p=g(p,c,u,d,a[h+15],10,-30611744),d=g(d,p,c,u,a[h+6],15,-1560198380),u=g(u,d,p,c,a[h+13],21,1309151649),c=g(c,u,d,p,a[h+4],6,-145523070),p=g(p,c,u,d,a[h+11],10,-1120210379),d=g(d,p,c,u,a[h+2],15,718787259),u=g(u,d,p,c,a[h+9],21,-343485551),c=c+v>>>0,u=u+y>>>0,d=d+b>>>0,p=p+w>>>0}return n.endian([c,u,d,p])};s._ff=function(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._gg=function(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._hh=function(e,t,n,r,i,o,s){var a=e+(t^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._ii=function(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(void 0===e||null===e)throw Error("Illegal argument "+e);var r=n.wordsToBytes(s(e,t));return t&&t.asBytes?r:t&&t.asString?o.bytesToString(r):n.bytesToHex(r)}}()},function(e,exports,t){"use strict";function n(e,t,n,r,i){}e.exports=n},function(e,exports,t){"use strict";var n=t(42),r=t(14);e.exports=function(){function e(){r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return i.checkPropTypes=n,i.PropTypes=i,i}},function(e,exports,t){"use strict";var n=t(42),r=t(14),i=t(18),o=t(605),s=t(602);e.exports=function(e,t){function a(e){var t=e&&(S&&e[S]||e[j]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function u(e){function n(n,i,s,a,l,u,d){if(a=a||M,u=u||s,d!==o)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==i[s]?n?new c(null===i[s]?"The "+l+" `"+u+"` is marked as required "+("in `"+a+"`, but its value is `null`."):"The "+l+" `"+u+"` is marked as required in "+("`"+a+"`, but its value is `undefined`.")):null:e(i,s,a,l,u)}var i=n.bind(null,!1);return i.isRequired=n.bind(null,!0),i}function d(e){function t(t,n,r,i,o,s){var a=t[n],l=k(a);if(l!==e){var u=A(a);return new c("Invalid "+i+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return u(t)}function p(){return u(n.thatReturnsNull)}function h(e){function t(t,n,r,i,s){if("function"!=typeof e)return new c("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var l=k(a);return new c("Invalid "+i+" `"+s+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<a.length;u++){var d=e(a,u,r,i,s+"["+u+"]",o);if(d instanceof Error)return d}return null}return u(t)}function f(){function t(t,n,r,i,o){var s=t[n];if(!e(s)){var a=k(s);return new c("Invalid "+i+" `"+o+"` of type "+("`"+a+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return u(t)}function m(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var s=e.name||M,a=E(t[n]);return new c("Invalid "+i+" `"+o+"` of type "+("`"+a+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return u(t)}function _(e){function t(t,n,r,i,o){for(var s=t[n],a=0;a<e.length;a++)if(l(s,e[a]))return null;var u=JSON.stringify(e);return new c("Invalid "+i+" `"+o+"` of value `"+s+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return Array.isArray(e)?u(t):n.thatReturnsNull}function g(e){function t(t,n,r,i,s){if("function"!=typeof e)return new c("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],l=k(a);if("object"!==l)return new c("Invalid "+i+" `"+s+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an object."));for(var u in a)if(a.hasOwnProperty(u)){var d=e(a,u,r,i,s+"."+u,o);if(d instanceof Error)return d}return null}return u(t)}function v(e){function t(t,n,r,i,s){for(var a=0;a<e.length;a++){var l=e[a];if(null==l(t,n,r,i,s,o))return null}return new c("Invalid "+i+" `"+s+"` supplied to "+("`"+r+"`."))}if(!Array.isArray(e))return n.thatReturnsNull;for(var r=0;r<e.length;r++){var s=e[r];if("function"!=typeof s)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",C(s),r),n.thatReturnsNull}return u(t)}function y(){function e(e,t,n,r,i){return w(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return u(e)}function b(e){function t(t,n,r,i,s){var a=t[n],l=k(a);if("object"!==l)return new c("Invalid "+i+" `"+s+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `object`."));for(var u in e){var d=e[u];if(d){var p=d(a,u,r,i,s+"."+u,o);if(p)return p}}return null}return u(t)}function w(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var n=a(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!w(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!w(o[1]))return!1}return!0;default:return!1}}function x(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function k(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":x(t,e)?"symbol":t}function A(e){if(void 0===e||null===e)return""+e;var t=k(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function C(e){var t=A(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function E(e){return e.constructor&&e.constructor.name?e.constructor.name:M}var S="function"==typeof Symbol&&Symbol.iterator,j="@@iterator",M="<<anonymous>>",T={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:p(),arrayOf:h,element:f(),instanceOf:m,node:y(),objectOf:g,oneOf:_,oneOfType:v,shape:b};return c.prototype=Error.prototype,T.checkPropTypes=s,T.PropTypes=T,T}},function(e,exports){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(1),p=n(d),h=t(259),f=n(h),m=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return p.default.createElement(f.default,(0,i.default)({},this.props,{accordion:!0}),this.props.children)},t}(p.default.Component);exports.default=m,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(75),i=n(r),o=t(7),s=n(o),a=t(8),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(1),v=n(g),y=t(11),b=n(y),w=t(10),x=t(34),k={onDismiss:b.default.func,closeLabel:b.default.string},A={closeLabel:"Close alert"},C=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.renderDismissButton=function(e){return v.default.createElement("button",{type:"button",className:"close",onClick:e,"aria-hidden":"true",tabIndex:"-1"},v.default.createElement("span",null,"×"))},t.prototype.renderSrOnlyDismissButton=function(e,t){return v.default.createElement("button",{type:"button",className:"close sr-only",onClick:e},t)},t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,r=t.closeLabel,i=t.className,o=t.children,a=(0,l.default)(t,["onDismiss","closeLabel","className","children"]),c=(0,w.splitBsProps)(a),u=c[0],d=c[1],p=!!n,h=(0,s.default)({},(0,w.getClassSet)(u),(e={},e[(0,w.prefix)(u,"dismissable")]=p,e));return v.default.createElement("div",(0,s.default)({},d,{role:"alert",className:(0,_.default)(i,h)}),p&&this.renderDismissButton(n),o,p&&this.renderSrOnlyDismissButton(n,r))},t}(v.default.Component);C.propTypes=k,C.defaultProps=A,exports.default=(0,w.bsStyles)((0,i.default)(x.State),x.State.INFO,(0,w.bsClass)("alert",C)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b={pullRight:v.default.bool},w={pullRight:!1},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.hasContent=function(e){var t=!1;return _.default.Children.forEach(e,function(e){t||(e||0===e)&&(t=!0)}),t},t.prototype.render=function(){var e=this.props,t=e.pullRight,n=e.className,r=e.children,o=(0,s.default)(e,["pullRight","className","children"]),a=(0,y.splitBsProps)(o),l=a[0],c=a[1],u=(0,i.default)({},(0,y.getClassSet)(l),{"pull-right":t,hidden:!this.hasContent(r)});return _.default.createElement("span",(0,i.default)({},c,{className:(0,f.default)(n,u)}),r)},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("badge",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(243),v=n(g),y=t(10),b=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,y.splitBsProps)(n),o=r[0],a=r[1],l=(0,y.getClassSet)(o);return _.default.createElement("ol",(0,i.default)({},a,{role:"navigation","aria-label":"breadcrumbs",className:(0,f.default)(t,l)}))},t}(_.default.Component);b.Item=v.default,exports.default=(0,y.bsClass)("breadcrumb",b),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(93),v=n(g),y=t(10),b=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,y.splitBsProps)(n),o=r[0],a=r[1],l=(0,y.getClassSet)(o);return _.default.createElement("div",(0,i.default)({},a,{role:"toolbar",className:(0,f.default)(t,l)}))},t}(_.default.Component);exports.default=(0,y.bsClass)("btn-toolbar",(0,y.bsSizes)(v.default.SIZES,b)),
e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(612),b=n(y),w=t(245),x=n(w),k=t(158),A=n(k),C=t(50),E=n(C),S=t(10),j=t(38),M=n(j),T={slide:v.default.bool,indicators:v.default.bool,interval:v.default.number,controls:v.default.bool,pauseOnHover:v.default.bool,wrap:v.default.bool,onSelect:v.default.func,onSlideEnd:v.default.func,activeIndex:v.default.number,defaultActiveIndex:v.default.number,direction:v.default.oneOf(["prev","next"]),prevIcon:v.default.node,prevLabel:v.default.string,nextIcon:v.default.node,nextLabel:v.default.string},O={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:_.default.createElement(A.default,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:_.default.createElement(A.default,{glyph:"chevron-right"}),nextLabel:"Next"},N=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));i.handleMouseOver=i.handleMouseOver.bind(i),i.handleMouseOut=i.handleMouseOut.bind(i),i.handlePrev=i.handlePrev.bind(i),i.handleNext=i.handleNext.bind(i),i.handleItemAnimateOutEnd=i.handleItemAnimateOutEnd.bind(i);var o=n.defaultActiveIndex;return i.state={activeIndex:null!=o?o:0,previousActiveIndex:null,direction:null},i.isUnmounted=!1,i}return(0,p.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)}))},t.prototype.componentDidMount=function(){this.waitForNext()},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},t.prototype.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},t.prototype.handleMouseOut=function(){this.isPaused&&this.play()},t.prototype.handlePrev=function(e){var t=this.getActiveIndex()-1;if(t<0){if(!this.props.wrap)return;t=M.default.count(this.props.children)-1}this.select(t,e,"prev")},t.prototype.handleNext=function(e){var t=this.getActiveIndex()+1,n=M.default.count(this.props.children);if(t>n-1){if(!this.props.wrap)return;t=0}this.select(t,e,"next")},t.prototype.handleItemAnimateOutEnd=function(){var e=this;this.setState({previousActiveIndex:null,direction:null},function(){e.waitForNext(),e.props.onSlideEnd&&e.props.onSlideEnd()})},t.prototype.getActiveIndex=function(){var e=this.props.activeIndex;return null!=e?e:this.state.activeIndex},t.prototype.getDirection=function(e,t){return e===t?null:e>t?"prev":"next"},t.prototype.select=function(e,t,n){if(clearTimeout(this.timeout),!this.isUnmounted){var r=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(r,e);var i=this.props.onSelect;if(i&&(i.length>1?(t?(t.persist(),t.direction=n):t={direction:n},i(e,t)):i(e)),null==this.props.activeIndex&&e!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:r,direction:n})}}},t.prototype.waitForNext=function(){var e=this.props,t=e.slide,n=e.interval,r=e.activeIndex;!this.isPaused&&t&&n&&null==r&&(this.timeout=setTimeout(this.handleNext,n))},t.prototype.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},t.prototype.play=function(){this.isPaused=!1,this.waitForNext()},t.prototype.renderIndicators=function(e,t,n){var r=this,i=[];return M.default.forEach(e,function(e,n){i.push(_.default.createElement("li",{key:n,className:n===t?"active":null,onClick:function(e){return r.select(n,e)}})," ")}),_.default.createElement("ol",{className:(0,S.prefix)(n,"indicators")},i)},t.prototype.renderControls=function(e){var t=e.wrap,n=e.children,r=e.activeIndex,i=e.prevIcon,o=e.nextIcon,s=e.bsProps,a=e.prevLabel,l=e.nextLabel,c=(0,S.prefix)(s,"control"),u=M.default.count(n);return[(t||0!==r)&&_.default.createElement(E.default,{key:"prev",className:(0,f.default)(c,"left"),onClick:this.handlePrev},i,a&&_.default.createElement("span",{className:"sr-only"},a)),(t||r!==u-1)&&_.default.createElement(E.default,{key:"next",className:(0,f.default)(c,"right"),onClick:this.handleNext},o,l&&_.default.createElement("span",{className:"sr-only"},l))]},t.prototype.render=function(){var e=this,t=this.props,n=t.slide,r=t.indicators,o=t.controls,a=t.wrap,l=t.prevIcon,c=t.prevLabel,u=t.nextIcon,d=t.nextLabel,p=t.className,h=t.children,g=(0,s.default)(t,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),v=this.state,y=v.previousActiveIndex,b=v.direction,w=(0,S.splitBsPropsAndOmit)(g,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),x=w[0],k=w[1],A=this.getActiveIndex(),C=(0,i.default)({},(0,S.getClassSet)(x),{slide:n});return _.default.createElement("div",(0,i.default)({},k,{className:(0,f.default)(p,C),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),r&&this.renderIndicators(h,A,x),_.default.createElement("div",{className:(0,S.prefix)(x,"inner")},M.default.map(h,function(t,r){var i=r===A,o=n&&r===y;return(0,m.cloneElement)(t,{active:i,index:r,animateOut:o,animateIn:i&&null!=y&&n,direction:b,onAnimateOutEnd:o?e.handleItemAnimateOutEnd:null})})),o&&this.renderControls({wrap:a,children:h,activeIndex:A,prevIcon:l,prevLabel:c,nextIcon:u,nextLabel:d,bsProps:x}))},t}(_.default.Component);N.propTypes=T,N.defaultProps=O,N.Caption=b.default,N.Item=x.default,exports.default=(0,S.bsClass)("carousel",N),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"div"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("carousel-caption",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(44),b=(n(y),t(10)),w={inline:v.default.bool,disabled:v.default.bool,validationState:v.default.oneOf(["success","warning","error",null]),inputRef:v.default.func},x={inline:!1,disabled:!1},k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,o=e.inputRef,a=e.className,l=e.style,c=e.children,u=(0,s.default)(e,["inline","disabled","validationState","inputRef","className","style","children"]),d=(0,b.splitBsProps)(u),p=d[0],h=d[1],m=_.default.createElement("input",(0,i.default)({},h,{ref:o,type:"checkbox",disabled:n}));if(t){var g,v=(g={},g[(0,b.prefix)(p,"inline")]=!0,g.disabled=n,g);return _.default.createElement("label",{className:(0,f.default)(a,v),style:l},m,c)}var y=(0,i.default)({},(0,b.getClassSet)(p),{disabled:n});return r&&(y["has-"+r]=!0),_.default.createElement("div",{className:(0,f.default)(a,y),style:l},_.default.createElement("label",null,m,c))},t}(_.default.Component);k.propTypes=w,k.defaultProps=x,exports.default=(0,b.bsClass)("checkbox",k),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(10),x=t(261),k=n(x),A=t(34),C={componentClass:b.default,visibleXsBlock:v.default.bool,visibleSmBlock:v.default.bool,visibleMdBlock:v.default.bool,visibleLgBlock:v.default.bool},E={componentClass:"div"},S=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,w.splitBsProps)(r),a=o[0],l=o[1],c=(0,w.getClassSet)(a);return A.DEVICE_SIZES.forEach(function(e){var t="visible"+(0,k.default)(e)+"Block";l[t]&&(c["visible-"+e+"-block"]=!0),delete l[t]}),_.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);S.propTypes=C,S.defaultProps=E,exports.default=(0,w.bsClass)("clearfix",S),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(10),x=t(34),k={componentClass:b.default,xs:v.default.number,sm:v.default.number,md:v.default.number,lg:v.default.number,xsHidden:v.default.bool,smHidden:v.default.bool,mdHidden:v.default.bool,lgHidden:v.default.bool,xsOffset:v.default.number,smOffset:v.default.number,mdOffset:v.default.number,lgOffset:v.default.number,xsPush:v.default.number,smPush:v.default.number,mdPush:v.default.number,lgPush:v.default.number,xsPull:v.default.number,smPull:v.default.number,mdPull:v.default.number,lgPull:v.default.number},A={componentClass:"div"},C=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,w.splitBsProps)(r),a=o[0],l=o[1],c=[];return x.DEVICE_SIZES.forEach(function(e){function t(t,n){var r=""+e+t,i=l[r];null!=i&&c.push((0,w.prefix)(a,""+e+n+"-"+i)),delete l[r]}t("",""),t("Offset","-offset"),t("Push","-push"),t("Pull","-pull");var n=e+"Hidden";l[n]&&c.push("hidden-"+e),delete l[n]}),_.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);C.propTypes=k,C.defaultProps=A,exports.default=(0,w.bsClass)("col",C),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(44),b=(n(y),t(10)),w={htmlFor:v.default.string,srOnly:v.default.bool},x={srOnly:!1},k={$bs_formGroup:v.default.object},A=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.htmlFor,o=void 0===r?t:r,a=n.srOnly,l=n.className,c=(0,s.default)(n,["htmlFor","srOnly","className"]),u=(0,b.splitBsProps)(c),d=u[0],p=u[1],h=(0,i.default)({},(0,b.getClassSet)(d),{"sr-only":a});return _.default.createElement("label",(0,i.default)({},p,{htmlFor:o,className:(0,f.default)(l,h)}))},t}(_.default.Component);A.propTypes=w,A.defaultProps=x,A.contextTypes=k,exports.default=(0,b.bsClass)("control-label",A),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(7),p=n(d),h=t(1),f=n(h),m=t(11),_=n(m),g=t(113),v=n(g),y=t(115),b=n(y),w=(0,p.default)({},v.default.propTypes,{bsStyle:_.default.string,bsSize:_.default.string,title:_.default.node.isRequired,noCaret:_.default.bool,children:_.default.node}),x=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,o=e.children,s=(0,i.default)(e,["bsSize","bsStyle","title","children"]),a=(0,b.default)(s,v.default.ControlledComponent),l=a[0],c=a[1];return f.default.createElement(v.default,(0,p.default)({},l,{bsSize:t,bsStyle:n}),f.default.createElement(v.default.Toggle,(0,p.default)({},c,{bsSize:t,bsStyle:n}),r),f.default.createElement(v.default.Menu,null,o))},t}(f.default.Component);x.propTypes=w,exports.default=x,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(439),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(154),v=n(g),y=t(1),b=n(y),w=t(11),x=n(w),k=t(29),A=n(k),C=t(282),E=n(C),S=t(10),j=t(32),M=n(j),T=t(38),O=n(T),N={open:x.default.bool,pullRight:x.default.bool,onClose:x.default.func,labelledBy:x.default.oneOfType([x.default.string,x.default.number]),onSelect:x.default.func,rootCloseEvent:x.default.oneOf(["click","mousedown"])},I={bsRole:"menu",pullRight:!1},D=function(e){function t(n){(0,u.default)(this,t);var r=(0,p.default)(this,e.call(this,n));return r.handleRootClose=r.handleRootClose.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return(0,f.default)(t,e),t.prototype.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case v.default.codes.down:this.focusNext(),e.preventDefault();break;case v.default.codes.up:this.focusPrevious(),e.preventDefault();break;case v.default.codes.esc:case v.default.codes.tab:this.props.onClose(e,{source:"keydown"})}},t.prototype.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},t.prototype.getFocusableMenuItems=function(){var e=A.default.findDOMNode(this);return e?(0,l.default)(e.querySelectorAll('[tabIndex="-1"]')):[]},t.prototype.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;if(0!==t.length){var r=n===t.length-1?0:n+1;t[r].focus()}},t.prototype.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;if(0!==t.length){var r=0===n?t.length-1:n-1;t[r].focus()}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.open,o=n.pullRight,a=n.labelledBy,l=n.onSelect,c=n.className,u=n.rootCloseEvent,d=n.children,p=(0,s.default)(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),h=(0,S.splitBsPropsAndOmit)(p,["onClose"]),f=h[0],m=h[1],g=(0,i.default)({},(0,S.getClassSet)(f),(e={},e[(0,S.prefix)(f,"right")]=o,e));return b.default.createElement(E.default,{disabled:!r,onRootClose:this.handleRootClose,event:u},b.default.createElement("ul",(0,i.default)({},m,{role:"menu",className:(0,_.default)(c,g),"aria-labelledby":a}),O.default.map(d,function(e){return b.default.cloneElement(e,{onKeyDown:(0,M.default)(e.props.onKeyDown,t.handleKeyDown),onSelect:(0,M.default)(e.props.onSelect,l)})})))},t}(b.default.Component);D.propTypes=N,D.defaultProps=I,exports.default=(0,S.bsClass)("dropdown-menu",D),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(10),x={horizontal:v.default.bool,inline:v.default.bool,componentClass:b.default},k={horizontal:!1,inline:!1,componentClass:"form"},A=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.inline,r=e.componentClass,o=e.className,a=(0,s.default)(e,["horizontal","inline","componentClass","className"]),l=(0,w.splitBsProps)(a),c=l[0],u=l[1],d=[];return t&&d.push((0,w.prefix)(c,"horizontal")),n&&d.push((0,w.prefix)(c,"inline")),_.default.createElement(r,(0,i.default)({},u,{className:(0,f.default)(o,d)}))},t}(_.default.Component);A.propTypes=x,A.defaultProps=k,exports.default=(0,w.bsClass)("form",A),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(44),x=(n(w),t(621)),k=n(x),A=t(622),C=n(A),E=t(10),S=t(34),j={componentClass:b.default,type:v.default.string,id:v.default.string,inputRef:v.default.func},M={componentClass:"input"},T={$bs_formGroup:v.default.object},O=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.componentClass,o=n.type,a=n.id,l=void 0===a?t:a,c=n.inputRef,u=n.className,d=n.bsSize,p=(0,s.default)(n,["componentClass","type","id","inputRef","className","bsSize"]),h=(0,E.splitBsProps)(p),m=h[0],g=h[1],v=void 0;if("file"!==o&&(v=(0,E.getClassSet)(m)),d){var y=S.SIZE_MAP[d]||d;v[(0,E.prefix)({bsClass:"input"},y)]=!0}return _.default.createElement(r,(0,i.default)({},g,{type:o,id:l,ref:c,className:(0,f.default)(u,v)}))},t}(_.default.Component);O.propTypes=j,O.defaultProps=M,O.contextTypes=T,O.Feedback=k.default,O.Static=C.default,exports.default=(0,E.bsClass)("form-control",(0,E.bsSizes)([S.Size.SMALL,S.Size.LARGE],O)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(7),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(158),b=n(y),w=t(10),x={bsRole:"feedback"},k={$bs_formGroup:v.default.object},A=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},t.prototype.renderDefaultFeedback=function(e,t,n,r){var i=this.getGlyph(e&&e.validationState);return i?_.default.createElement(b.default,(0,s.default)({},r,{glyph:i,className:(0,f.default)(t,n)})):null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=(0,i.default)(e,["className","children"]),o=(0,w.splitBsProps)(r),a=o[0],l=o[1],c=(0,w.getClassSet)(a);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,c,l);var u=_.default.Children.only(n);return _.default.cloneElement(u,(0,s.default)({},l,{className:(0,f.default)(u.props.className,t,c)}))},t}(_.default.Component);A.defaultProps=x,A.contextTypes=k,exports.default=(0,w.bsClass)("form-control-feedback",A),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"p"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("form-control-static",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b=t(34),w=t(38),x=n(w),k={controlId:v.default.string,validationState:v.default.oneOf(["success","warning","error",null])},A={$bs_formGroup:v.default.object.isRequired},C=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.controlId,n=e.validationState;return{$bs_formGroup:{controlId:t,validationState:n}}},t.prototype.hasFeedback=function(e){var t=this;return x.default.some(e,function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)})},t.prototype.render=function(){var e=this.props,t=e.validationState,n=e.className,r=e.children,o=(0,s.default)(e,["validationState","className","children"]),a=(0,y.splitBsPropsAndOmit)(o,["controlId"]),l=a[0],c=a[1],u=(0,i.default)({},(0,y.getClassSet)(l),{"has-feedback":this.hasFeedback(r)});return t&&(u["has-"+t]=!0),_.default.createElement("div",(0,i.default)({},c,{className:(0,f.default)(n,u)}),r)},t}(_.default.Component);C.propTypes=k,C.childContextTypes=A,exports.default=(0,y.bsClass)("form-group",(0,y.bsSizes)([b.Size.LARGE,b.Size.SMALL],C)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(10),v=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,g.splitBsProps)(n),o=r[0],a=r[1],l=(0,g.getClassSet)(o);return _.default.createElement("span",(0,i.default)({},a,{className:(0,f.default)(t,l)}))},t}(_.default.Component);exports.default=(0,g.bsClass)("help-block",v),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b={responsive:v.default.bool,rounded:v.default.bool,circle:v.default.bool,thumbnail:v.default.bool},w={responsive:!1,rounded:!1,circle:!1,thumbnail:!1},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.responsive,r=t.rounded,o=t.circle,a=t.thumbnail,l=t.className,c=(0,s.default)(t,["responsive","rounded","circle","thumbnail","className"]),u=(0,y.splitBsProps)(c),d=u[0],p=u[1],h=(e={},e[(0,y.prefix)(d,"responsive")]=n,e[(0,y.prefix)(d,"rounded")]=r,e[(0,y.prefix)(d,"circle")]=o,e[(0,y.prefix)(d,"thumbnail")]=a,e);return _.default.createElement("img",(0,i.default)({},p,{className:(0,f.default)(l,h)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("img",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(627),v=n(g),y=t(628),b=n(y),w=t(10),x=t(34),k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,w.splitBsProps)(n),o=r[0],a=r[1],l=(0,w.getClassSet)(o);return _.default.createElement("span",(0,i.default)({},a,{className:(0,f.default)(t,l)}))},t}(_.default.Component);k.Addon=v.default,k.Button=b.default,exports.default=(0,w.bsClass)("input-group",(0,w.bsSizes)([x.Size.LARGE,x.Size.SMALL],k)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(10),v=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,g.splitBsProps)(n),o=r[0],a=r[1],l=(0,g.getClassSet)(o);return _.default.createElement("span",(0,i.default)({},a,{className:(0,f.default)(t,l)}))},t}(_.default.Component);exports.default=(0,g.bsClass)("input-group-addon",v),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(10),v=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,g.splitBsProps)(n),o=r[0],a=r[1],l=(0,g.getClassSet)(o);return _.default.createElement("span",(0,i.default)({},a,{className:(0,f.default)(t,l)}))},t}(_.default.Component);exports.default=(0,g.bsClass)("input-group-btn",v),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(1),f=n(h),m=t(3),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"div"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return f.default.createElement(t,(0,i.default)({},l,{className:(0,_.default)(n,c)}))},t}(f.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("jumbotron",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(75),i=n(r),o=t(7),s=n(o),a=t(8),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(1),v=n(g),y=t(10),b=t(34),w=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.hasContent=function(e){var t=!1;return v.default.Children.forEach(e,function(e){t||(e||0===e)&&(t=!0)}),t},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=(0,l.default)(e,["className","children"]),i=(0,y.splitBsProps)(r),o=i[0],a=i[1],c=(0,s.default)({},(0,y.getClassSet)(o),{hidden:!this.hasContent(n)});return v.default.createElement("span",(0,s.default)({},a,{className:(0,_.default)(t,c)}),n)},t}(v.default.Component);exports.default=(0,y.bsClass)("label",(0,y.bsStyles)([].concat((0,i.default)(b.State),[b.Style.DEFAULT,b.Style.PRIMARY]),b.Style.DEFAULT,w)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e?A.default.some(e,function(e){return e.type!==w.default||e.props.href||e.props.onClick})?"div":"ul":"div"}exports.__esModule=!0;var i=t(7),o=n(i),s=t(8),a=n(s),l=t(4),c=n(l),u=t(6),d=n(u),p=t(5),h=n(p),f=t(3),m=n(f),_=t(1),g=n(_),v=t(21),y=n(v),b=t(248),w=n(b),x=t(10),k=t(38),A=n(k),C={componentClass:y.default},E=function(e){function t(){return(0,c.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,h.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.componentClass,i=void 0===n?r(t):n,s=e.className,l=(0,a.default)(e,["children","componentClass","className"]),c=(0,x.splitBsProps)(l),u=c[0],d=c[1],p=(0,x.getClassSet)(u),h="ul"===i&&A.default.every(t,function(e){return e.type===w.default});return g.default.createElement(i,(0,o.default)({},d,{className:(0,m.default)(s,p)}),h?A.default.map(t,function(e){return(0,_.cloneElement)(e,{listItem:!0})}):t)},t}(g.default.Component);E.propTypes=C,exports.default=(0,x.bsClass)("list-group",E),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"div"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("media-body",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"h4"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("media-heading",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(159),b=n(y),w=t(10),x={align:v.default.oneOf(["top","middle","bottom"])},k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=(0,s.default)(e,["align","className"]),o=(0,w.splitBsProps)(r),a=o[0],l=o[1],c=(0,w.getClassSet)(a);return t&&(c[(0,w.prefix)(b.default.defaultProps,t)]=!0),_.default.createElement("div",(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);k.propTypes=x,exports.default=(0,w.bsClass)("media-left",k),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(10),v=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,g.splitBsProps)(n),o=r[0],a=r[1],l=(0,g.getClassSet)(o);return _.default.createElement("ul",(0,i.default)({},a,{className:(0,f.default)(t,l)}))},t}(_.default.Component);exports.default=(0,g.bsClass)("media-list",v),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(10),v=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,g.splitBsProps)(n),o=r[0],a=r[1],l=(0,g.getClassSet)(o);return _.default.createElement("li",(0,i.default)({},a,{className:(0,f.default)(t,l)}))},t}(_.default.Component);exports.default=(0,g.bsClass)("media",v),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(159),b=n(y),w=t(10),x={
align:v.default.oneOf(["top","middle","bottom"])},k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=(0,s.default)(e,["align","className"]),o=(0,w.splitBsProps)(r),a=o[0],l=o[1],c=(0,w.getClassSet)(a);return t&&(c[(0,w.prefix)(b.default.defaultProps,t)]=!0),_.default.createElement("div",(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);k.propTypes=x,exports.default=(0,w.bsClass)("media-right",k),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(121),b=n(y),w=t(50),x=n(w),k=t(10),A=t(32),C=n(A),E={active:v.default.bool,disabled:v.default.bool,divider:(0,b.default)(v.default.bool,function(e){var t=e.divider,n=e.children;return t&&n?Error("Children will not be rendered for dividers"):null}),eventKey:v.default.any,header:v.default.bool,href:v.default.string,onClick:v.default.func,onSelect:v.default.func},S={divider:!1,disabled:!1,header:!1},j=function(e){function t(n,r){(0,l.default)(this,t);var i=(0,u.default)(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,p.default)(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.href,r=t.disabled,i=t.onSelect,o=t.eventKey;n&&!r||e.preventDefault(),r||i&&i(o,e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.divider,o=e.header,a=e.onClick,l=e.className,c=e.style,u=(0,s.default)(e,["active","disabled","divider","header","onClick","className","style"]),d=(0,k.splitBsPropsAndOmit)(u,["eventKey","onSelect"]),p=d[0],h=d[1];return r?(h.children=void 0,_.default.createElement("li",(0,i.default)({},h,{role:"separator",className:(0,f.default)(l,"divider"),style:c}))):o?_.default.createElement("li",(0,i.default)({},h,{role:"heading",className:(0,f.default)(l,(0,k.prefix)(p,"header")),style:c})):_.default.createElement("li",{role:"presentation",className:(0,f.default)(l,{active:t,disabled:n}),style:c},_.default.createElement(x.default,(0,i.default)({},h,{role:"menuitem",tabIndex:"-1",onClick:(0,C.default)(a,this.handleClick)})))},t}(_.default.Component);j.propTypes=E,j.defaultProps=S,exports.default=(0,k.bsClass)("dropdown",j),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(7),p=n(d),h=t(3),f=n(h),m=t(559),_=n(m),g=t(76),v=n(g),y=t(54),b=n(y),w=t(234),x=n(w),k=t(1),A=n(k),C=t(11),E=n(C),S=t(29),j=n(S),M=t(730),T=n(M),O=t(285),N=n(O),I=t(21),D=n(I),L=t(114),z=n(L),R=t(249),P=n(R),B=t(640),q=n(B),F=t(250),U=n(F),W=t(251),H=n(W),K=t(252),G=n(K),Y=t(10),J=t(32),V=n(J),Q=t(115),Z=n(Q),X=t(34),ee=(0,p.default)({},T.default.propTypes,q.default.propTypes,{backdrop:E.default.oneOf(["static",!0,!1]),keyboard:E.default.bool,animation:E.default.bool,dialogComponentClass:D.default,autoFocus:E.default.bool,enforceFocus:E.default.bool,restoreFocus:E.default.bool,show:E.default.bool,onHide:E.default.func,onEnter:E.default.func,onEntering:E.default.func,onEntered:E.default.func,onExit:E.default.func,onExiting:E.default.func,onExited:E.default.func,container:T.default.propTypes.container}),te=(0,p.default)({},T.default.defaultProps,{animation:!0,dialogComponentClass:q.default}),ne={$bs_modal:E.default.shape({onHide:E.default.func})},re=function(e){function t(n,r){(0,s.default)(this,t);var i=(0,l.default)(this,e.call(this,n,r));return i.handleEntering=i.handleEntering.bind(i),i.handleExited=i.handleExited.bind(i),i.handleWindowResize=i.handleWindowResize.bind(i),i.handleDialogClick=i.handleDialogClick.bind(i),i.state={style:{}},i}return(0,u.default)(t,e),t.prototype.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},t.prototype.componentWillUnmount=function(){this.handleExited()},t.prototype.handleEntering=function(){_.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},t.prototype.handleExited=function(){_.default.off(window,"resize",this.handleWindowResize)},t.prototype.handleWindowResize=function(){this.updateStyle()},t.prototype.handleDialogClick=function(e){e.target===e.currentTarget&&this.props.onHide()},t.prototype.updateStyle=function(){if(b.default){var e=this._modal.getDialogElement(),t=e.scrollHeight,n=(0,v.default)(e),r=(0,N.default)(j.default.findDOMNode(this.props.container||n.body)),i=t>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!i?(0,x.default)():void 0,paddingLeft:!r&&i?(0,x.default)():void 0}})}},t.prototype.render=function(){var e=this,n=this.props,r=n.backdrop,o=n.animation,s=n.show,a=n.dialogComponentClass,l=n.className,c=n.style,u=n.children,d=n.onEntering,h=n.onExited,m=(0,i.default)(n,["backdrop","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),_=(0,Z.default)(m,T.default),g=_[0],v=_[1],y=s&&!o&&"in";return A.default.createElement(T.default,(0,p.default)({},g,{ref:function(t){e._modal=t},show:s,onEntering:(0,V.default)(d,this.handleEntering),onExited:(0,V.default)(h,this.handleExited),backdrop:r,backdropClassName:(0,f.default)((0,Y.prefix)(m,"backdrop"),y),containerClassName:(0,Y.prefix)(m,"open"),transition:o?z.default:void 0,dialogTransitionTimeout:t.TRANSITION_DURATION,backdropTransitionTimeout:t.BACKDROP_TRANSITION_DURATION}),A.default.createElement(a,(0,p.default)({},v,{style:(0,p.default)({},this.state.style,c),className:(0,f.default)(l,y),onClick:r===!0?this.handleDialogClick:null}),u))},t}(A.default.Component);re.propTypes=ee,re.defaultProps=te,re.childContextTypes=ne,re.Body=P.default,re.Header=H.default,re.Title=G.default,re.Footer=U.default,re.Dialog=q.default,re.TRANSITION_DURATION=300,re.BACKDROP_TRANSITION_DURATION=150,exports.default=(0,Y.bsClass)("modal",(0,Y.bsSizes)([X.Size.LARGE,X.Size.SMALL],re)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b=t(34),w={dialogClassName:v.default.string},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.dialogClassName,r=t.className,o=t.style,a=t.children,l=(0,s.default)(t,["dialogClassName","className","style","children"]),c=(0,y.splitBsProps)(l),u=c[0],d=c[1],p=(0,y.prefix)(u),h=(0,i.default)({display:"block"},o),m=(0,i.default)({},(0,y.getClassSet)(u),(e={},e[p]=!1,e[(0,y.prefix)(u,"dialog")]=!0,e));return _.default.createElement("div",(0,i.default)({},d,{tabIndex:"-1",role:"dialog",style:h,className:(0,f.default)(r,p)}),_.default.createElement("div",{className:(0,f.default)(n,m)},_.default.createElement("div",{className:(0,y.prefix)(u,"content"),role:"document"},a)))},t}(_.default.Component);x.propTypes=w,exports.default=(0,y.bsClass)("modal",(0,y.bsSizes)([b.Size.LARGE,b.Size.SMALL],x)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(7),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(113),b=n(y),w=t(115),x=n(w),k=t(38),A=n(k),C=(0,p.default)({},b.default.propTypes,{title:v.default.node.isRequired,noCaret:v.default.bool,active:v.default.bool,children:v.default.node}),E=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.isActive=function(e,t,n){var r=e.props,i=this;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||(!!A.default.some(r.children,function(e){return i.isActive(e,t,n)})||r.active)},t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.activeKey,o=t.activeHref,s=t.className,a=t.style,l=t.children,c=(0,i.default)(t,["title","activeKey","activeHref","className","style","children"]),u=this.isActive(this,r,o);delete c.active,delete c.eventKey;var d=(0,x.default)(c,b.default.ControlledComponent),h=d[0],m=d[1];return _.default.createElement(b.default,(0,p.default)({},h,{componentClass:"li",className:(0,f.default)(s,{active:u}),style:a}),_.default.createElement(b.default.Toggle,(0,p.default)({},m,{useAnchor:!0}),n),_.default.createElement(b.default.Menu,null,A.default.map(l,function(t){return _.default.cloneElement(t,{active:e.isActive(t,r,o)})})))},t}(_.default.Component);E.propTypes=C,exports.default=E,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var r=function(e,n){var r=n.$bs_navbar,i=void 0===r?{bsClass:"navbar"}:r,s=e.componentClass,l=e.className,c=e.pullRight,u=e.pullLeft,d=(0,a.default)(e,["componentClass","className","pullRight","pullLeft"]);return g.default.createElement(s,(0,o.default)({},d,{className:(0,m.default)(l,(0,D.prefix)(i,t),c&&(0,D.prefix)(i,"right"),u&&(0,D.prefix)(i,"left"))}))};return r.displayName=n,r.propTypes={componentClass:w.default,pullRight:y.default.bool,pullLeft:y.default.bool},r.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},r.contextTypes={$bs_navbar:y.default.shape({bsClass:y.default.string})},r}exports.__esModule=!0;var i=t(7),o=n(i),s=t(8),a=n(s),l=t(4),c=n(l),u=t(6),d=n(u),p=t(5),h=n(p),f=t(3),m=n(f),_=t(1),g=n(_),v=t(11),y=n(v),b=t(21),w=n(b),x=t(69),k=n(x),A=t(247),C=n(A),E=t(255),S=n(E),j=t(643),M=n(j),T=t(644),O=n(T),N=t(645),I=n(N),D=t(10),L=t(34),z=t(32),R=n(z),P={fixedTop:y.default.bool,fixedBottom:y.default.bool,staticTop:y.default.bool,inverse:y.default.bool,fluid:y.default.bool,componentClass:w.default,onToggle:y.default.func,onSelect:y.default.func,collapseOnSelect:y.default.bool,expanded:y.default.bool,role:y.default.string},B={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},q={$bs_navbar:y.default.shape({bsClass:y.default.string,expanded:y.default.bool,onToggle:y.default.func.isRequired,onSelect:y.default.func})},F=function(e){function t(n,r){(0,c.default)(this,t);var i=(0,d.default)(this,e.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleCollapse=i.handleCollapse.bind(i),i}return(0,h.default)(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.expanded,r=e.onSelect,i=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:n,onToggle:this.handleToggle,onSelect:(0,R.default)(r,i?this.handleCollapse:null)}}},t.prototype.handleCollapse=function(){var e=this.props,t=e.onToggle,n=e.expanded;n&&t(!1)},t.prototype.handleToggle=function(){var e=this.props,t=e.onToggle,n=e.expanded;t(!n)},t.prototype.render=function(){var e,t=this.props,n=t.componentClass,r=t.fixedTop,i=t.fixedBottom,s=t.staticTop,l=t.inverse,c=t.fluid,u=t.className,d=t.children,p=(0,a.default)(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),h=(0,D.splitBsPropsAndOmit)(p,["expanded","onToggle","onSelect","collapseOnSelect"]),f=h[0],_=h[1];void 0===_.role&&"nav"!==n&&(_.role="navigation"),l&&(f.bsStyle=L.Style.INVERSE);var v=(0,o.default)({},(0,D.getClassSet)(f),(e={},e[(0,D.prefix)(f,"fixed-top")]=r,e[(0,D.prefix)(f,"fixed-bottom")]=i,e[(0,D.prefix)(f,"static-top")]=s,e));return g.default.createElement(n,(0,o.default)({},_,{className:(0,m.default)(u,v)}),g.default.createElement(C.default,{fluid:c},d))},t}(g.default.Component);F.propTypes=P,F.defaultProps=B,F.childContextTypes=q,(0,D.bsClass)("navbar",F);var U=(0,k.default)(F,{expanded:"onToggle"});U.Brand=S.default,U.Header=O.default,U.Toggle=I.default,U.Collapse=M.default,U.Form=r("div","form","NavbarForm"),U.Text=r("p","text","NavbarText"),U.Link=r("a","link","NavbarLink"),exports.default=(0,D.bsStyles)([L.Style.DEFAULT,L.Style.INVERSE],L.Style.DEFAULT,U),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(1),f=n(h),m=t(11),_=n(m),g=t(157),v=n(g),y=t(10),b={$bs_navbar:_.default.shape({bsClass:_.default.string,expanded:_.default.bool})},w=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=(0,s.default)(e,["children"]),r=this.context.$bs_navbar||{bsClass:"navbar"},o=(0,y.prefix)(r,"collapse");return f.default.createElement(v.default,(0,i.default)({in:r.expanded},n),f.default.createElement("div",{className:o},t))},t}(f.default.Component);w.contextTypes=b,exports.default=w,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b={$bs_navbar:v.default.shape({bsClass:v.default.string})},w=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=this.context.$bs_navbar||{bsClass:"navbar"},o=(0,y.prefix)(r,"header");return _.default.createElement("div",(0,i.default)({},n,{className:(0,f.default)(t,o)}))},t}(_.default.Component);w.contextTypes=b,exports.default=w,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b=t(32),w=n(b),x={onClick:v.default.func,children:v.default.node},k={$bs_navbar:v.default.shape({bsClass:v.default.string,expanded:v.default.bool,onToggle:v.default.func.isRequired})},A=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.children,o=(0,s.default)(e,["onClick","className","children"]),a=this.context.$bs_navbar||{bsClass:"navbar"},l=(0,i.default)({type:"button"},o,{onClick:(0,w.default)(t,a.onToggle),className:(0,f.default)(n,(0,y.prefix)(a,"toggle"),!a.expanded&&"collapsed")});return r?_.default.createElement("button",l,r):_.default.createElement("button",l,_.default.createElement("span",{className:"sr-only"},"Toggle navigation"),_.default.createElement("span",{className:"icon-bar"}),_.default.createElement("span",{className:"icon-bar"}),_.default.createElement("span",{className:"icon-bar"}))},t}(_.default.Component);A.propTypes=x,A.contextTypes=k,exports.default=A,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}exports.__esModule=!0;var i=t(8),o=n(i),s=t(4),a=n(s),l=t(6),c=n(l),u=t(5),d=n(u),p=t(7),h=n(p),f=t(77),m=n(f),_=t(1),g=n(_),v=t(11),y=n(v),b=t(29),w=n(b),x=t(44),k=(n(x),t(256)),A=n(k),C=t(32),E=n(C),S=y.default.oneOf(["click","hover","focus"]),j=(0,h.default)({},A.default.propTypes,{trigger:y.default.oneOfType([S,y.default.arrayOf(S)]),delay:y.default.number,delayShow:y.default.number,delayHide:y.default.number,defaultOverlayShown:y.default.bool,overlay:y.default.node.isRequired,onBlur:y.default.func,onClick:y.default.func,onFocus:y.default.func,onMouseOut:y.default.func,onMouseOver:y.default.func,target:y.default.oneOf([null]),onHide:y.default.oneOf([null]),show:y.default.oneOf([null])}),M={defaultOverlayShown:!1,trigger:["hover","focus"]},T=function(e){function t(n,r){(0,a.default)(this,t);var i=(0,c.default)(this,e.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleDelayedShow=i.handleDelayedShow.bind(i),i.handleDelayedHide=i.handleDelayedHide.bind(i),i.handleHide=i.handleHide.bind(i),i.handleMouseOver=function(e){return i.handleMouseOverOut(i.handleDelayedShow,e)},i.handleMouseOut=function(e){return i.handleMouseOverOut(i.handleDelayedHide,e)},i._mountNode=null,i.state={show:n.defaultOverlayShown},i}return(0,d.default)(t,e),t.prototype.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},t.prototype.componentDidUpdate=function(){this.renderOverlay()},t.prototype.componentWillUnmount=function(){w.default.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},t.prototype.handleToggle=function(){this.state.show?this.hide():this.show()},t.prototype.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;return t?void(this._hoverShowDelay=setTimeout(function(){e._hoverShowDelay=null,e.show()},t)):void this.show()}},t.prototype.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;return t?void(this._hoverHideDelay=setTimeout(function(){e._hoverHideDelay=null,e.hide()},t)):void this.hide()}},t.prototype.handleMouseOverOut=function(e,t){var n=t.currentTarget,r=t.relatedTarget||t.nativeEvent.toElement;r&&(r===n||(0,m.default)(n,r))||e(t)},t.prototype.handleHide=function(){this.hide()},t.prototype.show=function(){this.setState({show:!0})},t.prototype.hide=function(){this.setState({show:!1})},t.prototype.makeOverlay=function(e,t){return g.default.createElement(A.default,(0,h.default)({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},t.prototype.renderOverlay=function(){w.default.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},t.prototype.render=function(){var e=this.props,t=e.trigger,n=e.overlay,i=e.children,s=e.onBlur,a=e.onClick,l=e.onFocus,c=e.onMouseOut,u=e.onMouseOver,d=(0,o.default)(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete d.delay,delete d.delayShow,delete d.delayHide,delete d.defaultOverlayShown;var p=g.default.Children.only(i),h=p.props,f={};return this.state.show&&(f["aria-describedby"]=n.props.id),f.onClick=(0,E.default)(h.onClick,a),r("click",t)&&(f.onClick=(0,E.default)(f.onClick,this.handleToggle)),r("hover",t)&&(f.onMouseOver=(0,E.default)(h.onMouseOver,u,this.handleMouseOver),f.onMouseOut=(0,E.default)(h.onMouseOut,c,this.handleMouseOut)),r("focus",t)&&(f.onFocus=(0,E.default)(h.onFocus,l,this.handleDelayedShow),f.onBlur=(0,E.default)(h.onBlur,s,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,d),(0,_.cloneElement)(p,f)},t}(g.default.Component);T.propTypes=j,T.defaultProps=M,exports.default=T,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(10),v=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=(0,s.default)(e,["className","children"]),o=(0,g.splitBsProps)(r),a=o[0],l=o[1],c=(0,g.getClassSet)(a);return _.default.createElement("div",(0,i.default)({},l,{className:(0,f.default)(t,c)}),_.default.createElement("h1",null,n))},t}(_.default.Component);exports.default=(0,g.bsClass)("page-header",v),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(257),i=n(r),o=t(667),s=n(o);exports.default=s.default.wrapper(i.default,"`<PageItem>`","`<Pager.Item>`"),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(257),b=n(y),w=t(10),x=t(32),k=n(x),A=t(38),C=n(A),E={onSelect:v.default.func},S=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.className,r=e.children,o=(0,s.default)(e,["onSelect","className","children"]),a=(0,w.splitBsProps)(o),l=a[0],c=a[1],u=(0,w.getClassSet)(l);return _.default.createElement("ul",(0,i.default)({},c,{className:(0,f.default)(n,u)}),C.default.map(r,function(e){return(0,m.cloneElement)(e,{onSelect:(0,k.default)(e.props.onSelect,t)})}))},t}(_.default.Component);S.propTypes=E,S.Item=b.default,exports.default=(0,w.bsClass)("pager",S),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(7),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(21),b=n(y),w=t(258),x=n(w),k=t(10),A={activePage:v.default.number,items:v.default.number,maxButtons:v.default.number,boundaryLinks:v.default.bool,ellipsis:v.default.oneOfType([v.default.bool,v.default.node]),first:v.default.oneOfType([v.default.bool,v.default.node]),last:v.default.oneOfType([v.default.bool,v.default.node]),prev:v.default.oneOfType([v.default.bool,v.default.node]),next:v.default.oneOfType([v.default.bool,v.default.node]),onSelect:v.default.func,buttonComponentClass:b.default},C={activePage:1,items:1,maxButtons:0,first:!1,last:!1,prev:!1,next:!1,ellipsis:!0,boundaryLinks:!1},E=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.renderPageButtons=function(e,t,n,r,i,o){var a=[],l=void 0,c=void 0;n&&n<t?(l=Math.max(Math.min(e-Math.floor(n/2,10),t-n+1),1),c=l+n-1):(l=1,c=t);for(var u=l;u<=c;++u)a.push(_.default.createElement(x.default,(0,s.default)({},o,{key:u,eventKey:u,active:u===e}),u));return i&&r&&l>1&&(l>2&&a.unshift(_.default.createElement(x.default,{key:"ellipsisFirst",disabled:!0,componentClass:o.componentClass},_.default.createElement("span",{"aria-label":"More"},i===!0?"…":i))),a.unshift(_.default.createElement(x.default,(0,s.default)({},o,{key:1,eventKey:1,active:!1}),"1"))),i&&c<t&&((!r||c<t-1)&&a.push(_.default.createElement(x.default,{key:"ellipsis",disabled:!0,componentClass:o.componentClass},_.default.createElement("span",{"aria-label":"More"},i===!0?"…":i))),r&&a.push(_.default.createElement(x.default,(0,s.default)({},o,{key:t,eventKey:t,active:!1}),t))),a},t.prototype.render=function(){var e=this.props,t=e.activePage,n=e.items,r=e.maxButtons,o=e.boundaryLinks,a=e.ellipsis,l=e.first,c=e.last,u=e.prev,d=e.next,p=e.onSelect,h=e.buttonComponentClass,m=e.className,g=(0,i.default)(e,["activePage","items","maxButtons","boundaryLinks","ellipsis","first","last","prev","next","onSelect","buttonComponentClass","className"]),v=(0,k.splitBsProps)(g),y=v[0],b=v[1],w=(0,k.getClassSet)(y),A={onSelect:p,componentClass:h};return _.default.createElement("ul",(0,s.default)({},b,{className:(0,f.default)(m,w)}),l&&_.default.createElement(x.default,(0,s.default)({},A,{eventKey:1,disabled:1===t}),_.default.createElement("span",{"aria-label":"First"},l===!0?"«":l)),u&&_.default.createElement(x.default,(0,s.default)({},A,{eventKey:t-1,disabled:1===t}),_.default.createElement("span",{"aria-label":"Previous"},u===!0?"‹":u)),this.renderPageButtons(t,n,r,o,a,A),d&&_.default.createElement(x.default,(0,s.default)({},A,{eventKey:t+1,disabled:t>=n}),_.default.createElement("span",{"aria-label":"Next"},d===!0?"›":d)),c&&_.default.createElement(x.default,(0,s.default)({},A,{eventKey:n,disabled:t>=n}),_.default.createElement("span",{"aria-label":"Last"},c===!0?"»":c)))},t}(_.default.Component);E.propTypes=A,E.defaultProps=C,exports.default=(0,k.bsClass)("pagination",E),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(75),i=n(r),o=t(8),s=n(o),a=t(7),l=n(a),c=t(4),u=n(c),d=t(6),p=n(d),h=t(5),f=n(h),m=t(3),_=n(m),g=t(1),v=n(g),y=t(11),b=n(y),w=t(157),x=n(w),k=t(10),A=t(34),C={collapsible:b.default.bool,onSelect:b.default.func,header:b.default.node,id:b.default.oneOfType([b.default.string,b.default.number]),footer:b.default.node,defaultExpanded:b.default.bool,expanded:b.default.bool,eventKey:b.default.any,headerRole:b.default.string,panelRole:b.default.string,onEnter:b.default.func,onEntering:b.default.func,onEntered:b.default.func,onExit:b.default.func,onExiting:b.default.func,onExited:b.default.func},E={defaultExpanded:!1},S=function(e){function t(n,r){(0,u.default)(this,t);var i=(0,p.default)(this,e.call(this,n,r));return i.handleClickTitle=i.handleClickTitle.bind(i),i.state={expanded:i.props.defaultExpanded},i}return(0,f.default)(t,e),t.prototype.handleClickTitle=function(e){e.persist(),e.selected=!0,this.props.onSelect?this.props.onSelect(this.props.eventKey,e):e.preventDefault(),e.selected&&this.setState({expanded:!this.state.expanded})},t.prototype.renderHeader=function(e,t,n,r,i,o){var s=(0,k.prefix)(o,"title");return e?v.default.isValidElement(t)?(0,g.cloneElement)(t,{className:(0,_.default)(t.props.className,s),children:this.renderAnchor(t.props.children,n,r,i)}):v.default.createElement("h4",{role:"presentation",className:s},this.renderAnchor(t,n,r,i)):v.default.isValidElement(t)?(0,g.cloneElement)(t,{className:(0,_.default)(t.props.className,s)}):t},t.prototype.renderAnchor=function(e,t,n,r){return v.default.createElement("a",{role:n,href:t&&"#"+t,onClick:this.handleClickTitle,"aria-controls":t,"aria-expanded":r,"aria-selected":r,className:r?null:"collapsed"},e)},t.prototype.renderCollapsibleBody=function(e,t,n,r,i,o){return v.default.createElement(x.default,(0,l.default)({in:t},o),v.default.createElement("div",{id:e,role:n,className:(0,k.prefix)(i,"collapse"),"aria-hidden":!t},this.renderBody(r,i)))},t.prototype.renderBody=function(e,t){function n(){i.length&&(r.push(v.default.createElement("div",{key:r.length,className:o},i)),i=[])}var r=[],i=[],o=(0,k.prefix)(t,"body");return v.default.Children.toArray(e).forEach(function(e){return v.default.isValidElement(e)&&e.props.fill?(n(),void r.push((0,g.cloneElement)(e,{fill:void 0}))):void i.push(e)}),n(),r},t.prototype.render=function(){var e=this.props,t=e.collapsible,n=e.header,r=e.id,i=e.footer,o=e.expanded,a=e.headerRole,c=e.panelRole,u=e.className,d=e.children,p=e.onEnter,h=e.onEntering,f=e.onEntered,m=e.onExit,g=e.onExiting,y=e.onExited,b=(0,s.default)(e,["collapsible","header","id","footer","expanded","headerRole","panelRole","className","children","onEnter","onEntering","onEntered","onExit","onExiting","onExited"]),w=(0,k.splitBsPropsAndOmit)(b,["defaultExpanded","eventKey","onSelect"]),x=w[0],A=w[1],C=null!=o?o:this.state.expanded,E=(0,k.getClassSet)(x);return v.default.createElement("div",(0,l.default)({},A,{className:(0,_.default)(u,E),id:t?null:r}),n&&v.default.createElement("div",{className:(0,k.prefix)(x,"heading")},this.renderHeader(t,n,r,a,C,x)),t?this.renderCollapsibleBody(r,C,c,d,x,{onEnter:p,onEntering:h,onEntered:f,onExit:m,onExiting:g,onExited:y}):this.renderBody(d,x),i&&v.default.createElement("div",{className:(0,k.prefix)(x,"footer")},i))},t}(v.default.Component);S.propTypes=C,S.defaultProps=E,exports.default=(0,k.bsClass)("panel",(0,k.bsStyles)([].concat((0,i.default)(A.State),[A.Style.DEFAULT,A.Style.PRIMARY]),A.Style.DEFAULT,S)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(122),b=n(y),w=t(10),x={id:(0,b.default)(v.default.oneOfType([v.default.string,v.default.number])),placement:v.default.oneOf(["top","right","bottom","left"]),positionTop:v.default.oneOfType([v.default.number,v.default.string]),positionLeft:v.default.oneOfType([v.default.number,v.default.string]),arrowOffsetTop:v.default.oneOfType([v.default.number,v.default.string]),arrowOffsetLeft:v.default.oneOfType([v.default.number,v.default.string]),title:v.default.node},k={placement:"right"},A=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,o=t.positionLeft,a=t.arrowOffsetTop,l=t.arrowOffsetLeft,c=t.title,u=t.className,d=t.style,p=t.children,h=(0,s.default)(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"]),m=(0,w.splitBsProps)(h),g=m[0],v=m[1],y=(0,i.default)({},(0,w.getClassSet)(g),(e={},e[n]=!0,e)),b=(0,i.default)({display:"block",top:r,left:o},d),x={top:a,left:l};return _.default.createElement("div",(0,i.default)({},v,{role:"tooltip",className:(0,f.default)(u,y),style:b}),_.default.createElement("div",{className:"arrow",style:x}),c&&_.default.createElement("h3",{className:(0,w.prefix)(g,"title")},c),_.default.createElement("div",{className:(0,w.prefix)(g,"content")},p))},t}(_.default.Component);A.propTypes=x,A.defaultProps=k,exports.default=(0,w.bsClass)("popover",A),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var r=e[t];if(!r)return null;var i=null;return b.default.Children.forEach(r,function(e){if(!i&&e.type!==T){var t=b.default.isValidElement(e)?e.type.displayName||e.type.name||e.type:e;i=Error("Children of "+n+" can contain only ProgressBar "+("components. Found "+t+"."))}}),i}function i(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(r*S)/S}exports.__esModule=!0;var o=t(75),s=n(o),a=t(7),l=n(a),c=t(8),u=n(c),d=t(4),p=n(d),h=t(6),f=n(h),m=t(5),_=n(m),g=t(3),v=n(g),y=t(1),b=n(y),w=t(11),x=n(w),k=t(10),A=t(34),C=t(38),E=n(C),S=1e3,j={min:x.default.number,now:x.default.number,max:x.default.number,label:x.default.node,srOnly:x.default.bool,striped:x.default.bool,active:x.default.bool,children:r,isChild:x.default.bool},M={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1},T=function(e){function t(){return(0,p.default)(this,t),(0,f.default)(this,e.apply(this,arguments))}return(0,_.default)(t,e),t.prototype.renderProgressBar=function(e){var t,n=e.min,r=e.now,o=e.max,s=e.label,a=e.srOnly,c=e.striped,d=e.active,p=e.className,h=e.style,f=(0,u.default)(e,["min","now","max","label","srOnly","striped","active","className","style"]),m=(0,k.splitBsProps)(f),_=m[0],g=m[1],y=(0,l.default)({},(0,k.getClassSet)(_),(t={active:d},t[(0,k.prefix)(_,"striped")]=d||c,t));return b.default.createElement("div",(0,l.default)({},g,{role:"progressbar",className:(0,v.default)(p,y),style:(0,l.default)({width:i(r,n,o)+"%"},h),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":o}),a?b.default.createElement("span",{className:"sr-only"},s):s)},t.prototype.render=function(){var e=this.props,t=e.isChild,n=(0,u.default)(e,["isChild"]);if(t)return this.renderProgressBar(n);var r=n.min,i=n.now,o=n.max,s=n.label,a=n.srOnly,c=n.striped,d=n.active,p=n.bsClass,h=n.bsStyle,f=n.className,m=n.children,_=(0,u.default)(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return b.default.createElement("div",(0,l.default)({},_,{className:(0,v.default)(f,"progress")}),m?E.default.map(m,function(e){return(0,y.cloneElement)(e,{isChild:!0})}):this.renderProgressBar({min:r,now:i,max:o,label:s,srOnly:a,striped:c,active:d,bsClass:p,bsStyle:h}))},t}(b.default.Component);T.propTypes=j,T.defaultProps=M,exports.default=(0,k.bsClass)("progress-bar",(0,
k.bsStyles)((0,s.default)(A.State),T)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(44),b=(n(y),t(10)),w={inline:v.default.bool,disabled:v.default.bool,validationState:v.default.oneOf(["success","warning","error",null]),inputRef:v.default.func},x={inline:!1,disabled:!1},k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,o=e.inputRef,a=e.className,l=e.style,c=e.children,u=(0,s.default)(e,["inline","disabled","validationState","inputRef","className","style","children"]),d=(0,b.splitBsProps)(u),p=d[0],h=d[1],m=_.default.createElement("input",(0,i.default)({},h,{ref:o,type:"radio",disabled:n}));if(t){var g,v=(g={},g[(0,b.prefix)(p,"inline")]=!0,g.disabled=n,g);return _.default.createElement("label",{className:(0,f.default)(a,v),style:l},m,c)}var y=(0,i.default)({},(0,b.getClassSet)(p),{disabled:n});return r&&(y["has-"+r]=!0),_.default.createElement("div",{className:(0,f.default)(a,y),style:l},_.default.createElement("label",null,m,c))},t}(_.default.Component);k.propTypes=w,k.defaultProps=x,exports.default=(0,b.bsClass)("radio",k),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(44),b=(n(y),t(10)),w={children:v.default.element.isRequired,a16by9:v.default.bool,a4by3:v.default.bool},x={a16by9:!1,a4by3:!1},k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.a16by9,r=t.a4by3,o=t.className,a=t.children,l=(0,s.default)(t,["a16by9","a4by3","className","children"]),c=(0,b.splitBsProps)(l),u=c[0],d=c[1],p=(0,i.default)({},(0,b.getClassSet)(u),(e={},e[(0,b.prefix)(u,"16by9")]=n,e[(0,b.prefix)(u,"4by3")]=r,e));return _.default.createElement("div",{className:(0,f.default)(p)},(0,m.cloneElement)(a,(0,i.default)({},d,{className:(0,f.default)(o,(0,b.prefix)(u,"item"))})))},t}(_.default.Component);k.propTypes=w,k.defaultProps=x,exports.default=(0,b.bsClass)("embed-responsive",k),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(21),v=n(g),y=t(10),b={componentClass:v.default},w={componentClass:"div"},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=(0,s.default)(e,["componentClass","className"]),o=(0,y.splitBsProps)(r),a=o[0],l=o[1],c=(0,y.getClassSet)(a);return _.default.createElement(t,(0,i.default)({},l,{className:(0,f.default)(n,c)}))},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("row",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(8),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(7),p=n(d),h=t(1),f=n(h),m=t(11),_=n(m),g=t(93),v=n(g),y=t(113),b=n(y),w=t(658),x=n(w),k=t(115),A=n(k),C=(0,p.default)({},b.default.propTypes,{bsStyle:_.default.string,bsSize:_.default.string,href:_.default.string,onClick:_.default.func,title:_.default.node.isRequired,toggleLabel:_.default.string,children:_.default.node}),E=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,o=e.toggleLabel,s=e.children,a=(0,i.default)(e,["bsSize","bsStyle","title","toggleLabel","children"]),l=(0,A.default)(a,b.default.ControlledComponent),c=l[0],u=l[1];return f.default.createElement(b.default,(0,p.default)({},c,{bsSize:t,bsStyle:n}),f.default.createElement(v.default,(0,p.default)({},u,{disabled:a.disabled,bsSize:t,bsStyle:n}),r),f.default.createElement(x.default,{"aria-label":o||r,bsSize:t,bsStyle:n}),f.default.createElement(b.default.Menu,null,s))},t}(f.default.Component);E.propTypes=C,E.Toggle=x.default,exports.default=E,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(1),p=n(d),h=t(246),f=n(h),m=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return p.default.createElement(f.default,(0,i.default)({},this.props,{useAnchor:!1,noCaret:!1}))},t}(p.default.Component);m.defaultProps=f.default.defaultProps,exports.default=m,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(4),i=n(r),o=t(6),s=n(o),a=t(5),l=n(a),c=t(7),u=n(c),d=t(1),p=n(d),h=t(11),f=n(h),m=t(160),_=n(m),g=t(161),v=n(g),y=t(260),b=n(y),w=(0,u.default)({},b.default.propTypes,{disabled:f.default.bool,title:f.default.node,tabClassName:f.default.string}),x=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.render=function(){var e=(0,u.default)({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,p.default.createElement(b.default,e)},t}(p.default.Component);x.propTypes=w,x.Container=_.default,x.Content=v.default,x.Pane=b.default,exports.default=x,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(10),b={striped:v.default.bool,bordered:v.default.bool,condensed:v.default.bool,hover:v.default.bool,responsive:v.default.bool},w={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1},x=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,r=t.bordered,o=t.condensed,a=t.hover,l=t.responsive,c=t.className,u=(0,s.default)(t,["striped","bordered","condensed","hover","responsive","className"]),d=(0,y.splitBsProps)(u),p=d[0],h=d[1],m=(0,i.default)({},(0,y.getClassSet)(p),(e={},e[(0,y.prefix)(p,"striped")]=n,e[(0,y.prefix)(p,"bordered")]=r,e[(0,y.prefix)(p,"condensed")]=o,e[(0,y.prefix)(p,"hover")]=a,e)),g=_.default.createElement("table",(0,i.default)({},h,{className:(0,f.default)(c,m)}));return l?_.default.createElement("div",{className:(0,y.prefix)(p,"responsive")},g):g},t}(_.default.Component);x.propTypes=b,x.defaultProps=w,exports.default=(0,y.bsClass)("table",x),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0;return N.default.forEach(e,function(e){null==t&&(t=e.props.eventKey)}),t}exports.__esModule=!0;var i=t(7),o=n(i),s=t(8),a=n(s),l=t(4),c=n(l),u=t(6),d=n(u),p=t(5),h=n(p),f=t(1),m=n(f),_=t(11),g=n(_),v=t(122),y=n(v),b=t(69),w=n(b),x=t(253),k=n(x),A=t(254),C=n(A),E=t(160),S=n(E),j=t(161),M=n(j),T=t(10),O=t(38),N=n(O),I=S.default.ControlledComponent,D={activeKey:g.default.any,bsStyle:g.default.oneOf(["tabs","pills"]),animation:g.default.bool,id:(0,y.default)(g.default.oneOfType([g.default.string,g.default.number])),onSelect:g.default.func,mountOnEnter:g.default.bool,unmountOnExit:g.default.bool},L={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},z=function(e){function t(){return(0,c.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,h.default)(t,e),t.prototype.renderTab=function(e){var t=e.props,n=t.title,r=t.eventKey,i=t.disabled,o=t.tabClassName;return null==n?null:m.default.createElement(C.default,{eventKey:r,disabled:i,className:o},n)},t.prototype.render=function(){var e=this.props,t=e.id,n=e.onSelect,i=e.animation,s=e.mountOnEnter,l=e.unmountOnExit,c=e.bsClass,u=e.className,d=e.style,p=e.children,h=e.activeKey,f=void 0===h?r(p):h,_=(0,a.default)(e,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return m.default.createElement(I,{id:t,activeKey:f,onSelect:n,className:u,style:d},m.default.createElement("div",null,m.default.createElement(k.default,(0,o.default)({},_,{role:"tablist"}),N.default.map(p,this.renderTab)),m.default.createElement(M.default,{bsClass:c,animation:i,mountOnEnter:s,unmountOnExit:l},p)))},t}(m.default.Component);z.propTypes=D,z.defaultProps=L,(0,T.bsClass)("tab",z),exports.default=(0,w.default)(z,{activeKey:"onSelect"}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(50),b=n(y),w=t(10),x={src:v.default.string,alt:v.default.string,href:v.default.string},k=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.alt,r=e.className,o=e.children,a=(0,s.default)(e,["src","alt","className","children"]),l=(0,w.splitBsProps)(a),c=l[0],u=l[1],d=u.href?b.default:"div",p=(0,w.getClassSet)(c);return _.default.createElement(d,(0,i.default)({},u,{className:(0,f.default)(r,p)}),_.default.createElement("img",{src:t,alt:n}),o&&_.default.createElement("div",{className:"caption"},o))},t}(_.default.Component);k.propTypes=x,exports.default=(0,w.bsClass)("thumbnail",k),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(11),v=n(g),y=t(122),b=n(y),w=t(10),x={id:(0,b.default)(v.default.oneOfType([v.default.string,v.default.number])),placement:v.default.oneOf(["top","right","bottom","left"]),positionTop:v.default.oneOfType([v.default.number,v.default.string]),positionLeft:v.default.oneOfType([v.default.number,v.default.string]),arrowOffsetTop:v.default.oneOfType([v.default.number,v.default.string]),arrowOffsetLeft:v.default.oneOfType([v.default.number,v.default.string])},k={placement:"right"},A=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,o=t.positionLeft,a=t.arrowOffsetTop,l=t.arrowOffsetLeft,c=t.className,u=t.style,d=t.children,p=(0,s.default)(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),h=(0,w.splitBsProps)(p),m=h[0],g=h[1],v=(0,i.default)({},(0,w.getClassSet)(m),(e={},e[n]=!0,e)),y=(0,i.default)({top:r,left:o},u),b={top:a,left:l};return _.default.createElement("div",(0,i.default)({},g,{role:"tooltip",className:(0,f.default)(c,v),style:y}),_.default.createElement("div",{className:(0,w.prefix)(m,"arrow"),style:b}),_.default.createElement("div",{className:(0,w.prefix)(m,"inner")},d))},t}(_.default.Component);A.propTypes=x,A.defaultProps=k,exports.default=(0,w.bsClass)("tooltip",A),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(7),i=n(r),o=t(8),s=n(o),a=t(4),l=n(a),c=t(6),u=n(c),d=t(5),p=n(d),h=t(3),f=n(h),m=t(1),_=n(m),g=t(10),v=t(34),y=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),r=(0,g.splitBsProps)(n),o=r[0],a=r[1],l=(0,g.getClassSet)(o);return _.default.createElement("div",(0,i.default)({},a,{className:(0,f.default)(t,l)}))},t}(_.default.Component);exports.default=(0,g.bsClass)("well",(0,g.bsSizes)([v.Size.LARGE,v.Size.SMALL],y)),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)(function(e,n,r){var i=void 0;return t.every(function(t){return!!l.default.some(e.children,function(e){return e.props.bsRole===t})||(i=t,!1)}),i?Error("(children) "+r+" - Missing a required child with bsRole: "+(i+". "+r+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)(function(e,n,r){var i=void 0;return t.every(function(t){var n=l.default.filter(e.children,function(e){return e.props.bsRole===t});return!(n.length>1)||(i=t,!1)}),i?Error("(children) "+r+" - Duplicate children detected of bsRole: "+(i+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}exports.__esModule=!0,exports.requiredRoles=r,exports.exclusiveRoles=i;var o=t(123),s=n(o),a=t(38),l=n(a)},function(e,exports){"use strict";function t(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete o.animationend.animation,"TransitionEvent"in window||delete o.transitionend.transition;for(var n in o){var r=o[n];for(var i in r)if(i in t){s.push(r[i]);break}}}function n(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}exports.__esModule=!0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];i&&t();var a={addEndEventListener:function(e,t){return 0===s.length?void window.setTimeout(t,0):void s.forEach(function(r){n(e,r,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){r(e,n,t)})}};exports.default=a,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var r=void 0;"object"===(void 0===e?"undefined":(0,p.default)(e))?r=e.message:(r=e+" is deprecated. Use "+t+" instead.",n&&(r+="\nYou can read more about it at "+n)),f[r]||(f[r]=!0)}function i(){f={}}exports.__esModule=!0;var o=t(4),s=n(o),a=t(6),l=n(a),c=t(5),u=n(c),d=t(136),p=n(d);exports._resetWarned=i;var h=t(44),f=(n(h),{});r.wrapper=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.componentWillMount=function(){if(r.apply(void 0,n),e.prototype.componentWillMount){for(var t,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];(t=e.prototype.componentWillMount).call.apply(t,[this].concat(o))}},t}(e)},exports.default=r},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}exports.__esModule=!0,exports.ValidComponentChildren=exports.createChainedFunction=exports.bootstrapUtils=void 0;var i=t(10),o=r(i),s=t(32),a=n(s),l=t(38),c=n(l);exports.bootstrapUtils=o,exports.createChainedFunction=a.default,exports.ValidComponentChildren=c.default},function(e,exports){"use strict";var t={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=t},function(e,exports,t){"use strict";var n=t(28),r=t(236),i={focusDOMComponent:function(){r(n.getNodeFromInstance(this))}};e.exports=i},function(e,exports,t){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case"topCompositionStart":return C.compositionStart;case"topCompositionEnd":return C.compositionEnd;case"topCompositionUpdate":return C.compositionUpdate}}function o(e,t){return"topKeyDown"===e&&t.keyCode===v}function s(e,t){switch(e){case"topKeyUp":return g.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==v;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function a(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var l,c;if(y?l=i(e):S?s(e,n)&&(l=C.compositionEnd):o(e,n)&&(l=C.compositionStart),!l)return null;x&&(S||l!==C.compositionStart?l===C.compositionEnd&&S&&(c=S.getData()):S=f.getPooled(r));var u=m.getPooled(l,t,n,r);if(c)u.data=c;else{var d=a(n);null!==d&&(u.data=d)}return p.accumulateTwoPhaseDispatches(u),u}function c(e,t){switch(e){case"topCompositionEnd":return a(t);case"topKeyPress":var n=t.which;return n!==k?null:(E=!0,A);case"topTextInput":var r=t.data;return r===A&&E?null:r;default:return null}}function u(e,t){if(S){if("topCompositionEnd"===e||!y&&s(e,t)){var n=S.getData();return f.release(S),S=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!r(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return x?null:t.data;default:return null}}function d(e,t,n,r){var i;if(i=w?c(e,n):u(e,n),!i)return null;var o=_.getPooled(C.beforeInput,t,n,r);return o.data=i,p.accumulateTwoPhaseDispatches(o),o}var p=t(95),h=t(35),f=t(677),m=t(708),_=t(711),g=[9,13,27,32],v=229,y=h.canUseDOM&&"CompositionEvent"in window,b=null;h.canUseDOM&&"documentMode"in document&&(b=document.documentMode);var w=h.canUseDOM&&"TextEvent"in window&&!b&&!n(),x=h.canUseDOM&&(!y||b&&b>8&&b<=11),k=32,A=String.fromCharCode(k),C={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},E=!1,S=null,j={eventTypes:C,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};e.exports=j},function(e,exports,t){"use strict";var n=t(262),r=t(35),i=(t(45),t(574),t(717)),o=t(581),s=t(584),a=(t(18),s(function(e){return o(e)})),l=!1,c="cssFloat";if(r.canUseDOM){var u=document.createElement("div").style;try{u.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=a(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,r){var o=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=i(s,t[s],r);if("float"!==s&&"cssFloat"!==s||(s=c),a)o[s]=a;else{var u=l&&n.shorthandPropertyExpansions[s];if(u)for(var d in u)o[d]="";else o[s]=""}}}};e.exports=d},function(e,exports,t){"use strict";function n(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function r(e){var t=k.getPooled(S.change,M,e,A(e));y.accumulateTwoPhaseDispatches(t),x.batchedUpdates(i,t)}function i(e){v.enqueueEvents(e),v.processEventQueue(!1)}function o(e,t){j=e,M=t,j.attachEvent("onchange",r)}function s(){j&&(j.detachEvent("onchange",r),j=null,M=null)}function a(e,t){if("topChange"===e)return t}function l(e,t,n){"topFocus"===e?(s(),o(t,n)):"topBlur"===e&&s()}function c(e,t){j=e,M=t,T=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(j,"value",D),j.attachEvent?j.attachEvent("onpropertychange",d):j.addEventListener("propertychange",d,!1)}function u(){j&&(delete j.value,j.detachEvent?j.detachEvent("onpropertychange",d):j.removeEventListener("propertychange",d,!1),j=null,M=null,T=null,O=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==T&&(T=t,r(e))}}function p(e,t){if("topInput"===e)return t}function h(e,t,n){"topFocus"===e?(u(),c(t,n)):"topBlur"===e&&u()}function f(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&j&&j.value!==T)return T=j.value,M}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function _(e,t){if("topClick"===e)return t}function g(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var v=t(94),y=t(95),b=t(35),w=t(28),x=t(47),k=t(55),A=t(174),C=t(175),E=t(278),S={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},j=null,M=null,T=null,O=null,N=!1;b.canUseDOM&&(N=C("change")&&(!document.documentMode||document.documentMode>8));var I=!1;b.canUseDOM&&(I=C("input")&&(!document.documentMode||document.documentMode>11));var D={get:function(){return O.get.call(this)},set:function(e){T=""+e,O.set.call(this,e)}},L={eventTypes:S,extractEvents:function(e,t,r,i){var o,s,c=t?w.getNodeFromInstance(t):window;if(n(c)?N?o=a:s=l:E(c)?I?o=p:(o=f,s=h):m(c)&&(o=_),o){var u=o(e,t);if(u){var d=k.getPooled(S.change,u,r,i);return d.type="change",y.accumulateTwoPhaseDispatches(d),d}}s&&s(e,c,t),"topBlur"===e&&g(t,c)}};e.exports=L},function(e,exports,t){"use strict";var n=t(20),r=t(78),i=t(35),o=t(577),s=t(42),a=(t(14),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:n("56"),t?void 0:n("57"),"HTML"===e.nodeName?n("58"):void 0,"string"==typeof t){var a=o(t,s)[0];e.parentNode.replaceChild(a,e)}else r.replaceChildWithTree(e,t)}});e.exports=a},function(e,exports){"use strict";var t=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=t},function(e,exports,t){"use strict";var n=t(95),r=t(28),i=t(117),o={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:o,extractEvents:function(e,t,s,a){if("topMouseOver"===e&&(s.relatedTarget||s.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(a.window===a)l=a;else{var c=a.ownerDocument;l=c?c.defaultView||c.parentWindow:window}var u,d;if("topMouseOut"===e){u=t;var p=s.relatedTarget||s.toElement;d=p?r.getClosestInstanceFromNode(p):null}else u=null,d=t;if(u===d)return null;var h=null==u?l:r.getNodeFromInstance(u),f=null==d?l:r.getNodeFromInstance(d),m=i.getPooled(o.mouseLeave,u,s,a);m.type="mouseleave",m.target=h,m.relatedTarget=f;var _=i.getPooled(o.mouseEnter,d,s,a);return _.type="mouseenter",_.target=f,_.relatedTarget=h,n.accumulateEnterLeaveDispatches(m,_,u,d),[m,_]}};e.exports=s},function(e,exports,t){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=t(25),i=t(67),o=t(277);r(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=i.slice(e,a),this._fallbackText}}),i.addPoolingTo(n),e.exports=n},function(e,exports,t){"use strict";var n=t(79),r=n.injection.MUST_USE_PROPERTY,i=n.injection.HAS_BOOLEAN_VALUE,o=n.injection.HAS_NUMERIC_VALUE,s=n.injection.HAS_POSITIVE_NUMERIC_VALUE,a=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(RegExp("^(data|aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:r|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:a,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:r|i,muted:r|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:o,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:r|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:o,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute("value"):void("number"!==e.type||e.hasAttribute("value")===!1?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t))}}};e.exports=l},function(e,exports,t){(function(n){"use strict";function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=t(71),o=t(192),s=(t(166),t(176)),a=t(280),l=(t(18),{instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return a(e,r,o),o},updateChildren:function(e,t,n,r,a,l,c,u,d){if(t||e){var p,h;for(p in t)if(t.hasOwnProperty(p)){h=e&&e[p];var f=h&&h._currentElement,m=t[p];if(null!=h&&s(f,m))i.receiveComponent(h,m,a,u),t[p]=h;else{h&&(r[p]=i.getHostNode(h),i.unmountComponent(h,!1));var _=o(m,!0);t[p]=_;var g=i.mountComponent(_,a,l,c,u,d);n.push(g)}}for(p in e)!e.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(h=e[p],r[p]=i.getHostNode(h),i.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}});e.exports=l}).call(exports,t(84))},function(e,exports,t){"use strict";var n=t(162),r=t(686),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup};e.exports=i},function(e,exports,t){"use strict";function n(e){}function r(e,t){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function o(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=t(20),a=t(25),l=t(72),c=t(168),u=t(57),d=t(169),p=t(96),h=(t(45),t(272)),f=t(71),m=t(85),_=(t(14),t(153)),g=t(176),v=(t(18),{ImpureClass:0,PureClass:1,StatelessFunctional:2});n.prototype.render=function(){var e=p.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return r(e,t),t};var y=1,b={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,a,c){this._context=c,this._mountOrder=y++,this._hostParent=t,this._hostContainerInfo=a;var u,d=this._currentElement.props,h=this._processContext(c),f=this._currentElement.type,_=e.getUpdateQueue(),g=i(f),b=this._constructComponent(g,d,h,_);g||null!=b&&null!=b.render?o(f)?this._compositeType=v.PureClass:this._compositeType=v.ImpureClass:(u=b,r(f,u),null===b||b===!1||l.isValidElement(b)?void 0:s("105",f.displayName||f.name||"Component"),b=new n(f),this._compositeType=v.StatelessFunctional);b.props=d,b.context=h,b.refs=m,b.updater=_,this._instance=b,p.set(b,this);var w=b.state;void 0===w&&(b.state=w=null),"object"!=typeof w||Array.isArray(w)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var x;return x=b.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,a,e,c):this.performInitialMount(u,t,a,e,c),b.componentDidMount&&e.getReactMountReady().enqueue(b.componentDidMount,b),x},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,s=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(a){r.rollback(s),this._instance.unstable_handleError(a),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(s),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance,s=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var a=h.getType(e);this._renderedNodeType=a;var l=this._instantiateReactComponent(e,a!==h.EMPTY);this._renderedComponent=l;var c=f.mountComponent(l,r,t,n,this._processChildContext(i),s);return c},getHostNode:function(){return f.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";
d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(f.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return m;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in t)i in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",i);return a({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?f.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,l=!1;this._context===i?a=o.context:(a=this._processContext(i),l=!0);var c=t.props,u=n.props;t!==n&&(l=!0),l&&o.componentWillReceiveProps&&o.componentWillReceiveProps(u,a);var d=this._processPendingState(u,a),p=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?p=o.shouldComponentUpdate(u,d,a):this._compositeType===v.PureClass&&(p=!_(c,u)||!_(o.state,d))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,u,d,a,e,i)):(this._currentElement=n,this._context=i,o.props=u,o.state=d,o.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=a({},i?r[0]:n.state),s=i?1:0;s<r.length;s++){var l=r[s];a(o,"function"==typeof l?l.call(n,o,e,t):l)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var s,a,l,c=this._instance,u=!!c.componentDidUpdate;u&&(s=c.props,a=c.state,l=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(i,o),u&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,s,a,l),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(g(r,i))f.receiveComponent(n,i,e,this._processChildContext(t));else{var s=f.getHostNode(n);f.unmountComponent(n,!1);var a=h.getType(i);this._renderedNodeType=a;var l=this._instantiateReactComponent(i,a!==h.EMPTY);this._renderedComponent=l;var c=f.mountComponent(l,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);this._replaceNodeWithMarkup(s,c,n)}},_replaceNodeWithMarkup:function(e,t,n){c.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==v.StatelessFunctional){u.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{u.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||l.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),i=n.refs===m?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===v.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=b},function(e,exports,t){"use strict";var n=t(28),r=t(320),i=t(271),o=t(71),s=t(47),a=t(323),l=t(718),c=t(276),u=t(725);t(18);r.inject();var d={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:a,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:u};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:n.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?n.getNodeFromInstance(e):null}},Mount:i,Reconciler:o});e.exports=d},function(e,exports,t){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function r(e,t){t&&(Y[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?f("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?f("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&F in t.dangerouslySetInnerHTML?void 0:f("61")),null!=t.style&&"object"!=typeof t.style?f("62",n(e)):void 0)}function i(e,t,n,r){if(!(r instanceof N)){var i=e._hostContainerInfo,s=i._node&&i._node.nodeType===W,a=s?i._node:i._ownerDocument;R(t,a),r.getReactMountReady().enqueue(o,{inst:e,registrationName:t,listener:n})}}function o(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;S.postMountWrapper(e)}function a(){var e=this;T.postMountWrapper(e)}function l(){var e=this;j.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:f("63");var t=z(e);switch(t?void 0:f("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[A.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in H)H.hasOwnProperty(n)&&e._wrapperState.listeners.push(A.trapBubbledEvent(n,H[n],t));break;case"source":e._wrapperState.listeners=[A.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[A.trapBubbledEvent("topError","error",t),A.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[A.trapBubbledEvent("topReset","reset",t),A.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[A.trapBubbledEvent("topInvalid","invalid",t)]}}function u(){M.postUpdateWrapper(this)}function d(e){Q.call(V,e)||(J.test(e)?void 0:f("65",e),V[e]=!0)}function p(e,t){return e.indexOf("-")>=0||null!=t.is}function h(e){var t=e.type;d(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var f=t(20),m=t(25),_=t(670),g=t(672),v=t(78),y=t(163),b=t(79),w=t(264),x=t(94),k=t(164),A=t(116),C=t(265),E=t(28),S=t(687),j=t(688),M=t(266),T=t(691),O=(t(45),t(697)),N=t(322),I=(t(42),t(119)),D=(t(14),t(175),t(153),t(177),t(18),C),L=x.deleteListener,z=E.getNodeFromInstance,R=A.listenTo,P=k.registrationNameModules,B={string:!0,number:!0},q="style",F="__html",U={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},W=11,H={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},K={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},Y=m({menuitem:!0},K),J=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,V={},Q={}.hasOwnProperty,Z=1;h.displayName="ReactDOMComponent",h.Mixin={mountComponent:function(e,t,n,i){this._rootNodeID=Z++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"input":S.mountWrapper(this,o,t),o=S.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":j.mountWrapper(this,o,t),o=j.getHostProps(this,o);break;case"select":M.mountWrapper(this,o,t),o=M.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":T.mountWrapper(this,o,t),o=T.getHostProps(this,o),e.getReactMountReady().enqueue(c,this)}r(this,o);var u,d;null!=t?(u=t._namespaceURI,d=t._tag):n._tag&&(u=n._namespaceURI,d=n._tag),(null==u||u===y.svg&&"foreignobject"===d)&&(u=y.html),u===y.html&&("svg"===this._tag?u=y.svg:"math"===this._tag&&(u=y.mathml)),this._namespaceURI=u;var p;if(e.useCreateElement){var h,f=n._ownerDocument;if(u===y.html)if("script"===this._tag){var m=f.createElement("div"),g=this._currentElement.type;m.innerHTML="<"+g+"></"+g+">",h=m.removeChild(m.firstChild)}else h=o.is?f.createElement(this._currentElement.type,o.is):f.createElement(this._currentElement.type);else h=f.createElementNS(u,this._currentElement.type);E.precacheNode(this,h),this._flags|=D.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(h),this._updateDOMProperties(null,o,e);var b=v(h);this._createInitialChildren(e,o,i,b),p=b}else{var x=this._createOpenTagMarkupAndPutListeners(e,o),k=this._createContentMarkup(e,o,i);p=!k&&K[this._tag]?x+"/>":x+">"+k+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(a,this),o.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"select":o.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"button":o.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return p},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(P.hasOwnProperty(r))o&&i(this,r,o,e);else{r===q&&(o&&(o=this._previousStyleCopy=m({},t.style)),o=g.createMarkupForStyles(o,this));var s=null;null!=this._tag&&p(this._tag,t)?U.hasOwnProperty(r)||(s=w.createMarkupForCustomAttribute(r,o)):s=w.createMarkupForProperty(r,o),s&&(n+=" "+s)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=B[typeof t.children]?t.children:null,s=null!=o?null:t.children;if(null!=o)r=I(o);else if(null!=s){var a=this.mountChildren(s,e,n);r=a.join("")}}return G[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&v.queueHTML(r,i.__html);else{var o=B[typeof t.children]?t.children:null,s=null!=o?null:t.children;if(null!=o)""!==o&&v.queueText(r,o);else if(null!=s)for(var a=this.mountChildren(s,e,n),l=0;l<a.length;l++)v.queueChild(r,a[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,i){var o=t.props,s=this._currentElement.props;switch(this._tag){case"input":o=S.getHostProps(this,o),s=S.getHostProps(this,s);break;case"option":o=j.getHostProps(this,o),s=j.getHostProps(this,s);break;case"select":o=M.getHostProps(this,o),s=M.getHostProps(this,s);break;case"textarea":o=T.getHostProps(this,o),s=T.getHostProps(this,s)}switch(r(this,s),this._updateDOMProperties(o,s,e),this._updateDOMChildren(o,s,e,i),this._tag){case"input":S.updateWrapper(this);break;case"textarea":T.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(u,this)}},_updateDOMProperties:function(e,t,n){var r,o,s;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var a=this._previousStyleCopy;for(o in a)a.hasOwnProperty(o)&&(s=s||{},s[o]="");this._previousStyleCopy=null}else P.hasOwnProperty(r)?e[r]&&L(this,r):p(this._tag,e)?U.hasOwnProperty(r)||w.deleteValueForAttribute(z(this),r):(b.properties[r]||b.isCustomAttribute(r))&&w.deleteValueForProperty(z(this),r);for(r in t){var l=t[r],c=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&l!==c&&(null!=l||null!=c))if(r===q)if(l?l=this._previousStyleCopy=m({},l):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(s=s||{},s[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(s=s||{},s[o]=l[o])}else s=l;else if(P.hasOwnProperty(r))l?i(this,r,l,n):c&&L(this,r);else if(p(this._tag,t))U.hasOwnProperty(r)||w.setValueForAttribute(z(this),r,l);else if(b.properties[r]||b.isCustomAttribute(r)){var u=z(this);null!=l?w.setValueForProperty(u,r,l):w.deleteValueForProperty(u,r)}}s&&g.setValueForStyles(z(this),s,this)},_updateDOMChildren:function(e,t,n,r){var i=B[typeof e.children]?e.children:null,o=B[typeof t.children]?t.children:null,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,c=null!=o?null:t.children,u=null!=i||null!=s,d=null!=o||null!=a;null!=l&&null==c?this.updateChildren(null,n,r):u&&!d&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=a?s!==a&&this.updateMarkup(""+a):null!=c&&this.updateChildren(c,n,r)},getHostNode:function(){return z(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":f("66",this._tag)}this.unmountChildren(e),E.uncacheNode(this),x.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return z(this)}},m(h.prototype,h.Mixin,O.Mixin),e.exports=h},function(e,exports,t){"use strict";var n=t(25),r=t(78),i=t(28),o=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};n(o.prototype,{mountComponent:function(e,t,n,o){var s=n._idCounter++;this._domID=s,this._hostParent=t,this._hostContainerInfo=n;var a=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,c=l.createComment(a);return i.precacheNode(this,c),r(c)}return e.renderToStaticMarkup?"":"<!--"+a+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),e.exports=o},function(e,exports){"use strict";var t={useCreateElement:!0,useFiber:!1};e.exports=t},function(e,exports,t){"use strict";var n=t(162),r=t(28),i={dangerouslyProcessChildrenUpdates:function(e,t){var i=r.getNodeFromInstance(e);n.processUpdates(i,t)}};e.exports=i},function(e,exports,t){"use strict";function n(){this._rootNodeID&&d.updateWrapper(this)}function r(e){var t="checkbox"===e.type||"radio"===e.type;return t?null!=e.checked:null!=e.value}function i(e){var t=this._currentElement.props,r=l.executeOnChange(t,e);u.asap(n,this);var i=t.name;if("radio"===t.type&&null!=i){for(var s=c.getNodeFromInstance(this),a=s;a.parentNode;)a=a.parentNode;for(var d=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<d.length;p++){var h=d[p];if(h!==s&&h.form===s.form){var f=c.getInstanceFromNode(h);f?void 0:o("90"),u.asap(n,f)}}}return r}var o=t(20),s=t(25),a=t(264),l=t(167),c=t(28),u=t(47),d=(t(14),t(18),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t),i=s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:i.bind(e),controlled:r(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&a.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),i=l.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var o=parseFloat(r.value,10)||0;i!=o&&(r.value=""+i)}else i!=r.value&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=d},function(e,exports,t){"use strict";function n(e){var t="";return i.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:a||(a=!0))}),t}var r=t(25),i=t(72),o=t(28),s=t(266),a=(t(18),!1),l={mountWrapper:function(e,t,r){var i=null;if(null!=r){var o=r;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var l;if(l=null!=t.value?t.value+"":n(t.children),a=!1,Array.isArray(i)){for(var c=0;c<i.length;c++)if(""+i[c]===l){a=!0;break}}else a=""+i===l}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=o.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var i=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(i.selected=e._wrapperState.selected);var o=n(t.children);return o&&(i.children=o),i}};e.exports=l},function(e,exports,t){"use strict";function n(e,t,n,r){return e===n&&t===r}function r(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,s=o+r;return{start:o,end:s}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var r=t.anchorNode,i=t.anchorOffset,o=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}var l=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:(""+a).length,u=a.cloneRange();u.selectNodeContents(e),u.setEnd(a.startContainer,a.startOffset);var d=n(u.startContainer,u.startOffset,u.endContainer,u.endOffset),p=d?0:(""+u).length,h=p+c,f=document.createRange();f.setStart(r,i),f.setEnd(o,s);var m=f.collapsed;return{start:m?h:p,end:m?p:h}}function o(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var s=o;o=i,i=s}var a=l(e,i),u=l(e,o);if(a&&u){var d=document.createRange();d.setStart(a.node,a.offset),n.removeAllRanges(),i>o?(n.addRange(d),n.extend(u.node,u.offset)):(d.setEnd(u.node,u.offset),n.addRange(d))}}}var a=t(35),l=t(722),c=t(277),u=a.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:u?r:i,setOffsets:u?o:s};e.exports=d},function(e,exports,t){"use strict";var n=t(20),r=t(25),i=t(162),o=t(78),s=t(28),a=t(119),l=(t(14),t(177),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(l.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,l=" react-text: "+i+" ",c=" /react-text ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var u=n._ownerDocument,d=u.createComment(l),p=u.createComment(c),h=o(u.createDocumentFragment());return o.queueChild(h,o(d)),this._stringText&&o.queueChild(h,o(u.createTextNode(this._stringText))),o.queueChild(h,o(p)),s.precacheNode(this,d),this._closingComment=p,h}var f=a(this._stringText);return e.renderToStaticMarkup?f:"<!--"+l+"-->"+f+"<!--"+c+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),r=t.nextSibling;;){if(null==r?n("67",this._domID):void 0,8===r.nodeType&&" /react-text "===r.nodeValue){this._closingComment=r;break}r=r.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=l},function(e,exports,t){"use strict";function n(){this._rootNodeID&&c.updateWrapper(this)}function r(e){var t=this._currentElement.props,r=s.executeOnChange(t,e);return l.asap(n,this),r}var i=t(20),o=t(25),s=t(167),a=t(28),l=t(47),c=(t(14),t(18),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?i("91"):void 0;var n=o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=s.getValue(t),o=n;if(null==n){var a=t.defaultValue,l=t.children;null!=l&&(null!=a?i("92"):void 0,Array.isArray(l)&&(l.length<=1?void 0:i("93"),l=l[0]),a=""+l),null==a&&(a=""),o=a}e._wrapperState={initialValue:""+o,listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=a.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=a.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=c},function(e,exports,t){"use strict";function n(e,t){"_hostNode"in e?void 0:a("33"),"_hostNode"in t?void 0:a("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var s=n;s--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function r(e,t){"_hostNode"in e?void 0:a("35"),"_hostNode"in t?void 0:a("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e?void 0:a("36"),e._hostParent}function o(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,r,i,o){for(var s=e&&t?n(e,t):null,a=[];e&&e!==s;)a.push(e),e=e._hostParent;for(var l=[];t&&t!==s;)l.push(t),t=t._hostParent;var c;for(c=0;c<a.length;c++)r(a[c],"bubbled",i);for(c=l.length;c-- >0;)r(l[c],"captured",o)}var a=t(20);t(14);e.exports={isAncestor:r,getLowestCommonAncestor:n,getParentInstance:i,traverseTwoPhase:o,traverseEnterLeave:s}},295,function(e,exports,t){"use strict";function n(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=t(94),i={handleTopLevel:function(e,t,i,o){var s=r.extractEvents(e,t,i,o);n(s)}};e.exports=i},function(e,exports,t){"use strict";function n(e){for(;e._hostParent;)e=e._hostParent;var t=u.getNodeFromInstance(e),n=t.parentNode;return u.getClosestInstanceFromNode(n)}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=p(e.nativeEvent),r=u.getClosestInstanceFromNode(t),i=r;do e.ancestors.push(i),i=i&&n(i);while(i);for(var o=0;o<e.ancestors.length;o++)r=e.ancestors[o],f._handleTopLevel(e.topLevelType,r,e.nativeEvent,p(e.nativeEvent))}function o(e){var t=h(window);e(t)}var s=t(25),a=t(235),l=t(35),c=t(67),u=t(28),d=t(47),p=t(174),h=t(579);s(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,n){return n?a.listen(n,t,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?a.capture(n,t,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=o.bind(null,e);a.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(f._enabled){var n=r.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{r.release(n)}}}};e.exports=f},function(e,exports,t){"use strict";var n=t(79),r=t(94),i=t(165),o=t(168),s=t(267),a=t(116),l=t(269),c=t(47),u={Component:o.injection,DOMProperty:n.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventPluginUtils:i.injection,EventEmitter:a.injection,HostComponent:l.injection,Updates:c.injection};e.exports=u},function(e,exports,t){"use strict";function n(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function r(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function o(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function a(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){u.processChildrenUpdates(e,t)}var c=t(20),u=t(168),d=(t(96),t(45),t(57),t(71)),p=t(679),h=(t(42),t(719)),f=(t(14),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return p.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var s,a=0;return s=h(t,a),p.updateChildren(e,s,n,r,i,this,this._hostContainerInfo,o,a),s},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],l=0,c=d.mountComponent(a,t,this,this._hostContainerInfo,n,l);a._mountIndex=o++,i.push(c)}return i},updateTextContent:function(e){var t=this._renderedChildren;p.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;p.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[o(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],s=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(s||r){var c,u=null,p=0,h=0,f=0,m=null;for(c in s)if(s.hasOwnProperty(c)){var _=r&&r[c],g=s[c];_===g?(u=a(u,this.moveChild(_,m,p,h)),h=Math.max(_._mountIndex,h),_._mountIndex=p):(_&&(h=Math.max(_._mountIndex,h)),u=a(u,this._mountChildAtIndex(g,o[f],m,p,t,n)),f++),p++,m=d.getHostNode(g)}for(c in i)i.hasOwnProperty(c)&&(u=a(u,this._unmountChild(r[c],i[c])));u&&l(this,u),this._renderedChildren=s}},unmountChildren:function(e){var t=this._renderedChildren;p.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,i){if(e._mountIndex<i)return r(e,t,n)},createChild:function(e,t,r){return n(r,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=f},function(e,exports,t){"use strict";function n(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var r=t(20),i=(t(14),{addComponentAsRefTo:function(e,t,i){n(i)?void 0:r("119"),i.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,i){n(i)?void 0:r("120");var o=i.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&i.detachRef(t)}});e.exports=i},function(e,exports){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,exports,t){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var r=t(25),i=t(263),o=t(67),s=t(116),a=t(270),l=(t(45),t(118)),c=t(170),u={initialize:a.getSelectionInformation,close:a.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[u,d,p],f={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};r(n.prototype,l,f),o.addPoolingTo(n),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function r(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=t(698),o={};o.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var r=t.ref;null!=r&&n(r,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"==typeof t&&(i=t.ref,o=t._owner),n!==i||"string"==typeof i&&o!==r},o.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},e.exports=o},function(e,exports,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){}var i=t(170),o=(t(18),function(){function e(t){n(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?i.enqueueForceUpdate(e):r(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?i.enqueueReplaceState(e,t):r(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?i.enqueueSetState(e,t):r(e,"setState")},e}());e.exports=o},function(e,exports){"use strict";var t={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},n={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",
azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:t.xlink,xlinkArcrole:t.xlink,xlinkHref:t.xlink,xlinkRole:t.xlink,xlinkShow:t.xlink,xlinkTitle:t.xlink,xlinkType:t.xlink,xmlBase:t.xml,xmlLang:t.xml,xmlSpace:t.xml},DOMAttributeNames:{}};Object.keys(n).forEach(function(e){r.Properties[e]=0,n[e]&&(r.DOMAttributeNames[e]=n[e])}),e.exports=r},function(e,exports,t){"use strict";function n(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(e,t){if(g||null==f||f!==c())return null;var r=n(f);if(!_||!d(_,r)){_=r;var o=l.getPooled(h.select,m,e,t);return o.type="select",o.target=f,i.accumulateTwoPhaseDispatches(o),o}return null}var i=t(95),o=t(35),s=t(28),a=t(270),l=t(55),c=t(237),u=t(278),d=t(153),p=o.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},f=null,m=null,_=null,g=!1,v=!1,y={eventTypes:h,extractEvents:function(e,t,n,i){if(!v)return null;var o=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(u(o)||"true"===o.contentEditable)&&(f=o,m=t,_=null);break;case"topBlur":f=null,m=null,_=null;break;case"topMouseDown":g=!0;break;case"topContextMenu":case"topMouseUp":return g=!1,r(n,i);case"topSelectionChange":if(p)break;case"topKeyDown":case"topKeyUp":return r(n,i)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(v=!0)}};e.exports=y},function(e,exports,t){"use strict";function n(e){return"."+e._rootNodeID}function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var i=t(20),o=t(235),s=t(95),a=t(28),l=t(706),c=t(707),u=t(55),d=t(710),p=t(712),h=t(117),f=t(709),m=t(713),_=t(714),g=t(97),v=t(715),y=t(42),b=t(172),w=(t(14),{}),x={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};w[e]=i,x[r]=i});var k={},A={eventTypes:w,extractEvents:function(e,t,n,r){var o=x[e];if(!o)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=u;break;case"topKeyPress":if(0===b(n))return null;case"topKeyDown":case"topKeyUp":a=p;break;case"topBlur":case"topFocus":a=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=f;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=m;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=l;break;case"topTransitionEnd":a=_;break;case"topScroll":a=g;break;case"topWheel":a=v;break;case"topCopy":case"topCut":case"topPaste":a=c}a?void 0:i("86",e);var y=a.getPooled(o,t,n,r);return s.accumulateTwoPhaseDispatches(y),y},didPutListener:function(e,t,i){if("onClick"===t&&!r(e._tag)){var s=n(e),l=a.getNodeFromInstance(e);k[s]||(k[s]=o.listen(l,"click",y))}},willDeleteListener:function(e,t){if("onClick"===t&&!r(e._tag)){var i=n(e);k[i].remove(),delete k[i]}}};e.exports=A},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(55),i={animationName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(n,i),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(55),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(n,i),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(55),i={data:null};r.augmentClass(n,i),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(117),i={dataTransfer:null};r.augmentClass(n,i),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(97),i={relatedTarget:null};r.augmentClass(n,i),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(55),i={data:null};r.augmentClass(n,i),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(97),i=t(172),o=t(720),s=t(173),a={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(n,a),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(97),i=t(173),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};r.augmentClass(n,o),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(55),i={propertyName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(n,i),e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i){return r.call(this,e,t,n,i)}var r=t(117),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(n,i),e.exports=n},function(e,exports){"use strict";function t(e){for(var t=1,r=0,i=0,o=e.length,s=o&-4;i<s;){for(var a=Math.min(i+4096,s);i<a;i+=4)r+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=n,r%=n}for(;i<o;i++)r+=t+=e.charCodeAt(i);return t%=n,r%=n,t|r<<16}var n=65521;e.exports=t},function(e,exports,t){"use strict";function n(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);if(o||0===t||i.hasOwnProperty(e)&&i[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var r=t(262),i=(t(18),r.isUnitlessNumber);e.exports=n},function(e,exports,t){"use strict";function n(e){if(null==e)return null;if(1===e.nodeType)return e;var t=o.get(e);return t?(t=s(t),t?i.getNodeFromInstance(t):null):void("function"==typeof e.render?r("44"):r("45",Object.keys(e)))}var r=t(20),i=(t(57),t(28)),o=t(96),s=t(276);t(14),t(18);e.exports=n},function(e,exports,t){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(t(166),t(280));t(18);e.exports=i}).call(exports,t(84))},function(e,exports,t){"use strict";function n(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var r=t(172),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=n},function(e,exports){"use strict";function t(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";e.exports=t},function(e,exports){"use strict";function t(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,r){for(var i=t(e),o=0,s=0;i;){if(3===i.nodeType){if(s=o+i.textContent.length,o<=r&&s>=r)return{node:i,offset:r-o};o=s}i=t(n(i))}}e.exports=r},function(e,exports,t){"use strict";function n(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function r(e){if(s[e])return s[e];if(!o[e])return e;var t=o[e];for(var n in t)if(t.hasOwnProperty(n)&&n in a)return s[e]=t[n];return""}var i=t(35),o={animationend:n("Animation","AnimationEnd"),animationiteration:n("Animation","AnimationIteration"),animationstart:n("Animation","AnimationStart"),transitionend:n("Transition","TransitionEnd")},s={},a={};i.canUseDOM&&(a=document.createElement("div").style,"AnimationEvent"in window||(delete o.animationend.animation,delete o.animationiteration.animation,delete o.animationstart.animation),"TransitionEvent"in window||delete o.transitionend.transition),e.exports=r},function(e,exports,t){"use strict";function n(e){return'"'+r(e)+'"'}var r=t(119);e.exports=n},function(e,exports,t){"use strict";var n=t(271);e.exports=n.renderSubtreeIntoContainer},function(e,exports){"use strict";var t={extend:function(){var e,t,n,r,i,o,s=this,a=arguments[0]||{},l=1,c=arguments.length,u=!1,d={hasOwn:Object.prototype.hasOwnProperty,class2type:{},type:function(e){return null==e?e+"":d.class2type[Object.prototype.toString.call(e)]||"object"},isPlainObject:function(e){var t;if(!e||"object"!==d.type(e)||e.nodeType||d.isWindow(e))return!1;try{if(e.constructor&&!d.hasOwn.call(e,"constructor")&&!d.hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return void 0===t||d.hasOwn.call(e,t)},isArray:Array.isArray||function(e){return"array"===d.type(e)},isFunction:function(e){return"function"===d.type(e)},isWindow:function(e){return null!=e&&e==e.window}};for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||d.isFunction(a)||(a={}),c===l&&(a=s,--l);l<c;l+=1)if(null!=(e=arguments[l]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(d.isPlainObject(r)||(i=d.isArray(r)))?(i?(i=!1,o=n&&d.isArray(n)?n:[]):o=n&&d.isPlainObject(n)?n:{},a[t]=this.extend(u,o,r)):void 0!==r&&(a[t]=r));return a}};e.exports=t},function(e,exports,t){"use strict";var n=t(1),r=n.createClass({displayName:"Icon",render:function(){return n.createElement("div",{"data-filetype":this.props.filetype,className:"filepicker-file-icon"})}});e.exports=r},function(e,exports,t){"use strict";var n,r,i=t(1),o=t(29),s=t(726),a=t(727);r=i.createClass({displayName:"DropzoneComponent",getDefaultProps:function(){return{djsConfig:{},config:{},eventHandlers:{}}},getDjsConfig:function(){var e,t={url:this.props.config.postUrl?this.props.config.postUrl:null};return e=this.props.djsConfig?s.extend(!0,{},t,this.props.djsConfig):t},componentDidMount:function(){var e=this.getDjsConfig();n=n||t(307),n.autoDiscover=!1,this.props.config.postUrl||this.props.eventHandlers.drop||console.info('Neither postUrl nor a "drop" eventHandler specified, the React-Dropzone component might misbehave.');var r=this.props.config.dropzoneSelector||o.findDOMNode(this);this.dropzone=new n(r,e),this.setupEvents()},componentWillUnmount:function(){if(this.dropzone){var e=this.dropzone.getActiveFiles();if(e.length>0){this.queueDestroy=!0;var t=window.setInterval(function(){return(this.queueDestroy=!1)?window.clearInterval(t):0===this.dropzone.getActiveFiles().length?(this.dropzone=this.destroy(this.dropzone),window.clearInterval(t)):void 0}.bind(this),500)}else this.dropzone=this.destroy(this.dropzone)}},componentDidUpdate:function(){if(this.queueDestroy=!1,!this.dropzone){var e=this.props.config.dropzoneSelector||o.findDOMNode(this);this.dropzone=new n(e,this.getDjsConfig())}},componentWillUpdate:function(){var e,t;e=this.props.djsConfig?this.props.djsConfig:{};try{t=this.props.config.postUrl?{url:this.props.config.postUrl}:{}}catch(e){t={}}this.dropzone.options=s.extend(!0,{},this.dropzone.options,e,t)},render:function(){var e=[],t=this.state.files,n=this.props.config,r=this.props.className?"filepicker dropzone "+this.props.className:"filepicker dropzone";if(n.showFiletypeIcon&&n.iconFiletypes&&(!t||t.length<1))for(var o=0;o<this.props.config.iconFiletypes.length;o+=1)e.push(i.createElement(a,{filetype:this.props.config.iconFiletypes[o],key:"icon-component"+o}));return!this.props.config.postUrl&&this.props.action?i.createElement("form",{action:this.props.action,className:r},e,this.props.children):i.createElement("div",{className:r},e,this.props.children)},getInitialState:function(){return{files:[]}},setupEvents:function(){var e=this.props.eventHandlers;if(this.dropzone&&e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])if("[object Array]"===Object.prototype.toString.call(e[t]))for(var n=0;n<e[t].length;n+=1)"init"===t?e[t][n](this.dropzone):this.dropzone.on(t,e[t][n]);else"init"===t?e[t](this.dropzone):this.dropzone.on(t,e[t]);this.dropzone.on("addedfile",function(e){if(e){var t=this.state.files;t||(t=[]),t.push(e),this.setState({files:t})}}.bind(this)),this.dropzone.on("removedfile",function(e){if(e){var t=this.state.files;if(t&&t.length>0){for(var n=0;n<t.length;n++)t[n].name===e.name&&t[n].size===e.size&&t.splice(n,1);this.setState({files:t})}}}.bind(this))}},destroy:function(e){return e.off(),e.destroy()}}),e.exports=r},function(e,exports){e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t(1),o=n(i),s=t(44),a=n(s),l=t(179),c=n(l),u=t(21),d=n(u),p=t(281),h=n(p),f=t(731),m=n(f),_=t(98),g=n(_),v=t(284),y=n(v),b=t(734),w=n(b),x=t(54),k=n(x),A=t(149),C=n(A),E=t(77),S=n(E),j=t(178),M=n(j),T=new m.default,O=o.default.createClass({displayName:"Modal",propTypes:r({},h.default.propTypes,{show:o.default.PropTypes.bool,container:o.default.PropTypes.oneOfType([c.default,o.default.PropTypes.func]),onShow:o.default.PropTypes.func,onHide:o.default.PropTypes.func,backdrop:o.default.PropTypes.oneOfType([o.default.PropTypes.bool,o.default.PropTypes.oneOf(["static"])]),renderBackdrop:o.default.PropTypes.func,onEscapeKeyUp:o.default.PropTypes.func,onBackdropClick:o.default.PropTypes.func,backdropStyle:o.default.PropTypes.object,backdropClassName:o.default.PropTypes.string,containerClassName:o.default.PropTypes.string,keyboard:o.default.PropTypes.bool,transition:d.default,dialogTransitionTimeout:o.default.PropTypes.number,backdropTransitionTimeout:o.default.PropTypes.number,autoFocus:o.default.PropTypes.bool,enforceFocus:o.default.PropTypes.bool,restoreFocus:o.default.PropTypes.bool,onEnter:o.default.PropTypes.func,onEntering:o.default.PropTypes.func,onEntered:o.default.PropTypes.func,onExit:o.default.PropTypes.func,onExiting:o.default.PropTypes.func,onExited:o.default.PropTypes.func,manager:o.default.PropTypes.object.isRequired}),getDefaultProps:function(){var e=function(){};return{show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:e,manager:T,renderBackdrop:function(e){return o.default.createElement("div",e)}}},omitProps:function(e,t){var n=Object.keys(e),r={};return n.map(function(n){Object.prototype.hasOwnProperty.call(t,n)||(r[n]=e[n])}),r},getInitialState:function(){return{exited:!this.props.show}},render:function(){var e=this.props,t=e.show,n=e.container,s=e.children,a=e.transition,l=e.backdrop,c=e.dialogTransitionTimeout,u=e.className,d=e.style,p=e.onExit,f=e.onExiting,m=e.onEnter,_=e.onEntering,g=e.onEntered,v=o.default.Children.only(s),y=this.omitProps(this.props,O.propTypes),b=t||a&&!this.state.exited;if(!b)return null;var w=v.props,x=w.role,k=w.tabIndex;return void 0!==x&&void 0!==k||(v=(0,i.cloneElement)(v,{role:void 0===x?"document":x,tabIndex:null==k?"-1":k})),a&&(v=o.default.createElement(a,{transitionAppear:!0,unmountOnExit:!0,in:t,timeout:c,onExit:p,onExiting:f,onExited:this.handleHidden,onEnter:m,onEntering:_,onEntered:g},v)),o.default.createElement(h.default,{ref:this.setMountNode,container:n},o.default.createElement("div",r({ref:"modal",role:x||"dialog"},y,{style:d,className:u}),l&&this.renderBackdrop(),v))},renderBackdrop:function e(){var t=this,n=this.props,r=n.backdropStyle,i=n.backdropClassName,e=n.renderBackdrop,s=n.transition,a=n.backdropTransitionTimeout,l=function(e){return t.backdrop=e},c=o.default.createElement("div",{ref:l,style:this.props.backdropStyle,className:this.props.backdropClassName,onClick:this.handleBackdropClick});return s&&(c=o.default.createElement(s,{transitionAppear:!0,in:this.props.show,timeout:a},e({ref:l,style:r,className:i,onClick:this.handleBackdropClick}))),c},componentWillReceiveProps:function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},componentWillUpdate:function(e){!this.props.show&&e.show&&this.checkForFocus()},componentDidMount:function(){this.props.show&&this.onShow()},componentDidUpdate:function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},componentWillUnmount:function(){var e=this.props,t=e.show,n=e.transition;(t||n&&!this.state.exited)&&this.onHide()},onShow:function(){var e=(0,g.default)(this),t=(0,M.default)(this.props.container,e.body);this.props.manager.add(this,t,this.props.containerClassName),this._onDocumentKeyupListener=(0,y.default)(e,"keyup",this.handleDocumentKeyUp),this._onFocusinListener=(0,w.default)(this.enforceFocus),this.focus(),this.props.onShow&&this.props.onShow()},onHide:function(){this.props.manager.remove(this),this._onDocumentKeyupListener.remove(),this._onFocusinListener.remove(),this.props.restoreFocus&&this.restoreLastFocus()},setMountNode:function(e){this.mountNode=e?e.getMountNode():e},handleHidden:function(){if(this.setState({exited:!0}),this.onHide(),this.props.onExited){var e;(e=this.props).onExited.apply(e,arguments)}},handleBackdropClick:function(e){e.target===e.currentTarget&&(this.props.onBackdropClick&&this.props.onBackdropClick(e),this.props.backdrop===!0&&this.props.onHide())},handleDocumentKeyUp:function(e){this.props.keyboard&&27===e.keyCode&&this.isTopModal()&&(this.props.onEscapeKeyUp&&this.props.onEscapeKeyUp(e),this.props.onHide())},checkForFocus:function(){k.default&&(this.lastFocus=(0,C.default)())},focus:function(){var e=this.props.autoFocus,t=this.getDialogElement(),n=(0,C.default)((0,g.default)(this)),r=n&&(0,S.default)(t,n);t&&e&&!r&&(this.lastFocus=n,t.hasAttribute("tabIndex")||(t.setAttribute("tabIndex",-1),(0,a.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".')),t.focus())},restoreLastFocus:function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},enforceFocus:function e(){var e=this.props.enforceFocus;if(e&&this.isMounted()&&this.isTopModal()){var t=(0,C.default)((0,g.default)(this)),n=this.getDialogElement();n&&n!==t&&!(0,S.default)(n,t)&&n.focus()}},getDialogElement:function(){var e=this.refs.modal;return e&&e.lastChild},isTopModal:function(){return this.props.manager.isTopModal(this)}});O.Manager=m.default,exports.default=O,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=-1;return e.some(function(e,r){if(t(e,r))return n=r,!0}),n}function o(e,t){return i(e,function(e){return e.modals.indexOf(t)!==-1})}function s(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,u.default)(t,"paddingRight")||0,10)+(0,f.default)()+"px"),(0,u.default)(t,n)}function a(e,t){var n=e.style;Object.keys(n).forEach(function(e){return t.style[e]=n[e]})}Object.defineProperty(exports,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=t(53),u=n(c),d=t(556),p=n(d),h=t(234),f=n(h),m=t(285),_=n(m),g=t(736),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hideSiblingNodes,i=void 0===n||n,o=t.handleContainerOverflow,s=void 0===o||o;r(this,e),this.hideSiblingNodes=i,this.handleContainerOverflow=s,this.modals=[],this.containers=[],this.data=[]}return l(e,[{key:"add",value:function(e,t,n){var r=this.modals.indexOf(e),i=this.containers.indexOf(t);if(r!==-1)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&(0,g.hideSiblings)(t,e.mountNode),i!==-1)return this.data[i].modals.push(e),r;var o={modals:[e],classes:n?n.split(/\s+/):[],overflowing:(0,_.default)(t)};return this.handleContainerOverflow&&s(o,t),o.classes.forEach(p.default.addClass.bind(null,t)),this.containers.push(t),this.data.push(o),r}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(t!==-1){var n=o(this.data,e),r=this.data[n],i=this.containers[n];r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length?(r.classes.forEach(p.default.removeClass.bind(null,i)),this.handleContainerOverflow&&a(r,i),this.hideSiblingNodes&&(0,g.showSiblings)(i,e.mountNode),this.containers.splice(n,1),this.data.splice(n,1)):this.hideSiblingNodes&&(0,g.ariaHidden)(!1,r.modals[r.modals.length-1].mountNode)}}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}();exports.default=v,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=t(1),u=n(c),d=t(281),p=n(d),h=t(733),f=n(h),m=t(282),_=n(m),g=t(21),v=n(g),y=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={exited:!e.show},r.onHiddenListener=r.handleHidden.bind(r),r}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})}},{key:"render",value:function(){var e=this.props,t=e.container,n=e.containerPadding,i=e.target,o=e.placement,s=e.shouldUpdatePosition,a=e.rootClose,l=e.children,c=e.transition,d=r(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),h=d.show||c&&!this.state.exited;if(!h)return null;var m=l;if(m=u.default.createElement(f.default,{container:t,containerPadding:n,target:i,placement:o,shouldUpdatePosition:s},m),c){var g=d.onExit,v=d.onExiting,y=d.onEnter,b=d.onEntering,w=d.onEntered;m=u.default.createElement(c,{in:d.show,transitionAppear:!0,onExit:g,onExiting:v,onExited:this.onHiddenListener,onEnter:y,onEntering:b,onEntered:w},m)}return a&&(m=u.default.createElement(_.default,{onRootClose:d.onHide},m)),u.default.createElement(p.default,{container:t},m)}},{key:"handleHidden",value:function(){if(this.setState({exited:!0}),this.props.onExited){var e;(e=this.props).onExited.apply(e,arguments)}}}]),t}(u.default.Component);y.propTypes=a({},p.default.propTypes,f.default.propTypes,{show:u.default.PropTypes.bool,rootClose:u.default.PropTypes.bool,onHide:function(e){var t=u.default.PropTypes.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,[e].concat(r))},transition:v.default,onEnter:u.default.PropTypes.func,onEntering:u.default.PropTypes.func,onEntered:u.default.PropTypes.func,onExit:u.default.PropTypes.func,onExiting:u.default.PropTypes.func,onExited:u.default.PropTypes.func}),exports.default=y,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);
}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=t(3),u=n(c),d=t(1),p=n(d),h=t(29),f=n(h),m=t(179),_=n(m),g=t(735),v=n(g),y=t(178),b=n(y),w=t(98),x=n(w),k=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},r._needsFlush=!1,r._lastTarget=null,r}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.updatePosition(this.getTarget())}},{key:"componentWillReceiveProps",value:function(){this._needsFlush=!0}},{key:"componentDidUpdate",value:function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=r(e,["children","className"]),o=this.state,s=o.positionLeft,l=o.positionTop,c=r(o,["positionLeft","positionTop"]);delete i.target,delete i.container,delete i.containerPadding,delete i.shouldUpdatePosition;var h=p.default.Children.only(t);return(0,d.cloneElement)(h,a({},i,c,{positionLeft:s,positionTop:l,className:(0,u.default)(n,h.props.className),style:a({},h.props.style,{left:s,top:l})}))}},{key:"getTarget",value:function(){var e=this.props.target,t="function"==typeof e?e():e;return t&&f.default.findDOMNode(t)||null}},{key:"maybeUpdatePosition",value:function(e){var t=this.getTarget();(this.props.shouldUpdatePosition||t!==this._lastTarget||e)&&this.updatePosition(t)}},{key:"updatePosition",value:function(e){if(this._lastTarget=e,!e)return void this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});var t=f.default.findDOMNode(this),n=(0,b.default)(this.props.container,(0,x.default)(this).body);this.setState((0,v.default)(this.props.placement,t,e,n,this.props.containerPadding))}}]),t}(p.default.Component);k.propTypes={target:p.default.PropTypes.oneOfType([_.default,p.default.PropTypes.func]),container:p.default.PropTypes.oneOfType([_.default,p.default.PropTypes.func]),containerPadding:p.default.PropTypes.number,placement:p.default.PropTypes.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:p.default.PropTypes.bool},k.displayName="Position",k.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},exports.default=k,e.exports=exports.default},function(e,exports){"use strict";function t(e){var t=!document.addEventListener,n=void 0;return t?(document.attachEvent("onfocusin",e),n=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),n=function(){return document.removeEventListener("focus",e,!0)}),{remove:n}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n=void 0,r=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,r=(0,p.default)((0,f.default)(e).documentElement)||(0,p.default)(e);else{var i=(0,l.default)(e);t=i.width,n=i.height,r=(0,p.default)(e)}return{width:t,height:n,scroll:r}}function i(e,t,n,i){var o=r(n),s=o.scroll,a=o.height,l=e-i-s,c=e+i-s+t;return l<0?-l:c>a?a-c:0}function o(e,t,n,i){var o=r(n),s=o.width,a=e-i,l=e+i+t;return a<0?-a:l>s?s-l:0}function s(e,t,n,r,s){var a="BODY"===r.tagName?(0,l.default)(n):(0,u.default)(n,r),c=(0,l.default)(t),d=c.height,p=c.width,h=void 0,f=void 0,m=void 0,_=void 0;if("left"===e||"right"===e){f=a.top+(a.height-d)/2,h="left"===e?a.left-p:a.left+a.width;var g=i(f,d,r,s);f+=g,_=50*(1-2*g/d)+"%",m=void 0}else{if("top"!==e&&"bottom"!==e)throw Error('calcOverlayPosition(): No such placement of "'+e+'" found.');h=a.left+(a.width-p)/2,f="top"===e?a.top-d:a.top+a.height;var v=o(h,p,r,s);h+=v,m=50*(1-2*v/p)+"%",_=void 0}return{positionLeft:h,positionTop:f,arrowOffsetLeft:m,arrowOffsetTop:_}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var a=t(91),l=n(a),c=t(562),u=n(c),d=t(150),p=n(d),h=t(98),f=n(h);e.exports=exports.default},function(e,exports){"use strict";function t(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function n(e,n){s(e,n,function(e){return t(!0,e)})}function r(e,n){s(e,n,function(e){return t(!1,e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ariaHidden=t,exports.hideSiblings=n,exports.showSiblings=r;var i=["template","script","style"],o=function(e){var t=e.nodeType,n=e.tagName;return 1===t&&i.indexOf(n.toLowerCase())===-1},s=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,function(e){t.indexOf(e)===-1&&o(e)&&n(e)})}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0,exports.default=void 0;var s=t(1),a=t(11),l=n(a),c=t(286),u=n(c),d=t(287),p=(n(d),function(e){function t(n,o){r(this,t);var s=i(this,e.call(this,n,o));return s.store=n.store,s}return o(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component));exports.default=p,p.propTypes={store:u.default.isRequired,children:l.default.element.isRequired},p.childContextTypes={store:u.default.isRequired}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function a(e,t){try{return e.apply(t)}catch(e){return E.value=e,E}}function l(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=!!e,h=e||k,m=void 0;m="function"==typeof t?t:t?(0,_.default)(t):A;var g=n||C,v=l.pure,y=void 0===v||v,w=l.withRef,j=void 0!==w&&w,M=y&&g!==C,T=S++;return function(e){function t(e,t,n){var r=g(e,t,n);return r}var n="Connect("+s(e)+")",l=function(s){function l(e,t){r(this,l);var o=i(this,s.call(this,e,t));o.version=T,o.store=e.store||t.store,(0,x.default)(o.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var a=o.store.getState();return o.state={storeState:a},o.clearCache(),o}return o(l,s),l.prototype.shouldComponentUpdate=function(){return!y||this.haveOwnPropsChanged||this.hasStoreStateChanged},l.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},l.prototype.configureFinalMapState=function(e,t){var n=h(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:h,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},l.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},l.prototype.configureFinalMapDispatch=function(e,t){var n=m(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:m,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},l.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,f.default)(e,this.stateProps))&&(this.stateProps=e,!0)},l.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,f.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},l.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&M&&(0,f.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},l.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},l.prototype.trySubscribe=function(){d&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},l.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},l.prototype.componentDidMount=function(){this.trySubscribe()},l.prototype.componentWillReceiveProps=function(e){y&&(0,f.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},l.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},l.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},l.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!y||t!==e){if(y&&!this.doStatePropsDependOnOwnProps){var n=a(this.updateStatePropsIfNeeded,this);if(!n)return;n===E&&(this.statePropsPrecalculationError=E.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},l.prototype.getWrappedInstance=function(){return(0,x.default)(j,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},l.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,a=!0;y&&o&&(s=n||t&&this.doStatePropsDependOnOwnProps,a=t&&this.doDispatchPropsDependOnOwnProps);var l=!1,d=!1;r?l=!0:s&&(l=this.updateStatePropsIfNeeded()),a&&(d=this.updateDispatchPropsIfNeeded());var p=!0;return p=!!(l||d||t)&&this.updateMergedPropsIfNeeded(),!p&&o?o:(j?this.renderedElement=(0,u.createElement)(e,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,u.createElement)(e,this.mergedProps),this.renderedElement)},l}(u.Component);return l.displayName=n,l.WrappedComponent=e,l.contextTypes={store:p.default},l.propTypes={store:p.default},(0,b.default)(l,e)}}exports.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.default=l;var u=t(1),d=t(286),p=n(d),h=t(739),f=n(h),m=t(740),_=n(m),g=t(287),v=(n(g),t(156)),y=(n(v),t(585)),b=n(y),w=t(58),x=n(w),k=function(e){return{}},A=function(e){return{dispatch:e}},C=function(e,t,n){return c({},n,e,t)},E={value:null},S=0},function(e,exports){"use strict";function t(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}exports.__esModule=!0,exports.default=t},function(e,exports,t){"use strict";function n(e){return function(t){return(0,r.bindActionCreators)(e,t)}}exports.__esModule=!0,exports.default=n;var r=t(194)},function(e,exports){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e){return Array.isArray(e)?e:Array.from(e)}function r(e){var r=new Date(e);if(!Number.isNaN(r.valueOf()))return r;var i=(e+"").match(/\d+/g);if(null==i||i.length<=2)return r;var o=i.map(function(e){return parseInt(e)}),s=n(o),a=s[0],l=s[1],c=s.slice(2),u=[a,l-1].concat(t(c)),d=new Date(Date.UTC.apply(Date,t(u)));return d}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r},function(e,exports){"use strict";function t(e,t,n){return 1!==e&&(t+="s"),e+" "+t+" "+n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=[1,2,3,4,5,6,7,8,9,10,11,12],n=c.default.add(c.default.startOf(e,"century"),-20,"year");return t.map(function(){return n=c.default.add(n,10,"year")})}exports.__esModule=!0;var i=t(1),o=n(i),s=t(125),a=n(s),l=t(62),c=n(l),u=t(46),d=t(27),p=n(d),h=t(39),f=n(h),m=t(51),_=function(e){return u.date.getFormat("decade",e.decadeFormat)},g=function(e,t){return e+"__century_"+c.default.year(t)},v={culture:o.default.PropTypes.string,today:o.default.PropTypes.instanceOf(Date),value:o.default.PropTypes.instanceOf(Date),focused:o.default.PropTypes.instanceOf(Date),min:o.default.PropTypes.instanceOf(Date),max:o.default.PropTypes.instanceOf(Date),onChange:o.default.PropTypes.func.isRequired,decadeFormat:f.default.dateFormat};exports.default=o.default.createClass({displayName:"CenturyView",mixins:[t(99),t(100),t(56)()],propTypes:v,componentDidUpdate:function(){var e=g((0,m.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e)},render:function(){var e=this.props.focused;return o.default.createElement(a.default,p.default.omitOwnProps(this),o.default.createElement("tbody",null,p.default.chunk(r(e),4).map(this.renderRow)))},renderRow:function(e,t){var n=this,r=this.props,i=r.focused,s=r.disabled,l=r.onChange,d=r.value,p=r.today,h=r.culture,f=r.min,v=r.max,y=(0,m.instanceId)(this,"_century");return o.default.createElement(a.default.Row,{key:t},e.map(function(e,t){var r=u.date.format(c.default.startOf(e,"decade"),_(n.props),h);return o.default.createElement(a.default.Cell,{key:t,unit:"decade",id:g(y,e),label:r,date:e,now:p,min:f,max:v,onChange:l,focused:i,selected:d,disabled:s},r)}))}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}exports.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=t(1),s=n(o),a=t(27),l=(n(a),t(759)),c=n(l),u=t(43),d=n(u),p=t(288),h=n(p);exports.default=s.default.createClass({displayName:"ComboboxInput",propTypes:{value:s.default.PropTypes.string,suggest:s.default.PropTypes.bool,onChange:s.default.PropTypes.func.isRequired},componentDidUpdate:function(){var e=d.default.findDOMNode(this),t=this.props.value;if(this.isSuggesting()){var n=t.toLowerCase().indexOf(this._last.toLowerCase())+this._last.length,r=t.length-n;n>=0&&(0,c.default)(e,n,n+r)}},getDefaultProps:function(){return{value:""}},render:function(){var e=this.props,t=e.onKeyDown,n=r(e,["onKeyDown"]);return delete n.suggest,s.default.createElement(h.default,i({},n,{onKeyDown:t,onChange:this.handleChange}))},isSuggesting:function(){var e=this.props.value,t=null!=this._last&&e.toLowerCase().indexOf(this._last.toLowerCase())!==-1;return this.props.suggest&&t},accept:function(e){var t=d.default.findDOMNode(this).value||"",n=t.length;this._last=null,e&&(0,c.default)(d.default.findDOMNode(this),n,n)},handleChange:function(e){var t=e.target.value,n=!!this.props.placeholder;n&&!t&&t===(this.props.value||"")||(this._last=t,this.props.onChange(e,t))},focus:function(){d.default.findDOMNode(this).focus()}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function i(e){var t=null==e[C.datePopups.CALENDAR]||e.calendar,n=null==e[C.datePopups.TIME]||e.time;return e.format?e.format:t&&n||!t&&!n?A.date.getFormat("default"):A.date.getFormat(t?"date":"time")}function o(e,t,n){var r="";return e instanceof Date&&!isNaN(e.getTime())&&(r=A.date.format(e,t,n)),r}function s(e,t,n){for(var r,i=0;i<e.length;i++)if(r=A.date.parse(n,e[i],t))return r;return null}function a(e){return e&&!isNaN(e.getTime())?e:null}exports.__esModule=!0;var l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t(1),d=n(u),p=t(58),h=n(p),f=t(149),m=n(f),_=t(3),g=n(_),v=t(43),y=n(v),b=t(27),w=n(b),x=t(62),k=n(x),A=t(46),C=t(183),E=t(180),S=n(E),j=t(291),M=n(j),T=t(326),O=n(T),N=t(755),I=n(N),D=t(746),L=n(D),z=t(124),R=n(z),P=t(39),B=n(P),q=t(69),F=n(q),U=t(68),W=t(51),H=O.default.ControlledComponent,K=Object.keys(C.calendarViews).map(function(e){return C.calendarViews[e]}),G=c({},H.propTypes,{value:d.default.PropTypes.instanceOf(Date),onChange:d.default.PropTypes.func,open:d.default.PropTypes.oneOf([!1,C.datePopups.TIME,C.datePopups.CALENDAR]),onToggle:d.default.PropTypes.func,currentDate:d.default.PropTypes.instanceOf(Date),onCurrentDateChange:d.default.PropTypes.func,onSelect:d.default.PropTypes.func,min:d.default.PropTypes.instanceOf(Date),max:d.default.PropTypes.instanceOf(Date),culture:d.default.PropTypes.string,format:B.default.dateFormat,timeFormat:B.default.dateFormat,editFormat:B.default.dateFormat,calendar:d.default.PropTypes.bool,time:d.default.PropTypes.bool,timeComponent:B.default.elementType,dropUp:d.default.PropTypes.bool,duration:d.default.PropTypes.number,placeholder:d.default.PropTypes.string,name:d.default.PropTypes.string,initialView:d.default.PropTypes.oneOf(K),finalView:d.default.PropTypes.oneOf(K),autoFocus:d.default.PropTypes.bool,disabled:B.default.disabled,readOnly:B.default.readOnly,parse:d.default.PropTypes.oneOfType([d.default.PropTypes.arrayOf(d.default.PropTypes.string),d.default.PropTypes.string,d.default.PropTypes.func]),"aria-labelledby":d.default.PropTypes.string,messages:d.default.PropTypes.shape({calendarButton:d.default.PropTypes.string,timeButton:d.default.PropTypes.string})}),Y=d.default.createClass((l={displayName:"DateTimePicker",mixins:[t(126),t(99),t(293),t(182),t(181)({didHandle:function(e){e||this.close()}}),t(56)("valueInput",function(e,t){var n=this.props.open,r=this.ariaActiveDescendant(),i=n===C.datePopups.CALENDAR&&"calendar"===e,o=n===C.datePopups.TIME&&"timelist"===e;if(!r||o||i)return t})],propTypes:G,getInitialState:function(){return{focused:!1}},getDefaultProps:function(){return{value:null,currentDate:new Date,min:new Date(1900,0,1),max:new Date(2099,11,31),calendar:!0,time:!0,open:!1,footer:!0,messages:{calendarButton:"Select Date",timeButton:"Select Time"},ariaActiveDescendantKey:"dropdownlist"}},renderInput:function(e,t){var n=this.props,r=n.open,o=n.value,s=n.editFormat,a=n.culture,l=n.busy,c=n.placeholder,u=n.disabled,p=n.readOnly,h=n.name,f=n.tabIndex,m=n.autoFocus,_=n["aria-labelledby"],g=n["aria-describedby"],v=this.state.focused;return d.default.createElement(L.default,{id:e,ref:"valueInput",role:"combobox",name:h,tabIndex:f,autoFocus:m,placeholder:c,disabled:u,readOnly:p,value:o,format:i(this.props),editFormat:s,editing:v,culture:a,parse:this._parse,onChange:this.handleChange,"aria-haspopup":!0,"aria-labelledby":_,"aria-describedby":g,"aria-expanded":!!r,"aria-busy":!!l,"aria-owns":t})},renderButtons:function(e){var t=this.props,n=t.calendar,r=t.time,i=t.disabled,o=t.readOnly;return n||r?d.default.createElement("span",{className:"rw-select"},n&&d.default.createElement(R.default,{icon:"calendar",className:"rw-btn-calendar",label:e.calendarButton,disabled:!(!i&&!o),onClick:this._click.bind(null,C.datePopups.CALENDAR)}),r&&d.default.createElement(R.default,{icon:"clock-o",className:"rw-btn-time",label:e.timeButton,disabled:!(!i&&!o),onClick:this._click.bind(null,C.datePopups.TIME)})):null},renderCalendar:function(e,t){var n=this,r=this.props,i=r.open,o=r.value,s=r.duration,a=r.dropUp,l=w.default.pickProps(this.props,H);return d.default.createElement(M.default,{dropUp:a,duration:s,open:i===C.datePopups.CALENDAR,className:"rw-calendar-popup"},d.default.createElement(H,c({},l,{ref:"calPopup",id:e,tabIndex:"-1",value:o,autoFocus:!1,onChange:this.handleDateSelect,onNavigate:function(){return n.focus()},currentDate:this.props.currentDate,onCurrentDateChange:this.props.onCurrentDateChange,"aria-hidden":!i,"aria-live":"polite","aria-labelledby":t,ariaActiveDescendantKey:"calendar"})))},renderTimeList:function(e,t){var n=this,r=this.props,i=r.open,o=r.value,s=r.duration,l=r.dropUp,u=r.calendar,p=r.timeFormat,h=r.timeComponent,f=w.default.pickProps(this.props,I.default);return d.default.createElement(M.default,{dropUp:l,duration:s,open:i===C.datePopups.TIME,onOpening:function(){return n.refs.timePopup.forceUpdate()}},d.default.createElement("div",null,d.default.createElement(I.default,c({},f,{ref:"timePopup",id:e,format:p,value:a(o),onMove:this._scrollTo,onSelect:this.handleTimeSelect,preserveDate:!!u,itemComponent:h,"aria-labelledby":t,"aria-live":i&&"polite","aria-hidden":!i,ariaActiveDescendantKey:"timelist"}))))},render:function(){var e=this.props,t=e.className,n=e.calendar,r=e.time,i=e.open,o=e.messages,s=e.disabled,a=e.readOnly,l=e.dropUp,u=this.state.focused,p=(0,W.instanceId)(this,"_input"),h=(0,W.instanceId)(this,"_time_listbox"),f=(0,W.instanceId)(this,"_cal"),m="",_=w.default.omitOwnProps(this,H,I.default),v=i||(0,W.isFirstFocusedRender)(this);return n&&(m+=f),r&&(m+=" "+h),d.default.createElement(S.default,c({},_,{open:!!i,dropUp:l,focused:u,disabled:s,readOnly:a,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,className:(0,g.default)(t,"rw-datetimepicker",n&&r&&"rw-has-both",!n&&!r&&"rw-has-neither")}),this.renderInput(p,m.trim()),this.renderButtons(o),v&&this.renderTimeList(h,p),v&&this.renderCalendar(f,p))},handleChange:function(e,t,n){var r=this.props,i=r.onChange,o=r.value;n&&(e=this.inRangeValue(e)),i&&(null==e||null==o?e!=o&&i(e,t):k.default.eq(e,o)||i(e,t))},handleKeyDown:function(e){var t=this.props,n=t.open,r=t.calendar,i=t.time;(0,W.notify)(this.props.onKeyDown,[e]),e.defaultPrevented||("Escape"===e.key&&n?this.close():e.altKey?(e.preventDefault(),"ArrowDown"===e.key?r&&i?this.open(n===C.datePopups.CALENDAR?C.datePopups.TIME:C.datePopups.CALENDAR):i?this.open(C.datePopups.TIME):r&&this.open(C.datePopups.CALENDAR):"ArrowUp"===e.key&&this.close()):n&&(n===C.datePopups.CALENDAR&&this.refs.calPopup.handleKeyDown(e),n===C.datePopups.TIME&&this.refs.timePopup.handleKeyDown(e)))},handleKeyPress:function(e){(0,W.notify)(this.props.onKeyPress,[e]),e.defaultPrevented||this.props.open===C.datePopups.TIME&&this.refs.timePopup.handleKeyPress(e)},focus:function(){var e=this.refs.valueInput;e&&(0,m.default)()!==y.default.findDOMNode(e)&&e.focus()},handleDateSelect:function(e){var t=i(this.props),n=k.default.merge(e,this.props.value,this.props.currentDate),r=o(e,t,this.props.culture);this.close(),(0,W.notify)(this.props.onSelect,[n,r]),this.handleChange(n,r,!0),this.focus()},handleTimeSelect:function(e){var t=i(this.props),n=k.default.merge(this.props.value,e.date,this.props.currentDate),r=o(e.date,t,this.props.culture);this.close(),(0,W.notify)(this.props.onSelect,[n,r]),this.handleChange(n,r,!0),this.focus()},_click:function(e,t){this.focus(),this.toggle(e,t)},_parse:function(e){var t=i(this.props,!0),n=this.props.editFormat,r=this.props.parse,o=[];return"function"==typeof r?r(e,this.props.culture):("string"==typeof t&&o.push(t),"string"==typeof n&&o.push(n),r&&(o=o.concat(this.props.parse)),(0,h.default)(o.length,"React Widgets: there are no specified `parse` formats provided and the `format` prop is a function. the DateTimePicker is unable to parse `%s` into a dateTime, please provide either a parse function or Globalize.js compatible string for `format`",e),s(o,this.props.culture,e))},toggle:function(e){this.props.open?this.props.open!==e?this.open(e):this.close(e):this.open(e)},open:function(e){this.props.open!==e&&this.props[e]===!0&&(0,W.notify)(this.props.onToggle,e)},close:function(){this.props.open&&(0,W.notify)(this.props.onToggle,!1)},inRangeValue:function(e){return null==e?e:k.default.max(k.default.min(e,this.props.max),this.props.min)}},r(l,"handleChange",[U.widgetEditable],Object.getOwnPropertyDescriptor(l,"handleChange"),l),r(l,"handleKeyDown",[U.widgetEditable],Object.getOwnPropertyDescriptor(l,"handleKeyDown"),l),r(l,"handleKeyPress",[U.widgetEditable],Object.getOwnPropertyDescriptor(l,"handleKeyPress"),l),r(l,"handleDateSelect",[U.widgetEditable],Object.getOwnPropertyDescriptor(l,"handleDateSelect"),l),r(l,"handleTimeSelect",[U.widgetEditable],Object.getOwnPropertyDescriptor(l,"handleTimeSelect"),l),r(l,"_click",[U.widgetEditable],Object.getOwnPropertyDescriptor(l,"_click"),l),l));exports.default=(0,F.default)(Y,{open:"onToggle",value:"onChange",currentDate:"onCurrentDateChange"},["focus"]),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return!isNaN(e.getTime())}function i(e,t,n){var i="";return e instanceof Date&&r(e)&&(i=f.date.format(e,t,n)),i}exports.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=t(1),a=n(s),l=t(27),c=n(l),u=t(288),d=n(u),p=t(43),h=n(p),f=t(46),m=t(39),_=n(m);exports.default=a.default.createClass({displayName:"DateTimePickerInput",propTypes:{format:_.default.dateFormat.isRequired,editing:a.default.PropTypes.bool,editFormat:_.default.dateFormat,parse:a.default.PropTypes.func.isRequired,value:a.default.PropTypes.instanceOf(Date),onChange:a.default.PropTypes.func.isRequired,culture:a.default.PropTypes.string},componentWillReceiveProps:function(e){var t=e.value,n=e.editing,r=e.editFormat,o=e.format,s=e.culture;this.setState({textValue:i(t,n&&r?r:o,s)})},getInitialState:function(){var e=this.props,t=e.value,n=e.editing,r=e.editFormat,o=e.format,s=e.culture;return{textValue:i(t,n&&r?r:o,s)}},render:function(){var e=this.props,t=e.disabled,n=e.readOnly,r=this.state.textValue,i=c.default.omitOwnProps(this);return a.default.createElement(d.default,o({},i,{type:"text",value:r,disabled:t,readOnly:n,onChange:this.handleChange,onBlur:this.handleBlur}))},handleChange:function(e){var t=e.target.value;this._needsFlush=!0,this.setState({textValue:t})},handleBlur:function(e){var t=this.props,n=t.format,r=t.culture,o=t.parse,s=t.onChange,a=t.onBlur;if(a&&a(e),this._needsFlush){var l=o(e.target.value);this._needsFlush=!1,s(l,i(l,n,r))}},focus:function(){h.default.findDOMNode(this).focus()}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=[1,2,3,4,5,6,7,8,9,10,11,12],n=c.default.add(c.default.startOf(e,"decade"),-2,"year");return t.map(function(){return n=c.default.add(n,1,"year")})}exports.__esModule=!0;var i=t(1),o=n(i),s=t(125),a=n(s),l=t(62),c=n(l),u=t(46),d=t(27),p=n(d),h=t(39),f=n(h),m=t(51),_={culture:o.default.PropTypes.string,today:o.default.PropTypes.instanceOf(Date),value:o.default.PropTypes.instanceOf(Date),focused:o.default.PropTypes.instanceOf(Date),min:o.default.PropTypes.instanceOf(Date),max:o.default.PropTypes.instanceOf(Date),onChange:o.default.PropTypes.func.isRequired,yearFormat:f.default.dateFormat},g=function(e,t){return e+"__decade_"+c.default.year(t)};exports.default=o.default.createClass({displayName:"DecadeView",mixins:[t(99),t(100),t(56)()],propTypes:_,componentDidUpdate:function(){var e=g((0,m.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e)},render:function(){var e=this.props.focused;return o.default.createElement(a.default,p.default.omitOwnProps(this),o.default.createElement("tbody",null,p.default.chunk(r(e),4).map(this.renderRow)))},renderRow:function(e,t){var n=this.props,r=n.focused,i=n.disabled,s=n.onChange,l=n.yearFormat,c=n.value,d=n.today,p=n.culture,h=n.min,f=n.max,_=(0,m.instanceId)(this);return o.default.createElement(a.default.Row,{key:t},e.map(function(e,t){var n=u.date.format(e,u.date.getFormat("year",l),p);return o.default.createElement(a.default.Cell,{key:t,unit:"year",id:g(_,e),label:n,date:e,now:d,min:h,max:f,onChange:s,focused:r,selected:c,disabled:i},n)}))}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(1),i=n(r),o=t(124),s=n(o),a=t(46),l=function(e){return a.date.getFormat("footer",e.format)};e.exports=i.default.createClass({displayName:"Footer",render:function(){var e=this.props,t=e.disabled,n=e.readOnly,r=e.value;return i.default.createElement("div",{className:"rw-footer"},i.default.createElement(s.default,{disabled:!(!t&&!n),onClick:this.props.onClick.bind(null,r)},a.date.format(r,l(this.props),this.props.culture)))}})},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(1),i=n(r),o=t(124),s=n(o);exports.default=i.default.createClass({displayName:"Header",propTypes:{label:i.default.PropTypes.string.isRequired,labelId:i.default.PropTypes.string,upDisabled:i.default.PropTypes.bool.isRequired,prevDisabled:i.default.PropTypes.bool.isRequired,nextDisabled:i.default.PropTypes.bool.isRequired,onViewChange:i.default.PropTypes.func.isRequired,onMoveLeft:i.default.PropTypes.func.isRequired,onMoveRight:i.default.PropTypes.func.isRequired,messages:i.default.PropTypes.shape({moveBack:i.default.PropTypes.string,moveForward:i.default.PropTypes.string})},mixins:[t(99),t(100)],getDefaultProps:function(){return{messages:{moveBack:"navigate back",moveForward:"navigate forward"}}},render:function(){var e=this.props,t=e.messages,n=e.label,r=e.labelId,o=e.onMoveRight,a=e.onMoveLeft,l=e.onViewChange,c=e.prevDisabled,u=e.upDisabled,d=e.nextDisabled,p=this.isRtl();return i.default.createElement("div",{className:"rw-header"},i.default.createElement(s.default,{className:"rw-btn-left",onClick:a,disabled:c,label:t.moveBack,icon:"caret-"+(p?"right":"left")}),i.default.createElement(s.default,{id:r,onClick:l,className:"rw-btn-view",disabled:u,"aria-live":"polite","aria-atomic":"true"},n),i.default.createElement(s.default,{className:"rw-btn-right",onClick:o,disabled:d,label:t.moveForward,icon:"caret-"+(p?"left":"right")}))}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t(1),o=n(i),s=t(290),a=n(s),l=t(39),c=n(l),u=t(43),d=n(u),p=t(3),h=n(p),f=t(27),m=n(f),_=t(44),g=n(_),v=t(80),y=t(51),b=t(68),w=function(e,t){return e+"__option__"+t};exports.default=o.default.createClass({displayName:"List",mixins:[t(292),t(56)()],propTypes:{data:o.default.PropTypes.array,onSelect:o.default.PropTypes.func,onMove:o.default.PropTypes.func,optionComponent:c.default.elementType,itemComponent:c.default.elementType,groupComponent:c.default.elementType,selected:o.default.PropTypes.any,focused:o.default.PropTypes.any,valueField:c.default.accessor,textField:c.default.accessor,disabled:c.default.disabled.acceptsArray,readOnly:c.default.readOnly.acceptsArray,groupBy:c.default.accessor,messages:o.default.PropTypes.shape({emptyList:c.default.message})},getDefaultProps:function(){return{onSelect:function(){},data:[],optionComponent:a.default,ariaActiveDescendantKey:"groupedList",messages:{emptyList:"There are no items in this list"}}},getInitialState:function(){var e=[];return{groups:this._group(this.props.groupBy,this.props.data,e),sortedKeys:e}},componentWillReceiveProps:function(e){var t=[];e.data===this.props.data&&e.groupBy===this.props.groupBy||this.setState({groups:this._group(e.groupBy,e.data,t),sortedKeys:t})},componentDidMount:function(){this.move()},componentDidUpdate:function(){this.ariaActiveDescendant(this._currentActiveID),this.move()},render:function(){var e=this,t=this.props,n=t.className,i=t.role,s=t.data,a=t.messages,l=this.state,c=l.sortedKeys,u=l.groups,d=m.default.omitOwnProps(this),p=[],f=-1,_=void 0,g=(0,y.instanceId)(this);return this._currentActiveID=null,p=s.length?c.reduce(function(t,n){_=u[n],t.push(e._renderGroupHeader(n));for(var r=0;r<_.length;r++)t.push(e._renderItem(n,_[r],++f));return t},[]):o.default.createElement("li",{className:"rw-list-empty"},m.default.result(a.emptyList,this.props)),o.default.createElement("ul",r({ref:"scrollable",id:g,tabIndex:"-1",className:(0,h.default)(n,"rw-list","rw-list-grouped"),role:void 0===i?"listbox":i},d),p)},_renderGroupHeader:function(e){var t=this.props.groupComponent,n=(0,y.instanceId)(this);return o.default.createElement("li",{key:"item_"+e,tabIndex:"-1",role:"separator",id:n+"_group_"+e,className:"rw-list-optgroup"},t?o.default.createElement(t,{item:e}):e)},_renderItem:function(e,t,n){var r=this.props,i=r.focused,s=r.selected,a=r.onSelect,l=r.textField,c=r.valueField,u=r.itemComponent,d=r.optionComponent,p=w((0,y.instanceId)(this),n),h=(0,b.isDisabledItem)(t,this.props),f=(0,b.isReadOnlyItem)(t,this.props);return i===t&&(this._currentActiveID=p),o.default.createElement(d,{key:"item_"+e+"_"+n,id:p,dataItem:t,focused:i===t,selected:s===t,disabled:h,readOnly:f,onClick:h||f?void 0:a.bind(null,t)},u?o.default.createElement(u,{item:t,value:(0,v.dataValue)(t,c),text:(0,v.dataText)(t,l),disabled:h,readOnly:f}):(0,v.dataText)(t,l))},_isIndexOf:function(e,t){return this.props.data[e]===t},_group:function(e,t,n){var r="function"==typeof e?e:function(t){return t[e]};return n=n||[],(0,g.default)("string"!=typeof e||!t.length||m.default.has(t[0],e),"[React Widgets] You seem to be trying to group this list by a "+("property `"+e+"` that doesn't exist in the dataset items, this may be a typo")),t.reduce(function(e,t){var i=r(t);return m.default.has(e,i)?e[i].push(t):(n.push(i),e[i]=[t]),e},{})},_data:function(){var e=this.state.groups;return this.state.sortedKeys.reduce(function(t,n){return t.concat(e[n])},[])},move:function(){var e=this.getItemDOMNode(this.props.focused);e&&(0,y.notify)(this.props.onMove,[e,d.default.findDOMNode(this),this.props.focused])},getItemDOMNode:function(e){var t,n,r=d.default.findDOMNode(this),i=this.state.groups,o=-1;return this.state.sortedKeys.some(function(s){return t=i[s].indexOf(e),o++,t!==-1?!!(n=r.children[o+t+1]):void(o+=i[s].length)}),n}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(1),i=n(r),o=t(125),s=n(o),a=t(62),l=n(a),c=t(46),u=t(39),d=n(u),p=t(27),h=n(p),f=t(51),m=function(e){return c.date.getFormat("weekday",e.dayFormat)},_=function(e){return c.date.getFormat("dayOfMonth",e.dateFormat)},g=function(e,t){return e+"__month_"+l.default.month(t)+"-"+l.default.date(t)},v={culture:i.default.PropTypes.string,today:i.default.PropTypes.instanceOf(Date),value:i.default.PropTypes.instanceOf(Date),focused:i.default.PropTypes.instanceOf(Date),min:i.default.PropTypes.instanceOf(Date),max:i.default.PropTypes.instanceOf(Date),onChange:i.default.PropTypes.func.isRequired,dayComponent:d.default.elementType,dayFormat:d.default.dateFormat,dateFormat:d.default.dateFormat},y=function(e,t){return l.default.eq(e,t,"day")},b=i.default.createClass({displayName:"MonthView",statics:{isEqual:y},mixins:[t(100),t(56)()],propTypes:v,componentDidUpdate:function(){var e=g((0,f.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e,null)},render:function(){var e=this.props,t=e.focused,n=e.culture,r=l.default.visibleDays(t,n),o=h.default.chunk(r,7);return i.default.createElement(s.default,h.default.omitOwnProps(this),i.default.createElement("thead",null,i.default.createElement("tr",null,this.renderHeaders(o[0],m(this.props),n))),i.default.createElement("tbody",null,o.map(this.renderRow)))},renderRow:function(e,t){var n=this,r=this.props,o=r.focused,a=r.today,l=r.disabled,u=r.onChange,d=r.value,p=r.culture,h=r.min,m=r.max,v=r.dayComponent,y=(0,f.instanceId)(this),b=c.date.getFormat("footer");return i.default.createElement(s.default.Row,{key:t},e.map(function(e,t){var r=c.date.format(e,_(n.props),p),f=c.date.format(e,b,p);return i.default.createElement(s.default.Cell,{key:t,id:g(y,e),label:f,date:e,now:a,min:h,max:m,unit:"day",viewUnit:"month",onChange:u,focused:o,selected:d,disabled:l},v?i.default.createElement(v,{date:e,label:r}):r)}))},renderHeaders:function(e,t,n){return e.map(function(e){return i.default.createElement("th",{key:"header_"+l.default.weekday(e,void 0,c.date.startOfWeek(n))},c.date.format(e,t,n))})}});exports.default=b,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return s.default.Children.only(e)}function i(e){return e&&e.key}exports.__esModule=!0;var o=t(1),s=n(o),a=t(53),l=n(a),c=t(111),u=n(c),d=t(232),p=n(d),h=t(43),f=n(h),m=t(27),_=n(m);exports.default=s.default.createClass({displayName:"ReplaceTransitionGroup",propTypes:{component:s.default.PropTypes.oneOfType([s.default.PropTypes.element,s.default.PropTypes.string]),childFactory:s.default.PropTypes.func,onAnimating:s.default.PropTypes.func,onAnimate:s.default.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:function(e){return e},onAnimating:_.default.noop,onAnimate:_.default.noop}},getInitialState:function(){return{children:_.default.splat(this.props.children)}},componentWillReceiveProps:function(e){var t=r(e.children),n=this.state.children.slice(),o=n[1],s=n[0],a=s&&i(s)===i(t),l=o&&i(o)===i(t);s?!s||o||a?s&&o&&!a&&!l?(n.shift(),n.push(t),this.leaving=o,this.entering=t):a?n.splice(0,1,t):l&&n.splice(1,1,t):(n.push(t),this.leaving=s,this.entering=t):(n.push(t),this.entering=t),this.state.children[0]===n[0]&&this.state.children[1]===n[1]||this.setState({children:n})},componentWillMount:function(){this.animatingKeys={},this.leaving=null,this.entering=null},componentDidUpdate:function(){var e=this.entering,t=this.leaving,n=this.refs[i(e)||i(t)],r=f.default.findDOMNode(this),o=n&&f.default.findDOMNode(n);o&&(0,l.default)(r,{overflow:"hidden",height:(0,u.default)(o)+"px",width:(0,p.default)(o)+"px"}),this.props.onAnimating(),this.entering=null,this.leaving=null,e&&this.performEnter(i(e)),t&&this.performLeave(i(t))},performEnter:function(e){var t=this.refs[e];t&&(this.animatingKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e))},_tryFinish:function(){this.isTransitioning()||(this.isMounted()&&(0,l.default)(f.default.findDOMNode(this),{overflow:"visible",height:"",width:""}),this.props.onAnimate())},_handleDoneEntering:function(e){var t=this.refs[e];t&&t.componentDidEnter&&t.componentDidEnter(),delete this.animatingKeys[e],i(this.props.children)!==e&&this.performLeave(e),this._tryFinish()},performLeave:function(e){var t=this.refs[e];t&&(this.animatingKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e))},_handleDoneLeaving:function(e){var t=this.refs[e];t&&t.componentDidLeave&&t.componentDidLeave(),delete this.animatingKeys[e],i(this.props.children)===e?this.performEnter(e):this.isMounted()&&this.setState({children:this.state.children.filter(function(t){return i(t)!==e})}),this._tryFinish()},isTransitioning:function(){return!!Object.keys(this.animatingKeys).length},render:function(){var e=this,t=this.props.component;return s.default.createElement(t,_.default.omitOwnProps(this),this.state.children.map(function(t){return e.props.childFactory(t,i(t))}))}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=t(1),c=n(l),u=t(3),d=n(u),p=t(124),h=n(p),f=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=r(e,["className"]);return c.default.createElement(h.default,a({},n,{className:(0,d.default)(t,"rw-select")}))},t}(c.default.Component);exports.default=f,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t(1),o=n(i),s=t(752),a=n(s),l=t(43),c=n(l),u=t(53),d=n(u),p=t(232),h=n(p),f=t(193),m=n(f),_=t(27),g=n(_),v=o.default.createClass({displayName:"SlideChildGroup",propTypes:{direction:o.default.PropTypes.oneOf(["left","right"]),duration:o.default.PropTypes.number},componentWillEnter:function(e){var t=this,n=c.default.findDOMNode(this),r=(0,h.default)(n),i=this.props.direction;r="left"===i?r:-r,this.ORGINAL_POSITION=n.style.position,(0,d.default)(n,{position:"absolute",left:r+"px",top:0}),m.default.animate(n,{left:0},this.props.duration,function(){(0,d.default)(n,{position:t.ORGINAL_POSITION,overflow:"hidden"}),t.ORGINAL_POSITION=null,e&&e()})},componentWillLeave:function(e){var t=this,n=c.default.findDOMNode(this),r=(0,h.default)(n),i=this.props.direction;r="left"===i?-r:r,this.ORGINAL_POSITION=n.style.position,(0,d.default)(n,{position:"absolute",top:0,left:0}),m.default.animate(n,{left:r+"px"},this.props.duration,function(){(0,d.default)(n,{position:t.ORGINAL_POSITION,overflow:"hidden"}),t.ORGINAL_POSITION=null,e&&e()})},render:function(){return o.default.Children.only(this.props.children)}});e.exports=o.default.createClass({displayName:"exports",propTypes:{direction:o.default.PropTypes.oneOf(["left","right"]),duration:o.default.PropTypes.number},getDefaultProps:function(){return{direction:"left",duration:250}},_wrapChild:function(e,t){return o.default.createElement(v,{key:e.key,ref:t,direction:this.props.direction,duration:this.props.duration},e)},render:function(){var e=this.props,t=e.style,n=e.children;return t=r({},t,{position:"relative",overflow:"hidden"}),o.default.createElement(a.default,r({},g.default.omitOwnProps(this),{ref:"container",component:"div",childFactory:this._wrapChild,style:t}),n)}})},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t(1),o=n(i),s=t(62),a=n(s),l=t(289),c=n(l),u=t(46),d=t(39),p=n(d),h=t(27),f=n(h),m=function(e){return u.date.getFormat("time",e.format)};exports.default=o.default.createClass({displayName:"TimeList",propTypes:{value:o.default.PropTypes.instanceOf(Date),step:o.default.PropTypes.number,min:o.default.PropTypes.instanceOf(Date),max:o.default.PropTypes.instanceOf(Date),currentDate:o.default.PropTypes.instanceOf(Date),itemComponent:p.default.elementType,format:p.default.dateFormat,onSelect:o.default.PropTypes.func,preserveDate:o.default.PropTypes.bool,culture:o.default.PropTypes.string,delay:o.default.PropTypes.number},mixins:[t(126)],getDefaultProps:function(){return{step:30,onSelect:function(){},min:new Date(1900,0,1),max:new Date(2099,11,31),preserveDate:!0,delay:300,ariaActiveDescendantKey:"timelist"}},getInitialState:function(){var e=this._dates(this.props),t=this._closestDate(e,this.props.value||this.props.currentDate);return{focusedItem:t||e[0],dates:e}},componentWillReceiveProps:function(e){var t=this._dates(e),n=this._closestDate(t,e.value||this.props.currentDate),r=!a.default.eq(e.value,this.props.value,"minutes"),i=!a.default.eq(e.min,this.props.min,"minutes"),o=!a.default.eq(e.max,this.props.max,"minutes"),s=this.props.format!==e.format||this.props.culture!==e.culture;(r||i||o||s)&&this.setState({focusedItem:n||t[0],dates:t})},render:function(){var e=this.props,t=e.value,n=e.onSelect,i=e.itemComponent,s=this.state.dates,a=this._closestDate(s,t);return o.default.createElement(c.default,r({},f.default.omitOwnProps(this),{ref:"list",data:s,textField:"label",valueField:"date",selected:a,onSelect:n,focused:this.state.focusedItem,itemComponent:i}))},_closestDate:function(e,t){var n,r=6e4*this.props.step,i=null;return t?(t=new Date(Math.floor(t.getTime()/r)*r),n=u.date.format(t,m(this.props),this.props.culture),e.some(function(e){if(e.label===n)return i=e}),i):null},_data:function(){return this.state.dates},_dates:function(e){for(var t=[],n=0,r=this._dateValues(e),i=r.min,o=a.default.date(i);a.default.date(i)===o&&a.default.lte(i,r.max);)n++,t.push({date:i,label:u.date.format(i,m(e),e.culture)}),i=a.default.add(i,e.step||30,"minutes");return t},_dateValues:function(e){var t,n,r=e.value||e.currentDate||a.default.today(),i=e.preserveDate,o=e.min,s=e.max;return i?(t=a.default.today(),n=a.default.tomorrow(),{min:a.default.eq(r,o,"day")?a.default.merge(t,o,e.currentDate):t,max:a.default.eq(r,s,"day")?a.default.merge(t,s,e.currentDate):n}):(t=a.default.startOf(a.default.merge(new Date,o,e.currentDate),"minutes"),n=a.default.startOf(a.default.merge(new Date,s,e.currentDate),"minutes"),a.default.lte(n,t)&&a.default.gt(s,o,"day")&&(n=a.default.tomorrow()),{min:t,max:n})},handleKeyDown:function(e){var t=e.key,n=this.state.focusedItem,r=this.refs.list;"End"===t?(e.preventDefault(),this.setState({focusedItem:r.last()})):"Home"===t?(e.preventDefault(),this.setState({focusedItem:r.first()})):"Enter"===t?this.props.onSelect(n):"ArrowDown"===t?(e.preventDefault(),this.setState({focusedItem:r.next(n)})):"ArrowUp"===t&&(e.preventDefault(),this.setState({focusedItem:r.prev(n)}))},handleKeyPress:function(e){var t=this;e.preventDefault(),this.search(String.fromCharCode(e.which),function(e){t.isMounted()&&t.setState({focusedItem:e})})},scrollTo:function(){this.refs.list.move&&this.refs.list.move()},search:function(e,t){var n=this,r=((this._searchTerm||"")+e).toLowerCase();this._searchTerm=r,this.setTimeout("search",function(){var e=n.refs.list,i=e.next(n.state.focusedItem,r);n._searchTerm="",i&&t(i)},this.props.delay)}}),e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(1),i=n(r),o=t(125),s=n(o),a=t(62),l=n(a),c=t(46),u=t(27),d=n(u),p=t(39),h=n(p),f=t(51),m=function(e){return c.date.getFormat("month",e.monthFormat)},_={culture:i.default.PropTypes.string,today:i.default.PropTypes.instanceOf(Date),value:i.default.PropTypes.instanceOf(Date),focused:i.default.PropTypes.instanceOf(Date),min:i.default.PropTypes.instanceOf(Date),max:i.default.PropTypes.instanceOf(Date),onChange:i.default.PropTypes.func.isRequired,monthFormat:h.default.dateFormat},g=function(e,t){return e+"__year_"+l.default.year(t)+"-"+l.default.month(t)},v=i.default.createClass({displayName:"YearView",mixins:[t(100),t(56)()],propTypes:_,componentDidUpdate:function(){var e=g((0,f.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e)},render:function(){var e=this.props.focused,t=l.default.monthsInYear(l.default.year(e));return i.default.createElement(s.default,d.default.omitOwnProps(this),i.default.createElement("tbody",null,d.default.chunk(t,4).map(this.renderRow)))},renderRow:function(e,t){var n=this,r=this.props,o=r.focused,a=r.disabled,l=r.onChange,u=r.value,d=r.today,p=r.culture,h=r.min,_=r.max,v=(0,f.instanceId)(this),y=c.date.getFormat("header");return i.default.createElement(s.default.Row,{key:t},e.map(function(e,t){var r=c.date.format(e,y,p);return i.default.createElement(s.default.Cell,{key:t,id:g(v,e),label:r,date:e,now:d,min:h,max:_,unit:"month",onChange:l,focused:o,selected:u,disabled:a},c.date.format(e,m(n.props),p))}))}});exports.default=v,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=t(1),i=n(r),o=t(29);exports.default={propTypes:{autoFocus:i.default.PropTypes.bool},componentDidMount:function(){var e=this.props.autoFocus;e&&(this.focus?this.focus():(0,o.findDOMNode)(this).focus())}},e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t=n.props.caseSensitive?t:t.toLowerCase(),function(r){var i=(0,u.dataText)(r,n.props.textField);return n.props.caseSensitive||(i=i.toLowerCase()),e(i,t)}}var i=t(1),o=n(i),s=t(127),a=n(s),l=t(39),c=n(l),u=t(80),d=function(e){return e===!0?"startsWith":e?e:"eq"};e.exports={propTypes:{data:o.default.PropTypes.array,value:o.default.PropTypes.any,filter:c.default.filter,caseSensitive:o.default.PropTypes.bool,minLength:o.default.PropTypes.number},getDefaultProps:function(){return{caseSensitive:!1,minLength:1}},filterIndexOf:function(e,t){var n=-1,i="function"==typeof this.props.filter?this.props.filter:r(a.default[d(this.props.filter)],t,this);return!t||!t.trim()||this.props.filter&&t.length<(this.props.minLength||1)?-1:(e.every(function(e,r){return!i(e,t,r)||(n=r,!1)}),n)},filter:function(e,t){var n="string"==typeof this.props.filter?r(a.default[this.props.filter],t,this):this.props.filter;return!n||!t||!t.trim()||t.length<(this.props.minLength||1)?e:e.filter(function(e,r){return n(e,t,r)})}}},function(e,exports){"use strict";function t(e,t,i){return void 0===t?n(e):void r(e,t,i)}function n(e){var t,n,r,i;if(void 0!==e.selectionStart)t=e.selectionStart,n=e.selectionEnd;else try{e.focus(),r=e.createTextRange(),i=r.duplicate(),r.moveToBookmark(document.selection.createRange().getBookmark()),i.setEndPoint("EndToStart",r),t=i.text.length,n=t+r.text.length}catch(e){}return{start:t,end:n}}function r(e,t,n){var r;try{void 0!==e.selectionStart?(e.focus(),e.setSelectionRange(t,n)):(e.focus(),r=e.createTextRange(),r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select())}catch(e){}}exports.__esModule=!0,exports.default=t,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,i){function s(t){t.target===t.currentTarget&&(l=!0,(0,d.default)(t.target,h.default.end,s),(0,a.default)(e,m),i&&i.call(this))}var l,u=[],p={target:e,currentTarget:e},g={},v="";"function"==typeof r&&(i=r,r=null),h.default.end||(n=0),void 0===n&&(n=200);for(var y in t)f.call(t,y)&&(/(top|bottom)/.test(y)?v+=_[y]+"("+t[y]+") ":(g[y]=t[y],u.push((0,o.default)(y))));return v&&(g[h.default.transform]=v,u.push(h.default.transform)),n>0&&(g[h.default.property]=u.join(", "),g[h.default.duration]=n/1e3+"s",g[h.default.delay]="0s",g[h.default.timing]=r||"linear",(0,c.default)(e,h.default.end,s),setTimeout(function(){l||s(p)},n+500)),e.clientLeft,(0,a.default)(e,g),n<=0&&setTimeout(s.bind(null,p),0),{cancel:function(){l||(l=!0,(0,d.default)(e,h.default.end,s),(0,a.default)(e,m))}}}exports.__esModule=!0,exports.default=r;var i=t(233),o=n(i),s=t(53),a=n(s),l=t(90),c=n(l),u=t(110),d=n(u),p=t(151),h=n(p),f=Object.prototype.hasOwnProperty,m={},_={left:"translateX",right:"translateX",top:"translateY",bottom:"translateY"};m[h.default.property]=m[h.default.duration]=m[h.default.delay]=m[h.default.timing]="",r.endEvent=h.default.end,r.transform=h.default.transform,r.TRANSLATION_MAP=_,e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){}exports.__esModule=!0,exports.default=r;var i=t(58);n(i);e.exports=exports.default},166,[1285,82],function(e,exports,t){"use strict";function n(e){return(""+e).replace(y,"$&/")}function r(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function o(e,t,n){if(null==e)return e;var o=r.getPooled(t,n);_(e,i,o),r.release(o)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function a(e,t,r){var i=e.result,o=e.keyPrefix,s=e.func,a=e.context,c=s.call(a,t,e.count++);Array.isArray(c)?l(c,i,r,m.thatReturnsArgument):null!=c&&(f.isValidElement(c)&&(c=f.cloneAndReplaceKey(c,o+(!c.key||t&&t.key===c.key?"":n(c.key)+"/")+r)),i.push(c))}function l(e,t,r,i,o){var l="";null!=r&&(l=n(r)+"/");var c=s.getPooled(t,l,i,o);_(e,a,c),s.release(c)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function u(e,t,n){return null}function d(e,t){return _(e,u,null)}function p(e){var t=[];return l(e,t,null,m.thatReturnsArgument),t}var h=t(763),f=t(81),m=t(42),_=t(774),g=h.twoArgumentPooler,v=h.fourArgumentPooler,y=/\/+/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(r,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,v);var b={forEach:o,map:c,mapIntoWithKeyPrefixInternal:l,count:d,toArray:p};e.exports=b},function(e,exports,t){"use strict";function n(e){return e}function r(e,t){var n=y.hasOwnProperty(t)?y[t]:null;w.hasOwnProperty(t)&&("OVERRIDE_BASE"!==n?d("73",t):void 0),e&&("DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n?d("74",t):void 0)}function i(e,t){if(t){"function"==typeof t?d("75"):void 0,f.isValidElement(t)?d("76"):void 0;var n=e.prototype,i=n.__reactAutoBindPairs;t.hasOwnProperty(g)&&b.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==g){var s=t[o],c=n.hasOwnProperty(o);if(r(c,o),b.hasOwnProperty(o))b[o](e,s);else{var u=y.hasOwnProperty(o),p="function"==typeof s,h=p&&!u&&!c&&t.autobind!==!1;if(h)i.push(o,s),n[o]=s;else if(c){var m=y[o];!u||"DEFINE_MANY_MERGED"!==m&&"DEFINE_MANY"!==m?d("77",m,o):void 0,"DEFINE_MANY_MERGED"===m?n[o]=a(n[o],s):"DEFINE_MANY"===m&&(n[o]=l(n[o],s))}else n[o]=s}}}else;}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in b;i?d("78",n):void 0;var o=n in e;o?d("79",n):void 0,e[n]=r}}}function s(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:d("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?d("81",n):void 0,e[n]=t[n]);return e}function a(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return s(i,n),s(i,r),i}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function u(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=c(e,i)}}var d=t(82),p=t(25),h=t(184),f=t(81),m=(t(767),t(185)),_=t(85),g=(t(14),t(18),"mixins"),v=[],y={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=a(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},x=function(){};p(x.prototype,h.prototype,w);var k={createClass:function(e){var t=n(function(e,n,r){this.__reactAutoBindPairs.length&&u(this),this.props=e,this.context=n,this.refs=_,this.updater=r||m,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?d("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=i});t.prototype=new x,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:d("83");for(var r in y)t.prototype[r]||(t.prototype[r]=null);return t},injection:{injectMixin:function(e){v.push(e)}}};e.exports=k},function(e,exports,t){"use strict";var n=t(81),r=n.createFactory,i={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=i},function(e,exports,t){"use strict";var n={};e.exports=n},function(e,exports,t){"use strict";var n=t(81),r=n.isValidElement,i=t(242);e.exports=i(r)},function(e,exports,t){"use strict";function n(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||s}function r(){}var i=t(25),o=t(184),s=t(185),a=t(85);r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n,i(n.prototype,o.prototype),n.prototype.isPureReactComponent=!0,e.exports=n},323,721,function(e,exports){"use strict";function t(){return n++}var n=1;e.exports=t},function(e,exports,t){"use strict";function n(e){return i.isValidElement(e)?void 0:r("143"),e}var r=t(82),i=t(81);t(14);e.exports=n},function(e,exports,t){"use strict";function n(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function r(e,t,i,d){var p=typeof e;if("undefined"!==p&&"boolean"!==p||(e=null),null===e||"string"===p||"number"===p||"object"===p&&e.$$typeof===s)return i(d,e,""===t?c+n(e,0):t),1;var h,f,m=0,_=""===t?c:t+u;if(Array.isArray(e))for(var g=0;g<e.length;g++)h=e[g],f=_+n(h,g),m+=r(h,f,i,d);else{var v=a(e);if(v){var y,b=v.call(e);if(v!==e.entries)for(var w=0;!(y=b.next()).done;)h=y.value,f=_+n(h,w++),m+=r(h,f,i,d);else for(;!(y=b.next()).done;){var x=y.value;x&&(h=x[1],f=_+l.escape(x[0])+u+n(h,0),m+=r(h,f,i,d))}}else if("object"===p){var k="",A=e+"";o("31","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,k)}}return m}function i(e,t,n){return null==e?0:r(e,"",t,n)}var o=t(82),s=(t(57),t(295)),a=t(771),l=(t(14),t(762)),c=(t(18),"."),u=":";e.exports=i},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),l=a.dispatch,c=[],u={getState:a.getState,dispatch:function(e){return l(e)}};return c=t.map(function(e){return e(u)}),l=s.default.apply(void 0,c)(a.dispatch),i({},a,{dispatch:l})}}}exports.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.default=r;var o=t(297),s=n(o)},function(e,exports){"use strict";function t(e,t){return function(){return t(e.apply(void 0,arguments))}}function n(e,n){if("function"==typeof e)return t(e,n);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var s=r[o],a=e[s];"function"==typeof a&&(i[s]=t(a,n))}return i}exports.__esModule=!0,exports.default=n},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=t&&t.type,r=n&&'"'+n+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if(void 0===r)throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');
var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:i}))throw Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var s=t[o];"function"==typeof e[s]&&(n[s]=e[s])}var a,l=Object.keys(n);try{i(n)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var i=!1,o={},s=0;s<l.length;s++){var c=l[s],u=n[c],d=e[c],p=u(d,t);if(void 0===p){var h=r(c,t);throw Error(h)}o[c]=p,i=i||p!==d}return i?o:e}}exports.__esModule=!0,exports.default=o;var s=t(298),a=t(156),l=(n(a),t(299));n(l)},function(e,exports){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],r=null,i=null;return function(){for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];return null!==r&&r.length===o.length&&o.every(function(e,n){return t(e,r[n])})||(i=e.apply(void 0,o)),r=o,i}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function o(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return function(){for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=0,l=o.pop(),c=i(o),u=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(r)),d=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=c.map(function(t){return t.apply(void 0,[e,n].concat(i))});return u.apply(void 0,t(s))};return d.resultFunc=l,d.recomputations=function(){return a},d.resetRecomputations=function(){return a=0},d}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?a:arguments[1];if("object"!=typeof e)throw Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}exports.__esModule=!0,exports.defaultMemoize=r,exports.createSelectorCreator=o,exports.createStructuredSelector=s;var a=exports.createSelector=o(r)},function(e,exports,t){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return m[f]=r,h(f),f++}function i(e){delete m[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function s(e){if(_)setTimeout(s,0,e);else{var t=m[e];if(t){_=!0;try{o(t)}finally{i(e),_=!1}}}}function a(){h=function(e){t.nextTick(function(){s(e)})}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),h=function(n){e.postMessage(t+n,"*")}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;s(t)},h=function(t){e.port2.postMessage(t)}}function d(){var e=g.documentElement;h=function(t){var n=g.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function p(){h=function(e){setTimeout(s,0,e)}}if(!e.setImmediate){var h,f=1,m={},_=!1,g=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?a():l()?c():e.MessageChannel?u():g&&"onreadystatechange"in g.createElement("script")?d():p(),v.setImmediate=r,v.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(exports,function(){return this}(),t(84))},function(e,exports,t){e.exports=t(781)},function(e,exports,t){(function(e,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var i,o=t(782),s=r(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=(0,s.default)(i);exports.default=a}).call(exports,function(){return this}(),t(130)(e))},function(e,exports){"use strict";function t(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t},,function(e,exports,t){var n,r,i;!function(o){r=[t(37)],n=o,i="function"==typeof n?n.apply(exports,r):n,!(void 0!==i&&(e.exports=i))}(function($){function e(){var e=i.settings;if(e.autoDispose&&!$.contains(document.documentElement,this))return $(this).timeago("dispose"),this;var o=t(this);return isNaN(o.datetime)||(0===e.cutoff||Math.abs(r(o.datetime))<e.cutoff?$(this).text(n(o.datetime)):$(this).attr("title").length>0&&$(this).text($(this).attr("title"))),this}function t(e){if(e=$(e),!e.data("timeago")){e.data("timeago",{datetime:i.datetime(e)});var t=$.trim(e.text());i.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(t.length>0)||i.isTime(e)&&e.attr("title")||e.attr("title",t)}return e.data("timeago")}function n(e){return i.inWords(r(e))}function r(e){return(new Date).getTime()-e.getTime()}$.timeago=function(e){return n(e instanceof Date?e:"string"==typeof e?$.timeago.parse(e):"number"==typeof e?new Date(e):$.timeago.datetime(e))};var i=$.timeago;$.extend($.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function t(t,r){var i=$.isFunction(t)?t(r,e):t,o=n.numbers&&n.numbers[r]||r;return i.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var n=this.settings.strings,r=n.prefixAgo,i=n.suffixAgo;if(this.settings.allowFuture&&e<0&&(r=n.prefixFromNow,i=n.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var o=Math.abs(e)/1e3,s=o/60,a=s/60,l=a/24,c=l/365,u=o<45&&t(n.seconds,Math.round(o))||o<90&&t(n.minute,1)||s<45&&t(n.minutes,Math.round(s))||s<90&&t(n.hour,1)||a<24&&t(n.hours,Math.round(a))||a<42&&t(n.day,1)||l<30&&t(n.days,Math.round(l))||l<45&&t(n.month,1)||l<365&&t(n.months,Math.round(l/30))||c<1.5&&t(n.year,1)||t(n.years,Math.round(c)),d=n.wordSeparator||"";return void 0===n.wordSeparator&&(d=" "),$.trim([r,u,i].join(d))},parse:function(e){var t=$.trim(e);return t=t.replace(/\.\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),t=t.replace(/([\+\-]\d\d)$/," $100"),new Date(t)},datetime:function(e){var t=i.isTime(e)?$(e).attr("datetime"):$(e).attr("title");return i.parse(t)},isTime:function(e){return"time"===$(e).get(0).tagName.toLowerCase()}});var o={init:function(){o.dispose.call(this);var t=$.proxy(e,this);t();var n=i.settings;n.refreshMillis>0&&(this._timeagoInterval=setInterval(t,n.refreshMillis))},update:function(t){var n=t instanceof Date?t:i.parse(t);$(this).data("timeago",{datetime:n}),i.settings.localeTitle&&$(this).attr("title",n.toLocaleString()),e.apply(this)},updateFromDOM:function(){$(this).data("timeago",{datetime:i.parse(i.isTime(this)?$(this).attr("datetime"):$(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};$.fn.timeago=function(e,t){var n=e?o[e]:o.init;if(!n)throw Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")})},function(e,exports,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){function n(r,a){function c(e,n){var r=f.getLinkName(e),i=this.props[a[e]];r&&d(this.props,r)&&!i&&(i=this.props[r].requestChange);for(var o=arguments.length,s=Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];t(this,e,i,n,s)}function d(e,t){return void 0!==e[t]}function h(e){var t={};return f.each(e,function(e,n){k.indexOf(n)===-1&&(t[n]=e)}),t}var m,_,g,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],y=r.displayName||r.name||"Component",b=f.getType(r).propTypes,w=f.isReactComponent(r),x=Object.keys(a),k=["valueLink","checkedLink"].concat(x.map(f.defaultKey));g=f.uncontrolledPropTypes(a,b,y),(0,p.default)(w||!v.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+y+", attempting to pass through methods: "+v.join(", ")),v=f.transform(v,function(e,t){e[t]=function(){var e;return(e=this.refs.inner)[t].apply(e,arguments)}},{});var A=(_=m=function(t){function n(){return i(this,n),o(this,t.apply(this,arguments))}return s(n,t),n.prototype.shouldComponentUpdate=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return!e.shouldComponentUpdate||e.shouldComponentUpdate.apply(this,n)},n.prototype.componentWillMount=function(){var e=this,t=this.props;this._values={},x.forEach(function(n){e._values[n]=t[f.defaultKey(n)]})},n.prototype.componentWillReceiveProps=function(t){var n=this,r=this.props;e.componentWillReceiveProps&&e.componentWillReceiveProps.call(this,t),x.forEach(function(e){void 0===f.getValue(t,e)&&void 0!==f.getValue(r,e)&&(n._values[e]=t[f.defaultKey(e)])})},n.prototype.componentWillUnmount=function(){this.unmounted=!0},n.prototype.getControlledInstance=function(){return this.refs.inner},n.prototype.render=function(){var e=this,t={},n=h(this.props);return f.each(a,function(n,r){var i=f.getLinkName(r),o=e.props[r];i&&!d(e.props,r)&&d(e.props,i)&&(o=e.props[i].value),t[r]=void 0!==o?o:e._values[r],t[n]=c.bind(e,r)}),t=l({},n,t,{ref:w?"inner":null}),u.default.createElement(r,t)},n}(u.default.Component),m.displayName="Uncontrolled("+y+")",m.propTypes=g,_);return l(A.prototype,v),A.ControlledComponent=r,A.deferControlTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return n(e,l({},a,t),r)},A}return n}exports.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.default=a;var c=t(1),u=r(c),d=t(58),p=r(d),h=t(786),f=n(h);e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var r={};return r}function i(e){return g[0]>=15||0===g[0]&&g[1]>=13?e:e.type}function o(e,t){var n=a(t);return n&&!s(e,t)&&s(e,n)?e[n].value:e[t]}function s(e,t){return void 0!==e[t]}function a(e){return"value"===e?"valueLink":"checked"===e?"checkedLink":null}function l(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function c(e,t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t&&t.call.apply(t,[e].concat(i)),n&&n.call.apply(n,[e].concat(i))}}function u(e,t,n){return d(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n}function d(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var r in e)p(e,r)&&t.call(n,e[r],r,e)}function p(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function h(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)}exports.__esModule=!0,exports.version=void 0,exports.uncontrolledPropTypes=r,exports.getType=i,exports.getValue=o,exports.getLinkName=a,exports.defaultKey=l,exports.chain=c,exports.transform=u,exports.each=d,exports.has=p,exports.isReactComponent=h;var f=t(1),m=n(f),_=t(58),g=(n(_),exports.version=m.default.version.split(".").map(parseFloat))},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m;n=t(1248).NotifyResize,a=t(23).debounce,p=t(12),d=p.rclass,m=p.rtypes,i=p.ReactDOM,r=p.React,h=t(9),l=h.defaults,f=h.required,s=h.copy,o=d(function(e){var t;return t=e.project_name,{propTypes:{editor:m.object.isRequired},componentDidMount:function(){var e,t,n;return n=$(i.findDOMNode(this)).find(".smc-editor-react-wrapper"),n.length>0&&n.replaceWith(this.props.editor.element[0]),this.props.editor.show(),"function"==typeof(e=this.props.editor).focus&&e.focus(),"function"==typeof(t=this.props.editor).restore_view_state&&t.restore_view_state(),window.addEventListener("resize",this.refresh)},componentDidUpdate:function(){return this.refresh()},componentWillUnmount:function(){var e,t;return window.removeEventListener("resize",this.refresh),"function"==typeof(e=this.props.editor).save_view_state&&e.save_view_state(),"function"==typeof(t=this.props.editor).blur&&t.blur(),this.props.editor.hide()},refresh:function(){var e;return null==this.props.editor.show?"function"==typeof(e=this.props.editor)._show?e._show():void 0:this.props.editor.show()},render:function(){return r.createElement("div",{className:"smc-vfill",style:{position:"relative"}},r.createElement(n,{onResize:a(this.refresh,350)}),r.createElement("span",{className:"smc-editor-react-wrapper"}))}}}),c={},u=function(e,t){return e+"-"+t},exports.get_editor=function(e,t){return c[u(e,t)]},exports.register_nonreact_editor=function(e){return e=l(e,{f:f,ext:f,icon:void 0,is_public:!1}),t(83).register_file_editor({ext:e.ext,is_public:e.is_public,icon:e.icon,init:function(n,r,i){var o,a,l,d,p;return l=u(i,n),null==c[l]&&(a=s(null!=(d=null!=(p=t(40).file_options(n))?p.opts:void 0)?d:{}),o=e.f(i,n,a),c[l]=o),l},generator:function(e,t,n){var i,s;return i=u(n,e),s=function(e){var t;return t=e.project_name,r.createElement(o,{editor:c[i],project_name:t})},s.get_editor=function(){return c[i]},s},remove:function(e,t,n){var r;if(r=u(n,e),c[r])return c[r].remove(),delete c[r]},save:function(t,n,r){var i,o,s;if(!e.is_public)return o=c[u(r,t)],null!=o&&"function"==typeof(i=null!=(s=o.click_save_button)?s:o.save)?i():void 0}})}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F;z=t(9),P=t(12),x=P.React,k=P.ReactDOM,R=P.rclass,q=P.rtypes,B=t(17),c=B.Icon,d=B.ImmutablePureRenderMixin,m=B.Markdown,a=B.HTML,F=t(30).sanitize_html,i=t(22).Button,r=t(821),N=t(304).get_blob_url,D=t(927).javascript_eval,b={whiteSpace:"pre-wrap",wordWrap:"break-word",fontFamily:"monospace",paddingTop:"5px",paddingBottom:"5px",paddingLeft:"5px"},n=b,C=b,A=z.merge({backgroundColor:"#fdd"},C),j=z.merge({backgroundColor:"#f9f2f4"},b),S=R({propTypes:{message:q.immutable.Map.isRequired},mixins:[d],render:function(){var e;return e=this.props.message.get("text"),I(e)?x.createElement("div",{style:C},x.createElement(r,null,e)):x.createElement("div",{style:C},e)}}),E=R({propTypes:{message:q.immutable.Map.isRequired},mixins:[d],render:function(){return x.createElement("div",{style:A},this.props.message.get("text"))}}),u=R({propTypes:{type:q.string.isRequired,sha1:q.string,value:q.string,project_id:q.string,width:q.number,height:q.number},getInitialState:function(){return{attempts:0}},load_error:function(){var e;if(this.state.attempts<5&&this._is_mounted)return e=function(e){return function(){if(e._is_mounted)return e.setState({attempts:e.state.attempts+1})}}(this),setTimeout(e,500)},componentDidMount:function(){return this._is_mounted=!0},componentWillUnmount:function(){return this._is_mounted=!1},extension:function(){return this.props.type.split("/")[1].split("+")[0]},render_using_server:function(){var e;return e=N(this.props.project_id,this.extension(),this.props.sha1)+("&attempts="+this.state.attempts),x.createElement("img",{src:e,onError:this.load_error,width:this.props.width,height:this.props.height})},encoding:function(){switch(this.props.type){case"image/svg+xml":return"utf8";default:return"base64"}},render_locally:function(){var e;return e="data:"+this.props.type+";"+this.encoding()+","+this.props.value,x.createElement("img",{src:e,width:this.props.width,height:this.props.height})},render:function(){return null!=this.props.value?this.render_locally():null!=this.props.sha1&&null!=this.props.project_id?this.render_using_server():x.createElement("span",null,"[unavailable ",this.extension()," image]")}}),M=R({propTypes:{value:q.string.isRequired},render:function(){return x.createElement("div",{style:C},this.props.value)}}),O=R({propTypes:{value:q.oneOfType([q.object,q.string]).isRequired},render:function(){return x.createElement("span",{style:{color:"#888"}},"(not running untrusted Javascript)")}}),f=R({propTypes:{value:q.oneOfType([q.object,q.string]).isRequired},componentDidMount:function(){var e,t,n,r,i,o;for(e=$(k.findDOMNode(this)),e.empty(),o=this.props.value,"string"!=typeof o&&(o=o.toJS()),z.is_array(o)||(o=[o]),i=[],t=0,n=o.length;t<n;t++)r=o[t],i.push(D(r,e));return i},render:function(){return x.createElement("div",null)}}),w=R({propTypes:{project_id:q.string,value:q.oneOfType([q.object,q.string]).isRequired},render:function(){var e,t;return z.is_string(this.props.value)?e=N(this.props.project_id,"pdf",this.props.value):(t=this.props.value.get("value"),e="data:application/pdf;base64,"+t),x.createElement("div",{style:b},x.createElement("a",{href:e,target:"_blank",style:{cursor:"pointer"}},"View PDF"))}}),s=R({propTypes:{message:q.immutable.Map.isRequired,project_id:q.string,directory:q.string,id:q.string,actions:q.object,trust:q.bool},mixins:[d],render:function(){var e,t,n,i,o,s,l,c;if(s=void 0,l=void 0,this.props.message.get("data").forEach(function(e,t){return s=t,l=e,!1}),s)switch(i=s.split("/"),e=i[0],t=i[1],e){case"text":switch(t){case"plain":return I(l)?x.createElement("div",{style:C},x.createElement(r,null,l)):x.createElement(M,{value:l});case"html":case"latex":return x.createElement(a,{value:l,project_id:this.props.project_id,file_path:this.props.directory,safeHTML:!this.props.trust});case"markdown":return x.createElement(m,{value:l,project_id:this.props.project_id,file_path:this.props.directory,safeHTML:!this.props.trust})}break;case"image":return n=c=void 0,null!=(o=this.props.message.get("metadata"))&&"function"==typeof o.forEach&&o.forEach(function(e){return function(e,t){return"width"===t?c=e:"height"===t?n=e:null!=e&&"function"==typeof e.forEach?e.forEach(function(e,t){return"width"===t?c=e:"height"===t?n=e:void 0}):void 0}}(this)),x.createElement(u,{project_id:this.props.project_id,type:s,sha1:"string"==typeof l?l:void 0,value:"object"==typeof l?l.get("value"):void 0,width:c,height:n});case"application":switch(t){case"javascript":return this.props.trust?x.createElement(f,{value:l}):x.createElement(O,{value:l});case"pdf":return x.createElement(w,{value:l,project_id:this.props.project_id})}}return x.createElement("pre",null,"Unsupported message: ",JSON.stringify(this.props.message.toJS()))}}),T=R({propTypes:{message:q.immutable.Map.isRequired},mixins:[d],render:function(){var e,t;return t=[],e=0,this.props.message.get("traceback").forEach(function(n){z.endswith(n,"\n")||(n+="\n"),t.push(x.createElement(r,{key:e},n)),e+=1}),x.createElement("div",{style:j},t)}}),_=R({propTypes:{message:q.immutable.Map.isRequired,actions:q.object,id:q.string.isRequired},shouldComponentUpdate:function(e){return e.message!==this.props.message},show_more_output:function(){var e;return null!=(e=this.props.actions)?e.fetch_more_output(this.props.id):void 0},render:function(){return null==this.props.actions||this.props.message.get("expired")?x.createElement(i,{bsStyle:"info",disabled:!0},x.createElement(c,{name:"eye-slash"})," Additional output not available"):x.createElement(i,{onClick:this.show_more_output,bsStyle:"info"},x.createElement(c,{name:"eye"})," Fetch additional output...")}}),l={padding:"0em 0.25em",margin:"0em 0.25em"},h=R({propTypes:{message:q.immutable.Map.isRequired},render:function(){var e,t,n;return n=null!=(e=this.props.message.get("value"))?e:"",x.createElement("div",{style:C},null!=(t=this.props.message.getIn(["opts","prompt"]))?t:"",x.createElement("input",{style:l,type:this.props.message.getIn(["opts","password"])?"password":"text",size:Math.max(47,n.length+10),readOnly:!0,value:n}))}}),p=R({propTypes:{message:q.immutable.Map.isRequired,actions:q.object,id:q.string.isRequired},getInitialState:function(){return{value:""}},key_down:function(e){var t;if(13===e.keyCode&&(e.stopPropagation(),this.submit()),(68===e.keyCode||90===e.keyCode)&&e.ctrlKey)return e.stopPropagation(),null!=(t=this.props.actions)&&t.signal("SIGINT"),setTimeout(this.submit,10)},submit:function(){var e,t;return null!=(e=this.props.actions)&&e.submit_input(this.props.id,this.state.value),null!=(t=this.props.actions)?t.focus_unlock():void 0},render:function(){var e,t,n;return x.createElement("div",{style:C},null!=(e=this.props.message.getIn(["opts","prompt"]))?e:"",x.createElement("input",{style:l,autoFocus:!0,readOnly:null==this.props.actions,type:this.props.message.getIn(["opts","password"])?"password":"text",ref:"input",size:Math.max(47,this.state.value.length+10),value:this.state.value,onChange:function(e){return function(t){return e.setState({value:t.target.value})}}(this),onBlur:null!=(t=this.props.actions)?t.focus_unlock:void 0,onFocus:null!=(n=this.props.actions)?n.blur_lock:void 0,onKeyDown:this.key_down}))}}),g=R({propTypes:{message:q.immutable.Map.isRequired},mixins:[d],render:function(){return x.createElement("pre",{style:A},JSON.stringify(this.props.message.toJS()))}}),L=function(e){return null!=e.get("more_output")?_:"stdout"===e.get("name")?S:"stderr"===e.get("name")?E:"input"===e.get("name")?null!=e.get("value")?h:p:null!=e.get("data")?s:null!=e.get("traceback")?T:g},exports.CellOutputMessage=o=R({propTypes:{message:q.immutable.Map.isRequired,project_id:q.string,directory:q.string,actions:q.object,id:q.string,trust:q.bool},render:function(){var e;return e=L(this.props.message),x.createElement(e,{message:this.props.message,project_id:this.props.project_id,directory:this.props.directory,actions:this.props.actions,trust:this.props.trust,id:this.props.id})}}),v={flex:1,overflowX:"auto",lineHeight:"normal",backgroundColor:"#fff",border:0,marginBottom:0,marginLeft:"1px"},y=z.merge({maxHeight:"40vh"},v),exports.CellOutputMessages=R({propTypes:{actions:q.object,output:q.immutable.Map.isRequired,project_id:q.string,directory:q.string,scrolled:q.bool,trust:q.bool,id:q.string},shouldComponentUpdate:function(e){return e.output!==this.props.output||e.scrolled!==this.props.scrolled||e.trust!==this.props.trust},render_output_message:function(e,t){if(null!=t)return x.createElement(o,{key:e,message:t,project_id:this.props.project_id,directory:this.props.directory,actions:this.props.actions,trust:this.props.trust,id:this.props.id})},message_list:function(){var e,t,n,r,i,o,s;for(s=[],t=0,r=e=0,o=this.props.output.size;0<=o?e<o:e>o;r=0<=o?++e:--e)n=this.props.output.get(""+r),null!=n&&(i=n.get("name"),t>0&&("stdout"===i||"stderr"===i)&&s[t-1].get("name")===i?s[t-1]=s[t-1].set("text",s[t-1].get("text")+n.get("text")):(s[t]=n,t+=1));return s},render:function(){var e,t,n;return n=function(){var n,r;n=this.message_list(),r=[];for(t in n)e=n[t],r.push(this.render_output_message(t,e));return r}.call(this),x.createElement("div",{style:this.props.scrolled?y:v,className:"cocalc-jupyter-rendered"},n)}}),I=function(e){return null!=e&&e.indexOf("")!==-1}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p;u=t(12),o=u.React,s=u.ReactDOM,c=u.rclass,p=u.rtypes,l=t(30),a=t(9),d=t(22),r=d.Dropdown,i=d.MenuItem,n={width:"100%",overflowX:"hidden",background:"#f7f7f7",lineHeight:"normal",height:"auto",fontSize:"inherit",marginBottom:0,padding:"4px",whiteSpace:"pre-wrap",wordWrap:"break-word",wordBreak:"normal",border:0,paddingLeft:"4px"},exports.CodeMirrorStatic=c({propTypes:{actions:p.object,id:p.string.isRequired,options:p.immutable.Map.isRequired,value:p.string.isRequired,font_size:p.number,complete:p.immutable.Map,set_click_coords:p.func},focus:function(e){var t;if(null!=this.props.actions){if(e.shiftKey)return l.clear_selection(),this.props.actions.select_cell_range(this.props.id),void e.stopPropagation();if(!(""+window.getSelection()))return this.props.actions.set_mode("edit"),this.props.actions.unselect_all_cells(),this.props.actions.set_cur_id(this.props.id),"function"==typeof(t=this.props).set_click_coords?t.set_click_coords({left:e.clientX,top:e.clientY}):void 0}},line_number:function(e,t,n){return o.createElement("div",{key:e,className:"CodeMirror-gutter-wrapper"},o.createElement("div",{style:{left:"-"+(n+4)+"px",width:n-9+"px"},className:"CodeMirror-linenumber CodeMirror-gutter-elt"},t))},render_lines:function(e){var t,n,r,i,s,a,l,c;return a=null!=(l=this.props.options.getIn(["mode","name"]))?l:"python",c=[],s=!!this.props.options.get("lineNumbers"),i=1,s&&(n=function(t){return function(){return c.push(t.line_number(c.length,i,e)),i+=1}}(this))(),r=void 0,t=function(e,t){if(null!=t?(c.push(o.createElement("span",{key:c.length,className:"cm-"+t},e)),e.trim().length>0&&(r=t)):c.push(o.createElement("span",{key:c.length},e)),s&&"\n"===e)return n()},CodeMirror.runMode(this.props.value,a,t),s=!1,t("\n"),c},render_code:function(){var e,t,r;return this.props.options.get("lineNumbers")?(e=this.props.value.split("\n").length,r=e<100?30:e<1e3?39:e<1e4?49:59,t=a.merge(a.copy(n),{paddingLeft:r+4+"px"})):(r=0,t=n),o.createElement("pre",{className:"CodeMirror cm-s-default CodeMirror-wrap",style:t,onClick:this.focus},this.render_lines(r),this.render_gutter(r))},render_gutter:function(e){if(this.props.options.get("lineNumbers"))return o.createElement("div",{className:"CodeMirror-gutters"},o.createElement("div",{className:"CodeMirror-gutter CodeMirror-linenumbers",style:{width:e-1+"px"}}))},render:function(){return o.createElement("div",{style:{width:"100%",border:"1px solid rgb(207, 207, 207)",borderRadius:"2px",position:"relative",overflowX:"auto"}},this.render_code())}})},function(e,exports,t){var n,r,i,o,s;o=t(12),n=o.React,r=o.ReactDOM,i=o.rclass,s=o.rtypes,exports.Complete=i({propTypes:{actions:s.object.isRequired,id:s.string.isRequired,complete:s.immutable.Map.isRequired},select:function(e){return this.props.actions.select_complete(this.props.id,e)},close:function(){return this.props.actions.clear_complete(),this.props.actions.set_mode("edit")},render_item:function(e){return n.createElement("li",{key:e},n.createElement("a",{role:"menuitem",tabIndex:"-1",onClick:function(t){return function(){return t.select(e)}}(this)},e))},componentDidMount:function(){return $(r.findDOMNode(this)).find("a:first").focus()},key:function(e){var t;if(13===e.keyCode)return e.preventDefault(),e.stopPropagation(),t=$(r.findDOMNode(this)).find("a:focus").text(),this.select(t)},render:function(){var e,t,r,i,o;return r=null!=(i=this.props.complete.get("offset"))?i.toJS():void 0,o={cursor:"pointer",top:r.top+"px",left:r.left+r.gutter+"px",opacity:.95,zIndex:10,width:0,height:0},t=function(){var t,n,r,i,o;for(i=null!=(r=this.props.complete.get("matches"))?r.toJS():void 0,o=[],t=0,n=i.length;t<n;t++)e=i[t],o.push(this.render_item(e));return o}.call(this),n.createElement("div",{className:"dropdown open",style:o},n.createElement("ul",{className:"dropdown-menu cocalc-complete",style:{maxHeight:"40vh"},onKeyDown:this.key,onKeyUp:this.key_up},t))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;l=t(12),r=l.React,i=l.ReactDOM,a=l.rclass,c=l.rtypes,s=t(64),u=t(73),o=t(26),d=t(23),n={color:"white",background:"red",padding:"5px",position:"absolute",zIndex:"5",width:"50%",right:"0",borderRadius:"3px",boxShadow:"0px 0px 3px 2px rgba(87, 87, 87, 0.2)"},exports.JSONEditor=a({propTypes:{value:c.immutable.Map.isRequired,font_size:c.number,on_change:c.func.isRequired,cm_options:c.immutable.Map.isRequired,undo:c.func,redo:c.func},shouldComponentUpdate:function(e,t){return this.props.font_size!==e.font_size||!this.props.value.equals(e.value)||this.props.cm_options!==e.cm_options||this.state.error!==t.error},componentDidMount:function(){return this.init_codemirror()},getInitialState:function(){return{error:void 0}},_cm_destroy:function(){if(null!=this.cm)return $(this.cm.getWrapperElement()).remove(),delete this.cm},_cm_save:function(){var e,t,n;if(null!=this.cm){if(n=this.cm.getValue(),n===this._cm_last_save)return n;try{t=JSON.parse(n)}catch(t){return e=t,void this.setState({error:""+e})}return this._cm_last_save=n,this.props.on_change(t),this.clear_error(),n}},clear_error:function(){if(this.state.error)return this.setState({error:void 0})},_cm_merge_remote:function(e){var t,n,r;if(null!=this.cm)return t=this.cm.getValue(),e=this.to_json(e),t!==this._cm_last_save?(n=u.make_patch(this._cm_last_save,t),r=u.apply_patch(n,e)[0]):(this._cm_last_save=r=e,this.clear_error()),this.cm.setValueNoJump(r)},_cm_undo:function(){var e;if(null!=this.cm)return this._cm_save()&&"function"==typeof(e=this.props).undo?e.undo():void 0},_cm_redo:function(){var e;if(null!=this.cm)return"function"==typeof(e=this.props).redo?e.redo():void 0},update_codemirror_options:function(e,t){var n;if(null!=this.cm)return n=this.options(e),e.forEach(function(e){return function(r,i){var o;r!==t.get(i)&&(r=null!=(o=null!=r&&"function"==typeof r.toJS?r.toJS():void 0)?o:r,e.cm.setOption(i,n[i]))}}(this))},options:function(e){var t;return t=e.toJS(),t.mode={name:"application/json"},t.indentUnit=t.tabSize=1,t.indentWithTabs=!1,t.foldGutter=!0,t.extraKeys["Ctrl-Q"]=function(e){return e.foldCodeSelectionAware()},t.extraKeys.Tab=function(e){return e.tab_as_space()},t.gutters=["CodeMirror-linenumbers","CodeMirror-foldgutter"],t},to_json:function(e){return o.Map.isMap(e)&&(e=e.toJS()),s(e,{space:1})},init_codemirror:function(){var e,t;return e=$(i.findDOMNode(this)).find("textarea")[0],this.cm=CodeMirror.fromTextArea(e,this.options(this.props.cm_options)),$(this.cm.getWrapperElement()).css({height:"100%"}),this._cm_last_save=this.to_json(this.props.value),this.cm.setValue(this._cm_last_save),t=d.debounce(this._cm_save,3e3),this.cm.on("change",function(e,n){if("setValue"!==n.origin)return t()}),this.cm.undo=this._cm_undo,this.cm.redo=this._cm_redo},componentWillReceiveProps:function(e){var t;if(this.props.cm_options.equals(e.cm_options)||this.update_codemirror_options(e.cm_options,this.props.cm_options),
this.props.font_size!==e.font_size&&null!=(t=this.cm)&&t.refresh(),!e.value.equals(this.props.value))return this._cm_merge_remote(e.value)},componentWillUnmount:function(){if(null!=this.cm)return this._cm_save(),this._cm_destroy()},render_error:function(){if(this.state.error)return r.createElement("div",{style:n},"ERROR: ",this.state.error)},render:function(){return r.createElement("div",{style:{width:"100%",overflow:"auto",height:"100%",position:"relative"}},this.render_error(),r.createElement("textarea",null))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S;y=t(64),w=t(9),k=t(12),d=k.React,p=k.ReactDOM,x=k.rclass,E=k.rtypes,A=t(22),n=A.Button,u=A.Modal,C=t(17),l=C.Icon,m=C.SearchInput,v=t(349),b=t(350),f={meta:"⌘",ctrl:"⌃",alt:"⌥",shift:"⇧",return:"↩",space:"Space",tab:"⇥",down:"down",up:"up",backspace:"BS"},a=navigator.platform.toUpperCase().indexOf("MAC")>=0,S=function(e){var t,n,r,i;switch(i="",e.shift&&(i+=f.shift),e.ctrl&&(i+=f.ctrl),e.alt&&(i+=f.alt),e.meta&&(i+=f.meta),r=e.which){case 8:i+=f.backspace;break;case 13:i+=f.return;break;case 27:i+="Esc";break;case 40:i+=f.down;break;case 38:i+=f.up;break;default:n=r-48*Math.floor(r/48),t=String.fromCharCode(96<=r?n:r),i+=t}return e.twice&&(i=i+","+i),i},exports.KeyboardShortcut=c=x({propTypes:{shortcut:E.object.isRequired},render:function(){return d.createElement("span",{style:{fontFamily:"monospace"}},S(this.props.shortcut))}}),h={width:"20em",overflowX:"hidden",border:"1px solid transparent",paddingRight:"10px"},_=x({propTypes:{actions:E.object.isRequired,name:E.string.isRequired,shortcuts:E.array.isRequired,taken:E.object.isRequired},getInitialState:function(){return{hover:!1,add:!1,value:"",taken:!1,shortcut:void 0}},edit_shortcut:function(e){return e.stopPropagation()},delete_shortcut:function(e){return this.props.actions.delete_keyboard_shortcut(this.props.name,e)},render_shortcuts:function(){var e,t,n,r;t=this.props.shortcuts,n=[];for(e in t)r=t[e],n.push(this.render_shortcut(e,r));return n},render_shortcut_delete_icon:function(){return d.createElement(l,{onClick:function(e){return function(t){return t.stopPropagation(),e.delete_shortcut(shortcut)}}(this),name:"times",style:{color:"#888",paddingLeft:"1ex"}})},render_shortcut:function(e,t){return d.createElement("span",{key:e,style:{border:"1px solid #999",margin:"2px",padding:"1px"}},d.createElement(c,{key:e,shortcut:t}))},cancel_edit:function(){return this.setState({add:!1,taken:!1,value:"",shortcut:void 0})},confirm_edit:function(){return this.props.actions.add_keyboard_shortcut(this.props.name,this.state.shortcut),this.setState({add:!1,taken:!1,value:"",shortcut:void 0})},key_down:function(e){var t,n,r;return e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||27!==e.which?(n=b.evt_to_obj(e,"escape"),r=null!=(t=this.props.taken[y(b.evt_to_obj(e))])?t:this.props.taken[y(n)],this.setState({value:S(n),shortcut:n,taken:r})):void this.cancel_edit()},render_edit_shortcut:function(){var e,t;return this.state.taken?(e="red",t="white"):(e="white",t="black"),d.createElement("input",{style:{width:"3em",backgroundColor:e,color:t},autoFocus:!0,ref:"input",type:"text",value:this.state.value,onKeyDown:this.key_down})},render_cancel_edit_shortcut:function(){return d.createElement(l,{onClick:function(e){return function(t){return t.stopPropagation(),e.cancel_edit()}}(this),name:"times",style:{color:"#888",paddingLeft:"1ex"}})},render_confirm_edit_shortcut:function(){return d.createElement(l,{onClick:function(e){return function(t){return t.stopPropagation(),e.confirm_edit()}}(this),name:"check",style:{color:"#888",paddingLeft:"1ex"}})},render_taken_note:function(){return d.createElement("span",{style:{backgroundColor:"#fff"}},d.createElement("br",null),"Shortcut already used by '",this.state.taken,"'")},render:function(){var e;return e=this.state.hover,e=!1,d.createElement("div",{className:"pull-right",style:h,onClick:this.edit_shortcut,onMouseEnter:function(e){return function(){return e.setState({hover:!0})}}(this),onMouseLeave:function(e){return function(){return e.setState({hover:!1})}}(this)},this.render_shortcuts(),e?this.render_edit_shortcut():void 0,e?this.render_cancel_edit_shortcut():void 0,this.state.value&&!this.state.taken&&e?this.render_confirm_edit_shortcut():void 0,this.state.taken&&e?this.render_taken_note():void 0)}}),g=function(e){var t;return function(){var n,r,i,o;for(i=w.split(e),o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(w.capitalize(t));return o}().join(" ")},i={cursor:"pointer",borderTop:"1px solid #ccc",padding:"5px 0 5px 10px",height:"2em"},o=x({propTypes:{actions:E.object.isRequired,name:E.string.isRequired,desc:E.string.isRequired,icon:E.string,shortcuts:E.array.isRequired,taken:E.object.isRequired},getInitialState:function(){return{highlight:!1}},render_icon:function(){return d.createElement("span",{style:{width:"2em",display:"inline-block"}},this.props.icon?d.createElement(l,{name:this.props.icon}):void 0)},run_command:function(){return this.props.actions.command(this.props.name),this.props.actions.close_keyboard_shortcuts()},on_click:function(e){return this.run_command()},render_desc:function(){return d.createElement("span",{style:{maxWidth:"20em",overflowX:"hidden"}},this.props.desc)},render_shortcuts:function(){return d.createElement(_,{actions:this.props.actions,shortcuts:this.props.shortcuts,name:this.props.name,taken:this.props.taken})},render:function(){var e;return e=this.state.highlight?w.merge_copy(i,{backgroundColor:"#ddd"}):i,d.createElement("div",{style:e,onClick:this.on_click,onMouseEnter:function(e){return function(){return e.setState({highlight:!0})}}(this),onMouseLeave:function(e){return function(){return e.setState({highlight:!1})}}(this)},this.render_icon(),this.render_desc(),this.render_shortcuts())}}),r={border:"1px solid #ccc",borderRadius:"3px",overflowY:"scroll",maxHeight:"50vh"},s=x({propTypes:{actions:E.object.isRequired,taken:E.object.isRequired,search:E.string},shouldComponentUpdate:function(e){return e.search!==this.props.search},render_commands:function(){var e,t,n,r,i,s,a,l,c,u,p,h,f,m,_,y;m=[],a=v.commands();for(s in a)_=a[s],null!=_&&m.push({name:s,val:_});for(m.sort(w.field_cmp("name")),e=[],h=null!=(l=null!=(c=this.props.search)?c.toLowerCase():void 0)?l:"",n=0,i=m.length;n<i;n++)y=m[n],null!=y.val.f&&(t=null!=(u=y.val.m)?u:g(y.name),null!=t&&t.toLowerCase().indexOf(h)!==-1&&(r=y.val.i,f=null!=(p=y.val.k)?p:[],e.push(d.createElement(o,{key:y.name,name:y.name,actions:this.props.actions,desc:t,icon:r,shortcuts:f,taken:this.props.taken}))));return e},render:function(){return d.createElement("div",{style:r},this.render_commands())}}),exports.KeyboardShortcuts=x({propTypes:{actions:E.object.isRequired,keyboard_shortcuts:E.immutable.Map},getInitialState:function(){var e,t,n,r,i,o,s,a,l,c;r={search:"",commands:v.commands()},r.taken={},i=r.commands;for(n in i)for(c=i[n],s=null!=(o=null!=c?c.k:void 0)?o:[],e=0,t=s.length;e<t;e++)l=s[e],r.taken[y(l)]=null!=(a=c.m)?a:n;return r},close:function(){return this.props.actions.close_keyboard_shortcuts(),this.props.actions.focus(!0)},search_change:function(e){return this.setState({search:e})},render_instructions:function(){return d.createElement("div",{style:{color:"#666",marginBottom:"10px"}},"Click a command to perform it.",d.createElement("br",null),"NOTE: Keyboard shortcuts are not customizable yet.")},render:function(){var e;return d.createElement(u,{show:null!=(e=this.props.keyboard_shortcuts)?e.get("show"):void 0,onHide:this.close,bsSize:"large"},d.createElement(u.Header,{closeButton:!0},d.createElement(u.Title,null,d.createElement(l,{name:"keyboard-o"})," Commands and Keyboard Shortcuts")),d.createElement(u.Body,null,d.createElement(m,{autoFocus:!0,value:this.state.search,on_change:this.search_change}),this.render_instructions(),d.createElement(s,{actions:this.props.actions,taken:this.state.taken,search:this.state.search})),d.createElement(u.Footer,null,d.createElement(n,{onClick:this.close},"Close")))}})},function(e,exports,t){"Components for rendering input and output prompts.";var n,r,i,o,s,a,l,c,u,d,p,h;d=t(17),r=d.Icon,a=d.TimeAgo,l=d.Tip,p=t(12),o=p.React,s=p.ReactDOM,u=p.rclass,h=p.rtypes,c=t(9),n={color:"#303F9F",minWidth:"14ex",fontFamily:"monospace",textAlign:"right",paddingRight:".4em",marginRight:"3px",cursor:"pointer"},exports.InputPrompt=u({propTypes:{type:h.string,state:h.string,exec_count:h.number,kernel:h.string,start:h.number,end:h.number},render:function(){var e,t,i,s;if("code"!==this.props.type)return o.createElement("div",{style:n});switch(e=c.capitalize(null!=(i=this.props.kernel)?i:""),s="Enter code to be evaluated.",this.props.state){case"start":t=o.createElement(r,{name:"arrow-circle-o-left",style:{fontSize:"80%"}}),s="Sending to be evaluated using "+e+".";break;case"run":t=o.createElement(r,{name:"circle-o",style:{fontSize:"80%"}}),s="Waiting for another computation to finish first. Will evaluate using "+e+".";break;case"busy":t=o.createElement(r,{name:"circle",style:{fontSize:"80%",color:"#5cb85c"}}),s=null!=this.props.start?o.createElement("span",null,"Running since ",o.createElement(a,{date:new Date(this.props.start)})," using ",e,"."):"Running using "+e+".";break;default:this.props.exec_count?(t=this.props.exec_count,null!=this.props.end?s=o.createElement("span",null,"Evaluated ",o.createElement(a,{date:new Date(this.props.end)})," using ",e,"."):e&&(s="Last evaluated using "+e+".")):t=" "}return o.createElement("div",{style:n,className:"hidden-xs"},o.createElement(l,{title:"Code Cell",tip:s,placement:"right"},"In [",t,"]:"))}}),i={color:"#D84315",minWidth:"14ex",fontFamily:"monospace",textAlign:"right",paddingRight:".4em",paddingBottom:"2px"},exports.OutputPrompt=u({propTypes:{state:h.string,exec_count:h.number,collapsed:h.bool},render:function(){var e,t;return e=this.props.collapsed||!this.props.exec_count?void 0:null!=(t=this.props.exec_count)?t:" ",null==e?o.createElement("div",{style:i,className:"hidden-xs"}," "):o.createElement("div",{style:i,className:"hidden-xs"},"Out[",e,"]:")}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O;E=t(850),v=E.SortableContainer,y=E.SortableElement,S=t(22),n=S.Button,c=S.Nav,u=S.NavDropdown,l=S.MenuItem,d=S.NavItem,A=t(9),k=t(49).isMobile,O=t(202).set_window_title,j=t(12),_=j.React,g=j.ReactDOM,C=j.rclass,T=j.rtypes,M=t(17),a=M.Loading,s=M.Icon,x=M.Tip,p=t(331).NavTab,h=function(e){var t,n,r,i;return i=e.style,t=e.children,r=e.id,n=e.className,_.createElement(c,{style:i,id:r,className:n},t)},w=y(p),b=v(h),o=function(e){return _.createElement(d,{style:{flexShrink:"1",width:"200px",height:"41px",overflow:"hidden"}})},m=C({reduxProps:{projects:{get_title:T.func,public_project_titles:T.immutable.Map}},propTypes:{project:T.immutable.Map,index:T.number,project_id:T.string,active_top_tab:T.string},getInitialState:function(){return{x_hovered:!1}},componentDidMount:function(){return this.strip_href()},componentDidUpdate:function(){return this.strip_href()},strip_href:function(){var e;return null!=(e=this.refs.tab)?e.node.children[0].removeAttribute("href"):void 0},close_tab:function(e){return e.stopPropagation(),e.preventDefault(),this.actions("page").close_project_tab(this.props.project_id)},render:function(){var e,n,r,i,o,l,c,u,d,p,h,f,m;return f=this.props.get_title(this.props.project_id),null==f&&(f=null!=(o=this.props.public_project_titles)?o.get(this.props.project_id):void 0),null==f?(this.props.active_top_tab===this.props.project_id&&O("Loading"),_.createElement(a,{key:this.props.project_id})):(this.props.active_top_tab===this.props.project_id&&O(f),e=A.trunc(null!=(l=null!=(c=this.props.project)?c.get("description"):void 0)?l:"",128),i=null!=(u=this.props.project)?u.getIn(["state","state"]):void 0,n=null!=(d=null!=(p=t(24).COMPUTE_STATES[i])?p.icon:void 0)?d:"bullhorn",r={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},this.props.project_id===this.props.active_top_tab&&(h="rgb(85, 85, 85)"),this.state.x_hovered&&(m="white"),_.createElement(w,{index:this.props.index,name:this.props.project_id,actions:this.actions("page"),active_top_tab:this.props.active_top_tab,style:{flexShrink:"1",width:"200px",maxWidth:"200px",height:"41px",overflow:"hidden",lineHeight:"1.75em",color:h},ref:"tab"},_.createElement("div",{style:{float:"right",whiteSpace:"nowrap",fontSize:"12pt",color:m}},_.createElement(s,{name:"times",onClick:this.close_tab,onMouseOver:function(e){return function(t){return e.setState({x_hovered:!0})}}(this),onMouseOut:function(e){return function(t){return e.actions("page").clear_ghost_tabs(),e.setState({x_hovered:!1})}}(this)})),_.createElement("div",{style:r},_.createElement(x,{title:A.trunc(f,32),tip:e,placement:"bottom",size:"small"},_.createElement(s,{name:n,style:{fontSize:"20px"}}),_.createElement("span",{style:{marginLeft:"5px"}},A.trunc(f,24))))))}}),i=C({reduxProps:{projects:{open_projects:T.immutable.List,project_map:T.immutable.Map,public_project_titles:T.immutable},page:{active_top_tab:T.string,num_ghost_tabs:T.number}},getDefaultProps:function(){return{num_ghost_tabs:0}},on_sort_end:function(e){var t,n;return n=e.oldIndex,t=e.newIndex,this.actions("projects").move_project_tab({old_index:n,new_index:t,open_projects:this.props.open_projects})},project_tabs:function(){var e,t,n,r,i,s,a;if(a=[],null!=this.props.open_projects){if(this.props.open_projects.map(function(e){return function(t,n){return a.push(e.project_tab(t,n))}}(this)),0===this.props.num_ghost_tabs)return a;for(n=this.props.open_projects.size,r=n+this.props.num_ghost_tabs,t=e=i=n,s=r-1;i<=s?e<=s:e>=s;t=i<=s?++e:--e)a.push(_.createElement(o,{index:t,key:t}));return a}},project_tab:function(e,t){var n;return _.createElement(m,{index:t,key:e,project_id:e,active_top_tab:this.props.active_top_tab,project:null!=(n=this.props.project_map)?n.get(e):void 0,public_project_titles:this.props.public_project_titles})},render:function(){var e;return e={position:"absolute",left:"0",marginRight:"0px",marginLeft:"0px",paddingLeft:"0px",width:"100%",display:"flex"},_.createElement(b,{className:"smc-project-tab-sorter",style:{display:"flex",flex:"1",overflow:"hidden",height:"41px",margin:"0"},helperClass:"smc-project-tab-floating",onSortEnd:this.on_sort_end,axis:"x",lockAxis:"x",lockToContainerEdges:!0,distance:k.tablet()?void 0:3,shouldCancelStart:function(e){return function(e){var t;return null!=(t=e.target.getAttribute("class"))?t.includes("smc-project-tab-sorter"):void 0}}(this)},this.project_tabs())}}),f=C({propTypes:{project:T.immutable.Map,open_projects:T.immutable.List,public_project_titles:T.immutable.Map,index:T.number,project_id:T.string,active_top_tab:T.string},getInitialState:function(){return{x_hovered:!1}},close_tab:function(e){return e.stopPropagation(),e.preventDefault(),this.actions("page").close_project_tab(this.props.project_id)},open_project:function(e){return e.stopPropagation(),e.preventDefault(),this.actions("page").set_active_tab(this.props.project_id)},render:function(){var e,r,i,o,c,u,d,p,h,f,m,g,v,y;return v=null!=(u=this.props.project)?u.get("title"):void 0,null==v&&(v=null!=(d=this.props.public_project_titles)?d.get(this.props.project_id):void 0),null==v?(this.actions("projects").fetch_public_project_title(this.props.project_id),_.createElement(a,{key:this.props.project_id})):(e=A.trunc(null!=(p=null!=(h=this.props.project)?h.get("description"):void 0)?p:"",128),o=null!=(f=this.props.project)?f.getIn(["state","state"]):void 0,r=null!=(m=null!=(c=t(24).COMPUTE_STATES[o])?c.icon:void 0)?m:"bullhorn",i={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},this.props.project_id===this.props.active_top_tab&&(g="rgb(85, 85, 85)"),this.state.x_hovered&&(y="white"),_.createElement(l,{onClick:this.open_project,style:{width:"100%",lineHeight:"1.75em",color:g}},_.createElement(n,{bsStyle:"warning",onClick:this.close_tab,style:{float:"right",whiteSpace:"nowrap",fontSize:"12pt",color:y}},_.createElement(s,{name:"times"})),_.createElement(x,{style:i,title:A.trunc(v,32),tip:e,placement:"bottom",size:"small"},_.createElement("div",{style:{height:"36px",padding:"7px 5px",fontSize:"18px"}},_.createElement(s,{name:r,style:{fontSize:"20px"}}),_.createElement("span",{style:{marginLeft:"5px"}},A.trunc(v,24))))))}}),r=C({reduxProps:{projects:{open_projects:T.immutable.List,project_map:T.immutable.Map,get_title:T.func,public_project_titles:T.immutable.Map},page:{active_top_tab:T.string}},project_menu_items:function(){var e;return e=[],this.props.open_projects.map(function(t){return function(n,r){return e.push(t.project_tab(n,r))}}(this)),e},project_tab:function(e,t){var n;return _.createElement(f,{index:t,key:e,project_id:e,active_top_tab:this.props.active_top_tab,project:null!=(n=this.props.project_map)?n.get(e):void 0,open_projects:this.props.open_projects,public_project_titles:this.props.public_project_titles})},render_projects_dropdown:function(){var e,t,n;return this.props.open_projects.includes(this.props.active_top_tab)?(e=this.props.active_top_tab,n=null,null==n&&(n=this.props.get_title(e)),null==n&&(n=null!=(t=this.props.public_project_titles)?t.get(e):void 0),null==n&&(n=_.createElement(a,{key:this.props.project_id}))):n="Open projects",_.createElement(c,{className:"smc-dropdown-projects",style:{display:"flex",margin:"0",flex:"1",fontSize:"25px",textAlign:"center",padding:"5px"}},_.createElement(u,{id:"smc-top-project-nav-dropdown",title:n,className:"smc-projects-tabs",style:{flex:"1"}},this.project_menu_items()))},render_one_project_item:function(e){var n,r,i,o,a,l,u,p,h,f;return i={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},f=this.props.get_title(e),n=A.trunc(null!=(a=null!=(l=this.props.project_map)?l.getIn([this.props.project_id,"description"]):void 0)?a:"",128),o=null!=(u=this.props.project_map)?u.getIn([this.props.project_id,"state","state"]):void 0,r=null!=(p=null!=(h=t(24).COMPUTE_STATES[o])?h.icon:void 0)?p:"bullhorn",_.createElement(c,{style:{margin:"0",flex:"1",fontSize:"20px",padding:"15px"}},_.createElement(d,{onClick:function(t){return function(n){return n.stopPropagation(),n.preventDefault(),t.actions("page").set_active_tab(e)}}(this)},_.createElement(s,{name:"times",style:{float:"right",whiteSpace:"nowrap",fontSize:"12pt"},onClick:function(t){return function(n){return n.stopPropagation(),n.preventDefault(),t.actions("page").close_project_tab(e)}}(this)}),_.createElement("div",{style:i},_.createElement(s,{name:r,style:{fontSize:"20px"}}),_.createElement("span",{style:{marginLeft:"5px"}},A.trunc(f,24)))))},render:function(){switch(this.props.open_projects.size){case 0:return _.createElement("div",{style:{flex:"1"}}," ");case 1:return this.render_one_project_item(this.props.open_projects.get(0));default:return this.render_projects_dropdown()}}}),exports.ProjectsNav=function(e){var t;return t=e.dropdown,t?_.createElement(r,null):_.createElement(i,null)}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,_e,ge,ve,ye,be,we,xe,ke,Ae,Ce,Ee,Se=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};me=t(12),H=me.React,K=me.ReactDOM,ye=me.rtypes,he=me.rclass,fe=me.redux,_e=t(22),l=_e.Button,c=_e.ButtonToolbar,u=_e.Checkbox,q=_e.Panel,T=_e.Grid,G=_e.Row,d=_e.Col,j=_e.FormControl,M=_e.FormGroup,ae=_e.Well,z=_e.Modal,W=_e.ProgressBar,s=_e.Alert,ge=t(17),E=ge.ErrorDisplay,O=ge.Icon,D=ge.LabeledRow,L=ge.Loading,R=ge.NumberInput,J=ge.Saving,V=ge.SelectorInput,se=ge.Tip,S=ge.Footer,X=ge.Space,Q=t(48).SiteName,p=t(856).ColorPicker,a=t(198).Avatar,ue=t(601),de=t(9),be=t(19).salvus_client,B=t(24).PROJECT_UPGRADES,oe=he({displayName:"Account-TextSetting",propTypes:{label:ye.string.isRequired,value:ye.string,onChange:ye.func.isRequired,onBlur:ye.func,maxLength:ye.number},getValue:function(){return K.findDOMNode(this.refs.input).value},render:function(){return H.createElement(D,{label:this.props.label},H.createElement(M,null,H.createElement(j,{ref:"input",type:"text",value:this.props.value,onChange:this.props.onChange,onBlur:this.props.onBlur,maxLength:this.props.maxLength})))}}),C=he({displayName:"Account-EmailAddressSetting",propTypes:{email_address:ye.string,redux:ye.object},getInitialState:function(){return{state:"view",password:"",email_address:""}},start_editing:function(){return this.setState({state:"edit",email_address:this.props.email_address,error:"",password:""})},cancel_editing:function(){return this.setState({state:"view",password:""})},save_editing:function(){return this.setState({state:"saving"}),be.change_email({old_email_address:this.props.email_address,new_email_address:this.state.email_address,password:this.state.password,cb:function(e){return function(t,n){return t||null==n.error||(t=n.error),t?e.setState({state:"edit",error:"Error saving -- "+t}):(e.props.redux.getTable("account").set({email_address:e.state.email_address}),e.setState({state:"view",error:"",password:""}))}}(this)})},is_submittable:function(){return this.state.password&&this.state.email_address!==this.props.email_address},change_button:function(){return this.is_submittable()?H.createElement(l,{onClick:this.save_editing,bsStyle:"success"},"Change email address"):H.createElement(l,{disabled:!0,bsStyle:"success"},"Change email address")},render_error:function(){if(this.state.error)return H.createElement(E,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this),style:{marginTop:"15px"}})},render_edit:function(){return H.createElement(ae,{style:{marginTop:"3ex"}},H.createElement(M,null,"New email address",H.createElement(j,{autoFocus:!0,type:"email_address",ref:"email_address",value:this.state.email_address,placeholder:"user@example.com",onChange:function(e){return function(){return e.setState({email_address:K.findDOMNode(e.refs.email_address).value})}}(this),maxLength:254})),"Current password",H.createElement("form",{onSubmit:function(e){return function(t){if(t.preventDefault(),e.is_submittable())return e.save_editing()}}(this)},H.createElement(M,null,H.createElement(j,{type:"password",ref:"password",value:this.state.password,placeholder:"Current password",onChange:function(e){return function(){return e.setState({password:K.findDOMNode(e.refs.password).value})}}(this)}))),H.createElement(c,null,this.change_button(),H.createElement(l,{bsStyle:"default",onClick:this.cancel_editing},"Cancel")),this.render_error(),this.render_saving())},render_saving:function(){if("saving"===this.state.state)return H.createElement(J,null)},render:function(){return H.createElement(D,{label:"Email address"},H.createElement("div",null,this.props.email_address,H.createElement(l,{className:"pull-right",disabled:"view"!==this.state.state,onClick:this.start_editing},"Change email...")),"view"!==this.state.state?this.render_edit():void 0)}}),F=he({displayName:"Account-PasswordSetting",propTypes:{email_address:ye.string},getInitialState:function(){return{state:"view",old_password:"",new_password:"",strength:0,error:""}},change_password:function(){return this.setState({state:"edit",error:"",zxcvbn:void 0,old_password:"",new_password:"",strength:0})},cancel_editing:function(){return this.setState({state:"view",old_password:"",new_password:"",zxcvbn:void 0,strength:0})},save_new_password:function(){return this.setState({state:"saving"}),be.change_password({email_address:this.props.email_address,old_password:this.state.old_password,new_password:this.state.new_password,cb:function(e){return function(t,n){return!t&&n.error&&(t=de.to_json(n.error)),t?e.setState({state:"edit",error:"Error changing password -- "+t}):e.setState({state:"view",error:"",old_password:"",new_password:"",strength:0})}}(this)})},is_submittable:function(){var e;return this.state.new_password&&this.state.new_password!==this.state.old_password&&(null==this.state.zxcvbn||(null!=(e=this.state.zxcvbn)?e.score:void 0)>0)},change_button:function(){return this.is_submittable()?H.createElement(l,{onClick:this.save_new_password,bsStyle:"success"},"Change password"):H.createElement(l,{disabled:!0,bsStyle:"success"},"Change password")},render_error:function(){if(this.state.error)return H.createElement(E,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this),style:{marginTop:"15px"}})},password_meter:function(){var e,t;if(e=this.state.zxcvbn,null!=e)return t=["Very weak","Weak","So-so","Good","Awesome!"],H.createElement("div",{style:{marginBottom:"1em"}},H.createElement(W,{striped:!0,bsStyle:"info",now:2*e.entropy}),t[e.score]," (crack time: ",e.crack_time_display,")")},render_edit:function(){return H.createElement(ae,{style:{marginTop:"3ex"}},H.createElement(M,null,"Current password",H.createElement(j,{autoFocus:!0,type:"password",ref:"old_password",value:this.state.old_password,placeholder:"Current password",onChange:function(e){return function(){return e.setState({old_password:K.findDOMNode(e.refs.old_password).value})}}(this)})),"New password",H.createElement("form",{onSubmit:function(e){return function(t){if(t.preventDefault(),e.is_submittable())return e.save_new_password()}}(this)},H.createElement(M,null,H.createElement(j,{type:"password",ref:"new_password",value:this.state.new_password,placeholder:"New password",onChange:function(e){return function(){var t;return t=K.findDOMNode(e.refs.new_password).value,e.setState({zxcvbn:pe(t),new_password:t})}}(this)}))),this.password_meter(),H.createElement(c,null,this.change_button(),H.createElement(l,{bsStyle:"default",onClick:this.cancel_editing},"Cancel")),this.render_error(),this.render_saving())},render_saving:function(){if("saving"===this.state.state)return H.createElement(J,null)},render:function(){return H.createElement(D,{label:"Password"},H.createElement("div",{style:{height:"30px"}},H.createElement(l,{className:"pull-right",disabled:"view"!==this.state.state,onClick:this.change_password,style:{marginTop:"8px"}},"Change password...")),"view"!==this.state.state?this.render_edit():void 0)}}),r=he({displayName:"AccountSettings",propTypes:{first_name:ye.string,last_name:ye.string,email_address:ye.string,passports:ye.object,show_sign_out:ye.bool,sign_out_error:ye.string,everywhere:ye.bool,redux:ye.object,delete_account_error:ye.string},getInitialState:function(){return{add_strategy_link:void 0,remote_strategy_button:void 0}},handle_change:function(e,t){var n,r;if(r=e.target.value,"first_name"!==t&&"last_name"!==t||r||this.props.first_name&&this.props.last_name)return this.actions("account").setState((n={},n[""+t]=r,n))},save_change:function(e,t){var n,r;return r=e.target.value,this.props.redux.getTable("account").set((n={},n[""+t]=r,n))},render_add_strategy_link:function(){var e,t;if(this.state.add_strategy_link)return t=this.state.add_strategy_link,e=de.capitalize(t),H.createElement(ae,null,H.createElement("h4",null,H.createElement(O,{name:t})," ",e),"Link to your ",e," account, so you can use ",e," to\nlogin to your ",H.createElement(Q,null)," account.",H.createElement("br",null)," ",H.createElement("br",null),H.createElement(c,{style:{textAlign:"center"}},H.createElement(l,{href:window.smc_base_url+"/auth/"+this.state.add_strategy_link,target:"_blank",onClick:function(e){return function(){return e.setState({add_strategy_link:void 0})}}(this)},H.createElement(O,{name:"external-link"})," Link my ",e," account"),H.createElement(l,{onClick:function(e){return function(){return e.setState({add_strategy_link:void 0})}}(this)},"Cancel")))},remove_strategy_click:function(){var e,t,n,r,i;i=this.state.remove_strategy_button,this.setState({remove_strategy_button:void 0,add_strategy_link:void 0}),r=this.props.passports;for(n in r)if(e=r[n],de.startswith(n,i)){t=n.split("-")[1];break}if(t)return be.unlink_passport({strategy:i,id:t,cb:function(e){if(e)return ke(e)}})},render_remove_strategy_button:function(){var e,t;if(this.state.remove_strategy_button)return t=this.state.remove_strategy_button,e=de.capitalize(t),de.len(this.props.passports)<=1&&!this.props.email_address?H.createElement(ae,null,"You must set an email address above or add another login method before\nyou can disable login to your ",H.createElement(Q,null)," account using your ",e," account.\nOtherwise you would completely lose access to your account!"):H.createElement(ae,null,H.createElement("h4",null,H.createElement(O,{name:t})," ",e),"Your ",H.createElement(Q,null)," account is linked to your ",e," account, so you can\nlogin using it.",H.createElement("br",null)," ",H.createElement("br",null),"If you delink your ",e," account, you will no longer be able to\nuse your account to log into ",H.createElement(Q,null),".",H.createElement("br",null)," ",H.createElement("br",null),H.createElement(c,{style:{textAlign:"center"}},H.createElement(l,{bsStyle:"danger",onClick:this.remove_strategy_click},H.createElement(O,{name:"unlink"})," Delink my ",e," account"),H.createElement(l,{onClick:function(e){return function(){return e.setState({remove_strategy_button:void 0})}}(this)},"Cancel")))},render_strategy:function(e,t){if("email"!==e)return H.createElement(l,{onClick:function(n){return function(){return n.setState(Se.call(t,e)>=0?{remove_strategy_button:e,add_strategy_link:void 0}:{add_strategy_link:e,remove_strategy_button:void 0})}}(this),key:e,bsStyle:Se.call(t,e)>=0?"info":"default"},H.createElement(O,{name:e})," ",de.capitalize(e),"...")},render_sign_out_error:function(){return H.createElement(E,{error:this.props.sign_out_error,onClose:function(e){return function(){return e.actions("account").setState({sign_out_error:""})}}(this)})},render_sign_out_confirm:function(){var e;return e=this.props.everywhere?"Are you sure you want to sign out on all web browsers?  Every web browser will have to reauthenticate before using this account again.":"Are you sure you want to sign out of your account on this web browser?",H.createElement(ae,{style:{marginTop:"15px"}},e,H.createElement(c,{style:{textAlign:"center",marginTop:"15px"}},H.createElement(l,{bsStyle:"primary",onClick:function(e){return function(){return e.actions("account").sign_out(e.props.everywhere)}}(this)},H.createElement(O,{name:"external-link"})," Sign out"),H.createElement(l,{onClick:function(e){return function(){return e.actions("account").setState({show_sign_out:!1})}}(this)},"Cancel")),this.props.sign_out_error?this.render_sign_out_error():void 0)},render_sign_out_buttons:function(){return H.createElement(c,{className:"pull-right"},H.createElement(l,{bsStyle:"warning",disabled:this.props.show_sign_out&&!this.props.everywhere,onClick:function(e){return function(){return e.actions("account").setState({show_sign_out:!0,everywhere:!1,sign_out_error:void 0})}}(this)},H.createElement(O,{name:"sign-out"})," Sign out..."),H.createElement(l,{bsStyle:"warning",disabled:this.props.show_sign_out&&this.props.everywhere,onClick:function(e){return function(){return e.actions("account").setState({show_sign_out:!0,everywhere:!0,sign_out_error:void 0})}}(this)},H.createElement(O,{name:"sign-out"})," Sign out everywhere..."))},render_sign_in_strategies:function(){var e,t,n;if(!(void 0===Y||null===Y||Y.length<=1))return e=function(){var e,t,r,i,o;for(i=de.keys(null!=(r=this.props.passports)?r:{}),o=[],e=0,t=i.length;e<t;e++)n=i[e],o.push(n.slice(0,n.indexOf("-")));return o}.call(this),H.createElement("div",null,H.createElement("hr",{key:"hr0"}),H.createElement("h5",{style:{color:"#666"}},"Linked accounts (only used for sign in)"),H.createElement(c,{style:{marginBottom:"10px"}},function(){var n,r,i;for(i=[],n=0,r=Y.length;n<r;n++)t=Y[n],i.push(this.render_strategy(t,e));return i}.call(this)),this.render_add_strategy_link(),this.render_remove_strategy_button())},render:function(){return H.createElement(q,{header:H.createElement("h2",null," ",H.createElement(O,{name:"user"})," Account settings")},H.createElement(oe,{label:"First name",value:this.props.first_name,ref:"first_name",onChange:function(e){return function(t){return e.handle_change(t,"first_name");
}}(this),onBlur:function(e){return function(t){return e.save_change(t,"first_name")}}(this),maxLength:254}),H.createElement(oe,{label:"Last name",value:this.props.last_name,ref:"last_name",onChange:function(e){return function(t){return e.handle_change(t,"last_name")}}(this),onBlur:function(e){return function(t){return e.save_change(t,"last_name")}}(this),maxLength:254}),H.createElement(C,{email_address:this.props.email_address,redux:this.props.redux,ref:"email_address",maxLength:254}),H.createElement(F,{email_address:this.props.email_address,ref:"password",maxLength:64}),H.createElement(G,{style:{marginTop:"1ex"}},H.createElement(d,{xs:12},this.render_sign_out_buttons())),this.props.show_sign_out?this.render_sign_out_confirm():void 0,H.createElement(G,null,H.createElement(d,{xs:12},H.createElement(h,{style:{marginTop:"1ex"},initial_click:function(e){return function(){return e.setState({show_delete_confirmation:!0})}}(this),confirm_click:function(e){return function(){return e.actions("account").delete_account()}}(this),cancel_click:function(e){return function(){return e.setState({show_delete_confirmation:!1})}}(this),user_name:(this.props.first_name+" "+this.props.last_name).trim(),show_confirmation:this.state.show_delete_confirmation}))),this.render_sign_in_strategies())}}),h=he({displayName:"Account-DeleteAccount",propTypes:{initial_click:ye.func.isRequired,confirm_click:ye.func.isRequired,cancel_click:ye.func.isRequired,user_name:ye.string.isRequired,show_confirmation:ye.bool,style:ye.object},render:function(){return H.createElement("div",null,H.createElement("div",{style:{height:"26px"}},H.createElement(l,{disabled:this.props.show_confirmation,className:"pull-right",bsStyle:"danger",style:this.props.style,onClick:this.props.initial_click},H.createElement(O,{name:"trash"})," Delete Account...")),this.props.show_confirmation?H.createElement(f,{confirm_click:this.props.confirm_click,cancel_click:this.props.cancel_click,required_text:this.props.user_name}):void 0)}}),f=he({displayName:"Account-DeleteAccountConfirmation",propTypes:{confirm_click:ye.func.isRequired,cancel_click:ye.func.isRequired,required_text:ye.string.isRequired},getInitialState:function(){return{confirmation_text:""}},render:function(){return H.createElement(ae,{style:{marginTop:"26px",textAlign:"center",fontSize:"15pt",backgroundColor:"darkred",color:"white"}},"Are you sure you want to DELETE YOUR ACCOUNT?",H.createElement("br",null),"You will ",H.createElement("span",{style:{fontWeight:"bold"}},"immediately")," lose access to ",H.createElement("span",{style:{fontWeight:"bold"}},"all")," of your projects, and any subscriptions will be canceled.",H.createElement("br",null),H.createElement("hr",{style:{marginTop:"10px",marginBottom:"10px"}}),"To DELETE YOUR ACCOUNT, enter your first and last name below.",H.createElement(M,null,H.createElement(j,{autoFocus:!0,value:this.state.confirmation_text,type:"text",ref:"confirmation_field",onChange:function(e){return function(){return e.setState({confirmation_text:K.findDOMNode(e.refs.confirmation_field).value})}}(this),style:{marginTop:"1ex"}})),H.createElement(c,{style:{textAlign:"center",marginTop:"15px"}},H.createElement(l,{disabled:this.state.confirmation_text!==this.props.required_text,bsStyle:"danger",onClick:this.props.confirm_click},H.createElement(O,{name:"trash"})," Confirm Account Deletion"),H.createElement(l,{style:{paddingRight:"8px"},bsStyle:"primary",onClick:this.props.cancel_click},"Cancel")))}}),ne={},ve=Terminal.color_schemes;for(xe in ve)Ce=ve[xe],ne[xe]=Ce.comment;re={"droid-sans-mono":"Droid Sans Mono","Courier New":"Courier New",monospace:"Monospace"},U=he({displayName:"Account-ProfileSettings",propTypes:{redux:ye.object,email_address:ye.string,first_name:ye.string,last_name:ye.string},reduxProps:{account:{account_id:ye.string,profile:ye.immutable}},getInitialState:function(){return{show_instructions:!1}},onColorChange:function(e){return this.props.redux.getTable("account").set({profile:{color:e}})},onGravatarSelect:function(e){var t,n;return e.target.checked?(t=this.props.email_address,n="https://www.gravatar.com/avatar/"+ue(t.toLowerCase())+"?d=identicon&s=30",this.props.redux.getTable("account").set({profile:{image:n}})):this.props.redux.getTable("account").set({profile:{image:""}})},render_gravatar_button:function(){return H.createElement(l,{bsStyle:"info",onClick:function(e){return function(){return e.setState({show_instructions:!0})}}(this)},"Set Gravatar...")},render_instruction_well:function(){return H.createElement(ae,{style:{marginTop:"10px",marginBottom:"10px"}},"Go to the ",H.createElement("a",{href:"https://en.gravatar.com",target:"_blank"}," Wordpress Gravatar site ")," and\nsign in (or create an account) using ",this.props.email_address,".",H.createElement("br",null),H.createElement("br",null),H.createElement("br",null),H.createElement("br",null),H.createElement(l,{onClick:function(e){return function(){return e.setState({show_instructions:!1})}}(this)},"Close"))},render_gravatar_needs_email:function(){return H.createElement("div",{className:"lighten"},"Gravatar only available if you set an email address in the account settings panel above.")},render_set_gravatar:function(){return this.props.email_address?H.createElement(G,null,H.createElement(d,{md:6,key:"checkbox"},H.createElement(u,{ref:"checkbox",checked:!!this.props.profile.get("image"),onChange:this.onGravatarSelect},"Use gravatar")),H.createElement(d,{md:6,key:"set"},this.state.show_instructions?void 0:this.render_gravatar_button())):this.render_gravatar_needs_email()},render_header:function(){return H.createElement("h2",null,H.createElement(a,{account_id:this.props.account_id,size:40}),H.createElement(X,null),H.createElement(X,null),"Profile")},render:function(){return null==this.props.account_id||null==this.props.profile?H.createElement(L,null):H.createElement(q,{header:this.render_header()},H.createElement(D,{label:"Color"},H.createElement(p,{color:this.props.profile.get("color"),style:{maxWidth:"150px"},onChange:this.onColorChange})),H.createElement(D,{label:"Picture"},this.state.show_instructions?this.render_instruction_well():this.render_set_gravatar()))}}),ie=he({displayName:"Account-TerminalSettings",propTypes:{terminal:ye.object,redux:ye.object},handleChange:function(e){return this.props.redux.getTable("account").set({terminal:e})},render:function(){return null==this.props.terminal?H.createElement(L,null):H.createElement(q,{header:H.createElement("h2",null," ",H.createElement(O,{name:"terminal"})," Terminal ",H.createElement("span",{className:"lighten"},"(settings applied to newly opened terminals)"))},H.createElement(D,{label:"Terminal font size"},H.createElement(R,{on_change:function(e){return function(t){return e.handleChange({font_size:t})}}(this),min:3,max:80,number:this.props.terminal.font_size,unit:"px"})),H.createElement(D,{label:"Terminal font family"},H.createElement(V,{selected:this.props.terminal.font,options:re,on_change:function(e){return function(t){return e.handleChange({font:t})}}(this)})),H.createElement(D,{label:"Terminal color scheme"},H.createElement(V,{selected:this.props.terminal.color_scheme,options:ne,on_change:function(e){return function(t){return e.handleChange({color_scheme:t})}}(this)})))}}),g={line_wrapping:"wrap long lines",line_numbers:"show line numbers",code_folding:"fold code using control+Q",smart_indent:"context sensitive indentation",electric_chars:"sometimes reindent current line",match_brackets:"highlight matching brackets near cursor",auto_close_brackets:"automatically close brackets",match_xml_tags:"automatically match XML tags",auto_close_xml_tags:"automatically close XML tags",strip_trailing_whitespace:"remove whenever file is saved",show_trailing_whitespace:"show spaces at ends of lines",spaces_instead_of_tabs:"send 4 spaces when the tab key is pressed",extra_button_bar:"more editing functions (mainly in Sage worksheets)"},w=he({displayName:"Account-EditorSettingsCheckboxes",propTypes:{editor_settings:ye.object.isRequired,on_change:ye.func.isRequired},label_checkbox:function(e,t){return de.capitalize(e.replace(/_/g," ").replace(/-/g," ").replace("xml","XML"))+": "+t},render_checkbox:function(e,t){return H.createElement(u,{checked:this.props.editor_settings[e],key:e,ref:e,onChange:function(t){return function(n){return t.props.on_change(e,n.target.checked)}}(this)},this.label_checkbox(e,t))},render:function(){var e,t;return H.createElement("span",null,function(){var n;n=[];for(t in g)e=g[t],n.push(this.render_checkbox(t,e));return n}.call(this))}}),b=he({displayName:"Account-EditorSettingsAutosaveInterval",propTypes:{autosave:ye.number.isRequired,on_change:ye.func.isRequired},render:function(){return H.createElement(D,{label:"Autosave interval"},H.createElement(R,{on_change:function(e){return function(t){return e.props.on_change("autosave",t)}}(this),min:15,max:900,number:this.props.autosave,unit:"seconds"}))}}),k=he({displayName:"Account-EditorSettingsFontSize",propTypes:{font_size:ye.number.isRequired,on_change:ye.func.isRequired},render:function(){return H.createElement(D,{label:"Font Size"},H.createElement(R,{on_change:function(e){return function(t){return e.props.on_change("font_size",t)}}(this),min:6,max:32,number:this.props.font_size,unit:"px"}))}}),_={default:"Default","3024-day":"3024 day","3024-night":"3024 night","ambiance-mobile":"Ambiance mobile",ambiance:"Ambiance","base16-dark":"Base 16 dark","base16-light":"Base 16 light",blackboard:"Blackboard",cobalt:"Cobalt",eclipse:"Eclipse",elegant:"Elegant","erlang-dark":"Erlang dark","lesser-dark":"Lesser dark","the-matrix":"The Matrix",midnight:"Midnight",monokai:"Monokai",neat:"Neat",night:"Night","paraiso-dark":"Paraiso dark","paraiso-light":"Paraiso light","pastel-on-dark":"Pastel on dark",rubyblue:"Rubyblue","solarized dark":"Solarized dark","solarized light":"Solarized light","tomorrow-night-eighties":"Tomorrow Night - Eighties",twilight:"Twilight","vibrant-ink":"Vibrant ink","xq-dark":"Xq dark","xq-light":"Xq light"},x=he({displayName:"Account-EditorSettingsColorScheme",propTypes:{theme:ye.string.isRequired,on_change:ye.func.isRequired},render:function(){return H.createElement(D,{label:"Editor color scheme"},H.createElement(V,{options:_,selected:this.props.theme,on_change:this.props.on_change}))}}),m={standard:"Standard",sublime:"Sublime",vim:"Vim",emacs:"Emacs"},A=he({displayName:"Account-EditorSettingsKeyboardBindings",propTypes:{bindings:ye.string.isRequired,on_change:ye.func.isRequired},render:function(){return H.createElement(D,{label:"Editor keyboard bindings"},H.createElement(V,{options:m,selected:this.props.bindings,on_change:this.props.on_change}))}}),y=he({displayName:"Account-EditorSettings",propTypes:{redux:ye.object,autosave:ye.number,font_size:ye.number,editor_settings:ye.object},on_change:function(e,t){var n;return"autosave"===e?this.props.redux.getTable("account").set({autosave:t}):"font_size"===e?this.props.redux.getTable("account").set({font_size:t}):this.props.redux.getTable("account").set({editor_settings:(n={},n[""+e]=t,n)})},render:function(){return null==this.props.editor_settings?H.createElement(L,null):H.createElement(q,{header:H.createElement("h2",null," ",H.createElement(O,{name:"edit"})," Editor (settings apply to newly (re-)opened files)")},H.createElement(k,{on_change:this.on_change,font_size:this.props.font_size}),H.createElement(b,{on_change:this.on_change,autosave:this.props.autosave}),H.createElement(x,{on_change:function(e){return function(t){return e.on_change("theme",t)}}(this),theme:this.props.editor_settings.theme}),H.createElement(A,{on_change:function(e){return function(t){return e.on_change("bindings",t)}}(this),bindings:this.props.editor_settings.bindings}),H.createElement(w,{on_change:this.on_change,editor_settings:this.props.editor_settings}))}}),N={"Smaller text":"control+<","Bigger text":"control+>","Toggle comment":"control+/","Go to line":"control+L",Find:"control+F","Find next":"control+G","Fold/unfold selected code":"control+Q","Shift selected text right":"tab","Shift selected text left":"shift+tab","Split view in any editor":"control+I","Autoindent selection":"control+'","Multiple cursors":"control+click","Simple autocomplete":"control+space","Sage autocomplete":"tab","Split cell in Sage worksheet":"control+;"},v={"Shift-Enter":"shift+enter",Enter:"enter (shift+enter for newline)"},I=he({displayName:"Account-KeyboardSettings",propTypes:{redux:ye.object,evaluate_key:ye.string},render_keyboard_shortcuts:function(){var e,t,n;t=[];for(e in N)n=N[e],t.push(H.createElement(D,{key:e,label:e},n));return t},eval_change:function(e){return this.props.redux.getTable("account").set({evaluate_key:e})},render_eval_shortcut:function(){return null==this.props.evaluate_key?H.createElement(L,null):H.createElement(D,{label:"Sage Worksheet evaluate key"},H.createElement(V,{options:v,selected:this.props.evaluate_key,on_change:this.eval_change}))},render:function(){return H.createElement(q,{header:H.createElement("h2",null," ",H.createElement(O,{name:"keyboard-o"})," Keyboard shortcuts")},this.render_keyboard_shortcuts(),this.render_eval_shortcut())}}),P=he({displayName:"Account-OtherSettings",propTypes:{other_settings:ye.object,redux:ye.object},on_change:function(e,t){var n;return this.props.redux.getTable("account").set({other_settings:(n={},n[""+e]=t,n)})},render_confirm:function(){if(!t(49).IS_MOBILE)return H.createElement(u,{checked:this.props.other_settings.confirm_close,ref:"confirm_close",onChange:function(e){return function(t){return e.on_change("confirm_close",t.target.checked)}}(this)},"Confirm: always ask for confirmation before closing the browser window")},render_page_size_warning:function(){var e;if(e=500,this.props.other_settings.page_size>e)return H.createElement(s,{bsStyle:"warning"},"Your file listing page size is set to ",this.props.other_settings.page_size,". Sizes above ",e," may cause the file listing to render slowly for directories with lots of files.")},render:function(){return this.props.other_settings?H.createElement(q,{header:H.createElement("h2",null," ",H.createElement(O,{name:"gear"})," Other settings")},this.render_confirm(),H.createElement(u,{checked:this.props.other_settings.mask_files,ref:"mask_files",onChange:function(e){return function(t){return e.on_change("mask_files",t.target.checked)}}(this)},"Mask files: grey-out files in the files viewer that you probably do not want to open"),H.createElement(D,{label:"Default file sort"},H.createElement(V,{selected:this.props.other_settings.default_file_sort,options:{time:"Sort by time",name:"Sort by name"},on_change:function(e){return function(t){return e.on_change("default_file_sort",t)}}(this)})),H.createElement(D,{label:"Number of files per page"},H.createElement(R,{on_change:function(e){return function(t){return e.on_change("page_size",t)}}(this),min:1,max:1e6,number:this.props.other_settings.page_size})),H.createElement(D,{label:"Standby timeout"},H.createElement(R,{on_change:function(e){return function(t){return e.on_change("standby_timeout_m",t)}}(this),min:1,max:180,unit:"minutes",number:this.props.other_settings.standby_timeout_m})),this.render_page_size_warning()):H.createElement(L,null)}}),n=he({displayName:"AccountCreationToken",getInitialState:function(){return{state:"view",token:"",error:""}},edit:function(){return this.setState({state:"edit"})},save:function(){var e;return this.setState({state:"save"}),e=this.state.token,be.query({query:{server_settings:{name:"account_creation_token",value:e}},cb:function(e){return function(t){return t?e.setState({state:"edit",error:t}):e.setState({state:"view",error:"",token:""})}}(this)})},render_save_button:function(){return H.createElement(l,{style:{marginRight:"1ex"},onClick:this.save,bsStyle:"success"},"Save token")},render_control:function(){switch(this.state.state){case"view":return H.createElement(l,{onClick:this.edit,bsStyle:"warning"},"Change token...");case"load":return H.createElement(L,null);case"edit":case"save":return H.createElement(ae,null,H.createElement("form",{onSubmit:this.save},H.createElement(M,null,H.createElement(j,{ref:"input",type:"text",value:this.state.token,onChange:function(e){return function(t){return e.setState({token:t.target.value})}}(this)}))),this.render_save_button(),H.createElement(l,{onClick:function(e){return function(){return e.setState({state:"view",token:""})}}(this)},"Cancel"),H.createElement("br",null),H.createElement("br",null),"(Set to empty to not require a token.)")}},render_error:function(){if(this.state.error)return H.createElement(E,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this)})},render_save:function(){if("save"===this.state.state)return H.createElement(J,null)},render_unsupported:function(){return H.createElement("div",{style:{color:"#666"}},"Not supported since some passport strategies are enabled.")},render:function(){return Y.length>1?this.render_unsupported():H.createElement("div",null,this.render_control(),this.render_save(),this.render_error())}}),ee=he({displayName:"Account-StripeKeys",getInitialState:function(){return{state:"view",secret_key:"",publishable_key:"",error:void 0}},edit:function(){return this.setState({state:"edit"})},save:function(){var e,t,n;return this.setState({state:"save"}),e=function(e){return function(e,t){}}(this),n=function(){var e,n,r,i;for(r=["secret","publishable"],i=[],e=0,n=r.length;e<n;e++)t=r[e],i.push({server_settings:{name:"stripe_"+t+"_key",value:this.state[t+"_key"]}});return i}.call(this),be.query({query:n,cb:function(e){return function(t){return t?e.setState({state:"edit",error:t}):e.setState({state:"saved",error:"",secret_key:"",publishable_key:""})}}(this)})},cancel:function(){return this.setState({state:"view",error:"",secret_key:"",publishable_key:""})},render:function(){return H.createElement("div",null,this.render_main(),this.render_error())},render_main:function(){switch(this.state.state){case"view":case"saved":return H.createElement("div",null,"saved"===this.state.state?"stripe keys saved!":void 0,H.createElement(l,{bsStyle:"warning",onClick:this.edit},"Change stripe keys..."));case"save":return H.createElement("div",null,"Saving stripe keys...");case"edit":return H.createElement(ae,null,H.createElement(D,{label:"Secret key"},H.createElement(M,null,H.createElement(j,{ref:"input_secret_key",type:"text",value:this.state.secret_key,onChange:function(e){return function(t){return e.setState({secret_key:t.target.value})}}(this)}))),H.createElement(D,{label:"Publishable key"},H.createElement(M,null,H.createElement(j,{ref:"input_publishable_key",type:"text",value:this.state.publishable_key,onChange:function(e){return function(t){return e.setState({publishable_key:t.target.value})}}(this)}))),H.createElement(c,null,H.createElement(l,{bsStyle:"success",onClick:this.save},"Save stripe keys..."),H.createElement(l,{onClick:this.cancel},"Cancel")))}},render_error:function(){if(this.state.error)return H.createElement(E,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this)})}}),we=t(24).site_settings_conf,le=t(31),Ae=t(23),Z=he({displayName:"Account-SiteSettings",getInitialState:function(){return{state:"view"}},render_error:function(){if(this.state.error)return H.createElement(E,{error:this.state.error,onClose:function(e){return function(){return e.setState({error:""})}}(this)})},render:function(){return H.createElement("div",null,this.render_main(),this.render_error())},load:function(){return this.setState({state:"load"}),be.query({query:{site_settings:[{name:null,value:null}]},cb:function(e){return function(t,n){var r,i,o,s,a;if(t)return e.setState({state:"error",error:t});for(r={},s=n.query.site_settings,i=0,o=s.length;i<o;i++)a=s[i],r[a.name]=a.value;return e.setState({state:"edit",error:void 0,data:r,edited:de.deep_copy(r)})}}(this)})},render_edit_button:function(){return H.createElement(l,{onClick:function(e){return function(){return e.load()}}(this)},"Edit...")},save:function(){var e,t,n,r,i;this.setState({state:"save"}),e=function(e){return function(e,t){return be.query({query:{site_settings:{name:e.name,value:e.value}},cb:t})}}(this),r=[],n=this.state.edited;for(t in n)i=n[t],Ae.isEqual(i,this.state.data[t])||r.push({name:t,value:i});return le.map(r,e,function(e){return function(t){return t?e.setState({state:"error",error:t}):e.setState({state:"view"})}}(this))},render_save_button:function(){return H.createElement(l,{onClick:this.save},"Save")},render_row:function(e,t){var n,r;return null==t&&(t=we[e].default),n=we[e],r=H.createElement(se,{key:e,title:n.name,tip:n.desc},n.name),H.createElement(D,{key:e,label:r},H.createElement(M,null,H.createElement(j,{ref:e,type:"text",value:t,onChange:function(t){return function(){var n;return n=de.copy(t.state.edited),n[e]=K.findDOMNode(t.refs[e]).value,t.setState({edited:n})}}(this)})))},render_editor:function(){var e,t,n,r,i;for(r=de.keys(we),i=[],e=0,t=r.length;e<t;e++)n=r[e],i.push(this.render_row(n,this.state.edited[n]));return i},render_main:function(){switch(this.state.state){case"view":return this.render_edit_button();case"edit":return H.createElement(ae,null,this.render_editor(),this.render_save_button());case"save":return H.createElement("div",null,"Saving site configuration...");case"load":return H.createElement("div",null,"Loading site configuration...")}}}),te=he({displayName:"Account-SystemMessage",reduxProps:{system_notifications:{notifications:ye.immutable}},getInitialState:function(){return{state:"view"}},render_buttons:function(){var e;return e=0,this.props.notifications.map(function(t,n){if(!t.get("done"))return e+=1}),H.createElement(c,null,H.createElement(l,{onClick:function(e){return function(){return e.setState({state:"edit"})}}(this)},"Compose..."),e>0?H.createElement(l,{onClick:this.mark_all_done},"Mark ",e," ",de.plural(e,"notification")," done"):void 0,0===e?H.createElement(l,{disabled:!0},"No outstanding notifications"):void 0)},render_editor:function(){return H.createElement(ae,null,H.createElement(M,null,H.createElement(j,{autoFocus:!0,value:this.state.mesg,ref:"input",rows:3,componentClass:"textarea",onChange:function(e){return function(){return e.setState({mesg:K.findDOMNode(e.refs.input).value})}}(this)})),H.createElement(c,null,H.createElement(l,{onClick:this.send,bsStyle:"danger"},H.createElement(O,{name:"paper-plane-o"})," Send"),H.createElement(l,{onClick:function(e){return function(){return e.setState({state:"view"})}}(this)},"Cancel")))},send:function(){var e,t;if(this.setState({state:"view"}),e=null!=(t=this.state.mesg)?t.trim():void 0)return fe.getActions("system_notifications").send_message({text:e,priority:"high"})},mark_all_done:function(){return fe.getActions("system_notifications").mark_all_done()},render:function(){if(null==this.props.notifications)return H.createElement(L,null);switch(this.state.state){case"view":return this.render_buttons();case"edit":return this.render_editor()}}}),i=he({displayName:"Account-AddStripeUser",getInitialState:function(){return{email:"",status:""}},status_mesg:function(e){return this.setState({status:this.state.status+(this.state.status?"\n":"")+e.trim()})},add_stripe_user:function(){var e;return!!(e=this.state.email)&&(this.status_mesg("Adding "+e+"..."),this.setState({email:""}),be.stripe_admin_create_customer({email_address:e,cb:function(t){return function(n,r){return n?t.status_mesg("Error: "+de.to_json(n)):t.status_mesg("Successfully added "+e)}}(this)}),!1)},render_form:function(){return H.createElement("form",{onSubmit:function(e){return function(t){return t.preventDefault(),e.add_stripe_user()}}(this)},H.createElement(G,null,H.createElement(d,{md:6},H.createElement(M,null,H.createElement(j,{ref:"input",type:"text",value:this.state.email,placeholder:"Email address",onChange:function(e){return function(){return e.setState({email:K.findDOMNode(e.refs.input).value})}}(this)}))),H.createElement(d,{md:6},H.createElement(l,{bsStyle:"warning",disabled:!de.is_valid_email_address(this.state.email),onClick:this.add_stripe_user},"Add User to Stripe"))))},render_status:function(){if(this.state.status)return H.createElement("div",null,H.createElement("pre",null,this.state.status),H.createElement(l,{onClick:function(e){return function(){return e.setState({status:""})}}(this)},"Clear"))},render:function(){return H.createElement("div",null,this.render_form(),this.render_status())}}),o=he({propTypes:{groups:ye.array},render:function(){var e;return null==this.props.groups||Se.call(this.props.groups,"admin")<0?H.createElement("span",null):(e=H.createElement(se,{title:"Add Stripe User",tip:"Make it so the SMC user with the given email address has a corresponding stripe identity, even if they have never entered a credit card.  You'll need this if you want to directly create a plan for them in Stripe."},"Add Stripe Users"),H.createElement(q,{header:H.createElement("h2",null," ",H.createElement(O,{name:"users"})," Administrative server settings")},H.createElement(D,{label:"Account Creation Token"},H.createElement(n,null)),H.createElement(D,{label:"Stripe API Keys",style:{marginTop:"15px"}},H.createElement(ee,null)),H.createElement(D,{label:"Site Settings",style:{marginTop:"15px"}},H.createElement(Z,null)),H.createElement(D,{label:"System Notifications",style:{marginTop:"15px"}},H.createElement(te,null)),H.createElement(D,{label:e,style:{marginTop:"15px"}},H.createElement(i,null))))}}),exports.AccountSettingsTop=he({displayName:"AccountSettingsTop",propTypes:{redux:ye.object,first_name:ye.string,last_name:ye.string,email_address:ye.string,passports:ye.object,show_sign_out:ye.bool,sign_out_error:ye.string,everywhere:ye.bool,terminal:ye.object,evaluate_key:ye.string,autosave:ye.number,font_size:ye.number,editor_settings:ye.object,other_settings:ye.object,groups:ye.array},render:function(){return H.createElement("div",{style:{marginTop:"1em"}},H.createElement(G,null,H.createElement(d,{xs:12,md:6},H.createElement(r,{first_name:this.props.first_name,last_name:this.props.last_name,email_address:this.props.email_address,passports:this.props.passports,show_sign_out:this.props.show_sign_out,sign_out_error:this.props.sign_out_error,everywhere:this.props.everywhere,redux:this.props.redux}),H.createElement(ie,{terminal:this.props.terminal,redux:this.props.redux}),H.createElement(I,{evaluate_key:this.props.evaluate_key,redux:this.props.redux})),H.createElement(d,{xs:12,md:6},H.createElement(y,{autosave:this.props.autosave,font_size:this.props.font_size,editor_settings:this.props.editor_settings,redux:this.props.redux}),H.createElement(P,{other_settings:this.props.other_settings,redux:this.props.redux}),H.createElement(U,{email_address:this.props.email_address,first_name:this.props.first_name,last_name:this.props.last_name,redux:this.props.redux}),H.createElement(o,{groups:this.props.groups}))),H.createElement(S,null))}}),Y=["email"],ce=function(){return $.get(window.smc_base_url+"/auth/strategies",function(e,t){return"success"===t?(Y=e,fe.getActions("account").setState({strategies:e})):setTimeout(ce,6e4)})},ce(),ke=function(e){return"string"!=typeof e&&(e=de.to_json(e)),t(36).alert_message({type:"error",message:"Settings error -- "+e})},Ee=void 0,pe=function(e){}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k=function(e,t){return function(){return e.apply(t,arguments)}};p=t(23).debounce,h=t(9),n=t(22).Button,b=t(24).client_db.sha1,y=t(19).salvus_client.server_time,_=t(12),i=_.React,o=_.ReactDOM,f=_.rclass,m=_.redux,v=_.rtypes,s=_.Redux,g=t(17),r=g.Icon,l=g.Tip,a=g.SetIntervalMixin,u=3e4,c=8,w=function(e,t,n){var r;return r=window.open(t,null,"location=yes,resizable=yes,height=640,width=800")},x={},d=function(){function e(e,t,n){this.project_id=e,this.path=t,this.account_id=n,this.get_users=k(this.get_users,this),this.get_user_names=k(this.get_user_names,this),this.num_users_chatting=k(this.num_users_chatting,this),this.we_are_chatting=k(this.we_are_chatting,this)}return e.prototype.we_are_chatting=function(){var e,t;return t=null!=(e=this.get_users())?e[this.account_id]:void 0,null!=t&&y()-t<=u},e.prototype.num_users_chatting=function(){return h.len(this.get_users())},e.prototype.get_user_names=function(){var e,t,n,r,i,o,s;n=m.getStore("users").get_name,s=[],i=this.get_users();for(t in i)e=i[t],r=null!=(o=n(t))?o.trim():void 0,r&&(r=h.trunc_middle(r,25),r&&s.push(r));return s},e.prototype.get_users=function(){return m.getStore("file_use").get_video_chat_users({project_id:this.project_id,path:this.path,ttl:1.3*u})},e.prototype.stop_chatting=function(){return this.close_video_chat_window()},e.prototype.start_chatting=function(){return m.getActions("file_use").mark_file(this.project_id,this.path,"chat"),this.open_video_chat_window()},e.prototype.chatroom_id=function(){var e;return e=m.getStore("projects").getIn(["project_map",this.project_id,"status","secret_token"]),b(e,this.path)},e.prototype.open_video_chat_window=function(){var e,t,n,r,i,o;if(n=this.chatroom_id(),!x[n])return e=function(e){return function(){return m.getActions("file_use").mark_file(e.project_id,e.path,"video",0)}}(this),e(),this._video_interval_id=setInterval(e,.8*u),r="SageMathCloud Video Chat: "+h.trunc_middle(this.path,30),i="https://appear.in/"+n,o=w(r,i),x[n]=o,t=window.setInterval(function(e){return function(){if(o.closed!==!1)return window.clearInterval(t),e.close_video_chat_window()}}(this),1e3)},e.prototype.close_video_chat_window=function(){var e,t;if(e=this.chatroom_id(),t=x[e])return m.getActions("file_use").mark_file(this.project_id,this.path,"video",0,!0,0),clearInterval(this._video_interval_id),delete x[e],null!=t?t.close():void 0},e}(),exports.VideoChatButton=f({reduxProps:{file_use:{file_use:v.immutable},account:{account_id:v.string}},propTypes:{project_id:v.string.isRequired,path:v.string.isRequired,label:v.string},mixins:[a],componentWillMount:function(){return this.video_chat=new d(this.props.project_id,this.props.path,this.props.account_id),this.setInterval(function(e){return function(){return e.forceUpdate()}}(this),u/2),this.click_video_button=p(this.click_video_button,750,!0)},click_video_button:function(){return this.video_chat.we_are_chatting()?this.video_chat.stop_chatting():this.video_chat.start_chatting()},render_num_chatting:function(e){if(e>0)return i.createElement("span",null,i.createElement("hr",null),"There following ",e," people are using video chat:",i.createElement("br",null),this.video_chat.get_user_names().join(", "))},render_join:function(e){return this.video_chat.we_are_chatting()?i.createElement("span",null,"Click to ",i.createElement("b",null,"leave")," this video chatroom."):e<c?i.createElement("span",null,"Click to ",i.createElement("b",null,"join")," this video chatroom."):i.createElement("span",null,"At most ",c," people can use the video chat at once.")},render_tip:function(e){return i.createElement("span",null,this.render_join(e),this.render_num_chatting(e))},render_label:function(){if(this.props.label)return i.createElement("span",{style:{marginLeft:"5px"}},this.props.label)},render:function(){var e,t;return e=this.video_chat.num_users_chatting(),t=e>0?{color:"#c9302c"}:{},i.createElement(n,{onClick:this.click_video_button,style:t},i.createElement(l,{title:i.createElement("span",null,"Toggle Video Chat"),tip:this.render_tip(e),placement:"left",delayShow:1e3},i.createElement(r,{name:"video-camera"}),e?i.createElement("span",{style:{marginLeft:"5px"}},e):void 0,this.render_label()))}})},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u;$=window.$,o=t(9).defaults,exports.FONT_FACES=n="Serif,Sans,Arial,Arial Black,Courier,Courier New,Comic Sans MS,Georgia,Helvetica,Impact,Lucida Grande,Lucida Sans,Monaco,Palatino,Tahoma,Times New Roman,Verdana".split(","),exports.commands={shell:{comment:{wrap:{left:"#",right:"",multi:!0,space:!0}},set_name_and_email:{insert:'git config --global user.name ""\ngit config --global user.email ""'},initalize_git:{insert:"git init"},create_gitignore:{insert:'# See examples of .gitignore files at https://github.com/github/gitignore\necho "\n# For SMC files like .sagews .sage-chat etc\n*.sagews\n*.sage-chat\n*.sage-history\n*.term\n\n*.py[cod]" >> .gitignore'
},clone_local_repo:{insert:"git clone ~/local_dir/"},clone_remote_repo:{insert:"git clone https://github.com/sagemathinc/smc.git"},add_file_to_repo:{insert:"git add afile.py"},add_all_to_repo:{insert:"git add *"},diff:{insert:"git diff"},commit:{insert:'git commit -a -m "commit message"'},setup_ssh_for_github:{insert:'set -e\nmkdir -p ~/.ssh/\nSSHFILE=~/.ssh/id_rsa\nssh-keygen -t rsa -b 4096 -N "" -C "your_email@example.com" -f $SSHFILE\neval $(ssh-agent -s)\nssh-add ~/.ssh/id_rsa\necho "Below this line is your public SSH key"\ncat ~/.ssh/id_rsa.pub\n# Copy your public key below and follow the instructions at https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/#platform-linux'},push_origin_master:{insert:"git push origin master"},status:{insert:"git status"},add_remote_repo:{insert:"git remote add origin <server>"},list_remote_repos:{insert:"git remote -v"},create_new_branch:{insert:"git checkout -b <branchname>"},switch_branches:{insert:"git checkout <branchname>"},list_branches:{insert:"git branch"},delete_the_feature_branch:{insert:"git branch -d <branchname>"},push_branch:{insert:"git push origin <branchname>"},push_all_branches:{insert:"git push --all origin"},delete_remote_branch:{insert:"git push origin --delete <branchName>"},pull:{insert:"git pull"},merge_branch:{insert:"git merge <branchname>\ngit diff\ngit diff --base <filename>\ngit diff <sourcebranch> <targetbranch>\ngit add <filename>"},show_history:{insert:"git log"},undo_local_changes:{insert:"git checkout -- <filename>"},get_rid_of_local_changes:{insert:"git fetch origin\ngit reset --hard origin/master"},search_for:{insert:'git grep "foo()"'}},tex:{integral:{insert:"$int_{0}^{infty} \frac{1}{1+x^2},mathrm{d}x$"},cases:{insert:"$$\nf(n) =\n\begin{cases}\n    2 (n+1)    & \text{if} n equiv 0 \\\n    (3n+1)/2   & \text{if} n equiv 1.\nend{cases}\n$$"},bold:{wrap:{left:"\\textbf{",right:"}"}},italic:{wrap:{left:"\\textit{",right:"}"}},underline:{wrap:{left:"\\underline{",right:"}"}},strikethrough:{wrap:{left:"\\st{",right:"}"}},equation:{wrap:{left:"$",right:"$"}},display_equation:{wrap:{left:"$$",right:"$$"}},insertunorderedlist:{wrap:{left:"\\begin{itemize}\n    \\item\n",right:"\\end{itemize}"}},insertorderedlist:{wrap:{left:"\\begin{enumerate}\n    \\item\n",right:"\\end{enumerate}"}},format_heading_1:{strip:["format_heading_2","format_heading_3","format_heading_4"],wrap:{left:"\\section{",right:"}"}},format_heading_2:{strip:["format_heading_1","format_heading_3","format_heading_4"],wrap:{left:"\\subsection{",right:"}"}},format_heading_3:{strip:["format_heading_1","format_heading_2","format_heading_4"],wrap:{left:"\\subsubsection{",right:"}"}},format_heading_4:{strip:["format_heading_1","format_heading_2","format_heading_4"],wrap:{left:"\\subsubsubsection{",right:"}"}},format_code:{wrap:{left:"\n\\begin{verbatim}\n",right:"\n\\end{verbatim}\n"}},indent:{wrap:{left:"\n\\begin{quote}\n",right:"\n\\end{quote}\n"}},subscript:{wrap:{left:"_{",right:"}"}},superscript:{wrap:{left:"^{",right:"}"}},comment:{wrap:{left:"%",right:"",multi:!0,space:!0}},horizontalRule:{wrap:{left:"\\hrulefill",right:""}}},md:{bold:{wrap:{left:"**",right:"**"}},italic:{wrap:{left:"_",right:"_"}},underline:{wrap:{left:"<u>",right:"</u>"}},strikethrough:{wrap:{left:"~~",right:"~~"}},insertunorderedlist:{wrap:{left:" - ",right:"",multi:!0,space:!1,newline:!0,trim:!1}},insertorderedlist:{wrap:{left:"1. ",right:"",multi:!0,space:!1,newline:!0,trim:!1}},format_heading_1:{strip:["format_heading_2","format_heading_3","format_heading_4"],wrap:{left:"\n# ",right:""}},format_heading_2:{strip:["format_heading_1","format_heading_3","format_heading_4"],wrap:{left:"\n## ",right:""}},format_heading_3:{strip:["format_heading_1","format_heading_2","format_heading_4"],wrap:{left:"\n### ",right:""}},format_heading_4:{strip:["format_heading_1","format_heading_2","format_heading_3"],wrap:{left:"\n#### ",right:""}},format_code:{wrap:{left:"    ",right:"",multi:!0,space:!1,newline:!0,trim:!1}},indent:{wrap:{left:"> ",right:"",multi:!0,space:!1,newline:!0,trim:!1}},horizontalRule:{wrap:{left:"\n------------------\n",right:""}},table:{wrap:{left:"| Left-Aligned  | Center Aligned  | Right Aligned |\n| :------------ |:---------------:| -------------:|\n| col 3 is      | some wordy text |          1600 |\n| col 2 is      |    centered     |            12 |\n| zebra stripes |    and math     |      $\\pi^3$ |",right:""}}},html:{italic:{wrap:{left:"<em>",right:"</em>"}},bold:{wrap:{left:"<strong>",right:"</strong>"}},underline:{wrap:{left:"<u>",right:"</u>"}},strikethrough:{wrap:{left:"<strike>",right:"</strike>"}},subscript:{wrap:{left:"<sub>",right:"</sub>"}},superscript:{wrap:{left:"<sup>",right:"</sup>"}},comment:{wrap:{left:"<!--",right:" -->",space:!0}},insertunorderedlist:{wrap:{left:"\n<ul>\n    <li> ",right:"</li>\n</ul>\n"}},insertorderedlist:{wrap:{left:"\n<ol>\n    <li> ",right:"</li>\n</ol>\n"}},justifyleft:{strip:["justifycenter","justifyright","justifyfull"],wrap:{left:"",right:""}},justifycenter:{strip:["justifycenter","justifyright","justifyleft"],wrap:{left:"<div align='center'>",right:"</div>"}},justifyright:{strip:["justifycenter","justifyright","justifyleft"],wrap:{left:"<div align='right'>",right:"</div>"}},justifyfull:{strip:["justifycenter","justifyright","justifyleft"],wrap:{left:"<div align='justify'>",right:"</div>"}},indent:{wrap:{left:"<blockquote>",right:"</blockquote>"}},format_heading_1:{strip:["format_heading_2","format_heading_3","format_heading_4"],wrap:{left:"<h1>",right:"</h1>"}},format_heading_2:{strip:["format_heading_1","format_heading_3","format_heading_4"],wrap:{left:"<h2>",right:"</h2>"}},format_heading_3:{strip:["format_heading_1","format_heading_2","format_heading_4"],wrap:{left:"<h3>",right:"</h3>"}},format_heading_4:{strip:["format_heading_1","format_heading_2","format_heading_3"],wrap:{left:"<h4>",right:"</h4>"}},format_code:{wrap:{left:"<pre>",right:"</pre>"}},equation:{wrap:{left:"$",right:"$"}},display_equation:{wrap:{left:"$$",right:"$$"}},table:{wrap:{left:"<table>\n    <tr>\n        <th>Header 1</th>\n        <th>Header 2</th>\n    </tr>\n    <tr>\n        <td>Cell 1</td>\n        <td>Cell 2</td>\n    </tr>\n    <tr>\n        <td>Cell 3</td>\n        <td>Cell 4</td>\n    </tr>\n</table>",right:"\n"}},horizontalRule:{wrap:{left:"\n<hr size='1'/>\n",right:""}}},rst:{italic:{wrap:{left:"*",right:"*"}},bold:{wrap:{left:"**",right:"**"}},subscript:{wrap:{left:" :sub:`",right:"` "}},superscript:{wrap:{left:" :sup:`",right:"` "}},comment:{wrap:{left:"\n..",right:"",multi:!0,space:!0}},insertunorderedlist:{wrap:{left:"\n  - ",right:""}},insertorderedlist:{wrap:{left:"\n  1. ",right:""}},justifyleft:{strip:["justifycenter","justifyright","justifyfull"],wrap:{left:"",right:""}},justifycenter:{strip:["justifycenter","justifyright","justifyleft"],wrap:{left:"\n.. class:: center\n\n",right:""}},justifyright:{strip:["justifycenter","justifyright","justifyleft"],wrap:{left:"\n.. class:: right\n\n",right:""}},justifyfull:{strip:["justifycenter","justifyright","justifyleft"],wrap:{left:"\n.. class:: justify\n\n",right:""}},indent:{wrap:{left:"\n  ",right:""}},format_heading_1:{strip:["format_heading_2","format_heading_3","format_heading_4"],wrap:{left:"\n===============\n",right:"\n===============\n"}},format_heading_2:{strip:["format_heading_1","format_heading_3","format_heading_4"],wrap:{left:"\n---------------\n",right:"\n---------------\n"}},format_heading_3:{strip:["format_heading_1","format_heading_2","format_heading_4"],wrap:{left:"\n",right:"\n=============\n"}},format_heading_4:{strip:["format_heading_1","format_heading_2","format_heading_3"],wrap:{left:"\n",right:"\n-------------\n"}},format_code:{wrap:{left:".. code:: python\n\n    def f(x):\n        return 2*x",right:"\n"}},equation:{wrap:{left:" :math:`",right:"` "}},display_equation:{wrap:{left:"\n.. math::\n\n    ",right:"\n"}},table:{insert:"+------------+------------+-----------+\n| Header 1   | Header 2   | Header 3  |\n+============+============+===========+\n| body row 1 | column 2   | column 3  |\n+------------+------------+-----------+\n| body row 2 | Cells may span columns.|\n+------------+------------+-----------+\n| body row 3 | Cells may  | - Cells   |\n+------------+ span rows. | - contain |\n| body row 4 |            | - blocks. |\n+------------+------------+-----------+\n"},horizontalRule:{insert:"\n------------------\n"}},mediawiki:{bold:{wrap:{left:"'''",right:"'''"}},italic:{wrap:{left:"''",right:"''"}},underline:{wrap:{left:"<u>",right:"</u>"}},strikethrough:{wrap:{left:"<strike>",right:"</strike>"}},insertunorderedlist:{wrap:{left:"\n* item1\n* item2\n* ",right:"\n"}},insertorderedlist:{wrap:{left:"\n# one\n# two\n# ",right:"\n"}},comment:{wrap:{left:"\n<!--",right:" -->\n",space:!0}},indent:{wrap:{left:"\n<pre>",right:"</pre>\n"}},format_heading_1:{strip:["format_heading_2","format_heading_3","format_heading_4"],wrap:{left:"\n== ",right:" ==\n"}},format_heading_2:{strip:["format_heading_1","format_heading_3","format_heading_4"],wrap:{left:"\n=== ",right:" ===\n"}},format_heading_3:{strip:["format_heading_1","format_heading_2","format_heading_4"],wrap:{left:"\n==== ",right:" ====\n"}},format_heading_4:{strip:["format_heading_1","format_heading_2","format_heading_3"],wrap:{left:"\n===== ",right:" =====\n"}},format_code:{wrap:{left:" <code>",right:"</code> "}},horizontalRule:{wrap:{left:"\n----\n",right:""}},table:{insert:'\n\n{| class="table"\n|+Table Caption\n! Column 1\n! Column 2\n|-\n|Integral\n|Derivative\n|-\n|Sin\n|Cos\n|-\n|Tan\n|Sec\n|}'}},python:{comment:{wrap:{left:"#",right:"",multi:!0,space:!0}},len:{insert:"len([1, 2, 5, 6, 10])"},list:{insert:"[1, 2, 5, 6, 10]"},list_comprehension:{insert:"[n+1 for n in range(10) if n%2==0]"},read_csv_file:{insert:"import csv\nimport sys\n\nf = open('example.csv', 'rt')\ntry:\n    reader = csv.reader(f)\n    for row in reader:\n        print row\nfinally:\n    f.close()"},write_csv_file:{insert:"import csv\nimport sys\n\nf = open('example.csv', 'wt')\ntry:\n    writer = csv.writer(f)\n    writer.writerow( ('Title 1', 'Title 2', 'Title 3') )\n    for i in range(10):\n        writer.writerow( (i+1, chr(ord('a') + i), '08/%02d/07' % (i+1)) )\nfinally:\n    f.close()\n\nprint open('example.csv', 'rt').read()"},dict:{insert:"{'sage':'math', 3:7}"},set:{insert:"{7, 3, 2}"},tuple:{insert:"(2, 3, 7)"},forloop:{insert:"for i in range(5):\n    print i"},forlistloop:{insert:"l = [1, 2, 5, 8, 10]\nfor i in l:\n    print i"},forelseloop:{insert:'for k in [1, 2, 5, 10]:\n    if k == 3:\n        print "found k, returning"\n        break\nelse:\n    print "Haven\'t found k == 3"'},whileloop:{insert:"n = 0\nwhile n < 5:\n    print n\n    n += 1"},if:{insert:"if i == 1:\n    print 'i equals 1'"},ifelse:{insert:"if i == 1:\n    print 'i equals 1'\nelse:\n    print 'i is not 1'"},cases:{insert:'if i == 0:\n    print "i is zero"\nelif i == 1:\n    print "i is one"\nelse:\n    print "i is neither zero or one"'},function:{insert:'def f(a, b=0):\n    """\n    This function returns the sum of a and b.\n    """\n    return a + b'},lambda:{insert:"f = lambda a, b: a + b"},simple_class:{insert:'class MyClass(object):\n    """\n    This is a simple class.\n    """\n    def __init__(self, a):\n        self.a = a\n    def __repr__(self):\n        return "Instance of MyClass with a = %s"%self.a\n\nprint(MyClass(5))'},class_inheritence:{insert:'class A(object):\n    def __repr__(self):\n        return "instance of A"\n    def foo(self):\n        return "foo"\n\nclass B(object):\n    def __repr__(self):\n        return "instance of B"\n    def bar(self):\n        return "bar"\n\nclass C(A, B):\n    """\n    This is a class that inerits from classes A and B.\n    """\n    def __repr__(self):\n        return "instance of C"\n\n# Both foo and bar are defined on instances of C.\nc = C()\nprint(c.foo(), c.bar())'}},cython:{cython_class:{insert:'cdef class MyClass:\n    """\n    This is a Cython class.\n    """\n    cdef int a\n    def __init__(self, int a):\n        self.a = a\n    def __repr__(self):\n        return "Instance of MyClass with a = %s"%self.a\n\nprint(MyClass(5))'}},sage:{sagemathdoc:{url:"http://doc.sagemath.org/"},sagemathtutorial:{url:"http://doc.sagemath.org/html/en/tutorial/index.html"},sagemathreference:{url:"http://doc.sagemath.org/html/en/reference/index.html"},help:{wrap:{left:"help(",right:")"}},differentiate:{insert:"diff(1 + x + x^2, x)"},integrate:{insert:"integrate(1 + x + x^2, x)"},nintegrate:{insert:"numerical_integral(1 + x + x^2, 0, 3)[0]  # [1] gives error bound"},symbolic_function:{insert:"f(x,y) = x * sin(y)"},matrix:{insert:"matrix(2, 3, [1,pi,3, e,5,6])"},vector:{insert:"vector([pi, 2, 3, e])"},plot2d:{insert:"plot(x * sin(x), (x, -2, 10))"},plot_line:{insert:"line([(0,0), (1,2), (1/2,pi), (1/2,pi/2)], color='darkgreen', thickness=3)"},plot_polygon:{insert:"a = polygon2d([(0,0), (1,2), (1/2,pi), (1/2,pi/2)], color='orange')\nb = polygon2d([(0,0), (1,2), (1/2,pi), (1/2,pi/2)], color='black', fill=False, thickness=3)\nshow(a + b)"},plot_parametric:{insert:"parametric_plot([cos(x) + 2*cos(x/4), sin(x) - 2*sin(x/4)], (x,0,8*pi), color='green', thickness=3, fill = True)"},plot_random_walk:{insert:"stats.TimeSeries(1000).randomize('normal').sums().plot()"},plot_text:{insert:'text(r"Text and LaTeX: $\\alpha^3 + 1$", (1,1), color="black", fontsize=15, rotation=30)'},plot_points:{insert:"show(points([(1,0), (sqrt(2)/2,sqrt(2)/2), (0,1), (1/2,1/2)], color='darkgreen', pointsize=50), aspect_ratio=1)"},plot3d:{insert:"%var x y\nplot3d(x * sin(y), (x, -5, 5), (y, -5, 5))"},plot_torus:{insert:"from sage.plot.plot3d.shapes import Torus\ninner_radius = .3; outer_radius = 1\nshow(Torus(outer_radius, inner_radius, color='orange'), aspect_ratio=1, spin=3)"},parametric_curve3d:{insert:"%var u\nparametric_plot3d( (sin(u), cos(u), u/10), (u, 0, 20), thickness=5, color='green', plot_points=100)"},parametric_surface:{insert:'%var u, v\nfx = (3*(1+sin(v)) + 2*(1-cos(v)/2)*cos(u))*cos(v)\nfy = (4+2*(1-cos(v)/2)*cos(u))*sin(v)\nfz = -2*(1-cos(v)/2) * sin(u)\nparametric_plot3d([fx, fy, fz], (u, 0, 2*pi), (v, 0, 2*pi), color="green", opacity=.7, mesh=1, spin=5)'},implicit_plot3d:{insert:"%var x y z\ng = golden_ratio; r = 4.77\np = 2 - (cos(x + g*y) + cos(x - g*y) + cos(y + g*z) +\n         cos(y - g*z) + cos(z - g*x) + cos(z + g*x))\nshow(implicit_plot3d(p, (x, -r, r), (y, -r, r), (z, -r, r),\n                plot_points=30, color='orange', mesh=1, opacity=.7), spin=1)"},random_walk_3d:{insert:"v = [(0,0,0)]\nfor i in range(1000):\n    v.append([a+random()-.5 for a in v[-1]])\nline3d(v, color='red', thickness=3, spin=3)"},polytope:{insert:"points = [(2,0,0), (0,2,0), (0,0,2), (-1,0,0), (0,-1,0), (0,0,-1)]\nshow(LatticePolytope(points).plot3d(), spin=5)"},icosahedron:{insert:"show(icosahedron(color='green', opacity=.5, mesh=3), spin=1)"},tetrahedron:{insert:"show(tetrahedron(color='lime', opacity=.5, mesh=3), spin=1)"},cube:{insert:"show(cube(color=['red', 'blue', 'green'], frame_thickness=2,\n         frame_color='brown', opacity=0.8), frame=False)"},plot_text3d:{insert:'text3d("Text in 3D", (1,1, 1), color="darkred", fontsize=20)'},graphs:{insert:"# Press the TAB key after 'graphs.' to see a list of predefined graphs.\ngraphs."},petersen:{insert:"graphs.PetersenGraph()"},random_graph:{insert:"g = graphs.RandomGNM(15, 20)  # 15 vertices and 20 edges\nshow(g)\ng.incidence_matrix()"},chromatic_number:{insert:"g = graphs.PetersenGraph().chromatic_number()\nshow(g)"},auto_group_graph:{insert:"graphs.PetersenGraph().automorphism_group()"},graph_2dplot:{insert:"show(graphs.PetersenGraph())"},graph_3dplot:{insert:"show(graphs.PetersenGraph().plot3d(), frame=False)"},factor:{insert:"factor(2015)"},primes:{insert:"prime_range(100)"},prime_pi:{insert:"prime_pi(10^6)"},mod:{insert:"Mod(5, 12)"},contfrac:{insert:"continued_fraction(e)"},binary_quadform:{insert:"BinaryQF([1,2,3])"},ellcurve:{insert:"EllipticCurve([1,2,3,4,5])"},var:{insert:"%var x, theta"},det:{insert:"matrix(2, 2, [1,2, 3,4]).det()"},charpoly:{insert:"matrix(2, 2, [1,2, 3,4]).charpoly()"},eigen:{insert:"matrix(3,[1,2,3, 4,5,6, 7,8,9]).right_eigenvectors()"},svd:{insert:"matrix(CDF, 3, [1,2,3, 4,5,6, 7,8,9]).SVD()"},numpy_array:{insert:"import numpy\nnumpy.array([[1,2,3], [4,5,6]], dtype=float)"},ring_AA:{insert:"AA"},ring_CC:{insert:"CC"},ring_CDF:{insert:"CDF"},ring_CIF:{insert:"CIF"},ring_CLF:{insert:"CLF"},ring_FF_p:{insert:"GF(7)"},ring_FF_pr:{insert:"GF(7^3,'a')"},ring_QQ:{insert:"QQ"},ring_QQbar:{insert:"QQbar"},ring_QQp:{insert:"Qp(7)"},ring_RR:{insert:"RR"},ring_RDF:{insert:"RDF"},ring_RIF:{insert:"RIF"},ring_RLF:{insert:"RLF"},ring_ZZ:{insert:"ZZ"},ring_ZZp:{insert:"Zp(7)"},ring_QQx:{insert:"R.<x> = QQ[]"},ring_QQxyz:{insert:"R.<x,y,z> = QQ[]"},ring_ZZxp:{insert:"R = PolynomialRing(ZZ, ['x%s'%p for p in primes(100)])\nR.inject_variables()"},ring_QQ_quo:{insert:"R.<x,y> = QQ[]\nR.<xx, yy> = R.quo([y^2 - x^3 - x])"},interact_fx:{insert:"@interact\ndef interactive_function(a = slider(0, 10, .05, default=4),\n                         b = (-3, 3, .1)):\n    f(x) = b * x + sin(a * x)\n    plot(f, (x, -5, 5)).show()"},modes:{insert:"print('\\n'.join(modes()))"},jupyterkernels:{insert:"print(jupyter.available_kernels())"},mode_typeset:{insert:"%typeset_mode True\n"},mode_auto:{insert:"%auto"},mode_cython:{insert:"%cython\n"},mode_default_mode:{insert:"%default_mode r # change r to any mode\n"},mode_exercise:{insert:"%exercise\n"},mode_gap:{insert:"%gap\n"},mode_gp:{insert:"%gp\n"},mode_hide:{insert:"%hide\n"},mode_html:{insert:"%html\n"},mode_julia:{insert:"%julia\n"},mode_javascript:{insert:"%javascript\n/* Use print(...) for output */"},mode_jupyter_bridge:{insert:'a3 = jupyter("anaconda3")\n# start new cells with %a3\n# or set %default_mode a3'},mode_md:{insert:"%md\n"},mode_octave:{insert:"%octave\n"},mode_python:{insert:"%python\n"},mode_r:{insert:"%r\n"},mode_scilab:{insert:"%scilab\n"},mode_sh:{insert:"%sh\n"},mode_time:{wrap:{left:"%time ",right:""}},mode_timeit:{wrap:{left:"%timeit ",right:""}},comment:{wrap:{left:"# ",right:"",multi:!0,space:!0}},assign:{insert:"a = 5"},forloop:{insert:'for animal in ["dog", "cat", "mouse"]\n    println("$animal is a mammal")\nend'},function:{insert:'function add(x, y)\n    println("x is $x and y is $y")\n    # Functions return the value of their last statement\n    x + y\nend\n\nprintln(add(2000, 15))'},ifelse:{insert:'a = 10\nif a > 10\n    println("a is bigger than 10.")\nelseif a < 10    # This elseif clause is optional.\n    println("a is smaller than 10.")\nelse             # The else clause is optional too.\n    println("a is indeed 10.")\nend'}},r:{comment:{wrap:{left:"#",right:"",multi:!0,space:!0}},vector:{insert:"v <- c(1,1,2,3,5,8,13)"},forloop:{insert:'for (i in seq(1, 10, by=2)) {\n    print(sprintf("i = %s", i));\n}'},ifelse:{insert:'k <- 10\nif (k > 5) {\n  print("k greater than 5")\n} else {\n  print("k less or equal than 5")\n}'},summary:{wrap:{left:"summary(",right:")"}},plot:{insert:'plot(c(1,2,4,8,16,32,64), c(1,1,2,3,5,8,13), type="l")'},seq:{insert:"-5:5"},seq_by:{insert:"seq(-5, 5, by=.2)"},seq_length:{insert:"seq(length=51, from=-5, by=.2)"},rep1:{insert:"rep(c(5,1,3), times = 3)"},rep2:{insert:"rep(c(5,1,3), each = 3)"},charvec:{insert:'paste(c("X","Y"), 1:10, sep="")'},mean:{insert:"mean(c(4,3,4,2,-1,3,2,3,2))"},matrix:{insert:"array(1:20, dim=c(4,5))"},assign:{insert:'x <- "hello"\nprint(x)'},outer:{insert:"c(1,2) %o% c(4,4)"},matrixmult:{insert:"x <- c(1,2,3,4)\nA <- array(seq(1:20), dim=c(5,4))\nA %*% x"},function:{insert:"f <- function(x, y) {\n   y <- 2 * x + y\n   return(y + cos(x))\n}\nf(1,2)"},inverse:{insert:"solve(array(c(2,1,-4,1), dim=c(2,2)))"},solvelin:{insert:"solve(array(c(2,1,-4,1), dim=c(2,2)), c(6,7))"},svd:{insert:"svd(array(-9:6, dim=c(4,4)))"},list1:{insert:'# index into a list via [[idx]]\nl <- list(1,"fred", c(1,2,3))\nprint(l[[1]])\nprint(l[[2]])\nprint(l[[3]])'},list2:{insert:"# assoziated list of names and objects\nl <- list(a = 1, b = c(1,2,3))\nprint(l$a) # access a in l\nprint(l$b)"},arrayselect:{insert:"x <- c(4,7,3,2,9)\nx[x > 4]"},dataframe:{insert:'a <- c(1,2,1)\nb <- c("Fred", "Susan", "Joe")\nc <- seq(1, by=.01, length=3)\ndf <- data.frame(sex = a, name = b, result = c)\ndf\n# for more information: help(data.frame)'},normal:{insert:"rnorm(10, mean = 100, sd = 1)"},stem:{insert:"# condensed overview of all numbers in the given list\nstem(rnorm(1000, mean = 5, sd = 10))"},defaultsize:{insert:"%sage r.set_plot_options(height=4, width=10)"},attach:{insert:"# attach loads internal datasets\nattach(faithful)\nprint(summary(faithful))\nprint(head(faithful))"},histdensity:{insert:"attach(faithful)\nhist(eruptions, seq(1.6, 5.2, 0.2), prob=TRUE)\nlines(density(eruptions, bw=0.1))\nrug(eruptions)"},qqplot:{insert:'attach(faithful)\nlong <- eruptions[eruptions > 3]\npar(pty="s")   # square figure\nqqnorm(long)\nqqline(long)'},boxplot:{insert:"a <- rnorm(10)\nb <- rnorm(10, mean=2)\nboxplot(a, b)"},contour:{insert:"x <- seq(-pi, pi, len=50)\ny <- x\nf <- outer(x, y, function(x, y) cos(y)/(1 + x^2))\ncontour(x, y, f, nlevels=15)"},lm:{insert:"y  <- c(0,3,2,2,4,5,8,9,7,6,2,0)\nx1 <- c(1,2,3,4,3,4,5,7,5,7,8,9)\nx2 <- c(1,1,1,1,2,2,2,3,3,3,4,4)\ndf <- data.frame(x1=x1, x2=x2)\nmodel <-lm(y ~ x1 + x2, data=df)\nmodel\nsummary(model)\nanova(model)"},nlm:{insert:"x <- c(0.02, 0.02, 0.06, 0.06, 0.11, 0.11, 0.22, 0.22, 0.56, 0.56,  1.10, 1.10)\ny <- c(76, 47, 97, 107, 123, 139, 159, 152, 191, 201, 207, 200)\n# function to be fitted\nfn <- function(p) sum((y - (p[1] * x)/(p[2] + x))^2)\n# supplying nlm with starting varlues\nnlm(fn, p = c(200, 0.1), hessian = TRUE)"}}},u=function(e){return null==e&&(e=""),$("<span class='btn-group "+e+"'></span>")},i=function(e,t){var n,r,i,o,s,a,l,c,u,d,p,h;for(i=$("<span class='btn-group'></span>"),i.append($('<span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="'+t[1]+'">\n '+t[0]+' <b class="caret"></b>\n</span>')),o=$("<ul class='dropdown-menu'></ul>"),r='<li class="divider"></li>',a=!0,p=t[2],u=0,d=p.length;u<d;u++)c=p[u],1===c.length?(n=a?"":r,n+='<li role="presentation" class="dropdown-header">'+c[0]+"</li>",s=$(n)):2!==(h=c.length)&&3!==h||(l="",3===c.length&&c[2].length>0&&(l="data-toggle='tooltip' data-placement='right' title='"+c[2]+"'"),s=$("<li><a href='"+c[1]+"' "+l+">"+c[0]+"</a></li>")),a=!1,o.append(s);return i.append(o),e.append(i)},r=function(e,t,n,r){var i,o;return i="",r.length>0&&(i="data-toggle='tooltip' data-placement='bottom' title='"+r+"'"),o=$("<a href='"+n+"' class='btn btn-default' "+i+"></a>"),o.html(t),e.append(o)},c=function(){var e,t,n,r,i,o,s,a,l,c,u,d;for(t=$(".salvus-editor-codemirror-worksheet-editable-buttons"),n=t.find(".sagews-output-editor-font").find(".dropdown-menu"),u="Serif,Sans,Arial,Arial Black,Courier,Courier New,Comic Sans MS,Georgia,Helvetica,Impact,Lucida Grande,Lucida Sans,Monaco,Palatino,Tahoma,Times New Roman,Verdana".split(","),s=0,c=u.length;s<c;s++)r=u[s],o=$("<li><a href='#fontName' data-args='"+r+"'>"+r+"</a></li>"),o.css("font-family",r),n.append(o);for(n=t.find(".sagews-output-editor-font-size").find(".dropdown-menu"),d=a=1;a<=7;d=++a)o=$("<li><a href='#fontSize' data-args='"+d+"'><font size="+d+">Size "+d+"</font></a></li>"),n.append(o);for(n=t.find(".sagews-output-editor-block-type").find(".dropdown-menu"),i=l=1;l<=6;i=++l)o=$("<li><a href='#formatBlock' data-args='<H"+i+">'><H"+i+" style='margin:0'>Heading</H"+i+"></a></li>"),n.append(o);return n.prepend('<li role="presentation" class="divider"></li>'),e=JSON.stringify([null,{normalize:!0,elementTagName:"code",applyToEditableOnly:!0}]),o=$("<li><a href='#ClassApplier' data-args='"+e+"'><i class='fa fa-code'></i> <code>Code</code></a></li>"),n.prepend(o),n.prepend('<li role="presentation" class="divider"></li>'),o=$("<li><a href='#removeFormat'><i class='fa fa-remove'></i> Normal</a></li>"),n.prepend(o)},c(),a=function(){var e,t,r,i,o,s,a,l,c,u,d,p;for(e=$(".salvus-editor-textedit-buttonbar"),t=e.find(".sagews-output-editor-font-face").find(".dropdown-menu"),s=0,c=n.length;s<c;s++)r=n[s],o=$("<li><a href='#font_face' data-args='"+r+"'>"+r+"</a></li>"),o.css("font-family",r),t.append(o);for(t=e.find(".sagews-output-editor-font-size").find(".dropdown-menu"),p=[1,2,3,4,5,6,7],p.reverse(),a=0,u=p.length;a<u;a++)d=p[a],o=$("<li><a href='#font_size' data-args='"+d+"'><font size="+d+">Size "+d+" "+(3===d?"default":"")+"</font></a></li>"),t.append(o);for(t=e.find(".sagews-output-editor-block-type").find(".dropdown-menu"),i=l=1;l<=4;i=++l)t.append($("<li><a href='#format_heading_"+i+"'><H"+i+" style='margin:0'>Heading "+i+"</H"+i+"></a></li>"));return t.append('<li role="presentation" class="divider"></li>'),t.append($("<li><a href='#format_code'><i class='fa fa-code'></i> <code>Code</code></a></li>"))},a(),l=function(){var e,t,n,o,s,a,l,c,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R;return e=$(".salvus-editor-codeedit-buttonbar"),R=u("salvus-editor-codeedit-buttonbar-system"),d=["Modes","Sage Worksheet Modes",[["General"],["Auto execute cell on startup","#mode_auto"],["Hide input","#mode_hide"],["Set default mode","#mode_default_mode"],["Typeset output","#mode_typeset"],["Timing"],["Benchmark code repeatedly","#mode_timeit"],["Time code once","#mode_time"],["Language modes"],["Cython","#mode_cython"],["Gap","#mode_gap"],["PARI/GP","#mode_gp"],["HTML","#mode_html"],["Javascript","#mode_javascript"],["Julia","#mode_julia"],["Jupyter bridge","#mode_jupyter_bridge"],["Markdown","#mode_md"],["Octave","#mode_octave"],["Python","#mode_python"],["R","#mode_r"],["Shell","#mode_sh"]]],i(R,d),o=["<i class='fa fa-question-circle'></i> Help","Sage Worksheet Help",[["General help","#help"],["Mode commands","#modes"],["Jupyter kernels","#jupyterkernels"],["SageMath Documentation"],["Overview","#sagemathdoc"],["Tutorial","#sagemathtutorial"],["Reference","#sagemathreference"]]],i(R,o),e.append(R),f=u("salvus-editor-codeedit-buttonbar-python"),r(f,"<i class='fa'>#</i>","#comment","Comment selected text"),p=["Data","Basic Data Types",[["Construction"],["Dictionary","#dict"],["List","#list"],["List Comprehension","#list_comprehension"],["Set","#set"],["Tuple","#tuple"],["Properties"],["Length","#len"],["CSV"],["Read CSV file","#read_csv_file"],["Write CSV file","#write_csv_file"]]],i(f,p),p=["Control","Control Structures",[["Loops"],["For-Loop","#forloop","Iterate over a range of integers"],["For-Loop over a list","#forlistloop","Iterate over a list"],["While loop","#whileloop","Loop while a condition holds"],["Decisions"],["If","#if"],["If-Else","#ifelse"],["Advanced"],["Cases","#cases","Deciding between different cases"],["For-Else Loop","#forelseloop","Searching for an item with a fallback."]]],i(f,p),h=["Program","Define Functions and Classes",[["Functions"],["Function","#function","Define a Python function"],["Lambda","#lambda","A Python lambda function"],["Classes"],["Class","#simple_class","Define a simple class"],["Class with inheritence","#class_inheritence","A class that inherits from other classes"]]],i(f,h),e.append(f),n=u("salvus-editor-codeedit-buttonbar-cython"),t=["Cython Classes","Define cdef'd Classes",[["cdef Class","#cython_class","Define a Cython class"]]],i(n,t),n.append(n),I=u("salvus-editor-codeedit-buttonbar-sage"),S=["Calculus","Calculus",[["&part; Differentiate","#differentiate","Differentiate a function"],["&int; Numerical Integral","#nintegrate","Numerically integrate a function"],["$f(x,y) = \\cdots $ - Symbolic Function","#symbolic_function","Define a symbolic function"],["&int; Symbolic Integral","#integrate","Integrate a function"],["Interact Plots"],["Interactive f(x)","#interact_fx"]]],M=["Linear","Linear Algebra",[["Matrix $M$","#matrix","Define a matrix"],["Vector $\\vec v$","#vector","Define a vector"],["Functions"],["Characteristic Polynomial","#charpoly"],["Determinant","#det"],["Eigenvectors","#eigen","Eigenvalues and eigenvectors of matrix"],["SVD","#svd","Singular value decomposition of matrix"],["Numpy"],["Array","#numpy_array"]]],O=["Plots","Plotting Graphics",[["2D Plotting"],["Function","#plot2d","Plot f(x)"],["Line","#plot_line","Sequence of line segments"],["Parametric","#plot_parametric","Parematric plot"],["Points","#plot_points","Plot many points"],["Polygon","#plot_polygon"],["Random Walk","#plot_random_walk","A random walk"],["Text","#plot_text","Draw text"],["3D Plotting"],["Cube","#cube","Show a colored cube"],["Function","#plot3d","Plot f(x, y)"],["Icosahedron","#icosahedron"],["Implicit Plot","#implicit_plot3d","Create an implicit 3D plot"],["Parametric Curve","#parametric_curve3d"],["Parametric Surface","#parametric_surface"],["Polytope","#polytope"],["Random Walk","#random_walk_3d","A 3d Random Walk"],["Tetrahedron","#tetrahedron"],["Text","#plot_text3d","Draw text"],["Torus","#plot_torus"]]],j=["Graphs","Graph Theory",[["graphs.&lt;tab&gt;","#graphs"],["Petersen Graph","#petersen","Define the Peterson graph"],["Random Graph","#random_graph"],["Invariants"],["Automorphism Group","#auto_group_graph","Automorphism group of a graph"],["Chromatic Number","#chromatic_number","Chromatic number of a graph"],["Visualization"],["2D Plot","#graph_2dplot"],["3D Plot","#graph_3dplot"]]],T=["Number Theory","Number Theory",[["Binary Quadratic Form","#binary_quadform","Define a binary quadratic form"],["Continued Fraction","#contfrac","Compute a continued fraction"],["Elliptic Curve","#ellcurve","Define an elliptic curve"],["Factor","#factor","Factorization of something"],["Mod $n$","#mod","Number modulo n"],["List Prime Numbers","#primes","Enumerate prime numbers"],["Count Prime Numbers","#prime_pi","Count prime numbers"]]],N=["Rings","Rings and Fields",[["$\\CC$ - Complex Numbers","#ring_CC"],["$\\QQ$ - Rational Numbers","#ring_QQ"],["$\\RR$ - Real Numbers","#ring_RR"],["$\\ZZ$ - Integers","#ring_ZZ"],["Polynomial Rings"],["$\\QQ[x, y, z]$","#ring_QQxyz"],["$\\QQ[x, y]/(y^2-x^3-x)$","#ring_QQ_quo"],["$\\ZZ[x_2, x_3, \\ldots, x_{97}]$","#ring_ZZxp"],["Advanced Rings"],["$\\mathbb{A}$ - Algebraic Reals","#ring_AA"],["$\\CDF$ - Complex Double","#ring_CDF"],["$\\CC$ - Complex Interval","#ring_CIF"],["$\\CLF$ - Complex Lazy","#ring_CLF"],["$\\FF_p$ - Prime Finite Field","#ring_FF_p"],["$\\FF_{p^r}$ - Finite Field","#ring_FF_pr"],["$\\overline{\\QQ}$ - Algebraic Closure","#ring_QQbar"],["$\\QQ_p$ - $p$-adic Numbers","#ring_QQp"],["$\\RDF$ - Real Double","#ring_RDF"],["$\\RR$ - Real Interval","#ring_RIF"],["$\\RLF$ - Real Lazy","#ring_RLF"],["$\\ZZ_p$ - $p$-adic Integers","#ring_ZZp"]]],r(I,"$x$","#var","Define a symbolic variable",!0),i(I,O),i(I,S),i(I,M),i(I,j),i(I,T),i(I,N),e.append(I),E=$(".salvus-editor-redit-buttonbar"),_=u(),r(_,"<i class='fa'>#</i>","#comment","Comment selected text"),r(_,"$\\vec v$","#vector","Insert a vector"),g=u(),v=["Control","Control Structures",[["Assignment","#assign","Give an object a (variable)name"],["For-Loop","#forloop","Insert a for loop"],["Function definition","#function","Define a function"],["If-Else","#ifelse"]]],i(g,v),y=u(),m=["Data","Data structures",[["List, indexed","#list1"],["List, associative","#list2"],["Array selection","#arrayselect"],["Data Frame","#dataframe"],["Attach","#attach"]]],b=u(),w=["Functions","Some selected functions",[["Sequence Simple","#seq"],["Sequence Stepsize","#seq_by"],["Sequence Length","#seq_length"],["Repetitions (times)","rep1"],["Repetitions (each)","rep2"],["Character Vector","#charvec"],["Matrix array","#matrix"],["Matrix multipliation","#matrixmult"],["Outer product","#outer"],["Inverse matrix","#inverse"],["Solve A*x=b","#solvelin"],["SVD","#svd"]]],A=u(),C=["Stats","Basic Statistical Functions",[["Statistical summary","#summary"],["Mean","#mean"],["Normal Distribution","#normal"],["Linear Model","#lm"],["Nonlinear Model","#nlm"]]],i(A,C),x=u(),k=["Plots","Basic Plots",[["Plot x/y pairs","#plot"],["Stem Plot","#stem"],["Histogram + Density + Rug","#histdensity"],["QQ-Plot","#qqplot","Quantile-quantile plot"],["Boxplot","#boxplot"],["Contour Plot","#contour"],["Change default plot size","#defaultsize"]]],
i(x,k),E.append(_),E.append(g),E.append(A),E.append(x),s=$(".salvus-editor-julia-edit-buttonbar"),a=u(),r(a,"<i class='fa'>#</i>","#comment","Comment selected text"),l=u(),c=["Control","Control Structures",[["Assignment","#assign","Give an object a (variable)name"],["For-Loop","#forloop","Insert a for loop"],["Function definition","#function","Define a function"],["If-Else","#ifelse"]]],i(l,c),s.append(a),s.append(l),D=$(".salvus-editor-sh-edit-buttonbar"),L=u(),z=["Git","Basic Git commands",[["Set name and email","#set_name_and_email","Set name and email"],["Initalize Git","#initalize_git","Initalize Git"],["Create an ignore file","#create_gitignore","Create an ignore file"],["Clone a local repo","#clone_local_repo","Clone local repo"],["Clone a remote repo","#clone_remote_repo","Clone remote repo"],["Add a file to repo","#add_file_to_repo","Add file to the repo"],["Add all files to repo","#add_all_to_repo","Add all not ignored files to the repo"],["See changes before committing","#diff","See changes before committing"],["Commit your changes","#commit","Commit all your changes"],["Setup SSH for Github","#setup_ssh_for_github","Setup SSH for Github"],["Push changes","#push_origin_master","Push changes to the master branch of your remote repository"],["Status","#status","Status"],["Add remote repo","#add_remote_repo","Connect to a remote repository"],["List remote repos","#list_remote_repos","List all currently configured remote repositories"],["Create a new branch","#create_new_branch","Create a new branch and switch to it"],["Switch branches","#switch_branches","Switch from one branch to another"],["List branches","#list_branches","List all the branches in your repo, and also tell you what branch you're currently in"],["Delete the feature branch","#delete_the_feature_branch","Delete the feature branch"],["Push branch","#push_branch","Push the branch to your remote repository, so others can use it"],["Push all branches","#push_all_branches","Push all branches to your remote repository"],["Delete remote branch","#delete_remote_branch","Delete a branch on your remote repository"],["Update repo","#pull","Update from the remote repository Fetch and merge changes on the remote server to your working directory"],["Merge a branch","#merge_branch","To merge a different branch into your active branch"],["Show history","#show_history","Show the history of previous commits"],["Undo local changes","#undo_local_changes","Undo local changes"],["Get rid of local changes","#get_rid_of_local_changes","Drop all your local changes and commits, fetch the latest history from the server and point your local master branch at it"],["Search the working directory for foo()","#search_for","Search the working directory for foo()"]]],i(L,z),D.append(L)},l(),s=function(){var e,t,n,o,s,a;return s=u(),r(s,"<i class='fa fa-comment'></i>","#comment","Comment selected text"),a=["Templates","These templates come exclusively on top",[["Article","#article"],["KOMA Script"],["Article","#scrartcl"],["Report","#scrreprt"]]],i(s,a),n=$("<span class='btn-group'></span>"),n.append($('<span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Text Formatting">\n <i class="fa">Format</i> <b class="caret"></b>\n</span>')),t=$(".salvus-editor-codemirror-worksheet-editable-buttons").clone(),t.addClass("dropdown-menu"),t.removeClass("hide"),t.css("min-width",300),n.append(t),s.append(n),o=["Formula","These are some standard formuas",[["$x^2$","#xsquare"],["$\\int$","#integral"],["Environment"],["Cases","#cases"]]],i(s,o),e=$(".salvus-editor-latex-buttonbar"),e.append(s)}},function(e,exports,t){var n,r,i,o;i=t(9),n=i.defaults,o=i.required,r=t(26),exports.immutable_to_list=function(e,t){var n;if(null!=e)return n=[],e.map(function(e,r){var o;return n.push(i.merge(e.toJS(),(o={},o[""+t]=r,o)))}),n},exports.compute_match_list=function(e){var t,r,s,a,l,c,u;return e=n(e,{list:o,search_key:o,search:o,ignore_case:!0}),r=e.list,l=e.search,c=e.search_key,t=e.ignore_case,l?(a=0,u=i.split(l),s=function(e){return function(e){var n,r,i,o,s;for(i=t?"function"==typeof(n=e[c]).toLowerCase?n.toLowerCase():void 0:e[c],r=0,o=u.length;r<o;r++)if(s=u[r],i.indexOf(s)===-1)return a+=1,!1;return!0}}(this),r=r.filter(s),{list:r,num_omitted:a}):{list:r,num_omitted:0}},exports.order_list=function(e){var t,r,i,s,a,l;return e=n(e,{list:o,compare_function:o,reverse:!1,include_deleted:!1}),i=e.list,t=e.compare_function,r=e.include_deleted,a=i.filter(function(e){return function(e){return e.deleted}}(this)),s=a.sort(t),l=i.filter(function(e){return function(e){return!e.deleted}}(this)),i=l.sort(t),e.reverse&&i.reverse(),r&&(i=i.concat(s)),{list:i,deleted:a,num_deleted:s.length}}},function(e,exports,t){var n;n=t(9),exports.entry_style={paddingTop:"5px",paddingBottom:"5px"},exports.selected_entry=n.merge({border:"1px solid #aaa",boxShadow:"5px 5px 5px #999",borderRadius:"3px",marginBottom:"10px"},exports.entry_style),exports.note={borderTop:"3px solid #aaa",marginTop:"10px",paddingTop:"5px"},exports.show_hide_deleted={marginTop:"20px",float:"right"}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f;o=t(26),a=t(9),f=a.required,r=a.defaults,exports.export_to_ipynb=function(e){var t,i,o,s,a;return e=r(e,{cell_list:f,cells:f,metadata:void 0,kernelspec:{},language_info:void 0,blob_store:void 0,more_output:void 0}),i={cells:function(){var r,i,o,s;for(o=e.cell_list.toJS(),s=[],r=0,i=o.length;r<i;r++)t=o[r],s.push(n(t,e));return s}(),metadata:null!=(o=null!=(s=e.metadata)?s.toJS():void 0)?o:{},nbformat:4,nbformat_minor:0},i.metadata.kernelspec=e.kernelspec,null!=e.language_info&&(i.metadata.language_info=null!=(a=e.language_info.toJS())?a:{}),i},n=function(e,t){var n,r,o,a,u,p,f,m,_,g,v;if(n=t.cells.get(e),o={},u={cell_type:null!=(f=n.get("cell_type"))?f:"code",source:i(n.get("input")),metadata:o},c(u,n.get("metadata")),o.collapsed=!!n.get("collapsed"),n.get("scrolled")&&(o.scrolled=!0),r=null!=(m=n.get("exec_count"))?m:0,"code"===u.cell_type&&(u.execution_count=r),d(u,n.get("slide")),l(u,n.get("attachments"),t.blob_store),h(u,n.get("tags")),"code"!==u.cell_type)return u;p=n.get("output"),(null!=p?p.size:void 0)>0?u.outputs=s(p,r,null!=(_=t.more_output)?_[e]:void 0,t.blob_store):null==u.outputs&&"code"===u.cell_type&&(u.outputs=[]),g=u.outputs;for(a in g)v=g[a],null!=v.cocalc&&(null==o.cocalc&&(o.cocalc={outputs:{}}),o.cocalc.outputs[a]=v.cocalc,delete v.cocalc);return u},d=function(e,t){if(null!=t)return e.metadata.slideshow={slide_type:t}},h=function(e,t){if(null!=t)return e.metadata.tags=a.keys(t.toJS()).sort()},c=function(e,t){var n,r,i;if(null!=t){r=[];for(n in t)i=t[n],r.push(e.metadata[n]=i);return r}},l=function(e,t,n){if(null!=t)return e.attachments={},t.forEach(function(t,r){var i,o,s,l;"sha1"===t.get("type")&&(l=t.get("value"),i=n.get_ipynb(l),o=a.filename_extension(r),(o="jpg")&&(o="jpeg"),e.attachments[r]=(s={},s["image/"+o]=i,s))})},s=function(e,t,n,r){var i,s,a,l,c,d,p,h,f,m,_,g;if(null!=(null!=e&&null!=(f=e.get(""+(e.size-1)))?f.get("more_output"):void 0))if(d=e.size-1,i=null!=(m=null!=n?n.length:void 0)?m:0,0===i)e=e.set(""+d,o.fromJS({text:"WARNING: Some output was deleted.\n",name:"stderr"}));else for(e=e.delete(""+d),s=0,l=n.length;s<l;s++)c=n[s],e=e.set(""+d,o.fromJS(c)),d+=1;if(h=[],(null!=e?e.size:void 0)>0)for(d=a=0,_=e.size;0<=_?a<_:a>_;d=0<=_?++a:--a)p=null!=(g=e.get(""+d))?g.toJS():void 0,null!=p&&(u(p,t,r),h.push(p));return h},u=function(e,t,n){var r,o,s,l;if(null!=e)if(null!=e.exec_count&&delete e.exec_count,null!=e.text&&(e.text=i(e.text)),null!=e.data){o=e.data;for(r in o)if(s=o[r],"text/"===r.slice(0,5)&&(e.data[r]=i(e.data[r])),a.startswith(r,"image/")||"application/pdf"===r){if(null==n)return;if(l=n.get_ipynb(s),null==l)return;e.data[r]=l}e.output_type="execute_result",e.metadata={},e.execution_count=t}else null!=e.name?(e.output_type="stream","input"===e.name&&p(e)):null!=e.ename&&(e.output_type="error")},p=function(e){var t;return e.cocalc=a.deep_copy(e),e.name="stdout",e.text=e.opts.prompt+" "+(null!=(t=e.value)?t:""),delete e.opts,delete e.value},i=function(e){var t,n,r,i;if("string"!=typeof e)return e;for(i=e.split("\n"),t=n=0,r=i.length-1;0<=r?n<r:n>r;t=0<=r?++n:--n)i[t]+="\n";return""===i[i.length-1]&&i.pop(),i}},function(e,exports,t){var n,r,i,o,s,a,l,c=function(e,t){return function(){return e.apply(t,arguments)}},u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};o=t(9),i=o.defaults,a=o.required,l=t(351),r=l.JUPYTER_MIMETYPES,n={cells:[{cell_type:"code",execution_count:null,metadata:{},outputs:[],source:[]}],metadata:{kernelspec:{display_name:"Python 2",language:"python",name:"python2"},language_info:{codemirror_mode:{name:"ipython",version:2},file_extension:".py",mimetype:"text/x-python",name:"python",nbconvert_exporter:"python",pygments_lexer:"ipython2",version:"2.7.13"}},nbformat:4,nbformat_minor:0},exports.IPynbImporter=function(){function e(){this._import_cell=c(this._import_cell,this),this._get_cell_input=c(this._get_cell_input,this),this._get_cell_output=c(this._get_cell_output,this),this._get_cell_type=c(this._get_cell_type,this),this._get_exec_count=c(this._get_exec_count,this),this._get_new_id=c(this._get_new_id,this),this._id_is_available=c(this._id_is_available,this),this._import_cell_output_content=c(this._import_cell_output_content,this),this._join_array_strings_obj=c(this._join_array_strings_obj,this),this._update_output_format=c(this._update_output_format,this),this._read_in_cells=c(this._read_in_cells,this),this._import_metadata=c(this._import_metadata,this),this._import_settings=c(this._import_settings,this),this._handle_old_versions=c(this._handle_old_versions,this),this._sanity_improvements=c(this._sanity_improvements,this),this.close=c(this.close,this),this.metadata=c(this.metadata,this),this.kernel=c(this.kernel,this),this.cells=c(this.cells,this),this.import=c(this.import,this)}return e.prototype.import=function(e){e=i(e,{ipynb:{},new_id:void 0,existing_ids:[],output_handler:void 0,process_attachment:void 0}),this._ipynb=o.deep_copy(e.ipynb),this._new_id=e.new_id,this._output_handler=e.output_handler,this._process_attachment=e.process_attachment,this._existing_ids=e.existing_ids,this._handle_old_versions(),this._sanity_improvements(),this._import_settings(),this._import_metadata(),this._read_in_cells()},e.prototype.cells=function(){return this._cells},e.prototype.kernel=function(){return this._kernel},e.prototype.metadata=function(){return this._metadata},e.prototype.close=function(){return delete this._cells,delete this._kernel,delete this._metadata,delete this._language_info,delete this._ipynb,delete this._existing_ids,delete this._new_id,delete this._output_handler,delete this._process_attachment},e.prototype._sanity_improvements=function(){var e;return e=this._ipynb,null!=e.cells&&0!==e.cells.length||(e.cells=o.deep_copy(n.cells)),null==e.metadata&&(e.metadata=o.deep_copy(n.metadata)),null==e.nbformat&&(e.nbformat=n.nbformat),null!=e.nbformat_minor?e.nbformat_minor:e.nbformat_minor=n.nbformat_minor},e.prototype._handle_old_versions=function(){var e,t,n,i,s,a,l,c,u,d,p,h,f,m,_;if(a=this._ipynb,!(a.nbformat>=4)){for(null==a.cells&&(a.cells=[]),p=null!=(d=a.worksheets)?d:[],h=[],s=0,c=p.length;s<c;s++)_=p[s],h.push(function(){var s,c,d,p,h,g,v,y,b,w,x,k;for(b=null!=(y=_.cells)?y:[],k=[],s=0,d=b.length;s<d;s++){if(n=b[s],null!=n.input&&(n.source=n.input,delete n.input),"heading"===n.cell_type&&(n.cell_type="markdown",o.is_array(n.source)&&(n.source=n.source.join("")),n.source="# "+n.source),n.outputs)for(w=n.outputs,c=0,p=w.length;c<p;c++)if(u=w[c],"pyout"===u.output_type){for(g=0,h=r.length;g<h;g++)if(f=r[g],x=f.split("/"),e=x[0],t=x[1],null!=u[t]){v={},v[""+f]=u[t],i=v;for(l in u)m=u[l],delete u[l];u.data=i;break}if(null!=u.text){i={"text/plain":u.text.join("")};for(l in u)m=u[l],delete u[l];u.data=i}}k.push(a.cells.push(n))}return k}());return h}},e.prototype._import_settings=function(){var e,t,n;return this._kernel=null!=(e=this._ipynb)&&null!=(t=e.metadata)&&null!=(n=t.kernelspec)?n.name:void 0},e.prototype._import_metadata=function(){var e,t,n,r,i;if(t=null!=(r=this._ipynb)?r.metadata:void 0,null!=t){n={};for(e in t)i=t[e],"kernelspec"!==e&&(n[e]=i);return o.len(n)>0?this._metadata=n:void 0}},e.prototype._read_in_cells=function(){var e,t,n,r,i,o,s,a;if(r=this._ipynb,t=this._cells={},null!=(null!=r?r.cells:void 0)){for(o=0,s=r.cells,a=[],n=0,i=s.length;n<i;n++)e=s[n],e=this._import_cell(e,o),this._cells[e.id]=e,a.push(o+=1);return a}},e.prototype._update_output_format=function(e){var t,n,i,s,a,l,c,u;if((null!=(l=this._ipynb)?l.nbformat:void 0)>=4)return e;if("stream"===e.output_type)o.is_array(e.text)&&(e.text=e.text.join("")),e.name=e.stream;else{for(i=0,s=r.length;i<s;i++)if(u=r[i],c=u.split("/"),t=c[0],n=c[1],null!=e[n]){e={data:(a={},a[""+u]=e[n],a)};break}null!=e.text&&(e={data:{"text/plain":e.text},output_type:"stream"})}return e},e.prototype._join_array_strings_obj=function(e){var t,n;if(null!=e)for(t in e)n=e[t],o.is_array(n)&&(e[t]=n.join(""));return e},e.prototype._import_cell_output_content=function(e){return e=this._update_output_format(e),this._join_array_strings_obj(e.data),o.is_array(e.text)&&(e.text=e.text.join("")),s(e.data),delete e.prompt_number,e},e.prototype._id_is_available=function(e){var t,n;return!((null!=(t=this._cells)?t[e]:void 0)||u.call(null!=(n=this._existing_ids)?n:[],e)>=0)},e.prototype._get_new_id=function(){var e,t;if(null!=this._new_id)return this._new_id(this._id_is_available);for(e=0;;){if(t=""+e,this._id_is_available(t))return t;e+=1}},e.prototype._get_exec_count=function(e,t){return null!=e?e:null!=t?t:null},e.prototype._get_cell_type=function(e){return null!=e?e:"code"},e.prototype._get_cell_output=function(e,t,n){var r,i,o,s,a;if((null!=e?e.length:void 0)>0){r={id:n,output:{}},null!=this._output_handler&&(s=this._output_handler(r));for(a in e)o=e[a],i=null!=t?t[a]:void 0,null!=i&&(o=i),this._import_cell_output_content(o),null!=s?s.message(o):r.output[a]=o;return null!=s&&"function"==typeof s.done&&s.done(),r.output}return null},e.prototype._get_cell_input=function(e){var t;return t=null!=e?o.is_array(e)?e.join(""):e:null},e.prototype._import_cell=function(e,t){var n,r,i,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A;if(i=null!=(p=null!=(h=this._existing_ids)?h[t]:void 0)?p:this._get_new_id(),u={type:"cell",id:i,pos:t,input:this._get_cell_input(e.source,t),output:this._get_cell_output(e.outputs,null!=(f=e.metadata)&&null!=(m=f.cocalc)?m.outputs:void 0,i),cell_type:this._get_cell_type(e.cell_type),exec_count:this._get_exec_count(e.execution_count,e.prompt_number)},null!=e.metadata){for(_=["collapsed","scrolled"],r=0,a=_.length;r<a;r++)s=_[r],(null!=(g=e.metadata)?g[s]:void 0)&&(u[s]=!!(null!=(v=e.metadata)?v[s]:void 0));null!=(null!=(y=e.metadata)?y.slideshow:void 0)&&(u.slide=e.metadata.slideshow.slide_type),null!=(null!=(b=e.metadata)?b.tags:void 0)&&(u.tags=o.dict(function(){var t,n,r,i;for(r=e.metadata.tags,i=[],t=0,n=r.length;t<n;t++)k=r[t],i.push([k,!0]);return i}())),d=o.copy_without(e.metadata,["collapsed","scrolled","slideshow","tags"]),o.len(d)>0&&(u.metadata=d)}if(null!=e.attachments){u.attachments={},w=e.attachments;for(c in w){A=w[c];for(l in A)n=A[l],null!=this._process_attachment?(x=this._process_attachment(n,l),u.attachments[c]={type:"sha1",value:x}):u.attachments[c]={type:"base64",value:n}}}return u},e}(),exports.remove_redundant_reps=s=function(e){var t,n,i,o,s;if(null!=e){for(n=0,o=r.length;n<o;n++)if(s=r[n],null!=e[s]){i=s;break}if(null!=i)for(s in e)t=e[s],s!==i&&delete e[s];return e}}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;l=t(9),u=t(83).register_file_editor,d=t(19).salvus_client,a=t(36).alert_message,c=t(12).redux_name,r=t(890).JupyterEditor,n=t(925).JupyterActions,i=t(930).JupyterStore,o=t(892).NBViewer,s=t(928).NBViewerActions,exports.register=function(){return u({ext:["ipynb"],is_public:!1,icon:"list-alt",component:r,init:function(e,t,r){var o,s,u,p;return s=c(r,e),null!=t.getActions(s)?s:(o=t.createActions(s,n),u=t.createStore(s,i),p=d.sync_db({project_id:r,path:l.meta_file(e,"jupyter2"),change_throttle:5,patch_interval:5,save_interval:1500,primary_keys:["type","id"],string_cols:["input"],cursors:!0}),o._init(r,e,p,u,d),null!=window.smc&&(window.a=o),p.once("init",function(t){return function(t){var n;return t?(n="Error opening '"+e+"' -- "+t,console.warn(n),void a({type:"error",message:n})):0===p.count()?o._syncdb_change():void 0}}(this)),s)},remove:function(e,t,n){var r,i,o;if(i=c(n,e),r=t.getActions(i),null!=r&&r.close(),o=t.getStore(i),null!=o)return delete o.state,t.removeStore(i),t.removeActions(i),i},save:function(e,t,n){var r,i;return i=c(n,e),r=t.getActions(i),null!=r?r.save():void 0}}),u({ext:["ipynb"],is_public:!0,icon:"list-alt",component:o,init:function(e,t,n){var r,i,o;return i=c(n,e),null!=t.getActions(i)?i:(r=t.createActions(i,s),o=t.createStore(i),r._init(n,e,o,d),i)},remove:function(e,t,n){var r,i,o;if(i=c(n,e),r=t.getActions(i),null!=r&&r.close(),o=t.getStore(i),null!=o)return delete o.state,t.removeStore(i),t.removeActions(i),i}})},exports.register()},function(e,exports,t){var $,n,r,i,o,s;$=window.$,s=t(19).salvus_client,i=t(12).redux,r=t(9),$(document).on("click",function(e){if(1===e.button&&$(e.target).hasClass("salvus-no-middle-click")&&(e.preventDefault(),e.stopPropagation()),"popover"!==$(e.target).data("toggle")&&0===$(e.target).parents(".popover.in").length)return $('[data-toggle="popover"]').popover("hide")}),o=s.remember_me_key(),window.smc_target&&!r.get_local_storage(o)&&"login"!==window.smc_target?t(128).load_target(window.smc_target):i.getActions("page").set_active_tab("account"),n=s,n._connected&&(n.emit("connected"),n._signed_in&&n.emit("signed_in",n._sign_in_mesg)),window.MathJax=exports.MathJaxConfig={skipStartupTypeset:!0,extensions:["tex2jax.js","asciimath2jax.js"],jax:["input/TeX","input/AsciiMath","output/CommonHTML"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,ignoreClass:"tex2jax_ignore",skipTags:["script","noscript","style","textarea","pre","code"]},TeX:{extensions:["autoload-all.js","noUndefined.js","noErrors.js"],Macros:{Bold:["\\mathbb{#1}",1],ZZ:["\\Bold{Z}",0],NN:["\\Bold{N}",0],RR:["\\Bold{R}",0],CC:["\\Bold{C}",0],FF:["\\Bold{F}",0],QQ:["\\Bold{Q}",0],QQbar:["\\overline{\\QQ}",0],CDF:["\\Bold{C}",0],CIF:["\\Bold{C}",0],CLF:["\\Bold{C}",0],RDF:["\\Bold{R}",0],RIF:["\\Bold{I} \\Bold{R}",0],RLF:["\\Bold{R}",0],CFF:["\\Bold{CFF}",0],GF:["\\Bold{F}_{#1}",1],Zp:["\\ZZ_{#1}",1],Qp:["\\QQ_{#1}",1],Zmod:["\\ZZ/#1\\ZZ",1]},noErrors:{inlineDelimiters:["$","$"],multiLine:!0,style:{"font-size":"85%","text-align":"left",color:"red",padding:"1px 3px",background:"#FFEEEE",border:"none"}},noUndefined:{attributes:{mathcolor:"red",mathbackground:"#FFEEEE",mathsize:"90%"}}},"HTML-CSS":{linebreaks:{automatic:!0}},SVG:{linebreaks:{automatic:!0}},showProcessingMessages:!1},($=window.$)(function(){var e,n,i;return null!=(n=$("#smc-startup-banner"))&&n.remove(),null!=(i=$("#smc-startup-banner-status"))&&i.remove(),$(parent).trigger("initialize:frame"),e=document.createElement("script"),e.type="text/javascript",e.src="/static/mathjax-2.7.1/MathJax.js",e.onload=function(){var e,n;return e=t(30).mathjax_finish_startup,null!=(n=MathJax.Hub)?n.Queue([e]):void 0},document.getElementsByTagName("head")[0].appendChild(e),r.wrap_log()})},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P=function(e,t){return function(){return e.apply(t,arguments)}},B=function(e,t){function n(){this.constructor=e}for(var r in t)q.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},q={}.hasOwnProperty,F=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},U=[].slice;for($=window.$,f=t(31),z=t(64),O=t(103),l=O.MARKERS,s=O.FLAGS,n=O.ACTION_FLAGS,r=O.ACTION_SESSION_FLAGS,u=t(353).SynchronizedDocument2,C=t(9),_=C.defaults,I=C.required,E=t(30),A=t(188),k=t(86),L=t(19).salvus_client,T=t(12).redux,h=t(36).alert_message,D=t(933).sagews_eval,a=t(49).IS_MOBILE,R=$("#salvus-editor-templates"),m=R.find(".sagews-input"),M=R.find(".sagews-output"),x=function(e){return console.log(e)},i={},N=["md","html","coffeescript","javascript","cjsx"],y=0,b=N.length;y<b;y++)S=N[y],i["%"+S]={mode:S},i["%"+S+"(hide=false)"]={mode:S,hide:!1},i["%"+S+"(hide=true)"]={mode:S,hide:!0},i["%"+S+"(hide=0)"]={mode:S,hide:!1},i["%"+S+"(hide=1)"]={mode:S,hide:!0},i["%"+S+"(once=false)"]={mode:S},i["%"+S+"(once=0)"]={mode:S};c=l.cell+l.output,v=function(e){return null!=e&&(e.indexOf(l.cell)!==-1||e.indexOf(l.output)!==-1)},j=$('<div class="CodeMirror-foldgutter-open CodeMirror-guttermarker-subtle"></div>'),g=$('<div class="CodeMirror-foldgutter-folded CodeMirror-guttermarker-subtle"></div>'),w=$("<div style='color:#88f'></div>"),d=function(e){function i(e,t){var n,s,a,c,u,d;for(this.editor=e,this.opts=t,this.close_on_action=P(this.close_on_action,this),this.refresh_soon=P(this.refresh_soon,this),this.print_to_pdf_data=P(this.print_to_pdf_data,this),this.output_elements=P(this.output_elements,this),this.remove_cell_flags_from_text=P(this.remove_cell_flags_from_text,this),this.remove_cell_flags_from_changeObj=P(this.remove_cell_flags_from_changeObj,this),this.remove_this_session_flags_from_changeObj_range=P(this.remove_this_session_flags_from_changeObj_range,this),this.remove_this_session_flags_from_range=P(this.remove_this_session_flags_from_range,this),this.remove_this_session_from_line=P(this.remove_this_session_from_line,this),this.doc_uuids=P(this.doc_uuids,this),this.cell_start_marker=P(this.cell_start_marker,this),this.insert_new_cell=P(this.insert_new_cell,this),this.remove_cell_flag=P(this.remove_cell_flag,this),this.set_cell_flag=P(this.set_cell_flag,this),this.get_cell_uuid=P(this.get_cell_uuid,this),this.set_cell_flagstring=P(this.set_cell_flagstring,this),this.set_input_line_flagstring=P(this.set_input_line_flagstring,this),this.get_cell_flagstring=P(this.get_cell_flagstring,this),this.get_input_line_flagstring=P(this.get_input_line_flagstring,this),this.move_cursor_to_next_cell=P(this.move_cursor_to_next_cell,this),this.split_cell_at=P(this.split_cell_at,this),this.execute_auto_cells=P(this.execute_auto_cells,this),this._execute_cell_server_side=P(this._execute_cell_server_side,this),this.execute_cell_server_side=P(this.execute_cell_server_side,this),this.execute_cell_client_side=P(this.execute_cell_client_side,this),this.action=P(this.action,this),this.edit_cell=P(this.edit_cell,this),this.find_input_mark=P(this.find_input_mark,this),this.current_input_block=P(this.current_input_block,this),this.find_output_mark=P(this.find_output_mark,this),this.find_output_line=P(this.find_output_line,this),this.mark_output_line=P(this.mark_output_line,this),this.set_all_output_line_classes=P(this.set_all_output_line_classes,this),this.set_output_line_class=P(this.set_output_line_class,this),this.mark_cell_start=P(this.mark_cell_start,this),this._receive_broadcast=P(this._receive_broadcast,this),this.javascript_block_mesg=P(this.javascript_block_mesg,this),this.allow_javascript_eval=P(this.allow_javascript_eval,this),this.process_output_mesg=P(this.process_output_mesg,this),this.raw_input=P(this.raw_input,this),this.remove_output_blob_ttls=P(this.remove_output_blob_ttls,this),this._output_blobs_ttls_removed=P(this._output_blobs_ttls_removed,this),this._output_blobs_with_possible_ttl=P(this._output_blobs_with_possible_ttl,this),this._post_save_success=P(this._post_save_success,this),this.process_html_output=P(this.process_html_output,this),this.jump_to_output_matching_jquery_selector=P(this.jump_to_output_matching_jquery_selector,this),this.interact=P(this.interact,this),this.execute_code=P(this.execute_code,this),this.status=P(this.status,this),this.sage_call=P(this.sage_call,this),this.show_output=P(this.show_output,this),this.hide_output=P(this.hide_output,this),this.show_input=P(this.show_input,this),this.hide_input=P(this.hide_input,this),this.set_input_state=P(this.set_input_state,this),this.render_output=P(this.render_output,this),this._process_line=P(this._process_line,this),this._process_line_gutter=P(this._process_line_gutter,this),this._handle_input_cell_click=P(this._handle_input_cell_click,this),this._handle_input_cell_click0=P(this._handle_input_cell_click0,this),this._process_sage_updates=P(this._process_sage_updates,this),this.process_sage_updates=P(this.process_sage_updates,this),this.pad_bottom_with_newlines=P(this.pad_bottom_with_newlines,this),this.cm_lines=P(this.cm_lines,this),this.cm_wrapper=P(this.cm_wrapper,this),this.elt_at_mark=P(this.elt_at_mark,this),this.introspect=P(this.introspect,this),this.introspect_line=P(this.introspect_line,this),this.send_signal=P(this.send_signal,this),this.restart=P(this.restart,this),this.start=P(this.start,this),this.kill=P(this.kill,this),this.clear_action_flags=P(this.clear_action_flags,this),this.interrupt=P(this.interrupt,this),this.on_redo=P(this.on_redo,this),this.on_undo=P(this.on_undo,this),this._is_dangerous_undo_step=P(this._is_dangerous_undo_step,this),this.init_html_editor_buttons=P(this.init_html_editor_buttons,this),this.html_editor_exec_command=P(this.html_editor_exec_command,this),this.html_editor_image=P(this.html_editor_image,this),this.html_editor_display_equation=P(this.html_editor_display_equation,this),this.html_editor_equation=P(this.html_editor_equation,this),this.html_editor_insert_equation=P(this.html_editor_insert_equation,this),this.html_editor_link=P(this.html_editor_link,this),this.html_editor_restore_selection=P(this.html_editor_restore_selection,this),this.html_editor_save_selection=P(this.html_editor_save_selection,this),this.init_worksheet_buttons=P(this.init_worksheet_buttons,this),this.process_sage_update_queue=P(this.process_sage_update_queue,this),this.get_all_cells=P(this.get_all_cells,this),this.get_current_cells=P(this.get_current_cells,this),this.cell=P(this.cell,this),this._apply_changeObj=P(this._apply_changeObj,this),this._handle_input_hide_show_gutter_click=P(this._handle_input_hide_show_gutter_click,this),this.init_hide_show_gutter=P(this.init_hide_show_gutter,this),this.close=P(this.close,this),this.codemirror=this.editor.codemirror,this.codemirror1=this.editor.codemirror1,this.execution_queue=new o(this._execute_cell_server_side,this),s={rangeFinder:function(e,t){var n,r,i,o,s,a,c,u;for(i=e.getHelpers(t,"fold"),a=0,s=i.length;a<s;a++)if(r=i[a],n=r(e,t)){for(o=t.line;o<n.to.line&&(null!=(c=e.getLine(o+1))?c[0]:void 0)!==l.output;)o+=1;return(null!=(u=e.getLine(o+1))?u[0]:void 0)===l.output&&(n.to.line=o,n.to.ch=e.getLine(o).length),n}}},d=this.codemirrors(),c=0,a=d.length;c<a;c++)n=d[c],n.setOption("foldOptions",s);return this.opts.static_viewer?(this.readonly=!0,this.project_id=this.editor.project_id,void(this.filename=this.editor.filename)):(u={cursor_interval:this.opts.cursor_interval,sync_interval:this.opts.sync_interval},void i.__super__.constructor.call(this,this.editor,u,function(e){return function(){var t,i,o,s;for(e.readonly=e._syncstring.get_read_only(),e.init_hide_show_gutter(),e.process_sage_updates({caller:"constructor"}),e.readonly||e.status({cb:function(t,n){return(null!=n?n.running:void 0)?e.introspect_line({line:"return?",timeout:30,preparse:!1,cb:function(e){}}):e.execute_auto_cells()}}),e.on("sync",function(){return e.process_sage_update_queue()}),e.editor.on("show",function(t){return e.set_all_output_line_classes()}),e.editor.on("toggle-split-view",function(){return e.process_sage_updates({caller:"toggle-split-view"})}),e.init_worksheet_buttons(),s=[e.codemirror,e.codemirror1],o=[],i=0,t=s.length;i<t;i++)n=s[i],n.on("beforeChange",function(t,n){if("redo"!==n.origin&&"undo"!==n.origin)return null!=n.origin&&"setValue"!==n.origin&&e.remove_this_session_flags_from_changeObj_range(n),"paste"===n.origin?(n.cancel(),e.remove_cell_flags_from_changeObj(n,r),e._apply_changeObj(n),e.process_sage_updates({caller:"paste"}),e.sync()):void 0}),o.push(n.on("change",function(t,r){var i,o,s,a,c,u,d,p;if("undo"!==r.origin&&"redo"!==r.origin){if(u=r.from.line,d=r.to.line+r.text.length+1,e.editor.opts.line_numbers){if(p=null!=(o=n.getLine(d))?o[0]:void 0,p!==l.cell&&p!==l.output)for(i=n.lineCount()-1;d<i&&p!==l.output&&p!==l.cell;)d+=1,p=null!=(s=n.getLine(d))?s[0]:void 0;if(p=null!=(a=n.getLine(u))?a[0]:void 0,p!==l.cell&&p!==l.output)for(;u>0&&p!==l.cell&&p!==l.output;)u-=1,p=null!=(c=n.getLine(u))?c[0]:void 0}return(null==e._update_queue_start||u<e._update_queue_start)&&(e._update_queue_start=u),(null==e._update_queue_stop||d>e._update_queue_stop)&&(e._update_queue_stop=d),e.process_sage_update_queue()}}));return o}}(this)))}return B(i,e),i.prototype.close=function(){var e;return null!=(e=this.execution_queue)&&e.close(),i.__super__.close.call(this)},i.prototype.init_hide_show_gutter=function(){var e,t,n,r,i,o;for(t=["CodeMirror-linenumbers","CodeMirror-foldgutter","smc-sagews-gutter-hide-show"],i=[this.codemirror,this.codemirror1],o=[],r=0,n=i.length;r<n;r++)e=i[r],e.setOption("gutters",t),o.push(e.on("gutterClick",this._handle_input_hide_show_gutter_click));return o},i.prototype._handle_input_hide_show_gutter_click=function(e,t,n){var r;if("smc-sagews-gutter-hide-show"===n&&(r=e.getLine(t),null!=r))switch(r[0]){case l.cell:return this.action({pos:{line:t,ch:0},toggle_input:!0});case l.output:return this.action({pos:{line:t,ch:0},toggle_output:!0})}},i.prototype._apply_changeObj=function(e){if(this.codemirror.replaceRange(e.text,e.from,e.to),null!=e.next)return this._apply_changeObj(e.next)},i.prototype.cell=function(e,t){var n,r,i,o,s,a;if(null==t&&(t=!0),i=this.current_input_block(e),a=i.start,r=i.end,t||(n=this.focused_codemirror(),(null!=(o=n.getLine(a))?o[0]:void 0)===l.cell&&(null!=(s=n.getLine(r))?s[0]:void 0)===l.output))return new p(this,a,r)},i.prototype.get_current_cells=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g;for(null==e&&(e=!0),n=this.focused_codemirror(),t=[],g=void 0,c=function(n){return function(r){var i;if((null==g||r<g)&&(i=n.cell(r,e),null!=i))return t.push(i),g=i.start_line()}}(this),d=n.listSelections().reverse(),l=0,o=d.length;l<o;l++)if(_=d[l],a=_.anchor.line,s=_.head.line,a===s)c(a);else if(a<s)for(r=u=p=s,h=a;p<=h?u<=h:u>=h;r=p<=h?++u:--u)c(r);else for(r=i=f=a,m=s;f<=m?i<=m:i>=m;r=f<=m?++i:--i)c(r);return t.reverse()},i.prototype.get_all_cells=function(){var e,t,n,r,i;for(t=this.focused_codemirror(),e=[],i=void 0,r=function(t){return function(n){var r;if(null==i||n<i)return r=t.cell(n),e.push(r),i=r.start_line()}}(this),n=t.lineCount()-1;n>0&&t.getLine(n)[0]!==l.output;)n-=1;if(0===n)return[];for(;n>=0;)r(n),n-=1;return e.reverse()},i.prototype.process_sage_update_queue=function(){return this.process_sage_updates({start:this._update_queue_start,stop:this._update_queue_stop,caller:"queue"}),this._update_queue_start=void 0,this._update_queue_stop=void 0},i.prototype.init_worksheet_buttons=function(){var e,t,n;return e=this.element.find(".salvus-editor-codemirror-worksheet-buttons"),e.show(),e.find("a").tooltip({delay:{show:500,hide:100}}),e.find('a[href="#execute"]').click(function(e){return function(){return e.action({execute:!0,advance:!1}),e.focused_codemirror().focus(),!1}}(this)),e.find('a[href="#toggle-input"]').click(function(e){return function(){return e.action({execute:!1,toggle_input:!0}),e.focused_codemirror().focus(),!1}}(this)),e.find('a[href="#toggle-output"]').click(function(e){return function(){return e.action({execute:!1,toggle_output:!0}),e.focused_codemirror().focus(),!1}}(this)),e.find('a[href="#delete-output"]').click(function(e){return function(){return e.action({execute:!1,delete_output:!0}),e.focused_codemirror().focus(),!1}}(this)),a?e.find('a[href="#tab"]').click(function(e){return function(){return e.editor.press_tab_key(e.editor.codemirror_with_last_focus),e.focused_codemirror().focus(),!1}}(this)):(this.element.find('a[href="#tab"]').hide(),
this.element.find('a[href="#undo"]').hide(),this.element.find('a[href="#redo"]').hide()),e.find('a[href="#new-html"]').click(function(e){return function(){var t,n;for(t=e.focused_codemirror(),n=t.lineCount()-1;n>=0&&""===t.getLine(n);)n-=1;return n>=0&&t.getLine(n)[0]===l.cell?(t.replaceRange("%html\n",{line:n+1,ch:0}),t.setCursor({line:n+1,ch:0})):(t.replaceRange("\n\n\n",{line:n+1,ch:0}),e.cell_start_marker(n+1),e.cell_start_marker(n+3),t.replaceRange("%html\n",{line:n+2,ch:0}),t.setCursor({line:n+2,ch:0})),e.action({execute:!0,advance:!0}),e.focused_codemirror().focus()}}(this)),t=e.find('a[href="#interrupt"]').click(function(e){return function(){return t.find("i").addClass("fa-spin"),e.interrupt({maxtime:15,cb:function(e){if(t.find("i").removeClass("fa-spin"),e)return h({type:"error",message:"Unable to interrupt worksheet; try restarting the worksheet instead."})}}),e.focused_codemirror().focus(),!1}}(this)),n=e.find('a[href="#kill"]').click(function(e){return function(){return n.find("i").addClass("fa-spin"),e._restarting=!0,e.kill({restart:!0,cb:function(t){if(delete e._restarting,e.emit("restarted",t),n.find("i").removeClass("fa-spin"),t)return h({type:"error",message:"Unable to restart worksheet (the system might be heavily loaded causing Sage to take a while to restart -- try again in a minute)"})}}),e.focused_codemirror().focus(),!1}}(this))},i.prototype.html_editor_save_selection=function(){if(null!=this._html_editor_with_focus)return this.html_editor_selection=E.save_selection(),this.html_editor_div=this._html_editor_with_focus,this.html_editor_scroll_info=this.focused_codemirror().getScrollInfo()},i.prototype.html_editor_restore_selection=function(){if(null!=this.html_editor_selection)return E.restore_selection(this.html_editor_selection)},i.prototype.html_editor_link=function(){var e,t,n,r,i,o,s,a;return this.html_editor_restore_selection(),r=document.getSelection(),n=r+"",e=R.find(".salvus-html-editor-link-dialog").clone(),e.modal("show"),e.find(".btn-close").off("click").click(function(){return e.modal("hide"),setTimeout(focus,50),!1}),a=e.find(".salvus-html-editor-url"),a.focus(),t=e.find(".salvus-html-editor-display"),o=e.find(".salvus-html-editor-target"),s=e.find(".salvus-html-editor-title"),t.val(n),i=function(n){return function(){var r;return e.modal("hide"),o="_blank"===o.val()?" target='_blank'":"",r="<a href='"+a.val()+"' title='"+s.val()+"'"+o+">"+t.val()+"</a>",n.html_editor_exec_command("insertHTML",r)}}(this),e.find(".btn-submit").off("click").click(i),e.keydown(function(t){return function(t){return 13===t.which?(i(),!1):27===t.which?(e.modal("hide"),!1):void 0}}(this))},i.prototype.html_editor_insert_equation=function(e){var t,n,r;if(null!=this.html_editor_div)return n=C.uuid(),this.html_editor_exec_command("insertHTML","<span id="+n+" contenteditable=false></span>"),t=$("#"+n),r=this.html_editor_div.data("onchange"),t.equation_editor({display:e,value:"x^2",onchange:r}),r()},i.prototype.html_editor_equation=function(){return this.html_editor_insert_equation(!1)},i.prototype.html_editor_display_equation=function(){return this.html_editor_insert_equation(!0)},i.prototype.html_editor_image=function(){var e,t,n;return this.html_editor_restore_selection(),e=R.find(".salvus-html-editor-image-dialog").clone(),e.modal("show"),e.find(".btn-close").off("click").click(function(){return e.modal("hide"),setTimeout(focus,50),!1}),n=e.find(".salvus-html-editor-url"),n.focus(),t=function(t){return function(){var r,i,o,s,a;return e.modal("hide"),i=a="",r=e.find(".salvus-html-editor-height").val().trim(),r.length>0&&(i=" height="+r),s=e.find(".salvus-html-editor-width").val().trim(),s.length>0&&(a=" width="+s),o="<img src='"+n.val()+"'"+a+i+">",t.html_editor_exec_command("insertHTML",o)}}(this),e.find(".btn-submit").off("click").click(t),e.keydown(function(n){return function(n){return 13===n.which?(t(),!1):27===n.which?(e.modal("hide"),!1):void 0}}(this))},i.prototype.html_editor_exec_command=function(e,t){var n,r,i,o;if("undefined"!=typeof rangy&&null!==rangy)return null!=this.html_editor_scroll_info&&this.focused_codemirror().scrollTo(this.html_editor_scroll_info.left,this.html_editor_scroll_info.top),this.html_editor_restore_selection(),"ClassApplier"===e?"undefined"!=typeof rangy&&null!==rangy&&rangy.createClassApplier(t[0],t[1]).applyToSelection():"insertHTML"===e?(o="undefined"!=typeof rangy&&null!==rangy?rangy.getSelection():void 0,r=o.getAllRanges()[0],"string"!=typeof t&&(t=t[0]),r.insertNode($(t)[0])):document.execCommand(e,0,t),this.html_editor_save_selection(),null!=(i=this.html_editor_div)&&"function"==typeof(n=i.data("onchange"))?n():void 0},i.prototype.init_html_editor_buttons=function(){var e,t,n,r;return this.html_editor_bar=e=this.element.find(".salvus-editor-codemirror-worksheet-editable-buttons"),this.html_editor_bar.find("a").tooltip({delay:{show:500,hide:100}}),this.html_editor_bar.find(".smc-tooltip").tooltip({delay:{show:500,hide:100}}),r=this,e.find("a").click(function(){var e,t;return r.html_editor_restore_selection(),e=$(this).data("args"),t=$(this).attr("href").slice(1),"special"===e?(r["html_editor_"+t](),!1):(null!=e&&"object"!=typeof e&&(e=""+e,e.indexOf(",")!==-1&&(e=e.split(","))),r.html_editor_exec_command(t,e),!1)}),n=function(t){return function(){var t,n,i,o;return n=e.find(".sagews-output-editor-foreground-color-selector"),a?void n.hide():(t=n.find("input").colorpicker(),i=n.find("i"),o=function(e){return i.css("color",e),t.css("background-color",e),r.html_editor_exec_command("foreColor",e)},t.change(function(e){var n;return n=t.val(),o(n)}),t.on("changeColor",function(e){var t;return t=e.color.toHex(),o(t)}),i.click(function(e){return r.html_editor_restore_selection(),t.colorpicker("show")}),o("#000000"))}}(this),n(),(t=function(t){return function(){var t,n,i,o;return n=e.find(".sagews-output-editor-background-color-selector"),a?void n.hide():(t=n.find("input").colorpicker(),i=n.find("i"),o=function(e){return t.css("background-color",e),n.find(".input-group-addon").css("background-color",e),r.html_editor_exec_command("hiliteColor",e)},t.change(function(e){var n;return n=t.val(),o(n)}),t.on("changeColor",function(e){var t;return t=e.color.toHex(),o(t)}),i.click(function(e){return r.html_editor_restore_selection(),t.colorpicker("show")}),o("#fff8bd"))}}(this))()},i.prototype._is_dangerous_undo_step=function(e,t){var n,r,i,o,s,a,l;if(null==t)return!1;for(o=0,r=t.length;o<r;o++){if(n=t[o],n.from.line===n.to.line&&n.from.line<e.lineCount()&&v(e.getLine(n.from.line)))return!0;for(a=n.text,s=0,i=a.length;s<i;s++)if(l=a[s],v(l))return!0}return!1},i.prototype.on_undo=function(e,t){var n,r;if(r=e.getHistory().undone,r.length>0&&this._is_dangerous_undo_step(e,r[r.length-1].changes))try{e.undo()}catch(e){n=e,console.warn("skipping undo: ",n)}return this.process_sage_updates(),this.set_all_output_line_classes()},i.prototype.on_redo=function(e,t){var n,r;if(r=e.getHistory().done,r.length>0&&this._is_dangerous_undo_step(e,r[r.length-1].changes))try{e.redo()}catch(e){n=e,console.warn("skipping redo: ",n)}return this.process_sage_updates(),this.set_all_output_line_classes()},i.prototype.interrupt=function(e){var t,n;return null==e&&(e={}),e=_(e,{maxtime:15,cb:void 0}),this.readonly?void("function"==typeof e.cb&&e.cb()):(this.close_on_action(),n=C.walltime(),null!=(t=this.execution_queue)&&t.clear(),this.clear_action_flags(!1),f.series([function(e){return function(t){return e.send_signal({signal:2,cb:t})}}(this),function(t){return function(r){return t.start({maxtime:e.maxtime-C.walltime(n),cb:r})}}(this)],function(t){return function(t){return"function"==typeof e.cb?e.cb(t):void 0}}(this)))},i.prototype.clear_action_flags=function(e){var t,i,o,s,a,l,c;for(o=e?r:n,l=this.get_all_cells(),c=[],a=0,s=l.length;a<s;a++)t=l[a],c.push(function(){var e,n,r;for(r=[],n=0,e=o.length;n<e;n++)i=o[n],r.push(t.remove_cell_flag(i));return r}());return c},i.prototype.kill=function(e){var t,n;return null==e&&(e={}),e=_(e,{restart:!1,maxtime:60,cb:void 0}),this.readonly?void("function"==typeof e.cb&&e.cb()):(n=C.walltime(),this.close_on_action(),this.clear_action_flags(!0),null!=(t=this.execution_queue)&&t.clear(),this.process_sage_updates({caller:"kill"}),e.restart?this.restart({cb:e.cb}):this.send_signal({signal:9,cb:e.cb}))},i.prototype.start=function(e){var t,n;return null==e&&(e={}),e=_(e,{maxtime:60,cb:void 0}),this.readonly?void("function"==typeof e.cb&&e.cb()):e.maxtime<=0?void("function"==typeof e.cb&&e.cb("timed out trying to start Sage worksheet - system may be heavily loaded or Sage is broken.")):(n=.5,t=function(e){return function(t){return n=Math.min(10,1.4*n),e.introspect_line({line:"return?",timeout:n,preparse:!1,cb:function(e){return t()}})}}(this),C.retry_until_success({f:t,max_time:1e3*e.maxtime,cb:e.cb}))},i.prototype.restart=function(e){return e=_(e,{cb:void 0}),this.sage_call({input:{event:"restart"},cb:function(t){return function(){return t.execute_auto_cells(),"function"==typeof e.cb?e.cb():void 0}}(this)})},i.prototype.send_signal=function(e){return e=_(e,{signal:2,cb:void 0}),this.sage_call({input:{event:"signal",signal:e.signal},cb:function(t){return function(){return"function"==typeof e.cb?e.cb():void 0}}(this)})},i.prototype.introspect_line=function(e){return e=_(e,{line:I,top:void 0,preparse:!0,timeout:void 0,cb:I}),this.sage_call({input:{event:"introspect",line:e.line,top:e.top,preparse:e.preparse},cb:e.cb})},i.prototype.introspect=function(){var e,t,n,r,i,o,s;if(!this.opts.static_viewer&&!this.readonly)return t=this.focused_codemirror(),r=t.getCursor(),e=this.current_input_block(r.line),s=e.start===e.end?e.start:e.start+1,o=t.getLine(s),n=t.getLine(r.line).slice(0,r.ch),0===r.ch||(i=n[r.ch-1],F.call(")]}'\"\t ",i)>=0)?void(this.editor.opts.spaces_instead_of_tabs?t.tab_as_space():CodeMirror.commands.defaultTab(t)):this.introspect_line({line:n,top:o,cb:function(e){return function(i){var o,s,a;if("error"===i.event||null==(null!=i?i.target:void 0))s="sagews: unable to instrospect '"+n+"' -- "+JSON.stringify(i),console.log(s),L.log_error(s);else{switch(a={line:r.line,ch:r.ch-i.target.length},o=void 0,i.event){case"introspect_completions":t.showCompletions({from:a,to:r,completions:i.completions,target:i.target,completions_size:e.editor.opts.completions_size});break;case"introspect_docstring":o=t.showIntrospect({from:a,content:i.docstring,target:i.target,type:"docstring"});break;case"introspect_source_code":o=t.showIntrospect({from:a,content:i.source_code,target:i.target,type:"source-code"});break;default:console.log("BUG -- introspect_line -- unknown event "+i.event)}if(null!=o)return e.close_on_action(o)}}}(this)})},i.prototype.elt_at_mark=function(e){return null!=e?e.element:void 0},i.prototype.cm_wrapper=function(){return null!=this._cm_wrapper?this._cm_wrapper:this._cm_wrapper=$(this.codemirror.getWrapperElement())},i.prototype.cm_lines=function(){return null!=this._cm_lines?this._cm_lines:this._cm_lines=this.cm_wrapper().find(".CodeMirror-lines")},i.prototype.pad_bottom_with_newlines=function(e){var t,n,r,i,o;if(!(this.opts.static_viewer||(t=this.codemirror,o=t.lineCount(),o<=13))){for(r=o-1;r>=0&&r>=o-e&&0===t.getLine(r).length;)r-=1;return i=e-(o-(r+1)),i>0?(n=t.getCursor(),t.replaceRange(Array(i+1).join("\n"),{line:o+1,ch:0}),t.setCursor(n)):void 0}},i.prototype.process_sage_updates=function(e){var t,n,r;if(null==e&&(e={}),e=_(e,{start:void 0,stop:void 0,cm:void 0,pad_bottom:10,caller:void 0}),!this._closed){n=this.editor.codemirror.getValue(),e.pad_bottom&&this.pad_bottom_with_newlines(e.pad_bottom);try{null==e.cm?(this._process_sage_updates(this.editor.codemirror,e.start,e.stop),this.editor._layout>0&&this._process_sage_updates(this.editor.codemirror1,e.start,e.stop)):this._process_sage_updates(e.cm,e.start,e.stop)}catch(e){r=e,console.log("Error rendering worksheet",r)}return t=this.editor.codemirror.getValue(),n===t||this.readonly?void 0:this._syncstring.from_str(t)}},i.prototype._process_sage_updates=function(e,t,n){var r,i,o,s,a,l;if(!this._closed){for(null==e&&(e=this.focused_codemirror()),null==t&&(t=0),null==n&&(n=e.lineCount()-1),r={uuids:{}},l=[],i=o=s=t,a=n;s<=a?o<=a:o>=a;i=s<=a?++o:--o)l.push(this._process_line(e,i,r));return l}},i.prototype._handle_input_cell_click0=function(e,t){var n;return this.insert_new_cell(null!=(n=t.find())?n.from.line:void 0)},i.prototype._handle_input_cell_click=function(e,t){return a?bootbox.confirm("Create new cell?",function(n){return function(r){var i;return r?n._handle_input_cell_click0(e,t):(i=n.focused_codemirror(),i.focus(),i.setCursor({line:t.find().from.line+1,ch:0}))}}(this)):this._handle_input_cell_click0(e,t),!1},i.prototype._process_line_gutter=function(e,t,n,r){var i,o,s;if(s=n+r,i=null!=(o=e.lineInfo(t).gutterMarkers)?o["smc-sagews-gutter-hide-show"]:void 0,(null!=i?i.smc_cur:void 0)!==s){switch(n){case"show":i=j.clone()[0];break;case"hide":i=g.clone()[0];break;case"number":if(!this.editor.opts.line_numbers)return;if(""===(null!=i?i.className:void 0))return i.smc_cur=s,void(i.innerHTML=r);i=w.clone().text(r)[0];break;default:console.warn("sagews unknown mode '"+n+"'")}return null!=i?(i.smc_cur=s,e.setGutterMarker(t,"smc-sagews-gutter-hide-show",i)):void 0}},i.prototype._process_line=function(e,t,n){var r,i,o,a,c,u,d,p,h,f,_,g,v,y,b,w,x,k,A,E,S,j,T,O,N,I,D,L,z,R,P,B,q,U,W;if(U=e.getLine(t),null!=U){if(y=function(){var n,r,i,o;for(i=e.findMarks({line:t,ch:0},{line:t,ch:U.length}),o=[],r=0,n=i.length;r<n;r++)g=i[r],"bookmark"!==g.type&&o.push(g);return o}(),y.length>1){for(O=y.slice(1),w=0,h=O.length;w<h;w++)g=O[w],g.clear();y=[y[0]]}switch(U[0]){case l.cell:for(q=U.slice(1,37),n.uuids[q]&&(q=C.uuid(),e.replaceRange(q,{line:t,ch:1},{line:t,ch:37})),n.uuids[q]=!0,n.input_line=t,a=U.slice(37,U.length-1),N=s.hide_input,F.call(a,N)>=0?(this._process_line_gutter(e,t,"hide"),n.hide=t):(this._process_line_gutter(e,t,"show"),delete n.hide),n.hide_output=(I=s.hide_output,F.call(a,I)>=0),b=t+1,A=void 0;b<e.lineCount();){if(W=e.getLine(b),(null!=W?W[0]:void 0)===l.output){A=b;break}if((null!=W?W[0]:void 0)===l.input||null==(null!=W?W[0]:void 0))break;b+=1}if(null!=A&&(E=e.findMarks({line:A,ch:0},{line:A,ch:W.length}),n.hide_output?(this._process_line_gutter(e,A,"hide"),null!=E&&null!=(D=E[0])&&D.element.hide()):(this._process_line_gutter(e,A,"show"),null!=E&&null!=(L=E[0])&&L.element.show())),1!==y.length||"input"===y[0].type&&y[0].uuid===q||(y[0].clear(),y=[]),0===y.length&&(d=m.clone(),x={shared:!1,inclusiveLeft:!1,inclusiveRight:!0,atomic:!0,replacedWith:d[0]},v=e.markText({line:t,ch:0},{line:t,ch:U.length},x),y.push(v),v.element=d,v.type="input",v.uuid=q,this.readonly||(d.addClass("sagews-input-live"),d.click(function(e){return function(t){return e._handle_input_cell_click(t,v)}}(this)))),!this.readonly)return i=y[0].element,z=s.waiting,F.call(a,z)>=0?(i.data("execute",s.waiting),this.set_input_state({elt:i,run_state:"waiting"})):(R=s.execute,F.call(a,R)>=0?(i.data("execute",s.execute),this.set_input_state({elt:i,run_state:"execute"})):(P=s.running,F.call(a,P)>=0?(i.data("execute",s.running),this.set_input_state({elt:i,run_state:"running"})):(i.data("execute","done"),this.set_input_state({elt:i,run_state:"done"})))),j=s.this_session,F.call(a,j)>=0?this.set_input_state({elt:i,eval_state:!0}):this.set_input_state({elt:i,eval_state:!1});break;case l.output:return q=U.slice(1,37),n.uuids[q]&&(q=C.uuid(),e.replaceRange(q,{line:t,ch:1},{line:t,ch:37})),n.uuids[q]=!0,1!==y.length||"output"===y[0].type&&y[0].uuid===q||(y[0].clear(),y=[]),0===y.length&&(k=M.clone(),x={shared:!1,inclusiveLeft:!0,inclusiveRight:!0,atomic:!0,replacedWith:k[0]},v=e.markText({line:t,ch:0},{line:t,ch:U.length},x),v.element=k,v.type="output",v.uuid=q,v.rendered="",y.push(v)),e.addLineClass(t,"gutter","sagews-output-cm-gutter"),e.addLineClass(t,"text","sagews-output-cm-text"),e.addLineClass(t,"wrap","sagews-output-cm-wrap"),n.hide_output?(this._process_line_gutter(e,t,"hide"),y[0].element.hide()):(this._process_line_gutter(e,t,"show"),y[0].element.show()),this.render_output(y[0],U.slice(38),t);default:if(this.editor.opts.line_numbers){if(p=n.input_line,null==p)for(p=t-1;p>=0&&e.getLine(p)[0]!==l.cell;)p-=1;this._process_line_gutter(e,t,"number",t-p)}else this._process_line_gutter(e,t);for(T=[l.cell,l.output],S=0,f=T.length;S<f;S++)r=T[S],c=U.indexOf(r),c!==-1&&(e.replaceRange("",{line:t,ch:c},{line:t,ch:U.length}),U=U.slice(0,c));if(null!=n.hide){if(y.length>0&&"hide"!==y[0].type&&(y[0].clear(),y=[]),0===y.length&&n.hide===t-1){for(x={shared:!1,inclusiveLeft:!0,inclusiveRight:!0,atomic:!0,collapsed:!0},o=t+1;o<e.lineCount()&&e.getLine(o)[0]!==l.output;)o+=1;return v=e.markText({line:t,ch:0},{line:o-1,ch:e.getLine(o-1).length},x),v.type="hide"}}else if(y.length>0){for(B=[],u=0,_=y.length;u<_;u++)g=y[u],B.push(g.clear());return B}}}},i.prototype.render_output=function(e,t,n){var r,i,o,s,a,c;if(e.rendered!==t){for(t.slice(0,e.rendered.length)!==e.rendered&&(e.element.empty(),e.rendered=""),c=t.slice(e.rendered.length).split(l.output),a=0,i=c.length;a<i;a++)if(o=c[a],0!==o.length){try{s=C.from_json(o)}catch(e){return void(r=e)}this.process_output_mesg({mesg:s,element:e.element,mark:e})}return e.rendered=t}},i.prototype.set_input_state=function(e){var t,n,r,i,o,s,a;if(e=_(e,{elt:void 0,line:void 0,eval_state:void 0,run_state:void 0}),null!=e.elt)n=e.elt;else if(null!=e.line){if(o=cm.findMarksAt({line:e.line,ch:1})[0],null==o)return;n=this.elt_at_mark(o)}if(null!=e.eval_state&&(t=n.find(".sagews-input-eval-state"),e.eval_state?t.addClass("sagews-input-evaluated").removeClass("sagews-input-unevaluated"):t.addClass("sagews-input-unevaluated").removeClass("sagews-input-evaluated")),null!=e.run_state){for(t=n.find(".sagews-input-run-state"),a=["execute","running","waiting"],s=0,i=a.length;s<i;s++)r=a[s],t.removeClass("sagews-input-"+r);return"done"===e.run_state?t.removeClass("blink"):t.addClass("sagews-input-"+e.run_state).addClass("blink")}},i.prototype.hide_input=function(e){var t,n,r,i,o,s,a,c,u;for(r=e+1,n=this.codemirror;r<n.lineCount()&&(t=n.getLine(r)[0],t!==l.cell&&t!==l.output);)r+=1;for(e+=1,a={shared:!0,inclusiveLeft:!0,inclusiveRight:!0,atomic:!0,collapsed:!0},o=n.markText({line:e,ch:0},{line:r-1,ch:n.getLine(r-1).length},a),o.type="hide_input",c=this.codemirrors(),u=[],s=0,i=c.length;s<i;s++)t=c[s],u.push(t.refresh());return u},i.prototype.show_input=function(e){var t,n,r,i,o,s;for(o=[this.codemirror,this.codemirror1],s=[],i=0,n=o.length;i<n;i++)t=o[i],s.push(function(){var n,i,o,s;for(o=t.findMarksAt({line:e+1,ch:0}),s=[],i=0,n=o.length;i<n;i++)r=o[i],"hide_input"===r.type?s.push(r.clear()):s.push(void 0);return s}());return s},i.prototype.hide_output=function(e){var t,n,r,i,o,s;for(o=[this.codemirror,this.codemirror1],s=[],i=0,n=o.length;i<n;i++)t=o[i],r=this.find_output_mark(e,t),null!=r?s.push(this.elt_at_mark(r).addClass("sagews-output-hide").find(".sagews-output-container").hide()):s.push(void 0);return s},i.prototype.show_output=function(e){var t,n,r,i,o,s;for(o=[this.codemirror,this.codemirror1],s=[],i=0,n=o.length;i<n;i++)t=o[i],r=this.find_output_mark(e,t),null!=r?s.push(this.elt_at_mark(r).removeClass("sagews-output-hide").find(".sagews-output-container").show()):s.push(void 0);return s},i.prototype.sage_call=function(e){var t;if(e=_(e,{input:I,cb:void 0}),this.readonly)"function"==typeof e.cb&&e.cb({done:!0,error:"readonly"});else{if(null==(null!=(t=this._syncstring)?t._evaluator:void 0))return void("function"==typeof e.cb&&e.cb({done:!0,error:"closed"}));this._syncstring._evaluator.call({program:"sage",input:e.input,cb:e.cb})}},i.prototype.status=function(e){return e=_(e,{cb:I}),this.sage_call({input:{event:"status"},cb:function(t){return function(t){return"error"===t.event?e.cb(t.error):e.cb(void 0,t)}}(this)})},i.prototype.execute_code=function(e){return e=_(e,{code:I,cb:void 0,data:void 0,preparse:!0,id:C.uuid(),output_uuid:e.output_uuid,timeout:void 0}),this.sage_call({input:{event:"execute_code",code:e.code,data:e.data,preparse:e.preparse,id:e.id,output_uuid:e.output_uuid,timeout:e.timeout},cb:e.cb}),e.id},i.prototype.interact=function(e,t,n){var r,i,o;return r=$("<div class='sagews-output-interact'>"),o=$("<span>"),r.append(o),e.append(r),this.readonly?void o.text("(interacts not available)").addClass("lighten"):(i=function(e){return function(t){return t.mark=n,e.process_output_mesg(t)}}(this),o.sage_interact({desc:t,execute_code:this.execute_code,process_output_mesg:i,process_html_output:this.process_html_output}))},i.prototype.jump_to_output_matching_jquery_selector=function(e){var t,n,r,i,o,s;for(t=this.focused_codemirror(),i=t.getAllMarks(),r=0,n=i.length;r<n;r++)if(s=i[r],o=$(s.replacedWith).find(e),o.length>0)return void t.scrollIntoView(s.find().from,t.getScrollInfo().clientHeight/2)},i.prototype.process_html_output=function(e){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w;for(e.find("table").addClass("table"),n=e.find("a"),y=this,f=0,d=n.length;f<d;f++)b=n[f],w=$(b),i=w.attr("href"),null!=i&&("#"===i[0]?w.click(function(e){return y.jump_to_output_matching_jquery_selector($(e.target).attr("href")),!1}):0===i.indexOf(document.location.origin)?w.click(function(e){var t,n;return t=(document.location.origin+"/projects/").length,n=$(this).attr("href").slice(t),T.getActions("projects").load_target(decodeURI(n),!(2===e.which||e.ctrlKey||e.metaKey)),!1}):0!==i.indexOf("http://")&&0!==i.indexOf("https://")?w.click(function(e){var n,r;return r=$(this).attr("href"),n=t(129).join,r=0===r.indexOf("/projects/")?decodeURI(r.slice(10)):"/"===r[0]&&"/"===r[37]&&C.is_valid_uuid_string(r.slice(1,37))?decodeURI(r.slice(1)):"/"===r[0]?n(y.project_id,"files",decodeURI(r)):n(y.project_id,"files",y.file_path(),decodeURI(r)),T.getActions("projects").load_target(r,!(2===e.which||e.ctrlKey||e.metaKey)),!1}):n.attr("target","_blank"));for(n=e.find("img"),_=[],m=0,p=n.length;m<p;m++)b=n[m],w=$(b),v=w.attr("src"),s=w.attr("smc-image-scaling"),null!=s&&(o=w.get(0),g=function(){var e,t,n;if(n=o.naturalWidth,e=parseFloat(s),!isNaN(e))return t=n*e,w.css("width",t+"px")},g(),o.onload=g),c=v.indexOf("://")!==-1,a=C.startswith(v,window.smc_base_url+"/blobs/"),l=C.startswith(v,"data:"),c||l||a||(r=this.file_path(),C.startswith(v,"/")&&(r=".smc/root/"+r),u=t(129).join,h=u("/",window.smc_base_url,this.project_id,"raw",r,v),_.push(w.attr("src",h)));return _},i.prototype._post_save_success=function(){return this.remove_output_blob_ttls()},i.prototype._output_blobs_with_possible_ttl=function(){var e,t,n,r,i,o,s,a,l,c,u;for(c=[],u=null!=this._output_blobs_with_possible_ttl_done?this._output_blobs_with_possible_ttl_done:this._output_blobs_with_possible_ttl_done={},s=this.get_all_cells(),r=0,t=s.length;r<t;r++)for(e=s[r],a=e.output(),o=0,n=a.length;o<n;o++)i=a[o],null!=i.file&&(l=i.file.uuid,null!=l&&(u[l]||c.push(l)));return c},i.prototype._output_blobs_ttls_removed=function(e){var t,n,r,i;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(this._output_blobs_with_possible_ttl_done[i]=!0);return r},i.prototype.remove_output_blob_ttls=function(e){var t;if(t=this._output_blobs_with_possible_ttl(),null!=t)return L.remove_blob_ttls({uuids:t,cb:function(n){return function(r){return r||n._output_blobs_ttls_removed(t),"function"==typeof e?e(r):void 0}}(this)})},i.prototype.raw_input=function(e){var t,n,r,i,o,s,a,l,c;return s=e.prompt,c=e.value,null==c&&(c=""),l=!!e.submitted,n=R.find(".sagews-output-raw_input").clone(),o=n.find(".sagews-output-raw_input-prompt"),o.text(s),i=n.find(".sagews-output-raw_input-value"),i.val(c),null!=e.placeholder&&i.attr("placeholder",e.placeholder),t=n.find(".sagews-output-raw_input-submit"),l||this.readonly?(t.addClass("disabled"),i.attr("readonly",!0)):(a=function(e){return function(){var n,r,o,s;for(t.addClass("disabled"),i.attr("readonly",!0),s=e.codemirrors(),o=0,r=s.length;o<r;o++)n=s[o],n.setOption("readOnly",e.readonly);return e.sage_call({input:{event:"raw_input",value:i.val()}})}}(this),i.keyup(function(e){return function(e){if(13===e.which)return a()}}(this)),t.click(function(e){return function(){return a(),!1}}(this)),r=function(e){return function(){return i.focus()}}(this),setTimeout(r,50)),null!=e.input_width&&i.width(e.input_width),null!=e.label_width&&o.width(e.label_width),n},i.prototype.process_output_mesg=function(e){var n,r,i,o,a,l,c,u,d,p,h,f,m,g,v,y,b,w,x,A,S,j,M,T,O,N,L;if(e=_(e,{mesg:I,element:I,mark:void 0}),y=e.mesg,w=e.element,null!=y.stdout&&w.append($("<span class='sagews-output-stdout'>").text(y.stdout)),null!=y.stderr&&w.append($("<span class='sagews-output-stderr'>").text(y.stderr)),null!=y.error&&(c="ERROR: '"+y.error+"'\nCommunication with the Sage server is failing.\nPlease try: running this cell again, restarting your project,\nclosing and opening this file, refreshing your browser,\nor deleting the contents of ~/.local",w.append($("<span class='sagews-output-stderr'>").text(c))),null!=y.code&&(L=$("<div class='sagews-output-code'>"),w.append(L),y.code.mode?CodeMirror.runMode(y.code.source,y.code.mode,L[0]):L.text(y.code.source)),null!=y.html&&(a=$("<div class='sagews-output-html'>"),this.editor.opts.allow_javascript_eval?a.html(y.html):a.html_noscript(y.html),a.mathjax({hide_when_rendering:!0}),w.append(a),this.process_html_output(a)),null!=y.interact&&this.interact(w,y.interact,e.mark),null!=y.d3&&(a=$("<div>"),w.append(a),t.e(0,function(e){return function(){return t(917),a.d3({viewer:y.d3.viewer,data:y.d3.data})}}(this))),null!=y.md&&(L=k.markdown_to_html(y.md),j=$('<div class="sagews-output-md">'),this.editor.opts.allow_javascript_eval?j.html(L.s):j.html_noscript(L.s),j.mathjax({hide_when_rendering:!0}),w.append(j),this.process_html_output(j)),null!=y.tex&&(O=y.tex,l=$("<div class='sagews-output-tex'>"),n={tex:O.tex},O.display?n.display=!0:n.inline=!0,n.hide_when_rendering=!0,w.append(l.mathjax(n))),null!=y.raw_input&&w.append(this.raw_input(y.raw_input)),null!=y.file&&(O=y.file,null!=O.uuid&&(r=e.element.data("blobs"),null==r?(r=[O.uuid],e.element.data("blobs",r)):r.push(O.uuid)),null==O.show||O.show))switch(M=null!=O.url?O.url+("?nocache="+Math.random()):window.smc_base_url+"/blobs/"+C.encode_path(O.filename)+"?uuid="+O.uuid,C.filename_extension(O.filename).toLowerCase()){case"webm":($.browser.safari||$.browser.ie)&&w.append($("<br><strong>WARNING:</strong> webm animations not supported on Safari or IE; use an animated gif instead, e.g., the gif=True option to show.<br>")),$.browser.firefox&&w.append($("<br><strong>WARNING:</strong> Right click and select play.<br>")),N=$("<video src='"+M+"' class='sagews-output-video' controls></video>"),w.append(N);break;case"sage3d":l=$("<div class='salvus-3d-container'></div>"),l.data("uuid",O.uuid),w.append(l),t.e(0,function(e){return function(){return t(911).render_3d_scene({url:M,element:l,cb:function(e,t){return e?l.append($("<div>").text("error rendering 3d scene -- "+e)):l.data("width",t.opts.width/$(window).width())}})}}(this));break;case"svg":case"png":case"gif":case"jpg":case"jpeg":if(f=$("<div class='sagews-output-image'><img src='"+M+"'></div>"),w.append(f),null!=y.events){f.css({cursor:"crosshair"}),v=function(e){var t,n;return t=f.offset(),L=(e.pageX-t.left)/f.width(),n=(e.pageY-t.top)/f.height(),[L,n]},d=function(t){return function(n){return t.execute_code({code:n,preparse:!0,cb:function(n){return delete n.done,t.process_output_mesg({mesg:n,element:w.find(".sagews-output-messages"),mark:e.mark})}})}}(this),x=y.events;for(u in x)switch(p=x[u],f.data("salvus-events-"+u,p),u){case"click":f.click(function(e){return function(e){var t;return t=v(e),d(f.data("salvus-events-click")+"('click',("+t+"))")}}(this));break;case"mousemove":h=void 0,m=void 0,f.mousemove(function(e){return function(e){var t;if(null==h&&(h=!0,setTimeout(function(){return h=void 0},100),t=v(e),null==m||t[0]!==m[0]||t[1]!==m[1]))return m=t,d(f.data("salvus-events-mousemove")+"('mousemove',("+t+"))")}}(this));break;default:console.log("unknown or unimplemented event -- "+u)}}break;default:T=O.text?O.text:O.filename+" (temporary link)",w.append($("<a href='"+M+"' class='sagews-output-link' target='_new'>"+T+"</a> "))}if(null!=y.javascript&&this.allow_javascript_eval()&&(o=y.javascript.code,b=null!=y.obj?JSON.parse(y.obj):void 0,y.javascript.coffeescript?"undefined"==typeof CoffeeScript||null===CoffeeScript?E.load_coffeescript_compiler(function(t){return function(){return D("undefined"!=typeof CoffeeScript&&null!==CoffeeScript?CoffeeScript.compile(o):void 0,t,e.element)}}(this)):D("undefined"!=typeof CoffeeScript&&null!==CoffeeScript?CoffeeScript.compile(o):void 0,this,e.element):D(o,this,e.element,void 0,b)),null!=y.show&&null!=e.mark&&(g=null!=(A=e.mark.find())?A.from.line:void 0,null!=g&&(i=this.cell(g),null!=i)))switch(y.show){case"input":i.remove_cell_flag(s.hide_input);break;case"output":i.remove_cell_flag(s.hide_output)}if(null!=y.hide&&null!=e.mark&&(g=null!=(S=e.mark.find())?S.from.line:void 0,null!=g&&(i=this.cell(g),null!=i)))switch(y.hide){case"input":i.set_cell_flag(s.hide_input);break;case"output":i.set_cell_flag(s.hide_output)}if(y.clear&&w.empty(),y.delete_last&&w.find(":last-child").remove(),y.done)return w.removeClass("sagews-output-running"),w.addClass("sagews-output-done")},i.prototype.allow_javascript_eval=function(){return!!this.editor.opts.allow_javascript_eval||(this.javascript_block_mesg(),!1)},i.prototype.javascript_block_mesg=function(){if(!this._javascript_block_mesg)return this._javascript_block_mesg=!0,h({type:"info",message:"Evaluation of arbitrary javascript is blocked in public worksheets, since it is dangerous; instead, open a copy of this worksheet in your own project.",timeout:10})},i.prototype._receive_broadcast=function(e){switch(e.mesg.event){case"execute_javascript":if(this.allow_javascript_eval())return e=e.mesg,function(t){return function(){var n;return n=e.code,f.series([function(t){return e.coffeescript||n.indexOf("CoffeeScript")!==-1?E.load_coffeescript_compiler(t):t()},function(r){var i;return e.coffeescript&&(n=CoffeeScript.compile(n)),i=JSON.parse(e.obj),D(n,t,void 0,e.cell_id,i),r()}])}}(this)()}},i.prototype.mark_cell_start=function(e,t){var n,r,i,o,s;return t>=e.lineCount()-1&&e.replaceRange("\n\n\n",{line:t+1,ch:0}),s=e.getLine(t),n=s.indexOf(l.cell,1),r=m.clone(),this.readonly||(r.addClass("sagews-input-live"),r.click(function(n){return function(r){var o;return o=function(){if(t=i.find().from.line,n.insert_new_cell(t),r.shiftKey&&(e.replaceRange("%html\n",{line:t+1,ch:0}),n.action({execute:!0,advance:!1})),r.altKey||r.metaKey)return e.replaceRange("%md\n",{line:t+1,ch:0}),n.action({execute:!0,advance:!1})},a?bootbox.confirm("Create new cell?",function(t){return t?o():(e.focus(),e.setCursor({line:i.find().from.line+1,ch:0}))}):o(),!1}}(this))),o={shared:!1,inclusiveLeft:!1,inclusiveRight:!0,atomic:!0,replacedWith:r[0]},i=e.markText({line:t,ch:0},{line:t,ch:n+1},o),i.type=l.cell,i.element=r,i},i.prototype.set_output_line_class=function(e,t){var n,r,i,o,s;for(null==t&&(t=!0),s=this.codemirrors(),o=0,i=s.length;o<i;o++){if(n=s[o],t&&(r=n.lineInfo(e),null==r||null!=r.textClass))return;n.addLineClass(e,"gutter","sagews-output-cm-gutter"),n.addLineClass(e,"text","sagews-output-cm-text"),n.addLineClass(e,"wrap","sagews-output-cm-wrap")}},i.prototype.set_all_output_line_classes=function(){var e,t,n,r,i,o,s;for(o=this.codemirrors(),s=[],i=0,t=o.length;i<t;i++)e=o[i],s.push(function(){var t,i,o,s,a,c;for(o=e.getAllMarks(),c=[],i=0,t=o.length;i<t;i++)r=o[i],r.type===l.output?(n=null!=(s=r.find())?s.from.line:void 0,null!=n&&null==(null!=(a=e.lineInfo(n))?a.textClass:void 0)?c.push(this.set_output_line_class(n,!1)):c.push(void 0)):c.push(void 0);return c}.call(this));return s},i.prototype.mark_output_line=function(e,t){var n,r,i,o,s;return this.set_output_line_class(t),o=M.clone(),e.lineCount()<t+2&&e.replaceRange("\n",{line:t+1,ch:0}),s={line:t,ch:0},n={line:t,ch:e.getLine(t).length},i={shared:!1,inclusiveLeft:!0,inclusiveRight:!0,atomic:!0,replacedWith:o[0]},r=e.markText(s,n,i),r.element=o,r.processed=38,r.uuid=e.getRange({line:t,
ch:1},{line:t,ch:37}),r.type=l.output,this.readonly||o.click(function(t){return function(n){var i;if(i=$(n.target),!(null!=i.attr("href")||i.hasParent(".sagews-output-editor").length>0))return t.edit_cell({line:r.find().from.line-1,cm:e})}}(this)),r},i.prototype.find_output_line=function(e,t){var n,r;if(null==t&&(t=this.focused_codemirror()),(null!=(n=t.getLine(e))?n[0]:void 0)===l.output)return e;for(e+=1;e<t.lineCount()-1;){if(r=t.getLine(e),r.length>0){if(r[0]===l.output)return e;if(r[0]===l.cell)return}e+=1}},i.prototype.find_output_mark=function(e,t){var n,r,i,o,s;if(null==t&&(t=this.focused_codemirror()),i=this.find_output_line(e,t),null!=i)for(s=t.findMarksAt({line:i,ch:0}),o=0,n=s.length;o<n;o++)if(r=s[o],r.type===l.output)return r},i.prototype.current_input_block=function(e){var t,n,r,i;for(t=this.focused_codemirror(),null==e&&(e=t.getCursor().line),r=n=e,i=t.getLine(r),null!=i&&i.length>0&&i[0]===l.output&&(r-=1),i=t.getLine(n),null!=i&&i.length>0&&i[0]===l.cell&&(n+=1);r>0;){if(i=t.getLine(r),null!=i&&i.length>0&&(i[0]===l.cell||i[0]===l.output)){i[0]===l.output&&(r+=1);break}r-=1}for(;n<t.lineCount()-1;){if(i=t.getLine(n),null!=i&&i.length>0&&(i[0]===l.cell||i[0]===l.output)){i[0]===l.cell&&(n-=1);break}n+=1}if(n===t.lineCount()-1)for(;n>r&&0===t.getLine(n).trim().length;)n-=1;return{start:r,end:n}},i.prototype.find_input_mark=function(e){var t,n,r,i,o;if(null!=e){if(t=this.focused_codemirror(),null==t)return;for(;e>=0;){for(o=t.findMarksAt({line:e,ch:0}),i=0,n=o.length;i<n;i++)if(r=o[i],r.type===l.cell)return r;e-=1}}},i.prototype.edit_cell=function(e){e=_(e,{line:I,cm:I})},i.prototype.action=function(e){var t,n,r,i,o,s,a,l,c;if(null==e&&(e={}),e=_(e,{pos:void 0,advance:!1,split:!1,execute:!1,toggle_input:!1,toggle_output:!1,delete_output:!1}),!this.readonly){if(e.split)for(l=this.focused_codemirror().listSelections().reverse(),s=0,i=l.length;s<i;s++)c=l[s],this.split_cell_at(c.head);if(e.execute||e.toggle_input||e.toggle_output||e.delete_output){for(null!=e.pos?n=[this.cell(e.pos.line)]:(r=e.execute,n=this.get_current_cells(r)),a=0,o=n.length;a<o;a++)t=n[a],t.action({execute:e.execute,toggle_input:e.toggle_input,toggle_output:e.toggle_output,delete_output:e.delete_output}),e.toggle_output&&this.process_sage_updates({start:t.start_line(),stop:t.end_line()});1===n.length&&e.advance&&this.move_cursor_to_next_cell(),n.length>0&&this.save_state_debounce()}return this.close_on_action()}},i.prototype.execute_cell_client_side=function(e){var t,n,r,i;if(e=_(e,{cell:I,mode:void 0,code:void 0,hide:void 0}),null==e.mode||null==e.code){if(i=e.cell.client_side(),null==i)return;e.mode=i.mode,e.code=i.code,e.hide=i.hide}switch(null!=e.hide||"md"!==(r=e.mode)&&"html"!==r||(e.hide=!1),e.hide&&e.cell.set_cell_flag(s.hide_input),t=e.cell.get_output_height(),e.cell.set_output_min_height(t),e.cell.set_output([]),n={done:!0},e.mode){case"javascript":n.javascript={code:e.code};break;case"coffeescript":n.javascript={coffeescript:!0,code:e.code};break;case"cjsx":n.javascript={cjsx:!0,code:e.code};break;default:n[e.mode]=e.code}return e.cell.append_output_message(n),setTimeout(e.cell.set_output_min_height,1e3),this.sync()},i.prototype.execute_cell_server_side=function(e){return e=_(e,{cell:I,cb:void 0}),this.execution_queue.push(e)},i.prototype._execute_cell_server_side=function(e){var t,n,r,i,o,a,l,c,u,d;return e=_(e,{cell:I,cb:void 0}),o=function(){},t=e.cell,c=t.input(),null==c?(o("cell vanished/invalid"),void("function"==typeof e.cb&&e.cb("cell vanished/invalid"))):(i=t.get_output_height(),u=t.new_output_uuid(),null==u?(o("output_uuid not defined"),void("function"==typeof e.cb&&e.cb("output_uuid no longer defined"))):(t.set_cell_flag(s.running),t.set_output_min_height(i),a=function(n){return function(){return t.remove_cell_flag(s.running),t.set_cell_flag(s.this_session),setTimeout(t.set_output_min_height,1e3),n.sync(),"function"==typeof e.cb?e.cb():void 0}}(this),d=new Date,r=!1,n=function(e){return function(){if(!r)return r=!0,t.set_output([])}}(this),setTimeout(n,1e3),l=!0,this.execute_code({code:c,output_uuid:u,cb:function(e){return function(r){return l&&(l=!1,n()),t.append_output_message(r),r.done&&("function"==typeof a&&a(),a=void 0),e.sync()}}(this)})))},i.prototype.execute_auto_cells=function(){var e,t,n,r,i,o;for(i=this.get_all_cells(),o=[],r=0,n=i.length;r<n;r++)e=i[r],t=e.is_auto(),null!=t&&t?o.push(e.action({execute:!0})):o.push(void 0);return o},i.prototype.split_cell_at=function(e){return this.cell_start_marker(e.line),this.sync()},i.prototype.move_cursor_to_next_cell=function(){var e,t,n;for(e=this.focused_codemirror(),t=e.getCursor().line+1;t<e.lineCount();){if(n=e.getLine(t),n.length>0&&n[0]===l.cell)return e.setCursor({line:t+1,ch:0}),t-1;t+=1}for(;t>0&&0===$.trim(e.getLine(t)).length;)t-=1;return this.cell_start_marker(t+1),e.setCursor({line:t+2,ch:0}),t},i.prototype.get_input_line_flagstring=function(e){var t,n;return null==e?"":(t=this.focused_codemirror(),n=t.getLine(e),null==n?"":C.is_valid_uuid_string(n.slice(1,37))?n.slice(37,n.length-1):void 0)},i.prototype.get_cell_flagstring=function(e){var t;if(null!=e)return t=e.find(),null==t?"":this.get_input_line_flagstring(t.from.line)},i.prototype.set_input_line_flagstring=function(e,t){var n,r;if(n=this.focused_codemirror(),r=n.getLine(e),null!=r)return n.replaceRange(t,{line:e,ch:37},{line:e,ch:r.length-1})},i.prototype.set_cell_flagstring=function(e,t){var n;if(null!=e)return n=e.find(),null!=n?this.focused_codemirror().replaceRange(t,{line:n.from.line,ch:37},{line:n.to.line,ch:n.to.ch-1}):void 0},i.prototype.get_cell_uuid=function(e){var t;if(null!=e)return t=e.find(),null==t?"":this.focused_codemirror().getLine(t.line).slice(1,38)},i.prototype.set_cell_flag=function(e,t){var n;if(null!=e)return n=this.get_cell_flagstring(e),null!=n&&F.call(n,t)<0?this.set_cell_flagstring(e,t+n):void 0},i.prototype.remove_cell_flag=function(e,t){var n;if(null!=e)return n=this.get_cell_flagstring(e),null!=n&&F.call(n,t)>=0?(n=n.replace(RegExp(t,"g"),""),this.set_cell_flagstring(e,n)):void 0},i.prototype.insert_new_cell=function(e){var t,n;return n={line:e,ch:0},t=t=this.focused_codemirror(),t.replaceRange("\n",n),this.process_sage_updates({start:e,stop:e+1,caller:"insert_new_cell"}),t.focus(),t.setCursor(n),this.cell_start_marker(e),this.process_sage_updates({start:e,stop:e+1,caller:"insert_new_cell"}),this.sync()},i.prototype.cell_start_marker=function(e){var t,n,r,i;if(null==e)throw Error("cell_start_marker: line must be defined");if(t=this.focused_codemirror(),n=t.getLine(e),null!=n){if(n.length<38||n[0]!==l.cell||n[n.length-1]!==l.cell)r=C.uuid(),t.replaceRange(l.cell+r+l.cell+"\n",{line:e,ch:0});else if(r=n.slice(1,37),i=t.findMarksAt({line:e,ch:0}),i.length>0&&i[0].type===l.cell)return;t.lineCount()<e+2&&t.replaceRange("\n",{line:e+1,ch:0}),this.process_sage_updates({start:e,stop:e+1,caller:"cell_start_marker"}),i=t.findMarksAt({line:e,ch:0}),i.length>0&&i[0].type===l.cell}},i.prototype.doc_uuids=function(){var e;return e={},this.focused_codemirror().eachLine(function(t){return t.text[0]!==l.cell&&t.text[0]!==l.output||(e[t.text.slice(1,37)]=!0),!1}),e},i.prototype.remove_this_session_from_line=function(e){var t,n;if(n=this.get_input_line_flagstring(e),null!=n&&(t=s.this_session,F.call(n,t)>=0))return n=n.replace(RegExp(s.this_session,"g"),""),this.set_input_line_flagstring(e,n)},i.prototype.remove_this_session_flags_from_range=function(e,t){var n;return e=this.current_input_block(e).start,n=e,this.codemirror.eachLine(e,t+1,function(e){return function(t){return t.text[0]===l.cell&&e.remove_this_session_from_line(n),n+=1,!1}}(this))},i.prototype.remove_this_session_flags_from_changeObj_range=function(e){if(this.remove_this_session_flags_from_range(e.from.line,e.to.line),null!=e.next)return this.remove_cell_flags_from_changeObj(e.next)},i.prototype.remove_cell_flags_from_changeObj=function(e,t,n){if(null==n&&(n=this.doc_uuids()),this.remove_cell_flags_from_text(e.text,t,n),null!=e.next)return this.remove_cell_flags_from_changeObj(e.next,t,n)},i.prototype.remove_cell_flags_from_text=function(e,t,n){var r,i,o,s,a,c;for(s=[],r=i=0,o=e.length;0<=o?i<o:i>o;r=0<=o?++i:--i)a=e[r],a.length>=38?(a[0]===l.cell&&(null!=t?e[r]=a.slice(0,37)+function(){var e,n,r,i;for(r=a.slice(37,a.length-1),i=[],n=0,e=r.length;n<e;n++)c=r[n],F.call(t,c)<0&&i.push(c);return i}()+l.cell:e[r]=a.slice(0,37)+l.cell),(a[0]===l.cell||a[0]===l.output)&&(null!=n?n[e[r].slice(1,37)]:void 0)?s.push(e[r]=e[r][0]+C.uuid()+e[r].slice(37)):s.push(void 0)):s.push(void 0);return s},i.prototype.output_elements=function(){var e,t,n,r,i,o,s,a,l,c;for(e=this.editor.codemirror,c=[],r=s=0,l=e.lineCount();0<=l?s<l:s>l;r=0<=l?++s:--s)if(o=e.findMarksAt({line:r,ch:1}),null!=o&&0!==o.length)for(a=0,n=o.length;a<n;a++)i=o[a],t=i.replacedWith,null!=t&&(t=$(t),t.hasClass("sagews-output")&&c.push(t));return c},i.prototype.print_to_pdf_data=function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h;for(e={},d=e.sage3d={},c=this.output_elements(),a=0,o=c.length;a<o;a++)for(r=c[a],u=r.find(".salvus-3d-container"),l=0,s=u.length;l<s;l++)n=u[l],i=$(n),p=i.data("salvus-threejs"),null!=p&&(p.set_static_renderer(),t=p.static_image,null!=t&&(h=i.data("uuid"),null==d[h]&&(d[h]=[]),d[h].push({"data-url":t,width:i.data("width")})));if(0!==C.len(d))return e},i.prototype.refresh_soon=function(e){var t;if(null==e&&(e=1e3),null==this._refresh_soon)return t=function(e){return function(){var t,n,r,i,o;for(delete e._refresh_soon,i=[e.codemirror,e.codemirror1],o=[],r=0,n=i.length;r<n;r++)t=i[r],o.push(null!=t?t.refresh():void 0);return o}}(this),this._refresh_soon=setTimeout(t,e)},i.prototype.close_on_action=function(e){var t,n,r,i;if(null!=e)return null==this._close_on_action_elements?this._close_on_action_elements=[e]:this._close_on_action_elements.push(e);if(null!=this._close_on_action_elements){for(i=this._close_on_action_elements,r=0,n=i.length;r<n;r++)t=i[r],t.remove();return this._close_on_action_elements=[]}},i}(u),o=function(){function e(e,t){if(this._exec=e,this.worksheet=t,this._process=P(this._process,this),this.clear=P(this.clear,this),this.push=P(this.push,this),this.dbg=P(this.dbg,this),this.close=P(this.close,this),!this._exec)throw Error("BUG: execution function must be provided");this._queue=[],this._state="ready"}return e.prototype.close=function(){return this.dbg("close")(),this._state="closed",delete this._queue},e.prototype.dbg=function(e){return function(){}},e.prototype.push=function(e){var t,n,r,i,o;if(e=_(e,{cell:I,cb:void 0}),this.dbg("push")(),"closed"!==this._state&&(i=e.cell.start_uuid(),null!=i)){for(r=this._queue,n=0,t=r.length;n<t;n++)if(o=r[n],o.cell.start_uuid()===i)return;if(i!==this._running_uuid)return this._queue.push(e),e.cell.set_cell_flag(s.waiting),this._process()}},e.prototype.clear=function(){var e,t,n,r;if(this.dbg("clear")(),"closed"!==this._state){for(n=this._queue,t=0,e=n.length;t<e;t++)r=n[t],r.cell.remove_cell_flag(s.waiting);return this._queue=[],this._state="ready"}},e.prototype._process=function(){var e,t,n,r;if("closed"!==this._state){if(e=this.dbg("process"),e(),this.worksheet._restarting)return e("waiting for restart to finish"),void this.worksheet.once("restarted",function(e){return function(){return e._process()}}(this));if("running"===this._state)return void e("running...");if(e("length ",this._queue.length),0!==this._queue.length)return r=this._queue.shift(),n=r.cell.start_uuid(),null==n?void this._process():(this._running_uuid=n,t=r.cb,r.cb=function(e){return function(){var n;if(n=1<=arguments.length?U.call(arguments,0):[],"closed"!==e._state)return"function"==typeof t&&t.apply(null,n),e._state="ready",delete e._running_uuid,e._process()}}(this),this._state="running",r.cell.remove_cell_flag(s.waiting),this._exec(r))}},e}(),p=function(){function e(e,t,n){var r,i;this.doc=e,this.client_side=P(this.client_side,this),this.action=P(this.action,this),this.get_cell_flags=P(this.get_cell_flags,this),this.set_cell_flag=P(this.set_cell_flag,this),this.remove_cell_flag=P(this.remove_cell_flag,this),this.set_output=P(this.set_output,this),this.delete_last_output=P(this.delete_last_output,this),this.append_output_message=P(this.append_output_message,this),this.mesg_to_json=P(this.mesg_to_json,this),this.set_output_min_height=P(this.set_output_min_height,this),this.get_output_height=P(this.get_output_height,this),this.output_element=P(this.output_element,this),this._get_output=P(this._get_output,this),this.output=P(this.output,this),this.raw_output=P(this.raw_output,this),this.is_auto=P(this.is_auto,this),this.input=P(this.input,this),this.raw_input=P(this.raw_input,this),this.new_output_uuid=P(this.new_output_uuid,this),this.output_uuid=P(this.output_uuid,this),this.start_uuid=P(this.start_uuid,this),this.end_line=P(this.end_line,this),this.start_line=P(this.start_line,this),this.cm=this.doc.focused_codemirror(),i=this.cm.getLine(t),(null!=i?i[0]:void 0)===l.cell?C.is_valid_uuid_string(i.slice(1,37))&&i[i.length-1]===l.cell?this._start_uuid=i.slice(1,37):(this._start_uuid=C.uuid(),this.cm.replaceRange(l.cell+this._start_uuid+l.cell,{line:t,ch:0},{line:t,ch:i.length})):(this._start_uuid=C.uuid(),this.cm.replaceRange(l.cell+this._start_uuid+l.cell+"\n",{line:t,ch:0}),n+=1),this._start_line=t,i=this.cm.getLine(n),(null!=i?i[0]:void 0)===l.output?(C.is_valid_uuid_string(i.slice(1,37))&&i[37]===l.output?this._output_uuid=i.slice(1,37):(this._output_uuid=C.uuid(),this.cm.replaceRange(l.output+this._output_uuid+l.output,{line:n,ch:0},{line:n,ch:i.length})),this._end_line=n):(this._output_uuid=C.uuid(),r=l.output+this._output_uuid+l.output+"\n",this.cm.lineCount()<=n+1&&(r="\n"+r,n+=1),this.cm.replaceRange(r,{line:n+1,ch:0}),this._end_line=n+1)}return e.prototype.start_line=function(){var e,t,n;return(null!=(e=null!=(t=this.cm.getLine(this._start_line))?t.indexOf(this._start_uuid):void 0)?e:-1)!==-1?this._start_line:this._start_line=null!=(n=this.cm.find_in_line(this._start_uuid))?n.line:void 0},e.prototype.end_line=function(){var e,t,n;return(null!=(e=null!=(t=this.cm.getLine(this._end_line))?t.indexOf(this._start_uuid):void 0)?e:-1)!==-1?this._end_line:this._end_line=null!=(n=this.cm.find_in_line(this._output_uuid))?n.line:void 0},e.prototype.start_uuid=function(){return this._start_uuid},e.prototype.output_uuid=function(){return this._output_uuid},e.prototype.new_output_uuid=function(){var e,t;if(e=this.end_line(),null!=e)return t=C.uuid(),this.cm.replaceRange(t,{line:e,ch:1},{line:e,ch:37}),this._output_uuid=t,t},e.prototype.raw_input=function(e){var t,n;if(null==e&&(e=0),n=this.start_line(),null!=n&&(t=this.end_line(),null!=t))return this.cm.getRange({line:n+e,ch:0},{line:t,ch:0})},e.prototype.input=function(){return this.raw_input(1)},e.prototype.is_auto=function(){var e,t,n,r,i;if(e=this.input(),null!=e){for(i=e.split("\n"),r=0,t=i.length;r<t;r++)if(n=i[r],n.length>0&&"#"!==n[0])return"%auto"===n.slice(0,5);return!1}},e.prototype.raw_output=function(){var e;if(e=this._get_output(),null!=e)return this.cm.getLine(e.loc.from.line)},e.prototype.output=function(){var e,t,n,r,i,o;if(i=[],n=this.raw_output(),null==n)return i;for(r=n.slice(38).split(l.output),t=0,e=r.length;t<e;t++)if(o=r[t],(null!=o?o.length:void 0)>0)try{i.push(C.from_json(o))}catch(e){console.warn("unable to read json message in worksheet: "+o)}return i},e.prototype._get_output=function(){var e,t,n;return t=this.end_line(),null==t?void console.warn("_get_output: unable to append output message since cell no longer exists"):(e={from:{line:t,ch:0},to:{line:t,ch:this.cm.getLine(t).length}},n=this.cm.getLine(t),{loc:e,s:n,n:t})},e.prototype.output_element=function(){var e,t,n;if(e=this.end_line(),null!=e)return null!=(t=this.cm.findMarksAt({line:e,ch:0}))&&null!=(n=t[0])?n.element:void 0},e.prototype.get_output_height=function(){var e;return null!=(e=this.output_element())?e.height():void 0},e.prototype.set_output_min_height=function(e){var t;return null==e&&(e=""),null!=(t=this.output_element())?t.css("min-height",e):void 0},e.prototype.mesg_to_json=function(e){return z(C.copy_without(e,["id","event"]))},e.prototype.append_output_message=function(e){var t,n;if(n=this._get_output(),null!=n)return t=this.mesg_to_json(e),n.s[n.s.length-1]!==l.output&&(t=l.output+t),this.cm.replaceRange(t,n.loc.to,n.loc.to)},e.prototype.delete_last_output=function(e){var t,n,r,i,o,s,a,c,u;if(u=this._get_output(),null!=u){for(i=u.loc,c=u.s,o=u.n,a=C.range(e),s=0,r=a.length;s<r;s++){if(t=a[s],n=c.lastIndexOf(l.output),n===-1)return void this.set_output();c=c.slice(0,n)}return c=c.slice(37),this.cm.replaceRange(c,{line:i.from.line,ch:37},i.to)}},e.prototype.set_output=function(e){var t,n,r,i;return null==e&&(e=[]),n=this.end_line(),null==n?void console.warn("set_output: unable to append output message since cell no longer exists"):(t=this.cm.getLine(n).length,0!==e.length||38!==("undefined"!=typeof loc&&null!==loc?loc.to.ch:void 0)?(i=l.output+function(){var t,n,i;for(i=[],n=0,t=e.length;n<t;n++)r=e[n],i.push(this.mesg_to_json(r));return i}.call(this).join(l.output),this.cm.replaceRange(i,{line:n,ch:37},{line:n,ch:t})):void 0)},e.prototype.remove_cell_flag=function(e){var t,n;if(t=this.start_line(),null!=t&&(n=this.doc.get_input_line_flagstring(t),null!=n&&F.call(n,e)>=0))return n=n.replace(RegExp(e,"g"),""),this.doc.set_input_line_flagstring(t,n)},e.prototype.set_cell_flag=function(e){var t,n;if(t=this.start_line(),null!=t&&(n=this.doc.get_input_line_flagstring(t),F.call(n,e)<0))return this.doc.set_input_line_flagstring(t,n+e)},e.prototype.get_cell_flags=function(){return this.doc.get_input_line_flagstring(this.start_line())},e.prototype.action=function(e){var t,n,r,i,o,a,l,c,u,d;if(null==e&&(e={}),e=_(e,{execute:!1,toggle_input:!1,toggle_output:!1,delete_output:!1,cm:void 0}),e.toggle_input){if(n=this.start_line(),null==n)return;r=s.hide_input,F.call(this.get_cell_flags(),r)>=0?this.remove_cell_flag(s.hide_input):this.set_cell_flag(s.hide_input)}if(e.toggle_output){if(t=this.get_cell_flags(),n=this.start_line(),null==n)return;i=s.hide_output,F.call(this.get_cell_flags(),i)>=0?this.remove_cell_flag(s.hide_output):this.set_cell_flag(s.hide_output)}if(e.delete_output){if(o=s.hide_input,F.call(this.get_cell_flags(),o)>=0)return;this.set_output([]),a=s.hide_output,F.call(this.get_cell_flags(),a)>=0&&this.remove_cell_flag(s.hide_output)}if(e.execute){if(t=this.get_cell_flags(),null==t)return;if(l=s.hide_output,F.call(t,l)>=0&&this.remove_cell_flag(s.hide_output),c=s.execute,F.call(t,c)>=0||(u=s.running,F.call(t,u)>=0))return;return d=this.client_side(),d?(d.cell=this,this.doc.execute_cell_client_side(d)):this.doc.execute_cell_server_side({cell:this})}},e.prototype.client_side=function(){var e,t,n,r,o;if(r=this.input(),null!=r)return r=r.trim(),e=r.indexOf("\n"),e!==-1&&(t=r.slice(0,e),n=r.slice(e+1),r=t.replace(/\s/g,"").toLowerCase(),o=i[r],null!=o)&&(o.code=n,o)},e}(),exports.SynchronizedWorksheet=d},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z=function(e,t){return function(){return e.apply(t,arguments)}};s=5e3,w=$=window.$,t(784),w.timeago.settings.allowFuture=!0,u=t(31),k=t(9),f=k.defaults,E=k.required,I=k.to_json,L=k.uuid,C=t(12).redux,S=t(19).salvus_client,c=t(36).alert_message,x=t(86),D=t(23),i=t(49).IS_MOBILE,A=t(30),N=$(".salvus-tasks-templates"),T=N.find(".salvus-task"),m=N.find(".salvus-task-editor"),_=N.find(".salvus-tasks-hashtag-button"),h=void 0,exports.task_list=function(e,t,n){var r;return r=N.find(".salvus-tasks-editor").clone(),new l(e,t,r,n),r},n=["custom","description","due","last-edited"],r={custom:"position",description:"desc",due:"due_date","last-edited":"last_edited"},a={element:!0,changed:!0,last_desc:!0},o=1e3,M=function(e,t){return e-t},l=function(){function e(e,t,n,r){this.project_id=e,this.filename=t,this.element=n,this.opts=r,this.hide=z(this.hide,this),this.show=z(this.show,this),this.save=z(this.save,this),this.init_save=z(this.init_save,this),this.has_unsaved_changes=z(this.has_unsaved_changes,this),this.set_clean=z(this.set_clean,this),this.set_dirty=z(this.set_dirty,this),this.init_info=z(this.init_info,this),this.custom_sort_order=z(this.custom_sort_order,this),this.click_sort_by=z(this.click_sort_by,this),this.update_sort_order_display=z(this.update_sort_order_display,this),this.init_sort=z(this.init_sort,this),this.init_search=z(this.init_search,this),this.empty_trash=z(this.empty_trash,this),this.init_showing_deleted=z(this.init_showing_deleted,this),this.set_showing_deleted=z(this.set_showing_deleted,this),this.init_showing_done=z(this.init_showing_done,this),this.set_showing_done=z(this.set_showing_done,this),this.init_move_task_to_bottom=z(this.init_move_task_to_bottom,this),this.init_move_task_to_top=z(this.init_move_task_to_top,this),this.init_delete_task=z(this.init_delete_task,this),this.init_create_task=z(this.init_create_task,this),this.set_current_task_by_id=z(this.set_current_task_by_id,this),this.create_task=z(this.create_task,this),this.clear_create_task=z(this.clear_create_task,this),this.set_task_done=z(this.set_task_done,this),this.toggle_current_task_done=z(this.toggle_current_task_done,this),this.delete_task=z(this.delete_task,this),this.display_done=z(this.display_done,this),this.display_due_date=z(this.display_due_date,this),this.set_due_date=z(this.set_due_date,this),this.remove_due_date=z(this.remove_due_date,this),this.edit_due_date=z(this.edit_due_date,this),this.edit_desc=z(this.edit_desc,this),this.save_live=z(this.save_live,this),this.delete_current_task=z(this.delete_current_task,this),this.move_current_task_to_bottom=z(this.move_current_task_to_bottom,this),this.move_current_task_to_top=z(this.move_current_task_to_top,this),this.move_current_task_up=z(this.move_current_task_up,this),this.move_current_task_down=z(this.move_current_task_down,this),this.set_current_task_next=z(this.set_current_task_next,this),this.set_current_task_prev=z(this.set_current_task_prev,this),this.get_current_task_visible_index=z(this.get_current_task_visible_index,this),this.get_task_visible_index=z(this.get_task_visible_index,this),this.set_current_task=z(this.set_current_task,this),this.display_desc=z(this.display_desc,this),this.currently_editing_task=z(this.currently_editing_task,this),this.click_hashtag_in_desc=z(this.click_hashtag_in_desc,this),this.display_last_edited=z(this.display_last_edited,this),this.click_on_task=z(this.click_on_task,this),this.display_undelete=z(this.display_undelete,this),this.render_task=z(this.render_task,this),this.get_task_by_id=z(this.get_task_by_id,this),this.move_task_after=z(this.move_task_after,this),this.move_task_before=z(this.move_task_before,this),this.set_task_position=z(this.set_task_position,this),this.render_task_list=z(this.render_task_list,this),this.parse_hashtags=z(this.parse_hashtags,this),this.render_hashtag_bar=z(this.render_hashtag_bar,this),this.toggle_hashtag_button=z(this.toggle_hashtag_button,this),this.selected_hashtags=z(this.selected_hashtags,this),this.sort_visible_tasks=z(this.sort_visible_tasks,this),this.local_storage=z(this.local_storage,this),this.handle_changes=z(this.handle_changes,this),this.positions=z(this.positions,this),this.ensure_positions_unique=z(this.ensure_positions_unique,this),this.init_tasks=z(this.init_tasks,this),this.set_value=z(this.set_value,this),this.init_syncdb=z(this.init_syncdb,this),this.init_viewer=z(this.init_viewer,this),this.init_history_button=z(this.init_history_button,this),this.destroy=z(this.destroy,this),this.default_font_size=C.getStore("account").get("font_size"),this.element.data("task_list",this),this.element.find("a").tooltip({delay:{show:500,hide:100}}),this.elt_task_list=this.element.find(".salvus-tasks-listing"),this.save_button=this.element.find('a[href="#save"]'),this.sort_order={heading:"custom",dir:"desc"},this.readonly=!0,this.init_history_button(),this.init_create_task(),this.init_delete_task(),this.init_move_task_to_top(),this.init_move_task_to_bottom(),this.init_showing_done(),this.init_showing_deleted(),this.init_search(),this.init_sort(),this.init_info(),this.opts.viewer?this.init_viewer():this.init_syncdb()}return e.prototype.destroy=function(){var e;return delete this.tasks,this.element.removeData(),null!=(e=this.db)?e.close():void 0},e.prototype.init_history_button=function(){if(!this.opts.viewer)return this.element.find('a[href="#history"]').show().click(function(e){return function(){return C.getProjectActions(e.project_id).open_file({path:k.history_path(e.filename),foreground:!0})}}(this))},e.prototype.init_viewer=function(){return this.element.find(".salvus-tasks-loading").remove(),this.element.find(".salvus-task-empty-trash").remove(),this.element.find(".salvus-tasks-action-buttons").remove(),this.element.find(".salvus-tasks-hashtags-row").remove()},e.prototype.init_syncdb=function(e){return this.db=S.sync_db({project_id:this.project_id,path:this.filename,primary_keys:["task_id"],string_cols:["desc"],change_throttle:500,save_interval:3e3}),this.db.once("init",function(t){return function(n){return n?void("function"==typeof e&&e(n)):(t.readonly=t.db.is_read_only(),t.readonly?(t.save_button.find("span").text("Readonly"),t.element.find(".salvus-tasks-action-buttons").remove()):(t.save_button.find("span").text("Save"),t.init_tasks(),t.render_hashtag_bar(),t.render_task_list(),t.set_clean(),t.db.on("sync",function(){return C.getProjectActions(t.project_id).flag_file_activity(t.filename)}),t.db.on("change",t.handle_changes),t.db.on("before-change",t.save_live),t.element.find(".salvus-tasks-loading").remove(),t.init_save(),"function"==typeof e?e():void 0))}}(this))},e.prototype.set_value=function(e){var t,n,r,i,o,s;for(this.tasks={},this.render_task_list(),i=e.split("\n"),n=0,r=i.length;n<r;n++)if(s=i[n])try{o=JSON.parse(s),this.tasks[o.task_id]=o}catch(e){t=e,console.warn("error parsing task "+t+" '"+s+"'")}return this.render_task_list()},e.prototype.init_tasks=function(){var e,t,n,r,i,o,s,a;for(this.tasks={},r=this.db.get().toJS(),e=0,t=r.length;e<t;e++)s=r[e],this.tasks[s.task_id]=s;n={},i=this.tasks;for(a in i)o=i[a],null==o.position&&(o.position=0,this.db.set({task_id:a,position:o.position})),n[o.position]=!0,null==o.desc&&(o.desc="",this.db.set({task_id:a,desc:o.desc}));if(k.len(n)!==k.len(this.tasks))return this.ensure_positions_unique()},e.prototype.ensure_positions_unique=function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f;for(f=function(){var t,n;t=this.tasks,n=[];for(e in t)h=t[e],n.push(h);return n}.call(this),f.sort(function(e,t){return e.position<t.position?-1:e.position>t.position?1:0}),o=0,s=1,d=[];s<=f.length;){if(s===f.length||f[o].position!==f[s].position){if(s-o>1)for(t=0===o?f[0].position-1:f[o-1].position,n=s===f.length?f[f.length-1].position+1:f[s].position,i=(n-t)/(s-o+1),r=t,a=l=c=o,u=s;c<=u?l<u:l>u;a=c<=u?++l:--l)p=f[a],r+=i,p.position=r,this.db.set({task_id:p.task_id,position:p.position});o=s}d.push(s+=1)}return d},e.prototype.positions=function(){var e,t,n,r,i,o,s;t={},n=this.tasks;for(o in n)r=n[o],null==r.position&&(r.position=0,this.db.set({task_id:o,position:r.position})),t[r.position]=!0;return k.len(t)!==k.len(this.tasks)&&this.ensure_positions_unique(),s=function(){var t,n;t=this.tasks,n=[];for(e in t)i=t[e],n.push(i.position);return n}.call(this),s.sort(M),s},e.prototype.handle_changes=function(e){return null==e?(this.init_tasks(),this.render_task_list(),void this.set_dirty()):(e.size>0&&this.set_dirty(),e.map(function(e){return function(t){var n,r,i,o,s,l;if(s=t.get("task_id"),i=null!=(r=e.db.get_one(t))?r.toJS():void 0,null==i)delete e.tasks[s];else if(o=e.tasks[s],null==o)e.tasks[s]=i;else{for(n in o)l=o[n],null==i[n]&&null==a[n]&&delete o[n];for(n in i)l=i[n],o[n]=l;o.changed=!0}}}(this)),this.render_task_list())},e.prototype.local_storage=function(e,n){var r;if(!this.opts.viewer)return(r=t(40).local_storage)(this.project_id,this.filename,e,n)},e.prototype.sort_visible_tasks=function(){var e,t,n;if(n=this.sort_order.heading,t=r[n],this.showing_done&&"due_date"===t&&(t="done"),e=function(e){return function(e,r){var i,o;if(i=e[t],o=r[t],"due_date"!==t&&"done"!==t||(null==i&&(i=1e20),null==o&&(o=1e20)),"string"==typeof i&&"string"==typeof o&&(i=i.toLowerCase(),o=o.toLowerCase()),i<o)return-1;if(i>o)return 1;if("custom"!==n){if(e.position<r.position)return-1;if(e.position>r.position)return 1}return e.uuid<r.uuid?-1:e.uuid>r.uuid?1:0}}(this),this._visible_tasks.sort(e),"last_edited"!==t&&"done"!==t||this._visible_tasks.reverse(),"asc"===this.sort_order.dir)return this._visible_tasks.reverse()},e.prototype.selected_hashtags=function(){var e,t,n,r;this.parse_hashtags(),r=[],t=this.hashtags;for(n in t)e=t[n],this.local_storage("hashtag-#"+n)&&r.push("#"+n);return r},e.prototype.toggle_hashtag_button=function(e){var t;if(null!=e)return t=e.text(),e.hasClass("btn-info")?(e.removeClass("btn-info").addClass("btn-warning"),this.local_storage("hashtag-"+t,!0)):(e.removeClass("btn-warning").addClass("btn-info"),this.local_storage("hashtag-"+t,!1))},e.prototype.render_hashtag_bar=function(){var e,t,n,r,i,o,s,a;if(this.parse_hashtags(),e=this.element.find(".salvus-tasks-hashtag-bar"),e.empty(),null==this.hashtags||0===k.len(this.hashtags))return void this.element.find(".salvus-tasks-hashtags-row").hide();for(this.element.find(".salvus-tasks-hashtags-row").show(),n=function(e){return function(t){var n;return n=$(t.delegateTarget),e.toggle_hashtag_button(n),e.render_task_list(),!1}}(this),a=k.keys(this.hashtags),a.sort(),r=0,i=a.length;r<i;r++)s=a[r],o=this.local_storage("hashtag-#"+s),t=_.clone(),t.addClass("salvus-hashtag-"+s),t.text("#"+s),o||null==this._visible_descs||this._visible_descs.indexOf("#"+s)!==-1?t.click(n):t.addClass("disabled"),e.append(t),o&&this.toggle_hashtag_button(t);return e.show()},e.prototype.parse_hashtags=function(){var e,t,n,r,i;if(this.hashtags={},null!=this.tasks){t=this.tasks,n=[];for(e in t)r=t[e],r.done&&!this.showing_done||r.deleted&&!this.showing_deleted||n.push(function(){var e,t,n,o;for(n=k.parse_hashtags(r.desc),o=[],e=0,t=n.length;e<t;e++)i=n[e],o.push(this.hashtags[r.desc.slice(i[0]+1,i[1]).toLowerCase()]=!0);return o}.call(this));return n}},e.prototype.render_task_list=function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W;if(null!=this.tasks){for(L=this.selected_hashtags(),b=k.search_split(this.element.find(".salvus-tasks-search").val().toLowerCase()),c=0,d=b.length;c<d;c++)W=b[c],W=$.trim(W).toLowerCase(),"#"!==W&&L.push(W);z=this.element.find(".salvus-tasks-search-describe"),z.find("span").hide(),L.length>0&&(z.find(".salvus-tasks-search-contain").show(),z.find(".salvus-tasks-search-query").show().text(L.join(" "))),this.showing_done&&z.find(".salvus-tasks-search-showing-done").show(),this.showing_deleted&&z.find(".salvus-tasks-search-showing-deleted").show(),null==this.current_task&&(U=this.local_storage("current_task"),null!=U&&this.set_current_task_by_id(U)),r=0,null!=this._visible_tasks&&(u=function(){var e,t,n,r;for(n=this._visible_tasks,r=[],t=0,e=n.length;t<e;t++)B=n[t],r.push(B);return r}.call(this)),this._visible_tasks=[],this._visible_descs="",w=this.tasks;for(e in w)if(F=w[e],(!F.done||this.showing_done)&&(!F.deleted||this.showing_deleted)){if(P=!1,null!=F.desc)if((null!=(C=this.current_task)?C.task_id:void 0)===F.task_id&&(null!=(E=F.element)?E.hasClass("salvus-task-editing-desc"):void 0))P=!1;else for(B=F.desc.toLowerCase(),m=0,p=L.length;m<p;m++)D=L[m],B.indexOf(D)!==-1?"#"!==D[0]||(I=RegExp(D+"(|s|[^A-Za-z0-9_-])"),B.match(I)||(P=!0)):P=!0;else F.desc="";P||(r<200&&this._visible_tasks.push(F),this._visible_descs+=" "+F.desc.toLowerCase(),r+=1)}if(this.render_hashtag_bar(),this.sort_visible_tasks(),t=!1,null==u)t=!0;else if(u.length!==this._visible_tasks.length)t=!0;else for(l=g=0,S=u.length;0<=S?g<S:g>S;l=0<=S?++g:--g)if(u[l].task_id!==this._visible_tasks[l].task_id){t=!0;break}for(j=this._visible_tasks,v=0,h=j.length;v<h;v++)F=j[v],this.render_task(F);if(t){for(n=null!=(M=this.current_task)&&null!=(T=M.element)?T.data("cm"):void 0,
a=null!=n&&n.hasFocus(),this.elt_task_list.children().detach(),o=!1,O=this._visible_tasks,y=0,f=O.length;y<f;y++)F=O[y],this.elt_task_list.append(F.element),F.task_id===(null!=(N=this.current_task)?N.task_id:void 0)&&(o=!0);this.elt_task_list.children().removeClass("salvus-current-task"),!o&&this._visible_tasks.length>0?this.set_current_task(this._visible_tasks[0]):null!=(x=this.current_task)&&null!=(A=x.element)&&A.addClass("salvus-current-task").scrollintoview({direction:"vertical",viewPadding:{y:50}}),a&&n.focus()}if(this.elt_task_list.children().css("display","inherit"),this.elt_task_list.find(".highlight-tag").removeClass("highlight-tag"),this.elt_task_list.find(".salvus-task-desc").unhighlight(),L.length>0&&(s=this.elt_task_list.find(".salvus-task-desc").not(".salvus-task-desc-editing"),R=function(){var e,t,n;for(t=[],n=0,e=L.length;n<e;n++)q=L[n],"#"===q[0]&&t.push(".smc-tasks-hashtag-"+q.substring(1));return t}().join(","),s.find(R).addClass("highlight-tag"),_=function(){var e,t,n;for(t=[],n=0,e=L.length;n<e;n++)B=L[n],"#"!==B[0]&&t.push(B);return t}(),s.highlight(_)),0!==r||this.readonly?this.element.find(".salvus-tasks-list-none").hide():this.element.find(".salvus-tasks-list-none").show(),1!==r?(i=this._visible_tasks.length+" tasks",this._visible_tasks.length<r&&(i+=" ("+r+" match; refine search to see other tasks)")):i="1 task",z.find(".salvus-tasks-count").text(i).show(),this.readonly)return void this.elt_task_list.find(".salvus-task-reorder-handle").hide();if("custom"!==this.sort_order.heading){try{this.elt_task_list.sortable("destroy")}catch(e){s=e}return void this.elt_task_list.find(".salvus-task-reorder-handle").hide()}return this.elt_task_list.find(".salvus-task-reorder-handle").show(),this.elt_task_list.sortable({containment:this.element,handle:".salvus-task-reorder-handle",update:function(e){return function(t,n){var r,i;if(s=n.item,F=s.data("task"),null!=F&&(e.set_current_task(F),i=s.prev(),r=s.next(),0!==i.length||0!==r.length))return r.length>0?e.move_task_before(F,r.data("task").position):i.length>0?e.move_task_after(F,i.data("task").position):void 0}}(this)})}},e.prototype.set_task_position=function(e,t){return e.position=t,this.db.set({task_id:e.task_id,position:t}),this.set_dirty()},e.prototype.move_task_before=function(e,t){var n,r,i,o,s;if(s=this.positions(),t<=s[0])i=t-1;else for(n=r=1,o=s.length;1<=o?r<o:r>o;n=1<=o?++r:--r)if(t<=s[n]){i=(s[n-1]+t)/2;break}if(null!=i)return this.set_task_position(e,i)},e.prototype.move_task_after=function(e,t){var n,r,i;if(i=this.positions(),n=i.length-1,i[n]<=t)r=t+1;else for(n-=1;n>=0;){if(i[n]<=t){r=(i[n+1]+t)/2;break}n-=1}if(null!=r)return this.set_task_position(e,r)},e.prototype.get_task_by_id=function(e){var t;return null!=(t=this.tasks)?t[e]:void 0},e.prototype.render_task=function(e){var t,n,r;null==e.element&&(e.element=T.clone(),e.element.data("task",e),e.element.click(this.click_on_task),this.readonly||(n=e.element.find(".salvus-task-desc").click(function(t){return function(r){if("A"!==$(r.target).prop("tagName")&&0===A.get_selection_start_node().closest(n).length)return t.edit_desc(e)}}(this)),e.element.find(".salvus-task-desc").dblclick(function(t){return function(n){return t.edit_desc(e)}}(this))),e.changed=!0),r=e.element,r.show(),r.hasClass("salvus-task-editing-desc")&&(t=r.data("cm"),null!=t&&e.changed&&e.desc!==e.last_desc&&t.setValueNoJump(e.desc)),e.changed&&(this.display_done(e),this.display_due_date(e),this.display_undelete(e),this.display_last_edited(e),this.display_desc(e),e.changed=!1,this.readonly)},e.prototype.display_undelete=function(e){if(!this.opts.viewer&&!this.readonly)return e.deleted?e.element.find(".salvus-task-undelete").show():e.element.find(".salvus-task-undelete").hide()},e.prototype.click_on_task=function(e){var t,n,r;return j(this),r=$(e.delegateTarget).closest(".salvus-task").data("task"),n=$(e.target),n.hasClass("salvus-task-viewer-not-done")?!this.readonly&&this.set_task_done(r,!0):n.hasClass("salvus-task-viewer-done")?!this.readonly&&this.set_task_done(r,!1):n.hasClass("salvus-task-toggle-icon")?(t=this.local_storage("toggle-"+r.task_id),this.local_storage("toggle-"+r.task_id,!t),this.display_desc(r)):n.hasClass("salvus-task-due")?!this.readonly&&(this.edit_due_date(r),event.preventDefault()):n.hasClass("salvus-task-due-clear")?!this.readonly&&(this.remove_due_date(r),event.preventDefault()):n.hasClass("salvus-task-undelete")?!this.readonly&&(this.set_current_task(r),this.delete_task(r,!1)):this.set_current_task(r)},e.prototype.display_last_edited=function(e){var t,n;if(e.last_edited)return n=new Date(e.last_edited),A.is_valid_date(n)||(n=new Date),t=$("<span>").attr("title",n.toISOString()).timeago(),t.text($.timeago(n.toISOString())),e.element.find(".salvus-task-last-edited").empty().append(t)},e.prototype.click_hashtag_in_desc=function(e){var t;return t=$(e.delegateTarget).text().slice(1).toLowerCase(),this.toggle_hashtag_button(this.element.find(".salvus-hashtag-"+t)),this.set_current_task($(e.delegateTarget).closest(".salvus-task").data("task")),this.render_task_list(),!1},e.prototype.currently_editing_task=function(e){return null!=h&&h===e.element.data("cm")},e.prototype.display_desc=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y;if(t=e.desc,this.currently_editing_task(e)||(p=t.match(/^\s*[\r\n]/m),s=null!=p?p.index:void 0,null!=s?(e.element.find(".salvus-task-toggle-icons").show(),a=this.local_storage("toggle-"+e.task_id),null!=a?(a===e.element.find(".fa-caret-down").hasClass("hide")&&e.element.find(".salvus-task-toggle-icon").toggleClass("hide"),e.element.find(".fa-caret-down").hasClass("hide")&&(t=t.slice(0,s))):e.element.find(".fa-caret-down").hasClass("hide")?(this.local_storage("toggle-"+e.task_id,!1),t=t.slice(0,s)):this.local_storage("toggle-"+e.task_id,!0)):e.element.find(".salvus-task-toggle-icons").hide()),0===t.trim().length)t="<span class='lighten'>Enter a description...</span>";else{if(g=k.parse_hashtags(t),g.length>0){for(y=[0,0],n="",l=0,c=g.length;l<c;l++)v=g[l],n+=t.slice(y[1],v[0])+("<span class='salvus-tasks-hash smc-tasks-hashtag-"+t.slice(v[0],v[1]).substring(1).toLowerCase()+"'>")+t.slice(v[0],v[1])+"</span>",y=v;t=n+t.slice(y[1])}v=x.markdown_to_html(t),t=v.s,o=v.has_mathjax}if(e.deleted&&(t="<del>"+t+"</del>"),e.element.find(".salvus-tasks-desc-column").css({fontSize:(null!=(m=this.default_font_size)?m:14)+"px"}),r=e.element.find(".salvus-task-desc"),r.html(t),o&&r.mathjax(),t.indexOf("[ ]")!==-1||t.indexOf("[x]")!==-1){for(r.highlight("[ ]",{className:"salvus-task-checkbox-not-selected"}),r.highlight("[x]",{className:"salvus-task-checkbox-selected"}),r.find(".salvus-task-checkbox-not-selected").replaceWith($('<i class="fa fa-square-o salvus-task-checkbox salvus-task-checkbox-not-selected"> </i>')),r.find(".salvus-task-checkbox-selected").replaceWith($('<i class="fa fa-check-square-o salvus-task-checkbox salvus-task-checkbox-selected"> </i>')),_=r.find(".salvus-task-checkbox-not-selected"),s=-1,h=0,u=_.length;h<u;h++)i=_[h],s=e.desc.indexOf("[ ]",s+1),s!==-1&&$(i).data("index",s);for(_=r.find(".salvus-task-checkbox-selected"),s=-1,f=0,d=_.length;f<d;f++)i=_[f],s=e.desc.indexOf("[x]",s+1),s!==-1&&$(i).data("index",s);r.find(".salvus-task-checkbox").click(function(t){return function(n){var r;return r=$(n.delegateTarget),s=r.data("index"),null!=s&&(r.hasClass("salvus-task-checkbox-selected")?e.desc=e.desc.slice(0,s)+"[ ]"+e.desc.slice(s+3):e.desc=e.desc.slice(0,s)+"[x]"+e.desc.slice(s+3),t.db.set({task_id:e.task_id,desc:e.desc,last_edited:new Date-0}),t.set_dirty(),t.set_current_task(e)),t.display_desc(e),!1}}(this))}return null!=this.filename&&r.process_smc_links({project_id:this.project_id,file_path:k.path_split(this.filename).head}),r.find("table").addClass("table"),e.element.find(".salvus-tasks-hash").click(this.click_hashtag_in_desc)},e.prototype.set_current_task=function(e){var t,n,r;if(null!=e)return null!=(null!=(t=this.current_task)?t.element:void 0)&&this.current_task.element.removeClass("salvus-current-task"),r=(null!=(n=this.current_task)?n.task_id:void 0)!==e.task_id,this.current_task=e,this.local_storage("current_task",e.task_id),null!=e.element&&(e.element.addClass("salvus-current-task"),0!==A.get_selection_start_node().closest(e.element).length&&(r=!1),r)?e.element.scrollintoview({direction:"vertical",viewPadding:{y:50}}):void 0},e.prototype.get_task_visible_index=function(e){var t,n,r;if(null!=e)for(t=n=0,r=this._visible_tasks.length;0<=r?n<r:n>r;t=0<=r?++n:--n)if(this._visible_tasks[t].task_id===e.task_id)return t},e.prototype.get_current_task_visible_index=function(){return this.get_task_visible_index(this.current_task)},e.prototype.set_current_task_prev=function(){var e;if(e=this.get_current_task_visible_index(),null!=e)return e-=1,e<0&&(e=0),this.set_current_task(this._visible_tasks[e])},e.prototype.set_current_task_next=function(){var e;if(e=this.get_current_task_visible_index(),null!=e)return e+=1,e>=this._visible_tasks.length&&(e=this._visible_tasks.length-1),this.set_current_task(this._visible_tasks[e])},e.prototype.move_current_task_down=function(){var e;if(e=this.get_current_task_visible_index(),e<this._visible_tasks.length-1)return this.move_task_after(this.current_task,this._visible_tasks[e+1].position),this.render_task_list()},e.prototype.move_current_task_up=function(){var e;if(e=this.get_current_task_visible_index(),e>0)return this.move_task_before(this.current_task,this._visible_tasks[e-1].position),this.render_task_list()},e.prototype.move_current_task_to_top=function(){var e;if(null!=this.current_task)return e=this.current_task,this.set_current_task_prev(),this.move_task_before(e,this._visible_tasks[0].position)},e.prototype.move_current_task_to_bottom=function(){var e;if(null!=this.current_task)return e=this.current_task,this.set_current_task_next(),this.move_task_after(e,this._visible_tasks[this._visible_tasks.length-1].position)},e.prototype.delete_current_task=function(){if(null!=this.current_task)return this.delete_task(this.current_task,!0)},e.prototype.save_live=function(){var e,t,n,r,i,o,s;for(i=this._visible_tasks,o=[],n=0,r=i.length;n<r;n++)s=i[n],t=null!=s?s.element:void 0,(null!=t?t.hasClass("salvus-task-editing-desc"):void 0)?(e=t.data("cm"),null!=e&&e.getValue()!==s.last_desc?o.push(e.sync_desc()):o.push(void 0)):o.push(void 0);return o},e.prototype.edit_desc=function(e,t){var n,r,i,o,s,a,l,c,u,d;if(null==e&&(e=this.current_task),null==e&&(e=this._visible_tasks[0]),null!=e&&(r=e.element,null!=r))return r.hasClass("salvus-task-editing-desc")&&null!=r.data("cm")?void r.data("cm").focus():(r.find(".salvus-task-desc").addClass("salvus-task-desc-editing"),r.find(".salvus-task-toggle-icons").hide(),r.addClass("salvus-task-editing-desc"),s=r.find(".salvus-task-desc"),this.set_current_task(e),o=r.find(".salvus-tasks-desc-edit"),o.length>0?(o.show(),n=r.data("cm"),n.focus(),r.addClass("salvus-task-editing-desc"),void n.setValueNoJump(e.desc)):(o=m.find(".salvus-tasks-desc-edit").clone(),s.before(o),l=!1,u=function(e){return function(){return h=void 0,l=!0,r.removeClass("salvus-task-editing-desc"),r.find(".salvus-task-desc").removeClass("salvus-task-desc-editing"),o.hide(),d()}}(this),i=C.getStore("account").get_editor_settings(),a={"Shift-Enter":u,"Shift-Tab":function(e){return e.unindent_selection()},"Ctrl-S":function(e){return function(t){return e.save()}}(this),"Cmd-S":function(e){return function(t){return e.save()}}(this)},"vim"!==i.bindings&&(a.Esc=u),c={mode:"gfm2",lineNumbers:!1,theme:i.theme,lineWrapping:i.line_wrapping,matchBrackets:i.match_brackets,indentUnit:i.indent_unit,styleActiveLine:15,tabSize:i.tab_size,showTrailingSpace:i.show_trailing_whitespace,viewportMargin:Infinity,extraKeys:a},"standard"!==i.bindings&&(c.keyMap=i.bindings),i.code_folding&&(a["Ctrl-Q"]=function(e){return e.foldCode(e.getCursor())},c.foldGutter=!0,c.gutters=["CodeMirror-linenumbers","CodeMirror-foldgutter"]),n=CodeMirror.fromTextArea(o.find("textarea")[0],c),n.save=this.save,"vim"===i.bindings&&n.setOption("vimMode",!0),r.data("cm",n),null==e.desc&&(e.desc=""),n.setValue(e.desc),n.clearHistory(),$(n.getWrapperElement()).addClass("salvus-new-task-cm-editor").css({height:"auto"}),$(n.getScrollerElement()).addClass("salvus-new-task-cm-scroll"),o.find('a[href="#close"]').tooltip({delay:{show:500,hide:100}}).click(function(e){return function(e){return u(),e.preventDefault()}}(this)),o.find(".CodeMirror-hscrollbar").remove(),o.find(".CodeMirror-vscrollbar").remove(),e.last_desc=e.desc,d=function(t){return function(){var r;return r=n.getValue(),e.last_desc=r,e.desc=r,t.display_desc(e),e.last_edited=new Date-0,t.db.set({task_id:e.task_id,desc:e.desc,last_edited:e.last_edited}),t.set_dirty()}}(this),n.sync_desc=d,n.on("changes",D.debounce(d,2e3)),n.on("focus",function(){return h=n,$(n.getWrapperElement()).addClass("salvus-new-task-cm-editor-focus")}),n.on("blur",function(){return $(n.getWrapperElement()).removeClass("salvus-new-task-cm-editor-focus"),h=void 0}),n.focus(),t?n.execCommand("goDocEnd"):void 0))},e.prototype.edit_due_date=function(e){var t,n,r,i,o,s,a,l,c;return $(".bootstrap-datetimepicker-widget:visible").remove(),this.set_current_task(e),o=e.element,a=o.find(".salvus-task-due"),s=m.find(".salvus-tasks-due-edit").clone(),o.find(".salvus-task-desc").before(s),s.datetimepicker({language:"en",pick12HourFormat:!0,pickSeconds:!1,startDate:new Date}),s.find(".icon-calendar").click(),s.hide(),r=$(".bootstrap-datetimepicker-widget:visible"),c=r.draggable().find(".icon-time").addClass("fa").addClass("fa-clock-o").css({"font-size":"24pt",height:"24pt",background:"white"}),a.parent().append(r),t=function(e){return function(){return s.data("datetimepicker").destroy(),s.remove()}}(this),i=$('<a class="btn btn-default pull-right">Close</a>'),i.click(t),c.parent().before(i),l=s.data("datetimepicker"),n=null!=e.due_date?new Date(e.due_date):new Date,l.setLocalDate(n),s.on("changeDate",function(t){return function(n){return t.set_due_date(e,n.localDate-0),t.render_task(e)}}(this))},e.prototype.remove_due_date=function(e){return this.set_due_date(e,void 0),this.display_due_date(e)},e.prototype.set_due_date=function(e,t){return e.due_date=t,this.db.set({due_date:null!=t?t:null,last_edited:new Date-0,task_id:e.task_id}),this.set_dirty()},e.prototype.display_due_date=function(e){var t,n,r,i;return n=e.element.find(".salvus-task-due"),"none"!==n.text()&&(n.timeago("dispose").text("none"),r=T.find(".salvus-task-due").clone(),n.replaceWith(r),n=r),e.due_date?(i=e.element.find(".salvus-task-due-clear"),i.show(),i.attr("title","Clear due date"),t=new Date(0),t.setUTCMilliseconds(e.due_date),A.is_valid_date(t)||(t=new Date),n.attr("title",t.toISOString()).timeago(),n.text($.timeago(t.toISOString())),!e.done&&t<new Date?n.addClass("salvus-task-overdue"):void 0):e.element.find(".salvus-task-due-clear").hide()},e.prototype.display_done=function(e){var t,n,r,i;if(null!=e.element)return e.done?(e.element.find(".salvus-task-viewer-not-done").hide(),e.element.find(".salvus-task-viewer-done").show(),"number"==typeof e.done&&(r=e.element.find(".salvus-task-done"),"none"!==r.text()&&(r.timeago("dispose").text("none"),i=T.find(".salvus-task-done").clone(),r.replaceWith(i),r=i),n=e.element.find(".salvus-task-done").show().find("span"),t=new Date(e.done),A.is_valid_date(t)||(t=new Date),n.attr("title",t.toISOString()).timeago(),n.parent().attr("title",t.toISOString())),e.element.addClass("salvus-task-overall-done")):(e.element.find(".salvus-task-viewer-not-done").show(),e.element.find(".salvus-task-viewer-done").hide(),e.element.find(".salvus-task-done").hide(),e.element.removeClass("salvus-task-overall-done"))},e.prototype.delete_task=function(e,t){var n,r,i;return null!=(r=e.element)&&r.stop().prop("style").removeProperty("opacity"),n=function(n){return function(){return n.db.set({task_id:e.task_id,deleted:t,last_edited:new Date-0}),e.deleted=t,n.set_dirty()}}(this),t&&!this.showing_deleted?null!=(i=e.element)?i.fadeOut(function(t){return function(){if(!e.deleted)return t.set_current_task_next(),n()}}(this)):void 0:n()},e.prototype.toggle_current_task_done=function(){if(this.current_task)return this.set_task_done(this.current_task,!this.current_task.done)},e.prototype.set_task_done=function(e,t){var n;if(e.element.stop().prop("style").removeProperty("opacity"),e.done||t)return t?e.done=new Date-0:e.done=0,n=function(t){return function(){return t.db.set({task_id:e.task_id,done:e.done,last_edited:new Date-0}),t.set_dirty()}}(this),t&&!this.showing_done?e.element.fadeOut(function(t){return function(){if(e.done)return t.set_current_task_next(),n()}}(this)):n()},e.prototype.clear_create_task=function(){return this.create_task_editor.setValue(""),this.element.find(".salvus-tasks-create-button").addClass("disabled")},e.prototype.create_task=function(){var e,t,n,r,i,o,s,a,l,c,u,d;if(!this.readonly&&null!=this.tasks){if(r=null!=(s=this.current_task)?s.position:void 0,null!=r){i=void 0,a=this.tasks;for(e in a)c=a[e],c.position>r&&(null==i||c.position<i)&&(i=c.position);o=null!=i&&i>r?(r+i)/2:r+1}else{n=0,l=this.tasks;for(e in l)c=l[e],c.position<n&&(n=c.position);o=n-1}return t=this.selected_hashtags().join(" "),t.length>0&&(t+="\n"),t+=this.element.find(".salvus-tasks-search").val(),u={desc:t,position:o,last_edited:new Date-0},d=L(),u.task_id=d,this.tasks[d]=u,this.db.set(u),this.set_current_task(u),this.edit_desc(u,!0),this.set_dirty()}},e.prototype.set_current_task_by_id=function(e){return this.current_task=this.get_task_by_id(e)},e.prototype.init_create_task=function(){return this.element.find('a[href="#create-task"]').click(function(e){return function(t){return e.create_task(),t.preventDefault()}}(this)),this.element.find(".salvus-tasks-first").click(function(e){return function(t){return e.create_task(),t.preventDefault()}}(this))},e.prototype.init_delete_task=function(){return this.element.find('a[href="#delete-task"]').click(function(e){return function(t){return e.delete_current_task(),t.preventDefault()}}(this))},e.prototype.init_move_task_to_top=function(){var e;return e=this.element.find('a[href="#move-task-to-top"]').click(function(t){return function(n){return e.hasClass("disabled")||t.move_current_task_to_top(),n.preventDefault()}}(this))},e.prototype.init_move_task_to_bottom=function(){var e;return e=this.element.find('a[href="#move-task-to-bottom"]').click(function(t){return function(n){return e.hasClass("disabled")||t.move_current_task_to_bottom(),n.preventDefault()}}(this))},e.prototype.set_showing_done=function(e){var t;if(this.showing_done=e,this.local_storage("showing_done",this.showing_done),t=this.element.find(".salvus-task-search-not-done").hasClass("hide"),t!==e)return this.element.find(".salvus-task-search-done-icon").toggleClass("hide"),this.element.find(".salvus-tasks-show-done").toggle("hide"),this.render_task_list()},e.prototype.init_showing_done=function(){return this.opts.viewer?this.showing_done=!1:this.showing_done=this.local_storage("showing_done"),null==this.showing_done&&(this.showing_done=!0),this.set_showing_done(this.showing_done),this.element.find(".salvus-task-search-not-done").click(function(e){return function(){return e.set_showing_done(!0)}}(this)),this.element.find(".salvus-task-search-done").click(function(e){return function(){return e.set_showing_done(!1)}}(this))},e.prototype.set_showing_deleted=function(e){var t;return this.showing_deleted=e,this.local_storage("showing_deleted",this.showing_deleted),t=this.element.find(".salvus-task-search-not-deleted").hasClass("hide"),t!==e&&(this.element.find(".salvus-task-search-deleted-icon").toggleClass("hide"),this.render_task_list()),e?this.element.find(".salvus-task-empty-trash").show():this.element.find(".salvus-task-empty-trash").hide()},e.prototype.init_showing_deleted=function(){return this.opts.viewer?this.showing_deleted=!1:this.showing_deleted=this.local_storage("showing_deleted"),null==this.showing_deleted&&(this.showing_deleted=!1),this.set_showing_deleted(this.showing_deleted),this.element.find(".salvus-task-search-not-deleted").click(function(e){return function(){return e.set_showing_deleted(!0)}}(this)),this.element.find(".salvus-task-search-deleted").click(function(e){return function(){return e.set_showing_deleted(!1)}}(this)),this.element.find(".salvus-task-empty-trash").click(function(e){return function(){if(!e.readonly)return e.empty_trash()}}(this))},e.prototype.empty_trash=function(){var e;if(!this.readonly&&null!=this.tasks)return e=h,h="bootbox",bootbox.confirm("<h1><i class='fa fa-trash-o pull-right'></i></h1> <h4>Permanently erase the deleted items?</h4><br> <span class='lighten'>Old versions of this list may be available as snapshots.</span>  ",function(t){return function(n){var r,i,o;if(h=e,n===!0){r=t.tasks;for(o in r)i=r[o],i.deleted&&(t.db.delete({task_id:o}),delete t.tasks[o]);return t.set_dirty(),t.render_task_list()}}}(this))},e.prototype.init_search=function(){var e,t;return this._last_search=k.walltime(),t=300,e=this.element.find(".salvus-tasks-search"),e.keyup(function(n){return function(r){var i,o,s;return 27===r.which?(e.val("").blur(),void n.render_task_list()):13===r.which?void n.edit_desc(n.current_task):78===r.which&&(r.ctrlKey||r.metaKey)?void n.create_task():(o=k.walltime(),o-n._last_search>=t?(n._last_search=o,n.render_task_list()):(s=n._last_search,i=function(){if(s===n._last_search)return n._last_search=o,n.render_task_list()},setTimeout(i,t)))}}(this)),e.focus(function(t){return function(){return h=e}}(this)),e.blur(function(e){return function(){return h=void 0}}(this)),this.element.find(".salvus-tasks-search-clear").click(function(t){return function(){return e.val("").focus(),t.render_task_list()}}(this))},e.prototype.init_sort=function(){var e,t,r;for(e=0,t=n.length;e<t;e++)r=n[e],"description"!==r&&this.element.find(".salvus-task-sort-"+r).on("click",{s:r},function(e){return function(t){return e.click_sort_by(t.data.s),t.preventDefault()}}(this));return this.update_sort_order_display()},e.prototype.update_sort_order_display=function(){var e,t;return t=this.element.find(".salvus-tasks-list-heading"),t.find(".salvus-tasks-header").removeClass("salvus-task-header-current"),t.find(".fa-sort-asc").hide(),t.find(".fa-sort-desc").hide(),t.find(".salvus-task-sort-"+this.sort_order.heading).addClass("salvus-task-header-current").find(".fa-sort-"+this.sort_order.dir).show(),e=this.element.find(".salvus-tasks-buttons-pos-move"),"custom"===this.sort_order.heading?e.removeClass("disabled"):e.addClass("disabled")},e.prototype.click_sort_by=function(e){return this.sort_order.heading===e?"asc"===this.sort_order.dir?this.sort_order.dir="desc":this.sort_order.dir="asc":(this.sort_order.heading=e,this.sort_order.dir="desc"),this.update_sort_order_display(),this.render_task_list()},e.prototype.custom_sort_order=function(){return this.sort_order={heading:"custom",dir:"desc"},this.update_sort_order_display(),this.sort_visible_tasks()},e.prototype.init_info=function(){return this.element.find(".salvus-tasks-info").click(function(e){return function(){return g(),!1}}(this))},e.prototype.set_dirty=function(){if(this._new_changes=!0,!this.readonly)return this.save_button.removeClass("disabled")},e.prototype.set_clean=function(){var e;return null!=(e=this.save_button)?e.addClass("disabled"):void 0},e.prototype.has_unsaved_changes=function(e){return e&&this.set_dirty(),!this.save_button.hasClass("disabled")},e.prototype.init_save=function(){var e,t;return this.readonly?null!=(e=this.save_button)?e.addClass("disabled"):void 0:null!=(t=this.save_button)?t.click(function(e){return function(t){return e.save(),t.preventDefault()}}(this)):void 0},e.prototype.save=function(){if(!this.readonly&&this.has_unsaved_changes()&&!this._saving)return this._saving=!0,this._new_changes=!1,this.save_button.icon_spin({start:!0,delay:s}),this.db.save(function(e){return function(t){return e.save_button.icon_spin(!1),e._saving=!1,t||e._new_changes?t?c({type:"error",message:"Error saving "+e.filename+" -- "+I(t)+" -- you may need to refresh your browser or restart your project."}):void 0:e.set_clean()}}(this))},e.prototype.show=function(){return this.element.show(),j(this),C.getActions("page").set_active_key_handler(O)},e.prototype.hide=function(){return this.element.hide(),C.getActions("page").erase_active_key_handler(O)},e}(),p=void 0,j=function(e){return p=e},O=function(e){return function(e){var t;if(null!=p&&(t=$(":focus"),!(t.length>0&&0===t.closest(".salvus-tasks-listing").length))){if(b)return void d();if(!e.shiftKey&&null==h)if(e.ctrlKey||e.metaKey||e.altKey){if(70===e.keyCode)return p.element.find(".salvus-tasks-search").focus(),!1;if(p.readonly)return;if(83===e.keyCode)return p.save(),!1;if(78===e.keyCode)return p.create_task(),!1;if(40===e.which)return p.move_current_task_down(),!1;if(38===e.which)return p.move_current_task_up(),!1;if(32===e.which)return p.toggle_current_task_done(),!1}else{if(!(13!==e.which&&73!==e.which||p.readonly))return p.edit_desc(p.current_task),!1;if(40===e.which||74===e.which)return p.set_current_task_next(),!1;if(38===e.which||75===e.which)return p.set_current_task_prev(),!1}}}}(this),v=N.find(".salvus-tasks-help-dialog"),y=N.find(".salvus-tasks-help-dialog"),b=!1,g=function(){return y=v.clone(),b=!0,y.modal(),y.find(".btn-close").click(d)},d=function(){return b=!1,y.modal("hide")}},,,,,,,,,,,,,,,,function(e,exports,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return e=p(e),d.ansiToJson(e,{json:!0,remove_empty:!0})}function i(e){var t={};return e.bg&&(t.backgroundColor="rgb("+e.bg+")"),e.fg&&(t.color="rgb("+e.fg+")"),{content:e.content,style:t}}function o(e){return r(e).map(i)}function s(e){return c({},e,{content:e.content.split(" ").reduce(function(e,t,r){return[].concat(n(e),[0===r?"":" ",/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/.test(t)?u.createElement("a",{key:r,href:t,target:"_blank"},""+t):t])},[])})}function a(e,t){return u.createElement("span",{style:e.style,key:t},e.content)}function l(e){return u.createElement("code",{},e.linkify?o(e.children).map(s).map(a):o(e.children).map(a))}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t(1),d=t(1059),p=t(1060);l.propTypes={children:u.PropTypes.string},e.exports=l},,,,,function(e,exports,t){function n(e){var t=this.__data__=new r(e);this.size=t.size}var r=t(309),i=t(1193),o=t(1194),s=t(1195),a=t(1196),l=t(1197);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=l,e.exports=n},function(e,exports){function t(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=t},function(e,exports){function t(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=t},function(e,exports){function t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=t},function(e,exports,t){function n(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}var r=t(834),i=t(315);e.exports=n},function(e,exports,t){function n(e,t,n){return t===t?o(e,t,n):r(e,i,n)}var r=t(829),i=t(1129),o=t(1198);e.exports=n},function(e,exports,t){function n(e,t,o,s,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,o,s,n,a))}var r=t(1127),i=t(134);e.exports=n},function(e,exports){function t(e){return function(t){return e(t)}}e.exports=t},function(e,exports,t){function n(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}var r=t(112),i=t(594),o=t(1199),s=t(599);e.exports=n},function(e,exports,t){function n(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}var r=t(1141);e.exports=n},function(e,exports,t){function n(e,t,n,l,c,u){var d=n&s,p=e.length,h=t.length;if(p!=h&&!(d&&h>p))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,_=!0,g=n&a?new r:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var v=e[m],y=t[m];if(l)var b=d?l(y,v,m,t,e,u):l(v,y,m,e,t,u);if(void 0!==b){if(b)continue;_=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(v===e||c(v,e,n,l,u)))return g.push(t)})){_=!1;break}}else if(v!==y&&!c(v,y,n,l,u)){_=!1;break}}return u.delete(e),u.delete(t),_}var r=t(1112),i=t(1118),o=t(1144),s=1,a=2;e.exports=n},function(e,exports,t){function n(e){return e===e&&!r(e)}var r=t(240);e.exports=n},function(e,exports){function t(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=t},function(e,exports,t){function n(e){return i(e)?o(e):r(e)}var r=t(1119),i=t(1162),o=t(1200);e.exports=n},function(e,exports){function t(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,r=n.toString;e.exports=t},function(e,exports,t){(function(e){var n=t(92),r=t(1210),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c}).call(exports,t(130)(e))},function(e,exports,t){function n(e){if(!i(e))return!1;var t=r(e);return t==s||t==a||t==o||t==l}var r=t(133),i=t(240),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";e.exports=n},function(e,exports,t){var n=t(1131),r=t(833),i=t(1186),o=i&&i.isTypedArray,s=o?r(o):n;e.exports=s},function(e,exports,t){"use strict";var n=t(1086),r=t(1084);e.exports=function e(t){function i(t,r){var i=this[r];n(t)&&n(i)?e(i,t):this[r]=t}var o=[].slice.call(arguments,1),s=o.length;if(null==t)return{};if(0===s)return t;for(var a=0;a<s;a++){var l=o[a];null!=l&&r(l,i,t)}return t}},function(e,exports){e.exports=function(e){e.installColorSpace("HSV",["hue","saturation","value","alpha"],{rgb:function(){var t,n,r,i=this._hue,o=this._saturation,s=this._value,a=Math.min(5,Math.floor(6*i)),l=6*i-a,c=s*(1-o),u=s*(1-l*o),d=s*(1-(1-l)*o);switch(a){case 0:t=s,n=d,r=c;break;case 1:t=u,n=s,r=c;break;case 2:t=c,n=s,r=d;break;case 3:t=c,n=u,r=s;break;case 4:t=d,n=c,r=s;break;case 5:t=s,n=c,r=u}return new e.RGB(t,n,r,this._alpha)},hsl:function(){var t,n=(2-this._saturation)*this._value,r=this._saturation*this._value,i=n<=1?n:2-n;return t=i<1e-9?0:r/i,new e.HSL(this._hue,t,n/2,this._alpha)},fromRgb:function(){var t,n=this._red,r=this._green,i=this._blue,o=Math.max(n,r,i),s=Math.min(n,r,i),a=o-s,l=0===o?0:a/o,c=o;if(0===a)t=0;else switch(o){case n:t=(r-i)/a/6+(r<i?1:0);break;case r:t=(i-n)/a/6+1/3;break;case i:t=(n-r)/a/6+2/3}return new e.HSV(t,l,c,this._alpha)}})}},function(e,exports){e.exports=function(e){e.installColorSpace("XYZ",["x","y","z","alpha"],{fromRgb:function(){var t=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},n=t(this._red),r=t(this._green),i=t(this._blue);return new e.XYZ(.4124564*n+.3575761*r+.1804375*i,.2126729*n+.7151522*r+.072175*i,.0193339*n+.119192*r+.9503041*i,this._alpha)},rgb:function(){var t=this._x,n=this._y,r=this._z,i=function(e){return e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e};return new e.RGB(i(3.2404542*t+n*-1.5371385+r*-.4985314),i(t*-.969266+1.8760108*n+.041556*r),i(.0556434*t+n*-.2040259+1.0572252*r),this._alpha)},lab:function(){var t=function(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29},n=t(this._x/95.047),r=t(this._y/100),i=t(this._z/108.883);return new e.LAB(116*r-16,500*(n-r),200*(r-i),this._alpha)}})}},function(e,exports){e.exports=function(e){return 0===Object.keys(e).length}},function(e,exports,t){function n(e){var t=r(e);return"Object"!==t&&"Array"!==t}var r=t(729);e.exports=n},function(e,exports){e.exports=function(){}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayMove=exports.SortableHandle=exports.SortableElement=exports.SortableContainer=void 0;var r=t(851);Object.defineProperty(exports,"arrayMove",{enumerable:!0,get:function(){return r.arrayMove}});var i=t(1252),o=n(i),s=t(1253),a=n(s),l=t(1254),c=n(l);
exports.SortableContainer=o.default,exports.SortableElement=a.default,exports.SortableHandle=c.default},function(e,exports){"use strict";function t(e,t,n){if(n>=e.length)for(var r=n-e.length;r--+1;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}function n(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function r(e,t,n){return n<e?e:n>t?t:n}function i(e){return"px"===e.substr(-2)?parseFloat(e):0}function o(e){var t=window.getComputedStyle(e);return{top:i(t.marginTop),right:i(t.marginRight),bottom:i(t.marginBottom),left:i(t.marginLeft)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayMove=t,exports.closest=n,exports.limit=r,exports.getElementMargin=o;exports.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","mouseup"]},exports.vendorPrefix=function(){if("undefined"==typeof window)return"";var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}()},function(e,exports,t){"use strict";var n=t(328),r=t(1260),i=t(329),o=t(300),s=function(e,t){if(this.links=e,this.rules=r.normal,this._options=t||n,this.renderer=this._options.renderer||new i(this._options),this.renderer.options=this._options,!this.links)throw Error("Tokens array requires a `links` property.");this._options.gfm?this._options.breaks?this.rules=r.breaks:this.rules=r.gfm:this._options.pedantic&&(this.rules=r.pedantic)};s.rules=r,s.output=function(e,t,n){var r=new s(t,n);return r.output(e)},s.prototype.output=function(e){for(var t,n,r,i,s="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),s+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=o._escape(i[1]),r=n),s+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),s+=this._options.sanitize?o._escape(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,s+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),s+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),s+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),s+=this.renderer.codespan(o._escape(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),s+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),s+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),s+=this._options.smartypants?o._escape(this.smartypants(i[0])):o._escape(i[0]);else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=o._escape(i[1]),r=n,s+=this.renderer.link(r,null,n);return s},s.prototype.outputLink=function(e,t){var n=o._escape(t.href),r=t.title?o._escape(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o._escape(e[1]))},s.prototype.smartypants=function(e){return e.replace(/--/g,"—").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")},s.prototype.mangle=function(e){for(var t,n="",r=e.length,i=0;i<r;i+=1)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},e.exports=s},function(e,exports){e.exports=function(e){for(var t,n,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},function(e,exports){e.exports=function(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):RegExp(e,t)}}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b;f=t(23).debounce,m=t(9),v=t(12),a=v.React,l=v.ReactDOM,_=v.rclass,g=v.redux,b=v.rtypes,c=v.Redux,i=v.COLOR,y=t(17),o=y.Icon,d=y.Tip,s=y.Loading,u=y.Space,p=t(198).UsersViewing,h=t(796).VideoChatButton,n={fontSize:"14pt",borderRadius:"3px"},r=a.createElement("span",null,"Hide or show the chat for this file.",a.createElement("hr",null),"Use HTML, Markdown, and LaTeX in your chats,\nand press shift+enter to send them.\nYour collaborators will be notified."),exports.ChatIndicator=_({reduxProps:{file_use:{file_use:b.immutable},page:{fullscreen:b.bool}},propTypes:{project_id:b.string.isRequired,path:b.string.isRequired,is_chat_open:b.bool},componentWillMount:function(){return this.toggle_chat=f(this.toggle_chat,500,!0)},toggle_chat:function(){var e;return e=g.getProjectActions(this.props.project_id),this.props.is_chat_open?e.close_chat({path:this.props.path}):e.open_chat({path:this.props.path})},is_new_chat:function(){var e,t,n;return null!=(e=null!=(t=g.getStore("file_use"))&&null!=(n=t.get_file_info(this.props.project_id,this.props.path))?n.is_unseenchat:void 0)&&e},render_users:function(){return a.createElement(p,{project_id:this.props.project_id,path:this.props.path})},render_video_button:function(){return a.createElement("span",{style:{marginLeft:"5px",marginRight:"5px",color:"#428bca"}},a.createElement(h,{project_id:this.props.project_id,path:this.props.path}))},render_chat_button:function(){var e,t,n,s,l,c;if("sage-chat"!==m.filename_extension(this.props.path))return l=this.is_new_chat(),n=l?i.FG_RED:i.FG_BLUE,e=this.props.is_chat_open?"Hide":"Show",c=a.createElement("span",null,a.createElement(o,{name:"comment"}),a.createElement(u,null)," ",a.createElement(u,null)," ",e," chat"),s=this.props.is_chat_open?"down":"left",t=l?"smc-chat-notification":"",a.createElement("div",{style:{cursor:"pointer",color:n,marginLeft:"5px",marginRight:"5px"},className:t},this.props.is_chat_open?this.render_video_button():void 0,a.createElement(d,{title:c,tip:r,placement:"left",delayShow:2500},a.createElement("span",{onClick:this.toggle_chat},a.createElement(o,{name:"caret-"+s}),a.createElement(u,null),a.createElement(o,{name:"comment"}))))},render:function(){var e;return e=m.copy(n),e.display="flex",this.props.fullscreen?(e.top="1px",e.right="23px"):(e.top="-30px",e.right="3px"),a.createElement("div",{style:e},this.render_users(),this.render_chat_button())}})},function(e,exports,t){var n,r,i;n=t(1),r=t(29),i=function(e){switch(!1){case!(e<.2):return[255,Math.floor(255*e/.2),0];case!(e<.4):return[Math.floor(255*(1-(e-.2)/.2)),255,0];case!(e<.6):return[0,255,Math.floor(255*(e-.4)/.2)];case!(e<.8):return[0,Math.floor(255*(1-(e-.6)/.2)),255];default:return[Math.floor(255*(e-.8)/.2),0,255]}},exports.ColorPicker=n.createClass({displayName:"ColorPicker",propTypes:{onChange:n.PropTypes.func,color:n.PropTypes.string,style:n.PropTypes.object},getDefaultProps:function(){return{color:"#aaa",style:{}}},shouldComponentUpdate:function(e,t){return e.color!==this.props.color},_click:function(e){var t,n,o,s,a,l,c,u;return a=r.findDOMNode(this.refs.svg).createSVGPoint(),c=[e.clientX,e.clientY],a.x=c[0],a.y=c[1],o=a.matrixTransform(r.findDOMNode(this.refs.svg).getScreenCTM().inverse()),u=i(o.x/800),l=u[0],s=u[1],t=u[2],"function"==typeof(n=this.props).onChange?n.onChange("rgb("+l+","+s+","+t+")"):void 0},render:function(){return n.createElement("div",{style:this.props.style},n.createElement("svg",{ref:"svg",viewBox:"0 0 800 400",style:{cursor:"crosshair"},onClick:this._click,onMouseEnter:function(e){return function(){return r.findDOMNode(e.refs.panel).style.fill="url(#rb)"}}(this),onMouseLeave:function(e){return function(){return r.findDOMNode(e.refs.panel).style.fill="none"}}(this)},n.createElement("g",null,n.createElement("defs",null,n.createElement("linearGradient",{id:"rb"},n.createElement("stop",{offset:"0%",stopColor:"#ff0000"}),n.createElement("stop",{offset:"20%",stopColor:"#ffff00"}),n.createElement("stop",{offset:"40%",stopColor:"#00ff00"}),n.createElement("stop",{offset:"60%",stopColor:"#00ffff"}),n.createElement("stop",{offset:"80%",stopColor:"#0000ff"}),n.createElement("stop",{offset:"100%",stopColor:"#ff00ff"}))),n.createElement("rect",{fill:this.props.color,width:"800",height:"400"}),n.createElement("rect",{ref:"panel",fill:"none",y:"100",width:"800",height:"300"})),n.createElement("rect",{fill:"none",stroke:"#000",strokeWidth:"10",width:"800",height:"400"})))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W;O=t(9),T=O.defaults,R=O.required,B=t(19).salvus_client,I=t(12),w=I.React,N=I.rclass,P=I.rtypes,D=t(22),n=D.Alert,o=D.Button,a=D.ButtonToolbar,s=D.ButtonGroup,h=D.FormControl,f=D.FormGroup,l=D.Checkbox,x=D.Row,c=D.Col,b=D.Panel,M=t(798),W=t(799),L=t(17),u=L.DateTimePicker,d=L.ErrorDisplay,m=L.Icon,_=L.LabeledRow,g=L.Loading,v=L.MarkdownInput,A=L.Space,j=L.Tip,y=L.NumberInput,z=t(187),k=z.STEPS,q=z.step_direction,U=z.step_verb,F=z.step_ready,i=z.BigTime,p=z.FoldersToolbar,C=z.StudentAssignmentInfo,E=z.StudentAssignmentInfoHeader,exports.AssignmentsPanel=N(function(e){var t,n;return t=e.name,{displayName:"CourseEditorAssignments",reduxProps:(n={},n[""+t]={expanded_assignments:P.immutable.Set,active_assignment_sort:P.object},n),propTypes:{name:P.string.isRequired,project_id:P.string.isRequired,redux:P.object.isRequired,actions:P.object.isRequired,all_assignments:P.object.isRequired,students:P.object.isRequired,user_map:P.object.isRequired},getInitialState:function(){return{err:void 0,search:"",show_deleted:!1}},compute_assignment_list:function(){var e,t,n,r,i,o,s;return n=M.immutable_to_list(this.props.all_assignments,"assignment_id"),o=M.compute_match_list({list:n,search_key:"path",search:this.state.search.trim()}),n=o.list,i=o.num_omitted,"due_date"===this.props.active_assignment_sort.column_name?t=function(e){var t,n;return[null!=(t=e.due_date)?t:0,null!=(n=e.path)?n.toLowerCase():void 0]}:"dir_name"===this.props.active_assignment_sort.column_name&&(t=function(e){var t,n;return[null!=(t=e.path)?t.toLowerCase():void 0,null!=(n=e.due_date)?n:0]}),s=M.order_list({list:n,compare_function:function(e){return function(e,n){return O.cmp_array(t(e),t(n))}}(this),reverse:this.props.active_assignment_sort.is_descending,include_deleted:this.state.show_deleted}),n=s.list,e=s.deleted,r=s.num_deleted,{shown_assignments:n,deleted_assignments:e,num_omitted:i,num_deleted:r}},render_sort_link:function(e,t){return w.createElement("a",{href:"",onClick:function(t){return function(n){return n.preventDefault(),t.actions(t.props.name).set_active_assignment_sort(e)}}(this)},t,w.createElement(A,null),this.props.active_assignment_sort.column_name===e?w.createElement(m,{style:{marginRight:"10px"},name:this.props.active_assignment_sort.is_descending?"caret-up":"caret-down"}):void 0)},render_assignment_table_header:function(){return w.createElement(x,{style:{marginTop:"-10px",marginBottom:"3px"}},w.createElement(c,{md:6},this.render_sort_link("dir_name","Assignment Name")),w.createElement(c,{md:6},this.render_sort_link("due_date","Due Date")))},render_assignments:function(e){var t,n,i,o,s;for(o=[],t=n=0,i=e.length;n<i;t=++n)s=e[t],o.push(w.createElement(r,{background:t%2===0?"#eee":void 0,key:s.assignment_id,assignment:this.props.all_assignments.get(s.assignment_id),project_id:this.props.project_id,redux:this.props.redux,students:this.props.students,user_map:this.props.user_map,name:this.props.name,is_expanded:this.props.expanded_assignments.has(s.assignment_id)}));return o},render_show_deleted:function(e){return this.state.show_deleted?w.createElement(o,{style:W.show_hide_deleted,onClick:function(e){return function(){return e.setState({show_deleted:!1})}}(this)},w.createElement(j,{placement:"left",title:"Hide deleted",tip:"Assignments are never really deleted.  Click this button so that deleted assignments aren't included at the bottom of the list.  Deleted assignments are always hidden from the list of grades for a student."},"Hide ",e," deleted assignments")):w.createElement(o,{style:W.show_hide_deleted,onClick:function(e){return function(){return e.setState({show_deleted:!0,search:""})}}(this)},w.createElement(j,{placement:"left",title:"Show deleted",tip:"Assignments are not deleted forever even after you delete them.  Click this button to show any deleted assignments at the bottom of the list of assignments.  You can then click on the assignment and click undelete to bring the assignment back."},"Show ",e," deleted assignments"))},yield_adder:function(e){var t;return t={},e.map(function(e){return function(e){if(e.path)return t[e.path]=e.assignment_id}}(this)),function(e){return function(n){return null!=t[n]?e.props.actions.undelete_assignment(t[n]):e.props.actions.add_assignment(n)}}(this)},render:function(){var e,t,n,r,i,o,s;return o=this.compute_assignment_list(),s=o.shown_assignments,t=o.deleted_assignments,i=o.num_omitted,r=o.num_deleted,e=this.yield_adder(t),n=w.createElement(p,{search:this.state.search,search_change:function(e){return function(t){return e.setState({search:t})}}(this),num_omitted:i,project_id:this.props.project_id,items:this.props.all_assignments,add_folders:function(t){return function(t){return t.map(e)}}(this),item_name:"assignment",plural_item_name:"assignments"}),w.createElement(b,{header:n},this.render_assignment_table_header(),this.render_assignments(s),r?this.render_show_deleted(r):void 0)}}}),exports.AssignmentsPanel.Header=N({propTypes:{n:P.number},render:function(){return w.createElement(j,{delayShow:1300,title:"Assignments",tip:"This tab lists all of the assignments associated to your course, along with student grades and status about each assignment.  You can also quickly find assignments by name on the left.   An assignment is a directory in your project, which may contain any files.  Add an assignment to your course by searching for the directory name in the search box on the right."},w.createElement("span",null,w.createElement(m,{name:"share-square-o"})," Assignments ",null!=this.props.n?" ("+this.props.n+")":""))}}),r=N({displayName:"CourseEditor-Assignment",propTypes:{name:P.string.isRequired,assignment:P.object.isRequired,project_id:P.string.isRequired,redux:P.object.isRequired,students:P.object.isRequired,user_map:P.object.isRequired,background:P.string,is_expanded:P.bool},shouldComponentUpdate:function(e,t){return this.state!==t||this.props.assignment!==e.assignment||this.props.students!==e.students||this.props.user_map!==e.user_map||this.props.background!==e.background||this.props.is_expanded!==e.is_expanded},getInitialState:function(){return{confirm_delete:!1}},_due_date:function(){var e;return e=this.props.assignment.get("due_date"),null==e?B.server_time():new Date(e)},render_due:function(){return w.createElement(x,null,w.createElement(c,{xs:1,style:{marginTop:"8px",color:"#666"}},w.createElement(j,{placement:"top",title:"Set the due date",tip:"Set the due date for the assignment.  This changes how the list of assignments is sorted.  Note that you must explicitly click a button to collect student assignments when they are due -- they are not automatically collected on the due date.  You should also tell students when assignments are due (e.g., at the top of the assignment)."},"Due")),w.createElement(c,{xs:11},w.createElement(u,{value:this._due_date(),on_change:this.date_change})))},date_change:function(e){return null==e&&(e=this._due_date()),this.props.redux.getActions(this.props.name).set_due_date(this.props.assignment,null!=e?e.toISOString():void 0)},render_note:function(){return w.createElement(x,{key:"note",style:W.note},w.createElement(c,{xs:2},w.createElement(j,{title:"Notes about this assignment",tip:"Record notes about this assignment here. These notes are only visible to you, not to your students.  Put any instructions to students about assignments in a file in the directory that contains the assignment."},"Private Assignment Notes",w.createElement("br",null),w.createElement("span",{style:{color:"#666"}}))),w.createElement(c,{xs:10},w.createElement(v,{rows:6,placeholder:"Private notes about this assignment (not visible to students)",default_value:this.props.assignment.get("note"),on_save:function(e){return function(t){return e.props.redux.getActions(e.props.name).set_assignment_note(e.props.assignment,t)}}(this)})))},render_more_header:function(){var e,t,n,r,i,o,s,a,l,u,d,p;if(u=this.props.redux.getStore(this.props.name).get_assignment_status(this.props.assignment),null==u)return w.createElement(g,{key:"loading_more"});for(d=[],t={borderBottom:"1px solid grey",paddingBottom:"15px",marginBottom:"15px"},d.push(w.createElement(x,{key:"header3",style:t},w.createElement(c,{md:2},this.render_open_button()),w.createElement(c,{md:10},w.createElement(x,null,w.createElement(c,{md:6,style:{fontSize:"14px"},key:"due"},this.render_due()),w.createElement(c,{md:6,key:"delete"},w.createElement(x,null,w.createElement(c,{md:7},this.render_peer_button()),w.createElement(c,{md:5},w.createElement("span",{className:"pull-right"},this.render_delete_button())))))))),this.state.configure_peer&&d.push(w.createElement(x,{key:"header2-peer",style:t},w.createElement(c,{md:10,mdOffset:2},this.render_configure_peer()))),this.state.confirm_delete&&d.push(w.createElement(x,{key:"header2-delete",style:t},w.createElement(c,{md:10,mdOffset:2},this.render_confirm_delete()))),s=null!=(a=this.props.assignment.get("peer_grade"))?a.get("enabled"):void 0,p=s?2:3,n=[],l=k(s),r=0,i=l.length;r<i;r++)o=l[r],e=this["render_"+o+"_button"](u),null!=e&&("return_graded"===o&&n.push(w.createElement(c,{md:p,key:"filler"})),n.push(w.createElement(c,{md:p,key:o},e)));return d.push(w.createElement(x,{key:"header-control"},w.createElement(c,{md:10,mdOffset:2,key:"buttons"},w.createElement(x,null,n)))),d.push(w.createElement(x,{key:"header2-copy"},w.createElement(c,{md:10,mdOffset:2},this.render_copy_confirms(u)))),d},render_more:function(){return w.createElement(x,{key:"more"},w.createElement(c,{sm:12},w.createElement(b,{header:this.render_more_header()},w.createElement(S,{redux:this.props.redux,name:this.props.name,assignment:this.props.assignment,students:this.props.students,user_map:this.props.user_map}),this.render_note())))},open_assignment_path:function(){return this.props.redux.getProjectActions(this.props.project_id).open_directory(this.props.assignment.get("path"))},render_open_button:function(){return w.createElement(j,{key:"open",title:w.createElement("span",null,w.createElement(m,{name:"folder-open-o"})," Open assignment"),tip:"Open the folder in the current project that contains the original files for this assignment.  Edit files in this folder to create the content that your students will see when they receive an assignment."},w.createElement(o,{onClick:this.open_assignment_path},w.createElement(m,{name:"folder-open-o"})," Open"))},render_assignment_button:function(){var e,t,n;return e=0===(null!=(t=null!=(n=this.props.assignment.get("last_assignment"))?n.size:void 0)?t:0)?"primary":"warning",w.createElement(o,{key:"assign",bsStyle:e,onClick:function(e){return function(){return e.setState({copy_confirm_assignment:!0,copy_confirm:!0})}}(this),disabled:this.state.copy_confirm},w.createElement(j,{title:w.createElement("span",null,"Assign: ",w.createElement(m,{name:"user-secret"})," You ",w.createElement(m,{name:"long-arrow-right"}),"  ",w.createElement(m,{name:"users"})," Students "),tip:"Copy the files for this assignment from this project to all other student projects."},w.createElement(m,{name:"share-square-o"})," Assign..."))},render_copy_confirms:function(e){var t,n,r,i,o,s;for(s=k(null!=(r=this.props.assignment.get("peer_grade"))?r.get("enabled"):void 0),i=[],t=0,n=s.length;t<n;t++)o=s[t],this.state["copy_confirm_"+o]?i.push(this.render_copy_confirm(o,e)):i.push(void 0);return i},render_copy_confirm:function(e,t){return w.createElement("span",{key:"copy_confirm_"+e},0===t[e]?this.render_copy_confirm_to_all(e,t):void 0,0!==t[e]?this.render_copy_confirm_to_all_or_new(e,t):void 0)},render_copy_cancel:function(e){var t;return t=function(t){return function(){var n;return t.setState((n={},n["copy_confirm_"+e]=!1,n["copy_confirm_all_"+e]=!1,n.copy_confirm=!1,n))}}(this),w.createElement(o,{key:"cancel",onClick:t},"Cancel")},copy_assignment:function(e,t){var n,r;switch(n=this.props.redux.getActions(this.props.name),e){case"assignment":n.copy_assignment_to_all_students(this.props.assignment,t);break;case"collect":n.copy_assignment_from_all_students(this.props.assignment,t);break;case"peer_assignment":n.peer_copy_to_all_students(this.props.assignment,t);break;case"peer_collect":n.peer_collect_from_all_students(this.props.assignment,t);break;case"return_graded":n.return_assignment_to_all_students(this.props.assignment,t);break;default:console.log("BUG -- unknown step: "+e)}return this.setState((r={},r["copy_confirm_"+e]=!1,r["copy_confirm_all_"+e]=!1,r.copy_confirm=!1,r))},render_copy_confirm_to_all:function(e,t){var r;return r=t["not_"+e],w.createElement(n,{bsStyle:"warning",key:e+"_confirm_to_all",style:{marginTop:"15px"}},w.createElement("div",{style:{marginBottom:"15px"}},O.capitalize(U(e))," this homework ",q(e)," the ",r," student",r>1?"s":"",F(e,r),"?"),w.createElement(a,null,w.createElement(o,{key:"yes",bsStyle:"primary",onClick:function(t){return function(){return t.copy_assignment(e,!1)}}(this)},"Yes"),this.render_copy_cancel(e)))},copy_confirm_all_caution:function(e){switch(e){case"assignment":return"This will recopy all of the files to them.  CAUTION: if you update a file that a student has also worked on, their work will get copied to a backup file ending in a tilde, or possibly only be available in snapshots.";case"collect":return"This will recollect all of the homework from them.  CAUTION: if you have graded/edited a file that a student has updated, your work will get copied to a backup file ending in a tilde, or possibly only be available in snapshots.";case"return_graded":return"This will rereturn all of the graded files to them.";case"peer_assignment":return"This will recopy all of the files to them.  CAUTION: if there is a file a student has also worked on grading, their work will get copied to a backup file ending in a tilde, or possibly be only available in snapshots.";case"peer_collect":return"This will recollect all of the peer-graded homework from the students.  CAUTION: if you have graded/edited a previously collected file that a student has updated, your work will get copied to a backup file ending in a tilde, or possibly only be available in snapshots."}},render_copy_confirm_overwrite_all:function(e,t){return w.createElement("div",{key:"copy_confirm_overwrite_all",style:{marginTop:"15px"}},w.createElement("div",{style:{marginBottom:"15px"}},this.copy_confirm_all_caution(e)),w.createElement(a,null,w.createElement(o,{key:"all",bsStyle:"danger",onClick:function(t){return function(){return t.copy_assignment(e,!1)}}(this)},"Yes, do it"),this.render_copy_cancel(e)))},render_copy_confirm_to_all_or_new:function(e,t){var r,i;return i=t["not_"+e],r=i+t[e],w.createElement(n,{bsStyle:"warning",key:e+"_confirm_to_all_or_new",style:{marginTop:"15px"}},w.createElement("div",{style:{marginBottom:"15px"}},O.capitalize(U(e))," this homework ",q(e),"..."),w.createElement(a,null,w.createElement(o,{key:"all",bsStyle:"danger",onClick:function(t){return function(){var n;return t.setState((n={},n["copy_confirm_all_"+e]=!0,n.copy_confirm=!0,n))}}(this),disabled:this.state["copy_confirm_all_"+e]},"assignment"===e?"All":"The"," ",r," students",F(e,r),"..."),i?w.createElement(o,{key:"new",bsStyle:"primary",onClick:function(t){return function(){return t.copy_assignment(e,!0)}}(this)},"The ",i," student",i>1?"s":""," not already ",U(e),"ed ",q(e)):void 0,this.render_copy_cancel(e)),this.state["copy_confirm_all_"+e]?this.render_copy_confirm_overwrite_all(e,t):void 0)},render_collect_tip:function(e){return w.createElement("span",{key:"normal"},"Collect an assignment from all of your students.\n(There is currently no way to schedule collection at a specific time; instead, collection happens when you click the button.)")},render_collect_button:function(e){var t;if(0!==e.assignment)return t=e.collect>0?"warning":"primary",w.createElement(o,{key:"collect",onClick:function(e){return function(){return e.setState({copy_confirm_collect:!0,copy_confirm:!0})}}(this),disabled:this.state.copy_confirm,bsStyle:t},w.createElement(j,{title:w.createElement("span",null,"Collect: ",w.createElement(m,{name:"users"})," Students ",w.createElement(m,{name:"long-arrow-right"})," ",w.createElement(m,{name:"user-secret"})," You"),tip:this.render_collect_tip("warning"===t)},w.createElement(m,{name:"share-square-o",rotate:"180"})," Collect..."))},render_peer_assign_tip:function(e){return w.createElement("span",{key:"normal"},"Send copies of collected homework out to all students for peer grading.")},render_peer_assignment_button:function(e){var t;if(null!=e.peer_assignment&&!(e.not_collect+e.not_assignment>0)&&0!==e.collect)return t=0===e.peer_assignment?"primary":"warning",w.createElement(o,{key:"peer-assign",onClick:function(e){return function(){return e.setState({copy_confirm_peer_assignment:!0,copy_confirm:!0})}}(this),disabled:this.state.copy_confirm,bsStyle:t},w.createElement(j,{title:w.createElement("span",null,"Peer Assign: ",w.createElement(m,{name:"users"})," You ",w.createElement(m,{name:"long-arrow-right"})," ",w.createElement(m,{name:"user-secret"})," Students"),tip:this.render_peer_assign_tip("warning"===t)},w.createElement(m,{name:"share-square-o"})," Peer Assign..."))},render_peer_collect_tip:function(e){return w.createElement("span",{key:"normal"},"Collect the peer grading that your students did.")},render_peer_collect_button:function(e){var t;if(null!=e.peer_collect&&0!==e.peer_assignment&&!(e.not_peer_assignment>0))return t=0===e.peer_collect?"primary":"warning",w.createElement(o,{key:"peer-collect",onClick:function(e){return function(){return e.setState({copy_confirm_peer_collect:!0,copy_confirm:!0})}}(this),disabled:this.state.copy_confirm,bsStyle:t},w.createElement(j,{title:w.createElement("span",null,"Peer Collect: ",w.createElement(m,{name:"users"})," Students ",w.createElement(m,{name:"long-arrow-right"})," ",w.createElement(m,{name:"user-secret"})," You"),tip:this.render_peer_collect_tip("warning"===t)},w.createElement(m,{name:"share-square-o",rotate:"180"})," Peer Collect..."))},return_assignment:function(){return this.props.redux.getActions(this.props.name).return_assignment_to_all_students(this.props.assignment)},render_return_graded_button:function(e){var t;if(0!==e.collect&&!(null!=e.peer_collect&&0===e.peer_collect||0===e.not_return_graded&&0===e.return_graded))return t=e.return_graded>0?"warning":"primary",w.createElement(o,{key:"return",onClick:function(e){return function(){return e.setState({copy_confirm_return_graded:!0,copy_confirm:!0})}}(this),disabled:this.state.copy_confirm,bsStyle:t},w.createElement(j,{title:w.createElement("span",null,"Return: ",w.createElement(m,{name:"user-secret"})," You ",w.createElement(m,{name:"long-arrow-right"}),"  ",w.createElement(m,{name:"users"})," Students "),tip:"Copy the graded versions of files for this assignment from this project to all other student projects."},w.createElement(m,{name:"share-square-o"})," Return..."))},delete_assignment:function(){return this.props.redux.getActions(this.props.name).delete_assignment(this.props.assignment),this.setState({confirm_delete:!1})},undelete_assignment:function(){return this.props.redux.getActions(this.props.name).undelete_assignment(this.props.assignment)},render_confirm_delete:function(){return w.createElement(n,{bsStyle:"warning",key:"confirm_delete"},"Are you sure you want to delete this assignment (you can undelete it later)?",w.createElement("br",null)," ",w.createElement("br",null),w.createElement(a,null,w.createElement(o,{key:"yes",onClick:this.delete_assignment,bsStyle:"danger"},w.createElement(m,{name:"trash"})," Delete"),w.createElement(o,{key:"no",onClick:function(e){return function(){return e.setState({confirm_delete:!1})}}(this)},"Cancel")))},render_delete_button:function(){return this.props.assignment.get("deleted")?w.createElement(j,{key:"delete",placement:"left",title:"Undelete assignment",tip:"Make the assignment visible again in the assignment list and in student grade lists."},w.createElement(o,{onClick:this.undelete_assignment},w.createElement(m,{name:"trash-o"})," Undelete")):w.createElement(j,{key:"delete",placement:"left",title:"Delete assignment",tip:"Deleting this assignment removes it from the assignment list and student grade lists, but does not delete any files off of disk.  You can always undelete an assignment later by showing it using the 'show deleted assignments' button."},w.createElement(o,{onClick:function(e){return function(){return e.setState({confirm_delete:!0})}}(this),disabled:this.state.confirm_delete},w.createElement(m,{name:"trash"})," Delete"))},set_peer_grade:function(e){return this.props.redux.getActions(this.props.name).set_peer_grade(this.props.assignment,e)},render_configure_peer_checkbox:function(e){var t;return w.createElement("div",null,w.createElement(l,{checked:null!=(t=e.enabled)&&t,key:"peer_grade_checkbox",ref:"peer_grade_checkbox",onChange:function(e){return function(t){return e.set_peer_grade({enabled:t.target.checked})}}(this),style:{display:"inline-block",verticalAlign:"middle"}}),"Enable Peer Grading")},_peer_due:function(e){return null==e&&(e=this.props.assignment.getIn(["peer_grade","due_date"])),null!=e?new Date(e):O.server_days_ago(-7)},peer_due_change:function(e){var t;return this.set_peer_grade({due_date:null!=(t=this._peer_due(e))?t.toISOString():void 0})},render_configure_peer_due:function(e){var t;return t=w.createElement(j,{placement:"top",title:"Set the due date",tip:"Set the due date for grading this assignment.  Note that you must explicitly click a button to collect graded assignments when -- they are not automatically collected on the due date.  A file is included in the student peer grading assignment telling them when they should finish their grading."},"Due"),w.createElement(_,{label_cols:6,label:t},w.createElement(u,{value:this._peer_due(e.due_date),on_change:this.peer_due_change}))},render_configure_peer_number:function(e){var t,n,r;return r=this.props.redux.getStore(this.props.name),w.createElement(_,{label_cols:6,label:"Number of students who will grade each assignment"},w.createElement(y,{on_change:function(e){return function(t){return e.set_peer_grade({number:t})}}(this),min:1,max:(null!=(t=null!=r?r.num_students():void 0)?t:2)-1,number:null!=(n=e.number)?n:1}))},render_configure_grading_guidelines:function(e){var t;return t=this.props.redux.getStore(this.props.name),w.createElement("div",{style:{marginTop:"10px"}},w.createElement(_,{label_cols:6,label:"Grading guidelines, which will be made available to students in their grading folder in a file GRADING_GUIDE.md.  Tell your students how to grade each problem.  Since this is a markdown file, you might also provide a link to a publicly shared file or directory with guidelines."},w.createElement("div",{style:{background:"white",padding:"10px",border:"1px solid #ccc",borderRadius:"3px"}},w.createElement(v,{rows:16,placeholder:"Enter your grading guidelines for this assignment...",default_value:e.guidelines,on_save:function(e){return function(t){return e.set_peer_grade({guidelines:t})}}(this)}))))},render_configure_peer:function(){var e,t,r;return e=null!=(t=null!=(r=this.props.assignment.get("peer_grade"))?r.toJS():void 0)?t:{},
w.createElement(n,{bsStyle:"warning"},w.createElement("h3",null,w.createElement(m,{name:"users"})," Peer grading"),w.createElement("div",{style:{color:"#666"}},"Use peer grading to randomly (and anonymously) redistribute\ncollected homework to your students, so that they can grade\nit for you."),this.render_configure_peer_checkbox(e),e.enabled?this.render_configure_peer_number(e):void 0,e.enabled?this.render_configure_peer_due(e):void 0,e.enabled?this.render_configure_grading_guidelines(e):void 0,w.createElement(o,{onClick:function(e){return function(){return e.setState({configure_peer:!1})}}(this)},"Close"))},render_peer_button:function(){var e,t;return e=(null!=(t=this.props.assignment.get("peer_grade"))?t.get("enabled"):void 0)?"check-square-o":"square-o",w.createElement(o,{disabled:this.state.configure_peer,onClick:function(e){return function(){return e.setState({configure_peer:!0})}}(this)},w.createElement(m,{name:e})," Peer Grading...")},render_summary_due_date:function(){var e;if(e=this.props.assignment.get("due_date"))return w.createElement("div",{style:{marginTop:"12px"}},"Due ",w.createElement(i,{date:e}))},render_assignment_name:function(){return w.createElement("span",null,O.trunc_middle(this.props.assignment.get("path"),80),this.props.assignment.get("deleted")?w.createElement("b",null," (deleted)"):void 0)},render_assignment_title_link:function(){return w.createElement("a",{href:"",onClick:function(e){return function(t){return t.preventDefault(),e.actions(e.props.name).toggle_item_expansion("assignment",e.props.assignment.get("assignment_id"))}}(this)},w.createElement(m,{style:{marginRight:"10px"},name:this.props.is_expanded?"caret-down":"caret-right"}),this.render_assignment_name())},render_summary_line:function(){return w.createElement(x,{key:"summary",style:{backgroundColor:this.props.background}},w.createElement(c,{md:6},w.createElement("h5",null,this.render_assignment_title_link())),w.createElement(c,{md:6},this.render_summary_due_date()))},render:function(){return w.createElement(x,{style:this.props.is_expanded?W.selected_entry:W.entry},w.createElement(c,{xs:12},this.render_summary_line(),this.props.is_expanded?this.render_more():void 0))}}),S=N({displayName:"CourseEditor-StudentListForAssignment",propTypes:{name:P.string.isRequired,redux:P.object.isRequired,assignment:P.object.isRequired,students:P.object.isRequired,user_map:P.object.isRequired,background:P.string},render_student_info:function(e){var t;return t=this.props.redux.getStore(this.props.name),w.createElement(C,{key:e,title:O.trunc_middle(t.get_student_name(e),40),name:this.props.name,student:e,assignment:this.props.assignment,grade:t.get_grade(this.props.assignment,e),info:t.student_assignment_info(e,this.props.assignment)})},render_students:function(){var e,t,n,r,i,o,s,a;for(s=M.immutable_to_list(this.props.students,"student_id"),s=function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)a=s[e],a.deleted||n.push(a);return n}(),e=0,n=s.length;e<n;e++)a=s[e],o=this.props.user_map.get(a.account_id),null!=o?(a.first_name=o.get("first_name"),a.last_name=o.get("last_name"),a.name=a.first_name+" "+a.last_name,a.sort=(a.last_name+" "+a.first_name).toLowerCase()):null!=a.email_address&&(a.name=a.sort=a.email_address.toLowerCase());for(s.sort(function(e,t){return O.cmp(e.sort,t.sort)}),i=[],t=0,r=s.length;t<r;t++)a=s[t],i.push(this.render_student_info(a.student_id));return i},render:function(){var e;return w.createElement("div",null,w.createElement(E,{key:"header",title:"Student",peer_grade:!!(null!=(e=this.props.assignment.get("peer_grade"))?e.get("enabled"):void 0)}),this.render_students())}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B;C=t(9),A=C.defaults,I=C.required,L=t(19).salvus_client,M=t(12),m=M.React,j=M.rclass,D=M.rtypes,T=t(22),n=T.Alert,i=T.Button,s=T.ButtonToolbar,o=T.ButtonGroup,p=T.Input,_=T.Row,a=T.Col,f=T.Panel,w=T.Table,k=t(798),B=t(799),O=t(187),r=O.BigTime,c=O.FoldersToolbar,N=t(17),l=N.ErrorDisplay,d=N.Icon,x=N.Tip,h=N.MarkdownInput,g=function(){return["handout"]},S=function(e,t){switch(e){case"handout":break;default:return console.warn("BUG! previous_step('"+e+"')")}},z=function(e){switch(e){case"handout":return"to";default:return console.warn("BUG! step_direction('"+e+"')")}},P=function(e){switch(e){case"handout":return"distribute";default:return console.warn("BUG! step_verb('"+e+"')")}},R=function(e,t){switch(e){case"handout":return""}},E=function(e){return"e"===e[e.length-1]?e+"d":e+"ed"},exports.HandoutsPanel=j(function(e){var t,n;return t=e.name,{displayName:"Course-editor-HandoutsPanel",reduxProps:(n={},n[""+t]={expanded_handouts:D.immutable.Set},n),propTypes:{project_id:D.string.isRequired,all_handouts:D.immutable.Map.isRequired,students:D.immutable.Map.isRequired,user_map:D.object.isRequired,actions:D.object.isRequired,store_object:D.object,project_actions:D.object.isRequired},getInitialState:function(){return{show_deleted:!1,search:""}},shouldComponentUpdate:function(e,t){return e.all_handouts!==this.props.all_handouts||e.students!==this.props.students||this.props.expanded_handouts!==e.expanded_handouts||(t.search!==this.state.search||t.show_deleted!==this.state.show_deleted)},compute_handouts_list:function(){var e,t,n,r,i,o;return t=k.immutable_to_list(this.props.all_handouts,"handout_id"),i=k.compute_match_list({list:t,search_key:"path",search:this.state.search.trim()}),t=i.list,r=i.num_omitted,o=k.order_list({list:t,compare_function:function(e){return function(e,t){var n,r;return C.cmp(null!=(n=e.path)?n.toLowerCase():void 0,null!=(r=t.path)?r.toLowerCase():void 0)}}(this),include_deleted:this.state.show_deleted}),t=o.list,e=o.deleted,n=o.num_deleted,{shown_handouts:t,deleted_handouts:e,num_omitted:r,num_deleted:n}},render_show_deleted_button:function(e){return this.state.show_deleted?m.createElement(i,{style:B.show_hide_deleted,onClick:function(e){return function(){return e.setState({show_deleted:!1})}}(this)},m.createElement(x,{placement:"left",title:"Hide deleted",tip:"Handouts are never really deleted.  Click this button so that deleted handouts aren't included at the bottom of the list."},"Hide ",e," deleted handouts")):m.createElement(i,{style:B.show_hide_deleted,onClick:function(e){return function(){return e.setState({show_deleted:!0,search:""})}}(this)},m.createElement(x,{placement:"left",title:"Show deleted",tip:"Handouts are not deleted forever even after you delete them.  Click this button to show any deleted handouts at the bottom of the list of handouts.  You can then click on the handout and click undelete to bring the handout back."},"Show ",e," deleted handouts"))},yield_adder:function(e){var t;return t={},e.map(function(e){return function(e){if(e.path)return t[e.path]=e.handout_id}}(this)),function(e){return function(n){return null!=t[n]?e.props.actions.undelete_handout(t[n]):e.props.actions.add_handout(n)}}(this)},render:function(){var e,t,n,r,i,o,s,a,l;return a=this.compute_handouts_list(),l=a.shown_handouts,t=a.deleted_handouts,s=a.num_omitted,o=a.num_deleted,e=this.yield_adder(t),r=m.createElement(c,{search:this.state.search,search_change:function(e){return function(t){return e.setState({search:t})}}(this),num_omitted:s,project_id:this.props.project_id,items:this.props.all_handouts,add_folders:function(t){return function(t){return t.map(e)}}(this),item_name:"handout",plural_item_name:"handouts"}),m.createElement(f,{header:r},function(){var e,t,r;for(r=[],i=e=0,t=l.length;e<t;i=++e)n=l[i],r.push(m.createElement(u,{backgroundColor:i%2===0?"#eee":void 0,key:n.handout_id,handout:this.props.all_handouts.get(n.handout_id),project_id:this.props.project_id,students:this.props.students,user_map:this.props.user_map,actions:this.props.actions,store_object:this.props.store_object,open_directory:this.props.project_actions.open_directory,is_expanded:this.props.expanded_handouts.has(n.handout_id),name:this.props.name}));return r}.call(this),o>0?this.render_show_deleted_button(o):void 0)}}}),exports.HandoutsPanel.Header=j({propTypes:{n:D.number},render:function(){return m.createElement(x,{delayShow:1300,title:"Handouts",tip:"This tab lists all of the handouts associated with your course."},m.createElement("span",null,m.createElement(d,{name:"files-o"})," Handouts ",null!=this.props.n?" ("+this.props.n+")":""))}}),u=j({propTypes:{name:D.string,handout:D.object,backgroundColor:D.string,store_object:D.object,actions:D.object,open_directory:D.func,is_expanded:D.bool},getInitialState:function(){return{confirm_delete:!1}},open_handout_path:function(e){return e.preventDefault(),this.props.open_directory(this.props.handout.get("path"))},copy_handout_to_all:function(e,t){return this.props.actions.copy_handout_to_all_students(this.props.handout,t)},render_more_header:function(){return m.createElement("div",null,m.createElement("div",{style:{fontSize:"15pt",marginBottom:"5px"}},this.props.handout.get("path")),m.createElement(i,{onClick:this.open_handout_path},m.createElement(d,{name:"folder-open-o"})," Edit Handout"))},render_handout_notes:function(){return m.createElement(_,{key:"note",style:B.note},m.createElement(a,{xs:2},m.createElement(x,{title:"Notes about this handout",tip:"Record notes about this handout here. These notes are only visible to you, not to your students.  Put any instructions to students about handouts in a file in the directory that contains the handout."},"Private Handout Notes",m.createElement("br",null),m.createElement("span",{style:{color:"#666"}}))),m.createElement(a,{xs:10},m.createElement(h,{rows:6,placeholder:"Private notes about this handout (not visible to students)",default_value:this.props.handout.get("note"),on_save:function(e){return function(t){return e.props.actions.set_handout_note(e.props.handout,t)}}(this)})))},render_copy_all:function(e){var t,n,r,i,o;for(o=g(),r=[],t=0,n=o.length;t<n;t++)i=o[t],this.state["copy_confirm_"+i]?r.push(this.render_copy_confirm(i,e)):r.push(void 0);return r},render_copy_confirm:function(e,t){return m.createElement("span",{key:"copy_confirm_"+e},0===t[e]?this.render_copy_confirm_to_all(e,t):void 0,0!==t[e]?this.render_copy_confirm_to_all_or_new(e,t):void 0)},render_copy_cancel:function(e){var t;return t=function(t){return function(){var n;return t.setState((n={},n["copy_confirm_"+e]=!1,n["copy_confirm_all_"+e]=!1,n.copy_confirm=!1,n))}}(this),m.createElement(i,{key:"cancel",onClick:t},"Cancel")},copy_handout:function(e,t){var n;switch(e){case"handout":this.props.actions.copy_handout_to_all_students(this.props.handout,t);break;default:console.log("BUG -- unknown step: "+e)}return this.setState((n={},n["copy_confirm_"+e]=!1,n["copy_confirm_all_"+e]=!1,n.copy_confirm=!1,n))},render_copy_confirm_to_all:function(e,t){var r;return r=t["not_"+e],m.createElement(n,{bsStyle:"warning",key:e+"_confirm_to_all",style:{marginTop:"15px"}},m.createElement("div",{style:{marginBottom:"15px"}},C.capitalize(P(e))," this handout ",z(e)," the ",r," student",r>1?"s":"",R(e,r),"?"),m.createElement(s,null,m.createElement(i,{key:"yes",bsStyle:"primary",onClick:function(t){return function(){return t.copy_handout(e,!1)}}(this)},"Yes"),this.render_copy_cancel(e)))},copy_confirm_all_caution:function(e){switch(e){case"handout":return"This will recopy all of the files to them.  CAUTION: if you update a file that a student has also worked on, their work will get copied to a backup file ending in a tilde, or possibly only be available in snapshots."}},render_copy_confirm_overwrite_all:function(e,t){return m.createElement("div",{key:"copy_confirm_overwrite_all",style:{marginTop:"15px"}},m.createElement("div",{style:{marginBottom:"15px"}},this.copy_confirm_all_caution(e)),m.createElement(s,null,m.createElement(i,{key:"all",bsStyle:"danger",onClick:function(t){return function(){return t.copy_handout(e,!1)}}(this)},"Yes, do it"),this.render_copy_cancel(e)))},render_copy_confirm_to_all_or_new:function(e,t){var r,o;return o=t["not_"+e],r=o+t[e],m.createElement(n,{bsStyle:"warning",key:e+"_confirm_to_all_or_new",style:{marginTop:"15px"}},m.createElement("div",{style:{marginBottom:"15px"}},C.capitalize(P(e))," this handout ",z(e),"..."),m.createElement(s,null,m.createElement(i,{key:"all",bsStyle:"danger",onClick:function(t){return function(){var n;return t.setState((n={},n["copy_confirm_all_"+e]=!0,n.copy_confirm=!0,n))}}(this),disabled:this.state["copy_confirm_all_"+e]},"handout"===e?"All":"The"," ",r," students",R(e,r),"..."),o?m.createElement(i,{key:"new",bsStyle:"primary",onClick:function(t){return function(){return t.copy_handout(e,!0)}}(this)},"The ",o," student",o>1?"s":""," not already ",E(P(e))," ",z(e)):void 0,this.render_copy_cancel(e)),this.state["copy_confirm_all_"+e]?this.render_copy_confirm_overwrite_all(e,t):void 0)},render_handout_button:function(e){var t;return t=0===e?"primary":"warning",m.createElement(i,{key:"handout",bsStyle:t,onClick:function(e){return function(){return e.setState({copy_confirm_handout:!0,copy_confirm:!0})}}(this),disabled:this.state.copy_confirm,style:this.outside_button_style},m.createElement(x,{title:m.createElement("span",null,"Handout: ",m.createElement(d,{name:"user-secret"})," You ",m.createElement(d,{name:"long-arrow-right"}),"  ",m.createElement(d,{name:"users"})," Students "),tip:"Copy the files for this handout from this project to all other student projects."},m.createElement(d,{name:"share-square-o"})," Distribute..."))},delete_handout:function(){return this.props.actions.delete_handout(this.props.handout),this.setState({confirm_delete:!1})},undelete_handout:function(){return this.props.actions.undelete_handout(this.props.handout)},render_confirm_delete:function(){return m.createElement(n,{bsStyle:"warning",key:"confirm_delete"},"Are you sure you want to delete this handout (you can undelete it later)?",m.createElement("br",null)," ",m.createElement("br",null),m.createElement(s,null,m.createElement(i,{key:"yes",onClick:this.delete_handout,bsStyle:"danger"},m.createElement(d,{name:"trash"})," Delete"),m.createElement(i,{key:"no",onClick:function(e){return function(){return e.setState({confirm_delete:!1})}}(this)},"Cancel")))},render_delete_button:function(){return this.props.handout.get("deleted")?m.createElement(x,{key:"delete",placement:"left",title:"Undelete handout",tip:"Make the handout visible again in the handout list and in student grade lists."},m.createElement(i,{onClick:this.undelete_handout,style:this.outside_button_style},m.createElement(d,{name:"trash-o"})," Undelete")):m.createElement(x,{key:"delete",placement:"left",title:"Delete handout",tip:"Deleting this handout removes it from the handout list and student grade lists, but does not delete any files off of disk.  You can always undelete an handout later by showing it using the 'show deleted handouts' button."},m.createElement(i,{onClick:function(e){return function(){return e.setState({confirm_delete:!0})}}(this),disabled:this.state.confirm_delete,style:this.outside_button_style},m.createElement(d,{name:"trash"})," Delete..."))},render_more:function(){return m.createElement(_,{key:"more"},m.createElement(a,{sm:12},m.createElement(f,{header:this.render_more_header()},m.createElement(b,{handout:this.props.handout,students:this.props.students,user_map:this.props.user_map,store_object:this.props.store_object,actions:this.props.actions}),this.render_handout_notes())))},outside_button_style:{margin:"4px",paddingTop:"6px",paddingBottom:"4px"},render:function(){var e;return e=this.props.store_object.get_handout_status(this.props.handout),m.createElement(_,{style:this.props.is_expanded?B.selected_entry:B.entry},m.createElement(a,{xs:12},m.createElement(_,{key:"summary",style:{backgroundColor:this.props.backgroundColor}},m.createElement(a,{md:2,style:{paddingRight:"0px"}},m.createElement("h5",null,m.createElement("a",{href:"",onClick:function(e){return function(t){return t.preventDefault(),e.actions(e.props.name).toggle_item_expansion("handout",e.props.handout.get("handout_id"))}}(this)},m.createElement(d,{style:{marginRight:"10px",float:"left"},name:this.props.is_expanded?"caret-down":"caret-right"}),m.createElement("div",null,C.trunc_middle(this.props.handout.get("path"),24),this.props.handout.get("deleted")?m.createElement("b",null," (deleted)"):void 0)))),m.createElement(a,{md:6},m.createElement(_,{style:{marginLeft:"8px"}},this.render_handout_button(e.handout),m.createElement("span",{style:{color:"#666",marginLeft:"5px"}},"(",e.handout,"/",e.handout+e.not_handout," received)")),m.createElement(_,{style:{marginLeft:"8px"}},this.render_copy_all(e))),m.createElement(a,{md:4},m.createElement(_,null,m.createElement("span",{className:"pull-right"},this.render_delete_button())),m.createElement(_,null,this.state.confirm_delete?this.render_confirm_delete():void 0))),this.props.is_expanded?this.render_more():void 0))}}),b=j({propTypes:{user_map:D.object,students:D.object,handout:D.object,store_object:D.object,actions:D.object},render_students:function(){var e,t,n,r,i,o,s,a;for(s=k.immutable_to_list(this.props.students,"student_id"),s=function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)a=s[e],a.deleted||n.push(a);return n}(),e=0,n=s.length;e<n;e++)a=s[e],o=this.props.user_map.get(a.account_id),null!=o?(a.first_name=o.get("first_name"),a.last_name=o.get("last_name"),a.name=a.first_name+" "+a.last_name,a.sort=(a.last_name+" "+a.first_name).toLowerCase()):null!=a.email_address&&(a.name=a.sort=a.email_address.toLowerCase());for(s.sort(function(e,t){return C.cmp(e.sort,t.sort)}),i=[],t=0,r=s.length;t<r;t++)a=s[t],i.push(this.render_student_info(a.student_id,a));return i},render_student_info:function(e,t){return m.createElement(v,{key:e,actions:this.props.actions,info:this.props.store_object.student_handout_info(e,this.props.handout),title:C.trunc_middle(this.props.store_object.get_student_name(e),40),student:e,handout:this.props.handout})},render:function(){return m.createElement("div",null,m.createElement(y,{key:"header",title:"Student"}),this.render_students())}}),y=j({displayName:"CourseEditor-StudentHandoutInfoHeader",propTypes:{title:D.string.isRequired},render_col:function(e,t,n){var r,i;switch(t){case"last_handout":i="Distribute to Student",r="This column gives the status whether a handout was received by a student and lets you copy the handout to one student at a time."}return m.createElement(a,{md:n,key:t},m.createElement(x,{title:i,tip:r},m.createElement("b",null,e,". ",i)))},render_headers:function(){var e;return e=12,m.createElement(_,null,this.render_col(1,"last_handout",e))},render:function(){return m.createElement(_,{style:{borderBottom:"2px solid #aaa"}},m.createElement(a,{md:2,key:"title"},m.createElement(x,{title:this.props.title,tip:"Handout"===this.props.title?"This column gives the directory name of the handout.":"This column gives the name of the student."},m.createElement("b",null,this.props.title))),m.createElement(a,{md:10,key:"rest"},this.render_headers()))}}),v=j({displayName:"CourseEditor-StudentHandoutInfo",propTypes:{actions:D.object.isRequired,info:D.object.isRequired,title:D.oneOfType([D.string,D.object]).isRequired,student:D.oneOfType([D.string,D.object]).isRequired,handout:D.oneOfType([D.string,D.object]).isRequired},getInitialState:function(){return{}},open:function(e,t){return this.props.actions.open_handout(e,t)},copy:function(e,t){return this.props.actions.copy_handout_to_student(e,t)},stop:function(e,t){return this.props.actions.stop_copying_handout(e,t)},render_last_time:function(e,t){return m.createElement("div",{key:"time",style:{color:"#666"}},"(",m.createElement(r,{date:t}),")")},render_open_recopy_confirm:function(e,t,n,r,o){var s,a;return s="recopy_"+e,this.state[s]?(a=[],a.push(m.createElement(i,{key:"copy_confirm",bsStyle:"danger",onClick:function(e){return function(){var t;return e.setState((t={},t[""+s]=!1,t)),n()}}(this)},m.createElement(d,{name:"share-square-o"})," Yes, ",e.toLowerCase()," again")),a.push(m.createElement(i,{key:"copy_cancel",onClick:function(e){return function(){var t;return e.setState((t={},t[""+s]=!1,t))}}(this)},"Cancel")),a):m.createElement(i,{key:"copy",bsStyle:"warning",onClick:function(e){return function(){var t;return e.setState((t={},t[""+s]=!0,t))}}(this)},m.createElement(x,{title:e,tip:m.createElement("span",null,r)},m.createElement(d,{name:"share-square-o"})," ",e,"..."))},render_open_recopy:function(e,t,n,r,o){return m.createElement(s,{key:"open_recopy"},this.render_open_recopy_confirm(e,t,n,r,o),m.createElement(i,{key:"open",onClick:t},m.createElement(x,{title:"Open handout",tip:o},m.createElement(d,{name:"folder-open-o"})," Open")))},render_open_copying:function(e,t,n){return m.createElement(o,{key:"open_copying"},m.createElement(i,{key:"copy",bsStyle:"success",disabled:!0},m.createElement(d,{name:"circle-o-notch",spin:!0})," Working..."),m.createElement(i,{key:"stop",bsStyle:"danger",onClick:n},m.createElement(d,{name:"times"})),m.createElement(i,{key:"open",onClick:t},m.createElement(d,{name:"folder-open-o"})," Open"))},render_copy:function(e,t,n){return m.createElement(x,{key:"copy",title:e,tip:n},m.createElement(i,{onClick:t,bsStyle:"primary"},m.createElement(d,{name:"share-square-o"})," ",e))},render_error:function(e,t){return"string"!=typeof t&&(t=C.to_json(t)),t=t.indexOf("No such file or directory")!==-1?"Somebody may have moved the folder that should have contained the handout.\n"+t:"Try to "+e.toLowerCase()+" again:\n"+t,m.createElement(l,{key:"error",error:t,style:{maxHeight:"140px",overflow:"auto"}})},render_last:function(e,t,n,r,i,o){var s,a,l,c;return a=function(e){return function(){return e.open(n.handout_id,n.student_id)}}(this),s=function(e){return function(){return e.copy(n.handout_id,n.student_id)}}(this),l=function(e){return function(){return e.stop(n.handout_id,n.student_id)}}(this),null==t&&(t={}),c=[],r&&(t.start?c.push(this.render_open_copying(e,a,l)):t.time?c.push(this.render_open_recopy(e,a,s,i,o)):c.push(this.render_copy(e,s,i))),t.time&&c.push(this.render_last_time(e,t.time)),t.error&&c.push(this.render_error(e,t.error)),c},render:function(){var e;return e=12,m.createElement(_,{style:{borderTop:"1px solid #aaa",paddingTop:"5px",paddingBottom:"5px"}},m.createElement(a,{md:2,key:"title"},this.props.title),m.createElement(a,{md:10,key:"rest"},m.createElement(_,null,m.createElement(a,{md:e,key:"last_handout"},this.render_last("Distribute",this.props.info.status,this.props.info,!0,"Copy the handout from your project to this student's project.","Open the student's copy of this handout directly in their project.  You will be able to see them type, chat with them, answer questions, etc.")))))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te;B=t(26),F=t(9),K=t(12),k=K.React,A=K.ReactDOM,W=K.rclass,Q=K.rtypes,C=K.Redux,n=K.Actions,I=K.Store,G=t(22),i=G.Alert,s=G.Button,l=G.ButtonToolbar,a=G.ButtonGroup,v=G.Input,E=G.Row,c=G.Col,w=G.Panel,x=G.Popover,z=G.Tabs,L=G.Tab,P=G.Well,Y=t(17),r=Y.ActivityDisplay,f=Y.ErrorDisplay,_=Y.Help,g=Y.Icon,y=Y.Loading,j=Y.SaveButton,M=Y.SelectorInput,N=Y.Space,R=Y.TimeAgo,b=Y.NumberInput,p=t(915).CourseStore,u=t(914).CourseActions,h=t(916),D=t(862).StudentsPanel,o=t(857).AssignmentsPanel,m=t(858).HandoutsPanel,T=t(860).SettingsPanel,O=t(861).SharedProjectPanel,J=t(187),S=J.STEPS,U=J.previous_step,Z=J.step_direction,ee=J.step_verb,X=J.step_ready,H=function(e,t){return"editor-"+e+"-"+t},te={},q=function(e,t,n){var r,i,o,s,a;if(a=H(n,e),i=function(){return t.getActions(a)},null==i())return o={course_filename:e,course_project_id:n,expanded_students:B.Set(),expanded_assignments:B.Set(),expanded_handouts:B.Set(),active_student_sort:{column_name:"last_name",is_descending:!1},active_assignment_sort:{column_name:"dir_name",is_descending:!1}},r=t.createActions(a,u),s=t.createStore(a,p,o),r.syncdb=te[a]=h.create_sync_db(t,r,s),a},V=function(e,t,n){var r,i,o;if(o=H(n,e),r=t.getActions(o),null!=r)return t.getStore("projects").removeListener("change",r.handle_projects_store_update),t.removeStore(o),t.removeActions(o),null!=(i=te[o])&&i.close(),delete te[o],o},d=W(function(e){var t,n;return t=e.name,{displayName:"CourseEditor-Main",reduxProps:(n={},n[""+t]={error:Q.string,tab:Q.string,activity:Q.object,students:Q.immutable,assignments:Q.immutable,handouts:Q.immutable,settings:Q.immutable,unsaved:Q.bool},n.users={user_map:Q.immutable},n.projects={project_map:Q.immutable},n),propTypes:{redux:Q.object,name:Q.string.isRequired,project_id:Q.string.isRequired,path:Q.string.isRequired},render_activity:function(){return k.createElement(r,{activity:F.values(this.props.activity),trunc:80,on_clear:function(e){return function(){return e.props.redux.getActions(e.props.name).clear_activity()}}(this)})},render_error:function(){return k.createElement(f,{error:this.props.error,onClose:function(e){return function(){return e.props.redux.getActions(e.props.name).set_error("")}}(this)})},render_save_button:function(){return k.createElement(j,{saving:this.props.saving,unsaved:!0,on_click:function(e){return function(){return e.props.redux.getActions(e.props.name).save()}}(this)})},show_files:function(){var e;return null!=(e=this.props.redux)?e.getProjectActions(this.props.project_id).set_active_tab("files"):void 0},render_files_button:function(){return k.createElement(s,{className:"smc-small-only",style:{float:"right",marginLeft:"15px"},onClick:this.show_files},k.createElement(g,{name:"toggle-up"})," Files")},render_title:function(){var e;return k.createElement("h4",{className:"smc-big-only",style:{float:"right",marginTop:"5px",marginBottom:"0px"}},F.trunc(null!=(e=this.props.settings)?e.get("title"):void 0,40))},show_timetravel:function(){var e;return null!=(e=this.props.redux)?e.getProjectActions(this.props.project_id).open_file({path:F.history_path(this.props.path),foreground:!0,foreground_project:!0}):void 0},save_to_disk:function(){var e;return null!=(e=this.props.redux)?e.getActions(this.props.name).save():void 0},render_save_timetravel:function(){return k.createElement("div",{style:{float:"right",marginRight:"15px"}},k.createElement(a,null,k.createElement(s,{onClick:this.save_to_disk,bsStyle:"success",disabled:!this.props.unsaved},k.createElement(g,{name:"save"}),"    Save"),k.createElement(s,{onClick:this.show_timetravel,bsStyle:"info"},k.createElement(g,{name:"history"})," TimeTravel")))},num_students:function(){var e;return null!=(e=this.props.redux.getStore(this.props.name))?e.num_students():void 0},num_assignments:function(){var e;return null!=(e=this.props.redux.getStore(this.props.name))?e.num_assignments():void 0},num_handouts:function(){var e;return null!=(e=this.props.redux.getStore(this.props.name))?e.num_handouts():void 0},render_students:function(){return null!=this.props.redux&&null!=this.props.students&&null!=this.props.user_map&&null!=this.props.project_map?k.createElement(D,{redux:this.props.redux,students:this.props.students,name:this.props.name,project_id:this.props.project_id,user_map:this.props.user_map,project_map:this.props.project_map,assignments:this.props.assignments}):k.createElement(y,null)},render_assignments:function(){return null!=this.props.redux&&null!=this.props.assignments&&null!=this.props.user_map&&null!=this.props.students?k.createElement(o,{actions:this.props.redux.getActions(this.props.name),redux:this.props.redux,all_assignments:this.props.assignments,name:this.props.name,project_id:this.props.project_id,user_map:this.props.user_map,students:this.props.students}):k.createElement(y,null)},render_handouts:function(){return null!=this.props.redux&&null!=this.props.assignments&&null!=this.props.user_map&&null!=this.props.students?k.createElement(m,{actions:this.props.redux.getActions(this.props.name),all_handouts:this.props.handouts,project_id:this.props.project_id,user_map:this.props.user_map,students:this.props.students,store_object:this.props.redux.getStore(this.props.name),project_actions:this.props.redux.getProjectActions(this.props.project_id),name:this.props.name}):k.createElement(y,null)},render_settings:function(){return null!=this.props.redux&&null!=this.props.settings?k.createElement(T,{redux:this.props.redux,settings:this.props.settings,name:this.props.name,project_id:this.props.project_id,path:this.props.path,project_map:this.props.project_map}):k.createElement(y,null)},render_shared_project:function(){var e;return null!=this.props.redux&&null!=this.props.settings?k.createElement(O,{redux:this.props.redux,name:this.props.name,shared_project_id:null!=(e=this.props.settings)?e.get("shared_project_id"):void 0}):k.createElement(y,null)},render:function(){var e;return k.createElement("div",{style:{padding:"7px 7px 7px 7px",borderTop:"1px solid rgb(170, 170, 170)"}},this.props.show_save_button?this.render_save_button():void 0,this.props.error?this.render_error():void 0,null!=this.props.activity?this.render_activity():void 0,this.render_files_button(),this.render_title(),this.render_save_timetravel(),k.createElement(z,{id:"course-tabs",animation:!1,activeKey:this.props.tab,onSelect:function(e){return function(t){var n;return null!=(n=e.props.redux)?n.getActions(e.props.name).set_tab(t):void 0}}(this)},k.createElement(L,{eventKey:"students",title:k.createElement(D.Header,{n:this.num_students()})},this.render_students()),k.createElement(L,{eventKey:"assignments",title:k.createElement(o.Header,{n:this.num_assignments()})},this.render_assignments()),k.createElement(L,{eventKey:"handouts",title:k.createElement(m.Header,{n:this.num_handouts()})},this.render_handouts()),k.createElement(L,{eventKey:"settings",title:k.createElement(T.Header,null)},k.createElement("div",{style:{marginTop:"1em"}}),this.render_settings()),k.createElement(L,{eventKey:"shared_project",title:k.createElement(O.Header,{project_exists:!!(null!=(e=this.props.settings)?e.get("shared_project_id"):void 0)})},k.createElement("div",{style:{marginTop:"1em"}}),this.render_shared_project())))}}}),t(83).register_file_editor({ext:"course",icon:"graduation-cap",init:q,component:d,remove:V})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P;M=t(26),T=t(9),j=T.defaults,L=T.required,R=t(19).salvus_client,P=t(24),N=t(12),v=N.React,O=N.rclass,z=N.rtypes,y=N.ReactDOM,I=t(22),n=I.Alert,r=I.Button,o=I.ButtonToolbar,i=I.ButtonGroup,b=I.Row,l=I.Col,g=I.Panel,S=I.Well,u=I.FormGroup,c=I.FormControl,a=I.Checkbox,D=t(17),s=D.Calendar,d=D.Icon,p=D.LabeledRow,h=D.Loading,f=D.MarkdownInput,m=D.NoUpgrades,w=D.Space,k=D.TextInput,A=D.TimeAgo,C=D.Tip,E=D.UPGRADE_ERROR_STYLE,_=t(24).PROJECT_UPGRADES,x=O(function(e){var t,i;return t=e.name,{displayName:"CourseEditorSettings-StudentProjectsStartStopPanel",reduxProps:(i={},i[""+t]={action_all_projects_state:z.string},i),propTypes:{num_running_projects:z.number,num_students:z.number},getDefaultProps:function(){return{action_all_projects_state:"any"}},getInitialState:function(){return{confirm_stop_all_projects:!1,confirm_start_all_projects:!1}},render_in_progress_action:function(){var e,t;switch(t=this.props.action_all_projects_state){case"stopping":if(0===this.props.num_running_projects)return;e="warning";break;default:if(this.props.num_running_projects===this.props.num_students)return;e="info"}return v.createElement(n,{bsStyle:e},T.capitalize(t)," all projects... ",v.createElement(d,{name:"circle-o-notch",spin:!0}))},render_confirm_stop_all_projects:function(){return v.createElement(n,{bsStyle:"warning"},"Are you sure you want to stop all student projects (this might be disruptive)?",v.createElement("br",null),v.createElement("br",null),v.createElement(o,null,v.createElement(r,{bsStyle:"warning",onClick:function(e){return function(){return e.setState({confirm_stop_all_projects:!1}),e.actions(e.props.name).action_all_student_projects("stop")}}(this)},v.createElement(d,{name:"hand-stop-o"})," Stop all"),v.createElement(r,{onClick:function(e){return function(){return e.setState({confirm_stop_all_projects:!1})}}(this)},"Cancel")))},render_confirm_start_all_projects:function(){
return v.createElement(n,{bsStyle:"info"},"Are you sure you want to start all student projects?  This will ensure the projects are already running when the students\nopen them.",v.createElement("br",null),v.createElement("br",null),v.createElement(o,null,v.createElement(r,{bsStyle:"primary",onClick:function(e){return function(){return e.setState({confirm_start_all_projects:!1}),e.actions(e.props.name).action_all_student_projects("start")}}(this)},v.createElement(d,{name:"flash"})," Start all"),v.createElement(r,{onClick:function(e){return function(){return e.setState({confirm_start_all_projects:!1})}}(this)},"Cancel")))},render:function(){var e,t;return t=this.props.num_running_projects,e=this.props.num_students,v.createElement(g,{header:v.createElement("h4",null,v.createElement(d,{name:"flash"})," Student projects control")},v.createElement(b,null,v.createElement(l,{md:9},t," of ",e," student projects currently running.")),v.createElement(b,{style:{marginTop:"10px"}},v.createElement(l,{md:12},v.createElement(o,null,v.createElement(r,{onClick:function(e){return function(){return e.setState({confirm_start_all_projects:!0})}}(this),disabled:0===e||e===t||this.state.confirm_start_all_projects||"starting"===this.props.action_all_projects_state},v.createElement(d,{name:"flash"})," Start all..."),v.createElement(r,{onClick:function(e){return function(){return e.setState({confirm_stop_all_projects:!0})}}(this),disabled:0===e||0===t||this.state.confirm_stop_all_projects||"stopping"===this.props.action_all_projects_state},v.createElement(d,{name:"hand-stop-o"})," Stop all...")))),v.createElement(b,{style:{marginTop:"10px"}},v.createElement(l,{md:12},this.state.confirm_start_all_projects?this.render_confirm_start_all_projects():void 0,this.state.confirm_stop_all_projects?this.render_confirm_stop_all_projects():void 0,"any"!==this.props.action_all_projects_state?this.render_in_progress_action():void 0)),v.createElement("hr",null),v.createElement("span",{style:{color:"#666"}},"Start all projects associated with this course so they are immediately ready for your students to use. For example, you might do this before a computer lab.  You can also stop all projects in order to ensure that they do not waste resources or are properly upgraded when next used by students."))}}}),exports.SettingsPanel=O({displayName:"CourseEditorSettings",propTypes:{redux:z.object.isRequired,name:z.string.isRequired,path:z.string.isRequired,project_id:z.string.isRequired,settings:z.immutable.Map.isRequired,project_map:z.immutable.Map.isRequired},getInitialState:function(){return{delete_student_projects_confirm:!1,upgrade_quotas:!1,show_students_pay_dialog:!1}},render_title_desc_header:function(){return v.createElement("h4",null,v.createElement(d,{name:"header"}),"   Title and description")},render_title_description:function(){var e;return null==this.props.settings?v.createElement(h,null):v.createElement(g,{header:this.render_title_desc_header()},v.createElement(p,{label:"Title"},v.createElement(k,{text:null!=(e=this.props.settings.get("title"))?e:"",on_change:function(e){return function(t){return e.actions(e.props.name).set_title(t)}}(this)})),v.createElement(p,{label:"Description"},v.createElement(f,{rows:6,type:"textarea",default_value:this.props.settings.get("description"),on_save:function(e){return function(t){return e.actions(e.props.name).set_description(t)}}(this)})),v.createElement("hr",null),v.createElement("span",{style:{color:"#666"}},"Set the course title and description here.\nWhen you change the title or description, the corresponding\ntitle and description of each student project will be updated.\nThe description is set to this description, and the title\nis set to the student name followed by this title.\nUse the description to provide additional information about\nthe course, e.g., a link to the main course website."))},render_grades_header:function(){return v.createElement("h4",null,v.createElement(d,{name:"table"}),"  Export grades")},path:function(e){var t,n;return n=this.props.path,t=n.lastIndexOf("."),n.slice(0,t)+"."+e},open_file:function(e){return this.actions({project_id:this.props.project_id}).open_file({path:e,foreground:!0})},write_file:function(e,t){var n,r;return n=this.actions(this.props.name),r=n.set_activity({desc:"Writing "+e}),R.write_text_file_to_project({project_id:this.props.project_id,path:e,content:t,cb:function(t){return function(i){return n.set_activity({id:r}),i?n.set_error("Error writing '"+e+"' -- '"+i+"'"):t.open_file(e)}}(this)})},save_grades_to_csv:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f;for(d=this.props.redux.getStore(this.props.name),t=d.get_sorted_assignments(),h=d.get_sorted_students(),f=R.server_time().toISOString(),n="# Course '"+this.props.settings.get("title")+"'\n",n+="# exported "+f+"\n",n+="Name,Email,",n+=function(){var n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push('"'+e.get("path")+'"');return i}().join(",")+"\n",c=d.get_sorted_students(),o=0,s=c.length;o<s;o++)p=c[o],i=function(){var n,r,i,o;for(o=[],n=0,r=t.length;n<r;n++)e=t[n],o.push('"'+(null!=(i=d.get_grade(e,p))?i:"")+'"');return o}().join(","),l='"'+d.get_student_name(p)+'"',r='"'+(null!=(u=d.get_student_email(p))?u:"")+'"',a=[l,r,i].join(","),n+=a+"\n";return this.write_file(this.path("csv"),n)},save_grades_to_py:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h;for(h=R.server_time().toISOString(),u=this.props.redux.getStore(this.props.name),t=u.get_sorted_assignments(),p=u.get_sorted_students(),n="course = '"+this.props.settings.get("title")+"'\n",n+="exported = '"+h+"'\n",n+="assignments = [",n+=function(){var n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push("'"+e.get("path")+"'");return i}().join(",")+"]\n",n+="students = [\n",c=u.get_sorted_students(),o=0,s=c.length;o<s;o++)d=c[o],i=function(){var n,r,i,o;for(o=[],n=0,r=t.length;n<r;n++)e=t[n],o.push("'"+(null!=(i=u.get_grade(e,d))?i:"")+"'");return o}().join(","),l=u.get_student_name(d),r=u.get_student_email(d),r=null!=r?"'"+r+"'":"None",a="    {'name':'"+l+"', 'email':"+r+", 'grades':["+i+"]},",n+=a+"\n";return n+="]\n",this.write_file(this.path("py"),n)},render_save_grades:function(){return v.createElement(g,{header:this.render_grades_header()},v.createElement("div",{style:{marginBottom:"10px"}},"Save grades to... "),v.createElement(o,null,v.createElement(r,{onClick:this.save_grades_to_csv},v.createElement(d,{name:"file-text-o"})," CSV file..."),v.createElement(r,{onClick:this.save_grades_to_py},v.createElement(d,{name:"file-code-o"})," Python file...")),v.createElement("hr",null),v.createElement("span",{style:{color:"#666"}},"Export all the grades you have recorded\nfor students in your course to a csv or Python file."))},render_help:function(){return v.createElement(g,{header:v.createElement("h4",null,v.createElement(d,{name:"question-circle"}),"  Help")},v.createElement("span",{style:{color:"#666"}},v.createElement("ul",null,v.createElement("li",null,v.createElement("a",{href:"https://github.com/mikecroucher/SMC_tutorial#sagemathcloud",target:"_blank"},"A tutorial for anyone wanting to use SageMathCloud for teaching")," (by Mike Croucher)"),v.createElement("li",null,v.createElement("a",{href:"http://www.beezers.org/blog/bb/2015/09/grading-in-sagemathcloud/",target:"_blank"},"Grading Courses ",v.createElement(d,{name:"external-link"}))," (by Rob Beezer)"),v.createElement("li",null,v.createElement("a",{href:"http://www.beezers.org/blog/bb/2016/01/pennies-a-day-for-sagemathcloud/",target:"_blank"},"Course Plans and teaching experiences ",v.createElement(d,{name:"external-link"}))," (by Rob Beezer)"),v.createElement("li",null,v.createElement("a",{href:"http://blog.ouseful.info/2015/11/24/course-management-and-collaborative-jupyter-notebooks-via-sagemathcloud/",target:"_blank"},"Course Management and collaborative Jupyter Notebooks ",v.createElement(d,{name:"external-link"}))," (by Tony Hirst)"))))},render_email_invite_body:function(){var e;return e=" Also, {title} will be replaced by the title of the course and {name} by your name.",v.createElement(g,{header:v.createElement("h4",null,v.createElement(d,{name:"envelope"})," Customize email invitation")},v.createElement("div",{style:{border:"1px solid lightgrey",padding:"10px",borderRadius:"5px"}},v.createElement(f,{rows:6,type:"textarea",default_value:this.props.redux.getStore(this.props.name).get_email_invite(),on_save:function(e){return function(t){return e.actions(e.props.name).set_email_invite(t)}}(this)})),v.createElement("hr",null),v.createElement("span",{style:{color:"#666"}},"If you add a student to this course using their email address, and they do not\nhave a SageMathCloud account, then they will receive an email invitation. ",e))},delete_all_student_projects:function(){return this.actions(this.props.name).delete_all_student_projects()},render_confirm_delete_student_projects:function(){return v.createElement(S,{style:{marginTop:"10px"}},"All student projects will be deleted.  Are you absolutely sure?",v.createElement(o,{style:{marginTop:"10px"}},v.createElement(r,{bsStyle:"danger",onClick:function(e){return function(){return e.setState({delete_student_projects_confirm:!1}),e.delete_all_student_projects()}}(this)},"YES, DELETE all Student Projects"),v.createElement(r,{onClick:function(e){return function(){return e.setState({delete_student_projects_confirm:!1})}}(this)},"Cancel")))},render_start_all_projects:function(){var e,t;return t=this.props.redux.getStore(this.props.name).num_running_projects(this.props.project_map),e=this.props.redux.getStore(this.props.name).num_students(),v.createElement(x,{name:this.props.name,num_running_projects:t,num_students:e})},render_delete_all_projects:function(){return v.createElement(g,{header:v.createElement("h4",null,v.createElement(d,{name:"trash"})," Delete all student projects")},v.createElement(r,{bsStyle:"danger",onClick:function(e){return function(){return e.setState({delete_student_projects_confirm:!0})}}(this)},v.createElement(d,{name:"trash"})," Delete all Student Projects..."),this.state.delete_student_projects_confirm?this.render_confirm_delete_student_projects():void 0,v.createElement("hr",null),v.createElement("span",{style:{color:"#666"}},"If for some reason you would like to delete all the student projects\ncreated for this course, you may do so by clicking below.\nBe careful!"))},render_allow_any_collaborators:function(){return v.createElement(g,{header:v.createElement("h4",null,v.createElement(d,{name:"envelope"})," Collaborator policy")},v.createElement("div",{style:{border:"1px solid lightgrey",padding:"10px",borderRadius:"5px"}},v.createElement(a,{checked:this.props.settings.get("allow_collabs"),onChange:function(e){return function(t){return e.actions(e.props.name).set_allow_collabs(t.target.checked)}}(this)},"Allow arbitrary collaborators")),v.createElement("hr",null),v.createElement("span",{style:{color:"#666"}},"Every collaborator on the project that contains this course is automatically added\nto every student project (and the shared project).   In addition, each student is\na collaborator on their project.   If students add additional collaborators, by default\nthey will be automatically removed.  If you check the above box, then collaborators\nwill never be automatically removed from projects; in particular, students may\nadd arbitrary collaborators to their projects."))},save_upgrade_quotas:function(){var e,t,n,r,i,o,s;t=this._num_projects,o={},r=this.state.upgrades;for(n in r)s=r[n],s=T.parse_number_input(s,i=!1),s*t!==this._your_upgrades[n]&&(e=P.PROJECT_UPGRADES.params[n].display_factor,o[n]=s/e);if(this.setState({upgrade_quotas:!1}),T.len(o)>0)return this.actions(this.props.name).upgrade_all_student_projects(o)},upgrade_quotas_submittable:function(){var e,t,n,r,i,o,s;if(this._upgrade_is_invalid)return!1;t=this._num_projects,r=this.state.upgrades;for(n in r)s=r[n],s=T.parse_number_input(s,o=!1),s*t!==(null!=(i=this._your_upgrades[n])?i:0)&&(e=!0);return e},render_upgrade_heading:function(e){return v.createElement(b,{key:"heading"},v.createElement(l,{md:5},v.createElement("b",{style:{fontSize:"11pt"}},"Quota")),v.createElement(l,{md:7},v.createElement("b",{style:{fontSize:"11pt"}},"Distribute your quotas equally between ",e," student ",T.plural(e,"project")," (amounts may be fractional)")))},is_upgrade_input_valid:function(e,t){var n,r;return n=T.parse_number_input(e,r=!1),!(null==n||n>Math.max(0,t))},render_upgrade_row_input:function(e,t,n,r,i,o){var s,l,d,p,h,f,m;return p="upgrade_"+e,"number"===t?(m=null!=(h=this.state.upgrades[e])?h:r/i,null==this.state.upgrades[e]&&0===m&&0!==r&&(m=r/i),this.is_upgrade_input_valid(m,o)?d=v.createElement("span",null):(s="error",this._upgrade_is_invalid=!0,d=null!=T.parse_number_input(m)?v.createElement("div",{style:E},"Reduce the above: you do not have enough upgrades"):v.createElement("div",{style:E},"Please enter a number")),v.createElement(u,null,v.createElement(c,{type:"text",ref:p,value:m,bsStyle:s,onChange:function(t){return function(){var n;return n=t.state.upgrades,n[e]=y.findDOMNode(t.refs[p]).value,t.setState({upgrades:n})}}(this)}),d)):"checkbox"===t?(m=null!=(f=this.state.upgrades[e])?f:r>0?1:0,l=this.is_upgrade_input_valid(m,o),l?d=0===m?"Enable":"Enabled":(this._upgrade_is_invalid=!0,d=v.createElement("div",{style:E},"Uncheck this: you do not have enough upgrades")),v.createElement("form",null,v.createElement(a,{ref:p,checked:m>0,onChange:function(t){return function(n){var r;return r=t.state.upgrades,r[e]=n.target.checked?1:0,t.setState({upgrades:r})}}(this)}),d)):void console.warn("Invalid input type in render_upgrade_row_input: ",t)},render_upgrade_row:function(e,t,n,r,i){var o,s,a,c,u,d,p,h,f,m,_,g;return f=P.PROJECT_UPGRADES.params[e],a=f.display,s=f.desc,c=f.display_factor,u=f.display_unit,p=f.input_type,r*=c,n*=c,g=this.state.upgrades[e],d=""===g?0:null!=(m=T.parse_number_input(g))?m:r/i,"checkbox"===p&&(d=d>0?1:0),_=T.round2((t-d/c*i)*c),h=t/i*c,o=T.round2(n/i),"checkbox"===p&&(o=o>0&&o<1?T.round2(100*o)+"%":0===o?"none":"all"),v.createElement(b,{key:e},v.createElement(l,{md:5},v.createElement(C,{title:a,tip:s},v.createElement("strong",null,a)),v.createElement("span",{style:{marginLeft:"1ex"}},"(",_," ",T.plural(_,u)," remaining)")),v.createElement(l,{md:5},this.render_upgrade_row_input(e,p,n,r,i,h)),v.createElement(l,{md:2,style:{marginTop:"8px"}},"× ",i))},render_upgrade_rows:function(e,t,n,r,i){var o,s,a,l,c,u,d,p,h,f,m,g;for(this._upgrade_is_invalid=!1,u=_.field_order,f=[],a=0,l=u.length;a<l;a++)c=u[a],m=e[c],g=null!=(d=i[c])?d:0,o=m-(null!=(p=t[c])?p:0)+g,s=null!=(h=r[c])?h:0,f.push(this.render_upgrade_row(c,o,s,g,n));return f},render_upgrade_quotas:function(){var e,t,r,i,o,s,a,l,c,u,p,f,_,g,y;if(f=this.props.redux,t=f.getStore("account"),null==t)return v.createElement(h,null);if(p=t.get_total_upgrades(),T.is_zero_map(p))return v.createElement(m,{cancel:function(e){return function(){return e.setState({upgrade_quotas:!1})}}(this)});if(i=f.getStore(this.props.name),null==i)return v.createElement(h,null);if(c=i.get_student_project_ids(),!c)return v.createElement(h,null);if(a=c.length,!a)return v.createElement("span",null,"There are no student projects yet.",v.createElement("br",null),v.createElement("br",null),this.render_upgrade_submit_buttons());if(u=f.getStore("projects"),null==u)return v.createElement(h,null);for(r=u.get_total_upgrades_you_have_applied(),g={},y={},e=t.get_account_id(),o=0,s=c.length;o<s;o++)l=c[o],y=T.map_sum(y,u.get_upgrades_you_applied_to_project(l)),g=T.map_sum(g,u.get_total_project_upgrades(l));return this._your_upgrades=y,this._num_projects=a,v.createElement(n,{bsStyle:"warning"},v.createElement("h3",null,v.createElement(d,{name:"arrow-circle-up"})," Adjust your contributions to the student project quotas"),v.createElement("hr",null),this.render_upgrade_heading(a),v.createElement("hr",null),this.render_upgrade_rows(p,r,a,g,y),this.render_upgrade_submit_buttons(),(null!=(_=f.getStore("account").get("groups"))?_.contains("admin"):void 0)?this.render_admin_upgrade():void 0)},save_admin_upgrade:function(e){var t,n;return e.preventDefault(),n=y.findDOMNode(this.refs.admin_input).value,t=JSON.parse(n),console.log("admin upgrade '"+n+"' -->",t),this.actions(this.props.name).admin_upgrade_all_student_projects(t),!1},render_admin_upgrade:function(){return v.createElement("div",null,v.createElement("br",null),v.createElement("hr",null),v.createElement("h3",null,"Admin Upgrade"),"Enter an Javascript-parseable object and hit enter (see the Javascript console for feedback):",v.createElement("form",{onSubmit:this.save_admin_upgrade},v.createElement(u,null,v.createElement(c,{ref:"admin_input",type:"text",placeholder:JSON.stringify(t(24).DEFAULT_QUOTAS)}))))},render_upgrade_submit_buttons:function(){return v.createElement(o,null,v.createElement(r,{bsStyle:"primary",onClick:this.save_upgrade_quotas,disabled:!this.upgrade_quotas_submittable()},v.createElement(d,{name:"arrow-circle-up"})," Submit changes"),v.createElement(r,{onClick:function(e){return function(){return e.setState({upgrade_quotas:!1})}}(this)},"Cancel"))},adjust_quotas:function(){return this.setState({upgrade_quotas:!0,upgrades:{}})},render_upgrade_quotas_button:function(){return v.createElement(r,{bsStyle:"primary",onClick:this.adjust_quotas},v.createElement(d,{name:"arrow-circle-up"})," Adjust quotas...")},render_upgrade_student_projects:function(){return v.createElement(g,{header:v.createElement("h4",null,v.createElement(d,{name:"dashboard"}),"  Upgrade all student projects (you pay)")},this.state.upgrade_quotas?this.render_upgrade_quotas():this.render_upgrade_quotas_button(),v.createElement("hr",null),v.createElement("div",{style:{color:"#666"}},v.createElement("p",null,"Add additional quota upgrades to all of the projects in this course, augmenting what is provided for free and what students may have purchased. You will need sufficient upgrades to contribute the above amount to each student."),v.createElement("p",null,"If you add new students, currently you must re-open the quota panel and re-allocate quota so that newly added projects get additional upgrades; alternatively, you may open any project directly and edit its quotas in project settings.")))},get_student_pay_when:function(){var e;return e=this.props.settings.get("pay"),e?e:T.days_ago(-7)},click_student_pay_button:function(){return this.setState({show_students_pay_dialog:!0})},render_students_pay_button:function(){return v.createElement(r,{bsStyle:"primary",onClick:this.click_student_pay_button},v.createElement(d,{name:"arrow-circle-up"})," ",this.state.students_pay?"Adjust settings":"Require students to pay","...")},render_require_students_pay_desc:function(){var e;return e=this.props.settings.get("pay"),e>R.server_time()?v.createElement("span",null,"Your students will see a warning until ",v.createElement(A,{date:e}),".  They will then be required to upgrade for a one-time fee of $9."):v.createElement("span",null,"Your students are required to upgrade their project.")},render_require_students_pay_when:function(){return this.props.settings.get("pay")?v.createElement("div",{style:{marginBottom:"1em"}},v.createElement("div",{style:{width:"50%",marginLeft:"3em",marginBottom:"1ex"}},v.createElement(s,{value:this.props.settings.get("pay"),on_change:function(e){return function(t){return e.actions(e.props.name).set_course_info(t)}}(this)})),this.props.settings.get("pay")?this.render_require_students_pay_desc():void 0):v.createElement("span",null)},render_students_pay_submit_buttons:function(){return v.createElement(r,{onClick:function(e){return function(){return e.setState({show_students_pay_dialog:!1})}}(this)},"Close")},handle_students_pay_checkbox:function(e){return e.target.checked?this.actions(this.props.name).set_course_info(this.get_student_pay_when()):this.actions(this.props.name).set_course_info("")},render_students_pay_checkbox_label:function(){return this.props.settings.get("pay")?R.server_time()>=this.props.settings.get("pay")?v.createElement("span",null,"Require that students upgrade immediately:"):v.createElement("span",null,"Require that students upgrade by ",v.createElement(A,{date:this.props.settings.get("pay")}),": "):v.createElement("span",null,"Require that students upgrade...")},render_students_pay_checkbox:function(){return v.createElement("span",null,v.createElement(a,{checked:!!this.props.settings.get("pay"),key:"students_pay",ref:"student_pay",onChange:this.handle_students_pay_checkbox},this.render_students_pay_checkbox_label()))},render_students_pay_dialog:function(){return v.createElement(n,{bsStyle:"info"},v.createElement("h3",null,v.createElement(d,{name:"arrow-circle-up"})," Require students to upgrade"),v.createElement("hr",null),v.createElement("span",null,"Click the following checkbox to require that all students in the course pay a ",v.createElement("b",null,"one-time $9")," fee to move their projects to members-only computers and enable full internet access, for four months.  Members-only computers are not randomly rebooted constantly and have far fewer users. Student projects that are already on members-only hosts will not be impacted.  ",v.createElement("em",null,"You will not be charged.")),this.render_students_pay_checkbox(),this.props.settings.get("pay")?this.render_require_students_pay_when():void 0,this.render_students_pay_submit_buttons())},render_student_pay_desc:function(){return this.props.settings.get("pay")?v.createElement("span",null,v.createElement("span",{style:{fontSize:"18pt"}},v.createElement(d,{name:"check"}))," ",v.createElement(w,null),this.render_require_students_pay_desc()):v.createElement("span",null,"Require that all students in the course pay a one-time $9 fee to move their projects to members only hosts and enable full internet access, for four months.  This is optional, but will ensure that your students have a better experience and receive priority support.")},render_require_students_pay:function(){return v.createElement(g,{header:v.createElement("h4",null,v.createElement(d,{name:"dashboard"}),"  Require students to upgrade (students pay)")},this.state.show_students_pay_dialog?this.render_students_pay_dialog():this.render_students_pay_button(),v.createElement("hr",null),v.createElement("div",{style:{color:"#666"}},this.render_student_pay_desc()))},render:function(){return v.createElement("div",null,v.createElement(b,null,v.createElement(l,{md:6},this.render_require_students_pay(),this.render_upgrade_student_projects(),this.render_save_grades(),this.render_start_all_projects(),this.render_delete_all_projects()),v.createElement(l,{md:6},this.render_help(),this.render_title_description(),this.render_email_invite_body())))}}),exports.SettingsPanel.Header=O({render:function(){return v.createElement(C,{delayShow:1300,title:"Settings",tip:"Configure various things about your course here, including the title and description.  You can also export all grades in various formats from this page."},v.createElement("span",null,v.createElement(d,{name:"wrench"})," Settings"))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b;m=t(9),h=m.defaults,y=m.required,_=t(12),u=_.React,f=_.rclass,b=_.rtypes,g=t(22),n=g.Alert,r=g.Button,o=g.ButtonToolbar,i=g.ButtonGroup,l=g.Input,d=g.Row,s=g.Col,c=g.Panel,v=t(17),a=v.Icon,p=v.Tip,exports.SharedProjectPanel=f({displayName:"CourseEditor-SharedProject",propTypes:{shared_project_id:b.string,redux:b.object.isRequired,name:b.string.isRequired},getInitialState:function(){return{confirm_create:!1}},panel_header_text:function(){return this.props.shared_project_id?"Shared project that everybody can fully use":"Optionally create a shared project for everybody"},render:function(){return u.createElement(d,null,u.createElement(s,{md:6},u.createElement(c,{header:u.createElement("h4",null,u.createElement(a,{name:"users"}),"  ",this.panel_header_text()," ")},this.render_content())))},render_content:function(){return this.props.shared_project_id?this.render_has_shared_project():this.render_no_shared_project()},render_has_shared_project:function(){return u.createElement("div",null,u.createElement("div",{style:{color:"#444"}},u.createElement("p",null,"You created a common shared project, which everybody -- students and all collaborators\non this project (your TAs and other instructors) -- have ",u.createElement("b",null,"write")," access to.  Use\nthis project for collaborative in-class labs, course-wide chat rooms, and making\nmiscellaneous materials available for\nstudents to experiment with together."),u.createElement("p",null,"When you created the shared project, everybody who has already created an account\nis added as a collaborator to the project.  Whenever you re-open this course,\nany students or collaborators on the project that contains this course will be\nadded to the shared project.")),u.createElement("br",null),u.createElement(r,{onClick:this.open_project},u.createElement(a,{name:"edit"})," Open shared project"))},open_project:function(){return this.props.redux.getActions("projects").open_project({project_id:this.props.shared_project_id})},render_no_shared_project:function(){return u.createElement("div",null,u.createElement("div",{style:{color:"#444"}},u.createElement("p",null,u.createElement("i",null,"Optionally")," create a single common shared project, which everybody -- students and all collaborators\non this project (your TAs and other instructors) -- will have ",u.createElement("b",null,"write")," access to.  This can be useful\nfor collaborative in-class labs, course-wide chat rooms, and making miscellanous materials available for\nstudents to experiment with together."),u.createElement("p",null,"When you create the shared project, everybody who has already created an account\nis added as a collaborator to the project.  Whenever you re-open this course,\nany students or collaborators on the project that contains this course will be\nadded to the shared project."),u.createElement("p",null,"After you create the shared project, you should move the shared project to a members only server\nor upgrade it in other ways if you want it to be more stable.")),u.createElement("br",null),u.createElement(r,{onClick:function(e){return function(){return e.setState({confirm_create:!0})}}(this),disabled:this.state.confirm_create},u.createElement(a,{name:"plus"})," Create shared project..."),this.render_confirm_create())},render_confirm_create:function(){if(this.state.confirm_create)return u.createElement(n,{bsStyle:"warning",style:{marginTop:"15px"}},u.createElement(o,null,u.createElement(r,{bsStyle:"warning",onClick:function(e){return function(){return e.setState({confirm_create:!1}),e.create_shared_project()}}(this)},"Create shared project for everybody involved in this class"),u.createElement(r,{onClick:function(e){return function(){return e.setState({confirm_create:!1})}}(this)},"Cancel")))},create_shared_project:function(){return this.props.redux.getActions(this.props.name).create_shared_project()}}),exports.SharedProjectPanel.Header=f({propTypes:{project_exists:b.bool},render:function(){var e;return e=this.props.project_exists?"Shared project that everybody involved in this course may use.":"Create a shared project that everybody in this course may use.",u.createElement(p,{delayShow:1300,title:"Shared Project",tip:e},u.createElement("span",null,u.createElement(a,{name:"users"})," Shared Project"))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B;S=t(9),C=S.defaults,L=S.required,R=t(19).salvus_client,O=t(12),h=O.React,f=O.ReactDOM,T=O.rclass,z=O.rtypes,N=t(22),n=N.Button,i=N.ButtonToolbar,r=N.ButtonGroup,l=N.FormGroup,a=N.FormControl,u=N.InputGroup,m=N.Row,o=N.Col,p=N.Panel,A=N.Well,k=t(102).User,I=t(17),s=I.ErrorDisplay,c=I.Icon,d=I.MarkdownInput,_=I.SearchInput,g=I.Space,w=I.TimeAgo,x=I.Tip,D=t(187),y=D.StudentAssignmentInfo,b=D.StudentAssignmentInfoHeader,P={border:"1px solid #aaa",boxShadow:"5px 5px 5px #999",borderRadius:"3px",marginBottom:"10px",paddingBottom:"5px",paddingTop:"5px"},M={borderTop:"3px solid #aaa",marginTop:"10px",paddingTop:"5px"},B={marginTop:"20px",float:"right"},exports.StudentsPanel=T(function(e){var r,i;return r=e.name,{displayName:"CourseEditorStudents",reduxProps:(i={},i[""+r]={expanded_students:z.immutable.Set,active_student_sort:z.object,get_student_name:z.func},i),propTypes:{name:z.string.isRequired,redux:z.object.isRequired,project_id:z.string.isRequired,students:z.object.isRequired,user_map:z.object.isRequired,project_map:z.object.isRequired,assignments:z.object.isRequired},getInitialState:function(){return{err:void 0,search:"",add_search:"",add_searching:!1,add_select:void 0,existing_students:void 0,selected_option_nodes:void 0,show_deleted:!1}},do_add_search:function(e){var t,n;if(null!=e&&e.preventDefault(),null!=this.props.students&&!this.state.add_searching)return n=this.state.add_search.trim(),0===n.length?void this.setState({err:void 0,add_select:void 0,existing_students:void 0,selected_option_nodes:void 0}):(this.setState({add_searching:!0,add_select:void 0,existing_students:void 0,selected_option_nodes:void 0}),t=this.state.add_search,R.user_search({query:t,limit:50,cb:function(e){return function(n,r){var i,o,s,a,l,c,u;return n?void e.setState({add_searching:!1,err:n,add_select:void 0,existing_students:void 0}):(c=e.props.redux.getStore("projects").get_users(e.props.project_id),i=c.toJS(),s={},s.account={},s.email={},e.props.students.map(function(e,t){var n,r,o,s,a;for(s=["account_id","email_address"],a=[],n=0,r=s.length;n<r;n++)o=s[n],null!=e.get(o)?a.push(i[e.get(o)]=!0):a.push(void 0);return a}),o=function(e,t){var n;return n=i[e]||i[t],n&&(null!=e&&(s.account[e]=!0),null!=t&&(s.email[t]=!0)),n},a=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)u=r[e],o(u.account_id,u.email_address)||n.push(u);return n}(),l=function(){var e,n,i,s;for(i=j(r,t),s=[],e=0,n=i.length;e<n;e++)u=i[e],o(null,u.email_address)||s.push(u);return s}().concat(a),e.setState({add_searching:!1,add_select:l,existing_students:s}))}}(this)}))},student_add_button:function(){return h.createElement(n,{onClick:this.do_add_search},this.props.add_searching?h.createElement(c,{name:"circle-o-notch",spin:!0}):h.createElement(c,{name:"search"}))},add_selector_clicked:function(){return this.setState({selected_option_nodes:f.findDOMNode(this.refs.add_select).selectedOptions})},add_selected_students:function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m;for(t={},c=this.state.add_select,n=0,o=c.length;n<o;n++)f=c[n],null!=f.account_id&&(t[f.account_id]=f.email_address);if(h=[],p=[],null!=this.state.selected_option_nodes&&0!==(null!=(u=this.state.selected_option_nodes)?u.length:void 0)||1!==(null!=e?e.length:void 0))for(d=this.state.selected_option_nodes,r=0,s=d.length;r<s;r++)l=d[r],p.push(l.getAttribute("value"));else p.push(e[0].key);for(i=0,a=p.length;i<a;i++)m=p[i],S.is_valid_uuid_string(m)?h.push({account_id:m,email_address:t[m]}):h.push({email_address:m});return this.actions(this.props.name).add_students(h),this.setState({err:void 0,add_select:void 0,selected_option_nodes:void 0,add_search:""})},get_add_selector_options:function(){var e,t,n,r,i,o,s,a,l;for(a=[],o={},r=this.state.add_select,e=0,n=r.length;e<n;e++)l=r[e],t=null!=(i=l.account_id)?i:l.email_address,o[t]||(o[t]=!0,s=null!=l.account_id?l.first_name+" "+l.last_name:l.email_address,a.push(h.createElement("option",{key:t,value:t,label:s},s)));return a},render_add_selector:function(){var e;if(null!=this.state.add_select)return e=this.get_add_selector_options(),h.createElement(l,null,h.createElement(a,{componentClass:"select",multiple:!0,ref:"add_select",rows:10,onClick:this.add_selector_clicked},e),this.render_add_selector_button(e))},render_add_selector_button:function(e){var r,i,o,s,a,l,u,d;return l=null!=(u=null!=(d=this.state.selected_option_nodes)?d.length:void 0)?u:0,r=t(23),s=this.state.existing_students,a=null!=s?r.keys(s.email).length+r.keys(s.account).length>0:0,i=function(){switch(e.length){case 0:return a?"Student already added":"No student found";
case 1:return"Add student";default:switch(l){case 0:return"Select student above";case 1:return"Add selected student";default:return"Add "+l+" students"}}}(),o=0===e.length||e.length>=2&&0===l,h.createElement(n,{onClick:function(t){return function(){return t.add_selected_students(e)}}(this),disabled:o},h.createElement(c,{name:"user-plus"})," ",i)},render_error:function(){var e,t,n,r,i,a,l,c,u;if(t=null,this.state.err)t=h.createElement(s,{error:S.trunc(this.state.err,1024),onClose:function(e){return function(){return e.setState({err:void 0})}}(this)});else if(null!=this.state.existing_students){r=[],a=this.state.existing_students.email;for(n in a)u=a[n],r.push(n);l=this.state.existing_students.account;for(e in l)u=l[e],c=this.props.user_map.get(e),r.push(c.get("first_name")+" "+c.get("last_name"));r.length>0&&(i=r.length>1?"Already added students or project collaborators: ":"Already added student or project collaborator: ",i+=r.join(", "),t=h.createElement(s,{bsStyle:"info",error:i,onClose:function(e){return function(){return e.setState({existing_students:void 0})}}(this)}))}if(null!=t)return h.createElement(m,{style:{marginTop:"1em",marginBottom:"-10px"}},h.createElement(o,{md:5,lgOffset:7},t))},render_header:function(e){return h.createElement("div",null,h.createElement(m,{style:{marginBottom:"-15px"}},h.createElement(o,{md:3},h.createElement(_,{placeholder:"Find students...",default_value:this.state.search,on_change:function(e){return function(t){return e.setState({search:t})}}(this)})),h.createElement(o,{md:4},e?h.createElement("h6",null,"(Omitting ",e," students)"):void 0),h.createElement(o,{md:5},h.createElement("form",{onSubmit:this.do_add_search},h.createElement(l,null,h.createElement(u,null,h.createElement(a,{ref:"student_add_input",type:"text",placeholder:"Add student by name or email address...",value:this.state.add_search,onChange:function(e){return function(){return e.setState({add_select:void 0,add_search:f.findDOMNode(e.refs.student_add_input).value})}}(this),onKeyDown:function(e){return function(t){if(27===t.keyCode)return e.setState({add_search:"",add_select:void 0})}}(this)}),h.createElement(u.Button,null,this.student_add_button())))),this.render_add_selector())),this.render_error())},sort_on_string_field:function(e){return function(t,n){return S.cmp(t[e].toLowerCase(),n[e].toLowerCase())}},sort_on_numerical_field:function(e){return function(t,n){return S.cmp(t[e]*-1,n[e]*-1)}},pick_sorter:function(e){switch(null==e&&(e=this.props.active_student_sort),e.column_name){case"email":return this.sort_on_string_field("email_address");case"first_name":return this.sort_on_string_field("first_name");case"last_name":return this.sort_on_string_field("last_name");case"last_active":return this.sort_on_numerical_field("last_active");case"hosting":return this.sort_on_numerical_field("hosting")}},compute_student_list:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,m;for(p=E(this.props.students,"student_id"),e=0,t=p.length;e<t;e++)m=p[e],null!=m.account_id&&(d=this.props.user_map.get(m.account_id),null==m.first_name&&(m.first_name=null!=(o=null!=d?d.get("first_name"):void 0)?o:""),null==m.last_name&&(m.last_name=null!=(s=null!=d?d.get("last_name"):void 0)?s:""),null!=m.project_id&&(m.last_active=null!=(a=this.props.redux.getStore("projects").get_last_active(m.project_id))&&null!=(l=a.get(m.account_id))&&"function"==typeof l.getTime?l.getTime():void 0,u=this.props.redux.getStore("projects").get_total_project_quotas(m.project_id),null!=u&&(m.hosting=u.member_host))),null==m.first_name&&(m.first_name=""),null==m.last_name&&(m.last_name=""),null==m.last_active&&(m.last_active=0),null==m.hosting&&(m.hosting=!1),null==m.email_address&&(m.email_address="");return p.sort(this.pick_sorter()),this.props.active_student_sort.is_descending&&p.reverse(),h=function(){var e,t,n;for(n=[],e=0,t=p.length;e<t;e++)m=p[e],m.deleted&&n.push(m);return n}(),r=h.length,p=function(){var e,t,n;for(n=[],e=0,t=p.length;e<t;e++)m=p[e],m.deleted||n.push(m);return n}(),this.state.show_deleted&&(p=p.concat(h)),i=0,this.state.search&&(f=S.split(this.state.search.toLowerCase()),c=function(e){var t,n,r;return((null!=(n=e.last_name)?n:"")+(null!=(r=e.first_name)?r:"")+(null!=(t=e.email_address)?t:"")).toLowerCase()},n=function(e){var t,n,r;for(t=0,n=f.length;t<n;t++)if(r=f[t],e.indexOf(r)===-1)return i+=1,!1;return!0},p=function(){var e,t,r;for(r=[],e=0,t=p.length;e<t;e++)m=p[e],n(c(m))&&r.push(m);return r}()),{students:p,num_omitted:i,num_deleted:r}},render_sort_link:function(e,t){return h.createElement("a",{href:"",onClick:function(t){return function(n){return n.preventDefault(),t.actions(t.props.name).set_active_student_sort(e)}}(this)},t,h.createElement(g,null),this.props.active_student_sort.column_name===e?h.createElement(c,{style:{marginRight:"10px"},name:this.props.active_student_sort.is_descending?"caret-up":"caret-down"}):void 0)},render_student_table_header:function(){return h.createElement(m,{style:{marginTop:"-10px",marginBottom:"3px"}},h.createElement(o,{md:3},h.createElement("div",{style:{display:"inline-block",width:"50%"}},this.render_sort_link("first_name","First Name")),h.createElement("div",{style:{display:"inline-block"}},this.render_sort_link("last_name","Last Name"))),h.createElement(o,{md:2},this.render_sort_link("email","Student Email")),h.createElement(o,{md:4},this.render_sort_link("last_active","Last Active")),h.createElement(o,{md:3},this.render_sort_link("hosting","Hosting Type")))},render_students:function(e){var t,n,i,o,s;for(o=[],t=n=0,i=e.length;n<i;t=++n)s=e[t],r={full:this.props.get_student_name(s.student_id),first:s.first_name,last:s.last_name},o.push(h.createElement(v,{background:t%2===0?"#eee":void 0,key:s.student_id,student_id:s.student_id,student:this.props.students.get(s.student_id),user_map:this.props.user_map,redux:this.props.redux,name:this.props.name,project_map:this.props.project_map,assignments:this.props.assignments,is_expanded:this.props.expanded_students.has(s.student_id),student_name:r,display_account_name:!0}));return o},render_show_deleted:function(e){return this.state.show_deleted?h.createElement(n,{style:B,onClick:function(e){return function(){return e.setState({show_deleted:!1})}}(this)},h.createElement(x,{placement:"left",title:"Hide deleted",tip:"Students are never really deleted.  Click this button so that deleted students aren't included at the bottom of the list of students.  Deleted students are always hidden from the list of grades."},"Hide ",e," deleted students")):h.createElement(n,{style:B,onClick:function(e){return function(){return e.setState({show_deleted:!0,search:""})}}(this)},h.createElement(x,{placement:"left",title:"Show deleted",tip:"Students are not deleted forever, even after you delete them.  Click this button to show any deleted students at the bottom of the list.  You can then click on the student and click undelete to bring the assignment back."},"Show ",e," deleted students"))},render:function(){var e,t,n,r;return n=this.compute_student_list(),r=n.students,t=n.num_omitted,e=n.num_deleted,h.createElement(p,{header:this.render_header(t,e)},this.render_student_table_header(),this.render_students(r),e?this.render_show_deleted(e):void 0)}}}),exports.StudentsPanel.Header=T({propTypes:{n:z.number},render:function(){var e;return h.createElement(x,{delayShow:1300,title:"Students",tip:"This tab lists all students in your course, along with their grades on each assignment.  You can also quickly find students by name on the left and add new students on the right."},h.createElement("span",null,h.createElement(c,{name:"users"})," Students ",null!=(null!=(e=this.props)?e.n:void 0)?" ("+this.props.n+")":""))}}),v=T({displayName:"CourseEditorStudent",propTypes:{redux:z.object.isRequired,name:z.string.isRequired,student:z.object.isRequired,user_map:z.object.isRequired,project_map:z.object.isRequired,assignments:z.object.isRequired,background:z.string,is_expanded:z.bool,student_name:z.object,display_account_name:z.bool},shouldComponentUpdate:function(e,t){return this.state!==t||this.props.student!==e.student||this.props.assignments!==e.assignments||this.props.project_map!==e.project_map||this.props.user_map!==e.user_map||this.props.background!==e.background||this.props.is_expanded!==e.is_expanded||this.props.student_name.full!==e.student_name.full},componentWillReceiveProps:function(e){if(this.props.student_name.first!==e.student_name.first&&this.setState({edited_first_name:e.student_name.first}),this.props.student_name.last!==e.student_name.last&&this.setState({edited_last_name:e.student_name.last}),this.props.student.get("email_address")!==e.student.get("email_address"))return this.setState({edited_email_address:e.student.get("email_address")})},getInitialState:function(){var e,t,n;return{confirm_delete:!1,editing_student:!1,edited_first_name:null!=(e=this.props.student_name.first)?e:"",edited_last_name:null!=(t=this.props.student_name.last)?t:"",edited_email_address:null!=(n=this.props.student.get("email_address"))?n:""}},on_key_down:function(e){switch(e.keyCode){case 13:return this.save_student_changes();case 27:return this.cancel_student_edit()}},toggle_show_more:function(e){var t;return e.preventDefault(),this.state.editing_student&&this.cancel_student_edit(),t=this.props.student.get("student_id"),this.actions(this.props.name).toggle_item_expansion("student",t)},render_student:function(){return h.createElement("a",{href:"",onClick:this.toggle_show_more},h.createElement(c,{style:{marginRight:"10px"},name:this.props.is_expanded?"caret-down":"caret-right"}),this.render_student_name())},render_student_name:function(){var e;return e=this.props.student.get("account_id"),null!=e?h.createElement(k,{account_id:e,user_map:this.props.user_map,name:this.props.student_name.full,show_original:this.props.display_account_name}):h.createElement("span",null,this.props.student.get("email_address")," (invited)")},render_student_email:function(){var e;return e=this.props.student.get("email_address"),h.createElement("a",{href:"mailto:"+e},e)},open_project:function(){return this.actions("projects").open_project({project_id:this.props.student.get("project_id")})},create_project:function(){return this.actions(this.props.name).create_student_project(this.props.student_id)},render_last_active:function(){var e,t,n;if(n=this.props.student.get("project_id"),null!=n)return e=null!=(t=this.props.redux.getStore("projects").get_last_active(n))?t.get(this.props.student.get("account_id")):void 0,e?h.createElement("span",{style:{color:"#666"}},"(last used project ",h.createElement(w,{date:e}),")"):h.createElement("span",{style:{color:"#666"}},"(has never used project)")},render_hosting:function(){var e,t;if(e=this.props.student.get("project_id")){if(t=this.props.redux.getStore("projects").get_total_project_quotas(e),null==t)return;return t.member_host?h.createElement(x,{placement:"left",title:h.createElement("span",null,h.createElement(c,{name:"check"})," Members-only hosting"),tip:"Projects is on a members-only server, which is much more robust and has priority support."},h.createElement("span",{style:{color:"#888",cursor:"pointer"}},h.createElement(c,{name:"check"})," Members-only")):h.createElement(x,{placement:"left",title:h.createElement("span",null,h.createElement(c,{name:"exclamation-triangle"})," Free hosting"),tip:"Project is hosted on a free server, so it may be overloaded and will be rebooted frequently.  Please upgrade in course settings."},h.createElement("span",{style:{color:"#888",cursor:"pointer"}},h.createElement(c,{name:"exclamation-triangle"})," Free"))}},render_project_access:function(){var e,t,o;return e=this.props.student.get("create_project"),null!=e&&(t=(R.server_time()-e)/1e3,t<120)?h.createElement("div",null,h.createElement(c,{name:"circle-o-notch",spin:!0})," Creating project... (started ",h.createElement(w,{date:e}),")"):(o=this.props.student.get("project_id"),null!=o?h.createElement(i,null,h.createElement(r,null,h.createElement(n,{onClick:this.open_project},h.createElement(x,{placement:"right",title:"Student project",tip:"Open the course project for this student."},h.createElement(c,{name:"edit"})," Open student project"))),this.props.student.get("account_id")?this.render_edit_student():void 0):h.createElement(x,{placement:"right",title:"Create the student project",tip:"Create a new project for this student, then add (or invite) the student as a collaborator, and also add any collaborators on the project containing this course."},h.createElement(n,{onClick:this.create_project},h.createElement(c,{name:"plus-circle"})," Create student project")))},student_changed:function(){return this.props.student_name.first!==this.state.edited_first_name||this.props.student_name.last!==this.state.edited_last_name||this.props.student.get("email_address")!==this.state.edited_email_address},render_edit_student:function(){var e;return this.state.editing_student?(e=!this.student_changed(),h.createElement(r,null,h.createElement(n,{onClick:this.save_student_changes,bsStyle:"success",disabled:e},h.createElement(c,{name:"save"})," Save"),h.createElement(n,{onClick:this.cancel_student_edit},"Cancel"))):h.createElement(n,{onClick:this.show_edit_name_dialogue},h.createElement(c,{name:"address-card-o"})," Edit student...")},cancel_student_edit:function(){return this.setState(this.getInitialState())},save_student_changes:function(){return this.actions(this.props.name).set_internal_student_info(this.props.student,{first_name:this.state.edited_first_name,last_name:this.state.edited_last_name,email_address:this.state.edited_email_address}),this.setState({editing_student:!1})},show_edit_name_dialogue:function(){return this.setState({editing_student:!0})},delete_student:function(){return this.actions(this.props.name).delete_student(this.props.student),this.setState({confirm_delete:!1})},undelete_student:function(){return this.actions(this.props.name).undelete_student(this.props.student)},render_confirm_delete:function(){if(this.state.confirm_delete)return h.createElement("div",null,"Are you sure you want to delete this student (you can always undelete them later)?",h.createElement(g,null),h.createElement(i,null,h.createElement(n,{onClick:this.delete_student,bsStyle:"danger"},h.createElement(c,{name:"trash"})," YES, Delete"),h.createElement(n,{onClick:function(e){return function(){return e.setState({confirm_delete:!1})}}(this)},"Cancel")))},render_delete_button:function(){if(this.props.is_expanded)return this.state.confirm_delete?this.render_confirm_delete():this.props.student.get("deleted")?h.createElement(n,{onClick:this.undelete_student,style:{float:"right"}},h.createElement(c,{name:"trash-o"})," Undelete"):h.createElement(n,{onClick:function(e){return function(){return e.setState({confirm_delete:!0})}}(this),style:{float:"right"}},h.createElement(c,{name:"trash"})," Delete...")},render_title_due:function(e){var t;if(t=e.get("due_date"))return h.createElement("span",null,"(Due ",h.createElement(w,{date:t}),")")},render_title:function(e){return h.createElement("span",null,h.createElement("em",null,S.trunc_middle(e.get("path"),50))," ",this.render_title_due(e))},render_assignments_info_rows:function(){var e,t,n,r,i,o,s,a;for(a=this.props.redux.getStore(this.props.name),o=a.get_sorted_assignments(),s=[],r=0,i=o.length;r<i;r++)e=o[r],t=a.get_grade(e,this.props.student),n=a.student_assignment_info(this.props.student,e),s.push(h.createElement(y,{key:e.get("assignment_id"),title:this.render_title(e),name:this.props.name,student:this.props.student,assignment:e,grade:t,info:n}));return s},render_assignments_info:function(){var e,t;return t=this.props.redux.getStore(this.props.name).any_assignment_uses_peer_grading(),e=h.createElement(b,{key:"header",title:"Assignment",peer_grade:t}),[e,this.render_assignments_info_rows()]},render_note:function(){return h.createElement(m,{key:"note",style:M},h.createElement(o,{xs:2},h.createElement(x,{title:"Notes about this student",tip:"Record notes about this student here. These notes are only visible to you, not to the student.  In particular, you might want to include an email address or other identifying information here, and notes about late assignments, excuses, etc."},"Notes")),h.createElement(o,{xs:10},h.createElement(d,{rows:6,placeholder:"Notes about student (not visible to student)",default_value:this.props.student.get("note"),on_save:function(e){return function(t){return e.actions(e.props.name).set_student_note(e.props.student,t)}}(this)})))},render_more_info:function(){var e;return e=[],e.push(h.createElement(m,{key:"more"},h.createElement(o,{md:12},this.render_assignments_info()))),e.push(this.render_note()),e},render_basic_info:function(){return h.createElement(m,{key:"basic",style:{backgroundColor:this.props.background}},h.createElement(o,{md:3},h.createElement("h6",null,this.render_student(),this.render_deleted())),h.createElement(o,{md:2},h.createElement("h6",{style:{color:"#666"}},this.render_student_email())),h.createElement(o,{md:4,style:{paddingTop:"10px"}},this.render_last_active()),h.createElement(o,{md:3,style:{paddingTop:"10px"}},this.render_hosting()))},render_deleted:function(){if(this.props.student.get("deleted"))return h.createElement("b",null," (deleted)")},render_panel_header:function(){return h.createElement("div",null,h.createElement(m,null,h.createElement(o,{md:8},this.render_project_access()),h.createElement(o,{md:4},this.render_delete_button())),this.state.editing_student?h.createElement(m,null,h.createElement(o,{md:4},this.render_edit_student_interface())):void 0)},render_edit_student_interface:function(){return h.createElement(A,{style:{marginTop:"10px"}},h.createElement(m,null,h.createElement(o,{md:6},"First Name",h.createElement(l,null,h.createElement(a,{type:"text",autoFocus:!0,value:this.state.edited_first_name,onClick:function(e){return function(e){return e.stopPropagation(),e.preventDefault()}}(this),onChange:function(e){return function(t){return e.setState({edited_first_name:t.target.value})}}(this),onKeyDown:this.on_key_down}))),h.createElement(o,{md:6},"Last Name",h.createElement(l,null,h.createElement(a,{type:"text",value:this.state.edited_last_name,onClick:function(e){return function(e){return e.stopPropagation(),e.preventDefault()}}(this),onChange:function(e){return function(t){return e.setState({edited_last_name:t.target.value})}}(this),onKeyDown:this.on_key_down})))),h.createElement(m,null,h.createElement(o,{md:12},"Email Address",h.createElement(l,null,h.createElement(a,{type:"text",value:this.state.edited_email_address,onClick:function(e){return function(e){return e.stopPropagation(),e.preventDefault()}}(this),onChange:function(e){return function(t){return e.setState({edited_email_address:t.target.value})}}(this),onKeyDown:this.on_key_down})))))},render_more_panel:function(){return h.createElement(m,null,h.createElement(p,{header:this.render_panel_header()},this.render_more_info()))},render:function(){return h.createElement(m,{style:this.state.more?P:void 0},h.createElement(o,{xs:12},this.render_basic_info(),this.props.is_expanded?this.render_more_panel():void 0))}}),E=function(e,t){var n;if(null!=e)return n=[],e.map(function(e,r){var i;return n.push(S.merge(e.toJS(),(i={},i[""+t]=r,i)))}),n},j=function(e,t){var n,r,i,o,s;return i=S.parse_user_search(t),s=i.string_queries,n=i.email_queries,o=S.dict(function(){var t,n,i;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],null!=r.email_address&&i.push([r.email_address,!0]);return i}()),function(){var e,t,i;for(i=[],e=0,t=n.length;e<t;e++)r=n[e],o[r]||i.push({email_address:r});return i}().sort(function(e,t){return S.cmp(e.email_address,t.email_address)})}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B;T=t(49).isMobile,L=t(12),k=L.React,A=L.ReactDOM,I=L.rclass,D=L.redux,B=L.rtypes,C=L.Redux,z=t(22),g=z.Navbar,f=z.Nav,m=z.NavItem,R=t(17),p=R.Loading,d=R.Icon,j=R.Tip,u=t(301).HelpPage,x=t(135).ProjectsPage,b=t(336).ProjectPage,n=t(196).AccountPage,a=t(332).FileUsePage,S=t(199).Support,O=t(9),w=t(794).ProjectsNav,P=t(331),r=P.ActiveAppContent,s=P.CookieWarning,h=P.LocalStorageWarning,i=P.ConnectionIndicator,o=P.ConnectionInfo,c=P.FullscreenButton,_=P.NavTab,v=P.NotificationBell,E=P.SMCLogo,M=P.VersionWarning,l=function(e){var t;return t={zIndex:"10",marginLeft:"0",position:"fixed",boxShadow:"0 0 15px #aaa",border:"2px solid #ccc",top:"43px",background:"#fff",right:"2em",overflowY:"auto",overflowX:"hidden",fontSize:"10pt",padding:"4px",borderRadius:"5px",width:"50%",height:"90%"},k.createElement("div",{style:t},k.createElement(a,{redux:D}))},y=I({displayName:"Page",reduxProps:{projects:{open_projects:B.immutable.List},page:{active_top_tab:B.string,show_connection:B.bool,ping:B.number,avgping:B.number,connection_status:B.string,new_version:B.object,fullscreen:B.bool,cookie_warning:B.bool,local_storage_warning:B.bool,show_file_use:B.bool},file_use:{file_use:B.immutable.Map,get_notify_count:B.func},account:{first_name:B.string,last_name:B.string,get_fullname:B.func,user_type:B.string,is_logged_in:B.func},support:{show:B.bool}},propTypes:{redux:B.object},componentWillUnmount:function(){return this.actions("page").clear_all_handlers()},account_name:function(){var e;return e="",null!=this.props.get_fullname&&(e=O.trunc_middle(this.props.get_fullname(),32)),e.trim()||(e="Account"),e},render_account_tab:function(){return k.createElement(_,{name:"account",label:this.account_name(),icon:"cog",actions:this.actions("page"),active_top_tab:this.props.active_top_tab})},sign_in_tab_clicked:function(){if("account"===this.props.active_top_tab)return this.actions("page").sign_in()},render_sign_in_tab:function(){return k.createElement(_,{name:"account",label:"Sign in",icon:"sign-in",on_click:this.sign_in_tab_clicked,actions:this.actions("page"),active_top_tab:this.props.active_top_tab})},render_right_nav:function(){var e;return e=this.props.is_logged_in(),k.createElement(f,{id:"smc-right-tabs-fixed",style:{height:"41px",lineHeight:"20px",margin:"0",overflowY:"hidden"}},e?this.render_account_tab():void 0,e?void 0:this.render_sign_in_tab(),k.createElement(_,{name:"about",label:"About",icon:"question-circle",actions:this.actions("page"),active_top_tab:this.props.active_top_tab}),k.createElement(m,{className:"divider-vertical hidden-xs"}),t(48).commercial?k.createElement(_,{label:"Help",icon:"medkit",actions:this.actions("page"),active_top_tab:this.props.active_top_tab,on_click:function(e){return function(){return D.getActions("support").show(!0)}}(this)}):void 0,this.props.is_logged_in()?k.createElement(v,{count:this.props.get_notify_count(),active:this.props.show_file_use}):void 0,k.createElement(i,{actions:this.actions("page")}))},render_project_nav_button:function(){var e;return e={whiteSpace:"nowrap",float:"right",padding:"11px 7px"},k.createElement(f,{style:{height:"41px",margin:"0",overflow:"hidden"}},k.createElement(_,{name:"projects",inner_style:{padding:"0px"},actions:this.actions("page"),active_top_tab:this.props.active_top_tab},k.createElement("div",{style:e},"Projects"),k.createElement(E,null)))},drop:function(e){var n;if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files.length>0)return(n=t(36).alert_message)({type:"info",title:"File Drop Rejected",message:'To upload a file, drop it onto the files listing or the "Drop files to upload" area in the +New tab.'})},render:function(){var e,t;return e={display:"flex",flexDirection:"column",height:"100vh",width:"100vw",overflow:"auto"},t={display:"flex",marginBottom:0,width:"100%",minHeight:"42px",position:"fixed",right:"0",zIndex:"100",opacity:"0.8"},k.createElement("div",{ref:"page",style:e,onDragOver:function(e){return e.preventDefault()},onDrop:this.drop},this.props.show_file_use?k.createElement(l,null):void 0,this.props.show_connection?k.createElement(o,{ping:this.props.ping,status:this.props.connection_status,avgping:this.props.avgping,actions:this.actions("page")}):void 0,this.props.show?k.createElement(S,{actions:this.actions("support")}):void 0,null!=this.props.new_version?k.createElement(M,{new_version:this.props.new_version}):void 0,this.props.cookie_warning?k.createElement(s,null):void 0,this.props.local_storage_warning?k.createElement(h,null):void 0,this.props.fullscreen?void 0:k.createElement(g,{className:"smc-top-bar",style:t},this.props.is_logged_in()?this.render_project_nav_button():void 0,k.createElement(w,{dropdown:!1}),this.render_right_nav()),this.props.fullscreen?void 0:k.createElement("div",{className:"smc-sticky-position-hack",style:{minHeight:"42px"}}," "),k.createElement(c,null),k.createElement(r,{active_top_tab:this.props.active_top_tab}))}}),N=k.createElement(C,{redux:D},k.createElement(y,{redux:D})),exports.render=function(e){return function(){return A.render(N,document.getElementById("smc-react-container"))}}(this)},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T=function(e,t){return function(){return e.apply(t,arguments)}},O=function(e,t){function n(){this.constructor=e}for(var r in t)N.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},N={}.hasOwnProperty;A=t(12),p=A.React,h=A.ReactDOM,x=A.rclass,j=A.rtypes,f=A.Redux,n=A.Actions,_=A.Store,C=t(22),s=C.Button,d=C.Panel,m=C.Row,l=C.Col,E=t(17),c=E.ErrorDisplay,u=E.Icon,M=t(19).salvus_client,y=t(9).filename_extension,v=t(31),w=t(9),a={zip:{list:{command:"unzip",args:["-l"]},extract:{command:"unzip",args:["-B"]}},tar:{list:{command:"tar",args:["-tf"]},extract:{command:"tar",args:["-xvf"]}},gz:{list:{command:"gzip",args:["-l"]},extract:{command:"gunzip",args:["-vf"]}},bzip2:{list:{command:"ls",args:["-l"]},extract:{command:"bunzip2",args:["-vf"]}},lzip:{list:{command:"ls",args:["-l"]},extract:{command:"lzip",args:["-vfd"]}},xz:{list:{command:"xz",args:["-l"]},extract:{command:"xz",args:["-vfd"]}}},a.bz2=a.bzip2,k=function(e,t){return"editor-"+e+"-"+t},b=function(e,t,n){var r,o,s;if(o=k(n,e),null==t.getActions(o))return r=t.createActions(o,i),s=t.createStore(o),o},S=function(e,t,n){var r;return r=k(n,e),t.removeActions(r),t.removeStore(r),r},i=function(e){function t(){return this.extract_archive_files=T(this.extract_archive_files,this),this.set_archive_contents=T(this.set_archive_contents,this),this.set_unsupported=T(this.set_unsupported,this),this.clear_error=T(this.clear_error,this),this.parse_file_type=T(this.parse_file_type,this),t.__super__.constructor.apply(this,arguments)}return O(t,e),t.prototype.parse_file_type=function(e){return e.indexOf("Zip archive data")!==-1?"zip":e.indexOf("tar archive")!==-1?"tar":e.indexOf("gzip compressed data")!==-1?"gz":e.indexOf("bzip2 compressed data")!==-1?"bzip2":e.indexOf("lzip compressed data")!==-1?"lzip":e.indexOf("XZ compressed data")!==-1?"xz":void 0},t.prototype.clear_error=function(){return this.setState({error:void 0})},t.prototype.set_unsupported=function(e){return this.setState({error:p.createElement("span",null," ",p.createElement("b",null,"WARNING:")," Support for decompressing ",e," archives is not yet implemented (see ",p.createElement("a",{href:"https://github.com/sagemathinc/smc/issues/1720",target:"_blank"},"https://github.com/sagemathinc/smc/issues/1720"),")."),contents:"",type:e})},t.prototype.set_archive_contents=function(e,t){var n,r,i,o,s,l;return i=null!=(o=y(t))?o.toLowerCase():void 0,null==(null!=(s=a[i])?s.list:void 0)?void this.set_unsupported(i):(l=a[i].list,r=l.command,n=l.args,M.exec({project_id:e,command:r,args:n.concat([t]),err_on_exit:!0,cb:function(e){return function(t,n){return e.setState({error:t?p.createElement("pre",null,t):void 0,contents:null!=n?n.stdout:void 0,type:i})}}(this)}))},t.prototype.extract_archive_files=function(e,t,n,r){var i,o,s,l,c,u,d,p;return null==(null!=(d=a[n])?d.extract:void 0)?void this.set_unsupported(n):(p=a[n].extract,o=p.command,i=p.args,c=w.path_split(t),s=u=[],l=void 0,this.setState({loading:!0}),v.series([function(t){return function(t){var i,o;return null==r?t("Archive not loaded yet"):"zip"===n?(i=c.tail.slice(0,c.tail.length-4),r.indexOf(i+"/")===-1&&(s=["-d",i]),t()):"tar"===n?(o=c.tail.lastIndexOf(".t"),i=c.tail.slice(0,o),r.indexOf(i+"/")===-1?(u=["-C",i],M.exec({project_id:e,path:c.head,command:"mkdir",args:["-p",i],error_on_exit:!0,cb:t})):t()):t()}}(this),function(t){return function(n){var r,a,d;return i=i.concat(null!=s?s:[]).concat([c.tail]).concat(u),r=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)d=i[e],n.push(d.indexOf(" ")!==-1?"'"+d+"'":d);return n}().join(" "),a='cd "'+c.head+'" ; '+o+" "+r,t.setState({command:a}),M.exec({project_id:e,path:c.head,command:o,args:i,err_on_exit:!0,timeout:120,cb:function(e,t){return l=t,n(e)}})}}(this)],function(e){return function(t){return e.setState({error:t,extract_output:null!=l?l.stdout:void 0,loading:!1})}}(this)))},t}(n),o=x({propTypes:{path:j.string.isRequired,project_id:j.string.isRequired,actions:j.object.isRequired,contents:j.string},render:function(){return null==this.props.contents&&this.props.actions.set_archive_contents(this.props.project_id,this.props.path),p.createElement("pre",null,this.props.contents)}}),r=x(function(e){var t,n;return t=e.name,{reduxProps:(n={},n[""+t]={contents:j.string,info:j.string,type:j.string,loading:j.bool,command:j.string,error:j.any,extract_output:j.string},n),propTypes:{actions:j.object.isRequired,path:j.string.isRequired,project_id:j.string.isRequired},title:function(){return p.createElement("tt",null,p.createElement(u,{name:"file-zip-o"})," ",this.props.path)},extract_archive_files:function(){return this.props.actions.extract_archive_files(this.props.project_id,this.props.path,this.props.type,this.props.contents)},render_button_icon:function(){return this.props.loading?p.createElement(u,{name:"circle-o-notch",spin:!0}):p.createElement(u,{name:"folder"})},render_button:function(){return p.createElement(s,{disabled:!!this.props.error||this.props.loading,bsSize:"large",bsStyle:"success",onClick:this.extract_archive_files},this.render_button_icon()," Extract Files...")},render_error:function(){if(this.props.error)return p.createElement("div",null,p.createElement("br",null),p.createElement(c,{error_component:this.props.error,style:{maxWidth:"100%"},onClose:this.props.actions.clear_error}))},render_contents:function(){if(!this.props.error)return p.createElement("div",null,p.createElement("h2",null,"Contents"),this.props.info,p.createElement(o,{path:this.props.path,contents:this.props.contents,actions:this.props.actions,project_id:this.props.project_id}))},render_command:function(){if(this.props.command)return p.createElement("pre",{style:{marginTop:"15px"}},this.props.command)},render_extract_output:function(){if(this.props.extract_output)return p.createElement("pre",{style:{marginTop:"15px"}},this.props.extract_output)},render:function(){return p.createElement(d,{header:this.title()},this.render_button(),this.render_command(),this.render_extract_output(),this.render_error(),this.render_contents())}}}),g=w.split("z lz lzma tgz tbz tbz2 tb2 taz tz tlz txz"),t(83).register_file_editor({ext:w.keys(a).concat(g),icon:"file-archive-o",init:b,component:r,remove:S})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E;for(w=t(22),r=w.Button,i=w.ButtonGroup,x=t(12),a=x.React,l=x.ReactDOM,b=x.rclass,C=x.rtypes,c=x.Redux,n=x.Actions,u=x.Store,E=t(19).salvus_client,o=t(17).Icon,s=b({displayName:"PublicPDF",propTypes:{project_id:C.string,path:C.string},componentDidMount:function(){return this.refresh(),window.addEventListener("resize",this.refresh)},componentDidUpdate:function(){return this.refresh()},componentWillUnmount:function(){return window.removeEventListener("resize",this.refresh),this.refresh(!1)},refresh:function(e){var t;return null==e&&(e=!0),t=l.findDOMNode(this.refs.elt),A(this.props.project_id,this.props.path,t,e)},reload:function(){return p(this.props.project_id,this.props.path),d(this.props.project_id,this.props.path),this.refresh(!0)},render:function(){return a.createElement("div",{className:"smc-vfill"
},a.createElement(i,null,a.createElement(r,{onClick:this.reload},a.createElement(o,{name:"refresh"})," Reload"),a.createElement(r,{target:"_blank",href:h(this.props.project_id,this.props.path)+"?random="+Math.random()},a.createElement(o,{name:"external-link"})," Open in new window")),a.createElement("div",{ref:"elt",style:{overflowY:"hidden",flex:1,display:"flex"}}))}}),_=function(e,t){return e+t},m={},g=void 0,A=function(e,t,n,r){var i,o,s;if(n=$(n),null!=g&&(null!=(s=m[g])&&s.hide(),g=void 0),o=_(e,t),i=m[o],null!=i)return r?(i.show(),i.exactly_cover(n),g=o):i.hide()},h=function(e,t){return E.read_file_from_project({project_id:e,path:t})},d=function(e,t){var n,r;r=h(e,t),n=$("<iframe style='position:absolute' src="+r+" frameborder=0 scrolling=no>").hide(),m[_(e,t)]=n,$("body").append(n)},p=function(e,t){var n;return n=_(e,t),m[n].remove(),delete m[n]},k=[!0,!1],f=0,v=k.length;f<v;f++)y=k[f],t(83).register_file_editor({ext:"pdf",icon:"file-pdf-o",is_public:y,component:s,init:function(e,t,n){d(n,e)},remove:function(e,t,n){return p(n,e)}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T=function(e,t){return function(){return e.apply(t,arguments)}},O=function(e,t){function n(){this.constructor=e}for(var r in t)N.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},N={}.hasOwnProperty;y=t(26),k=t(12),l=k.React,c=k.ReactDOM,w=k.rclass,S=k.rtypes,u=k.Redux,n=k.Actions,h=k.Store,x=k.redux_name,A=t(17),s=A.Icon,a=A.Loading,d=A.SetIntervalMixin,C=t(22),r=C.Button,i=C.ButtonGroup,_=C.Well,j=t(19).salvus_client,g=t(36).alert_message,b=t(9),v=b.defaults,E=b.required,o=w(function(e){var t,n;return t=e.name,{propTypes:{error:S.string,actions:S.object.isRequired},reduxProps:(n={},n[""+t]={timers:S.immutable.List,error:S.string},n),render_stopwatches:function(){var e,t;if(null!=this.props.timers)return t=[],e=this.click_button,this.props.timers.map(function(n){return function(n){t.push(l.createElement(p,{key:n.get("id"),label:n.get("label"),total:n.get("total"),state:n.get("state"),time:n.get("time"),click_button:function(t){return e(n.get("id"),t)}}))}}(this)),t},click_button:function(e,t){switch(t){case"stop":return this.props.actions.stop_stopwatch(e);case"start":return this.props.actions.start_stopwatch(e);case"pause":return this.props.actions.pause_stopwatch(e);default:return console.warn("unknown button '"+t+"'")}},render:function(){return null!=this.props.error?this.render_error():null!=this.props.timers&&this.props.timers.size>0?l.createElement("div",{style:{margin:"15px"}},this.render_stopwatches()):l.createElement(a,null)}}}),p=w({propTypes:{label:S.string.isRequired,total:S.number.isRequired,state:S.string.isRequired,time:S.object.isRequired,click_button:S.func.isRequired},mixins:[d],componentDidMount:function(){return this.setInterval(function(e){return function(){return e.forceUpdate()}}(this),1e3)},render_start_button:function(){return l.createElement(r,{bsStyle:"primary",onClick:function(e){return function(){return e.props.click_button("start")}}(this),style:{width:"8em"}},l.createElement(s,{name:"play"})," Start")},render_stop_button:function(){return l.createElement(r,{bsStyle:"warning",onClick:function(e){return function(){return e.props.click_button("stop")}}(this)},l.createElement(s,{name:"stop"})," Stop")},render_pause_button:function(){return l.createElement(r,{bsStyle:"info",onClick:function(e){return function(){return e.props.click_button("pause")}}(this),style:{width:"8em"}},l.createElement(s,{name:"pause"})," Pause")},render_time:function(){var e;switch(this.props.state){case"stopped":e=0;break;case"paused":e=this.props.total;break;case"running":e=this.props.total+(j.server_time()-this.props.time);break;default:return l.createElement("div",null,"Invalid state ",this.props.state)}return l.createElement(m,{amount:e})},render_buttons:function(){switch(this.props.state){case"stopped":return this.render_start_button();case"paused":return l.createElement(i,null,this.render_start_button(),this.render_stop_button());case"running":return l.createElement(i,null,this.render_pause_button(),this.render_stop_button())}},render:function(){return l.createElement(_,null,this.render_time(),this.render_buttons())}}),M=function(e){return e=""+e,1===e.length&&(e="0"+e),e},m=w({propTypes:{amount:S.number.isRequired},render:function(){var e,t,n,r;return r=Math.round(this.props.amount/1e3),e=Math.floor(r/3600),r-=3600*e,t=Math.floor(r/60),r-=60*t,n=r,l.createElement("div",{style:{fontSize:"50pt",fontFamily:"courier"}},M(e),":",M(t),":",M(n))}}),f=function(e){function t(){return this.pause_stopwatch=T(this.pause_stopwatch,this),this.start_stopwatch=T(this.start_stopwatch,this),this.stop_stopwatch=T(this.stop_stopwatch,this),this.add_stopwatch=T(this.add_stopwatch,this),this._set=T(this._set,this),this._syncdb_change=T(this._syncdb_change,this),this.init_error=T(this.init_error,this),this._init=T(this._init,this),t.__super__.constructor.apply(this,arguments)}return O(t,e),t.prototype._init=function(){return this.setState({timers:void 0})},t.prototype.init_error=function(e){return this.setState({error:e})},t.prototype._syncdb_change=function(){if(this.setState({timers:this.syncdb.get()}),0===this.syncdb.count())return this.add_stopwatch()},t.prototype._set=function(e){return this.syncdb.set(e),this.syncdb.save()},t.prototype.add_stopwatch=function(){var e;for(e=1;null!=this.syncdb.get_one({id:e});)e+=1;return this._set({id:e,label:"",total:0,state:"stopped",time:j.server_time()-0})},t.prototype.stop_stopwatch=function(e){return this._set({id:e,total:0,state:"stopped",time:j.server_time()-0})},t.prototype.start_stopwatch=function(e){return this._set({id:e,time:j.server_time()-0,state:"running"})},t.prototype.pause_stopwatch=function(e){var t;if(t=this.syncdb.get_one({id:e}),null!=t)return this._set({id:e,time:j.server_time()-0,total:t.get("total")+(j.server_time()-t.get("time")),state:"paused"})},t}(n),t(83).register_file_editor({ext:["time"],is_public:!1,icon:"clock-o",component:o,init:function(e,t,n){var r,i,o,s;return i=x(n,e),null!=t.getActions(i)?i:(r=t.createActions(i,f),o=t.createStore(i),r._init(),s=j.sync_db({project_id:n,path:e,primary_keys:["id"],string_cols:["label"]}),r.syncdb=s,r.store=o,s.once("init",function(t){return function(t){var n;return t?(n="Error opening '"+e+"' -- "+t,console.warn(n),void g({type:"error",message:n})):(r._syncdb_change(),s.on("change",r._syncdb_change))}}(this)),i)},remove:function(e,t,n){var r,i,o,s;if(i=x(n,e),r=t.getActions(i),null!=r&&null!=(o=r.syncdb)&&o.close(),s=t.getStore(i),null!=s)return delete s.state,t.removeStore(i),t.removeActions(i),i}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;n=t(821),c=t(12),s=c.React,a=c.ReactDOM,l=c.rclass,d=c.rtypes,u=t(22),r=u.Button,o=u.Modal,i=t(17).Icon,exports.About=l({propTypes:{actions:d.object.isRequired,about:d.bool,backend_kernel_info:d.immutable.Map},close:function(){return this.props.actions.setState({about:!1}),this.props.actions.focus(!0)},render_server_info:function(){var e,t;return t=null!=(e=this.props.backend_kernel_info)?e.get("nodejs_version"):void 0,t?s.createElement("pre",null,"Node.js Version ",t):s.createElement("div",null,"Waiting for server to be available...")},render_kernel_info:function(){var e,t;return e=null!=(t=this.props.backend_kernel_info)?t.get("banner"):void 0,null==e?s.createElement("div",null,"Waiting for kernel to be available..."):s.createElement("pre",null,s.createElement(n,null,e))},render_features:function(){return s.createElement("ul",{style:{marginTop:"10px",backgroundColor:"#eee"}},s.createElement("li",null," Multiple people can simultaneously edit notebooks: multiple cursors, document-wide user-specific undo and redo"),s.createElement("li",null," TimeTravel shows detailed history of exactly how a notebook was created"),s.createElement("li",null," Zoom in and out for demos or tired eyes"),s.createElement("li",null," Code folding"),s.createElement("li",null," Modern look with buttons, menus and cell execution hints that better reflect state"),s.createElement("li",null," Sophisticated handling of large output: throttling, windowing, backend buffering"),s.createElement("li",null," Background capture of output even if no user has the notebook open"),s.createElement("li",null," Improved phone and tablet support"),s.createElement("li",null," Easily sharing your work publicly with our client-side notebook viewer"),s.createElement("li",null," Raw file edit mode: synchronized editing of underlying ipynb file"),s.createElement("li",null," Easily export notebook to LaTeX, then edit the generated LaTeX with our integrated LaTeX editor"),s.createElement("li",null," VIM, Emacs, and Sublime keybindings, and color schemes (in account settings)"))},render:function(){return s.createElement(o,{show:this.props.about,bsSize:"large",onHide:this.close},s.createElement(o.Header,{closeButton:!0},s.createElement(o.Title,null,s.createElement(i,{name:"question-circle"})," About CoCalc Jupyter Notebook")),s.createElement(o.Body,null,s.createElement("p",null,"You are using the CoCalc Jupyter notebook."),s.createElement("div",{style:{color:"#666",margin:"0px 45px"}},"CoCalc Jupyter notebook is a complete open source rewrite by SageMath, Inc.\nof the classical Jupyter notebook client from\nthe ",s.createElement("a",{href:"http://jupyter.org/",target:"_blank"},"Jupyter project"),".\nCoCalc Jupyter notebook maintains full compatibility with the file format\nand general look and feel of the classical notebook.\nIt improves on the classical notebook as follows:",this.render_features(),"Some functionality of classical\nextensions and widgets are not yet supported (if you need\nsomething, let us know), and of course some of the above is\nalso available in classical Jupyter via extensions."),s.createElement("h4",null,"Server Information"),this.render_server_info(),s.createElement("h4",null,"Current Kernel Information"),this.render_kernel_info()),s.createElement(o.Footer,null,s.createElement(r,{onClick:this.close},"Close")))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v;h=t(26),m=t(9),g=t(12),c=g.React,u=g.ReactDOM,_=g.rclass,v=g.rtypes,l=t(17).Markdown,i=t(879).CodeMirror,o=t(789).CodeMirrorStatic,a=t(793).InputPrompt,s=t(790).Complete,r=t(876).CellToolbar,n=t(869).CellTiming,d=t(304).get_blob_url,p=function(e,t){return function(n){var r,i,o,s;if(!m.startswith(n,"attachment:"))return n;switch(o=n.slice(11),r=t.getIn(["attachments",o]),i=m.filename_extension(o),null!=r?r.get("type"):void 0){case"sha1":return s=r.get("value"),d(e,i,s);case"base64":return"jpg"===i&&(i="jpeg"),"data:image/"+i+";base64,"+r.get("value");default:return""}}},f=function(e){return e.find(":header").each(function(e,t){var n;t=$(t),n=t.text().trim().replace(/\s/g,"-"),t.attr("id",n).addClass("cocalc-jupyter-header"),t.append($("<a/>").addClass("cocalc-jupyter-anchor-link").attr("href","#"+n).text("¶"))})},exports.CellInput=_({propTypes:{actions:v.object,cm_options:v.immutable.Map.isRequired,cell:v.immutable.Map.isRequired,is_markdown_edit:v.bool,is_focused:v.bool,is_current:v.bool,font_size:v.number,project_id:v.string,directory:v.string,complete:v.immutable.Map,cell_toolbar:v.string,trust:v.bool},shouldComponentUpdate:function(e){return e.cell.get("input")!==this.props.cell.get("input")||e.cell.get("exec_count")!==this.props.cell.get("exec_count")||e.cell.get("cell_type")!==this.props.cell.get("cell_type")||e.cell.get("state")!==this.props.cell.get("state")||e.cell.get("start")!==this.props.cell.get("start")||e.cell.get("end")!==this.props.cell.get("end")||e.cell.get("tags")!==this.props.cell.get("tags")||e.cell.get("cursors")!==this.props.cell.get("cursors")||e.cell.get("line_numbers")!==this.props.cell.get("line_numbers")||e.cm_options!==this.props.cm_options||e.trust!==this.props.trust||e.is_markdown_edit!==this.props.is_markdown_edit&&"markdown"===e.cell.get("cell_type")||e.is_focused!==this.props.is_focused||e.is_current!==this.props.is_current||e.font_size!==this.props.font_size||e.complete!==this.props.complete||e.cell_toolbar!==this.props.cell_toolbar||"slideshow"===e.cell_toolbar&&e.cell.get("slide")!==this.props.cell.get("slide")},render_input_prompt:function(e){return c.createElement(a,{type:e,state:this.props.cell.get("state"),exec_count:this.props.cell.get("exec_count"),kernel:this.props.cell.get("kernel"),start:this.props.cell.get("start"),end:this.props.cell.get("end")})},handle_md_double_click:function(){var e;if(null!=this.props.actions)return e=this.props.cell.get("id"),this.props.actions.set_md_cell_editing(e),this.props.actions.set_cur_id(e),this.props.actions.set_mode("edit")},options:function(e){var t;switch(e){case"code":t=this.props.cm_options.get("options");break;case"markdown":t=this.props.cm_options.get("markdown");break;default:t=this.props.cm_options.get("options"),t=t.set("mode",{}),t=t.set("foldGutter",!1)}return null!=this.props.cell.get("line_numbers")&&(t=t.set("lineNumbers",this.props.cell.get("line_numbers"))),t},render_codemirror:function(e){var t,n;return null!=this.props.actions?c.createElement(i,{value:null!=(t=this.props.cell.get("input"))?t:"",options:this.options(e),actions:this.props.actions,id:this.props.cell.get("id"),is_focused:this.props.is_focused,font_size:this.props.font_size,cursors:this.props.cell.get("cursors")}):c.createElement(o,{value:null!=(n=this.props.cell.get("input"))?n:"",options:this.options(e),actions:this.props.actions,id:this.props.cell.get("id"),font_size:this.props.font_size})},render_markdown:function(){var e,t;return t=null!=(e=this.props.cell.get("input"))?e.trim():void 0,t||(t="Type *Markdown* and LaTeX: $\\alpha^2$"),c.createElement("div",{onDoubleClick:this.handle_md_double_click,style:{width:"100%",wordWrap:"break-word",overflow:"auto"},className:"cocalc-jupyter-rendered cocalc-jupyter-rendered-md"},c.createElement(l,{value:t,project_id:this.props.project_id,file_path:this.props.directory,href_transform:p(this.props.project_id,this.props.cell),post_hook:f,safeHTML:!this.props.trust}))},render_unsupported:function(e){return c.createElement("div",null,"Unsupported cell type ",e)},render_input_value:function(e){var t;switch(t=this.props.cell.get("id"),e){case"code":return this.render_codemirror(e);case"raw":return this.render_codemirror(e);case"markdown":return this.props.is_markdown_edit?this.render_codemirror(e):this.render_markdown();default:return this.render_unsupported(e)}},render_complete:function(){var e;if(null!=this.props.complete&&(null!=(e=this.props.complete.get("matches"))?e.size:void 0)>0)return c.createElement(s,{complete:this.props.complete,actions:this.props.actions,id:this.props.id})},render_cell_toolbar:function(){if(this.props.cell_toolbar&&null!=this.props.actions)return c.createElement(r,{actions:this.props.actions,cell_toolbar:this.props.cell_toolbar,cell:this.props.cell})},render_time:function(){var e;if(e=this.props.cell,null!=e.get("start"))return c.createElement("div",{style:{position:"relative",zIndex:1,right:0,width:"100%",paddingLeft:"5px"},className:"pull-right hidden-xs"},c.createElement("div",{style:{color:"#999",fontSize:"8pt",position:"absolute",right:"5px",lineHeight:1.25,top:"1px",textAlign:"right"}},c.createElement(n,{start:e.get("start"),end:e.get("end"),state:e.get("state")})))},render:function(){var e,t;return t=null!=(e=this.props.cell.get("cell_type"))?e:"code",c.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch"}},this.render_input_prompt(t),this.render_complete(),c.createElement("div",{style:{width:"100%"}},this.render_cell_toolbar(),c.createElement("div",null,this.render_time(),this.render_input_value(t))))}})},function(e,exports,t){var n,r,i,o,s,a;s=t(12),n=s.React,r=s.ReactDOM,o=s.rclass,a=s.rtypes,i=t(17).TimeAgo,exports.CellTiming=o({propTypes:{start:a.number,end:a.number,state:a.string},render:function(){var e;return null==this.props.start?n.createElement("span",null):(null!=this.props.end?e=(this.props.end-this.props.start)/1e3+" seconds":null!=this.props.state&&"done"!==this.props.state||(e="(killed)"),n.createElement("div",null,n.createElement(i,{date:new Date(this.props.start)}),n.createElement("br",null),e))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u;c=t(12),i=c.React,o=c.ReactDOM,l=c.rclass,u=c.rtypes,n=t(17).Icon,a=t(9),s={fontSize:"inherit",padding:0,display:"flex",flexDirection:"column"},r=a.merge({borderColor:"transparent"},s),exports.OutputToggle=l({propTypes:{actions:u.object,id:u.string.isRequired,scrolled:u.bool},toggle_scrolled:function(){var e;return null!=(e=this.props.actions)?e.toggle_output(this.props.id,"scrolled"):void 0},collapse_output:function(){var e;return null!=(e=this.props.actions)?e.toggle_output(this.props.id,"collapsed"):void 0},render:function(){return i.createElement("div",{className:"btn btn-default",style:this.props.scrolled?s:r,onClick:this.toggle_scrolled,onDoubleClick:this.collapse_output},i.createElement("div",{style:{flex:1}}),"     ",this.props.children)}}),exports.CollapsedOutput=l({propTypes:{actions:u.object,id:u.string.isRequired},show_output:function(){var e;return null!=(e=this.props.actions)?e.toggle_output(this.props.id,"collapsed"):void 0},render:function(){return i.createElement("div",{className:"btn btn-default",onClick:this.show_output,style:{textAlign:"center",width:"100%",color:"#777",padding:0}},i.createElement(n,{name:"ellipsis-h"}))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p;l=t(9),u=t(12),s=u.React,a=u.ReactDOM,c=u.rclass,p=u.rtypes,n=t(788).CellOutputMessages,i=t(793).OutputPrompt,d=t(870),o=d.OutputToggle,r=d.CollapsedOutput,exports.CellOutput=c({propTypes:{actions:p.object,id:p.string.isRequired,cell:p.immutable.Map.isRequired,project_id:p.string,directory:p.string,more_output:p.immutable.Map,trust:p.bool},shouldComponentUpdate:function(e){var t,n,r,i,o,s;for(s=["collapsed","scrolled","exec_count","state"],r=0,i=s.length;r<i;r++)if(n=s[r],e.cell.get(n)!==this.props.cell.get(n))return!0;return this.props.more_output!==e.more_output||this.props.trust!==e.trust||(o=e.cell.get("output"),t=this.props.cell.get("output"),null==o?null!=t:null==t?null!=o:!o.equals(t))},render_output_prompt:function(){var e,t,n,r;return e=this.props.cell.get("collapsed"),t=void 0,n=this.props.cell.get("output"),null!=n&&n.forEach(function(e){if(e.has("exec_count"))return t=e.get("exec_count"),!1}),r=s.createElement(i,{state:this.props.cell.get("state"),exec_count:t,collapsed:e}),null==this.props.actions||e||null==n||0===n.size?r:null!=this.props.actions?s.createElement(o,{actions:this.props.actions,id:this.props.id,scrolled:this.props.cell.get("scrolled")},r):void 0},render_collapsed:function(){return s.createElement(r,{actions:this.props.actions,id:this.props.id})},render_output_value:function(){var e,t,r;if(this.props.cell.get("collapsed"))return this.render_collapsed();if(r=this.props.cell.get("output"),null!=r)return null!=this.props.more_output&&(t=r.size-1,e=r.get(""+t),this.props.more_output.get("mesg_list").forEach(function(e){return function(e){r=r.set(""+t,e),t+=1}}(this)),(null==this.props.cell.get("end")||this.props.more_output.get("time")<this.props.cell.get("end"))&&(r=r.set(""+t,e))),s.createElement(n,{scrolled:this.props.cell.get("scrolled"),output:r,project_id:this.props.project_id,directory:this.props.directory,actions:this.props.actions,trust:this.props.trust,id:this.props.id})},render:function(){return null==this.props.cell.get("output")?s.createElement("div",null):s.createElement("div",{key:"out",style:{display:"flex",flexDirection:"row",alignItems:"stretch"}},this.render_output_prompt(),this.render_output_value())}})},function(e,exports,t){var n,r,i,o,s,a;n=t(22).Button,s=t(12),r=s.React,i=s.ReactDOM,o=s.rclass,a=s.rtypes,exports.Attachments=o({propTypes:{actions:a.object.isRequired,cell:a.immutable.Map.isRequired},edit:function(){return this.props.actions.edit_attachments(this.props.cell.get("id"))},render:function(){return r.createElement(n,{bsSize:"small",onClick:this.edit},"Delete Attachments...")}})},function(e,exports,t){var n,r,i,o,s,a;n=t(22).Button,s=t(12),r=s.React,i=s.ReactDOM,o=s.rclass,a=s.rtypes,exports.Metadata=o({propTypes:{actions:a.object.isRequired,cell:a.immutable.Map.isRequired},edit:function(){return this.props.actions.edit_cell_metadata(this.props.cell.get("id"))},render:function(){return r.createElement(n,{bsSize:"small",onClick:this.edit},"Edit Metadata...")}})},function(e,exports,t){var n,r,i,o,s,a,l;n=t(22).FormControl,a=t(12),r=a.React,i=a.ReactDOM,s=a.rclass,l=a.rtypes,o=[{title:"-",value:""},{title:"Slide",value:"slide"},{title:"Sub-Slide",value:"subslide"},{title:"Fragment",value:"fragment"},{title:"Skip",value:"skip"},{title:"Notes",value:"notes"}],exports.Slideshow=s({propTypes:{actions:l.object.isRequired,cell:l.immutable.Map.isRequired},select:function(e){return this.props.actions.set_cell_slide(this.props.cell.get("id"),e.target.value)},render_options:function(){var e,t,n,i;for(n=[],e=0,t=o.length;e<t;e++)i=o[e],n.push(r.createElement("option",{key:i.value,value:i.value},i.title));return n},render:function(){var e;return r.createElement(n,{componentClass:"select",placeholder:"select",onChange:this.select,value:null!=(e=this.props.cell.get("slide"))?e:""},this.render_options())}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f;p=t(22),n=p.Button,r=p.FormControl,i=p.FormGroup,s=p.InputGroup,h=t(12),a=h.React,l=h.ReactDOM,d=h.rclass,f=h.rtypes,o=t(17).Icon,u=t(9),c={padding:"3px 5px",margin:"3px 3px",background:"#5bc0de",borderRadius:"3px",color:"white",display:"inline-block"},exports.TagsToolbar=d({propTypes:{actions:f.object.isRequired,cell:f.immutable.Map.isRequired},getInitialState:function(){return{input:""}},remove_tag:function(e){return this.props.actions.remove_tag(this.props.cell.get("id"),e)},render_tag:function(e){return a.createElement("span",{key:e,style:c},e,a.createElement(o,{name:"times",style:{marginLeft:"5px",cursor:"pointer"},onClick:function(t){return function(){return t.remove_tag(e)}}(this)}))},render_tags:function(){var e,t,n;if(t=null!=(e=this.props.cell.get("tags"))?e.toJS():void 0,null!=t)return a.createElement("div",{style:{flex:1}},function(){var e,r,i,o;for(i=u.keys(t).sort(),o=[],e=0,r=i.length;e<r;e++)n=i[e],o.push(this.render_tag(n));return o}.call(this))},render_tag_input:function(){return a.createElement(r,{onFocus:this.props.actions.blur_lock,onBlur:this.props.actions.focus_unlock,ref:"input",type:"text",value:this.state.input,onChange:function(e){return function(){return e.setState({input:l.findDOMNode(e.refs.input).value})}}(this),style:{height:"34px"},bsSize:"small",onKeyDown:function(e){return function(t){13===t.which&&e.add_tags()}}(this)})},add_tags:function(){var e,t,n,r;for(n=u.split(this.state.input),e=0,t=n.length;e<t;e++)r=n[e],this.props.actions.add_tag(this.props.cell.get("id"),r,!1);return this.props.actions._sync(),this.setState({input:""})},render_add_button:function(){return a.createElement(n,{bsSize:"small",disabled:0===this.state.input.length,title:"Add tag or tags (separate by spaces)",onClick:this.add_tags,style:{height:"34px"}},"Add")},render_input:function(){return a.createElement("div",{style:{display:"flex"}},this.render_tag_input(),this.render_add_button())},render:function(){return a.createElement("div",{style:{display:"flex"}},this.render_tags(),this.render_input())}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;u=t(12),o=u.React,s=u.ReactDOM,c=u.rclass,d=u.rtypes,a=t(874).Slideshow,n=t(872).Attachments,l=t(875).TagsToolbar,i=t(873).Metadata,r={width:"100%",display:"flex",background:"#eee",border:"1px solid rgb(207, 207, 207)",borderRadius:"2px"},exports.CellToolbar=c({propTypes:{actions:d.object.isRequired,cell_toolbar:d.string.isRequired,cell:d.immutable.Map.isRequired},render:function(){var e;switch(this.props.cell_toolbar){case"slideshow":e=a;break;case"attachments":e=n;break;case"tags":e=l;break;case"metadata":e=i;break;default:return o.createElement("span",null," Toolbar not implemented: ",this.props.cell_toolbar," ")}return o.createElement("div",{style:r},o.createElement("div",{style:{flex:1}}),o.createElement("div",null,o.createElement(e,{actions:this.props.actions,cell:this.props.cell})))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m;d=t(30),u=t(9),h=t(12),l=h.React,c=h.ReactDOM,p=h.rclass,m=h.rtypes,f=t(17),o=f.Icon,s=f.Loading,n=t(868).CellInput,r=t(871).CellOutput,exports.Cell=p({propTypes:{actions:m.object,id:m.string.isRequired,cm_options:m.object.isRequired,cell:m.immutable.Map.isRequired,is_current:m.bool,is_selected:m.bool,is_markdown_edit:m.bool,mode:m.string.isRequired,font_size:m.number,project_id:m.string,directory:m.string,complete:m.immutable.Map,is_focused:m.bool,more_output:m.immutable.Map,cell_toolbar:m.string,trust:m.bool},shouldComponentUpdate:function(e){return e.id!==this.props.id||e.cm_options!==this.props.cm_options||e.cell!==this.props.cell||e.is_current!==this.props.is_current||e.is_selected!==this.props.is_selected||e.is_markdown_edit!==this.props.is_markdown_edit||e.mode!==this.props.mode||e.font_size!==this.props.font_size||e.is_focused!==this.props.is_focused||e.more_output!==this.props.more_output||e.cell_toolbar!==this.props.cell_toolbar||e.trust!==this.props.trust||e.complete!==this.props.complete&&(e.is_current||this.props.is_current)},render_cell_input:function(e){return l.createElement(n,{key:"in",cell:e,actions:this.props.actions,cm_options:this.props.cm_options,is_markdown_edit:this.props.is_markdown_edit,is_focused:this.props.is_current&&"edit"===this.props.mode,is_current:this.props.is_current,id:this.props.id,font_size:this.props.font_size,project_id:this.props.project_id,directory:this.props.directory,complete:this.props.is_current?this.props.complete:void 0,cell_toolbar:this.props.cell_toolbar,trust:this.props.trust})},render_cell_output:function(e){return l.createElement(r,{key:"out",cell:e,actions:this.props.actions,id:this.props.id,project_id:this.props.project_id,directory:this.props.directory,more_output:this.props.more_output,trust:this.props.trust})},click_on_cell:function(e){if(null!=this.props.actions)return e.shiftKey&&!this.props.is_current?(d.clear_selection(),this.props.actions.select_cell_range(this.props.id)):(this.props.actions.set_cur_id(this.props.id),this.props.actions.unselect_all_cells())},render_hook:function(){if(this.props.is_current&&null!=this.props.actions)return l.createElement(i,{name:this.props.actions.name})},render:function(){var e,t,n;return this.props.is_current?"edit"===this.props.mode?e=t="#66bb6a":this.props.is_focused?(e="#ababab",t="#42a5f5"):(e="#eee",t="#42a5ff"):e=t=this.props.is_selected?"#e3f2fd":"white",n={border:"1px solid "+e,borderLeft:"5px solid "+t,padding:"5px",position:"relative"},this.props.is_selected&&(n.background="#e3f2fd"),l.createElement("div",{style:n,onClick:this.click_on_cell,id:this.props.id},this.render_hook(),this.render_cell_input(this.props.cell),this.render_cell_output(this.props.cell))}}),a={position:"absolute",fontSize:0},i=p(function(e){var t,n;return t=e.name,{reduxProps:(n={},n[""+t]={hook_offset:m.number,mode:m.string},n),render:function(){var e;return e=u.copy(a),e.top="edit"===this.props.mode?this.props.hook_offset:void 0,l.createElement("div",{style:e,className:"cocalc-jupyter-hook"},l.createElement(o,{name:"circle"}))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p;c=t(12),o=c.React,s=c.ReactDOM,l=c.rclass,u=c.rtypes,p=t(23),d=t(73),a=t(9),n=t(790).Complete,r=t(881).Cursors,i={width:"100%",overflowX:"hidden",border:"1px solid #cfcfcf",borderRadius:"2px",background:"#f7f7f7",lineHeight:"1.21429em"},exports.CodeMirrorEditor=l({propTypes:{actions:u.object,id:u.string.isRequired,options:u.immutable.Map.isRequired,value:u.string.isRequired,font_size:u.number,cursors:u.immutable.Map,set_click_coords:u.func.isRequired,click_coords:u.object,set_last_cursor:u.func.isRequired,last_cursor:u.object,is_focused:u.bool,complete:u.immutable.Map},componentDidMount:function(){return this.init_codemirror(this.props.options,this.props.value)},_cm_destroy:function(){var e,t;if(null!=this.cm)return null!=(e=this.props.actions)&&e.unregister_input_editor(this.props.id),delete this._cm_last_remote,delete this.cm.save,null!=this._cm_change&&(this.cm.off("change",this._cm_change),this.cm.off("focus",this._cm_focus),this.cm.off("blur",this._cm_blur),delete this._cm_change),$(this.cm.getWrapperElement()).remove(),null!=(t=this.cm.getOption("extraKeys"))&&(t.Tab=void 0),delete this.cm},_cm_focus:function(){if(this._cm_is_focused=!0,null!=this.cm&&null!=this.props.actions)return this.props.actions.unselect_all_cells(),this.props.actions.set_cur_id(this.props.id),this.props.actions.set_mode("edit"),this._vim_mode&&$(this.cm.getWrapperElement()).css({paddingBottom:"1.5em"}),this._cm_cursor()},_cm_blur:function(){if(this._cm_is_focused=!1,null!=this.cm&&null!=this.props.actions&&(this.props.set_last_cursor(this.cm.getCursor()),!this._vim_mode))return this._cm_blur_skip?void delete this._cm_blur_skip:this.props.actions.set_mode("escape")},_cm_cursor:function(){var e,t,n,r,i;if(null!=this.cm&&null!=this.props.actions&&!this.cm._setValueNoJump)return n=function(){var t,n,r,i;for(r=this.cm.listSelections(),i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push({x:e.anchor.ch,y:e.anchor.line,id:this.props.id});return i}.call(this),this.props.actions.set_cursor_locs(n),t=null!=(r=this.props.actions._cell_list_div)?r.offset().top:void 0,null!=t&&this.cm.cursorCoords(!0,"window").top<t&&(i=this.props.actions._cell_list_div.scrollTop(),this.props.actions._cell_list_div.scrollTop(i-(t-this.cm.cursorCoords(!0,"window").top)-20)),this.set_hook_pos()},set_hook_pos:function(){var e;if(null!=this.cm)return e=this.cm.cursorCoords(!0,"local").top,this.props.actions.setState({hook_offset:e})},_cm_set_cursor:function(e){var t,n;return t=e.x,n=e.y,null==t&&(t=0),null==n&&(n=0),n<0&&(n=this.cm.lastLine()+1+n),this.cm.setCursor({line:n,ch:t})},_cm_save:function(){var e;if(null!=this.cm&&null!=this.props.actions)return e=this.cm.getValue(),e!==this._cm_last_remote&&(this._cm_last_remote=e,this.props.actions.set_cell_input(this.props.id,e)),e},_cm_merge_remote:function(e){var t,n;if(null!=this.cm&&(null==this._cm_last_remote&&(this._cm_last_remote=""),this._cm_last_remote!==e))return t=this.cm.getValue(),n=d.three_way_merge({base:this._cm_last_remote,local:t,remote:e}),this._cm_last_remote=e,this.cm.setValueNoJump(n),this.set_hook_pos()},_cm_undo:function(){if(null!=this.cm&&null!=this.props.actions)return this.props.actions.syncdb.in_undo_mode()&&this.cm.getValue()===this._cm_last_remote||this._cm_save(),this.props.actions.undo()},_cm_redo:function(){if(null!=this.cm&&null!=this.props.actions)return this.props.actions.redo()},tab_key:function(){if(null!=this.cm)return this.cm.somethingSelected()?CodeMirror.commands.defaultTab(this.cm):this.tab_nothing_selected()},up_key:function(){var e;if(null!=this.cm)return e=this.cm.getCursor(),(null!=e?e.line:void 0)===this.cm.firstLine()&&0===(null!=e?e.ch:void 0)?this.adjacent_cell(-1):CodeMirror.commands.goLineUp(this.cm)},down_key:function(){var e,t,n;if(null!=this.cm)return e=this.cm.getCursor(),t=this.cm.lastLine(),(null!=e?e.line:void 0)===t&&(null!=e?e.ch:void 0)===(null!=(n=this.cm.getLine(t))?n.length:void 0)?this.adjacent_cell(0):CodeMirror.commands.goLineDown(this.cm)},page_up_key:function(){var e;if(null!=this.cm)return e=this.cm.getCursor(),(null!=e?e.line:void 0)===this.cm.firstLine()&&0===(null!=e?e.ch:void 0)?this.adjacent_cell(-1,-1):CodeMirror.commands.goPageUp(this.cm)},page_down_key:function(){var e,t,n;if(null!=this.cm)return e=this.cm.getCursor(),t=this.cm.lastLine(),(null!=e?e.line:void 0)===t&&(null!=e?e.ch:void 0)===(null!=(n=this.cm.getLine(t))?n.length:void 0)?this.adjacent_cell(0,1):CodeMirror.commands.goPageDown(this.cm)},adjacent_cell:function(e,t){var n;return this.props.actions.set_mode("escape"),n=function(n){return function(){return null!=t&&n.props.actions.move_cursor(t),
n.props.actions.set_mode("edit"),n.props.actions.set_cursor(n.props.actions.store.get("cur_id"),{x:0,y:e})}}(this),setTimeout(n,0)},tab_nothing_selected:function(){var e,t,n,r,i;if(null!=this.cm)return e=this.cm.getCursor(),0===e.ch||/\s/.test(this.cm.getLine(e.line)[e.ch-1])?void(this.cm.options.indentWithTabs?CodeMirror.commands.defaultTab(this.cm):this.cm.tab_as_space()):(r=this.cm.cursorCoords(e,"local"),i=r.bottom,n=r.left,t=$(this.cm.getGutterElement()).width(),this.props.actions.complete(this.cm.getValue(),e,this.props.id,{top:i,left:n,gutter:t}))},update_codemirror_options:function(e,t){return e.forEach(function(e){return function(n,r){var i;n!==t.get(r)&&(n=null!=(i=null!=n&&"function"==typeof n.toJS?n.toJS():void 0)?i:n,e.cm.setOption(r,n))}}(this))},init_codemirror:function(e,t){var n,r,i,o;if(i=$(s.findDOMNode(this)).find("textarea")[0],null!=i)return o=e.toJS(),null!=this.props.actions?(null==o.extraKeys&&(o.extraKeys={}),o.extraKeys.Tab=this.tab_key,o.extraKeys.Up=this.up_key,o.extraKeys.Down=this.down_key,o.extraKeys.PageUp=this.page_up_key,o.extraKeys.PageDown=this.page_down_key,o.extraKeys["Cmd-/"]="toggleComment",o.extraKeys["Ctrl-/"]="toggleComment"):o.readOnly=!0,o.foldGutter&&(o.extraKeys["Ctrl-Q"]=function(e){return e.foldCodeSelectionAware()},o.gutters=["CodeMirror-linenumbers","CodeMirror-foldgutter"]),this.cm=CodeMirror.fromTextArea(i,o),this.cm.save=function(e){return function(){return e.props.actions.save()}}(this),null!=this.props.actions&&"vim"===o.keyMap?(this._vim_mode=!0,this.cm.on("vim-mode-change",function(e){return function(t){return"normal"===t.mode?setTimeout(function(){return e.props.actions.setState({cur_cell_vim_mode:"escape"})},0):e.props.actions.setState({cur_cell_vim_mode:"edit"})}}(this))):this._vim_mode=!1,n={height:"auto"},null==o.theme&&(n.backgroundColor="#f7f7f7"),$(this.cm.getWrapperElement()).css(n),this._cm_last_remote=t,this.cm.setValue(t),this._cm_change=p.debounce(this._cm_save,1e3),this.cm.on("change",this._cm_change),this.cm.on("focus",this._cm_focus),this.cm.on("blur",this._cm_blur),this.cm.on("cursorActivity",this._cm_cursor),this.cm.undo=this._cm_undo,this.cm.redo=this._cm_redo,null!=this.props.actions&&(r={save:this._cm_save,set_cursor:this._cm_set_cursor},this.props.actions.register_input_editor(this.props.id,r)),this.props.is_focused&&this.cm.focus(),null!=this.props.click_coords?(this.cm.setCursor(this.cm.coordsChar(this.props.click_coords,"window")),this.props.set_click_coords()):null!=this.props.last_cursor?(this.cm.setCursor(this.props.last_cursor),this.props.set_last_cursor()):void 0},componentDidMount:function(){return this.init_codemirror(this.props.options,this.props.value)},componentWillReceiveProps:function(e){var t;return null==this.cm?void this.init_codemirror(e.options,e.value):(this.props.options.equals(e.options)||this.update_codemirror_options(e.options,this.props.options),this.props.font_size!==e.font_size&&this.cm.refresh(),e.value!==this.props.value&&this._cm_merge_remote(e.value),e.is_focused&&!this.props.is_focused&&null!=(t=this.cm)&&t.focus(),!e.is_focused&&this._cm_is_focused&&setTimeout(function(e){return function(){var t;return null!=(t=e.cm)?t.getInputField().blur():void 0}}(this),1),this._vim_mode&&!e.is_focused&&this.props.is_focused?$(this.cm.getWrapperElement()).css({paddingBottom:0}):void 0)},componentWillUnmount:function(){if(null!=this.cm)return this._cm_save(),this._cm_destroy()},render_complete:function(){var e;if(null!=this.props.complete&&(null!=(e=this.props.complete.get("matches"))?e.size:void 0)>0)return o.createElement(n,{complete:this.props.complete,actions:this.props.actions,id:this.props.id})},render_cursors:function(){if(null!=this.props.cursors)return o.createElement(r,{cursors:this.props.cursors,codemirror:this.cm})},render:function(){return o.createElement("div",{style:{width:"100%",overflow:"auto"}},this.render_cursors(),o.createElement("div",{style:i},o.createElement("textarea",null)),this.render_complete())}})},function(e,exports,t){var n,r,i,o,s,a,l;a=t(12),i=a.React,o=a.ReactDOM,s=a.rclass,l=a.rtypes,n=t(878).CodeMirrorEditor,r=t(789).CodeMirrorStatic,exports.CodeMirror=s({propTypes:{actions:l.object,id:l.string.isRequired,options:l.immutable.Map.isRequired,value:l.string.isRequired,font_size:l.number,is_focused:l.bool.isRequired,cursors:l.immutable.Map,complete:l.immutable.Map},getInitialState:function(){return{click_coords:void 0,last_cursor:void 0}},set_click_coords:function(e){return this.setState({click_coords:e})},set_last_cursor:function(e){if(this._is_mounted)return this.setState({last_cursor:e})},componentDidMount:function(){return this._is_mounted=!0},componentWillUnmount:function(){return this._is_mounted=!1},shouldComponentUpdate:function(e){return e.id!==this.props.id||e.options!==this.props.options||e.value!==this.props.value||e.font_size!==this.props.font_size||e.is_focused!==this.props.is_focused||e.cursors!==this.props.cursors||e.complete!==this.props.complete},render:function(){return i.createElement(n,{actions:this.props.actions,id:this.props.id,options:this.props.options,value:this.props.value,font_size:this.props.font_size,cursors:this.props.cursors,click_coords:this.state.click_coords,set_click_coords:this.set_click_coords,set_last_cursor:this.set_last_cursor,last_cursor:this.state.last_cursor,is_focused:this.props.is_focused,complete:this.props.complete})}})},function(e,exports,t){"Confirmation dialog, for explicitly confirming dangerous actions.";var n,r,i,o,s,a,l,c,u,d,p;c=t(17),r=c.Icon,i=c.Markdown,u=t(12),s=u.React,a=u.ReactDOM,l=u.rclass,p=u.rtypes,d=t(22),n=d.Button,o=d.Modal,exports.ConfirmDialog=l({propTypes:{actions:p.object.isRequired,confirm_dialog:p.immutable.Map},close:function(){return this.props.actions.close_confirm_dialog(),this.props.actions.focus(!0)},render_button:function(e){return s.createElement(n,{key:e.get("title"),bsStyle:e.get("style"),autoFocus:e.get("default"),onClick:function(t){return function(){return t.props.actions.close_confirm_dialog(e.get("title"))}}(this)},e.get("title"))},render_buttons:function(){var e,t,n;return n=[],null!=(e=this.props.confirm_dialog)&&null!=(t=e.get("choices"))&&t.forEach(function(e){return function(t){return n.push(e.render_button(t))}}(this)),n},render_title_icon:function(){var e,t;if(e=null!=(t=this.props.confirm_dialog)?t.get("icon"):void 0,null!=e)return s.createElement(r,{name:e})},render:function(){var e,t;return s.createElement(o,{show:null!=this.props.confirm_dialog&&null==this.props.confirm_dialog.get("choice"),onHide:this.close},s.createElement(o.Header,{closeButton:!0},s.createElement(o.Title,null,this.render_title_icon()," ",null!=(e=this.props.confirm_dialog)?e.get("title"):void 0)),s.createElement(o.Body,null,s.createElement(i,{value:null!=(t=this.props.confirm_dialog)?t.get("body"):void 0})),s.createElement(o.Footer,null,this.render_buttons()))}})},function(e,exports,t){var n,r,i,o,s,a,l,c;l=t(12),i=l.React,o=l.ReactDOM,a=l.rclass,c=l.rtypes,s=t(9),exports.Cursor=n=a({propTypes:{name:c.string.isRequired,color:c.string.isRequired},getInitialState:function(){return{hover:!1}},componentDidMount:function(){return this._mounted=!0},componentWillUnmount:function(){return this._mounted=!1},hide:function(){if(delete this._timer,this._mounted)return this.setState({hover:!1})},show:function(e){if(this._mounted)return null!=this._timer&&clearTimeout(this._timer),this.setState({hover:!0}),this._timer=setTimeout(function(e){return function(){return e.hide()}}(this),e)},render:function(){return i.createElement("span",{style:{color:this.props.color,position:"relative",cursor:"text",pointerEvents:"all"},onMouseEnter:function(e){return function(){return e.show(3e3)}}(this),onClick:function(e){return function(){return e.show(3e3)}}(this)},i.createElement("span",{style:{width:0,height:"1em",borderLeft:"2px solid",position:"absolute"}}),i.createElement("span",{style:{width:"6px",left:"-2px",top:"-2px",height:"6px",position:"absolute",backgroundColor:this.props.color}}),this.state.hover?i.createElement("span",{style:{position:"absolute",fontSize:"10pt",color:"#fff",top:"-10px",left:"-2px",padding:"2px",whiteSpace:"nowrap",background:this.props.color,fontFamily:"sans-serif",boxShadow:"3px 3px 5px 0px #bbb"}},this.props.name):void 0)}}),r=a({propTypes:{name:c.string.isRequired,color:c.string.isRequired,line:c.number.isRequired,ch:c.number.isRequired,codemirror:c.object},render_codemirror:function(){var e,t,r,o;return r=this.props.codemirror.cursorCoords({line:this.props.line,ch:this.props.ch},"local"),t=r.left,o=r.top,e=$(this.props.codemirror.getGutterElement()).width(),i.createElement("div",{style:{position:"absolute",left:t+e+"px",top:o+"px"}},i.createElement(n,{name:this.props.name,color:this.props.color}))},render_static:function(){var e,t,r;return r={position:"absolute",height:0,lineHeight:"normal",fontFamily:"monospace",whiteSpace:"pre",top:"4px",left:"4px",pointerEvents:"none"},t=function(){var t,n,r;for(r=[],e=t=0,n=this.props.line;0<=n?t<n:t>n;e=0<=n?++t:--t)r.push("\n");return r}.call(this).join("")+function(){var t,n,r;for(r=[],e=t=0,n=this.props.ch;0<=n?t<n:t>n;e=0<=n?++t:--t)r.push(" ");return r}.call(this).join(""),i.createElement("div",{style:r},t,i.createElement(n,{name:this.props.name,color:this.props.color}))},render:function(){return null==this.props.codemirror?this.render_static():this.render_codemirror()}}),exports.Cursors=a({propTypes:{cursors:c.immutable.Map.isRequired,codemirror:c.object},reduxProps:{users:{user_map:c.immutable.Map},account:{account_id:c.string}},profile:function(e){var t,n,r,i;return i=this.props.user_map.get(e),null!=i?(t=null!=(r=i.getIn(["profile","color"]))?r:"rgb(170,170,170)",n=s.trunc_middle(i.get("first_name")+" "+i.get("last_name"),60)):(t="rgb(170,170,170)",n="Private User"),{color:t,name:n}},render:function(){var e,t,n;return e=s.server_time(),n=[],null!=(t=this.props.cursors)&&t.forEach(function(t){return function(o,s){var a,l,c;return c=t.profile(s),a=c.color,l=c.name,o.forEach(function(o){var c,u;if(e-o.get("time")<=6e4){if(s===t.props.account_id)return;n.push(i.createElement(r,{key:n.length,color:a,name:l,line:null!=(c=o.get("y"))?c:0,ch:null!=(u=o.get("x"))?u:0,codemirror:t.props.codemirror}))}})}}(this)),i.createElement("div",{style:{position:"relative",height:0,zIndex:5}},n)}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;c=t(12),s=c.React,a=c.ReactDOM,l=c.rclass,d=c.rtypes,r=t(17).Icon,u=t(22),n=u.Button,i=u.Modal,o={display:"flex",border:"1px solid #ddd",padding:"7px",borderRadius:"3px"},exports.EditAttachments=l({propTypes:{actions:d.object.isRequired,cell:d.immutable.Map},shouldComponentUpdate:function(e){return e.cell!==this.props.cell},close:function(){return this.props.actions.setState({edit_attachments:void 0}),this.props.actions.focus(!0)},delete_attachment:function(e){return this.props.actions.delete_attachment_from_cell(this.props.cell.get("id"),e)},render_attachment:function(e){return s.createElement("div",{key:e,width:"100%",style:o},s.createElement("div",{style:{flex:1}},e),s.createElement("div",null,s.createElement(n,{onClick:function(t){return function(){return t.delete_attachment(e)}}(this),bsStyle:"danger"},s.createElement(r,{name:"trash"})," Delete")))},render_attachments:function(){var e,t,n;return n=[],null!=(e=this.props.cell)&&null!=(t=e.get("attachments"))&&t.forEach(function(e){return function(t,r){return n.length>0&&n.push(s.createElement("div",{style:{marginTop:"7px"},key:r+"space"})),n.push(e.render_attachment(r))}}(this)),0===n.length?s.createElement("span",null,"There are no attachments. To attach images, use Edit -> Insert Image."):n},render:function(){return s.createElement(i,{show:null!=this.props.cell,onHide:this.close},s.createElement(i.Header,{closeButton:!0},s.createElement(i.Title,null,s.createElement(r,{name:"trash"})," Delete Cell Attachments")),s.createElement(i.Body,null,this.render_attachments()),s.createElement(i.Footer,null,s.createElement(n,{onClick:this.close},"Close")))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;c=t(12),s=c.React,a=c.ReactDOM,l=c.rclass,d=c.rtypes,r=t(17).Icon,u=t(22),n=u.Button,o=u.Modal,i=t(791).JSONEditor,exports.EditCellMetadata=l({propTypes:{actions:d.object.isRequired,font_size:d.number,id:d.string,metadata:d.immutable.Map.isRequired,cm_options:d.immutable.Map.isRequired},shouldComponentUpdate:function(e){return e.metadata!==this.props.metadata||e.font_size!==this.props.font_size||e.cm_options!==this.props.cm_options},close:function(){return this.props.actions.setState({edit_cell_metadata:void 0}),this.props.actions.focus_unlock()},render_directions:function(){return s.createElement("span",{color:"#666"},"Manually edit the JSON below to manipulate the metadata for this cell.\nThe JSON is automatically saved as long as it is valid.")},on_change:function(e){if(null!=this.props.id)return this.props.actions.set_cell_metadata(this.props.id,e)},render_editor:function(){return s.createElement("div",{style:{fontSize:this.props.font_size,border:"1px solid #ccc",margin:"5px",borderRadius:"3px"}},s.createElement(i,{value:this.props.metadata,font_size:this.props.font_size,on_change:this.on_change,cm_options:this.props.cm_options,undo:this.props.actions.undo,redo:this.props.actions.redo}))},render:function(){return s.createElement(o,{show:null!=this.props.id,onHide:this.close},s.createElement(o.Header,{closeButton:!0},s.createElement(o.Title,null,s.createElement(r,{name:"edit"})," Edit Custom Cell Metadata")),s.createElement(o.Body,null,this.render_directions(),this.render_editor()),s.createElement(o.Footer,null,s.createElement(n,{onClick:this.close},"Close")))}})},function(e,exports,t){"The find and replace modal dialog";var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y;_=t(12),p=_.React,h=_.ReactDOM,m=_.rclass,y=_.rtypes,g=t(22),n=g.Button,r=g.ButtonGroup,i=g.ControlLabel,s=g.FieldGroup,a=g.FormControl,l=g.FormGroup,u=g.InputGroup,d=g.Modal,v=t(17),o=v.ErrorDisplay,c=v.Icon,f=t(926).find_matches,exports.FindAndReplace=m({propTypes:{actions:y.object.isRequired,find_and_replace:y.bool,cells:y.immutable.Map.isRequired,sel_ids:y.immutable.Set,cur_id:y.string,cell_list:y.immutable.List},getInitialState:function(){return{all:!1,case:!1,regexp:!1,find:"",replace:""}},shouldComponentUpdate:function(e,t){return!(!e.find_and_replace&&!this.props.find_and_replace)},close:function(){return this.props.actions.close_find_and_replace(),this.props.actions.focus(!0)},focus:function(){return $(h.findDOMNode(this.refs.find)).focus()},render_case_button:function(){return p.createElement(n,{onClick:function(e){return function(){return e.setState({case:!e.state.case}),e.focus()}}(this),title:"Match case",active:this.state.case},"Aa")},render_regexp_button:function(){return p.createElement(n,{onClick:function(e){return function(){return e.setState({regexp:!e.state.regexp}),e.focus()}}(this),title:"Use regex (JavaScript regex syntax)",active:this.state.regexp},".*")},render_all_button:function(){return p.createElement(n,{onClick:function(e){return function(){return e.setState({all:!e.state.all}),e.focus()}}(this),title:"Replace in all cells",active:this.state.all},p.createElement(c,{name:"arrows-v"}))},render_find:function(){var e;return e="Find",this.state.case&&(e+=" case sensitive"),this.state.regexp&&(e+=" regular expression"),p.createElement(a,{autoFocus:!0,ref:"find",type:"text",placeholder:e,value:this.state.find,onChange:function(e){return function(){return e.setState({find:h.findDOMNode(e.refs.find).value})}}(this)})},render_replace:function(){return p.createElement(a,{style:{marginTop:"15px"},ref:"replace",type:"text",placeholder:"Replace",value:this.state.replace,onChange:function(e){return function(){return e.setState({replace:h.findDOMNode(e.refs.replace).value})}}(this)})},render_form:function(){return p.createElement("form",null,p.createElement(l,null,p.createElement(u,null,p.createElement(u.Button,null,this.render_case_button(),this.render_regexp_button(),this.render_all_button()),this.render_find()),this.render_replace()))},get_text:function(){var e,t,n,r;return r=[],n=void 0,this.state.all||(n=null!=(e=this.props.sel_ids)?e.add(this.props.cur_id):void 0),null!=(t=this.props.cell_list)&&t.forEach(function(e){return function(t){var i,o;(null==n||n.has(t))&&(i=e.props.cells.get(t),r.push(null!=(o=i.get("input"))?o:""))}}(this)),r.join("\n")},get_matches:function(){var e,t;return e=this.get_text(),t=f(this.state.find,e,this.state.case,this.state.regexp),t.text=e,t},render_abort:function(e){return null==e&&(e=0),p.createElement("div",null,"Only showing first ",e," matches")},render_error:function(e){return p.createElement(o,{error:e,style:{margin:"1ex"}})},render_matches_title:function(e){var t;return null==e&&(e=0),t=0===e?"No matches":e+" match"+(1!==e?"es":""),p.createElement("h5",null,t)},render_matches:function(e,t){var n,r,i,o,s,a,l,c,u,d,h,f,m,_,g,v;if(null==e)return this.render_matches_title(null!=e?e.length:void 0);for(g=[],i=0,c=0,s=0,d=t.split("\n"),o=0,a=d.length;o<a;o++){for(l=d[o],u=c+l.length,v=[],f=0;i<e.length&&(h=e[i],m=h.start,_=h.stop,!(m>=u))&&(n=Math.max(f,m-c),r=Math.min(l.length,_-c),v.push(p.createElement("span",{key:s},l.slice(f,n))),s+=1,v.push(p.createElement("span",{key:s,style:{backgroundColor:"#ffa"}},l.slice(n,r))),s+=1,f=r,r<=u);)i+=1;f<l.length&&(v.push(p.createElement("span",{key:s},l.slice(f))),s+=1),g.push(p.createElement("div",{key:s},v)),s+=1,c=u+1}return p.createElement("div",null,this.render_matches_title(null!=e?e.length:void 0),p.createElement("pre",{style:{color:"#666",maxHeight:"50vh"}},g))},replace:function(e){var t,n,r,i,o,s,a,l,c;if(r=null!=(i=this._matches)?i.matches:void 0,null!=r)return c=void 0,this.state.all||(c=null!=(o=this.props.sel_ids)?o.add(this.props.cur_id):void 0),n=0,t=0,a=this.state.replace,l=0,null!=(s=this.props.cell_list)&&s.forEach(function(i){return function(o){var s,u,d,p,h,f,m,_,g,v,y;if(null==c||c.has(o)){if(null!=e&&l>=e)return!1;for(d=i.props.cells.get(o),h=null!=(m=d.get("input"))?m:"",p=t+h.length,f="",g=0;n<r.length;){if(null!=e&&l>=e){n=r.length;break}if(_=r[n],v=_.start,y=_.stop,v>=p)break;if(s=Math.max(g,v-t),u=Math.min(h.length,y-t),f+=h.slice(g,s),f+=a,l+=1,g=u,!(u<=p))break;n+=1}g<h.length&&(f+=h.slice(g)),h!==f&&i.props.actions.set_cell_input(o,f,!1),t=p+1}}}(this)),this.props.actions._sync()},render_results:function(){var e,t,n,r,i;return r=this._matches,n=r.matches,e=r.abort,t=r.error,i=r.text,t?this.render_error(t):p.createElement("div",null,e?this.render_abort(null!=n?n.length:void 0):void 0,this.render_matches(n,i))},title:function(){var e,t,n,r,i,o;return o="Find and Replace in ",this.props.find_and_replace?(this.state.all?o+="All "+this.props.cells.size+" Cells":0===(null!=(t=null!=(n=this.props.sel_ids)?n.size:void 0)?t:0)?o+="the Current Cell":(e=null!=(r=null!=(i=this.props.sel_ids)?i.add(this.props.cur_id).size:void 0)?r:1,o+=e+" Selected Cell"+(e>1?"s":"")),o):o},render_replace_one_button:function(){var e;return e=this.num_matches(),p.createElement(n,{onClick:function(e){return function(){return e.replace(1)}}(this),bsStyle:"primary",disabled:0===e},this.replace_action()," First Match")},num_matches:function(){var e,t,n;return null!=(e=null!=(t=this._matches)&&null!=(n=t.matches)?n.length:void 0)?e:0},replace_action:function(e){return this.state.replace?"Replace":"Delete"},render_replace_all_button:function(){var e,t;return e=this.num_matches(),t=e>1?e+" Matches":e>0?"One Match":"All",p.createElement(n,{onClick:function(e){return function(){return e.replace()}}(this),bsStyle:"primary",disabled:0===e},this.replace_action(e)," ",t)},render:function(){return this._matches=this.get_matches(),p.createElement(d,{show:this.props.find_and_replace,bsSize:"large",onHide:this.close},p.createElement(d.Header,{closeButton:!0},p.createElement(d.Title,null,p.createElement(c,{name:"search"})," ",this.title()," ")),p.createElement(d.Body,null,this.render_form(),this.render_results()),p.createElement(d.Footer,null,this.render_replace_one_button(),this.render_replace_all_button(),p.createElement(n,{onClick:this.close},"Close")))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_;u=t(26),m=t(12),i=m.React,o=m.ReactDOM,h=m.rclass,_=m.rtypes,f=m.redux,p=t(9),s=t(347),n=t(333).CellList,a=t(348).cm_options,c=function(e,t){var n,r,i;return r=u.Map(),null!=(i=e.get({type:"cell"},t))&&i.forEach(function(e){r=r.set(e.get("id"),e)}),n=s.sorted_cell_list(r),{cells:r,cell_list:n}},exports.HistoryViewer=r=h({propTypes:{syncdb:_.object.isRequired,version:_.object},render_cells:function(){var e,t,r,o,s,l,d,h,m;return s=this.props.syncdb.get_project_id(),r=null!=(l=p.path_split(this.props.syncdb.get_path()))?l.head:void 0,d=c(this.props.syncdb,this.props.version),t=d.cells,e=d.cell_list,o=u.fromJS({markdown:void 0,options:a()}),i.createElement(n,{cell_list:e,cells:t,font_size:null!=(h=null!=(m=f.getStore("account"))?m.get("font_size"):void 0)?h:14,mode:"escape",cm_options:o,project_id:s,directory:r,trust:!1})},render:function(){return i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"}},this.render_cells())}}),l=t(800).export_to_ipynb,d=t(64),exports.jupyter_history_viewer_jquery_shim=function(e){var t,n;return t=$("<div class='smc-vfill'></div>"),n={element:t,show:function(){return t.show()},hide:function(){return t.hide()},remove:function(){return o.unmountComponentAtNode(t[0])},set_version:function(n){return o.render(i.createElement(r,{syncdb:e,version:n}),t[0])},to_str:function(t){var n;return n=l(c(e,t)),d(n,{space:1})}}}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p;u=t(12),o=u.React,s=u.ReactDOM,c=u.rclass,p=u.rtypes,r=t(17).Icon,d=t(22),n=d.Button,i=d.Modal,a=t(337).SMC_Dropzone,l=".smc/tmp",exports.InsertImage=c({propTypes:{actions:p.object.isRequired,project_id:p.string.isRequired,cur_id:p.string.isRequired,insert_image:p.bool},shouldComponentUpdate:function(e,t){return e.insert_image!==this.props.insert_image},close:function(){return this.props.actions.setState({insert_image:!1}),this.props.actions.focus(!0)},add_file:function(e){return this.props.actions.add_attachment_to_cell(this.props.cur_id,l+"/"+e.name)},render:function(){return o.createElement(i,{show:this.props.insert_image,bsSize:"large",onHide:this.close},o.createElement(i.Header,{closeButton:!0},o.createElement(i.Title,null,o.createElement(r,{name:"file-image-o"})," Pick image files to attach to this markdown cell")),o.createElement(i.Body,null,o.createElement(a,{project_id:this.props.project_id,current_path:l,dropzone_handler:{addedfile:this.add_file}})),o.createElement(i.Footer,null,o.createElement(n,{onClick:this.close},"Done")))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p;d=t(12),s=d.React,a=d.ReactDOM,u=d.rclass,p=d.rtypes,o=t(17).Icon,c=t(9),r=t(788).CellOutputMessage,l={padding:"10px 20px 5px",overflowY:"auto",border:"1px solid #888",height:"100vh"},i={border:"1px solid rgb(207, 207, 207)",borderRadius:"2px",background:"rgb(247, 247, 247)",padding:"5px 25px"},n={cursor:"pointer",position:"absolute",right:"18px",fontSize:"14pt",color:"#666",marginTop:"-5px"},exports.Introspect=u({propTypes:{actions:p.object.isRequired,introspect:p.immutable.Map.isRequired,font_size:p.number},close:function(){return this.props.actions.clear_introspect()},render_content:function(){var e;return e=this.props.introspect.get("found"),null==e||e?s.createElement(r,{message:this.props.introspect}):s.createElement("div",null,"Nothing found")},render:function(){var e;return e=null!=this.props.font_size?c.merge({fontSize:this.props.font_size},i):i,s.createElement("div",{style:l},s.createElement(o,{name:"times",onClick:this.close,style:n}),s.createElement("div",{style:e},this.render_content()))}})},function(e,exports,t){var n,r,i,o,s,a,l;n=t(1241),a=t(12),i=a.React,o=a.ReactDOM,s=a.rclass,l=a.rtypes,r=t(17).Loading,exports.JSONView=s({propTypes:{actions:l.object.isRequired,font_size:l.number,cells:l.immutable.Map,kernel:l.string},render_desc:function(){var e;return e="Read-only view of notebook's underlying object structure.",i.createElement("div",{style:{color:"#666",fontSize:"12pt",right:"15px",position:"absolute",background:"white"}},e)},render:function(){var e,t,o;return t={fontSize:this.props.font_size+"px",paddingLeft:"20px",padding:"20px",backgroundColor:"#eee",height:"100%",overflowY:"auto",overflowX:"hidden"},o={backgroundColor:"#fff",padding:"15px",boxShadow:"0px 0px 12px 1px rgba(87, 87, 87, 0.2)",position:"relative"},e=this.props.actions.store.get_ipynb(),null==e?i.createElement(r,null):i.createElement("div",{style:t},i.createElement("div",{style:o},this.render_desc(),i.createElement(n,{data:e})))}})},function(e,exports,t){var n,r,i,o,s,a;s=t(12),n=s.React,r=s.ReactDOM,o=s.rclass,a=s.rtypes,i=t(304).get_logo_url,exports.Logo=o({propTypes:{kernel:a.string.isRequired,project_id:a.string.isRequired,kernel_info_known:a.bool.isRequired},getInitialState:function(){return{logo_failed:""}},shouldComponentUpdate:function(e,t){return e.kernel!==this.props.kernel||e.project_id!==this.props.project_id||e.kernel_info_known!==this.props.kernel_info_known||t.logo_failed!==this.state.logo_failed},render:function(){var e;return e=this.props.kernel,this.state.logo_failed===e?n.createElement("img",{style:{width:"0px",height:"32px"}}):n.createElement("img",{src:i(this.props.project_id,e)+("?n="+Math.random()),style:{width:"32px",height:"32px"},onError:function(t){return function(){if(t.props.kernel_info_known)return t.setState({logo_failed:e})}}(this)})}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j;C=t(17),a=C.ErrorDisplay,c=C.Icon,_=C.Loading,E=t(12),b=E.React,w=E.ReactDOM,A=E.rclass,j=E.rtypes,k=t(896).TopMenubar,x=t(895).TopButtonbar,r=t(333).CellList,d=t(887).Introspect,S=t(894),f=S.Kernel,g=S.Mode,n=t(867).About,v=t(891).NBConvert,u=t(886).InsertImage,o=t(882).EditAttachments,s=t(883).EditCellMetadata,l=t(884).FindAndReplace,i=t(880).ConfirmDialog,m=t(792).KeyboardShortcuts,p=t(888).JSONView,y=t(893).RawEditor,h={position:"absolute",right:0,paddingLeft:"5px",backgroundColor:"#eee"},exports.JupyterEditor=A(function(e){var t,c;return t=e.name,{propTypes:{error:j.string,actions:j.object.isRequired},reduxProps:(c={},c[""+t]={view_mode:j.string,kernel:j.string,error:j.string,fatal:j.string,toolbar:j.bool,has_unsaved_changes:j.bool,cell_list:j.immutable.List,cells:j.immutable.Map,cur_id:j.string,sel_ids:j.immutable.Set.isRequired,mode:j.string.isRequired,font_size:j.number,md_edit_ids:j.immutable.Set.isRequired,cm_options:j.immutable.Map,project_id:j.string,directory:j.string,version:j.object,complete:j.immutable.Map,introspect:j.immutable.Map,is_focused:j.bool,more_output:j.immutable.Map,about:j.bool,backend_kernel_info:j.immutable.Map,confirm_dialog:j.immutable.Map,find_and_replace:j.bool,keyboard_shortcuts:j.immutable.Map,scroll:j.oneOfType([j.number,j.string]),nbconvert:j.immutable.Map,nbconvert_dialog:j.immutable.Map,path:j.string,cell_toolbar:j.string,insert_image:j.bool,edit_attachments:j.string,edit_cell_metadata:j.immutable.Map,editor_settings:j.immutable.Map,raw_ipynb:j.immutable.Map,metadata:j.immutable.Map,trust:j.bool},c),render_error:function(){if(this.props.error)return b.createElement(a,{error:this.props.error,style:{margin:"1ex"},onClose:function(e){return function(){return e.props.actions.set_error(void 0)}}(this)})},render_fatal:function(){if(this.props.fatal)return b.createElement("div",null,b.createElement("h2",{style:{marginLeft:"10px"}},"Fatal Error loading ipynb file"),b.createElement(a,{error:this.props.fatal,style:{margin:"1ex"}}))},render_kernel:function(){return b.createElement("span",{style:h},b.createElement(f,{name:this.props.name,actions:this.props.actions}),b.createElement(g,{name:this.props.name}))},render_menubar:function(){return b.createElement(k,{actions:this.props.actions,name:t})},render_buttonbar:function(){return b.createElement(x,{actions:this.props.actions,name:t})},render_heading:function(){return b.createElement("div",{style:{boxShadow:"0px 0px 12px 1px rgba(87, 87, 87, 0.2)",zIndex:100}},this.render_kernel(),this.render_menubar(),this.props.toolbar?this.render_buttonbar():void 0)},render_cells:function(){return null==this.props.cell_list||null==this.props.font_size||null==this.props.cm_options?b.createElement(_,{style:{fontSize:"24pt",textAlign:"center",marginTop:"15px",color:"#888"}}):b.createElement(r,{actions:this.props.actions,cell_list:this.props.cell_list,cells:this.props.cells,font_size:this.props.font_size,sel_ids:this.props.sel_ids,md_edit_ids:this.props.md_edit_ids,cur_id:this.props.cur_id,mode:this.props.mode,cm_options:this.props.cm_options,project_id:this.props.project_id,directory:this.props.directory,scrollTop:this.props.actions.store.get_scroll_state(),complete:this.props.complete,is_focused:this.props.is_focused,more_output:this.props.more_output,scroll:this.props.scroll,cell_toolbar:this.props.cell_toolbar,trust:this.props.trust})},render_introspect:function(){if(null!=this.props.introspect)return b.createElement(d,{actions:this.props.actions,introspect:this.props.introspect,font_size:this.props.font_size})},render_about:function(){return b.createElement(n,{actions:this.props.actions,about:this.props.about,backend_kernel_info:this.props.backend_kernel_info})},render_nbconvert:function(){return b.createElement(v,{actions:this.props.actions,path:this.props.path,nbconvert:this.props.nbconvert,nbconvert_dialog:this.props.nbconvert_dialog,backend_kernel_info:this.props.backend_kernel_info})},render_insert_image:function(){if(null!=this.props.cur_id&&null!=this.props.project_id)return b.createElement(u,{actions:this.props.actions,cur_id:this.props.cur_id,project_id:this.props.project_id,insert_image:this.props.insert_image})},render_edit_attachments:function(){var e,t;if(null!=this.props.edit_attachments&&(e=null!=(t=this.props.cells)?t.get(this.props.edit_attachments):void 0,null!=e))return b.createElement(o,{actions:this.props.actions,cell:e})},render_edit_cell_metadata:function(){if(null!=this.props.edit_cell_metadata)return b.createElement(s,{actions:this.props.actions,id:this.props.edit_cell_metadata.get("id"),metadata:this.props.edit_cell_metadata.get("metadata"),font_size:this.props.font_size,cm_options:this.props.cm_options.get("options")})},render_find_and_replace:function(){if(null!=this.props.cells)return b.createElement(l,{actions:this.props.actions,find_and_replace:this.props.find_and_replace,sel_ids:this.props.sel_ids,cur_id:this.props.cur_id,cells:this.props.cells,cell_list:this.props.cell_list})},render_confirm_dialog:function(){return b.createElement(i,{actions:this.props.actions,confirm_dialog:this.props.confirm_dialog})},render_keyboard_shortcuts:function(){return b.createElement(m,{actions:this.props.actions,keyboard_shortcuts:this.props.keyboard_shortcuts})},render_json_viewer:function(){return b.createElement(p,{actions:this.props.actions,cells:this.props.cells,font_size:this.props.font_size,kernel:this.props.kernel})},render_raw_editor:function(){return null==this.props.raw_ipynb||null==this.props.cm_options?b.createElement(_,null):b.createElement(y,{actions:this.props.actions,font_size:this.props.font_size,raw_ipynb:this.props.raw_ipynb,cm_options:this.props.cm_options.get("options")})},render_main_view:function(){switch(this.props.view_mode){case"json":return this.render_json_viewer();case"raw":return this.render_raw_editor();case"normal":return this.render_cells();default:return this.render_cells()}},render:function(){return this.props.fatal?this.render_fatal():b.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"}},this.render_error(),this.render_about(),this.render_nbconvert(),this.render_insert_image(),this.render_edit_attachments(),this.render_edit_cell_metadata(),this.render_find_and_replace(),this.render_keyboard_shortcuts(),this.render_confirm_dialog(),this.render_heading(),this.render_main_view(),this.render_introspect())}}})},function(e,exports,t){
var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v;m=t(17),o=m.Icon,s=m.Loading,_=t(12),c=_.React,u=_.ReactDOM,f=_.rclass,v=_.rtypes,d=t(325).default,g=t(22),n=g.Button,r=g.ButtonGroup,a=g.Modal,h=t(9),p=t(26),l={python:{ext:"py",display:"Python",internal:!0},html:{ext:"html",display:"HTML"},markdown:{ext:"md",display:"Markdown",internal:!0},rst:{ext:"rst",display:"reST",internal:!0},asciidoc:{ext:"asciidoc",display:"AsciiDoc"},slides:{ext:"slides.html",display:"Slides"},latex:{ext:"tex",display:"LaTeX",internal:!0},sagews:{ext:"sagews",display:"Sage Worksheet",internal:!0,nolink:!0},pdf:{ext:"pdf",display:"PDF"},script:{ext:"txt",display:"Executable Script",internal:!0}},i=f({propTypes:{actions:v.object.isRequired,nbconvert:v.immutable.Map},componentDidMount:function(){return setTimeout(function(e){return function(){return e.scroll()}}(this),10)},componentWillReceiveProps:function(e){if(!h.is_string(this.props.nbconvert.get("error"))&&h.is_string(e.nbconvert.get("error")))return setTimeout(function(e){return function(){return e.scroll()}}(this),10)},scroll:function(){var e;return e=$(u.findDOMNode(this.refs.pre)),e.scrollTop(e.prop("scrollHeight"))},render_time:function(){var e,t;if(t=null!=(e=this.props.nbconvert)?e.get("time"):void 0,null!=t)return c.createElement("b",null,c.createElement(d,{title:"",date:new Date(t),minPeriod:5}))},render:function(){var e;return e=this.props.nbconvert.get("error"),e?h.is_string(e)?c.createElement("span",null,c.createElement("h3",null,"Error"),"Running nbconvert failed with an error ",this.render_time(),".  Read the error log below, update your Jupyter\nnotebook, then try again.",c.createElement("pre",{ref:"pre",style:{maxHeight:"40vh",margin:"5px 30px"}},e)):(this.props.actions.nbconvert_get_error(),c.createElement(s,null)):c.createElement("span",null)}}),exports.NBConvert=f({propTypes:{actions:v.object.isRequired,path:v.string.isRequired,nbconvert:v.immutable.Map,nbconvert_dialog:v.immutable.Map,backend_kernel_info:v.immutable.Map},close:function(){return this.props.actions.setState({nbconvert_dialog:void 0}),this.props.actions.focus(!0)},render_edit:function(e){return c.createElement("div",null,c.createElement("br",null),c.createElement(n,{onClick:function(t){return function(){return t.props.actions.file_action("open_file",e),t.close()}}(this)},"Edit exported file..."))},render_download:function(){var e,t,n,r,i,o,s;if(!this.props.nbconvert.get("error")&&(o=this.props.nbconvert_dialog.get("to"),t=l[o],null!=t))return e="script"===o&&null!=this.props.backend_kernel_info?null!=(n=null!=(r=this.props.backend_kernel_info.getIn(["language_info","file_extension"]))?r.slice(1):void 0)?n:"txt":t.ext,i=h.change_filename_extension(this.props.path,e),s=this.props.actions.store.get_raw_link(i),c.createElement("div",{style:{fontSize:"14pt"}},t.nolink?void 0:c.createElement("a",{href:s,target:"_blank"},i),t.internal?this.render_edit(i):void 0)},render_result:function(){var e;if(null!=(e=this.props.nbconvert)?e.get("error"):void 0)return c.createElement(i,{actions:this.props.actions,nbconvert:this.props.nbconvert})},render_recent_run:function(){var e,t,n,i;if(i=null!=(e=this.props.nbconvert)?e.get("time"):void 0,null!=i&&!(i<h.server_minutes_ago(5))&&(null!=(t=this.props.nbconvert)&&null!=(n=t.get("args"))?n.equals(p.fromJS(this.args())):void 0))return i=c.createElement("b",null,c.createElement(d,{title:"",date:new Date(i),minPeriod:5})),c.createElement("div",{style:{marginTop:"15px"}},"Last exported ",i,".",this.render_cmd(),this.render_result(),c.createElement(r,null,this.render_download()))},render_cmd:function(){var e,t,n;return e="sagews"===this.props.nbconvert_dialog.get("to")?"smc-ipynb2sagews '"+(null!=(t=h.path_split(this.props.path))?t.tail:void 0)+"'":"jupyter nbconvert "+this.args().join(" ")+" '"+(null!=(n=h.path_split(this.props.path))?n.tail:void 0)+"'",c.createElement("pre",{style:{margin:"15px 0px",overflowX:"auto"}},e)},render_started:function(){var e,t;if(t=null!=(e=this.props.nbconvert)?e.get("start"):void 0,null!=t)return c.createElement("span",null,"(started ",c.createElement(d,{title:"",date:new Date(t),minPeriod:1}),")")},render_current:function(){var e,t,n,r,i,o;if(null!=this.props.nbconvert_dialog)switch(o=null!=(n=this.props.nbconvert)?n.get("state"):void 0,e=null!=(r=this.props.nbconvert)&&null!=(i=r.get("args"))?i.toJS():void 0,null!=e&&(t="nbconvert "+e.join(" ")+" "+this.props.path),o){case"start":return c.createElement("div",{style:{marginTop:"15px"}},"Requesting to run",this.render_cmd());case"run":return c.createElement("div",{style:{marginTop:"15px"}},"Running... ",this.render_started(),this.render_cmd());case"done":return this.render_recent_run()}},args:function(){return["--to",this.props.nbconvert_dialog.get("to")]},run:function(){return this.props.actions.nbconvert(this.args())},render_run_button:function(){var e,t;if(null!=this.props.nbconvert_dialog)return t=null!=(e=this.props.nbconvert)?e.get("state"):void 0,c.createElement("div",null,c.createElement(n,{onClick:this.run,bsStyle:"success",bsSize:"large",disabled:"start"===t||"run"===t},"Export to ",this.target_name(),"..."))},nbconvert_docs:function(){return c.createElement("a",{href:"http://nbconvert.readthedocs.io/en/latest/usage.html",target:"_blank",className:"pull-right"},c.createElement(o,{name:"external-link"})," nbconvert documentation")},target_name:function(){var e,t,n;return n=null!=(e=this.props.nbconvert_dialog)?e.get("to"):void 0,null!=n?null!=(t=l[n])?t.display:void 0:""},render:function(){return c.createElement(a,{show:null!=this.props.nbconvert_dialog,bsSize:"large",onHide:this.close},c.createElement(a.Header,{closeButton:!0},c.createElement(a.Title,null,"Download")),c.createElement(a.Body,null,this.nbconvert_docs(),this.render_run_button(),this.render_current()),c.createElement(a.Footer,null,c.createElement(n,{onClick:this.close},"Close")))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p;u=t(17),r=u.ErrorDisplay,i=u.Icon,o=u.Loading,d=t(12),s=d.React,a=d.ReactDOM,c=d.rclass,p=d.rtypes,n=t(333).CellList,l=t(9),exports.NBViewer=c(function(e){var t,i;return t=e.name,{reduxProps:(i={},i[""+t]={project_id:p.string.isRequired,path:p.string.isRequired,loading:p.object,error:p.string,cell_list:p.immutable,cells:p.immutable,font_size:p.number.isRequired,cm_options:p.immutable},i),render_loading:function(){return s.createElement(o,{style:{fontSize:"24pt",textAlign:"center",marginTop:"15px",color:"#888"}})},render_error:function(){return s.createElement(r,{error:this.props.error,onClose:function(e){return function(){return e.props.actions.setState({error:void 0})}}(this)})},render_cells:function(){var e;return e=l.path_split(this.props.path).head,s.createElement(n,{cell_list:this.props.cell_list,cells:this.props.cells,font_size:this.props.font_size,mode:"escape",cm_options:this.props.cm_options,project_id:this.props.project_id,directory:e,trust:!1})},render_body:function(){return s.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"}},this.render_cells())},render:function(){return null!=this.props.error?this.render_error():null!=this.props.cell_list&&null!=this.props.cells&&null!=this.props.cm_options?this.render_body():this.render_loading()}}})},function(e,exports,t){var n,r,i,o,s,a,l,c;l=t(12),i=l.React,o=l.ReactDOM,a=l.rclass,c=l.rtypes,s=t(9),r=t(17).Loading,n=t(791).JSONEditor,exports.RawEditor=a({propTypes:{actions:c.object.isRequired,font_size:c.number.isRequired,raw_ipynb:c.immutable.Map.isRequired,cm_options:c.immutable.Map.isRequired},shouldComponentUpdate:function(e){return this.props.font_size!==e.font_size||this.props.raw_ipynb!==e.raw_ipynb||this.props.cm_options!==e.cm_options},render_desc:function(){var e;return e="This is an editable view IPynb notebook's underlying .ipynb file ",e+=" (images are replaced by sha1 hashes).",i.createElement("div",{style:{color:"#666",fontSize:"12pt",marginBottom:"15px"}},e)},on_change:function(e){return this.props.actions.set_to_ipynb(e)},render_editor:function(){return i.createElement(n,{value:this.props.raw_ipynb,font_size:this.props.font_size,on_change:this.on_change,cm_options:this.props.cm_options,undo:this.props.actions.undo,redo:this.props.actions.redo})},render:function(){var e,t;return e={fontSize:this.props.font_size+"px",backgroundColor:"#eee",height:"100%",overflowY:"auto",overflowX:"hidden"},t={backgroundColor:"#fff",boxShadow:"0px 0px 12px 1px rgba(87, 87, 87, 0.2)",height:"100%"},i.createElement("div",{style:e},i.createElement("div",{style:t},this.render_editor()))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m;h=t(12),l=h.React,c=h.ReactDOM,p=h.rclass,m=h.rtypes,f=t(17),r=f.Icon,s=f.Loading,u=f.Tip,d=t(9),a=t(889).Logo,exports.Mode=p(function(e){var t,n;return t=e.name,{reduxProps:(n={},n[""+t]={mode:m.string},n),shouldComponentUpdate:function(e){return e.mode!==this.props.mode},render:function(){return"edit"!==this.props.mode?l.createElement("span",null):l.createElement("div",{className:"pull-right",style:{color:"#666",margin:"5px",paddingRight:"5px"}},l.createElement(r,{name:"pencil"}))}}}),o={margin:"5px",color:"rgb(33, 150, 243)",borderLeft:"1px solid #666",paddingLeft:"5px"},i={margin:"5px",color:"#fff",padding:"5px",backgroundColor:"red"},n={marginRight:"5px",color:o.color},exports.Kernel=p(function(e){var t,c;return t=e.name,{propTypes:{actions:m.object.isRequired},reduxProps:(c={},c[""+t]={kernel:m.string,kernels:m.immutable.List,project_id:m.string,kernel_info:m.immutable.Map,backend_state:m.string,kernel_state:m.string,trust:m.bool},c),shouldComponentUpdate:function(e){return e.kernel!==this.props.kernel||null!=e.kernels!=(null!=this.props.kernels)||e.project_id!==this.props.project_id||e.kernel_info!==this.props.kernel_info||e.backend_state!==this.props.backend_state||e.kernel_state!==this.props.kernel_state||e.trust!==this.props.trust},render_logo:function(){if(null!=this.props.project_id&&null!=this.props.kernel)return l.createElement("span",{className:"pull-right"},l.createElement(a,{project_id:this.props.project_id,kernel:this.props.kernel,kernel_info_known:null!=this.props.kernel_info}))},render_name:function(){var e,t;return e=null!=(t=this.props.kernel_info)?t.get("display_name"):void 0,null==e&&null!=this.props.kernels?l.createElement("span",{style:i},"Unknown kernel ",l.createElement("span",{style:{fontWeight:"bold"}},this.props.kernel)," (select a valid kernel from the Kernel menu)"):(null==e&&(e=this.props.kernel),l.createElement("span",{style:o},null!=e?e:"No Kernel"))},render_backend_state_icon:function(){var e,i,o;if(e=this.props.backend_state,null==e)return l.createElement(s,null);switch(o=!1,i=void 0,e){case"init":t="unlink";break;case"ready":t="circle-o-notch";break;case"spawning":t="circle-o-notch",o=!0;break;case"starting":t="circle-o-notch",o=!0;break;case"running":switch(this.props.kernel_state){case"busy":t="circle",i="#5cb85c";break;case"idle":t="circle-o";break;default:t="circle-o"}}return l.createElement("span",{style:n},l.createElement(r,{name:t,spin:o,style:{color:i}}))},render_trust:function(){return this.props.trust?l.createElement("span",{style:{color:"#888"}},"Trusted"):l.createElement("span",{title:"Notebook is not trusted",style:{background:"#5bc0de",color:"white",cursor:"pointer",padding:"3px",borderRadius:"3px"},onClick:function(e){return function(){return e.props.actions.trust_notebook()}}(this)},"Not Trusted")},render_tip:function(e,t){var n,r,i,o;if(n=this.props.backend_state,r="Backend is "+n+".","running"===n)switch(this.props.kernel_state){case"busy":i=" Kernel is busy.";break;case"idle":i=" Kernel is idle.";break;default:i=" Kernel will start when you run code."}else i="";return o=l.createElement("span",null,r,i?l.createElement("br",null):void 0,i),l.createElement(u,{title:e,tip:o,placement:"bottom"},t)},render:function(){var e,t;return null==this.props.kernel?l.createElement("span",null):(t=l.createElement("span",null,this.render_trust(),this.render_name()),e=l.createElement("div",{className:"pull-right",style:{color:"#666",cursor:"pointer",marginTop:"7px"}},t,this.render_backend_state_icon()),l.createElement("span",null,this.render_logo(),this.render_tip(t,e)))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_;h=t(22),r=h.ButtonGroup,n=h.Button,i=h.Form,o=h.FormControl,s=t(17).Icon,f=t(12),a=f.React,l=f.ReactDOM,p=f.rclass,_=f.rtypes,d=t(9),m=d.required,u=d.defaults,c=t(897).UncommittedChanges,exports.TopButtonbar=p(function(e){var t,l;return t=e.name,{propTypes:{actions:_.object.isRequired},focus:function(){return this.props.actions.focus(!0)},reduxProps:(l={},l[""+t]={cells:_.immutable.Map,cur_id:_.string,sel_ids:_.immutable.Set,has_unsaved_changes:_.bool,has_uncommitted_changes:_.bool,kernel_state:_.string},l),shouldComponentUpdate:function(e){var t,n;return e.cur_id!==this.props.cur_id||(null!=(t=e.cells)?t.getIn([this.props.cur_id,"cell_type"]):void 0)!==(null!=(n=this.props.cells)?n.getIn([this.props.cur_id,"cell_type"]):void 0)||e.has_unsaved_changes!==this.props.has_unsaved_changes||e.has_uncommitted_changes!==this.props.has_uncommitted_changes||e.kernel_state!==this.props.kernel_state},command:function(e,t){return function(n){return function(){var r;return $(":focus").blur(),null!=(r=n.props.actions)&&r.command(e),t?n.focus():n.props.actions.blur()}}(this)},render_button:function(e,t){var r,i,o,l,c;if("object"==typeof t&&(l=t,t=l.name,r=l.disabled),o=null!=(c=this.props.actions._commands)?c[t]:void 0,null!=o)return i=!d.endswith(o.m,"..."),a.createElement(n,{key:e,onClick:this.command(t,i),title:o.m,disabled:r},a.createElement(s,{name:o.i}))},render_buttons:function(e){var n,r;r=[];for(n in e)t=e[n],r.push(this.render_button(n,t));return r},render_button_group:function(e,t){return a.createElement(r,{className:t?"hidden-xs":""},this.render_buttons(e))},render_add_cell:function(){return this.render_buttons(["insert cell below"])},render_group_edit:function(){return this.render_button_group(["cut cell","copy cell","paste cell and replace"],!0)},render_group_move:function(){return this.render_button_group(["move cell up","move cell down"],!0)},render_group_run:function(){return this.render_button_group(["run cell and select next",{name:"interrupt kernel",disabled:"busy"!==this.props.kernel_state}])},cell_select_type:function(e){return this.props.actions.set_selected_cell_type(e.target.value),this.focus()},render_select_cell_type:function(){var e,t,n,r;return e=(null!=(t=this.props.sel_ids)?t.size:void 0)>1?"multi":null!=(n=null!=(r=this.props.cells)?r.getIn([this.props.cur_id,"cell_type"]):void 0)?n:"code",a.createElement(o,{componentClass:"select",placeholder:"select",onChange:this.cell_select_type,className:"hidden-xs",style:{maxWidth:"8em"},value:null!=e?e:"code"},a.createElement("option",{value:"code"},"Code"),a.createElement("option",{value:"markdown"},"Markdown"),a.createElement("option",{value:"raw"},"Raw"),a.createElement("option",{value:"multi",disabled:!0},"-"))},render_keyboard:function(){return this.render_button("0","show keyboard shortcuts")},render_group_undo_redo:function(){return this.render_button_group(["global undo","global redo"])},render_group_zoom:function(){return a.createElement(r,null,a.createElement(n,{onClick:function(e){return function(){return e.props.actions.zoom(-1),e.focus()}}(this),title:"Zoom out (make text smaller)"},a.createElement(s,{name:"font",style:{fontSize:"7pt"}})),a.createElement(n,{onClick:function(e){return function(){return e.props.actions.zoom(1),e.focus()}}(this),title:"Zoom in (make text larger)"},a.createElement(s,{name:"font",style:{fontSize:"11pt"}})))},render_uncommitted:function(){return a.createElement(c,{has_uncommitted_changes:this.props.has_uncommitted_changes})},render_switch_button:function(){if(!$.browser.firefox)return a.createElement(n,{title:"Switch to classical notebook",onClick:function(e){return function(){return e.props.actions.switch_to_classical_notebook()}}(this)},a.createElement(s,{name:"exchange"})," ",a.createElement("span",{className:"hidden-sm"},"Classical Notebook..."))},render_group_save_timetravel:function(){return a.createElement(r,{className:"hidden-xs"},a.createElement(n,{title:"Save file to disk",bsStyle:"success",onClick:function(e){return function(){return e.props.actions.save(),e.focus()}}(this),disabled:!this.props.has_unsaved_changes},a.createElement(s,{name:"save"})," ",a.createElement("span",{className:"hidden-sm"},"Save"),this.render_uncommitted()),a.createElement(n,{title:"Show complete edit history",bsStyle:"info",onClick:function(e){return function(){return e.props.actions.show_history_viewer()}}(this)},a.createElement(s,{name:"history"})," ",a.createElement("span",{className:"hidden-sm"},"TimeTravel")),this.render_switch_button())},render:function(){return a.createElement("div",{style:{margin:"1px 1px 0px 10px",backgroundColor:"#fff"}},a.createElement(i,{inline:!0},this.render_add_cell(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_group_edit(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_group_move(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_group_undo_redo(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_group_zoom(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_group_run(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_select_cell_type(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_keyboard(),a.createElement("span",{style:{marginLeft:"5px"}}),this.render_group_save_timetravel()))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b;g=t(22),n=g.ButtonGroup,r=g.Dropdown,s=g.MenuItem,i=t(17).Icon,v=t(12),l=v.React,c=v.ReactDOM,_=v.rclass,b=v.rtypes,o=t(792).KeyboardShortcut,m=t(30),f=t(9),y=f.required,p=f.defaults,a=".9",d={color:"#666",border:0,backgroundColor:"rgb(247,247,247)"},u={color:"#2196F3",fontWeight:"bold"},exports.TopMenubar=_(function(e){var t,a;return t=e.name,{reduxProps:(a={},a[""+t]={kernels:b.immutable.List,kernel:b.string,kernel_state:b.string,has_unsaved_changes:b.bool,kernel_info:b.immutable.Map,backend_kernel_info:b.immutable.Map,cells:b.immutable.Map,cur_id:b.string,trust:b.bool,view_mode:b.string,toolbar:b.bool,cell_toolbar:b.string},a),shouldComponentUpdate:function(e){return e.has_unsaved_changes!==this.props.has_unsaved_changes||e.kernels!==this.props.kernels||e.kernel!==this.props.kernel||e.kernel_state!==this.props.kernel_state||e.backend_kernel_info!==this.props.backend_kernel_info||e.cur_id!==this.props.cur_id||e.cells!==this.props.cells||e.trust!==this.props.trust||e.toolbar!==this.props.toolbar||e.cell_toolbar!==this.props.cell_toolbar||e.view_mode!==this.props.view_mode},propTypes:{actions:b.object.isRequired},render_file:function(){var e,t,n,r,i,o;return e=null!=(n=this.props.backend_kernel_info)?n.getIn(["language_info","file_extension"]):void 0,null!=e?(t=f.capitalize(this.props.backend_kernel_info.getIn(["language_info","name"])),i={name:">nbconvert script",display:t+" ("+e+")..."}):i=">nbconvert script",o=this.props.trust?{name:"<trust notebook",display:"Trusted Notebook"}:{name:"trust notebook",display:"Trust Notebook..."},r="save notebook",this.props.has_unsaved_changes||(r="<"+r),this.render_menu({heading:"File",names:["new notebook","open file","","duplicate notebook","rename notebook",r,"time travel","","print preview","<Download as...",">nbconvert ipynb",i,">nbconvert html",">nbconvert markdown",">nbconvert rst",">nbconvert tex",">nbconvert pdf",">nbconvert sagews","",">nbconvert slides",">nbconvert asciidoc","",o,"","close and halt","","switch to classical notebook"]})},render_edit:function(){var e,t,n;return e=null!=(t=this.props.cells)&&null!=(n=t.get(this.props.cur_id))?n.get("cell_type"):void 0,this.render_menu({heading:"Edit",names:["global undo","global redo","","cut cell","copy cell","paste cell above","paste cell below","paste cell and replace","delete cell","","split cell at cursor","merge cell with previous cell","merge cell with next cell","merge cells","","move cell up","move cell down","","find and replace","",("markdown"!==e?"<":"")+"insert image"]})},render_view:function(){var e,n,r,i,o,s,a,l;for(a={normal:">view notebook normal",raw:">view notebook raw",json:">view notebook json"},a[this.props.view_mode]={name:a[this.props.view_mode],style:u},l={name:"toggle toolbar",display:this.props.toolbar?"Hide Toolbar":"Show Toolbar"},e=[],o=["none","metadata","slideshow","attachments","tags"],n=0,i=o.length;n<i;n++)t=o[n],r=">cell toolbar "+t,(null!=(s=this.props.cell_toolbar)?s:"none")===t?e.push({name:r,style:u}):e.push(r);return this.render_menu({heading:"View",names:["toggle header",l,"toggle all line numbers","","<Cell Toolbar..."].concat(e).concat(["","zoom in","zoom out","","<Show Notebook as...",a.normal,a.raw,a.json])})},render_insert:function(){return this.render_menu({heading:"Insert",names:["insert cell above","insert cell below"],min_width:"15em"})},render_cell:function(){return this.render_menu({heading:"Cell",names:["run cell","run cell and select next","run cell and insert below","run all cells","run all cells above","run all cells below","","<Cell Type...",">change cell to code",">change cell to markdown",">change cell to raw","","<Current Output...",">toggle cell output collapsed",">toggle cell output scrolled",">clear cell output","","<All Output...",">toggle all cells output collapsed",">toggle all cells output scrolled",">clear all cells output"]})},render_kernel_item:function(e){var t;return t={marginLeft:"4ex"},e.name===this.props.kernel&&(t.color="#2196F3",t.fontWeight="bold"),l.createElement(s,{key:e.name,eventKey:"kernel-change-"+e.name,onSelect:function(t){return function(){return t.props.actions.set_kernel(e.name),t.focus(),t.props.actions.set_default_kernel(e.name)}}(this)},l.createElement("span",{style:t}," ",e.display_name," "))},render_kernel_items:function(){var e,t,n,r,i,o,s;if(null!=this.props.kernels){for(r=this.props.kernels.toJS(),e=function(e){var t,n;return(null!=(t=null!=(n=e.display_name)?n:e.name)?t:"").toUpperCase()},o=r.sort(function(t,n){return f.cmp(e(t),e(n))}),s=[],t=0,i=o.length;t<i;t++)n=o[t],s.push(this.render_kernel_item(n));return s}},render_kernel:function(){var e,t;return e=this.render_kernel_items(),t=[("busy"!==this.props.kernel_state?"<":"")+"interrupt kernel","confirm restart kernel","confirm restart kernel and clear output","confirm restart kernel and run all cells","","<Change kernel..."].concat(e),this.render_menu({heading:"Kernel",names:t})},focus:function(){return $(":focus").blur(),this.props.actions.focus(!0)},command:function(e){return function(t){return function(){var n,r,i;return null!=(n=t.props.actions)&&n.command(e),$(":focus").blur(),f.endswith(null!=(r=t.props.actions._commands)&&null!=(i=r[e])?i.m:void 0,"...")?t.props.actions.blur():t.focus()}}(this)},menu_item:function(e,t){var n,r,i,a,c,u,d,p,h,m;return t?null!=t.props?t:("object"==typeof t?(a=t,t=a.name,r=a.display,m=a.style,null!=m&&(m=f.copy(m))):r=void 0,null==m&&(m={}),"<"===t[0]?(n=!0,t=t.slice(1)):n=!1,">"===t[0]&&(m.marginLeft="4ex",t=t.slice(1)),i=null!=(c=this.props.actions._commands)?c[t]:void 0,null==i?l.createElement(s,{disabled:n,key:e},l.createElement("span",{style:m},null!=r?r:t)):(h=null!=(u=i.k)?u[0]:void 0,p=null!=h?l.createElement("span",{className:"pull-right"},l.createElement(o,{shortcut:h})):l.createElement("span",null),l.createElement(s,{key:e,onSelect:this.command(t),disabled:n},l.createElement("span",{style:m},null!=(d=null!=r?r:i.m)?d:t," ",p)))):l.createElement(s,{key:e,divider:!0})},menu_items:function(e){var n;return function(){var r;r=[];for(n in e)t=e[n],r.push(this.menu_item(n,t));return r}.call(this)},render_menu:function(e){var t,n,i,o,s;return s=p(e,{heading:y,names:y,opacity:1,min_width:"20em"}),t=s.heading,i=s.names,o=s.opacity,n=s.min_width,l.createElement(r,{key:t,id:t},l.createElement(r.Toggle,{noCaret:!0,bsStyle:"default",style:d},t),l.createElement(r.Menu,{style:{opacity:o,minWidth:n}},this.menu_items(i)))},links_python:function(){return{Python:"https://docs.python.org/2.7/",IPython:"http://ipython.org/documentation.html",Numpy:"https://docs.scipy.org/doc/numpy/reference/",SciPy:"https://docs.scipy.org/doc/scipy/reference/",Matplotlib:"http://matplotlib.org/contents.html",Sympy:"http://docs.sympy.org/latest/index.html",Pandas:"http://pandas.pydata.org/pandas-docs/stable/",SageMath:"http://doc.sagemath.org/"}},links_r:function(){return{R:"https://www.r-project.org/","R Jupyter Kernel":"https://irkernel.github.io/faq/",Bioconductor:"https://www.bioconductor.org/",ggplot2:"http://ggplot2.org/"}},links_bash:function(){return{Bash:"https://tiswww.case.edu/php/chet/bash/bashtop.html",Tutorial:"http://ryanstutorials.net/linuxtutorial/"}},links_julia:function(){return{"Julia Documentation":"http://docs.julialang.org/en/stable/","Gadly Plotting":"http://gadflyjl.org/stable/"}},links_octave:function(){return{Octave:"https://www.gnu.org/software/octave/","Octave Documentation":"https://www.gnu.org/software/octave/doc/interpreter/","Octave Tutorial":"https://en.wikibooks.org/wiki/Octave_Programming_Tutorial","Octave FAQ":"http://wiki.octave.org/FAQ"}},links_postgresql:function(){return{PostgreSQL:"https://www.postgresql.org/docs/","PostgreSQL Jupyter Kernel":"https://github.com/bgschiller/postgres_kernel"}},links_scala211:function(){return{"Scala Documentation":"https://www.scala-lang.org/documentation/"}},links_singular:function(){return{"Singular Manual":"http://www.singular.uni-kl.de/Manual/latest/index.htm"}},render_links:function(){var e,n,r,i,o,s;if(s=[],n=null!=(r=this.props.kernel_info)?r.get("language"):void 0,e=this["links_"+n],null!=e){i=e();for(t in i)o=i[t],s.push(h(t,o))}return s},render_help:function(){return l.createElement(r,{key:"help",id:"menu-help",className:"hidden-xs"},l.createElement(r.Toggle,{noCaret:!0,bsStyle:"default",style:d},"Help"),l.createElement(r.Menu,null,l.createElement(s,{eventKey:"help-about",onSelect:function(e){return function(){return e.props.actions.show_about()}}(this)},l.createElement(i,{name:"question-circle"}),"  About..."),l.createElement(s,{divider:!0}),l.createElement(s,{eventKey:"help-keyboard",onClick:this.command("edit keyboard shortcuts")},l.createElement(i,{name:"keyboard-o"}),"  Keyboard Shortcuts..."),l.createElement(s,{divider:!0}),h("Notebook Help","http://nbviewer.jupyter.org/github/ipython/ipython/blob/3.x/examples/Notebook/Index.ipynb"),h("Jupyter in SageMathCloud","https://github.com/sagemathinc/smc/wiki/sagejupyter"),h("Markdown","https://help.github.com/articles/basic-writing-and-formatting-syntax"),l.createElement(s,{divider:!0}),this.render_links()))},render:function(){return l.createElement("div",{style:{backgroundColor:"rgb(247,247,247)",border:"1px solid #e7e7e7",height:"34px"}},l.createElement(n,null,this.render_file(),this.render_edit(),this.render_view(),this.render_insert(),this.render_cell(),this.render_kernel(),this.render_help()))}}}),h=function(e,t){return l.createElement(s,{key:e,onSelect:function(e){return function(){return m.open_new_tab(t)}}(this)},l.createElement(i,{name:"external-link"})," ",e)}},function(e,exports,t){var n,r,i,o,s,a,l;a=t(12),n=a.React,r=a.ReactDOM,s=a.rclass,l=a.rtypes,i={backgroundColor:"red",padding:"5px",marginLeft:"5px",marginRight:"-5px",borderRadius:"3px"},o="DANGER: File NOT sent to server and not saved to disk.  You will lose work if you close this file.",exports.UncommittedChanges=s({propTypes:{has_uncommitted_changes:l.bool,delay_ms:l.number},getInitialState:function(){return{counter:0}},_check:function(){if(this._mounted&&this.props.has_uncommitted_changes)return this.setState({counter:this.state.counter+1})},shouldComponentUpdate:function(e,t){var n;return(null!=t?t.counter:void 0)!==this.state.counter||(this._last_change=new Date,setTimeout(this._check,null!=(n=this.props.delay_ms)?n:5001),e.has_uncommitted_changes!==this.props.has_uncommitted_changes)},componentWillUnmount:function(){return this._mounted=!1},componentDidMount:function(){return this._mounted=!0},render:function(){var e;return!this.props.has_uncommitted_changes||new Date-this._last_change<(null!=(e=this.props.delay_ms)?e:5e3)?n.createElement("span",null):n.createElement("span",{style:i,title:o},"NOT saved!")}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne;Q=t(12),J=Q.rclass,M=Q.React,T=Q.ReactDOM,V=Q.redux,ne=Q.rtypes,Z=t(22),r=Z.Alert,o=Z.Button,s=Z.ButtonToolbar,l=Z.Col,S=Z.Modal,y=Z.Grid,N=Z.Row,g=Z.FormControl,v=Z.FormGroup,H=Z.Well,a=Z.ClearFix,X=t(17),h=X.ErrorDisplay,x=X.Icon,E=X.Loading,k=X.ImmutablePureRenderMixin,m=X.Footer,W=X.UNIT,I=X.SAGE_LOGO_COLOR,i=X.BS_BLUE_BGRND,ee=t(48),b=ee.HelpEmailLink,F=ee.SiteName,q=ee.SiteDescription,U=ee.TermsOfService,n=ee.AccountCreationEmailInstructions,w=t(301).HelpPageUsageSection,d="sans-serif",Y=t(9),L=t(190),G=[t(1028),t(1029),t(1030),t(1031)],$.get(window.smc_base_url+"/registration",function(e,t){if("success"===t)return V.getActions("account").setState({token:e.token})}),te=function(){var e;if(e=window.location.href.split("#"),2===e.length&&"forgot"===e[1].slice(0,6).toLowerCase())return e[1].slice(7,43).toLowerCase()},j=J({displayName:"Passports",propTypes:{strategies:ne.array},styles:{facebook:{backgroundColor:"#395996",color:"white"},google:{backgroundColor:"#DC4839",color:"white"},twitter:{backgroundColor:"#55ACEE",color:"white"},github:{backgroundColor:"black",color:"black"}},render_strategy:function(e){var t;if("email"!==e)return t=window.smc_base_url+"/auth/"+e,M.createElement("a",{href:t,key:e},M.createElement(x,{size:"2x",name:"stack",href:t},"github"!==e?M.createElement(x,{name:"circle",stack:"2x",style:{color:this.styles[e].backgroundColor}}):void 0,M.createElement(x,{name:e,stack:"1x",size:"github"===e?"2x":void 0,style:{color:this.styles[e].color}})))},render:function(){var e;return M.createElement("div",{style:{textAlign:"center"}},M.createElement("h3",{style:{marginTop:0}},"Connect with"),M.createElement("div",null,function(){var t,n,r,i;for(r=this.props.strategies,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(this.render_strategy(e));return i}.call(this)),M.createElement("hr",{style:{marginTop:10,marginBottom:10}}))}}),p={color:"white",fontSize:"125%",backgroundColor:"red",border:"1px solid lightgray",borderRadius:"4px",padding:"15px",marginTop:"5px",marginBottom:"5px"},B=J({displayName:"SignUp",propTypes:{strategies:ne.array,sign_up_error:ne.object,token:ne.bool,has_account:ne.bool,signing_up:ne.bool,style:ne.object},make_account:function(e){var t,n,r,i,o;return e.preventDefault(),n=T.findDOMNode(this.refs.name).value,t=T.findDOMNode(this.refs.email).value,r=T.findDOMNode(this.refs.password).value,o=null!=(i=T.findDOMNode(this.refs.token))?i.value:void 0,this.actions("account").create_account(n,t,r,o)},display_error:function(e){var t;if(null!=(null!=(t=this.props.sign_up_error)?t[e]:void 0))return M.createElement("div",{style:p},this.props.sign_up_error[e])},display_passports:function(){return null==this.props.strategies?M.createElement(E,null):this.props.strategies.length>1?M.createElement(j,{strategies:this.props.strategies}):void 0},display_token_input:function(){if(this.props.token)return M.createElement(v,null,M.createElement(g,{ref:"token",type:"text",placeholder:"Enter the secret token"}))},render:function(){return M.createElement(H,{style:{marginTop:"10px"}},this.display_token_input(),this.display_error("token"),this.display_error("account_creation_failed"),"   ",this.display_passports(),M.createElement(n,null),M.createElement("form",{style:{marginTop:20,marginBottom:20},onSubmit:this.make_account},M.createElement(v,null,this.display_error("first_name"),M.createElement(g,{ref:"name",type:"text",autoFocus:!1,placeholder:"First and last name",maxLength:254})),M.createElement(v,null,this.display_error("email_address"),M.createElement(g,{ref:"email",type:"email",placeholder:"Email address",maxLength:254
})),M.createElement(v,null,this.display_error("password"),M.createElement(g,{ref:"password",type:"password",placeholder:"Choose a password",maxLength:64})),M.createElement(U,{style:{fontSize:"small",textAlign:"center"}}),M.createElement(o,{style:{marginBottom:W,marginTop:W},disabled:this.props.signing_up,bsStyle:"success",bsSize:"large",type:"submit",block:!0},this.props.signing_up?M.createElement(x,{name:"spinner",spin:!0}):void 0," Sign up!")),M.createElement("div",{style:{textAlign:"center"}},"Email ",M.createElement(b,null)," if you need help."))}}),P=J({displayName:"SignIn",propTypes:{sign_in_error:ne.string,signing_in:ne.bool,has_account:ne.bool,xs:ne.bool},componentDidMount:function(){return this.actions("page").set_sign_in_func(this.sign_in)},componentWillUnmount:function(){return this.actions("page").remove_sign_in_func()},sign_in:function(e){return null!=e&&e.preventDefault(),this.actions("account").sign_in(T.findDOMNode(this.refs.email).value,T.findDOMNode(this.refs.password).value)},display_forgot_password:function(){return this.actions("account").setState({show_forgot_password:!0})},display_error:function(){if(null!=this.props.sign_in_error)return M.createElement(h,{style:{margin:"15px"},error:this.props.sign_in_error,onClose:function(e){return function(){return e.actions("account").setState({sign_in_error:void 0})}}(this)})},remove_error:function(){if(this.props.sign_in_error)return this.actions("account").setState({sign_in_error:void 0})},forgot_font_size:function(){return null!=this.props.sign_in_error?"16pt":"12pt"},render:function(){return this.props.xs?M.createElement(l,{xs:12},M.createElement("form",{onSubmit:this.sign_in,className:"form-inline"},M.createElement(N,null,M.createElement(v,null,M.createElement(g,{ref:"email",type:"email",placeholder:"Email address",autoFocus:this.props.has_account,onChange:this.remove_error}))),M.createElement(N,null,M.createElement(v,null,M.createElement(g,{style:{width:"100%"},ref:"password",type:"password",placeholder:"Password",onChange:this.remove_error}))),M.createElement(N,null,M.createElement("div",{style:{marginTop:"1ex"}},M.createElement("a",{onClick:this.display_forgot_password,style:{color:"#FFF",cursor:"pointer",fontSize:this.forgot_font_size()}},"Forgot Password?"))),M.createElement(N,null,M.createElement(o,{type:"submit",disabled:this.props.signing_in,bsStyle:"default",style:{height:34},className:"pull-right"},"Sign In")),M.createElement(N,{className:"form-inline pull-right",style:{clear:"right"}},this.display_error()))):M.createElement("form",{onSubmit:this.sign_in,className:"form-inline"},M.createElement(y,{fluid:!0,style:{padding:0}},M.createElement(N,null,M.createElement(l,{xs:5},M.createElement(v,null,M.createElement(g,{ref:"email",type:"email",placeholder:"Email address",autoFocus:!0,onChange:this.remove_error}))),M.createElement(l,{xs:4},M.createElement(v,null,M.createElement(g,{ref:"password",type:"password",placeholder:"Password",onChange:this.remove_error}))),M.createElement(l,{xs:3},M.createElement(o,{type:"submit",disabled:this.props.signing_in,bsStyle:"default",style:{height:34},className:"pull-right"},"Sign in"))),M.createElement(N,null,M.createElement(l,{xs:7,xsOffset:5,style:{paddingLeft:15}},M.createElement("div",{style:{marginTop:"1ex"}},M.createElement("a",{onClick:this.display_forgot_password,style:{color:"#FFF",cursor:"pointer",fontSize:this.forgot_font_size()}},"Forgot Password?")))),M.createElement(N,{className:"form-inline pull-right",style:{clear:"right"}},M.createElement(l,{xs:12},this.display_error()))))}}),_=J({displayName:"ForgotPassword",propTypes:{forgot_password_error:ne.string,forgot_password_success:ne.string},getInitialState:function(){return{email_address:"",is_email_valid:!1}},forgot_password:function(e){var t;if(e.preventDefault(),t=this.state.email_address,Y.is_valid_email_address(t))return this.actions("account").forgot_password(t)},set_email:function(e){var t;return t=e.target.value,this.setState({email_address:t,is_email_valid:Y.is_valid_email_address(t)})},display_error:function(){if(null!=this.props.forgot_password_error)return M.createElement("span",{style:{color:"red"}},this.props.forgot_password_error)},display_success:function(){var e;if(null!=this.props.forgot_password_success)return e=this.props.forgot_password_success.split("check your spam folder"),M.createElement("span",null,e[0],M.createElement("span",{style:{color:"red",fontWeight:"bold"}},"check your spam folder"),e[1])},hide_forgot_password:function(){return this.actions("account").setState({show_forgot_password:!1}),this.actions("account").setState({forgot_password_error:void 0}),this.actions("account").setState({forgot_password_success:void 0})},render:function(){return M.createElement(S,{show:!0,onHide:this.hide_forgot_password},M.createElement(S.Body,null,M.createElement("div",null,M.createElement("h4",null,"Forgot Password?"),"Enter your email address to reset your password"),M.createElement("form",{onSubmit:this.forgot_password,style:{marginTop:"1em"}},M.createElement(v,null,M.createElement(g,{ref:"email",type:"email",placeholder:"Email address",autoFocus:!0,onChange:this.set_email})),this.props.forgot_password_error?this.display_error():this.display_success(),M.createElement("hr",null),"Not working? Email us at ",M.createElement(b,null),M.createElement(N,null,M.createElement("div",{style:{textAlign:"right",paddingRight:15}},M.createElement(o,{disabled:!this.state.is_email_valid,type:"submit",bsStyle:"primary",style:{marginRight:10}},"Reset Password"),M.createElement(o,{onClick:this.hide_forgot_password},"Close"))))))}}),O=J({propTypes:function(){return{reset_key:ne.string.isRequired,reset_password_error:ne.string}},mixins:[k],reset_password:function(e){return e.preventDefault(),this.actions("account").reset_password(this.props.reset_key,T.findDOMNode(this.refs.password).value)},hide_reset_password:function(e){return e.preventDefault(),history.pushState("",document.title,window.location.pathname),this.actions("account").setState({reset_key:"",reset_password_error:""})},display_error:function(){if(this.props.reset_password_error)return M.createElement("span",{style:{color:"red",fontSize:"90%"}},this.props.reset_password_error)},render:function(){return M.createElement(S,{show:!0,onHide:function(e){return function(){var e;return e=0}}(this)},M.createElement(S.Body,null,M.createElement("div",null,M.createElement("h1",null,"Reset Password?"),"Enter your new password"),M.createElement("form",{onSubmit:this.reset_password},M.createElement(v,null,M.createElement(g,{ref:"password",type:"password",placeholder:"New Password"})),this.display_error(),M.createElement("hr",null),"Not working? Email us at ",M.createElement(b,null),M.createElement(N,null,M.createElement("div",{style:{textAlign:"right",paddingRight:15}},M.createElement(o,{type:"submit",bsStyle:"primary",style:{marginRight:10}},"Reset password"),M.createElement(o,{onClick:this.hide_reset_password},"Cancel"))))))}}),u=J({displayName:"ContentItem",mixins:[k],propTypes:{icon:ne.string.isRequired,heading:ne.string.isRequired,text:ne.string.isRequired},render:function(){return M.createElement(N,null,M.createElement(l,{sm:2},M.createElement("h1",{style:{textAlign:"center"}},M.createElement(x,{name:this.props.icon}))),M.createElement(l,{sm:10},M.createElement("h2",{style:{fontFamily:d}},this.props.heading),this.props.text))}}),A={teaching:{icon:"university",heading:"Tools for Teaching",text:"Create projects for your students, hand out assignments, then collect and grade them with ease."},collaboration:{icon:"weixin",heading:"Collaboration Made Easy",text:"Edit documents with multiple team members in real time."},programming:{icon:"code",heading:"All-in-one Programming",text:"Write, compile and run code in nearly any programming language."},math:{icon:"area-chart",heading:"Computational Mathematics",text:"Use SageMath, IPython, the entire scientific Python stack, R, Julia, GAP, Octave and much more."},latex:{icon:"superscript",heading:"LaTeX Editor",text:"Write beautiful documents using LaTeX."}},D=function(){return M.createElement("iframe",{width:"100%",height:"284",src:"https://www.youtube.com/embed/AEKOjac9obk",frameBorder:"0",allowFullScreen:!0})},z=function(){return M.createElement("div",{style:{marginTop:"15px"}},M.createElement("a",{href:"https://www.youtube.com/watch?v=ZcxUNemJfZw",target:"_blank",style:{width:"104px",height:"104px",float:"right"},title:"Will Conley heads UCLA's massive use of SageMathCloud in the Mathematics for Life Scientists"},M.createElement("img",{className:"img-rounded",src:t(952),style:{height:"102px"}})),M.createElement("p",{className:"lighten"},'"SageMathCloud provides a user-friendly interface. Students don’t need to install any software at all.\nThey just open up a web browser and go to cloud.sagemath.com and that’s it. They just type code directly\nin, hit shift+enter and it runs, and they can see if it works. It provides immediate feedback.\nThe ',M.createElement("a",{href:"https://github.com/mikecroucher/SMC_tutorial/blob/master/README.md",target:"_blank"},"course\nmanagement features"),' work really well." - Will Conley, Math professor, University of California at Los Angeles'),M.createElement("p",{style:{marginBottom:0}},M.createElement("a",{href:"https://github.com/sagemathinc/smc/wiki/Quotes",target:"_blank"},"What users are saying")," "," | ",M.createElement("a",{href:"https://github.com/sagemathinc/smc/wiki/Teaching",target:"_blank"},"Courses using SageMathCloud")," "," | ",M.createElement("a",{href:"https://github.com/sagemathinc/smc/wiki/SMC-for-Students-and-Teachers",target:"_blank"},"Unique Advantages")))},C=J({displayName:"LandingPageContent",mixins:[k],render:function(){return M.createElement("div",null)}}),R=J({displayName:"SagePreview",render:function(){return M.createElement("div",{className:"hidden-xs"},M.createElement(H,null,M.createElement(N,null,M.createElement(l,{sm:6},M.createElement(f,{title:"Interactive Worksheets",index:0},"Interactively explore mathematics, science and statistics. ",M.createElement("strong",null,"Collaborate with others in real time"),". You can see their cursors moving around while they type — this works for Sage Worksheets and even Jupyter Notebooks!")),M.createElement(l,{sm:6},M.createElement(f,{title:"Course Management",index:1},M.createElement(F,null)," helps to you to ",M.createElement("strong",null,"conveniently organize a course"),": add students, create their projects, see their progress,\nunderstand their problems by dropping right into their files from wherever you are.\nConveniently handout assignments, collect them, grade them, and finally return them.\n(",M.createElement("a",{href:"https://github.com/sagemathinc/smc/wiki/Teaching",target:"_blank"},"SMC used for Teaching")," and ",M.createElement("a",{href:"http://www.beezers.org/blog/bb/2015/09/grading-in-sagemathcloud/",target:"_blank"},"learn more about courses"),")."))),M.createElement("br",null),M.createElement(N,null,M.createElement(l,{sm:6},M.createElement(f,{title:"LaTeX Editor",index:2},M.createElement(F,null)," supports authoring documents written in LaTeX, Markdown or HTML.\nThe ",M.createElement("strong",null,"preview")," helps you understanding what's going on.\nThe LaTeX editor also supports ",M.createElement("strong",null,"forward and inverse search")," to avoid getting lost in large documents.\nSageMathCloud also allows you to publish documents online.")),M.createElement(l,{sm:6},M.createElement(f,{title:"Jupyter Notebooks and Linux Terminals",index:3},M.createElement(F,null)," does not arbitrarily restrict you.\nWork with ",M.createElement("strong",null,"Jupyter Notebooks"),","," ",M.createElement("strong",null,"upload")," your own files,"," ",M.createElement("strong",null,"process")," data and results online,\nand work with a ",M.createElement("strong",null,"full Linux terminal"),".")))))}}),K={border:"1px solid #aaa",borderRadius:"3px",padding:"5px",background:"white",height:"236px"},f=J({displayName:"ExampleBox",propTypes:{title:ne.string.isRequired,index:ne.number.isRequired},render:function(){return M.createElement("div",null,M.createElement("h3",{style:{marginBottom:W,fontFamily:d}},this.props.title),M.createElement("div",{style:{marginBottom:"10px"}},M.createElement("img",{alt:this.props.title,className:"smc-grow-two",src:""+G[this.props.index],style:K})),M.createElement("div",{className:"lighten"},this.props.children))}}),c=function(){return M.createElement("div",{style:{fontSize:"35px",marginTop:"125px",textAlign:"center",color:"#888"}},M.createElement(x,{name:"spinner",spin:!0})," Connecting...")},exports.LandingPage=J({propTypes:{strategies:ne.array,sign_up_error:ne.object,sign_in_error:ne.string,signing_in:ne.bool,signing_up:ne.bool,forgot_password_error:ne.string,forgot_password_success:ne.string,show_forgot_password:ne.bool,token:ne.bool,reset_key:ne.string,reset_password_error:ne.string,remember_me:ne.bool,has_account:ne.bool},render:function(){var e;return this.props.remember_me?M.createElement(c,null):(e=te(),M.createElement("div",{style:{margin:W}},e?M.createElement(O,{reset_key:e,reset_password_error:this.props.reset_password_error}):void 0,this.props.show_forgot_password?M.createElement(_,{forgot_password_error:this.props.forgot_password_error,forgot_password_success:this.props.forgot_password_success}):void 0,M.createElement(N,{style:{fontSize:W,backgroundColor:I,padding:5,margin:0,borderRadius:4},className:"visible-xs"},M.createElement(P,{signing_in:this.props.signing_in,sign_in_error:this.props.sign_in_error,has_account:this.props.has_account,xs:!0}),M.createElement("div",{style:{clear:"both"}})),M.createElement(N,{style:{fontSize:3*W,backgroundColor:I,padding:5,margin:0,borderRadius:4,whiteSpace:"nowrap"},className:"hidden-xs"},M.createElement("div",{style:{width:490,zIndex:10,position:"relative",top:12,right:12,fontSize:"11pt",float:"right"}},M.createElement(P,{signing_in:this.props.signing_in,sign_in_error:this.props.sign_in_error,has_account:this.props.has_account,xs:!1})),M.createElement("span",{style:{display:"inline-block",backgroundImage:"url('"+L+"')",backgroundSize:"contain",height:4*W,width:4*W,borderRadius:10,verticalAlign:"center"}}),M.createElement("div",{className:"hidden-sm",style:{display:"inline-block",fontFamily:d,fontSize:"28px",top:-1*W,position:"relative",color:"white",lineHeight:0,paddingRight:W}},M.createElement(F,null)),M.createElement("div",{style:{fontWeight:"700",fontSize:"15px",lineHeight:"1.3",fontFamily:"sans-serif",top:1,display:"inline-block",position:"relative",color:"white",paddingRight:W}},"Collaborative",M.createElement("br",null),"Computational",M.createElement("br",null),"Mathematics")),M.createElement(N,null,M.createElement("div",{className:"hidden-xs",style:{padding:W+"px"}},M.createElement(q,{style:{color:"#666",fontSize:W+"px"}}))),M.createElement(N,null,M.createElement(l,{sm:5},M.createElement(B,{sign_up_error:this.props.sign_up_error,strategies:this.props.strategies,token:this.props.token,signing_up:this.props.signing_up,has_account:this.props.has_account})),M.createElement(l,{sm:7,className:"hidden-xs",style:{marginTop:"10px"}},M.createElement(H,{style:{float:"right",marginBottom:"15px"},className:"lighten"},M.createElement("h3",{style:{marginTop:0}},"For professors teaching courses using open source software"),M.createElement("p",{style:{marginBottom:"15px"}},"SMC is the easiest way to get your class up and running.  We eliminate installation\nproblems, and the limitations of the Mathematica and ShareLaTeX cloud offerings.\nOur collaborative environment includes LaTeX, R, Jupyter, Python, SageMath,\nOctave, Julia, and much more."),M.createElement(D,null),M.createElement("br",null),M.createElement(z,null)))),M.createElement(H,null,M.createElement(N,null,M.createElement(l,{sm:12,className:"hidden-xs"},M.createElement(w,null)))),M.createElement(N,null,M.createElement(l,{sm:12,className:"hidden-xs"},M.createElement(C,null))),M.createElement(R,null),M.createElement(m,null)))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F;R=t(12),C=R.React,E=R.ReactDOM,L=R.rclass,z=R.redux,F=R.rtypes,S=R.Redux,P=t(22),i=P.Button,y=P.Navbar,_=P.Nav,g=P.NavItem,m=P.MenuItem,M=t(1249).default,B=t(17),h=B.Loading,p=B.Icon,O=B.Tip,d=t(301).HelpPage,A=t(135).ProjectsPage,x=t(336).ProjectPage,n=t(196).AccountPage,l=t(332).FileUsePage,T=t(199).Support,I=t(9),k=t(794).ProjectsNav,q=t(331),r=q.ActiveAppContent,a=q.CookieWarning,f=q.LocalStorageWarning,o=q.ConnectionIndicator,s=q.ConnectionInfo,u=q.FullscreenButton,v=q.NavTab,b=q.NotificationBell,j=q.SMCLogo,N=q.VersionWarning,c=function(e){var t;return t={zIndex:"10",marginLeft:"0",position:"fixed",boxShadow:"0 0 15px #aaa",border:"2px solid #ccc",top:"43px",background:"#fff",right:"2em",overflowY:"auto",overflowX:"hidden",fontSize:"10pt",padding:"4px",borderRadius:"5px",width:"50%",height:"90%"},C.createElement("div",{style:t},C.createElement(l,{redux:z}))},w=L({displayName:"Mobile-App",reduxProps:{page:{active_top_tab:F.string,show_connection:F.bool,ping:F.number,avgping:F.number,connection_status:F.string,new_version:F.object,fullscreen:F.bool,cookie_warning:F.bool,local_storage_warning:F.bool,show_file_use:F.bool},file_use:{get_notify_count:F.func},account:{get_fullname:F.func,is_logged_in:F.func},support:{show:F.bool}},propTypes:{redux:F.object},getInitialState:function(){return{show_right_menu:!1}},componentWillUnmount:function(){return this.actions("page").clear_all_handlers()},account_name:function(){var e;return e="",null!=this.props.get_fullname&&(e=I.trunc_middle(this.props.get_fullname(),32)),e.trim()||(e="Account"),e},render_projects_button:function(){return C.createElement(_,{style:{margin:"0",padding:"5px 5px 0px 5px"}},C.createElement(g,{onClick:function(e){return function(t){return e.actions("page").set_active_tab("projects")}}(this)},C.createElement(j,null)))},render_right_menu_button:function(){return C.createElement(_,{style:{margin:"0",padding:"15px",paddingRight:"25px",fontSize:"20px",float:"right"},onClick:function(e){return function(){return e.setState({show_right_menu:!0})}}(this)},C.createElement(g,null,C.createElement(p,{name:"bars"})))},close_right_menu:function(){return this.setState({show_right_menu:!1})},render_right_menu:function(){return this.state.show_right_menu?C.createElement("div",{style:{width:"40vw",height:"100vw",backgroundColor:"white"}},C.createElement(_,{stacked:!0},C.createElement(v,{name:"account",label:this.account_name(),icon:"cog",actions:this.actions("page"),active_top_tab:this.props.active_top_tab,on_click:this.close_right_menu,style:{width:"100%"}}),C.createElement(v,{on_click:this.close_right_menu,name:"about",label:"About",icon:"question-circle",actions:this.actions("page"),active_top_tab:this.props.active_top_tab,style:{width:"100%"}}),C.createElement(v,{label:"Help",icon:"medkit",actions:this.actions("page"),active_top_tab:this.props.active_top_tab,on_click:function(e){return function(){return e.close_right_menu(),z.getActions("support").show(!0)}}(this),style:{width:"100%"}}),this.props.is_logged_in()?C.createElement(b,{on_click:this.close_right_menu,count:this.props.get_notify_count(),active:this.props.show_file_use}):void 0,C.createElement(o,{on_click:this.close_right_menu,actions:this.actions("page")}))):C.createElement("div",null," ")},render:function(){var e,t;return e="#smc-top-bar>.container>ul>li>a { padding:0px; -webkit-touch-callout: none; /* iOS Safari */ -webkit-user-select: none;   /* Chrome/Safari/Opera */ -khtml-user-select: none;    /* Konqueror */ -moz-user-select: none;      /* Firefox */ -ms-user-select: none;       /* Internet Explorer/Edge */ user-select: none;           /* Non-prefixed version, currently not supported by any browser */ } #smc-top-bar>.container { display:flex; padding:0px; } .input-group { z-index:0; }",t={height:"100vh",width:"100vw",overflow:"auto"},C.createElement("div",{ref:"page",style:t},C.createElement(M,{sidebar:this.render_right_menu(),open:this.state.show_right_menu,onSetOpen:function(e){return function(t){return e.setState({show_right_menu:t})}}(this),pullRight:!0,shadow:!1,touch:!1,styles:{content:{display:"flex",flexDirection:"column"}}},C.createElement("style",null,e),C.createElement("style",null,k.dropdown_nav_page_styles),this.props.show_file_use?C.createElement(c,null):void 0,this.props.show?C.createElement(T,{actions:this.actions("support")}):void 0,this.props.show_connection?C.createElement(s,{ping:this.props.ping,status:this.props.connection_status,avgping:this.props.avgping,actions:this.actions("page")}):void 0,null!=this.props.new_version?C.createElement(N,{new_version:this.props.new_version}):void 0,this.props.cookie_warning?C.createElement(a,null):void 0,this.props.local_storage_warning?C.createElement(f,null):void 0,this.props.fullscreen?void 0:C.createElement(y,{id:"smc-top-bar",style:{margin:"0px"}},this.render_projects_button(),C.createElement(k,{dropdown:!0}),this.render_right_menu_button()),C.createElement(r,{active_top_tab:this.props.active_top_tab,render_small:!0})))}}),D=C.createElement(S,{redux:z},C.createElement(w,null)),exports.render=function(e){return function(){return E.render(D,document.getElementById("smc-react-container"))}}(this)},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H;L=t(9),z=t(30),H=t(23),I=t(26),B=t(12),b=B.React,w=B.ReactDOM,n=B.Actions,E=B.Store,S=B.Table,U=B.rtypes,P=B.rclass,x=B.Redux,q=t(22),s=q.Col,k=q.Row,r=q.Button,i=q.ButtonGroup,o=q.ButtonToolbar,a=q.FormControl,l=q.FormGroup,u=q.InputGroup,g=q.Panel,O=q.Well,F=t(17),c=F.Icon,d=F.Loading,j=F.TimeAgo,v=F.PathLink,R=F.r_join,A=F.SearchInput,C=F.Space,M=F.Tip,T=t(102).User,N=t(334).file_action_buttons,y=t(135).ProjectTitleAuto,h=P({displayName:"ProjectLog-LogMessage",render:function(){return b.createElement("div",null,"This is a log message")}}),m=P({displayName:"ProjectLog-LogSearch",propTypes:{search:U.string,actions:U.object.isRequired,selected:U.object,increment_cursor:U.func.isRequired,decrement_cursor:U.func.isRequired,reset_cursor:U.func.isRequired},open_selected:function(e,t){var n,r,i;if(n=null!=(r=this.props.selected)?r.event:void 0,null!=n)switch(n.event){case"open":if(i=n.filename,null!=i)return this.props.actions.open_file({path:i,foreground:!t.ctrl_down});break;case"set":return this.props.actions.set_active_tab("settings")}},on_change:function(e){return this.props.reset_cursor(),this.props.actions.setState({search:e,page:0})},render:function(){return b.createElement(A,{autoFocus:!0,autoSelect:!0,placeholder:"Search log...",value:this.props.search,on_change:this.on_change,on_submit:this.open_selected,on_up:this.props.decrement_cursor,on_down:this.props.increment_cursor,on_escape:function(e){return function(){return e.props.actions.setState({search:"",page:0})}}(this)})}}),W={backgroundColor:"#08c",color:"white"},p=P({displayName:"ProjectLog-LogEntry",propTypes:{time:U.object,event:U.any,account_id:U.string,user_map:U.object,cursor:U.bool,backgroundStyle:U.object,project_id:U.string},render_open_file:function(){return b.createElement("span",null,"opened",b.createElement(C,null),b.createElement(v,{path:this.props.event.filename,full:!0,style:this.props.cursor?W:void 0,trunc:50,project_id:this.props.project_id}))},render_miniterm_command:function(e){return e.length>50?b.createElement(M,{title:"Full command",tip:e,delayHide:1e4,rootClose:!0},b.createElement("kbd",null,L.trunc_middle(e,50))):b.createElement("kbd",null,e)},render_miniterm:function(){return b.createElement("span",null,"executed mini terminal command ",this.render_miniterm_command(this.props.event.input))},project_title:function(){return b.createElement(y,{style:this.props.cursor?W:void 0,project_id:this.props.event.project})},file_link:function(e,t,n,r){return b.createElement(v,{path:e,full:!0,style:this.props.cursor?W:void 0,key:n,trunc:50,link:t,project_id:null!=r?r:this.props.project_id})},multi_file_links:function(e){var t,n,r,i,o,s;for(null==e&&(e=!0),i=[],s=this.props.event.files,t=n=0,r=s.length;n<r;t=++n)o=s[t],i.push(this.file_link(o,e,t));return R(i)},to_link:function(){var e;return e=this.props.event,null!=e.project?this.project_title():null!=e.dest?this.file_link(e.dest,!0,0):"???"},render_file_action:function(){var e,t;switch(e=this.props.event,null!=e?e.action:void 0){case"deleted":return b.createElement("span",null,"deleted ",this.multi_file_links(!1)," ",null!=e.count?"("+e.count+" total)":"");case"downloaded":return b.createElement("span",null,"downloaded ",this.file_link(null!=(t=e.path)?t:e.files,!0,0)," ",null!=e.count?"("+e.count+" total)":"");case"moved":return b.createElement("span",null,"moved ",this.multi_file_links(!1)," ",null!=e.count?"("+e.count+" total)":""," to ",this.to_link());case"copied":return b.createElement("span",null,"copied ",this.multi_file_links()," ",null!=e.count?"("+e.count+" total)":""," to ",this.to_link());case"shared":return b.createElement("span",null,"shared ",this.multi_file_links()," ",null!=e.count?"("+e.count+" total)":"")}},click_set:function(e){return e.preventDefault(),this.actions({project_id:this.props.project_id}).set_active_tab("settings")},render_set:function(e){var t,n,r,i,o;n=0,i=[];for(r in e)o=e[r],n+=1,t=r+" to "+o,n<e.length&&(t+="<Space/>and"),i.push(b.createElement("span",{key:n},"set ",b.createElement("a",{onClick:this.click_set,style:this.props.cursor?W:void 0,href:""},t)));return i},render_upgrade:function(){var e,n,r,i,o,s,a,l,c,u,d,p,h,f,m;o=t(24).PROJECT_UPGRADES.params,f=[],s=this.props.event.upgrades;for(i in s)m=s[i],n=null!=(a=null!=(l=o[i])?l.display_factor:void 0)?a:1,h=null!=(c=null!=(u=o[i])?u.display_unit:void 0)?c:"upgrade",e=null!=(d=null!=(p=o[i])?p.display:void 0)?d:"Upgrade",r=L.round1(null!=m?n*m:0),f.push(b.createElement("span",{key:i},e,": ",r," ",L.plural(r,h)));return f=f.length>0?R(f):"nothing",b.createElement("span",null,"set ",b.createElement("a",{onClick:this.click_set,style:this.props.cursor?W:void 0,href:""},"upgrade contributions")," to: ",f)},render_invite_user:function(){return b.createElement("span",null,"invited user ",b.createElement(T,{user_map:this.props.user_map,account_id:this.props.event.invitee_account_id}))},render_invite_nonuser:function(){return b.createElement("span",null,"invited nonuser ",this.props.event.invitee_email)},file_action_icons:{deleted:"delete",downloaded:"download",moved:"move",copied:"copy",share:"shared"},render_desc:function(){var e;if("string"==typeof this.props.event)return b.createElement("span",null,this.props.event);switch(null!=(e=this.props.event)?e.event:void 0){case"open_project":return b.createElement("span",null,"opened this project");case"open":return this.render_open_file();case"set":return this.render_set(L.copy_without(this.props.event,"event"));case"miniterm":return this.render_miniterm();case"termInSearch":return this.render_miniterm();case"file_action":return this.render_file_action();case"upgrade":return this.render_upgrade();case"invite_user":return this.render_invite_user();case"invite_nonuser":return this.render_invite_nonuser();default:return b.createElement("span",null,L.to_json(this.props.event))}},render_user:function(){return b.createElement(T,{user_map:this.props.user_map,account_id:this.props.account_id})},icon:function(){var e,n,r,i,o;switch(null!=(n=this.props.event)?n.event:void 0){case"open_project":return"folder-open-o";case"open":return o=null!=(r=t(40).file_associations[this.props.event.type])?r.icon:void 0,null!=o?("fa-"===o.slice(0,3)&&(o=o.slice(3)),o):"file-code-o";case"set":return"wrench";case"file_action":return e=this.file_action_icons[this.props.event.action],null!=(i=N[e])?i.icon:void 0;case"upgrade":return"arrow-circle-up";case"invite_user":return"user";case"invite_nonuser":return"user";default:return"dot-circle-o"}},render:function(){var e;return e=this.props.cursor?W:this.props.backgroundStyle,b.createElement(k,{style:H.extend({borderBottom:"1px solid lightgrey"},e)},b.createElement(s,{sm:1,style:{textAlign:"center"}},b.createElement(c,{name:this.icon(),style:e})),b.createElement(s,{sm:11},this.render_user(),b.createElement(C,null),this.render_desc(),b.createElement(C,null),b.createElement(j,{style:e,date:this.props.time,popover:!0})))}}),f=P({displayName:"ProjectLog-LogMessages",propTypes:{log:U.array.isRequired,project_id:U.string.isRequired,user_map:U.object,cursor:U.string},render_entries:function(){var e,t,n,r,i,o;for(r=this.props.log,i=[],e=t=0,n=r.length;t<n;e=++t)o=r[e],i.push(b.createElement(p,{key:o.id,cursor:this.props.cursor===o.id,time:o.time,event:o.event,account_id:o.account_id,user_map:this.props.user_map,backgroundStyle:e%2===0?{backgroundColor:"#eee"}:void 0,project_id:this.props.project_id}));return i},render:function(){return b.createElement("div",{style:{wordWrap:"break-word"}},this.render_entries())}}),_=50,D=function(e,t){var n,r,i;for(n=0,r=t.length;n<r;n++)if(i=t[n],e.indexOf(i)===-1)return!1;return!0},exports.ProjectLog=P(function(e){var t,n;return t=e.name,{displayName:"ProjectLog",reduxProps:(n={},n[""+t]={project_log:U.immutable,search:U.string,page:U.number},n.users={user_map:U.immutable,get_name:U.func},n),propTypes:{project_id:U.string.isRequired},getDefaultProps:function(){return{search:"",page:0}},getInitialState:function(){return{cursor_index:0}},shouldComponentUpdate:function(e,t){return this.state.cursor_index!==t.cursor_index||(this.props.search!==e.search||(this.props.page!==e.page||(null==this.props.project_log||null==e.project_log||(null==this.props.user_map||null==e.user_map||(!e.project_log.equals(this.props.project_log)||!e.user_map.equals(this.props.user_map))))))},componentWillReceiveProps:function(e){if(null!=this.props.user_map&&null!=this.props.project_log)return I.is(this.props.project_log,e.project_log)&&I.is(this.props.user_map,e.user_map)?void 0:this.update_log(e.project_log,e.user_map)},previous_page:function(){if(this.props.page>0)return this.reset_cursor(),this.actions(t).setState({page:this.props.page-1})},next_page:function(){return this.reset_cursor(),this.actions(t).setState({page:this.props.page+1})},search_string:function(e){var t,n,r,i;if(r=[this.props.get_name(e.account_id)],t=e.event,null!=t)for(n in t)i=t[n],"event"!==n&&"filename"!==n&&r.push(n),"type"!==n&&r.push(i);return r.join(" ").toLowerCase()},process_log_entry:function(e){return e.search=this.search_string(e),e},update_log:function(e,t){var n,r,i,o,s,a,l;if(null!=e&&null!=t){if(I.is(t,this._last_user_map)||null==this._log||t.map(function(e){return function(t,n){var r,i,o,s,a,l;if(!I.is(t,null!=(o=e._last_user_map)?o.get(n):void 0)){for(s=e._log,a=[],r=0,i=s.length;r<i;r++)l=s[r],l.account_id===n?a.push(e.process_log_entry(l)):a.push(void 0);return a}}}(this)),!I.is(e,this._last_project_log)){if(i=[],e.map(function(e){return function(t,n){var r;if(null==(null!=(r=e._last_project_log)?r.get(n):void 0))return i.push(t.toJS())}}(this)),i.length>1){for(i.sort(function(e,t){return L.cmp(t.time,e.time)}),s=[],n=r=1,o=i.length;1<=o?r<o:r>o;n=1<=o?++r:--r)a=i[n-1],l=i[n],a.account_id===l.account_id&&H.isEqual(a.event,l.event)||s.push(a);i=s}i=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)a=i[e],n.push(this.process_log_entry(a));return n}.call(this),null!=this._log?this._log=i.concat(this._log):this._log=i,this._last_project_log=e,this._last_user_map=t}return this._log}},visible_log:function(){var e,t,n,r;return e=this._log,null==e&&(e=this.update_log(this.props.project_log,this.props.user_map)),null==e?[]:(n=L.split(null!=(t=this.props.search)?t.toLowerCase():void 0),n.length>0&&(e=function(){var t,i,o;for(o=[],t=0,i=e.length;t<i;t++)r=e[t],D(r.search,n)&&o.push(r);return o}()),e)},increment_cursor:function(){if(this.state.cursor_index!==Math.min(_-1,this.displayed_log_size-1))return this.setState({cursor_index:this.state.cursor_index+1})},decrement_cursor:function(){if(0!==this.state.cursor_index)return this.setState({
cursor_index:this.state.cursor_index-1})},reset_cursor:function(){return this.setState({cursor_index:0})},render_paging_buttons:function(e,t){return b.createElement(i,null,b.createElement(r,{onClick:this.previous_page,disabled:this.props.page<=0},b.createElement(c,{name:"angle-double-left"})," Newer"),b.createElement(r,{disabled:!0},t+1+"/"+e),b.createElement(r,{onClick:this.next_page,disabled:this.props.page>=e-1},"Older ",b.createElement(c,{name:"angle-double-right"})))},render_log_panel:function(){var e,n,r,i,o;return n=this.visible_log(),r=Math.ceil(n.length/_),i=this.props.page,n=n.slice(_*i,_*(i+1)),this.displayed_log_size=n.length,n.length>0?(e=n[this.state.cursor_index].id,o=n[this.state.cursor_index]):(e=void 0,o=void 0),b.createElement(g,null,b.createElement(k,null,b.createElement(s,{sm:4},b.createElement(m,{actions:this.actions(t),search:this.props.search,selected:o,increment_cursor:this.increment_cursor,decrement_cursor:this.decrement_cursor,reset_cursor:this.reset_cursor})),b.createElement(s,{sm:4},this.render_paging_buttons(r,this.props.page))),b.createElement(k,null,b.createElement(s,{sm:12},b.createElement(f,{log:n,cursor:e,user_map:this.props.user_map,project_id:this.props.project_id}))),b.createElement(k,null,b.createElement(s,{sm:4,style:{marginTop:"15px"}},this.render_paging_buttons(r,this.props.page))))},render:function(){return b.createElement("div",{style:{padding:"15px"}},b.createElement("h1",{style:{marginTop:"0px"}},b.createElement(c,{name:"history"})," Project activity log"),this.props.project_log?this.render_log_panel():b.createElement(d,null))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w;g=t(12),_=g.rclass,p=g.React,b=g.rtypes,h=g.ReactDOM,v=t(22),r=v.Button,a=v.FormControl,u=v.InputGroup,l=v.FormGroup,f=v.Row,i=v.Col,y=t(17),s=y.ErrorDisplay,c=y.Icon,w=t(19).salvus_client,m={position:"absolute",zIndex:1,width:"93%",boxShadow:"0px 0px 7px #aaa",maxHeight:"450px",overflow:"auto"},n={sage:"Create a Sage worksheet instead,\nor type 'sage' in a full terminal.",ipython:"Create a Jupyter notebook instead,\nor type 'ipython' in a full terminal.",gp:"Create a Sage worksheet in GP mode\nor type 'gp' in a full terminal.",vi:"Type vi in a full terminal instead,\nor just click on the file in the listing.",vim:"Type vim in a full terminal instead,\nor just click on the file in the listing.",emacs:"Type emacs in a full terminal instead,\nor just click on the file in the listing.",open:"The open command is not yet supported\nin the miniterminal.  See\nhttps://github.com/sagemathinc/smc/issues/230"},o=10,exports.MiniTerminal=d=_({displayName:"MiniTerminal",propTypes:{project_id:b.string.isRequired,current_path:b.string,actions:b.object.isRequired},getInitialState:function(){return{input:"",stdout:void 0,state:"edit",error:void 0}},execute_command:function(){var e,t,r,i,s,a;if(this.setState({stdout:"",error:""}),r=this.state.input.trim())return(e=n[r.split(" ")[0]])?void this.setState({state:"edit",error:e}):(i=r+'\necho $HOME "`pwd`"',this.setState({state:"run"}),this._id=(null!=(s=this._id)?s:0)+1,t=this._id,a=new Date,w.exec({project_id:this.props.project_id,command:i,timeout:o,max_output:1e5,bash:!0,path:this.props.current_path,err_on_exit:!1,cb:function(e){return function(n,i){var s,l,c,u;if(e._id===t)return n?e.setState({error:n,state:"edit"}):0!==i.exit_code&&new Date-a>=.98*o?e.setState({state:"edit",error:"Miniterminal commands are limited to "+o+" seconds.\nFor longer or interactive commands,\nuse a full terminal."}):(i.stdout&&(u=i.stdout.trim(),l=u.lastIndexOf("\n"),l===-1?i.stdout="":(u=u.slice(l+1),i.stdout=i.stdout.slice(0,l)),l=u.indexOf(" "),s=u.slice(l+1),s.slice(0,l)===u.slice(0,l)&&(c=u.slice(2*l+2),e.props.actions.open_directory(c))),i.stderr||e.props.actions.log({event:"miniterm",input:r}),e.props.actions.fetch_directory_listing(),e.setState({state:"edit",error:i.stderr,stdout:i.stdout}),i.stderr?void 0:e.setState({input:""}))}}(this)}))},render_button:function(){switch(this.state.state){case"edit":return p.createElement(r,{onClick:this.execute_command},p.createElement(c,{name:"play"}));case"run":return p.createElement(r,{onClick:this.execute_command},p.createElement(c,{name:"circle-o-notch",spin:!0}))}},render_output:function(e,t){if(e)return p.createElement("pre",{style:t},p.createElement("a",{onClick:function(e){return function(t){return t.preventDefault(),e.setState({stdout:"",error:""})}}(this),href:"",style:{right:"10px",top:"0px",color:"#666",fontSize:"14pt",position:"absolute"}},p.createElement(c,{name:"times"})),e)},keydown:function(e){if(27===e.keyCode)return this.setState({input:"",stdout:"",error:""})},render:function(){return p.createElement("div",null,p.createElement("form",{onSubmit:function(e){return function(t){return t.preventDefault(),e.execute_command()}}(this),style:{marginBottom:"-10px"}},p.createElement(l,null,p.createElement(u,null,p.createElement(a,{type:"text",value:this.state.input,ref:"input",placeholder:"Terminal command...",onChange:function(e){return function(t){return t.preventDefault(),e.setState({input:h.findDOMNode(e.refs.input).value})}}(this),onKeyDown:this.keydown}),p.createElement(u.Button,null,this.render_button())))),p.createElement("div",{style:m},this.render_output(this.state.error,{color:"darkred",margin:0}),this.render_output(this.state.stdout,{margin:0})))}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z;z=t(23),O=t(12),b=O.React,w=O.ReactDOM,n=O.Actions,E=O.Store,D=O.rtypes,T=O.rclass,x=O.Redux,N=t(22),s=N.Col,k=N.Row,i=N.Button,a=N.FormControl,l=N.FormGroup,S=N.Well,d=N.InputGroup,r=N.Alert,o=N.Checkbox,I=t(17),c=I.Icon,p=I.Loading,A=I.SearchInput,C=I.Space,u=I.ImmutablePureRenderMixin,j=t(9),M=t(30),L=t(19).salvus_client,h=t(335).PathLink,_=T({displayName:"ProjectSearch-ProjectSearchInput",mixins:[u],propTypes:{user_input:D.string.isRequired,actions:D.object.isRequired},clear_output:function(){return this.props.actions.setState({most_recent_path:void 0,command:void 0,most_recent_search:void 0,search_results:void 0,search_error:void 0})},handle_change:function(e){return this.props.actions.setState({user_input:e})},render:function(){return b.createElement(A,{ref:"project_search_input",autoFocus:!0,type:"search",value:this.props.user_input,placeholder:"Enter search (supports regular expressions!)",on_change:this.handle_change,on_submit:this.props.actions.search,on_clear:this.clear_output})}}),g=T({displayName:"ProjectSearch-ProjectSearchOutput",propTypes:{results:D.array,too_many_results:D.bool,search_error:D.string,most_recent_path:D.string,actions:D.object.isRequired},too_many_results:function(){return b.createElement(r,{bsStyle:"warning"},"There were more results than displayed below. Try making your search more specific.")},get_results:function(){var e,t,n,i,o;if(null!=this.props.search_error)return b.createElement(r,{bsStyle:"warning"},"Search error: ",this.props.search_error," Please\ntry again with a more restrictive search");if(0===(null!=(t=this.props.results)?t.length:void 0))return b.createElement(r,{bsStyle:"warning"},"There were no results for your search");n=this.props.results,o=[];for(e in n)i=n[e],o.push(b.createElement(y,{key:e,filename:i.filename,description:i.description,most_recent_path:this.props.most_recent_path,actions:this.props.actions}));return o},render:function(){var e;return e={backgroundColor:"white",fontFamily:"monospace"},b.createElement("div",null,this.props.too_many_results?this.too_many_results():void 0,b.createElement(S,{style:e},this.get_results()))}}),v=T({displayName:"ProjectSearch-ProjectSearchOutputHeader",propTypes:{most_recent_path:D.string.isRequired,command:D.string,most_recent_search:D.string.isRequired,search_results:D.array,info_visible:D.bool,search_error:D.string,actions:D.object.isRequired},getDefaultProps:function(){return{info_visible:!1}},output_path:function(){var e;return e=this.props.most_recent_path,""===e?b.createElement(c,{name:"home"}):e},change_info_visible:function(){return this.props.actions.setState({info_visible:!this.props.info_visible})},get_info:function(){var e,t,n;return b.createElement(r,{bsStyle:"info"},b.createElement("ul",null,b.createElement("li",null,"Search command (in a terminal): ",b.createElement("pre",null,this.props.command)),b.createElement("li",null,"Number of results: ",null!=(e=null!=(t=this.props.search_error)?t:null!=(n=this.props.search_results)?n.length:void 0)?e:b.createElement(p,null))))},render:function(){return b.createElement("div",{style:{wordWrap:"break-word"}},b.createElement("span",{style:{color:"#666"}},b.createElement("a",{onClick:function(e){return function(){return e.props.actions.set_active_tab("files")}}(this),style:{cursor:"pointer"}},"Navigate to a different folder")," to search in it."),b.createElement("h4",null,"Results of searching in ",this.output_path(),' for\n"',this.props.most_recent_search,'"',b.createElement(C,null),b.createElement(i,{bsStyle:"info",onClick:this.change_info_visible},b.createElement(c,{name:"info-circle"})," using grep...")),this.props.info_visible?this.get_info():void 0)}}),f=T(function(e){var t,n;return t=e.name,{displayName:"ProjectSearchBody",reduxProps:(n={},n[""+t]={current_path:D.string,user_input:D.string,search_results:D.array,search_error:D.string,too_many_results:D.bool,command:D.string,most_recent_search:D.string,most_recent_path:D.string,subdirectories:D.bool,case_sensitive:D.bool,hidden_files:D.bool,info_visible:D.bool},n),propTypes:{actions:D.object.isRequired},getDefaultProps:function(){return{user_input:""}},valid_search:function(){return""!==this.props.user_input.trim()},render_output_header:function(){return b.createElement(v,{most_recent_path:this.props.most_recent_path,command:this.props.command,most_recent_search:this.props.most_recent_search,search_results:this.props.search_results,search_error:this.props.search_error,info_visible:this.props.info_visible,actions:this.props.actions})},render_output:function(){return null!=this.props.search_results||null!=this.props.search_error?b.createElement(g,{most_recent_path:this.props.most_recent_path,results:this.props.search_results,too_many_results:this.props.too_many_results,search_error:this.props.search_error,actions:this.props.actions}):null!=this.props.most_recent_search?b.createElement(p,null):void 0},render:function(){return b.createElement(S,null,b.createElement(k,null,b.createElement(s,{sm:8},b.createElement(k,null,b.createElement(s,{sm:9},b.createElement(_,{user_input:this.props.user_input,actions:this.props.actions})),b.createElement(s,{sm:3},b.createElement(i,{bsStyle:"primary",onClick:this.props.actions.search,disabled:!this.valid_search()},b.createElement(c,{name:"search"})," Search"))),null!=this.props.most_recent_search&&null!=this.props.most_recent_path?this.render_output_header():void 0),b.createElement(s,{sm:4,style:{fontSize:"16px"}},b.createElement(o,{checked:this.props.subdirectories,onChange:this.props.actions.toggle_search_checkbox_subdirectories},"Include subdirectories"),b.createElement(o,{checked:this.props.case_sensitive,onChange:this.props.actions.toggle_search_checkbox_case_sensitive},"Case sensitive search"),b.createElement(o,{checked:this.props.hidden_files,onChange:this.props.actions.toggle_search_checkbox_hidden_files},"Include hidden files"))),b.createElement(k,null,b.createElement(s,{sm:12},this.render_output())))}}}),y=T({displayName:"ProjectSearch-ProjectSearchResultLine",mixins:[u],propTypes:{filename:D.string,description:D.string,most_recent_path:D.string,actions:D.object.isRequired},click_filename:function(e){return e.preventDefault(),this.props.actions.open_file({path:j.path_to_file(this.props.most_recent_path,this.props.filename),foreground:j.should_open_in_foreground(e)})},render:function(){return b.createElement("div",{style:{wordWrap:"break-word"}},b.createElement("a",{onClick:this.click_filename,href:""},b.createElement("strong",null,this.props.filename)),b.createElement("span",{style:{color:"#666"}}," ",this.props.description))}}),m=T(function(e){var t,n;return t=e.name,{displayName:"ProjectSearch-ProjectSearchHeader",mixins:[u],reduxProps:(n={},n[""+t]={current_path:D.string},n),propTypes:{actions:D.object.isRequired},render:function(){return b.createElement("h1",{style:{marginTop:"0px"}},b.createElement(c,{name:"search"})," Search ",b.createElement("span",{className:"hidden-xs"}," in ",b.createElement(h,{path:this.props.current_path,actions:this.props.actions})))}}}),exports.ProjectSearch=T(function(e){var t;return t=e.name,{displayName:"ProjectSearch",render:function(){return b.createElement("div",{style:{padding:"15px"}},b.createElement(k,null,b.createElement(s,{sm:12},b.createElement(m,{actions:this.actions(t),name:t}))),b.createElement(k,null,b.createElement(s,{sm:12},b.createElement(f,{actions:this.actions(t),name:t}))))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,_e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};ie=t(26),me=t(23),te=t(31),fe=t(19).salvus_client,oe=t(9),pe=oe.required,ne=oe.defaults,re=t(30).html_to_text,ee=t(36).alert_message,se=t(189).project_tasks,ce=t(22),r=ce.Alert,j=ce.Panel,l=ce.Col,R=ce.Row,i=ce.Button,o=ce.ButtonGroup,s=ce.ButtonToolbar,f=ce.FormControl,m=ce.FormGroup,X=ce.Well,a=ce.Checkbox,ue=t(17),h=ue.ErrorDisplay,k=ue.MessageDisplay,v=ue.Icon,b=ue.LabeledRow,w=ue.Loading,x=ue.MarkdownInput,N=ue.ProjectState,B=ue.SearchInput,H=ue.TextInput,E=ue.NumberInput,p=ue.DeletedProjectWarning,C=ue.NonMemberProjectWarning,A=ue.NoNetworkProjectWarning,F=ue.Space,K=ue.Tip,Y=ue.UPGRADE_ERROR_STYLE,V=ue.UpgradeAdjustor,de=t(12),D=de.React,L=de.ReactDOM,n=de.Actions,U=de.Store,W=de.Table,le=de.redux,he=de.rtypes,ae=de.rclass,z=de.Redux,Z=t(102).User,_=t(48).HelpEmailLink,q=t(199).ShowSupportLink,S=t(24).PROJECT_UPGRADES,J=ae({displayName:"URLBox",render:function(){var e,t;return t=document.URL,e=t.lastIndexOf("/settings"),e!==-1&&(t=t.slice(0,e)),D.createElement("pre",{style:{fontSize:"11px"}},t)}}),O=ae({displayName:"ProjectSettingsPanel",propTypes:{icon:he.string.isRequired,title:he.string.isRequired},render_header:function(){return D.createElement("h3",null,D.createElement(v,{name:this.props.icon})," ",this.props.title)},render:function(){return D.createElement(j,{header:this.render_header()},this.props.children)}}),G=ae({displayName:"ProjectSettings-TitleDescriptionPanel",propTypes:{project_title:he.string.isRequired,project_id:he.string.isRequired,description:he.string.isRequired,actions:he.object.isRequired},render:function(){return D.createElement(O,{title:"Title and description",icon:"header"},D.createElement(b,{label:"Title"},D.createElement(H,{text:this.props.project_title,on_change:function(e){return function(t){return e.props.actions.set_project_title(e.props.project_id,t)}}(this)})),D.createElement(b,{label:"Description"},D.createElement(H,{type:"textarea",rows:2,text:this.props.description,on_change:function(e){return function(t){return e.props.actions.set_project_description(e.props.project_id,t)}}(this)})))}}),I=ae({displayName:"ProjectSettings-QuotaConsole",propTypes:{project_id:he.string.isRequired,project_settings:he.object,project_status:he.object,user_map:he.object.isRequired,quota_params:he.object.isRequired,account_groups:he.array.isRequired,total_project_quotas:he.object,all_upgrades_to_this_project:he.object},getDefaultProps:function(){return{all_upgrades_to_this_project:{}}},getInitialState:function(){var e,t,n,r,i,o,s,a;if(a={editing:!1,upgrading:!1},s=this.props.project_settings,null!=s){i=this.props.quota_params;for(r in i)t=i[r],n=t.display_factor,e=null!=(o=s.get(r))?o:0,a[r]=oe.round2(e*n)}return a},componentWillReceiveProps:function(e){var t,n,r,i,o;if(o=e.project_settings,!ie.is(this.props.project_settings,o)&&null!=o){r={},i=this.props.quota_params;for(n in i)t=i[n],r[n]=oe.round2(o.get(n)*t.display_factor);return this.setState(r)}},render_quota_row:function(e,t,n,r){var i,o,s,a,l,c,u;if(null==t&&(t=0),o=r.display_factor,l=r.display_unit,c=[],null!=n)for(s in n)u=n[s],i=oe.round2(u*o),a=D.createElement("li",{key:s},i," ",oe.plural(i,l)," given by ",D.createElement(Z,{account_id:s,user_map:this.props.user_map})),c.push(a);return i=oe.round2(t*o),i&&c.unshift(D.createElement("li",{key:"free"},i," ",oe.plural(i,l)," given by free project")),D.createElement(b,{label:D.createElement(K,{title:r.display,tip:r.desc},r.display),key:r.display},this.state.editing?e.edit:e.view,D.createElement("ul",{style:{color:"#666"}},c))},start_admin_editing:function(){return this.setState({editing:!0})},save_admin_editing:function(){return fe.project_set_quotas({project_id:this.props.project_id,cores:this.state.cores,cpu_shares:Math.round(256*this.state.cpu_shares),disk_quota:this.state.disk_quota,memory:this.state.memory,mintime:Math.floor(3600*this.state.mintime),network:this.state.network,member_host:this.state.member_host,cb:function(e,t){return ee(e?{type:"error",message:e}:"error"===t.event?{type:"error",message:t.error}:{type:"success",message:"Project quotas updated."})}}),this.setState({editing:!1})},cancel_admin_editing:function(){var e,t,n,r,i,o,s,a;if(s=this.props.project_settings,null!=s){a={},i=this.props.quota_params;for(r in i)t=i[r],n=t.display_factor,e=null!=(o=s.get(r))?o:0,a[r]=oe.round2(e*n);this.setState(a)}return this.setState({editing:!1})},valid_admin_inputs:function(){var e,t,n,r,i,o,s,a;if(a=this.props.project_settings,null==a)return!1;s=this.props.quota_params;for(i in s)if(n=s[i],null!=a.get(i)){if(r=null!=n?n.display_factor:void 0,t=a.get(i)*r,o=oe.parse_number_input(this.state[i]),null==o)return!1;t!==o&&(e=!0)}return e},render_admin_edit_buttons:function(){if(_e.call(this.props.account_groups,"admin")>=0)return this.state.editing?D.createElement(R,null,D.createElement(l,{sm:6,smOffset:6},D.createElement(s,{style:{float:"right"}},D.createElement(i,{onClick:this.save_admin_editing,bsStyle:"warning",disabled:!this.valid_admin_inputs()},D.createElement(v,{name:"thumbs-up"})," Done"),D.createElement(i,{onClick:this.cancel_admin_editing},"Cancel")))):D.createElement(R,null,D.createElement(l,{sm:6,smOffset:6},D.createElement(i,{onClick:this.start_admin_editing,bsStyle:"warning",style:{float:"right"}},D.createElement(v,{name:"pencil"})," Admin edit...")))},admin_input_validation_styles:function(e){var t;return null==oe.parse_number_input(e)&&(t={outline:"none",borderColor:"red",boxShadow:"0 0 10px red"}),t},render_input:function(e){return"network"===e||"member_host"===e?D.createElement(a,{ref:e,checked:this.state[e],style:{marginLeft:0},onChange:function(t){return function(n){var r;return t.setState((r={},r[""+e]=n.target.checked?1:0,r))}}(this)},this.state[e]?"Enabled":"Enable"):D.createElement("input",{size:5,type:"text",ref:e,value:this.state[e],style:this.admin_input_validation_styles(this.state[e]),onChange:function(t){return function(n){var r;return t.setState((r={},r[""+e]=n.target.value,r))}}(this)})},render:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f;if(d=this.props.project_settings,null==d)return D.createElement(w,null);if(p=this.props.project_status,h=this.props.total_project_quotas,null==h){h={},l=this.props.quota_params;for(i in l)e=l[i],h[i]=d.get(i)}return n=D.createElement("b",null,d.get("disk_quota")),r="?",t="?",o=this.props.quota_params,null!=p&&(u=null!=(c=p.get("memory"))?c.get("rss"):void 0,null!=u&&(r=Math.round(u/1e3)),t=p.get("disk_MB"),null!=t&&(t=Math.ceil(t))),a=oe.round2,s={disk_quota:{view:D.createElement("span",null,D.createElement("b",null,a(h.disk_quota*o.disk_quota.display_factor)," MB")," disk space available - ",D.createElement("b",null,t," MB")," used"),edit:D.createElement("span",null,D.createElement("b",null,this.render_input("disk_quota")," MB")," disk space available - ",D.createElement("b",null,t," MB")," used")},memory:{view:D.createElement("span",null,D.createElement("b",null,a(h.memory*o.memory.display_factor)," MB")," RAM memory available - ",D.createElement("b",null,r," MB")," used"),edit:D.createElement("span",null,D.createElement("b",null,this.render_input("memory")," MB")," RAM memory available - ",D.createElement("b",null,r," MB")," used")},cores:{view:D.createElement("b",null,a(h.cores*o.cores.display_factor)," ",oe.plural(h.cores*o.cores.display_factor,"core")),edit:D.createElement("b",null,this.render_input("cores")," cores")},cpu_shares:{view:D.createElement("b",null,a(h.cpu_shares*o.cpu_shares.display_factor)," ",oe.plural(h.cpu_shares*o.cpu_shares.display_factor,"share")),edit:D.createElement("b",null,this.render_input("cpu_shares")," ",oe.plural(h.cpu_shares,"share"))},mintime:{view:D.createElement("span",null,D.createElement("b",null,a(oe.round2(h.mintime*o.mintime.display_factor))," ",oe.plural(h.mintime*o.mintime.display_factor,"hour"))," of non-interactive use before project stops"),edit:D.createElement("span",null,D.createElement("b",null,this.render_input("mintime")," hours")," of non-interactive use before project stops")},network:{view:D.createElement("b",null,this.props.project_settings.get("network")||h.network?"Yes":"Blocked"),edit:this.render_input("network")},member_host:{view:D.createElement("b",null,this.props.project_settings.get("member_host")||h.member_host?"Yes":"No"),edit:this.render_input("member_host")}},f=this.props.all_upgrades_to_this_project,D.createElement("div",null,this.render_admin_edit_buttons(),function(){var e,t,n,r;for(n=S.field_order,r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(this.render_quota_row(s[i],d.get(i),f[i],o[i]));return r}.call(this))}}),Q=ae({displayName:"ProjectSettings-UsagePanel",propTypes:{project_id:he.string.isRequired,project:he.object.isRequired,user_map:he.object.isRequired,account_groups:he.array.isRequired,upgrades_you_can_use:he.object,upgrades_you_applied_to_all_projects:he.object,upgrades_you_applied_to_this_project:he.object,total_project_quotas:he.object,all_upgrades_to_this_project:he.object,actions:he.object.isRequired},getInitialState:function(){return{show_adjustor:!1}},submit_upgrade_quotas:function(e){return this.props.actions.apply_upgrades_to_project(this.props.project_id,e),this.setState({show_adjustor:!1})},render_upgrades_button:function(){return D.createElement(R,null,D.createElement(l,{sm:12},D.createElement(i,{bsStyle:"primary",disabled:this.state.show_adjustor,onClick:function(e){return function(){return e.setState({show_adjustor:!0})}}(this),style:{float:"right",marginBottom:"5px"}},D.createElement(v,{name:"arrow-circle-up"})," Adjust your quotas...")))},render:function(){return t(48).commercial?D.createElement(O,{title:"Project usage and quotas",icon:"dashboard"},this.render_upgrades_button(),this.state.show_adjustor?D.createElement(V,{project_id:this.props.project_id,upgrades_you_can_use:this.props.upgrades_you_can_use,upgrades_you_applied_to_all_projects:this.props.upgrades_you_applied_to_all_projects,upgrades_you_applied_to_this_project:this.props.upgrades_you_applied_to_this_project,quota_params:t(24).PROJECT_UPGRADES.params,submit_upgrade_quotas:this.submit_upgrade_quotas,cancel_upgrading:function(e){return function(){return e.setState({show_adjustor:!1})}}(this)}):void 0,D.createElement(I,{project_id:this.props.project_id,project_settings:this.props.project.get("settings"),project_status:this.props.project.get("status"),user_map:this.props.user_map,quota_params:t(24).PROJECT_UPGRADES.params,account_groups:this.props.account_groups,total_project_quotas:this.props.total_project_quotas,all_upgrades_to_this_project:this.props.all_upgrades_to_this_project,actions:this.props.actions}),D.createElement("hr",null),D.createElement("span",{style:{color:"#666"}},"If you have any questions about upgrading a project,\ncreate a ",D.createElement(q,null),",\nor email ",D.createElement(_,null)," and\ninclude the following URL:",D.createElement(J,null))):null}}),g=ae({displayName:"ProjectSettings-HideDeletePanel",propTypes:{project:he.object.isRequired},getInitialState:function(){return{show_delete_conf:!1}},show_delete_conf:function(){return this.setState({show_delete_conf:!0})},hide_delete_conf:function(){return this.setState({show_delete_conf:!1})},toggle_delete_project:function(){return this.actions("projects").toggle_delete_project(this.props.project.get("project_id")),this.hide_delete_conf()},toggle_hide_project:function(){return this.actions("projects").toggle_hide_project(this.props.project.get("project_id"))},user_has_applied_upgrades:function(e,t){var n;return null!=(n=t.getIn(["users",e,"upgrades"]))?n.some(function(e){return function(e){return e>0}}(this)):void 0},delete_message:function(){return this.props.project.get("deleted")?D.createElement(p,null):D.createElement("span",null,"Delete this project for everyone. You can undo this.")},hide_message:function(){var e;return e=this.props.project.getIn(["users",fe.account_id]),null==e?D.createElement("span",null,"Does not make sense for admin."):e.get("hide")?D.createElement("span",null,"Unhide this project, so it shows up in your default project listing.\nRight now it only appears when hidden is checked."):D.createElement("span",null,"Hide this project, so it does not show up in your default project listing.\nThis only impacts you, not your collaborators, and you can easily unhide it.")},render_delete_undelete_button:function(e,t){var n,r,o;return e?(o="Undelete Project",r=this.toggle_delete_project,n=!1):(o="Delete Project...",r=this.show_delete_conf,n=t),D.createElement(i,{bsStyle:"danger",style:{float:"right"},onClick:r,disabled:n},D.createElement(v,{name:"trash"})," ",o)},render_expanded_delete_info:function(){var e;return e=this.user_has_applied_upgrades(fe.account_id,this.props.project),D.createElement(X,{style:{textAlign:"center"}},e?D.createElement(r,{bsStyle:"info",style:{padding:"8px"}},"All of your upgrades from this project will be removed automatically.\nUndeleting the project will not automatically restore them.\nThis will not affect upgrades other people have applied."):void 0,e?void 0:D.createElement("div",{style:{marginBottom:"5px"}},"Are you sure you want to delete this project?"),D.createElement(s,null,D.createElement(i,{bsStyle:"danger",onClick:this.toggle_delete_project},"Delete Project"),D.createElement(i,{onClick:this.hide_delete_conf},"Cancel")))},render:function(){var e,t;return t=this.props.project.getIn(["users",fe.account_id]),null==t?D.createElement("span",null,"Does not make sense for admin."):(e=t.get("hide"),D.createElement(O,{title:"Hide or delete project",icon:"warning"},D.createElement(R,null,D.createElement(l,{sm:8},this.hide_message()),D.createElement(l,{sm:4},D.createElement(i,{bsStyle:"warning",onClick:this.toggle_hide_project,style:{float:"right"}},D.createElement(v,{name:"eye-slash"})," ",e?"Unhide":"Hide"," Project"))),D.createElement("hr",null),D.createElement(R,null,D.createElement(l,{sm:8},this.delete_message()),D.createElement(l,{sm:4},this.render_delete_undelete_button(this.props.project.get("deleted"),this.state.show_delete_conf))),this.state.show_delete_conf&&!this.props.project.get("deleted")?D.createElement(R,{style:{marginTop:"10px"}},D.createElement(l,{sm:12},this.render_expanded_delete_info())):void 0))}}),P=ae({displayName:"ProjectSettings-SageWorksheetPanel",getInitialState:function(){return{loading:!1,message:""}},componentDidMount:function(){return this._mounted=!0},componentWillUnmount:function(){return delete this._mounted},propTypes:{project:he.object.isRequired},restart_worksheet:function(){return this.setState({loading:!0}),fe.exec({project_id:this.props.project.get("project_id"),command:"smc-sage-server stop; smc-sage-server start",timeout:30,cb:function(e){return function(t,n){if(e._mounted)return e.setState({loading:!1}),t?e.setState({message:"Error trying to restart worksheet server. Try restarting the project server instead."}):e.setState({message:"Worksheet server restarted. Restarted worksheets will use a new Sage session."})}}(this)})},render_message:function(){if(this.state.message)return D.createElement(k,{message:this.state.message,onClose:function(e){return function(){return e.setState({message:""})}}(this)})},render:function(){return D.createElement(O,{title:"Sage worksheet server",icon:"refresh"},D.createElement(R,null,D.createElement(l,{sm:8},"Restart this Sage Worksheet server. ",D.createElement("br",null),D.createElement("span",{style:{color:"#666"}},"Existing worksheet sessions are unaffected; restart this\nserver if you customize $HOME/bin/sage, so that restarted worksheets\nwill use the new version of Sage.")),D.createElement(l,{sm:4},D.createElement(i,{bsStyle:"warning",disabled:this.state.loading,onClick:this.restart_worksheet},D.createElement(v,{name:"refresh",spin:this.state.loading})," Restart Sage Worksheet Server"))),this.render_message())}}),y=ae({displayName:"ProjectSettings-JupyterServer",propTypes:{project_id:he.string.isRequired},render_jupyter_link:function(){return D.createElement("a",{href:"/"+this.props.project_id+"/port/jupyter/",target:"_blank"},"Plain Jupyter Server")},render:function(){return D.createElement(O,{title:"Jupyter notebook server",icon:"list-alt"},D.createElement("span",{style:{color:"#666"}},"The Jupyter notebook server is a Python process that runs in your\nproject that provides backed support for Jupyter notebooks with\nsynchronized editing and TimeTravel.   You can also just\nuse your Jupyter notebook directly via the link below.\nThis does not support multiple users or TimeTravel."),D.createElement("div",{style:{textAlign:"center",fontSize:"14pt",margin:"15px"}},this.render_jupyter_link()),D.createElement("span",{style:{color:"#666"}},"(If the above link doesn't work, refresh it.)"))}}),M=ae({displayName:"ProjectSettings-ProjectControlPanel",getInitialState:function(){return{restart:!1,show_ssh:!1}},propTypes:{project:he.object.isRequired},open_authorized_keys:function(e){var t;return e.preventDefault(),t=this.props.project.get("project_id"),te.series([function(e){return function(e){return se(t).ensure_directory_exists({path:".ssh",cb:e})}}(this),function(e){return function(n){return e.actions({project_id:t}).open_file({path:".ssh/authorized_keys",foreground:!0}),n()}}(this)])},ssh_notice:function(){var e,t,n;if(t=this.props.project.get("project_id"),e=null!=(n=this.props.project.get("host"))?n.get("host"):void 0,null!=e)return this.state.show_ssh?D.createElement("div",null,"SSH into your project: ",D.createElement("span",{style:{color:"#666"}},"First add your public key to ",D.createElement("a",{onClick:this.open_authorized_keys,href:""},"~/.ssh/authorized_keys"),", then use the following username@host:"),D.createElement("pre",null,oe.replace_all(t,"-","")+"@"+e+".sagemath.com"," "),D.createElement("a",{href:"https://github.com/sagemathinc/smc/wiki/AllAboutProjects#create-ssh-key",target:"_blank"},D.createElement(v,{name:"life-ring"})," How to create SSH keys")):D.createElement(R,null,D.createElement(l,{sm:12},D.createElement(i,{bsStyle:"info",onClick:function(e){return function(){return e.setState({show_ssh:!0})}}(this),style:{float:"right"}},D.createElement(v,{name:"terminal"})," SSH into your project...")))},render_state:function(){var e;return D.createElement("span",{style:{fontSize:"12pt",color:"#666"}},D.createElement(N,{state:null!=(e=this.props.project.get("state"))?e.get("state"):void 0}))},restart_project:function(){return this.actions("projects").restart_project(this.props.project.get("project_id"))},save_project:function(){return this.actions("projects").save_project(this.props.project.get("project_id"))},stop_project:function(){return this.actions("projects").stop_project(this.props.project.get("project_id"))},render_confirm_restart:function(){if(this.state.restart)return D.createElement(b,{key:"restart",label:""},D.createElement(X,null,"Restarting the project server will kill all processes, update the project code,\nand start the project running again.  It takes a few seconds, and can fix\nsome issues in case things are not working properly.",D.createElement("hr",null),D.createElement(s,null,D.createElement(i,{
bsStyle:"warning",onClick:function(e){return function(t){return t.preventDefault(),e.setState({restart:!1}),e.restart_project()}}(this)},D.createElement(v,{name:"refresh"})," Restart project server"),D.createElement(i,{onClick:function(e){return function(t){return t.preventDefault(),e.setState({restart:!1})}}(this)},"Cancel"))))},render_action_buttons:function(){var e,n,r,o,a,l;return e=t(24).COMPUTE_STATES,l=null!=(r=this.props.project.get("state"))?r.get("state"):void 0,n=null!=(o=null!=(a=e[l])?a.commands:void 0)?o:["save","stop","start"],D.createElement(s,{style:{marginTop:"10px",marginBottom:"10px"}},D.createElement(i,{bsStyle:"warning",disabled:_e.call(n,"start")<0&&_e.call(n,"stop")<0,onClick:function(e){return function(t){return t.preventDefault(),e.setState({restart:!0})}}(this)},D.createElement(v,{name:e.starting.icon})," Restart project..."),D.createElement(i,{bsStyle:"warning",disabled:_e.call(n,"stop")<0,onClick:function(e){return function(t){return t.preventDefault(),e.stop_project()}}(this)},D.createElement(v,{name:e.stopping.icon})," Stop"),D.createElement(i,{bsStyle:"success",disabled:_e.call(n,"save")<0,onClick:function(e){return function(t){return t.preventDefault(),e.save_project()}}(this)},D.createElement(v,{name:e.saving.icon})," Save"))},render:function(){var e;return D.createElement(O,{title:"Project control",icon:"gears"},D.createElement(b,{key:"state",label:"State"},this.render_state()),D.createElement(b,{key:"action",label:"Actions"},this.render_action_buttons()),this.render_confirm_restart(),D.createElement(b,{key:"project_id",label:"Project id"},D.createElement("pre",null,this.props.project.get("project_id"))),D.createElement(b,{key:"host",label:"Host"},D.createElement("pre",null,null!=(e=this.props.project.get("host"))?e.get("host"):void 0,".sagemath.com")),"If your project is not working, please create a ",D.createElement(q,null),".",D.createElement("hr",null),this.ssh_notice())}}),d=ae({displayName:"ProjectSettings-CollaboratorsSearch",propTypes:{project:he.object.isRequired},reduxProps:{account:{get_fullname:he.func}},getInitialState:function(){return{search:"",select:void 0,selected_entries:void 0,searching:!1,err:"",email_to:"",email_body:""}},reset:function(){return this.setState(this.getInitialState())},do_search:function(e){if(e=e.trim(),this.setState({search:e,selected_entries:void 0}),!this.state.searching)return 0===e.length?void this.setState({err:void 0,select:void 0}):(this.setState({searching:!0}),fe.user_search({query:e,limit:50,cb:function(e){return function(t,n){return e.setState({searching:!1,err:t,select:n})}}(this)}))},render_options:function(e){var t,n,r,i,o;for(o=[],t=0,n=e.length;t<n;t++)i=e[t],r=i.first_name+" "+i.last_name,o.push(D.createElement("option",{key:i.account_id,value:i.account_id,label:r},r));return o},invite_collaborator:function(e){return this.actions("projects").invite_collaborator(this.props.project.get("project_id"),e)},add_selected:function(e){var t,n,r,i,o,s;if(this.reset(),null!=this.state.selected_entries&&0!==(null!=(i=this.state.selected_entries)?i.length:void 0)||1!==(null!=e?e.length:void 0)){for(o=this.state.selected_entries,s=[],t=0,n=o.length;t<n;t++)r=o[t],s.push(this.invite_collaborator(r.getAttribute("value")));return s}return this.invite_collaborator(e[0].account_id)},select_list_clicked:function(){var e;return e=L.findDOMNode(this.refs.select).selectedOptions,this.setState({selected_entries:e})},write_email_invite:function(){var e,t,n,r,i,o;return n=this.props.get_fullname(),r=this.props.project.get("project_id"),o=this.props.project.get("title"),t=window.location.hostname,i="[project '"+o+"'](https://"+t+"/projects/"+r+")",e="Hello!\n\nPlease collaborate with me using [SageMathCloud](https://"+t+") on "+i+".  \n\nBest wishes,\n\n"+n,this.setState({email_to:this.state.search,email_body:e})},send_email_invite:function(){var e,t,n;return n="SageMathCloud Invitation to "+this.props.project.get("title"),e=le.getStore("account").get_email_address(),t=le.getStore("account").get_fullname(),this.actions("projects").invite_collaborators_by_email(this.props.project.get("project_id"),this.state.email_to,this.state.email_body,n,!1,e,t),this.setState({email_to:"",email_body:""})},render_send_email:function(){if(this.state.email_to)return D.createElement("div",null,D.createElement("hr",null),D.createElement(X,null,"Enter one or more email addresses separated by commas:",D.createElement(m,null,D.createElement(f,{autoFocus:!0,type:"text",value:this.state.email_to,ref:"email_to",onChange:function(e){return function(){return e.setState({email_to:L.findDOMNode(e.refs.email_to).value})}}(this)})),D.createElement("div",{style:{border:"1px solid lightgrey",padding:"10px",borderRadius:"5px",backgroundColor:"white",marginBottom:"15px"}},D.createElement(x,{default_value:this.state.email_body,rows:8,on_save:function(e){return function(t){return e.setState({email_body:t,email_body_editing:!1})}}(this),on_cancel:function(e){return function(t){return e.setState({email_body_editing:!1})}}(this),on_edit:function(e){return function(){return e.setState({email_body_editing:!0})}}(this)})),D.createElement(s,null,D.createElement(i,{bsStyle:"primary",onClick:this.send_email_invite,disabled:!!this.state.email_body_editing},"Send Invitation"),D.createElement(i,{onClick:function(e){return function(){return e.setState({email_to:"",email_body:"",email_body_editing:!1})}}(this)},"Cancel"))))},render_search:function(){if(this.state.search&&(this.state.searching||this.state.select))return D.createElement("div",{style:{marginBottom:"10px"}},"Search for '",this.state.search,"'")},render_select_list:function(){var e,t,n,o,s,a,l;if(this.state.searching)return D.createElement(w,null);if(this.state.err)return D.createElement(h,{error:this.state.err,onClose:function(e){return function(){return e.setState({err:""})}}(this)});if(null!=this.state.select&&this.state.search.trim()){for(l=[],t=[],a=this.state.select,n=0,o=a.length;n<o;n++)s=a[n],null!=this.props.project.get("users").get(s.account_id)?t.push(s):l.push(s);return 0===l.length?0===t.length?D.createElement(i,{style:{marginBottom:"10px"},onClick:this.write_email_invite},D.createElement(v,{name:"envelope"})," No matches. Send email invitation..."):(e=function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)s=t[e],r.push(s.first_name+" "+s.last_name);return r}().join(", "),D.createElement(r,{bsStyle:"info"},"Existing collaborator(s): ",e)):D.createElement("div",{style:{marginBottom:"10px"}},D.createElement(m,null,D.createElement(f,{componentClass:"select",multiple:!0,ref:"select",onClick:this.select_list_clicked},this.render_options(l))),this.render_select_list_button(l))}},render_select_list_button:function(e){var t,n,r,o,s;return r=null!=(o=null!=(s=this.state.selected_entries)?s.length:void 0)?o:0,t=function(){switch(e.length){case 0:return"No user found";case 1:return"Invite user";default:switch(r){case 0:return"Select a name above";case 1:return"Invite selected user";default:return"Invite "+r+" users"}}}(),n=0===e.length||e.length>=2&&0===r,D.createElement(i,{onClick:function(t){return function(){return t.add_selected(e)}}(this),disabled:n},D.createElement(v,{name:"user-plus"})," ",t)},render:function(){return D.createElement("div",null,D.createElement(b,{label:"Add collaborators"},D.createElement(B,{on_submit:this.do_search,default_value:this.state.search,placeholder:"Search by name or email address...",on_change:function(e){return function(t){return e.setState({select:void 0})}}(this),on_clear:this.reset})),this.render_search(),this.render_select_list(),this.render_send_email())}}),exports.CollaboratorsList=c=ae({displayName:"ProjectSettings-CollaboratorsList",propTypes:{project:he.object.isRequired,user_map:he.object},reduxProps:{account:{get_account_id:he.func},projects:{sort_by_activity:he.func}},getInitialState:function(){return{removing:void 0}},remove_collaborator:function(e){var t;if(t=this.props.project.get("project_id"),this.actions("projects").remove_collaborator(t,e),this.setState({removing:void 0}),e===this.props.get_account_id())return this.actions("page").close_project_tab(t)},render_user_remove_confirm:function(e){return e===this.props.get_account_id()?D.createElement(X,{style:{background:"white"}},"Are you sure you want to remove ",D.createElement("b",null,"yourself")," from this project?  You will no longer have access\nto this project and cannot add yourself back.",D.createElement(s,{style:{marginTop:"15px"}},D.createElement(i,{bsStyle:"danger",onClick:function(t){return function(){return t.remove_collaborator(e)}}(this)},"Remove Myself"),D.createElement(i,{bsStyle:"default",onClick:function(e){return function(){return e.setState({removing:""})}}(this)},"Cancel"))):D.createElement(X,{style:{background:"white"}},"Are you sure you want to remove ",D.createElement(Z,{account_id:e,user_map:this.props.user_map})," from\nthis project?  They will no longer have access to this project.",D.createElement(s,{style:{marginTop:"15px"}},D.createElement(i,{bsStyle:"danger",onClick:function(t){return function(){return t.remove_collaborator(e)}}(this)},"Remove"),D.createElement(i,{bsStyle:"default",onClick:function(e){return function(){return e.setState({removing:""})}}(this)},"Cancel")))},user_remove_button:function(e,t){return D.createElement(i,{disabled:"owner"===t,style:{marginBottom:"6px",float:"right"},onClick:function(t){return function(){return t.setState({removing:e})}}(this)},D.createElement(v,{name:"user-times"})," Remove...")},render_user:function(e){return D.createElement("div",{key:e.account_id},D.createElement(R,null,D.createElement(l,{sm:8},D.createElement(Z,{account_id:e.account_id,user_map:this.props.user_map,last_active:e.last_active}),D.createElement("span",null,D.createElement(F,null),"(",e.group,")")),D.createElement(l,{sm:4},this.user_remove_button(e.account_id,e.group))),this.state.removing===e.account_id?this.render_user_remove_confirm(e.account_id):void 0)},render_users:function(){var e,t,n,r,i,o,s,a,l;if(o=this.props.project.get("users")){for(a=function(){var t,n;t=o.toJS(),n=[];for(e in t)l=t[e],n.push({account_id:e,group:l.group});return n}(),r=this.props.sort_by_activity(a,this.props.project.get("project_id")),i=[],t=0,n=r.length;t<n;t++)s=r[t],i.push(this.render_user(s));return i}},render:function(){return D.createElement(X,{style:{maxHeight:"20em",overflowY:"auto",overflowX:"hidden"}},this.render_users())}}),u=ae({displayName:"ProjectSettings-CollaboratorsPanel",propTypes:{project:he.object.isRequired,user_map:he.object},render:function(){var e;return D.createElement(O,{title:"Collaborators",icon:"user"},D.createElement("div",{key:"mesg"},D.createElement("span",{style:{color:"#666"}},"Collaborators can ",D.createElement("b",null,"modify anything")," in this project, except backups.\nThey can add and remove other collaborators, but cannot remove owners.")),D.createElement("hr",null),D.createElement(d,{key:"search",project:this.props.project}),(null!=(e=this.props.project.get("users"))?e.size:void 0)>1?D.createElement("hr",null):void 0,D.createElement(c,{key:"list",project:this.props.project,user_map:this.props.user_map}))}}),T=ae(function(e){var n;return n=e.name,{displayName:"ProjectSettings-ProjectSettingsBody",propTypes:{project_id:he.string.isRequired,project:he.immutable.Map.isRequired,user_map:he.immutable.Map.isRequired,customer:he.object,email_address:he.string,project_map:he.object,name:he.string},reduxProps:{account:{get_total_upgrades:he.func,groups:he.array},projects:{get_course_info:he.func,get_total_upgrades_you_have_applied:he.func,get_upgrades_you_applied_to_project:he.func,get_total_project_quotas:he.func,get_upgrades_to_project:he.func}},shouldComponentUpdate:function(e){return this.props.project!==e.project||this.props.user_map!==e.user_map||null!=e.customer&&!e.customer.equals(this.props.customer)||this.props.project_map!==e.project_map},render:function(){var e,n,r,i,o,s,a,c,d,h;return i=this.props.project_id,h=this.props.get_total_upgrades(),r=this.props.get_course_info(this.props.project_id),c=this.props.get_total_upgrades_you_have_applied(),d=this.props.get_upgrades_you_applied_to_project(i),a=this.props.get_total_project_quotas(i),e=this.props.get_upgrades_to_project(i),n=t(48).commercial,D.createElement("div",null,n&&null!=a&&!a.member_host?D.createElement(C,{upgrade_type:"member_host",upgrades_you_can_use:h,upgrades_you_applied_to_all_projects:c,course_info:r,account_id:fe.account_id,email_address:this.props.email_address}):void 0,n&&null!=a&&!a.network?D.createElement(A,{upgrade_type:"network",upgrades_you_can_use:h,upgrades_you_applied_to_all_projects:c}):void 0,this.props.project.get("deleted")?D.createElement(p,null):void 0,D.createElement("h1",{style:{marginTop:"0px"}},D.createElement(v,{name:"wrench"})," Settings and configuration"),D.createElement(R,null,D.createElement(l,{sm:6},D.createElement(G,{project_id:i,project_title:null!=(o=this.props.project.get("title"))?o:"",description:null!=(s=this.props.project.get("description"))?s:"",actions:this.actions("projects")}),D.createElement(Q,{project_id:i,project:this.props.project,actions:this.actions("projects"),user_map:this.props.user_map,account_groups:this.props.groups,upgrades_you_can_use:h,upgrades_you_applied_to_all_projects:c,upgrades_you_applied_to_this_project:d,total_project_quotas:a,all_upgrades_to_this_project:e}),D.createElement(g,{key:"hidedelete",project:this.props.project})),D.createElement(l,{sm:6},D.createElement(u,{project:this.props.project,user_map:this.props.user_map}),D.createElement(M,{key:"control",project:this.props.project}),D.createElement(P,{key:"worksheet",project:this.props.project}),D.createElement(y,{key:"jupyter",project_id:this.props.project_id}))))}}}),exports.ProjectSettings=ae(function(e){var n;return n=e.name,{displayName:"ProjectSettings-ProjectSettings",reduxProps:{projects:{project_map:he.immutable},users:{user_map:he.immutable},account:{stripe_customer:he.immutable,email_address:he.string,user_type:he.string},billing:{customer:he.immutable}},propTypes:{project_id:he.string.isRequired,group:he.string},getInitialState:function(){return{admin_project:void 0}},componentWillUnmount:function(){var e;return delete this._admin_project,null!=(e=this._table)?e.close():void 0},init_admin_view:function(){var e,n,r,i,o;for(this._admin_project="loading",i={},o=oe.keys(t(24).SCHEMA.projects.user_query.get.fields),e=0,r=o.length;e<r;e++)n=o[e],i[n]="project_id"===n?this.props.project_id:null;return this._table=fe.sync_table({projects_admin:i}),this._table.on("change",function(e){return function(){return e.setState({admin_project:e._table.get(e.props.project_id)})}}(this))},render_admin_message:function(){return D.createElement(r,{bsStyle:"warning",style:{margin:"10px"}},D.createElement("h4",null,D.createElement("strong",null,"Warning:")," you are editing the project settings as an ",D.createElement("strong",null,"administrator"),"."),D.createElement("ul",null,D.createElement("li",null," You are not a collaborator on this project, but can edit files, etc. "),D.createElement("li",null," You are an admin: actions will not be logged to the project log.")))},render:function(){var e,t,r,i;if(null==this.props.project_map||null==this.props.user_map)return D.createElement(w,null);if(i=this.props.user_map,e=null!=(t=null!=(r=this.props.project_map)?r.get(this.props.project_id):void 0)?t:this.state.admin_project,"admin"===this.props.group){if(e=this.state.admin_project,null!=this._admin_project&&"loading"!==this._admin_project)return D.createElement(h,{error:this._admin_project});null==e&&null==this._admin_project&&this.init_admin_view()}return null==e?D.createElement(w,null):D.createElement("div",{style:{padding:"15px"}},null!=this.state.admin_project?this.render_admin_message():void 0,D.createElement(T,{project_id:this.props.project_id,project:e,user_map:this.props.user_map,customer:this.props.customer,email_address:this.props.email_address,project_map:this.props.project_map,name:n}))}}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d;c=t(12),i=c.React,o=c.ReactDOM,l=c.rclass,u=c.rtypes,s=c.Redux,n=c.Actions,a=c.Store,d=t(19).salvus_client,r=l({displayName:"PublicImage",propTypes:{project_id:u.string,path:u.string},render:function(){var e;return e=d.read_file_from_project({project_id:this.props.project_id,path:this.props.path}),i.createElement("div",{className:"salvus-editor-static-html-content"},i.createElement("img",{src:e}))}}),t(83).register_file_editor({ext:["jpg","jpeg","png","bmp","gif","apng","svg","ico"],is_public:!0,icon:"file-image-o",component:r})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v=function(e,t){return function(){return e.apply(t,arguments)}},y=function(e,t){function n(){this.constructor=e}for(var r in t)b.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},b={}.hasOwnProperty;f=t(12),l=f.React,c=f.ReactDOM,p=f.rclass,_=f.rtypes,u=f.Redux,n=f.Actions,d=f.Store,m=t(17),r=m.ErrorDisplay,i=m.Loading,s=m.Markdown,g=t(19).salvus_client,h=function(e,t){return"editor-"+e+"-"+t},a=p(function(e){var t,n;return t=e.name,{displayName:"PublicMarkdown",reduxProps:(n={},n[""+t]={content:_.string,project_id:_.string,path:_.string},n),render:function(){return this.props.error?l.createElement(r,{error:this.props.error}):null==this.props.content?l.createElement(i,null):l.createElement("div",{className:"salvus-editor-static-html-content"},l.createElement(s,{project_id:this.props.project_id,path:this.props.path,value:this.props.content}))}}}),o=function(e){function t(){return this.load_content=v(this.load_content,this),t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.load_content=function(e,t){return this.setState({project_id:e,path:t}),g.public_get_text_file({project_id:e,path:t,timeout:60,cb:function(e){return function(t,n){return t?e.setState({error:t}):e.setState({content:n})}}(this)})},t}(n),t(83).register_file_editor({ext:"md",is_public:!0,icon:"file-code-o",init:function(e,t,n){var r,i,s;return i=h(n,e),null!=t.getActions(i)?i:(r=t.createActions(i,o),s=t.createStore(i),r.load_content(n,e),i)},component:a,remove:function(e,t,n){var r;return r=h(n,e),t.removeStore(r),t.removeActions(r)}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A;y=t(12),d=y.React,v=y.rclass,A=y.rtypes,b=t(17),s=b.Loading,g=b.r_join,f=b.Space,i=b.Footer,_=t(9),w=t(22),n=w.Button,p=w.Row,r=w.Col,m=w.Well,l=w.Panel,u=w.ProgressBar,x=t(48),o=x.HelpEmailLink,h=x.SiteName,c=x.PolicyPricingPageUrl,a=t(24).PROJECT_UPGRADES,k=_.round1,exports.UpgradesPage=v({propTypes:{redux:A.object,project_map:A.object,stripe_customer:A.object},displayName:"UpgradesPage",render_no_upgrades:function(){var e,n,r,o,s;return s=t(186),o=s.SubscriptionGrid,n=s.ExplainResources,e=s.ExplainPlan,r=s.FAQ,d.createElement("div",null,d.createElement("h3",null,"Sign up for a subscription in the billing tab"),d.createElement(n,{type:"shared"}),d.createElement(f,null),d.createElement(e,{type:"personal"}),d.createElement(o,{period:"month year",is_static:!0}),d.createElement(f,null),d.createElement(e,{type:"course"}),d.createElement(o,{period:"month4",is_static:!0}),d.createElement(f,null),d.createElement(n,{type:"dedicated"}),d.createElement("hr",null),d.createElement(r,null),d.createElement(i,null))},render_have_upgrades:function(){return d.createElement("div",null,d.createElement("h3",null,"Thank you for supporting ",d.createElement(h,null)),d.createElement("span",{style:{color:"#666"}},"We offer many ",d.createElement("a",{href:c,target:"_blank"}," pricing\nand subscription options"),", which you can subscribe to in the Billing tab.\nYour upgrades are listed below, along with how you have\napplied them to projects.  You can adjust your project upgrades from\nthe settings page in any project."),d.createElement(f,null))},render_upgrade:function(e,t,n,i){var o,s,l,c;return o=a.params[e],s=k(null!=t?o.display_factor*t:0),c=k(null!=n?o.display_factor*n:0),l=Math.round(c/s*100),d.createElement(p,{key:e,style:i?{backgroundColor:"#eee"}:void 0},d.createElement(r,{sm:2},o.display),d.createElement(r,{sm:3},d.createElement(p,null,d.createElement(r,{sm:5},null!=c?d.createElement("span",null,c," ",_.plural(c,o.display_unit)):void 0),d.createElement(r,{sm:7},d.createElement(u,{striped:!0,now:l,style:{marginBottom:"0px"}})))),d.createElement(r,{sm:2},null!=s?d.createElement("span",null,s," ",_.plural(s,o.display_unit)):void 0),d.createElement(r,{sm:5,style:{color:"#666"}},o.desc))},render_upgrade_rows:function(e,t){var n,r,i,o,s,l,c;for(r=1,l=a.field_order,c=[],i=0,o=l.length;i<o;i++)s=l[i],n=e[s],r+=1,c.push(this.render_upgrade(s,n,t[s],r%2===0));return c},render_upgrades:function(){var e,t;return e=this.props.redux.getStore("account").get_total_upgrades(),t=this.props.redux.getStore("projects").get_total_upgrades_you_have_applied(),null==e||null==t?this.render_no_upgrades():d.createElement(l,{header:d.createElement("h4",null,"Upgrades that you get from your subscriptions")},d.createElement(p,{key:"header"},d.createElement(r,{sm:2},d.createElement("strong",null,"Quota")),d.createElement(r,{sm:3},d.createElement("strong",null,"Used")),d.createElement(r,{sm:2},d.createElement("strong",null,"Purchased")),d.createElement(r,{sm:5},d.createElement("strong",null,"Description"))),this.render_upgrade_rows(e,t))},open_project_settings:function(e,t){return this.props.redux.getActions("projects").open_project({project_id:t,target:"settings",switch_to:!(2===e.which||e.ctrlKey||e.metaKey)}),e.preventDefault()},render_upgrades_to_project:function(e,t){var n,r,i,o,s;o=[];for(i in t)s=t[i],s&&(n=a.params[i],null!=n?(r=k(null!=s?n.display_factor*s:0),o.push(d.createElement("span",{key:i},n.display,": ",r,"  ",_.plural(r,n.display_unit)))):console.warn("Invalid upgrades database entry for project_id='"+e+"' -- if this problem persists, email "+redux.getStore("customize").get("help_email")+" with the project_id: "+i));return g(o)},render_upgraded_project:function(e,n,i){var o;return o=t(135).ProjectTitle,d.createElement(p,{key:e,style:i?{backgroundColor:"#eee"}:void 0},d.createElement(r,{sm:4},d.createElement(o,{project_id:e,project_map:this.props.project_map,handle_click:function(t){return function(n){return t.open_project_settings(n,e)}}(this)})),d.createElement(r,{sm:8},this.render_upgrades_to_project(e,n)))},render_upgraded_projects_rows:function(e){var t,n,r,i;t=-1,r=[];for(n in e)i=e[n],t+=1,r.push(this.render_upgraded_project(n,i,t%2===0));return r},render_upgraded_projects:function(){var e;if(e=this.props.redux.getStore("projects").get_projects_upgraded_by(),_.len(e))return d.createElement(l,{header:d.createElement("h4",null,"Upgrades you have applied to projects")},d.createElement(p,{key:"header"},d.createElement(r,{sm:4},d.createElement("strong",null,"Project")),d.createElement(r,{sm:8},d.createElement("strong",null,"Upgrades you have applied to this project"))),this.render_upgraded_projects_rows(e))},render:function(){var e,t;return null==this.props.redux||null==this.props.project_map?d.createElement(s,null):(null!=(e=this.props.stripe_customer)&&null!=(t=e.subscriptions)?t.total_count:void 0)?d.createElement("div",null,this.render_have_upgrades(),this.render_upgrades(),this.render_upgraded_projects(),d.createElement(i,null)):this.render_no_upgrades()}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le;D=t(26),d=t(49).IS_MOBILE,le=t(23),B=t(9),q=t(30),O=B.defaults,ee=B.required,ne=t(19).salvus_client,j=t(36).alert_message,H=t(12),y=H.React,b=H.ReactDOM,U=H.rclass,te=H.rtypes,n=H.Actions,k=H.Store,w=H.Redux,K=t(17),p=K.Icon,m=K.Loading,_=K.Markdown,A=K.TimeAgo,C=K.Tip,G=t(22),r=G.Button,a=G.Col,u=G.Grid,c=G.FormGroup,l=G.FormControl,h=G.ListGroup,f=G.ListGroupItem,v=G.Panel,x=G.Row,i=G.ButtonGroup,S=G.Well,E=t(102).User,N=t(197),Y=t(197),W=Y.redux_name,L=Y.init_redux,F=Y.newest_content,se=Y.sender_is_viewer,ae=Y.show_user_name,R=Y.is_editing,M=Y.blank_column,X=Y.render_markdown,Z=Y.render_history_title,Q=Y.render_history_footer,V=Y.render_history,I=Y.get_user_name,oe=Y.send_chat,T=Y.clear_input,z=Y.is_at_bottom,re=Y.scroll_to_bottom,ie=Y.scroll_to_position,g=U({displayName:"Message",propTypes:{message:te.object.isRequired,history:te.object,account_id:te.string.isRequired,date:te.string,sender_name:te.string,editor_name:te.string,user_map:te.object,project_id:te.string,file_path:te.string,font_size:te.number,show_avatar:te.bool,get_user_name:te.func,is_prev_sender:te.bool,is_next_sender:te.bool,actions:te.object,show_heads:te.bool,saved_mesg:te.string,close_input:te.func},getInitialState:function(){return{edited_message:F(this.props.message),history_size:this.props.message.get("history").size,show_history:!1,new_changes:!1}},componentWillReceiveProps:function(e){var t,n,r,i;return this.state.history_size!==this.props.message.get("history").size&&this.setState({history_size:this.props.message.get("history").size}),t=!1,this.state.edited_message===F(this.props.message)?this.setState({edited_message:null!=(n=null!=(r=e.message.get("history"))&&null!=(i=r.first())?i.get("content"):void 0)?n:""}):t=!0,this.setState({new_changes:t})},shouldComponentUpdate:function(e,t){return this.props.message!==e.message||this.props.user_map!==e.user_map||this.props.account_id!==e.account_id||this.props.is_prev_sender!==e.is_prev_sender||this.props.is_next_sender!==e.is_next_sender||this.props.editor_name!==e.editor_name||this.props.saved_mesg!==e.saved_mesg||this.state.edited_message!==t.edited_message||this.state.show_history!==t.show_history||!this.props.is_prev_sender&&this.props.sender_name!==e.sender_name},componentDidMount:function(){if(this.refs.editedMessage)return this.setState({edited_message:this.props.saved_mesg})},componentDidUpdate:function(){if(this.refs.editedMessage)return this.props.actions.saved_message(b.findDOMNode(this.refs.editedMessage).value)},toggle_history:function(){if(!d)return this.state.show_history?y.createElement("span",{className:"small",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(e){return function(){return e.toggle_history_side_chat(!1)}}(this)},y.createElement(C,{title:"Message History",tip:"Hide history of editing of this message.",placement:"left"},y.createElement(p,{name:"history"})," Hide History")):y.createElement("span",{className:"small",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(e){return function(){return e.toggle_history_side_chat(!0)}}(this)},y.createElement(C,{title:"Message History",tip:"Show history of editing of this message.",placement:"left"},y.createElement(p,{name:"history"})," Edited"))},toggle_history_side_chat:function(e){return this.setState({show_history:e})},editing_status:function(){var e,t,n,r,i,o;return r=this.props.message.get("editing").remove(this.props.account_id).keySeq(),e=this.props.user_map.get(this.props.account_id).get("first_name")+" "+this.props.user_map.get(this.props.account_id).get("last_name"),R(this.props.message,this.props.account_id)?o=1===r.size?this.props.get_user_name(r.first(),this.props.user_map)+" is also editing this!":r.size>1?r.size+" other users are also editing this!":this.state.history_size!==this.props.message.get("history").size&&this.state.new_changes?this.props.editor_name+" has updated this message. Esc to discard your changes and see theirs":"You are now editing ... Shift+Enter to submit changes.":1===r.size?o=this.props.get_user_name(r.first(),this.props.user_map)+" is editing this message":r.size>1?o=r.size+" people are editing this message":""===F(this.props.message).trim()&&(o="Deleted by "+this.props.editor_name),null==o&&(o="Last edit by "+this.props.editor_name),R(this.props.message,this.props.account_id)||0!==r.size||""===F(this.props.message).trim()?y.createElement("span",{className:"small"},o):(t="Last edit ",n=" by "+this.props.editor_name,y.createElement("span",{className:"small"},t,y.createElement(A,{date:new Date(null!=(i=this.props.message.get("history").first())?i.get("date"):void 0)}),n))},edit_message:function(){return this.props.actions.set_editing(this.props.message,!0),this.props.close_input(this.props.date,this.props.account_id,this.props.saved_mesg)},on_keydown:function(e){var t;return 27===e.keyCode?(e.preventDefault(),this.setState({edited_message:F(this.props.message)}),this.props.actions.set_editing(this.props.message,!1)):13===e.keyCode&&e.shiftKey?(t=b.findDOMNode(this.refs.editedMessage).value,t!==F(this.props.message)?this.props.actions.send_edit(this.props.message,t):this.props.actions.set_editing(this.props.message,!1)):void 0},content_column:function(){var e,t,n,r,i,o,s,l,c,u;return u=F(this.props.message),c=N.message_colors(this.props.account_id,this.props.message),e=c.background,n=c.color,i=c.lighten,s=c.message_class,u=B.smiley({s:u,wrap:['<span class="smc-editor-chat-smiley">',"</span>"]}),r=this.props.font_size+"px",!this.props.is_prev_sender&&se(this.props.account_id,this.props.message)&&(o="17px"),this.props.is_prev_sender||this.props.is_next_sender||this.state.show_history?this.props.is_prev_sender?this.props.is_next_sender||(t="5px 5px 10px 10px"):t="10px 10px 5px 5px":t="10px 10px 10px 10px",l={background:e,wordBreak:"break-word",marginBottom:"3px",borderRadius:t,color:n},se(this.props.account_id,this.props.message)?l.marginLeft="10%":l.marginRight="10%",y.createElement(a,{key:1,xs:11,style:{width:"100%"}},this.props.is_prev_sender||se(this.props.account_id,this.props.message)?void 0:ae(this.props.sender_name),y.createElement(S,{style:l,bsSize:"small",className:"smc-chat-message",onDoubleClick:this.edit_message},y.createElement("span",{style:i},N.render_timeago(this.props.message)),R(this.props.message,this.props.account_id)?void 0:X(u,this.props.project_id,this.props.file_path,s),R(this.props.message,this.props.account_id)?this.render_input():void 0,y.createElement("span",{style:i},this.props.message.get("history").size>1||this.props.message.get("editing").size>0?this.editing_status():void 0,this.props.message.get("history").size>1?this.toggle_history():void 0)),this.state.show_history?Z():void 0,this.state.show_history?V(this.props.history,this.props.user_map):void 0,this.state.show_history?Q():void 0)},render_input:function(){return y.createElement("form",null,y.createElement(c,null,y.createElement(l,{autoFocus:!0,rows:4,componentClass:"textarea",ref:"editedMessage",onKeyDown:this.on_keydown,value:this.state.edited_message,onChange:function(e){return function(t){return e.setState({edited_message:t.target.value})}}(this)})))},render:function(){var e;return this.props.include_avatar_col?(e=[this.avatar_column(),this.content_column(),M()],se(this.props.account_id,this.props.message)&&(e=e.reverse()),y.createElement(x,null,e)):(e=[this.content_column(),M()],se(this.props.account_id,this.props.message)&&(e=e.reverse()),y.createElement(x,null,e))}}),o=U({displayName:"ChatLog",propTypes:{messages:te.object.isRequired,user_map:te.object,account_id:te.string,project_id:te.string,file_path:te.string,font_size:te.number,actions:te.object,show_heads:te.bool,saved_mesg:te.string,set_scroll:te.func},shouldComponentUpdate:function(e){return this.props.messages!==e.messages||this.props.user_map!==e.user_map||this.props.account_id!==e.account_id||this.props.saved_mesg!==e.saved_mesg},close_edit_inputs:function(e,t,n){var r,i,o,s,a,l,c,u,d;for(d=this.props.messages.keySeq().sort(B.cmp_Date).toJS(),u=[],o=0,s=d.length;o<s;o++)r=d[o],i=null!=(a=null!=(l=this.props.messages.get(r).get("history").first())?l.get("content"):void 0)?a:"",r!==e&&(null!=(c=this.props.messages.get(r).get("editing"))?c.has(t):void 0)?i!==n?u.push(this.props.actions.send_edit(this.props.messages.get(r),n)):u.push(this.props.actions.set_editing(this.props.messages.get(r),!1)):u.push(void 0);return u},list_messages:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p;for(n=function(e,t,n){var r,i;return e+1!==t.length&&(r=n.get(t[e]),
i=n.get(t[e+1]),r.get("sender_id")===i.get("sender_id"))},r=function(e,t,n){var r,i;return 0!==e&&(r=n.get(t[e]),i=n.get(t[e-1]),r.get("sender_id")===i.get("sender_id"))},d=this.props.messages.keySeq().sort(B.cmp_Date).toJS(),p=[],t=i=0,s=d.length;i<s;t=++i)e=d[t],u=I(null!=(a=this.props.messages.get(e))?a.get("sender_id"):void 0,this.props.user_map),o=I(null!=(l=this.props.messages.get(e))&&null!=(c=l.get("history").first())?c.get("author_id"):void 0,this.props.user_map),p.push(y.createElement(g,{key:e,account_id:this.props.account_id,history:this.props.messages.get(e).get("history"),user_map:this.props.user_map,message:this.props.messages.get(e),date:e,project_id:this.props.project_id,file_path:this.props.file_path,font_size:this.props.font_size,is_prev_sender:r(t,d,this.props.messages),is_next_sender:n(t,d,this.props.messages),show_avatar:this.props.show_heads&&!n(t,d,this.props.messages),include_avatar_col:this.props.show_heads,get_user_name:I,sender_name:u,editor_name:B.trunc_middle(o,15),actions:this.props.actions,saved_mesg:this.props.saved_mesg,close_input:this.close_edit_inputs,set_scroll:this.props.set_scroll}));return p},render:function(){return y.createElement(u,{fluid:!0,style:{marginTop:"15px"}},this.list_messages())}}),P={overflowY:"auto",flex:1,border:"1px solid lightgrey",backgroundColor:"#fafafa"},s=U(function(e){var t,n;return t=e.name,{displayName:"ChatRoom",reduxProps:(n={},n[""+t]={messages:te.immutable,input:te.string,saved_position:te.number,height:te.number,offset:te.number,saved_mesg:te.string,use_saved_position:te.bool},n.users={user_map:te.immutable},n.account={account_id:te.string,font_size:te.number},n.file_use={file_use:te.immutable},n),propTypes:{redux:te.object.isRequired,actions:te.object.isRequired,name:te.string.isRequired,project_id:te.string.isRequired,file_use_id:te.string.isRequired,path:te.string},mark_as_read:function(){var e,t;if(t=this.props.redux.getStore("file_use").get_file_info(this.props.project_id,B.original_path(this.props.path)),null==t||t.is_unseenchat)return e=this.props.redux.getActions("file_use").mark_file,e(this.props.project_id,this.props.path,"read"),e(this.props.project_id,this.props.path,"chatseen")},on_keydown:function(e){return 27===e.keyCode?this.props.actions.set_input(""):13===e.keyCode&&e.shiftKey?this.button_send_chat(e):38===e.keyCode&&""===this.props.input?this.props.actions.set_to_last_input():void 0},button_send_chat:function(e){return oe(e,this.refs.log_container,this.props.input,this.props.actions)},on_scroll:function(e){var t;return this.props.actions.set_use_saved_position(!0),t=b.findDOMNode(this.refs.log_container),this.props.actions.save_scroll_state(t.scrollTop,t.scrollHeight,t.offsetHeight),e.preventDefault()},componentDidMount:function(){return ie(this.refs.log_container,this.props.saved_position,this.props.offset,this.props.height,this.props.use_saved_position,this.props.actions),this.mark_as_read()},componentWillReceiveProps:function(e){if((this.props.messages!==e.messages||this.props.input!==e.input)&&z(this.props.saved_position,this.props.offset,this.props.height))return this.props.actions.set_use_saved_position(!1)},componentDidUpdate:function(){if(!this.props.use_saved_position)return re(this.refs.log_container,this.props.actions)},render:function(){var e;return null==this.props.messages||null==this.props.redux?y.createElement(m,null):(e=le.throttle(this.mark_as_read,3e3),y.createElement("div",{style:{height:"100%",width:"100%",position:"absolute",display:"flex",flexDirection:"column",backgroundColor:"#efefef"},onMouseMove:e},y.createElement("div",{style:P,ref:"log_container",onScroll:this.on_scroll},y.createElement(o,{messages:this.props.messages,account_id:this.props.account_id,user_map:this.props.user_map,project_id:this.props.project_id,font_size:this.props.font_size,file_path:null!=this.props.path?B.path_split(this.props.path).head:void 0,actions:this.props.actions,show_heads:!1})),y.createElement("div",{style:{marginTop:"auto",padding:"5px",paddingLeft:"15px",paddingRight:"15px"}},y.createElement("div",{style:{display:"flex",height:"6em"}},y.createElement(l,{style:{width:"85%",height:"100%"},autoFocus:!1,componentClass:"textarea",ref:"input",onKeyDown:function(t){return function(n){return e(),t.on_keydown(n)}}(this),value:this.props.input,placeholder:"Type a message...",onChange:function(e){return function(t){return e.props.actions.set_input(t.target.value)}}(this)}),y.createElement(r,{style:{width:"15%",height:"100%"},onClick:this.button_send_chat,disabled:""===this.props.input,bsStyle:"success"},y.createElement(p,{name:"chevron-circle-right"}))),y.createElement("div",{style:{color:"#888",padding:"5px"}},"Shift+enter to send. Double click to edit. Use ",y.createElement("a",{href:"https://help.github.com/articles/getting-started-with-writing-and-formatting-on-github/",target:"_blank"},"Markdown")," and ",y.createElement("a",{href:"https://en.wikibooks.org/wiki/LaTeX/Mathematics",target:"_blank"},"LaTeX"),"."))))}}}),exports.SideChat=function(e){var n,r,i,o,a,l;return o=e.path,l=e.redux,a=e.project_id,i=W(a,o),r=t(24).client_db.sha1(a,o),n=l.getActions(i),null==n&&(L(o,l,a),n=l.getActions(i)),y.createElement(s,{redux:l,actions:l.getActions(i),name:i,project_id:a,path:o,file_use_id:r})},J=function(e,n,r){var i,o,a;return a=W(n,r),o=t(24).client_db.sha1(n,r),i=e.getActions(a),null==i&&(L(this.props.path,this.props.redux,this.props.project_id),i=e.getActions(a)),y.createElement(s,{redux:e,actions:i,name:a,project_id:n,path:r,file_use_id:o})},exports.render=function(e,t,n,r){var i;return i=L(t,r,e),b.render(J(r,e,t),n),i},exports.hide=function(e,t,n,r){return b.unmountComponentAtNode(n)},exports.show=function(e,t,n,r){return b.render(J(r,e,t),n)},exports.free=function(e,t,n,r){var i,o,s;if(i=W(e,t),s=r.getStore(i),null!=s)return b.unmountComponentAtNode(n),null!=(o=s.syncdb)&&o.destroy(),delete s.state,r.removeStore(i),r.removeActions(i)}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le;D=t(26),H=t(49),h=H.IS_MOBILE,z=H.isMobile,le=t(23),r=t(198).Avatar,B=t(9),q=t(30),O=B.defaults,te=B.required,K=t(12),b=K.React,w=K.ReactDOM,U=K.rclass,ne=K.rtypes,n=K.Actions,k=K.Store,G=t(17),f=G.Icon,g=G.Loading,v=G.Markdown,A=G.TimeAgo,C=G.Tip,Y=t(22),i=Y.Button,c=Y.Col,p=Y.Grid,d=Y.FormGroup,u=Y.FormControl,m=Y.ListGroup,_=Y.ListGroupItem,x=Y.Row,o=Y.ButtonGroup,j=Y.Well,E=t(102).User,N=t(197),J=t(197),W=J.redux_name,L=J.init_redux,V=J.remove_redux,F=J.newest_content,se=J.sender_is_viewer,ae=J.show_user_name,P=J.is_editing,M=J.blank_column,ee=J.render_markdown,X=J.render_history_title,Z=J.render_history_footer,Q=J.render_history,I=J.get_user_name,oe=J.send_chat,T=J.clear_input,R=J.is_at_bottom,re=J.scroll_to_bottom,ie=J.scroll_to_position,S=t(796).VideoChatButton,y=U({displayName:"Message",propTypes:{message:ne.object.isRequired,history:ne.object,account_id:ne.string.isRequired,date:ne.string,sender_name:ne.string,editor_name:ne.string,user_map:ne.object,project_id:ne.string,file_path:ne.string,font_size:ne.number,show_avatar:ne.bool,get_user_name:ne.func,is_prev_sender:ne.bool,is_next_sender:ne.bool,actions:ne.object,show_heads:ne.bool,focus_end:ne.func,saved_mesg:ne.string,close_input:ne.func},getInitialState:function(){return{edited_message:F(this.props.message),history_size:this.props.message.get("history").size,show_history:!1,new_changes:!1}},componentWillReceiveProps:function(e){var t,n,r,i;return this.state.history_size!==this.props.message.get("history").size&&this.setState({history_size:this.props.message.get("history").size}),t=!1,this.state.edited_message===F(this.props.message)?this.setState({edited_message:null!=(n=null!=(r=e.message.get("history"))&&null!=(i=r.first())?i.get("content"):void 0)?n:""}):t=!0,this.setState({new_changes:t})},shouldComponentUpdate:function(e,t){return this.props.message!==e.message||this.props.user_map!==e.user_map||this.props.account_id!==e.account_id||this.props.show_avatar!==e.show_avatar||this.props.is_prev_sender!==e.is_prev_sender||this.props.is_next_sender!==e.is_next_sender||this.props.editor_name!==e.editor_name||this.props.saved_mesg!==e.saved_mesg||this.state.edited_message!==t.edited_message||this.state.show_history!==t.show_history||!this.props.is_prev_sender&&this.props.sender_name!==e.sender_name},componentDidMount:function(){if(this.refs.editedMessage)return this.setState({edited_message:this.props.saved_mesg})},componentDidUpdate:function(){if(this.refs.editedMessage)return this.props.actions.saved_message(w.findDOMNode(this.refs.editedMessage).value)},toggle_history:function(){if(!h)return this.state.show_history?b.createElement("span",{className:"small",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(e){return function(){return e.toggle_history_chat(!1)}}(this)},b.createElement(C,{title:"Message History",tip:"Hide history of editing of this message."},b.createElement(f,{name:"history"})," Hide History")):b.createElement("span",{className:"small",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(e){return function(){return e.toggle_history_chat(!0)}}(this)},b.createElement(C,{title:"Message History",tip:"Show history of editing of this message."},b.createElement(f,{name:"history"})," Edited"))},toggle_history_chat:function(e){return this.setState({show_history:e}),this.props.set_scroll()},editing_status:function(){var e,t,n,r,o,s,a;return o=this.props.message.get("editing").remove(this.props.account_id).keySeq(),t=this.props.user_map.get(this.props.account_id).get("first_name")+" "+this.props.user_map.get(this.props.account_id).get("last_name"),P(this.props.message,this.props.account_id)?1===o.size?(a=this.props.get_user_name(o.first())+" is also editing this!",e="#E55435"):o.size>1?(a=o.size+" other users are also editing this!",e="#E55435"):this.state.history_size!==this.props.message.get("history").size&&this.state.new_changes?(a=this.props.editor_name+" has updated this message. Esc to discard your changes and see theirs",e="#E55435"):a=h?"You are now editing ...":"You are now editing ... Shift+Enter to submit changes.":1===o.size?a=this.props.get_user_name(o.first())+" is editing this message":o.size>1?a=o.size+" people are editing this message":""===F(this.props.message).trim()&&(a="Deleted by "+this.props.editor_name),null==a&&(a="Last edit by "+this.props.editor_name),P(this.props.message,this.props.account_id)||0!==o.size||""===F(this.props.message).trim()?b.createElement("span",{className:"small"},a,P(this.props.message,this.props.account_id)?b.createElement(i,{onClick:this.save_edit,bsStyle:"success",style:{marginLeft:"10px",marginTop:"-5px"},className:"small"},"Save"):void 0):(n="Last edit ",r=" by "+this.props.editor_name,b.createElement("span",{className:"small"},n,b.createElement(A,{date:new Date(null!=(s=this.props.message.get("history").first())?s.get("date"):void 0)}),r))},edit_message:function(){return this.props.actions.set_editing(this.props.message,!0),this.props.close_input(this.props.date,this.props.account_id,this.props.saved_mesg)},on_keydown:function(e){var t;return 27===e.keyCode?(e.preventDefault(),this.setState({edited_message:F(this.props.message)}),this.props.actions.set_editing(this.props.message,!1)):13===e.keyCode&&e.shiftKey?(t=w.findDOMNode(this.refs.editedMessage).value,t!==F(this.props.message)?this.props.actions.send_edit(this.props.message,t):this.props.actions.set_editing(this.props.message,!1)):void 0},save_edit:function(){var e;return e=w.findDOMNode(this.refs.editedMessage).value,e!==F(this.props.message)?this.props.actions.send_edit(this.props.message,e):this.props.actions.set_editing(this.props.message,!1)},avatar_column:function(){var e,t,n,i,o,s,a,l;return e=null!=(o=this.props.user_map)&&null!=(s=o.get(this.props.message.get("sender_id")))?s.toJS():void 0,i=this.props.is_prev_sender?"5px":"15px",se(this.props.account_id,this.props.message)?(l="left",n="11px"):(l="right",t="11px"),a={display:"inline-block",marginTop:i,marginLeft:t,marginRight:n,padding:"0px",textAlign:l,verticalAlign:"middle",width:"4%"},b.createElement(c,{key:0,xsHidden:!0,sm:1,style:a},b.createElement("div",null,null!=e&&this.props.show_avatar?b.createElement(r,{size:32,account_id:e.account_id}):void 0))},content_column:function(){var e,t,n,r,i,o,s,a,l,u,d;return d=F(this.props.message),u=N.message_colors(this.props.account_id,this.props.message),e=u.background,n=u.color,i=u.lighten,a=u.message_class,d=B.smiley({s:d,wrap:['<span class="smc-editor-chat-smiley">',"</span>"]}),r=this.props.font_size+"px",o=this.props.show_avatar?"1vh":"3px",!this.props.is_prev_sender&&se(this.props.account_id,this.props.message)&&(s="17px"),this.props.is_prev_sender||this.props.is_next_sender||this.state.show_history?this.props.is_prev_sender?this.props.is_next_sender||(t="5px 5px 10px 10px"):t="10px 10px 5px 5px":t="10px 10px 10px 10px",l={color:n,background:e,wordWrap:"break-word",marginBottom:"3px",marginTop:s,borderRadius:t,fontSize:r},b.createElement(c,{key:1,xs:10,sm:9},this.props.is_prev_sender||se(this.props.account_id,this.props.message)?void 0:ae(this.props.sender_name),b.createElement(j,{style:l,className:"smc-chat-message",bsSize:"small",onDoubleClick:this.edit_message},b.createElement("span",{style:i},N.render_timeago(this.props.message)),P(this.props.message,this.props.account_id)?void 0:ee(d,this.props.project_id,this.props.file_path,a),P(this.props.message,this.props.account_id)?this.render_input():void 0,b.createElement("span",{style:i},this.props.message.get("history").size>1||this.props.message.get("editing").size>0?this.editing_status():void 0,this.props.message.get("history").size>1?this.toggle_history():void 0)),this.state.show_history?X():void 0,this.state.show_history?Q(this.props.history,this.props.user_map):void 0,this.state.show_history?Z():void 0)},render_input:function(){return b.createElement("div",null,b.createElement(d,null,b.createElement(u,{style:{fontSize:this.props.font_size},autoFocus:!0,rows:4,componentClass:"textarea",ref:"editedMessage",onKeyDown:this.on_keydown,value:this.state.edited_message,onChange:function(e){return function(t){return e.setState({edited_message:t.target.value})}}(this),onFocus:this.props.focus_end})))},render:function(){var e;return this.props.include_avatar_col?(e=[this.avatar_column(),this.content_column(),M()],se(this.props.account_id,this.props.message)&&(e=e.reverse()),b.createElement(x,null,e)):(e=[this.content_column(),M()],se(this.props.account_id,this.props.message)&&(e=e.reverse()),b.createElement(x,null,e))}}),a=U({displayName:"ChatLog",propTypes:{messages:ne.object.isRequired,user_map:ne.object,account_id:ne.string,project_id:ne.string,file_path:ne.string,font_size:ne.number,actions:ne.object,show_heads:ne.bool,focus_end:ne.func,saved_mesg:ne.string,set_scroll:ne.func},shouldComponentUpdate:function(e){return this.props.messages!==e.messages||this.props.user_map!==e.user_map||this.props.account_id!==e.account_id||this.props.saved_mesg!==e.saved_mesg},get_user_name:function(e){var t,n,r;return t=null!=(r=this.props.user_map)?r.get(e):void 0,n=null!=t?t.get("first_name")+" "+t.get("last_name"):"Unknown"},close_edit_inputs:function(e,t,n){var r,i,o,s,a,l,c,u,d;for(d=this.props.messages.keySeq().sort(B.cmp_Date).toJS(),u=[],o=0,s=d.length;o<s;o++)r=d[o],i=null!=(a=null!=(l=this.props.messages.get(r).get("history").first())?l.get("content"):void 0)?a:"",r!==e&&(null!=(c=this.props.messages.get(r).get("editing"))?c.has(t):void 0)?i!==n?u.push(this.props.actions.send_edit(this.props.messages.get(r),n)):u.push(this.props.actions.set_editing(this.props.messages.get(r),!1)):u.push(void 0);return u},list_messages:function(){var e,t,n,r,i,o,s,a,l,c,u,d,p;for(n=function(e,t,n){var r,i;return e+1!==t.length&&(r=n.get(t[e]),i=n.get(t[e+1]),r.get("sender_id")===i.get("sender_id"))},r=function(e,t,n){var r,i;return 0!==e&&(r=n.get(t[e]),i=n.get(t[e-1]),r.get("sender_id")===i.get("sender_id"))},d=this.props.messages.keySeq().sort().toJS(),p=[],t=i=0,s=d.length;i<s;t=++i)e=d[t],u=this.get_user_name(null!=(a=this.props.messages.get(e))?a.get("sender_id"):void 0),o=this.get_user_name(null!=(l=this.props.messages.get(e))&&null!=(c=l.get("history").first())?c.get("author_id"):void 0),p.push(b.createElement(y,{key:e,account_id:this.props.account_id,history:this.props.messages.get(e).get("history"),user_map:this.props.user_map,message:this.props.messages.get(e),date:e,project_id:this.props.project_id,file_path:this.props.file_path,font_size:this.props.font_size,is_prev_sender:r(t,d,this.props.messages),is_next_sender:n(t,d,this.props.messages),show_avatar:this.props.show_heads&&!n(t,d,this.props.messages),include_avatar_col:this.props.show_heads,get_user_name:this.get_user_name,sender_name:u,editor_name:o,actions:this.props.actions,focus_end:this.props.focus_end,saved_mesg:this.props.saved_mesg,close_input:this.close_edit_inputs,set_scroll:this.props.set_scroll}));return p},render:function(){return b.createElement(p,{fluid:!0},this.list_messages())}}),l=U(function(e){var t,n;return t=e.name,{displayName:"ChatRoom",reduxProps:(n={},n[""+t]={height:ne.number,input:ne.string,is_preview:ne.bool,messages:ne.immutable,offset:ne.number,saved_mesg:ne.string,saved_position:ne.number,use_saved_position:ne.bool},n.users={user_map:ne.immutable},n.account={account_id:ne.string,font_size:ne.number},n.file_use={file_use:ne.immutable},n),propTypes:{redux:ne.object,actions:ne.object,name:ne.string.isRequired,project_id:ne.string.isRequired,path:ne.string},getInitialState:function(){return{input:"",preview:""}},preview_style:{background:"#f5f5f5",fontSize:"14px",borderRadius:"10px 10px 10px 10px",boxShadow:"#666 3px 3px 3px",paddingBottom:"20px"},componentWillMount:function(){var e,t,n,r,i;for(r=["set_preview_state","set_chat_log_state","debounce_bottom","mark_as_read"],i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(this[e]=le.debounce(this[e],300));return i},componentDidMount:function(){return ie(this.refs.log_container,this.props.saved_position,this.props.offset,this.props.height,this.props.use_saved_position,this.props.actions),this.props.is_preview?R(this.props.saved_position,this.props.offset,this.props.height)?this.debounce_bottom():void 0:this.props.actions.set_is_preview(!1)},componentWillReceiveProps:function(e){if((this.props.messages!==e.messages||this.props.input!==e.input)&&R(this.props.saved_position,this.props.offset,this.props.height))return this.props.actions.set_use_saved_position(!1)},componentDidUpdate:function(){if(!this.props.use_saved_position)return re(this.refs.log_container,this.props.actions)},mark_as_read:function(){var e;if(e=this.props.redux.getStore("file_use").get_file_info(this.props.project_id,this.props.path),null==e||e.is_unread)return this.props.redux.getActions("file_use").mark_file(this.props.project_id,this.props.path,"read",2e3)},keydown:function(e){return 13===e.keyCode&&e.shiftKey?oe(e,this.refs.log_container,w.findDOMNode(this.refs.input).value,this.props.actions):38===e.keyCode&&""===w.findDOMNode(this.refs.input).value?this.props.actions.set_to_last_input():void 0},on_scroll:function(e){var t;return this.props.actions.set_use_saved_position(!0),t=w.findDOMNode(this.refs.log_container),this.props.actions.save_scroll_state(t.scrollTop,t.scrollHeight,t.offsetHeight),e.preventDefault()},button_send_chat:function(e){return oe(e,this.refs.log_container,w.findDOMNode(this.refs.input).value,this.props.actions),w.findDOMNode(this.refs.input).focus()},button_scroll_to_bottom:function(){return re(this.refs.log_container,this.props.actions)},button_off_click:function(){return this.props.actions.set_is_preview(!1),w.findDOMNode(this.refs.input).focus()},button_on_click:function(){if(this.props.actions.set_is_preview(!0),w.findDOMNode(this.refs.input).focus(),R(this.props.saved_position,this.props.offset,this.props.height))return re(this.refs.log_container,this.props.actions)},set_chat_log_state:function(){var e;if(null!=this.refs.log_container)return e=w.findDOMNode(this.refs.log_container),this.props.actions.save_scroll_state(e.scrollTop,e.scrollHeight,e.offsetHeight)},set_preview_state:function(){var e;if(null!=this.refs.log_container&&this.setState({preview:this.props.input}),this.refs.preview)return e=w.findDOMNode(this.refs.preview),this._preview_height=e.offsetHeight-12},debounce_bottom:function(){return re(this.refs.log_container,this.props.actions)},show_files:function(){var e;return null!=(e=this.props.redux)?e.getProjectActions(this.props.project_id).load_target("files"):void 0},show_timetravel:function(){var e;return null!=(e=this.props.redux)?e.getProjectActions(this.props.project_id).open_file({path:B.history_path(this.props.path),foreground:!0,foreground_project:!0}):void 0},render_bottom_tip:function(){var e;return e=b.createElement("span",null,"You may enter (Github flavored) markdown here and include Latex mathematics in $ signs.  In particular, use # for headings, > for block quotes, *'s for italic text, **'s for bold text, - at the beginning of a line for lists, back ticks ` for code, and URL's will automatically become links.   Press shift+enter to send your chat. Double click to edit past chats."),b.createElement(C,{title:"Use Markdown",tip:e},b.createElement("div",{style:{color:"#767676",fontSize:"12.5px",marginBottom:"5px"}},"Shift+Enter to send your message.\nDouble click chat bubbles to edit them.\nFormat using ",b.createElement("a",{href:"https://help.github.com/articles/getting-started-with-writing-and-formatting-on-github/",target:"_blank"},"Markdown")," and ",b.createElement("a",{href:"https://en.wikibooks.org/wiki/LaTeX/Mathematics",target:"_blank"},"LaTeX"),".\nEmoticons: ",B.emoticons,"."))},render_preview_message:function(){var e,t;if(this.set_preview_state(),this.state.preview.length>0)return t=this.state.preview,t=B.smiley({s:t,wrap:['<span class="smc-editor-chat-smiley">',"</span>"]}),t=q.sanitize_html_safe(t),e=null!=this.props.path?B.path_split(this.props.path).head:void 0,b.createElement(x,{ref:"preview",style:{position:"absolute",bottom:"0px",width:"100%"}},b.createElement(c,{xs:0,sm:2}),b.createElement(c,{xs:10,sm:9},b.createElement(j,{bsSize:"small",style:this.preview_style},b.createElement("div",{className:"pull-right lighten",style:{marginRight:"-8px",marginTop:"-10px",cursor:"pointer",fontSize:"13pt"},onClick:this.button_off_click},b.createElement(f,{name:"times"})),ee(t,this.props.project_id,e),b.createElement("span",{className:"pull-right small lighten"},"Preview (press Shift+Enter to send)"))),b.createElement(c,{sm:1}))},render_timetravel_button:function(){var e;return e=b.createElement("span",null,"Browse all versions of this chatroom."),b.createElement(i,{onClick:this.show_timetravel,bsStyle:"info"},b.createElement(C,{title:"TimeTravel",tip:e,placement:"left"},b.createElement(f,{name:"history"})," TimeTravel"))},render_bottom_button:function(){var e;return e=b.createElement("span",null,"Scrolls the chat to the bottom"),b.createElement(i,{onClick:this.button_scroll_to_bottom},b.createElement(C,{title:"Scroll to Bottom",tip:e,placement:"left"},b.createElement(f,{name:"arrow-down"})," Bottom"))},render_video_chat_button:function(){return b.createElement(S,{project_id:this.props.project_id,path:this.props.path,label:"Video Chat"})},render_button_row:function(){return b.createElement(x,{style:{marginBottom:"5px"}},b.createElement(c,{xs:12,md:12,className:"pull-right",style:{padding:"2px",textAlign:"right"}},b.createElement(o,null,this.render_timetravel_button(),this.render_video_chat_button(),this.render_bottom_button())))},render_body:function(){var e,t;return t={overflowY:"auto",overflowX:"hidden",margin:"0",padding:"0",paddingRight:"10px",background:"white",flex:1},e={margin:"0",height:"90px",fontSize:this.props.font_size},b.createElement(p,{fluid:!0,className:"smc-vfill",style:{maxWidth:"1200px",display:"flex",flexDirection:"column"}},h?void 0:this.render_button_row(),b.createElement(x,{className:"smc-vfill"},b.createElement(c,{className:"smc-vfill",md:12,style:{padding:"0px 2px 0px 2px"}},b.createElement(j,{style:t,ref:"log_container",onScroll:this.on_scroll},b.createElement(a,{messages:this.props.messages,account_id:this.props.account_id,user_map:this.props.user_map,project_id:this.props.project_id,font_size:this.props.font_size,file_path:null!=this.props.path?B.path_split(this.props.path).head:void 0,actions:this.props.actions,saved_mesg:this.props.saved_mesg,set_scroll:this.set_chat_log_state,show_heads:!0}),this.props.input.length>0&&this.props.is_preview?this.render_preview_message():void 0))),b.createElement(x,null,b.createElement(c,{xs:10,md:11,style:{padding:"0px 2px 0px 2px"}},b.createElement(d,null,b.createElement(u,{autoFocus:!h||z.Android(),rows:4,componentClass:"textarea",ref:"input",onKeyDown:this.keydown,value:this.props.input,placeholder:"Type a message...",onChange:function(e){return function(t){return e.props.actions.set_input(t.target.value),e.mark_as_read()}}(this),style:e}))),b.createElement(c,{xs:2,md:1,style:{height:"90px",padding:"0",marginBottom:"0",display:"flex",flexDirection:"column"}},h?void 0:b.createElement(i,{onClick:this.button_on_click,disabled:""===this.props.input,bsStyle:"info",style:{height:"50%",width:"100%"}},"Preview"),b.createElement(i,{onClick:this.button_send_chat,disabled:""===this.props.input,bsStyle:"success",style:{flex:1,width:"100%"}},"Send"))),b.createElement(x,null,h?void 0:this.render_bottom_tip()))},render:function(){return null==this.props.messages||null==this.props.redux||null==this.props.input.length?b.createElement(g,null):b.createElement("div",{onMouseMove:this.mark_as_read,onClick:this.mark_as_read,className:"smc-vfill"},this.render_body())}}}),s=function(e,t,n){var r,i;return i=W(n,e),r=function(r){var o;return o=r.actions,b.createElement(l,{redux:t,path:e,name:i,actions:o,project_id:n})},r.propTypes={actions:ne.object.isRequired},r},t(83).register_file_editor({ext:"sage-chat",icon:"comment",init:L,generator:s,remove:V})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H=function(e,t){function n(){this.constructor=e}for(var r in t)K.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},K={}.hasOwnProperty,G=function(e,t){return function(){return e.apply(t,arguments)}};T=t(23),P=t(9),O=P.defaults,U=P.required,D=P.optional,I=t(30),N=t(86),s=null,B=t(12),y=B.React,b=B.ReactDOM,z=B.redux,w=B.Redux,n=B.Actions,k=B.Store,W=B.rtypes,L=B.rclass,q=t(22),o=q.Col,x=q.Row,g=q.Panel,i=q.Button,l=q.FormGroup,a=q.FormControl,C=q.Well,r=q.Alert,f=q.Modal,A=q.Table,m=q.Nav,_=q.NavItem,u=q.ListGroup,d=q.ListGroupItem,F=t(17),p=F.Loading,c=F.Icon,h=F.Markdown,R=function(e,t){return"wizard-"+e+"-"+t},M=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return H(t,e),t}(k),E=function(e){function n(){return this.cat_sort=G(this.cat_sort,this),this.hide=G(this.hide,this),this.show=G(this.show,this),n.__super__.constructor.apply(this,arguments)}return H(n,e),n.prototype.get=function(e){return this.redux.getStore(this.name).get(e)},n.prototype.set=function(e){return this.setState(e)},n.prototype.show=function(e){return null==e&&(e="sage"),e!==this.get("lang")?this.init(e=e):this.set({show:!0})},n.prototype.reset=function(){return this.set({cat0:null,cat1:null,cat2:null,catlist0:[],catlist1:[],catlist2:[],code:"",descr:"",hits:[],search_str:null,search_sel:null,submittable:!1,cat1_top:["Intro","Tutorial","Help"]})},n.prototype.hide=function(){return this.set({show:!1})},n.prototype.init=function(e){return null==e&&(e="sage"),this.reset(),this.set({lang:e}),this.load_data(),this.set({show:!0})},n.prototype.init_data=function(e){var t,n,r,i,o,s;for(this.set({data:e}),o=[],s=T.keys(e),n=0,i=s.length;n<i;n++)r=s[n],t=function(){switch(r){case"gap":return["gap","GAP"];default:return[r,r[0].toUpperCase()+r.slice(1)]}}(),T.keys(e[r]).length>0&&o.push(t);return this.set({nav_entries:o}),this.select_lang(this.get("lang"))},n.prototype.insert=function(e,t){var n;return n={code:this.get("code"),lang:this.get("lang"),descr:t?this.get("descr"):null},e(n)},n.prototype.load_data=function(){return null==s?t.e(0,function(e){return function(){return s=t(967),e.init_data(s)}}(this)):this.init_data(s)},n.prototype.data_lang=function(){return this.get("data").get(this.get("lang"))},n.prototype.get_catlist0=function(){return this.data_lang().keySeq().toArray().sort(this.cat_sort)},n.prototype.get_catlist1=function(){var e;return e=this.get_catlist0()[this.get("cat0")],this.data_lang().get(e).keySeq().toArray().sort(this.cat_sort)},n.prototype.get_catlist2=function(){var e,t;return e=this.get_catlist0()[this.get("cat0")],t=this.get_catlist1()[this.get("cat1")],this.data_lang().getIn([e,t]).map(function(e){return e.get(0)}).toArray()},n.prototype.select_lang=function(e){var t,n;if(this.reset(),n=this.get("data"),n.has(e)?this.set({lang:e}):this.set({lang:n.keySeq().last()}),t=this.get_catlist0(),this.set({catlist0:t}),1===t.length)return this.set_selected_category(0,0)},n.prototype.search=function(e){var t,n,r,i,o;if(this.reset(),null==e||0===e.length)return void this.select_lang(this.get("lang"));this.set({search_str:e}),o=e.toLowerCase(),i=[],n=this.data_lang(),t={};try{n.forEach(function(e,n){return e.forEach(function(e,r){return e.forEach(function(e,s){var a,l,c,u;if(u=e.get(0),a=e.getIn([1,1]),c=u.toLowerCase().indexOf(o),l=a.toLowerCase().indexOf(o),(c!==-1||l!==-1)&&(i.push([n,r,s,u,a,l]),i.length>=30))throw t})})})}catch(e){if(r=e,r!==t)throw r}return this.set({hits:i})},n.prototype.search_selected=function(e){var t,n,r,i,o,s,a,l;return a=this.get("hits").get(e).toArray(),i=a[0],o=a[1],s=a[2],l=a[3],t=a[4],r=a[5],n=this.data_lang().getIn([i,o,s]),this.show_doc(n),this.set({search_sel:e})},n.prototype.search_cursor=function(e){var t,n;if(null!=this.get("hits"))return t=this.get("hits").size,null==this.get("search_sel")?n=e>0?0:t-1:(t=this.get("hits").size,n=(this.get("search_sel")+e)%t,n<0&&(n=t-1)),this.set({search_sel:n}),this.search_selected(n)},n.prototype.show_doc=function(e){return this.set({code:e.getIn([1,0]),descr:e.getIn([1,1]),submittable:!0})},n.prototype.cat_sort=function(e,t){var n,r;return r=this.get("cat1_top"),n=function(e){var t;return t=r.reverse().indexOf(e),1-t},n(e)-n(t)||e>t},n.prototype.select_cursor=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h;if(t=this.get("cat0"),r=this.get("cat1"),o=this.get("cat2"),h=function(t){return e<0?t.length-1:0},null==t){if(a=this.get_catlist0(),(null!=a?a.length:void 0)>0)return this.set_selected_category(0,h(a))}else if(null==r){if(l=this.get_catlist1(),(null!=l?l.length:void 0)>0)return this.set_selected_category(1,h(l))}else{if(null!=o)return u=this.get("catlist0").size,d=this.get("catlist1").size,p=this.get("catlist2").size,s=o+e,s<0?i=r-1:s>=p&&(s=0,i=r+1),i<0?n=t-1:i>=d&&(i=0,n=t+1),null!=n&&(n%=u,n<0&&(n=u-1),this.set_selected_category(0,n)),null!=i&&this.set_selected_category(1,i),this.set_selected_category(2,s);if(c=this.get_catlist2(),(null!=c?c.length:void 0)>0)return this.set_selected_category(2,h(c))}},n.prototype.set_selected_category=function(e,t){var n,r,i,o,s,a,l;switch(l=this.data_lang(),e){case 0:case 1:this.set({code:"",descr:"",cat2:null,submittable:!1})}switch(e){case 0:if(this.set({cat0:t===-1?this.get("catlist0").size-1:t}),r=this.get_catlist1(),this.set({cat1:null,cat2:null,catlist1:r,catlist2:[]}),1===r.length)return this.set_selected_category(1,0);break;case 1:if(n=this.get("cat0"),this.set({cat1:t===-1?this.get("catlist1").size-1:t}),i=this.get_catlist2(),this.set({cat2:null,catlist2:i}),1===i.length)return this.set_selected_category(2,0);break;case 2:return s=this.get("catlist0").get(this.get("cat0")),a=this.get("catlist1").get(this.get("cat1")),t=t===-1?this.get("catlist2").size-1:t,o=l.getIn([s,a,t]),this.set({cat2:t}),this.show_doc(o)}},n}(n),j=L({displayName:"WizardHeader",propTypes:{
actions:W.object,nav_entries:W.array,search_str:W.string,lang:W.string.isRequired},getDefaultProps:function(){return{search_str:""}},langSelect:function(e){return this.props.actions.select_lang(e)},search:function(e){return e.preventDefault(),e.stopPropagation(),this.props.actions.search(e.target.value)},handle_search_keyup:function(e){var t,n;if(!(null!=(t=this.props.search_str)?t.length:void 0))return!0;switch(e.keyCode){case 27:if(!((null!=(n=this.props.search_str)?n.length:void 0)>0))return!0;this.props.actions.search("");break;case 38:this.props.actions.search_cursor(-1);break;case 40:this.props.actions.search_cursor(1);break;default:return!0}return e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),!1},render_nav:function(){var e;return e=this.props.nav_entries,null==e&&(e=[]),y.createElement(m,{bsStyle:"pills",activeKey:this.props.lang,ref:"lang",onSelect:this.langSelect},e.map(function(e){return function(e,t){var n,r;return n=e[0],r=e[1],y.createElement(_,{key:n,eventKey:n,title:r},r)}}(this)))},render:function(){var e;return y.createElement(x,null,y.createElement(o,{sm:3},y.createElement("h2",null,y.createElement(c,{name:"magic"})," Wizard")),y.createElement(o,{sm:5},this.render_nav()),y.createElement(o,{sm:3},y.createElement(l,null,y.createElement(a,{ref:"search",type:"text",className:"smc-wizard-search",placeholder:"Search",value:null!=(e=this.props.search_str)?e:"",onKeyUp:this.handle_search_keyup,onChange:this.search}))))}}),S=L({displayName:"WizardBody",propTypes:{actions:W.object,data:W.object,lang:W.string.isRequired,code:W.string,descr:W.string,cat0:W.number,cat1:W.number,cat2:W.number,catlist0:W.arrayOf(W.string),catlist1:W.arrayOf(W.string),catlist2:W.arrayOf(W.string),search_str:W.string,search_sel:W.number,hits:W.arrayOf(W.array)},getDefaultProps:function(){return{descr:"",search_str:""}},componentDidMount:function(){return this.scrollTo0=T.debounce(function(){return $(b.findDOMNode(this.refs.list_0)).find(".active").scrollintoview()},50),this.scrollTo1=T.debounce(function(){return $(b.findDOMNode(this.refs.list_1)).find(".active").scrollintoview()},50),this.scrollTo2=T.debounce(function(){return $(b.findDOMNode(this.refs.list_2)).find(".active").scrollintoview()},50),this.scrollToS=T.debounce(function(){return $(b.findDOMNode(this.refs.search_results_list)).find(".active").scrollintoview()},50)},componentDidUpdate:function(e,t){return this.scrollTo0(),this.scrollTo1(),this.scrollTo2(),this.scrollToS()},category_selection:function(e,t){return this.props.actions.set_selected_category(e,t)},category_list:function(e){var t,n;return t=this.props["cat"+e],n=this.props["catlist"+e],null==n&&(n=[]),y.createElement("ul",{className:"list-group",ref:"list_"+e},n.map(function(n){return function(r,i){var o,s;return s=n.category_selection.bind(n,e,i),o=i===t?"active":"",y.createElement("li",{className:"list-group-item "+o,onClick:s,key:i},r)}}(this)))},search_result_selection:function(e){return this.props.actions.search_selected(e)},render_search_results:function(){var e;return e=this.props.search_str,y.createElement("ul",{className:"list-group",ref:"search_results_list"},this.props.hits.map(function(t){return function(n,r){var i,o,s,a,l,c,u,d,p,h,f,m,_;return u=n[0],d=n[1],p=n[2],m=n[3],s=n[4],l=n[5],o=t.search_result_selection.bind(t,r),_=m.replace(RegExp(e,"gi"),"<span class='hl'>"+e+"</span>"),l!==-1&&(a=Math.max(0,l-30),c=Math.min(s.length,l+30+e.length),f=s.slice(l,l+e.length),h=s.slice(a,+c+1||9e9).replace(RegExp(e,"gi"),"<span class='hl'>"+f+"</span>"),a>0&&(h="..."+h),c<s.length&&(h+="...")),i=t.props.search_sel===r?"active":"",y.createElement("li",{className:"list-group-item "+i,onClick:o,key:r},u," → ",d," → ",y.createElement("span",{style:{fontWeight:"bold"},dangerouslySetInnerHTML:{__html:_}})," ",(null!=h?h.length:void 0)>0?y.createElement("span",{className:"snippet",dangerouslySetInnerHTML:{__html:h}}):void 0)}}(this)))},render_top:function(){var e,t;return t=(null!=(e=this.props.search_str)?e.length:void 0)>0,null==this.props.data?y.createElement(x,null,y.createElement(o,{sm:8,smOffset:4},y.createElement("ul",{className:"list-group"},y.createElement("li",null),y.createElement("li",null),y.createElement("li",null,y.createElement(p,null))))):t?y.createElement(x,null,y.createElement(o,{sm:12},this.render_search_results())):y.createElement(x,null,y.createElement(o,{sm:3},this.category_list(0)),y.createElement(o,{sm:3},this.category_list(1)),y.createElement(o,{sm:6},this.category_list(2)))},render:function(){return y.createElement(f.Body,{className:"modal-body"},this.render_top(),y.createElement(x,null,y.createElement(o,{sm:6},y.createElement("pre",{ref:"code",className:"code"},this.props.code)),y.createElement(o,{sm:6},y.createElement(g,{ref:"descr",className:"smc-wizard-descr"},y.createElement(h,{value:this.props.descr})))))}}),v=function(e){var t;return L({displayName:"Wizard",reduxProps:(t={},t[""+e]={show:W.bool,lang:W.string,code:W.string,descr:W.string,data:W.object,search:W.string,nav_entries:W.arrayOf(W.arrayOf(W.string)),catlist0:W.arrayOf(W.string),catlist1:W.arrayOf(W.string),catlist2:W.arrayOf(W.string),cat0:W.number,cat1:W.number,cat2:W.number,search_str:W.string,search_sel:W.number,submittable:W.bool,hits:W.arrayOf(W.array)},t),propTypes:{cb:W.func,actions:W.object.isRequired},getInitialState:function(){return{search:""}},close:function(){return this.props.actions.hide()},insert_code:function(){return this.props.actions.insert(this.props.cb,!1),this.close()},insert_all:function(){return this.props.actions.insert(this.props.cb,!0),this.close()},handle_dialog_keyup:function(e){var t,n,r;switch(e.keyCode){case 13:this.props.submittable&&this.submit();break;case 27:return!0;case 38:t=-1;break;case 40:t=1;break;default:n=!0}return null!=t&&((null!=(r=this.props.search_str)?r.length:void 0)>0?this.props.actions.search_cursor(t):this.props.actions.select_cursor(t)),e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),!1},render:function(){return y.createElement(f,{show:this.props.show,onKeyUp:this.handle_dialog_keyup,onHide:this.close,bsSize:"large",className:"smc-wizard"},y.createElement(f.Header,{closeButton:!0,className:"modal-header"},y.createElement(j,{actions:this.props.actions,lang:this.props.lang,search_str:this.props.search_str,nav_entries:this.props.nav_entries})),y.createElement(S,{actions:this.props.actions,lang:this.props.lang,code:this.props.code,descr:this.props.descr,cat0:this.props.cat0,cat1:this.props.cat1,cat2:this.props.cat2,catlist0:this.props.catlist0,catlist1:this.props.catlist1,catlist2:this.props.catlist2,search_str:this.props.search_str,search_sel:this.props.search_sel,hits:this.props.hits,data:this.props.data}),y.createElement(f.Footer,null,y.createElement(i,{onClick:this.insert_code,disabled:!this.props.submittable,bsStyle:"success"},"Only Code"),y.createElement(i,{onClick:this.insert_all,disabled:!this.props.submittable,bsStyle:"success"},"Insert"),y.createElement(i,{onClick:this.props.actions.hide},"Close")))}})},exports.render_wizard=function(e,t,n,r,i){var o,s,a,l;return null==r&&(r="sage"),null==i&&(i=null),a=R(t,n),s=z.getActions(a),null==s&&(s=z.createActions(a,E),l=z.createStore(a)),s.init(r=r),o=v(a),b.render(y.createElement(w,{redux:z},y.createElement(o,{cb:i,actions:s})),e),s}},function(e,exports,t){var n,r,i;n=t(24).PROJECT_UPGRADES,i=t(9),exports.get_total_upgrades=r=function(e){var t,r,o,s,a,l,c,u;if(c=e,null==c)return{};for(u={},t=0,o=c.length;t<o;t++)for(l=c[t],s=r=0,a=l.quantity;0<=a?r<a:r>a;s=0<=a?++r:--r)u=i.map_sum(u,n.membership[l.plan.id.split("-")[0]].benefits);return u},exports.available_upgrades=function(e,t){var n,o,s,a,l,c,u,d,p,h;for(n=r(e),s={},h=function(){var e;e=[];for(c in t)p=t[c],e.push({project_id:c,upgrades:p});return e}(),h.sort(function(e,t){return i.cmp(e.project_id,t.project_id)}),a=0,l=h.length;a<l;a++){d=h[a],c=d.project_id,p=d.upgrades;for(u in p)o=p[u],null==n[u]&&(n[u]=0),o<=n[u]?n[u]-=o:(null==s[c]&&(s[c]={}),s[c][u]=o-n[u],n[u]=0)}return{available:n,excess:s}},exports.upgrade_maxes=function(e,t,r){var i,o,s,a,l,c,u,d,p,h;p=available_upgrades(e,t),a=p.available,l=p.excess,o=t[r],u={};for(d in a)s=a[d],c=n.max_per_project[d],i=null!=(h=o[d])?h:0,u[d]=Math.min(i+s,c);return u}},,function(e,exports){CodeMirror.smc_multiplexing_mode=function(e){var t,n,r;return r=Array.prototype.slice.call(arguments,1),t=function(e,t,n,r){var i,o;return"string"==typeof t?(i=e.indexOf(t,n),r&&i>-1?i+t.length:i):(o=t.exec(n?e.slice(n):e),o?o.index+n+(r?o[0].length:0):-1)},n={startState:function(){return{outer:CodeMirror.startState(e),innerActive:null,inner:null}},copyState:function(t){return{outer:CodeMirror.copyState(e,t.outer),innerActive:t.innerActive,inner:t.innerActive&&CodeMirror.copyState(t.innerActive.mode,t.inner)}},token:function(n,i){var o,s,a,l,c,u,d,p,h;if(d=a=void 0,i.innerActive)return o=i.innerActive,d=n.string,!o.close&&n.sol()?(i.innerActive=i.inner=null,this.token(n,i)):(a=o.close?t(d,o.close,n.pos,o.parseDelimiters):-1,a!==n.pos||o.parseDelimiters?(a>-1&&(n.string=d.slice(0,a)),l=o.mode.token(n,i.inner),a>-1&&(n.string=d),a===n.pos&&o.parseDelimiters&&(i.innerActive=i.inner=null),o.innerStyle&&(l=l?l+" "+o.innerStyle:o.innerStyle),l):(n.match(o.close),i.innerActive=i.inner=null,o.delimStyle&&o.delimStyle+" "+o.delimStyle+"-close"));for(s=Infinity,d=n.string,c=0,u=r.length;c<u;c++)if(p=r[c],!p.start||d.slice(0,p.open.length)===p.open){if(a=t(d,p.open,n.pos),a===n.pos)return p.parseDelimiters||n.match(p.open),i.innerActive=p,i.inner=CodeMirror.startState(p.mode,e.indent?e.indent(i.outer,""):0),p.delimStyle&&p.delimStyle+" "+p.delimStyle+"-open";a!==-1&&a<s&&(s=a)}return Infinity!==s&&(n.string=d.slice(0,s)),h=e.token(n,i.outer),Infinity!==s&&(n.string=d),h},indent:function(t,n){var r;return r=t.innerActive?t.innerActive.mode:e,r.indent?r.indent(t.innerActive?t.inner:t.outer,n):CodeMirror.Pass},blankLine:function(t){var n,i,o;if(i=t.innerActive?t.innerActive.mode:e,i.blankLine&&i.blankLine(t.innerActive?t.inner:t.outer),t.innerActive)"\n"===t.innerActive.close&&(t.innerActive=t.inner=null);else for(n=0;n<r.length;)o=r[n],"\n"===o.open&&(t.innerActive=o,t.inner=CodeMirror.startState(o.mode,i.indent?i.indent(t.outer,""):0)),++n},electricChars:e.electricChars,innerMode:function(t){return t.inner?{state:t.inner,mode:t.innerActive.mode}:{state:t.outer,mode:e}}}}},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C=function(e,t){return function(){return e.apply(t,arguments)}},E=function(e,t){function n(){this.constructor=e}for(var r in t)S.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},S={}.hasOwnProperty;$=window.$,u=t(23).debounce,i=t(63).EventEmitter,s=t(36).alert_message,g=t(9),b=t(9),c=b.copy,h=b.filename_extension,w=b.required,d=b.defaults,k=b.to_json,A=b.uuid,m=b.from_json,y=t(12).redux,s=t(36).alert_message,v=t(30),x=$("#salvus-console-templates"),l=x.find(".salvus-console"),p=t(49),o=p.IS_MOBILE,n=String.fromCharCode(155),_=function(e){return"# This initialization file is associated with your terminal in "+e+'.\n# It is automatically run whenever it starts up -- restart the terminal via Ctrl-d and Return-key.\n\n# Usually, your ~/.bashrc is executed and this behavior is emulated for completeness:\nsource ~/.bashrc\n\n# You can export environment variables, e.g. to set custom GIT_* variables\n# https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables\n#export GIT_AUTHOR_NAME="Your Name"\n#export GIT_AUTHOR_EMAIL="your@email.address"\n#export GIT_COMMITTER_NAME="Your Name"\n#export GIT_COMMITTER_EMAIL="your@email.address"\n\n# It is also possible to automatically start a program ...\n\n#sage\n#sage -ipython\n#top\n\n# ... or even define a terminal specific function.\n#hello () { echo "hello world"; }'},f=void 0,a=function(e){return null!=f?f.client_keydown(e):void 0},r=function(e){function r(e){null==e&&(e={}),this.focus=C(this.focus,this),this.blur=C(this.blur,this),this.console_is_open=C(this.console_is_open,this),this.set_term_to_scrollbar=C(this.set_term_to_scrollbar,this),this.set_scrollbar_to_term=C(this.set_scrollbar_to_term,this),this.resize_terminal=C(this.resize_terminal,this),this.full_rerender=C(this.full_rerender,this),this.resize=C(this.resize,this),this.refresh=C(this.refresh,this),this.exit_fullscreen=C(this.exit_fullscreen,this),this.fullscreen=C(this.fullscreen,this),this.terminate_session=C(this.terminate_session,this),this._init_paste_bin=C(this._init_paste_bin,this),this._init_input_line=C(this._init_input_line,this),this.open_init_file=C(this.open_init_file,this),this.open_copyable_history=C(this.open_copyable_history,this),this._init_fullscreen=C(this._init_fullscreen,this),this._focus_hidden_textarea=C(this._focus_hidden_textarea,this),this.remove=C(this.remove,this),this._init_default_settings=C(this._init_default_settings,this),this._init_font_make_default=C(this._init_font_make_default,this),this._font_size_changed=C(this._font_size_changed,this),this._decrease_font_size=C(this._decrease_font_size,this),this._increase_font_size=C(this._increase_font_size,this),this.client_keydown=C(this.client_keydown,this),this.mark_file_use=C(this.mark_file_use,this),this._init_colors=C(this._init_colors,this),this._init_rendering_pause=C(this._init_rendering_pause,this),this._on_pause_button_clicked=C(this._on_pause_button_clicked,this),this.unpause_rendering=C(this.unpause_rendering,this),this.pause_rendering=C(this.pause_rendering,this),this.update_scrollbar=C(this.update_scrollbar,this),this.reset=C(this.reset,this),this.render=C(this.render,this),this.config_session=C(this.config_session,this),this.set_session=C(this.set_session,this),this.reconnect_if_no_recent_data=C(this.reconnect_if_no_recent_data,this),this.init_mesg=C(this.init_mesg,this),this.append_to_value=C(this.append_to_value,this),this.opts=d(e,{element:w,project_id:w,path:w,session:void 0,title:"",filename:"",rows:16,cols:80,editor:void 0,close:void 0,reconnect:void 0,font:{family:void 0,size:void 0,line_height:120},highlight_mode:"none",color_scheme:void 0,on_pause:void 0,on_unpause:void 0,on_reconnecting:void 0,on_reconnected:void 0,set_title:void 0}),this._init_default_settings(),this.project_id=this.opts.project_id,this.path=this.opts.path,this.mark_file_use=u(this.mark_file_use,3e3),this._project_actions=y.getProjectActions(this.project_id),this.is_focused=!1,this.element=l.clone(),this.textarea=this.element.find(".salvus-console-textarea"),this.element.data("console",this),$(this.opts.element).replaceWith(this.element),this.set_title(this.opts.title),this._init_colors(),this.terminal=new Terminal({cols:this.opts.cols,rows:this.opts.rows}),this.init_mesg(),Terminal.bindKeys(a),this.scrollbar=this.element.find(".salvus-console-scrollbar"),this.scrollbar.scroll(function(e){return function(){if(!e.ignore_scroll)return e.set_term_to_scrollbar()}}(this)),this.terminal.on("scroll",function(e){return function(t,n){return e.set_scrollbar_to_term()}}(this)),this._init_ttyjs(),this._init_buttons(),this._init_input_line(),this._init_font_make_default(),this._init_paste_bin(),this._init_rendering_pause(),o||this.textarea.on("blur",function(e){return function(){if(null!=e._focusing)return e._focus_hidden_textarea()}}(this)),o||(this.element.find(".salvus-console-up").hide(),this.element.find(".salvus-console-down").hide()),null!=e.session&&this.set_session(e.session)}return E(r,e),r.prototype.append_to_value=function(e){return this.value_orig+=e,this.value+=e.replace(/\x1b\[.{1,5}m|\x1b\].*0;|\x1b\[.*~|\x1b\[?.*l/g,"")},r.prototype.init_mesg=function(){return this._ignore_mesg=!1,this.terminal.on("mesg",function(e){return function(t){var n,r,i,o,s,a,l,c,u,d;if(!e._ignore_mesg&&e.is_focused)try{switch(t=m(t),t.event){case"open":for(i=0,r=!1,a=t.paths,u=[],o=0,s=a.length;o<s;o++)d=a[o],i+=1,i===t.paths.length&&(r=!0),null!=d.file&&null!=(l=e._project_actions)&&l.open_file({path:d.file,foreground:r}),null!=d.directory&&r?u.push(null!=(c=e._project_actions)?c.open_directory(d.directory):void 0):u.push(void 0);return u}}catch(e){return n=e,console.log("issue parsing message -- ",n)}}}(this))},r.prototype.reconnect_if_no_recent_data=function(){var e;if(null==this._got_remote_data||new Date-this._got_remote_data>=15e3)return null!=(e=this.session)?e.reconnect():void 0},r.prototype.set_session=function(e){return null!=this.session?void console.warn("BUG: set_session called after session already set -- ignoring"):(this.session=e,this._ignore_mesg=!0,this._connected=!0,this._needs_resize=!0,this.terminal.on("data",function(e){return function(n){var r,i,o;return e._connected?(e.session.write_data(n),o=t(19).salvus_client,i=o.latency(),null!=i?(r=Math.min(1e4,20*i),setTimeout(e.reconnect_if_no_recent_data,r)):void 0):void e.session.reconnect(function(t){if(!t)return e.session.write_data(n)})}}(this)),this.terminal.on("title",function(e){return function(t){return e.set_title(t)}}(this)),this.reset(),this.resize_terminal(),this.config_session())},r.prototype.config_session=function(){var e;if(this.session.on("data",function(e){return function(t){if(e._got_remote_data=new Date,e._rendering_is_paused?e._render_buffer+=t:e.render(t),e._needs_resize)return e.resize()}}(this)),this.session.on("reconnecting",function(e){return function(){return e._reconnecting=new Date,e.element.find(".salvus-console-terminal").css({opacity:".5"}),e.element.find('a[href="#refresh"]').addClass("btn-success").find(".fa").addClass("fa-spin")}}(this)),this.session.on("reconnect",function(e){return function(){var t,n;if(delete e._reconnecting,n=!1,e._needs_resize=!0,e._connected=!0,e._got_remote_data=new Date,e.element.find(".salvus-console-terminal").css({opacity:"1"}),e.element.find('a[href="#refresh"]').removeClass("btn-success").find(".fa").removeClass("fa-spin"),e._ignore_mesg=!0,e.reset(),null!=e.session.init_history){try{e.terminal.write(e.session.init_history)}catch(e){t=e,console.log(t)}e.append_to_value(e.session.init_history)}return e.terminal.queue="",e.terminal.showCursor(),e._ignore_mesg=!1}}(this)),this.session.on("close",function(e){return function(){return e._connected=!1}}(this)),null!=this.session.init_history){try{this.terminal.write(this.session.init_history)}catch(t){e=t,console.log(e)}this.terminal.queue="",this.append_to_value(this.session.init_history)}return this.terminal.showCursor(),this._ignore_mesg=!1,this.resize()},r.prototype.render=function(e){var t;if(null!=e)try{return this.terminal.write(e),this.append_to_value(e),this.scrollbar_nlines<this.terminal.ybase&&this.update_scrollbar(),setTimeout(this.set_scrollbar_to_term,10)}catch(e){return t=e,console.warn("terminal error -- ",t)}},r.prototype.reset=function(){return this.value=this.value_orig="",this.scrollbar_nlines=0,this.scrollbar.empty(),this.terminal.reset()},r.prototype.update_scrollbar=function(){var e;for(e=[];this.scrollbar_nlines<this.terminal.ybase;)this.scrollbar.append($("<br>")),e.push(this.scrollbar_nlines+=1);return e},r.prototype.pause_rendering=function(e){var t,n;if(!this._rendering_is_paused)return this._rendering_is_paused=!0,null==this._render_buffer&&(this._render_buffer=""),n=function(e){return function(){if(e._rendering_is_paused)return e.element.find('a[href="#pause"]').addClass("btn-success").find("i").addClass("fa-play").removeClass("fa-pause")}}(this),e?n():setTimeout(n,500),"function"==typeof(t=this.opts).on_pause?t.on_pause():void 0},r.prototype.unpause_rendering=function(){var e,t;if(this._rendering_is_paused)return this._rendering_is_paused=!1,t=function(e){return function(){return e.render(e._render_buffer),e._render_buffer=""}}(this),setTimeout(t,0),this.element.find('a[href="#pause"]').removeClass("btn-success").find("i").addClass("fa-pause").removeClass("fa-play"),"function"==typeof(e=this.opts).on_unpause?e.on_unpause():void 0},r.prototype._on_pause_button_clicked=function(e){return this._rendering_is_paused?this.unpause_rendering():this.pause_rendering(!0),!1},r.prototype._init_rendering_pause=function(){var e,t;return e=this.element.find('a[href="#pause"]').click(function(e){return function(t){return e._rendering_is_paused?e.unpause_rendering():e.pause_rendering(!0),!1}}(this)),t=this.element.find(".salvus-console-terminal"),t.mousedown(function(e){return function(){return e.pause_rendering(!1)}}(this)),t.mouseup(function(e){return function(){var n;return""+getSelection()?(n=v.get_selection_start_node(),0===n.closest(t).length?e.unpause_rendering():void 0):void e.unpause_rendering()}}(this)),t.on("copy",function(e){return function(){return e.unpause_rendering(),setTimeout(e.focus,0)}}(this))},r.prototype._init_colors=function(){var e,t,n;for(e=Terminal.color_schemes[this.opts.color_scheme].colors,t=n=0;n<16;t=++n)Terminal.colors[t]=e[t];return e.length>16?Terminal.defaultColors={fg:e[16],bg:e[17]}:Terminal.defaultColors={fg:e[15],bg:e[0]},Terminal.colors[256]=Terminal.defaultColors.bg,Terminal.colors[257]=Terminal.defaultColors.fg},r.prototype.mark_file_use=function(){return y.getActions("file_use").mark_file(this.project_id,this.path,"edit")},r.prototype.client_keydown=function(e){var t;if(this.mark_file_use(),e.ctrlKey&&e.shiftKey)switch(e.keyCode){case 190:return this._increase_font_size(),!1;case 188:return this._decrease_font_size(),!1}if(!e.metaKey&&!e.ctrlKey||17!==(t=e.keyCode)&&86!==t&&91!==t&&93!==t&&223!==t&&224!==t||this.textarea.val(""),this._rendering_is_paused&&!e.ctrlKey&&!e.metaKey)return this.unpause_rendering()},r.prototype._increase_font_size=function(){if(this.opts.font.size+=1,this.opts.font.size<=159)return this._font_size_changed()},r.prototype._decrease_font_size=function(){if(this.opts.font.size>=2)return this.opts.font.size-=1,this._font_size_changed()},r.prototype._font_size_changed=function(){var e;return null!=(e=this.opts.editor)&&e.local_storage("font-size",this.opts.font.size),$(this.terminal.element).css({"font-size":this.opts.font.size+"px"}),this.element.find(".salvus-console-font-indicator-size").text(this.opts.font.size),this.element.find(".salvus-console-font-indicator").stop().show().animate({opacity:1}).fadeOut({duration:8e3}),this.resize()},r.prototype._init_font_make_default=function(){return this.element.find('a[href="#font-make-default"]').click(function(e){return function(){return y.getTable("account").set({terminal:{font_size:e.opts.font.size}}),!1}}(this))},r.prototype._init_default_settings=function(){var e,t,n,r;if(r=y.getStore("account").get_terminal_settings(),null==this.opts.font.size&&(this.opts.font.size=null!=(e=null!=r?r.font_size:void 0)?e:14),null==this.opts.color_scheme&&(this.opts.color_scheme=null!=(t=null!=r?r.color_scheme:void 0)?t:"default"),null==this.opts.font.family)return this.opts.font.family=null!=(n=null!=r?r.font:void 0)?n:"monospace"},r.prototype._init_ttyjs=function(){var e;return this.terminal.open(),this.terminal.element.className="salvus-console-terminal",e=$(this.terminal.element),this.element.find(".salvus-console-terminal").replaceWith(e),e.css({"font-family":this.opts.font.family+", monospace","font-size":this.opts.font.size+"px","line-height":this.opts.font.line_height+"%"}),o?(this.mobile_target=this.element.find(".salvus-console-for-mobile").show(),this.mobile_target.css("width",e.css("width")),this.mobile_target.css("height",e.css("height")),this._click=function(e){return function(t){var n;return n=$(t.target),n[0]===e.mobile_target[0]||n.hasParent(e.element).length>0?e.focus():e.blur()}}(this),$(document).on("click",this._click)):(this._mousedown=function(e){return function(t){return $(t.target).hasParent(e.element).length>0?e.focus():e.blur()}}(this),$(document).on("mousedown",this._mousedown),this._mouseup=function(e){return function(t){var n,r;if(r=$(t.target),n=""+window.getSelection(),r.hasParent(e.element).length>0&&0===n.length)return e._focus_hidden_textarea()}}(this),$(document).on("mouseup",this._mouseup),$(this.terminal.element).bind("copy",function(e){return function(t){return setTimeout(e._focus_hidden_textarea,10)}}(this)))},r.prototype.remove=function(){var e;if(null!=(e=this.session)&&e.close(),delete this.session,this._connected=!1,null!=this._mousedown&&$(document).off("mousedown",this._mousedown),null!=this._mouseup&&$(document).off("mouseup",this._mouseup),null!=this._click)return $(document).off("click",this._click)},r.prototype._focus_hidden_textarea=function(){return this.textarea.focus()},r.prototype._init_fullscreen=function(){var e,t;return t=this.element.find('a[href="#fullscreen"]'),e=this.element.find('a[href="#exit_fullscreen"]'),t.on("click",function(n){return function(){return n.fullscreen(),e.show(),t.hide(),!1}}(this)),e.hide().on("click",function(n){return function(){return n.exit_fullscreen(),e.hide(),t.show(),!1}}(this))},r.prototype._init_buttons=function(){var e;return e=this.terminal.editor,this.element.find("a").tooltip({delay:{show:500,hide:100}}),this.element.find('a[href="#increase-font"]').click(function(e){return function(){return e._increase_font_size(),!1}}(this)),this.element.find('a[href="#decrease-font"]').click(function(e){return function(){return e._decrease_font_size(),!1}}(this)),this.element.find('a[href="#refresh"]').click(function(e){return function(){var t;return null!=(t=e.session)&&t.reconnect(),!1}}(this)),this.element.find('a[href="#paste"]').click(function(e){return function(){var t,n,r;return n=A(),r="<h2><i class='fa project-file-icon fa-terminal'></i> Terminal Copy and Paste</h2>Copy and paste in terminals works as usual: to copy, highlight text then press ctrl+c (or command+c); press ctrl+v (or command+v) to paste. <br><br><span class='lighten'>NOTE: When no text is highlighted, ctrl+c sends the usual interrupt signal.</span><br><hr>You can copy the terminal history from here:<br><br><textarea readonly style='font-family: monospace;cursor: auto;width: 97%' id='"+n+"' rows=10></textarea>",bootbox.alert(r),t=$("#"+n),t.val(e.value).scrollTop(t[0].scrollHeight),!1}}(this)),this.element.find('a[href="#initfile"]').click(function(e){return function(){var n,r,i;return r=g.console_init_filename(e.opts.filename),n=_(e.opts.filename),i=t(19).salvus_client,i.exec({project_id:e.project_id,command:"test ! -r '"+r+"' && echo '"+n+"' > '"+r+"'",bash:!0,err_on_exit:!1,cb:function(t,n){var i;return t?s({type:"error",message:"problem creating initfile: "+t}):null!=(i=e._project_actions)?i.open_file({path:r,foreground:!0}):void 0}})}}(this))},r.prototype.open_copyable_history=function(){var e,t,n;return t=A(),n="<h2><i class='fa project-file-icon fa-terminal'></i> Terminal Copy and Paste</h2>Copy and paste in terminals works as usual: to copy, highlight text then press ctrl+c (or command+c); press ctrl+v (or command+v) to paste. <br><br><span class='lighten'>NOTE: When no text is highlighted, ctrl+c sends the usual interrupt signal.</span><br><hr>You can copy the terminal history from here:<br><br><textarea readonly style='font-family: monospace;cursor: auto;width: 97%' id='"+t+"' rows=10></textarea>",bootbox.alert(n),e=$("#"+t),e.val(this.value).scrollTop(e[0].scrollHeight)},r.prototype.open_init_file=function(){var e,n,r;return n=g.console_init_filename(this.opts.filename),e=_(this.opts.filename),r=t(19).salvus_client,r.exec({project_id:this.project_id,command:"test ! -r '"+n+"' && echo '"+e+"' > '"+n+"'",bash:!0,err_on_exit:!1,cb:function(e){return function(t,r){var i;return t?s({type:"error",message:"problem creating initfile: "+t}):null!=(i=e._project_actions)?i.open_file({path:n,foreground:!0}):void 0}}(this)})},r.prototype._init_input_line=function(){var e,t;return o||this.element.find(".salvus-console-mobile-input").hide(),e=this.element.find(".salvus-console-input-line"),t=function(t){return function(){var n;return null!=(n=t.session)&&n.write_data(e.val()),e.val("")}}(this),e.on("keyup",function(e){return function(n){var r;return 13===n.which?(n.preventDefault(),t(),null!=(r=e.session)&&r.write_data("\n"),!1):67===n.which&&n.ctrlKey?(t(),e.terminal.keyDown({keyCode:67,shiftKey:!1,ctrlKey:!0})):void 0}}(this)),this.element.find(".salvus-console-submit-line").click(function(e){return function(){var n;return t(),null!=(n=e.session)&&n.write_data("\n"),!1}}(this)),this.element.find(".salvus-console-submit-tab").click(function(e){return function(){return t(),e.terminal.keyDown({keyCode:9,shiftKey:!1})}}(this)),this.element.find(".salvus-console-submit-esc").click(function(e){return function(){return t(),e.terminal.keyDown({keyCode:27,shiftKey:!1,ctrlKey:!1})}}(this)),this.element.find(".salvus-console-submit-up").click(function(e){return function(){return t(),e.terminal.keyDown({keyCode:38,shiftKey:!1,ctrlKey:!1})}}(this)),this.element.find(".salvus-console-submit-down").click(function(e){return function(){return t(),e.terminal.keyDown({keyCode:40,shiftKey:!1,ctrlKey:!1})}}(this)),this.element.find(".salvus-console-submit-left").click(function(e){return function(){return t(),e.terminal.keyDown({keyCode:37,shiftKey:!1,ctrlKey:!1})}}(this)),this.element.find(".salvus-console-submit-right").click(function(e){return function(){return t(),e.terminal.keyDown({keyCode:39,shiftKey:!1,ctrlKey:!1})}}(this)),this.element.find(".salvus-console-submit-ctrl-c").show().click(function(e){return function(n){return t(),e.terminal.keyDown({keyCode:67,shiftKey:!1,ctrlKey:!0})}}(this))},r.prototype._init_paste_bin=function(){var e,t;return t=this.textarea,e=function(e){return function(n){var r,i;return r=t.val(),t.val(""),null!=(i=e.session)?i.write_data(r):void 0}}(this),t.on("paste",function(n){return function(){return t.val(""),setTimeout(e,0)}}(this))},r.prototype.terminate_session=function(){var e;return null!=(e=this.session)?e.terminate_session():void 0},r.prototype.fullscreen=function(){var e;return e=$(".navbar-fixed-top").height(),this.element.css({position:"absolute",width:"97%",top:e,left:0,right:0,bottom:1}),$(this.terminal.element).css({position:"absolute",width:"100%",top:"3.5em",bottom:1}),this.resize()},r.prototype.exit_fullscreen=function(){var e,t,n,r;for(r=[$(this.terminal.element),this.element],t=0,n=r.length;t<n;t++)e=r[t],e.css({position:"relative",top:0,width:"100%"});return this.resize()},r.prototype.refresh=function(){return this.terminal.refresh(0,this.opts.rows-1),this.terminal.showCursor()},r.prototype.resize=function(){var e;if(null!=this.session&&this._connected&&this.value)return this.resize_terminal(),e=function(e,t){return n+("4;"+t+";"+e+"t")},this.session.write_data(e(this.opts.cols,this.opts.rows)),this.full_rerender(),this.refresh(),this._needs_resize=!1},r.prototype.full_rerender=function(){var e;return e=this.value_orig,this.reset(),this._ignore_mesg=!0,this.render(e),this._ignore_mesg=!1},r.prototype.resize_terminal=function(){var e,t,n,r,i,o,s,a;if(this._c=$("<span>Term-inal&nbsp;</span>").prependTo(this.terminal.element),e=this._c.width()/10,this._c.remove(),t=$(this.terminal.element),r=function(){var e,n,r,i;for(r=t.children(),i=[],e=0,n=r.length;e<n;e++)a=r[e],i.push($(a).height());return i}(),r=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)a=r[e],a<=r[0]+2&&n.push(a);return n}(),s=Math.max.apply(Math,r),0!==e&&0!==s)return n=this.opts.font.size,i=Math.max(1,Math.floor(t.width()/e)),o=Math.max(1,Math.floor(t.height()/s)),this.terminal.resize(i,o),this.opts.cols=i,this.opts.rows=o},r.prototype.set_scrollbar_to_term=function(){var e,t;return 0===this.terminal.ybase?void this.scrollbar.hide():(this.scrollbar.show(),this.ignore_scroll?void 0:(this.ignore_scroll=!0,e=function(e){return function(){return e.ignore_scroll=!1}}(this),setTimeout(e,100),t=this.scrollbar[0].scrollHeight-this.scrollbar.height(),this.scrollbar.scrollTop(t*this.terminal.ydisp/this.terminal.ybase)))},r.prototype.set_term_to_scrollbar=function(){var e,t;return e=this.scrollbar[0].scrollHeight-this.scrollbar.height(),t=Math.floor(this.scrollbar.scrollTop()*this.terminal.ybase/e),this.terminal.ydisp=t,this.terminal.refresh(0,this.terminal.rows-1)},r.prototype.console_is_open=function(){
return this.element.closest(document.documentElement).length>0},r.prototype.blur=function(){var e;f===this&&(f=void 0),this.is_focused=!1,o&&$(document).off("keydown",this.mobile_keydown);try{this.terminal.blur()}catch(t){e=t}return $(this.terminal.element).addClass("salvus-console-blur").removeClass("salvus-console-focus")},r.prototype.focus=function(e){if(null!=this._reconnecting&&new Date-this._reconnecting>1e4&&this.reconnect_if_no_recent_data(),!this.is_focused||e)return this._focusing=!0,f=this,this.is_focused=!0,this.textarea.blur(),$(this.terminal.element).focus(),o?this.element.find(".salvus-console-input-line").focus():(this._focus_hidden_textarea(),this.terminal.focus()),$(this.terminal.element).addClass("salvus-console-focus").removeClass("salvus-console-blur"),setTimeout(function(e){return function(){return delete e._focusing}}(this),0)},r.prototype.set_title=function(e){var t;return"function"==typeof(t=this.opts).set_title&&t.set_title(e),this.element.find(".salvus-console-title").text(e)},r}(i),exports.Console=r,$.fn.extend({salvus_console:function(e){return null==e&&(e={}),this.each(function(){var t,n,i;return i=$(this),e===!1?(t=i.data("console"),null!=t&&t.remove(),i):(n=c(e),n.element=this,i.data("console",new r(n)))})}})},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w=function(e,t){return function(){return e.apply(t,arguments)}},x=function(e,t){function n(){this.constructor=e}for(var r in t)k.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},k={}.hasOwnProperty,A=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};a=t(31),c=t(86),u=t(9),l=u.defaults,m=u.required,g=t(24),_=t(19).salvus_client,h=t(187),o=h.STEPS,d=h.previous_step,v=h.step_direction,b=h.step_verb,y=h.step_ready,f=t(12),n=f.Actions,s=f.Store,i=5,p={students:"student_id",assignments:"assignment_id",handouts:"handout_id"},exports.CourseActions=r=function(e){function t(e,t){if(this.name=e,this.redux=t,this.open_handout=w(this.open_handout,this),this.copy_handout_to_all_students=w(this.copy_handout_to_all_students,this),this.copy_handout_to_student=w(this.copy_handout_to_student,this),this.stop_copying_handout=w(this.stop_copying_handout,this),this._handout_start_copy=w(this._handout_start_copy,this),this._handout_finish_copy=w(this._handout_finish_copy,this),this.set_handout_note=w(this.set_handout_note,this),this._set_handout_field=w(this._set_handout_field,this),this.undelete_handout=w(this.undelete_handout,this),this.delete_handout=w(this.delete_handout,this),this.add_handout=w(this.add_handout,this),this.open_assignment=w(this.open_assignment,this),this.stop_copying_assignment=w(this.stop_copying_assignment,this),this.peer_collect_from_student=w(this.peer_collect_from_student,this),this.peer_copy_to_student=w(this.peer_copy_to_student,this),this._action_all_students=w(this._action_all_students,this),this.peer_collect_from_all_students=w(this.peer_collect_from_all_students,this),this.peer_copy_to_all_students=w(this.peer_copy_to_all_students,this),this.copy_assignment_from_all_students=w(this.copy_assignment_from_all_students,this),this.copy_assignment_to_all_students=w(this.copy_assignment_to_all_students,this),this.copy_assignment=w(this.copy_assignment,this),this.copy_assignment_to_student=w(this.copy_assignment_to_student,this),this._stop_copy=w(this._stop_copy,this),this._start_copy=w(this._start_copy,this),this._finish_copy=w(this._finish_copy,this),this.return_assignment_to_all_students=w(this.return_assignment_to_all_students,this),this.return_assignment_to_student=w(this.return_assignment_to_student,this),this.copy_assignment_from_student=w(this.copy_assignment_from_student,this),this.update_peer_assignment=w(this.update_peer_assignment,this),this.set_peer_grade=w(this.set_peer_grade,this),this.set_assignment_note=w(this.set_assignment_note,this),this.set_due_date=w(this.set_due_date,this),this._set_assignment_field=w(this._set_assignment_field,this),this.set_active_assignment_sort=w(this.set_active_assignment_sort,this),this.set_grade=w(this.set_grade,this),this.undelete_assignment=w(this.undelete_assignment,this),this.delete_assignment=w(this.delete_assignment,this),this.add_assignment=w(this.add_assignment,this),this._collect_path=w(this._collect_path,this),this.set_student_note=w(this.set_student_note,this),this.admin_upgrade_all_student_projects=w(this.admin_upgrade_all_student_projects,this),this.upgrade_all_student_projects=w(this.upgrade_all_student_projects,this),this.delete_all_student_projects=w(this.delete_all_student_projects,this),this.configure_all_projects=w(this.configure_all_projects,this),this.delete_project=w(this.delete_project,this),this.configure_project=w(this.configure_project,this),this.set_all_student_project_course_info=w(this.set_all_student_project_course_info,this),this.set_all_student_project_descriptions=w(this.set_all_student_project_descriptions,this),this.configure_project_description=w(this.configure_project_description,this),this.set_all_student_project_titles=w(this.set_all_student_project_titles,this),this.action_all_student_projects=w(this.action_all_student_projects,this),this.configure_project_title=w(this.configure_project_title,this),this.configure_project_visibility=w(this.configure_project_visibility,this),this.configure_project_users=w(this.configure_project_users,this),this._process_create_student_project_queue=w(this._process_create_student_project_queue,this),this.create_student_project=w(this.create_student_project,this),this.set_internal_student_info=w(this.set_internal_student_info,this),this.set_active_student_sort=w(this.set_active_student_sort,this),this.lookup_nonregistered_students=w(this.lookup_nonregistered_students,this),this.undelete_student=w(this.undelete_student,this),this.delete_student=w(this.delete_student,this),this.add_students=w(this.add_students,this),this.toggle_item_expansion=w(this.toggle_item_expansion,this),this.set_course_info=w(this.set_course_info,this),this.create_shared_project=w(this.create_shared_project,this),this._set_shared_project_id=w(this._set_shared_project_id,this),this.configure_shared_project=w(this.configure_shared_project,this),this.action_shared_project=w(this.action_shared_project,this),this.set_shared_project_description=w(this.set_shared_project_description,this),this.set_shared_project_title=w(this.set_shared_project_title,this),this.shared_project_settings=w(this.shared_project_settings,this),this.set_email_invite=w(this.set_email_invite,this),this.set_allow_collabs=w(this.set_allow_collabs,this),this.set_description=w(this.set_description,this),this.set_title=w(this.set_title,this),this.clear_activity=w(this.clear_activity,this),this.set_activity=w(this.set_activity,this),this.set_error=w(this.set_error,this),this.handle_projects_store_update=w(this.handle_projects_store_update,this),this._syncdb_change=w(this._syncdb_change,this),this.save=w(this.save,this),this.set_tab=w(this.set_tab,this),this._get_one=w(this._get_one,this),this._set=w(this._set,this),this._store_is_initialized=w(this._store_is_initialized,this),this._loaded=w(this._loaded,this),null==this.name)throw Error("@name must be defined");if(null==this.redux)throw Error("@redux must be defined");this.get_store=function(e){return function(){return e.redux.getStore(e.name)}}(this)}return x(t,e),t.prototype._loaded=function(){return null!=this.syncdb||(this.set_error("attempt to set syncdb before loading"),!1)},t.prototype._store_is_initialized=function(){var e;if(e=this.get_store(),null!=e)return!(null==e.get("students")||null==e.get("assignments")||null==e.get("settings")||!e.get("handouts"))||(this.set_error("store must be initialized"),!1)},t.prototype._set=function(e){var t;if(this._loaded()&&(null==(t=this.syncdb)||!t.is_closed()))return this.syncdb.set(e)},t.prototype._get_one=function(e){var t,n;if(null==(t=this.syncdb)||!t.is_closed())return null!=(n=this.syncdb.get_one(e))?n.toJS():void 0},t.prototype.set_tab=function(e){return this.setState({tab:e})},t.prototype.save=function(){var e,t;if(t=this.get_store(),null!=t&&!t.get("saving"))return e=this.set_activity({desc:"Saving..."}),this.setState({saving:!0}),this.syncdb.save(function(t){return function(n){var r;return t.clear_activity(e),t.setState({saving:!1}),t.setState({unsaved:null!=(r=t.syncdb)?r.has_unsaved_changes():void 0}),n?(t.set_error("Error saving -- "+n),t.setState({show_save_button:!0})):t.setState({show_save_button:!1})}}(this))},t.prototype._syncdb_change=function(e){var t,n,r,i;if(r=this.get_store(),null!=r)return t=i=r.getState(),e.map(function(e){return function(t){var n,r,o;r=t.get("table"),null!=r&&(o=e.syncdb.get_one(t),n=p[r],null==o?null!=n&&(i=i.set(r,i.get(r).delete(t.get(n)))):null!=n?i=i.set(r,i.get(r).set(o.get(n),o)):"settings"===r?i=i.set(r,i.get(r).merge(o.delete("table"))):console.warn("unknown table '"+r+"'"))}}(this)),t.equals(i)?void 0:(this.setState(i),this.setState({unsaved:null!=(n=this.syncdb)?n.has_unsaved_changes():void 0}))},t.prototype.handle_projects_store_update=function(e){var t,n,r;if(n=this.get_store(),null!=n&&(r=null!=(t=e.getIn(["project_map",n.get("course_project_id"),"users"]))?t.keySeq():void 0,null!=r))return null==this._last_collaborator_state?void(this._last_collaborator_state=r):(this._last_collaborator_state.equals(r)||this.configure_all_projects(),this._last_collaborator_state=r)},t.prototype.set_error=function(e){var t,n;return""===e?this.setState({error:e}):this.setState({error:((null!=(t=null!=(n=this.get_store())?n.get("error"):void 0)?t:"")+"\n"+e).trim()})},t.prototype.set_activity=function(e){var t,n,r,i;if(e=l(e,{id:void 0,desc:void 0}),(null!=e.id||null!=e.desc)&&(null==e.id&&(this._activity_id=(null!=(t=this._activity_id)?t:0)+1,e.id=this._activity_id),r=this.get_store(),null!=r))return i=null!=(n=r.get_activity())?n.toJS():void 0,null==i&&(i={}),null==e.desc?delete i[e.id]:i[e.id]=e.desc,this.setState({activity:i}),e.id},t.prototype.clear_activity=function(e){return null!=e?this.set_activity({id:e}):this.setState({activity:{}})},t.prototype.set_title=function(e){return this._set({title:e,table:"settings"}),this.set_all_student_project_titles(e),this.set_shared_project_title()},t.prototype.set_description=function(e){return this._set({description:e,table:"settings"}),this.set_all_student_project_descriptions(e),this.set_shared_project_description()},t.prototype.set_allow_collabs=function(e){return this._set({allow_collabs:e,table:"settings"})},t.prototype.set_email_invite=function(e){return this._set({email_invite:e,table:"settings"})},t.prototype.shared_project_settings=function(e){var t,n;if(t=this.get_store(),null!=t)return n={title:"Shared Project -- "+(null!=e?e:t.getIn(["settings","title"])),description:t.getIn(["settings","description"])+"\n---\n This project is shared with all students."}},t.prototype.set_shared_project_title=function(){var e,t,n;if(t=this.get_store(),e=null!=t?t.get_shared_project_id():void 0,null!=t&&e)return n=this.shared_project_settings().title,this.redux.getActions("projects").set_project_title(e,n)},t.prototype.set_shared_project_description=function(){var e,t,n;if(n=this.get_store(),t=null!=n?n.get_shared_project_id():void 0,null!=n&&t)return e=this.shared_project_settings().description,this.redux.getActions("projects").set_project_description(t,e)},t.prototype.action_shared_project=function(e){var t,n,r,i;if("start"!==e&&"stop"!==e&&"restart"!==e)throw Error("action must be start, stop or restart");if(i=this.get_store(),null!=i&&(r=i.get_shared_project_id()))return"function"==typeof(t=this.redux.getActions("projects"))[n=e+"_project"]?t[n](r):void 0},t.prototype.configure_shared_project=function(){var e,t,n,r,i,o,s,a,l,c;if(l=this.get_store(),null!=l&&(s=l.get_shared_project_id(),s&&(this.set_shared_project_title(),i=this.redux.getStore("projects"),a=i.get_users(s),null!=a&&(r=i.get_users(l.get("course_project_id")),null!=r)))){c={},l.get_students().map(function(e){return function(e,t){var n;if(!e.get("deleted")&&(n=e.get("account_id"),null!=n))return c[n]=!0}}(this)),n=this.redux.getActions("projects"),l.get_allow_collabs()||a.map(function(e){return function(e,t){if(!r.get(t)&&!c[t])return n.remove_collaborator(s,t)}}(this)),r.map(function(e){return function(e,t){if(!a.get(t))return n.invite_collaborator(s,t)}}(this)),o=[];for(t in c)e=c[t],a.get(t)?o.push(void 0):o.push(n.invite_collaborator(s,t));return o}},t.prototype._set_shared_project_id=function(e){return this._set({table:"settings",shared_project_id:e})},t.prototype.create_shared_project=function(){var e,t,n;if(t=this.get_store(),null!=t&&!t.get_shared_project_id())return e=this.set_activity({desc:"Creating global shared project for everybody."}),n=this.shared_project_settings(),n.token=u.uuid(),this.redux.getActions("projects").create_project(n),this.redux.getStore("projects").wait_until_project_created(n.token,30,function(t){return function(n,r){return t.clear_activity(e),n?t.set_error("error creating shared project -- "+n):(t._set_shared_project_id(r),t.configure_shared_project())}}(this))},t.prototype.set_course_info=function(e){return null==e&&(e=""),this._set({pay:e,table:"settings"}),this.set_all_student_project_course_info(e)},t.prototype.toggle_item_expansion=function(e,t){var n,r,i,o,s;if(s=this.get_store(),null!=s)return i="expanded_"+e+"s",r=s.get(i),n=r.has(t)?r.delete(t):r.add(t),this.setState((o={},o[""+i]=n,o))},t.prototype.add_students=function(e){var t,n,r,i,o,s,l;for(s=[],r=0,i=e.length;r<i;r++)l=e[r],o=u.uuid(),s.push(o),l.table="students",l.student_id=o,this.syncdb.set(l);return t=function(e){return function(t,n){return a.series([function(n){var r;return r=e.get_store(),null==r?void n("store not defined"):r.wait({until:function(e){return e.get_student(t)},timeout:60,cb:n})},function(n){var r;return e.create_student_project(t),r=e.get_store(),null==r?void n("store not defined"):r.wait({until:function(e){return e.get_student(t).get("project_id")},timeout:60,cb:n})}],n)}}(this),n=this.set_activity({desc:"Creating "+e.length+" student projects (do not close this until done)"}),a.mapLimit(s,1,t,function(e){return function(t){return e.set_activity({id:n}),t&&e.set_error("error creating student projects -- "+t),e.configure_all_projects()}}(this))},t.prototype.delete_student=function(e){var t;if(t=this.get_store(),null!=t)return e=t.get_student(e),this._set({deleted:!0,student_id:e.get("student_id"),table:"students"}),this.configure_all_projects()},t.prototype.undelete_student=function(e){var t;if(t=this.get_store(),null!=t)return e=t.get_student(e),this._set({deleted:!1,student_id:e.get("student_id"),table:"students"}),this.configure_all_projects()},t.prototype.lookup_nonregistered_students=function(){var e,t,n;return t=this.get_store(),null==t?void console.warn("lookup_nonregistered_students: store not initialized"):(n={},e=[],t.get_students().map(function(t){return function(t,r){var i;if(!t.get("account_id")&&!t.get("deleted"))return i=t.get("email_address"),n[i]=r,e.push(i)}}(this)),e.length>0?_.user_search({query:e.join(","),limit:e.length,cb:function(e){return function(t,r){var i,o,s,a;if(t)return console.warn("lookup_nonregistered_students: search error -- "+t);for(s=[],i=0,o=r.length;i<o;i++)a=r[i],s.push(e._set({account_id:a.account_id,table:"students",student_id:n[a.email_address]}));return s}}(this)}):void 0)},t.prototype.set_active_student_sort=function(e){var t,n,r;if(r=this.get_store(),null!=r)return t=r.getIn(["active_student_sort","column_name"]),n=t===e&&!r.getIn(["active_student_sort","is_descending"]),this.setState({active_student_sort:{column_name:e,is_descending:n}})},t.prototype.set_internal_student_info=function(e,t){var n;if(n=this.get_store(),null!=n)return e=n.get_student(e),t=l(t,{first_name:m,last_name:m,email_address:e.get("email_address")}),this._set({first_name:t.first_name,last_name:t.last_name,email_address:t.email_address,student_id:e.get("student_id"),table:"students"}),this.configure_all_projects()},t.prototype.create_student_project=function(e){var t;if(t=this.get_store(),null!=t)return null==t.get("students")||null==t.get("settings")?void this.set_error("attempt to create when stores not yet initialized"):(null==this._create_student_project_queue?this._create_student_project_queue=[e]:this._create_student_project_queue.push(e),this._creating_student_project?void 0:this._process_create_student_project_queue())},t.prototype._process_create_student_project_queue=function(){var e,t,n,r,i,o;if(this._creating_student_project=!0,t=this._create_student_project_queue,r=t[0],n=this.get_store(),null!=n)return i=n.get_student(r).get("student_id"),this._set({create_project:_.server_time(),table:"students",student_id:i}),e=this.set_activity({desc:"Create project for "+n.get_student_name(i)+"."}),o=u.uuid(),this.redux.getActions("projects").create_project({title:n.getIn(["settings","title"]),description:n.getIn(["settings","description"]),token:o}),this.redux.getStore("projects").wait_until_project_created(o,30,function(n){return function(r,o){if(n.clear_activity(e),r?n.set_error("error creating student project -- "+r):(n._set({create_project:null,project_id:o,table:"students",student_id:i}),n.configure_project(i)),delete n._creating_student_project,t.shift(),t.length>0)return n._process_create_student_project_queue()}}(this))},t.prototype.configure_project_users=function(e,t,n){var r,i,o,s,a,l,u;if(u=this.redux.getStore("projects").get_users(e),null!=u&&(o=this.get_store(),null!=o&&(r=o.get_email_invite(),i=function(t){return function(i){var s,a,l,u,d;return s=t.redux.getStore("account"),a=s.get_fullname(),l=s.get_email_address(),A.call(i,"@")>=0?n?void 0:(d=o.getIn(["settings","title"]),u="SageMathCloud Invitation to Course "+d,r=r.replace(/{title}/g,d).replace(/{name}/g,a),r=c.markdown_to_html(r).s,t.redux.getActions("projects").invite_collaborators_by_email(e,i,r,u,!0,l,a)):t.redux.getActions("projects").invite_collaborator(e,i)}}(this),s=o.get_student(t),a=s.get("account_id"),null==a?i(s.get("email_address")):null==(null!=u?u.get(a):void 0)&&i(a),l=this.redux.getStore("projects").get_users(o.get("course_project_id")),null!=l)))return l.map(function(e){return function(e,t){if(null==u.get(t))return i(t)}}(this)),o.get_allow_collabs()?void 0:u.map(function(t){return function(n,r){if(null==l.get(r)&&r!==a)return t.redux.getActions("projects").remove_collaborator(e,r)}}(this))},t.prototype.configure_project_visibility=function(e){var t,n;if(n=this.redux.getStore("projects").get_users(e),null!=n&&(t=this.redux.getStore("projects").get_users(this.get_store().get("course_project_id")),null!=t))return t.map(function(t){return function(r,i){var o;if(o=n.get(i),null!=o&&!o.get("hide"))return t.redux.getActions("projects").set_project_hide(i,e,!0)}}(this))},t.prototype.configure_project_title=function(e,t){var n,r;if(n=this.get_store(),null!=n)return r=n.get_student_name(t)+" - "+n.getIn(["settings","title"]),this.redux.getActions("projects").set_project_title(e,r)},t.prototype.action_all_student_projects=function(e){var t,n;if("start"!==e&&"stop"!==e&&"restart"!==e)throw Error("action must be start, stop or restart");if(this.action_shared_project(e),(t=function(t){return function(){var n;return null!=(n=t.get_store())?n.get_students().filter(function(e){return!e.get("deleted")&&null!=e.get("project_id")}).map(function(n){return t.redux.getActions("projects")[e+"_project"](n.get("project_id"))}):void 0}}(this))())return null!=this.prev_interval_id&&window.clearInterval(this.prev_interval_id),null!=this.prev_timeout_id&&window.clearTimeout(this.prev_timeout_id),n=function(e){return function(){return window.clearInterval(e.prev_interval_id),e.setState({action_all_projects_state:"any"})}}(this),this.prev_interval_id=window.setInterval(t,3e4),this.prev_timeout_id=window.setTimeout(n,3e5),"start"===e||"restart"===e?this.setState({action_all_projects_state:"starting"}):"stop"===e?this.setState({action_all_projects_state:"stopping"}):void 0},t.prototype.set_all_student_project_titles=function(e){var t,n;return t=this.redux.getActions("projects"),null!=(n=this.get_store())?n.get_students().map(function(n){return function(r,i){var o,s;if(s=r.get("project_id"),o=n.get_store().get_student_name(i)+" - "+e,null!=s)return t.set_project_title(s,o)}}(this)):void 0},t.prototype.configure_project_description=function(e,t){var n;return this.redux.getActions("projects").set_project_description(e,null!=(n=this.get_store())?n.getIn(["settings","description"]):void 0)},t.prototype.set_all_student_project_descriptions=function(e){var t;return null!=(t=this.get_store())?t.get_students().map(function(t){return function(n,r){var i;if(i=n.get("project_id"),null!=i)return t.redux.getActions("projects").set_project_description(i,e)}}(this)):void 0},t.prototype.set_all_student_project_course_info=function(e){var t;if(t=this.get_store(),null!=t)return null==e?e=t.get_pay():this._set({pay:e,table:"settings"}),t.get_students().map(function(n){return function(r,i){var o,s,a;if(a=r.get("project_id"),o=r.get("account_id"),s=r.get("email_address"),null!=a)return n.redux.getActions("projects").set_project_course_info(a,t.get("course_project_id"),t.get("course_filename"),e,o,s)}}(this))},t.prototype.configure_project=function(e,t){var n,r;if(n=this.get_store(),null!=n)return r=n.getIn(["students",e,"project_id"]),null==r?this.create_student_project(e):(this.configure_project_users(r,e,t),this.configure_project_visibility(r),this.configure_project_title(r,e),this.configure_project_description(r,e))},t.prototype.delete_project=function(e){var t,n;if(t=this.get_store(),null!=t)return n=t.getIn(["students",e,"project_id"]),null!=n?(this.redux.getActions("projects").delete_project(n),this._set({create_project:null,project_id:null,table:"students",student_id:e})):void 0},t.prototype.configure_all_projects=function(){var e,t,n,r,i,o;if(e=this.set_activity({desc:"Configuring all projects"}),this.setState({configure_projects:"Configuring projects"}),i=this.get_store(),null==i)return void this.set_activity({id:e});for(r=i.get_student_ids({deleted:!1}),t=0,n=r.length;t<n;t++)o=r[t],this.configure_project(o,!1);return this.configure_shared_project(),this.set_activity({id:e}),this.set_all_student_project_course_info()},t.prototype.delete_all_student_projects=function(){var e,t,n,r,i,o;if(e=this.set_activity({desc:"Deleting all student projects..."}),i=this.get_store(),null==i)return void this.set_activity({id:e});for(r=i.get_student_ids({deleted:!1}),t=0,n=r.length;t<n;t++)o=r[t],this.delete_project(o);return this.set_activity({id:e})},t.prototype.upgrade_all_student_projects=function(e){var t,n,r,i,o,s;if(t=this.set_activity({desc:"Upgrading all student projects..."}),s=this.get_store(),null==s)return void this.set_activity({id:t});for(o=s.get_student_project_ids(),n=0,r=o.length;n<r;n++)i=o[n],this.redux.getActions("projects").apply_upgrades_to_project(i,e);return this.set_activity({id:t})},t.prototype.admin_upgrade_all_student_projects=function(e){var t,n,r;return(null!=(n=this.redux.getStore("account").get("groups"))?n.contains("admin"):void 0)?(r=this.get_store(),null==r?void console.warn("unable to get store"):(t=function(t){return function(t,n){var r;return r=u.copy(e),r.project_id=t,r.cb=function(e,r){return e||"error"===r.event?console.warn("failed to set quotas for "+t+" -- "+u.to_json(r)):console.log("set quotas for "+t),n(e)},_.project_set_quotas(r)}}(this),a.mapSeries(r.get_student_project_ids(),t,function(e){return function(e){return e?console.warn("FAIL -- "+e):console.log("SUCCESS")}}(this)))):void console.warn("must be an admin to upgrade")},t.prototype.set_student_note=function(e,t){var n;if(n=this.get_store(),null!=n)return e=n.get_student(e),this._set({note:t,table:"students",student_id:e.get("student_id")})},t.prototype._collect_path=function(e){var t,n;return n=this.get_store(),t=n.get("course_filename").lastIndexOf("."),n.get("course_filename").slice(0,t)+"-collect/"+e},t.prototype.add_assignment=function(e){var t,n,r,i,o;return n=this._collect_path(e),i=u.path_split(e),t=i.head?"/graded-":"graded-",r=i.head+t+i.tail,o=e,this._set({path:e,collect_path:n,graded_path:r,target_path:o,table:"assignments",assignment_id:u.uuid()})},t.prototype.delete_assignment=function(e){var t;if(t=this.get_store(),null!=t)return e=t.get_assignment(e),this._set({deleted:!0,assignment_id:e.get("assignment_id"),table:"assignments"})},t.prototype.undelete_assignment=function(e){var t;if(t=this.get_store(),null!=t)return e=t.get_assignment(e),this._set({deleted:!1,assignment_id:e.get("assignment_id"),table:"assignments"})},t.prototype.set_grade=function(e,t,n){var r,i,o,s;if(s=this.get_store(),null!=s)return e=s.get_assignment(e),t=s.get_student(t),i={table:"assignments",assignment_id:e.get("assignment_id")},r=null!=(o=this._get_one(i).grades)?o:{},r[t.get("student_id")]=n,i.grades=r,this._set(i)},t.prototype.set_active_assignment_sort=function(e){var t,n,r;if(r=this.get_store(),null!=r)return t=r.getIn(["active_assignment_sort","column_name"]),n=t===e&&!r.getIn(["active_assignment_sort","is_descending"]),this.setState({active_assignment_sort:{column_name:e,is_descending:n}})},t.prototype._set_assignment_field=function(e,t,n){var r,i;if(i=this.get_store(),null!=i)return e=i.get_assignment(e),this._set((r={},r[""+t]=n,r.table="assignments",r.assignment_id=e.get("assignment_id"),r))},t.prototype.set_due_date=function(e,t){return this._set_assignment_field(e,"due_date",t)},t.prototype.set_assignment_note=function(e,t){return this._set_assignment_field(e,"note",t)},t.prototype.set_peer_grade=function(e,t){var n,r,i,o,s;n=null!=(i=null!=(o=e.get("peer_grade"))?o.toJS():void 0)?i:{};for(r in t)s=t[r],n[r]=s;return this._set_assignment_field(e,"peer_grade",n)},t.prototype.update_peer_assignment=function(e){var t,n,r,i;if(i=this.get_store(),null!=i&&(e=i.get_assignment(e),null==e.getIn(["peer_grade","map"])))return t=null!=(r=e.getIn(["peer_grade","number"]))?r:1,n=u.peer_grading(i.get_student_ids(),t),this.set_peer_grade(e,{map:n})},t.prototype.copy_assignment_from_student=function(e,t){var n,r,i,o,s,l;if(!this._start_copy(e,t,"last_collect")&&(r=this.set_activity({desc:"Copying assignment from a student"}),n=function(n){return function(i){if(n.clear_activity(r),n._finish_copy(e,t,"last_collect",i),i)return n.set_error("copy from student: "+i)}}(this),i=this.get_store(),null!=i))return this._store_is_initialized()?(t=i.get_student(t))?(e=i.get_assignment(e))?(o=i.get_student_name(t),s=t.get("project_id"),null==s?this.clear_activity(r):(l=e.get("collect_path")+"/"+t.get("student_id"),this.set_activity({id:r,desc:"Copying assignment from "+o}),a.series([function(t){return function(t){return _.copy_path_between_projects({src_project_id:s,src_path:e.get("target_path"),target_project_id:i.get("course_project_id"),target_path:l,overwrite_newer:e.get("collect_overwrite_newer"),delete_missing:e.get("collect_delete_missing"),exclude_history:!1,cb:t})}}(this),function(e){return function(e){var n;return n=i.get_student_name(t,!0),_.write_text_file_to_project({project_id:i.get("course_project_id"),path:l+("/STUDENT - "+n.simple+".txt"),content:"This student is "+n.full+".",cb:e})}}(this)],n))):n("no assignment"):n("no student"):n("store not yet initialized")},t.prototype.return_assignment_to_student=function(e,t){var n,r,i,o,s,l,c,u;if(!this._start_copy(e,t,"last_return_graded"))return i=this.set_activity({desc:"Returning assignment to a student"}),n=function(n){return function(r){if(n.clear_activity(i),n._finish_copy(e,t,"last_return_graded",r),r)return n.set_error("return to student: "+r)}}(this),l=this.get_store(),null!=l&&this._store_is_initialized()?(r=l.get_grade(e,t),(t=l.get_student(t))?(e=l.get_assignment(e))?(c=l.get_student_name(t),u=t.get("project_id"),null==u?this.clear_activity(i):(this.set_activity({id:i,desc:"Returning assignment to "+c}),s=e.get("collect_path"),e.getIn(["peer_grade","enabled"])?(o=!0,s+="-peer-grade/"):o=!1,s+="/"+t.get("student_id"),a.series([function(e){return function(e){var t;return t="Your grade on this assignment:\n\n    "+r,o&&(t+="\n\n\nPEER GRADED:\n\nYour assignment was peer graded by other students.\nYou can find the comments they made in the folders below."),_.write_text_file_to_project({project_id:l.get("course_project_id"),path:s+"/GRADE.txt",content:t,cb:e})}}(this),function(t){return function(t){return _.copy_path_between_projects({src_project_id:l.get("course_project_id"),src_path:s,target_project_id:u,target_path:e.get("graded_path"),overwrite_newer:e.get("overwrite_newer"),delete_missing:e.get("delete_missing"),exclude_history:!0,cb:t})}}(this),function(t){return function(t){return o?_.exec({project_id:u,command:"rm ./*/GRADER*.txt",timeout:60,bash:!0,path:e.get("graded_path"),cb:t}):t(null)}}(this)],n))):n("no assignment"):n("no student")):n("store not yet initialized")},t.prototype.return_assignment_to_all_students=function(e,t){var n,r,o,s,l,c,p;return s=this.set_activity({desc:"Returning assignments to all students "+(t?"who have not already received it":"")}),n=function(e){return function(t){return e.clear_activity(s),e.set_error("return to student: "+t)}}(this),p=this.get_store(),null!=p&&this._store_is_initialized()?(e=p.get_assignment(e))?(r="",l=null!=(c=e.get("peer_grade"))?c.get("enabled"):void 0,o=function(n){return function(i,o){var s;return p.last_copied(d("return_graded",l),e,i,!0)&&p.has_grade(e,i)?t&&p.last_copied("return_graded",e,i,!0)&&p.has_grade(e,i)?void o():(s=u.mswalltime(),n.return_assignment_to_student(e,i),p.wait({timeout:900,until:function(){return p.last_copied("return_graded",e,i)>=s},cb:function(e){return e&&(r+="\n "+e),o()}})):void o()}}(this),a.mapLimit(p.get_student_ids({deleted:!1}),i,o,function(e){return function(t){return r?n(r):e.clear_activity(s)}}(this))):n("no assignment"):n("store not yet initialized")},t.prototype._finish_copy=function(e,t,n,r){var i,o,s,a,l,c;if(null!=t&&null!=e){if(a=this.get_store(),null==a)return;return t=a.get_student(t),e=a.get_assignment(e),i={table:"assignments",assignment_id:e.get("assignment_id")},c=null!=(o=null!=(s=this._get_one(i))?s[n]:void 0)?o:{},l=t.get("student_id"),c[l]={time:u.mswalltime()},r&&(c[l].error=r),i[n]=c,this._set(i)}},t.prototype._start_copy=function(e,t,n){var r,i,o,s,a,l,c;if(null!=t&&null!=e){if(a=this.get_store(),null==a)return;if(t=a.get_student(t),e=a.get_assignment(e),r={table:"assignments",assignment_id:e.get("assignment_id")},l=null!=(i=null!=(o=this._get_one(r))?o[n]:void 0)?i:{},c=null!=(s=l[t.get("student_id")])?s:{},null!=c.start&&_.server_time()-c.start<=15e3)return!0;c.start=u.mswalltime(),l[t.get("student_id")]=c,r[n]=l,this._set(r)}return!1},t.prototype._stop_copy=function(e,t,n){var r,i,o,s,a;if(null!=t&&null!=e){if(o=this.get_store(),null==o)return;if(t=o.get_student(t),e=o.get_assignment(e),r={table:"assignments",assignment_id:e.get("assignment_id")},s=null!=(i=this._get_one(r))?i[n]:void 0,null==s)return;if(a=s[t.get("student_id")],null==a)return;if(null!=a.start)return delete a.start,s[t.get("student_id")]=a,r[n]=s,this._set(r)}},t.prototype.copy_assignment_to_student=function(e,t){var n,r,i,o,s,l,c;if(!this._start_copy(e,t,"last_assignment"))return r=this.set_activity({desc:"Copying assignment to a student"}),n=function(n){return function(i){if(n.clear_activity(r),n._finish_copy(e,t,"last_assignment",i),i)return n.set_error("copy to student: "+i)}}(this),o=this.get_store(),null!=o&&this._store_is_initialized()?(t=o.get_student(t))?(e=o.get_assignment(e))?(l=o.get_student_name(t),this.set_activity({id:r,desc:"Copying assignment to "+l}),c=t.get("project_id"),s=t.get("student_id"),i=e.get("path"),a.series([function(e){return function(n){return null==c?(e.set_activity({id:r,desc:l+"'s project doesn't exist, so creating it."}),e.create_student_project(t),o=e.get_store(),null==o?void n("no store"):o.wait({until:function(){return o.get_student_project_id(s)},cb:function(e,t){
return c=t,n(e)}})):n()}}(this),function(t){return function(t){var n;return n=o.get_due_date(e),null==n?void t():_.write_text_file_to_project({project_id:o.get("course_project_id"),path:i+"/DUE_DATE.txt",content:"This assignment is due\n\n   "+n.toLocaleString(),cb:t})}}(this),function(t){return function(n){return t.set_activity({id:r,desc:"Copying files to "+l+"'s project"}),_.copy_path_between_projects({src_project_id:o.get("course_project_id"),src_path:i,target_project_id:c,target_path:e.get("target_path"),overwrite_newer:!1,delete_missing:!1,backup:!0,exclude_history:!0,cb:n})}}(this)],function(e){return function(e){return n(e)}}(this))):n("no assignment"):n("no student"):n("store not yet initialized")},t.prototype.copy_assignment=function(e,t,n){switch(e){case"assigned":return this.copy_assignment_to_student(t,n);case"collected":return this.copy_assignment_from_student(t,n);case"graded":return this.return_assignment_to_student(t,n);case"peer-assigned":return this.peer_copy_to_student(t,n);case"peer-collected":return this.peer_collect_from_student(t,n);default:return this.set_error("copy_assignment -- unknown type: "+e)}},t.prototype.copy_assignment_to_all_students=function(e,t){var n,r;return n="Copying assignments to all students "+(t?"who have not already received it":""),r="copy to student",this._action_all_students(e,t,this.copy_assignment_to_student,"assignment",n,r)},t.prototype.copy_assignment_from_all_students=function(e,t){var n,r;return n="Copying assignment from all students "+(t?"from whom we have not already copied it":""),r="copy from student",this._action_all_students(e,t,this.copy_assignment_from_student,"collect",n,r)},t.prototype.peer_copy_to_all_students=function(e,t){var n,r;return n="Copying assignments for peer grading to all students "+(t?"who have not already received their copy":""),r="copy to student for peer grading",this._action_all_students(e,t,this.peer_copy_to_student,"peer_assignment",n,r)},t.prototype.peer_collect_from_all_students=function(e,t){var n,r;return n="Copying peer graded assignments from all students "+(t?"from whom we have not already copied it":""),r="copy peer grading from students",this._action_all_students(e,t,this.peer_collect_from_student,"peer_collect",n,r)},t.prototype._action_all_students=function(e,t,n,r,o,s){var l,c,p,h,f,m,_,g;return h=this.set_activity({desc:o}),l=function(e){return function(t){return e.clear_activity(h),t=s+": "+t,e.set_error(t)}}(this),g=this.get_store(),null!=g&&this._store_is_initialized()?(e=g.get_assignment(e))?(c="",f=null!=(_=e.get("peer_grade"))?_.get("enabled"):void 0,m=d(r,f),p=function(i){return function(i,o){var s;return null==m||g.last_copied(m,e,i,!0)?t&&g.last_copied(r,e,i,!0)?void o():(s=u.mswalltime(),n(e,i),g.wait({timeout:900,until:function(){return g.last_copied(r,e,i)>=s},cb:function(e){return e&&(c+="\n "+e),o()}})):void o()}}(this),a.mapLimit(g.get_student_ids({deleted:!1}),i,p,function(e){return function(t){return c?l(c):e.clear_activity(h)}}(this))):l("no assignment"):l("store not yet initialized")},t.prototype.peer_copy_to_student=function(e,t){var n,r,i,o,s,l,c,u,d,p,h;if(!this._start_copy(e,t,"last_peer_assignment"))return s=this.set_activity({desc:"Copying peer grading to a student"}),i=function(n){return function(r){if(n.clear_activity(s),n._finish_copy(e,t,"last_peer_assignment",r),r)return n.set_error("copy peer-grading to student: "+r)}}(this),u=this.get_store(),null!=u&&this._store_is_initialized()?(t=u.get_student(t))?(e=u.get_assignment(e))?(d=u.get_student_name(t),this.set_activity({id:s,desc:"Copying peer grading to "+d}),this.update_peer_assignment(e),l=u.get_peers_that_student_will_grade(e,t),null==l?i():(p=t.get("project_id"),o=null!=(c=e.getIn(["peer_grade","guidelines"]))?c:"Please grade this assignment.",n=e.getIn(["peer_grade","due_date"]),null!=n&&(o="GRADING IS DUE "+new Date(n).toLocaleString()+" \n\n "+o),h=e.get("path")+"-peer-grade",r=function(t){return function(t,n){var r,i;return r=e.get("collect_path")+"/"+t,i=h+"/"+t,a.series([function(e){var n;return n=u.get_student_name(t,!0),_.exec({project_id:u.get("course_project_id"),command:"rm",args:["-f",r+("/STUDENT - "+n.simple+".txt"),r+"/DUE_DATE.txt",r+("/STUDENT - "+n.simple+".txt~"),r+"/DUE_DATE.txt~"],cb:e})},function(e){return _.copy_path_between_projects({src_project_id:u.get("course_project_id"),src_path:r,target_project_id:p,target_path:i,overwrite_newer:!1,delete_missing:!1,cb:e})}],n)}}(this),_.write_text_file_to_project({project_id:p,path:h+"/GRADING_GUIDE.md",content:o,cb:function(e){return function(e){return e?i(e):a.map(l,r,i)}}(this)}))):i("no assignment"):i("no student"):i("store not yet initialized")},t.prototype.peer_collect_from_student=function(e,t){var n,r,i,o,s,l,c;if(!this._start_copy(e,t,"last_peer_collect"))return i=this.set_activity({desc:"Collecting peer grading of a student"}),r=function(n){return function(r){if(n.clear_activity(i),n._finish_copy(e,t,"last_peer_collect",r),r)return n.set_error("collecting peer-grading of a student: "+r)}}(this),l=this.get_store(),null!=l&&this._store_is_initialized()?(t=l.get_student(t))?(e=l.get_assignment(e))?(c=l.get_student_name(t),this.set_activity({id:i,desc:"Collecting peer grading of "+c}),s=l.get_peers_that_graded_student(e,t),null==s?r():(o=t.get("student_id"),n=function(n){return function(n,r){var i,s,c,u;return s=l.get_student(n),s.get("deleted")?void r():(i=e.get("path"),c=i+"-peer-grade/"+o,u=e.get("collect_path")+"-peer-grade/"+o+"/"+n,a.series([function(e){return _.copy_path_between_projects({src_project_id:s.get("project_id"),src_path:c,target_project_id:l.get("course_project_id"),target_path:u,overwrite_newer:!1,delete_missing:!1,cb:e})},function(e){var t;return t=l.get_student_name(n,!0),_.write_text_file_to_project({project_id:l.get("course_project_id"),path:u+("/GRADER - "+t.simple+".txt"),content:"The student who did the peer grading is named "+t.full+".",cb:e})},function(e){var n;return n=l.get_student_name(t,!0),_.write_text_file_to_project({project_id:l.get("course_project_id"),path:u+("/STUDENT - "+n.simple+".txt"),content:"This student is "+n.full+".",cb:e})}],r))}}(this),a.map(s,n,r))):r("no assignment"):r("no student"):r("store not yet initialized")},t.prototype.stop_copying_assignment=function(e,t,n){switch(e){case"assigned":e="last_assignment";break;case"collected":e="last_collect";break;case"graded":e="last_return_graded";break;case"peer-assigned":e="last_peer_assignment";break;case"peer-collected":e="last_peer_collect"}return this._stop_copy(t,n,e)},t.prototype.open_assignment=function(e,t,n){var r,i,o,s,a,l;if(s=this.get_store(),null!=s){if(r=s.get_assignment(t),a=s.get_student(n),l=a.get("project_id"),null==l)return void this.set_error("open_assignment: student project not yet created");switch(e){case"assigned":i=r.get("target_path"),o=l;break;case"collected":i=r.get("collect_path")+"/"+a.get("student_id"),o=s.get("course_project_id");break;case"peer-assigned":o=l,i=r.get("path")+"-peer-grade";break;case"peer-collected":i=r.get("collect_path")+"-peer-grade/"+a.get("student_id"),o=s.get("course_project_id");break;case"graded":i=r.get("graded_path"),o=l;break;default:this.set_error("open_assignment -- unknown type: "+e)}return null==o?void this.set_error("no such project"):this.redux.getProjectActions(o).open_directory(i)}},t.prototype.add_handout=function(e){var t;return t=e,this._set({path:e,target_path:t,table:"handouts",handout_id:u.uuid()})},t.prototype.delete_handout=function(e){var t;if(t=this.get_store(),null!=t)return e=t.get_handout(e),this._set({deleted:!0,handout_id:e.get("handout_id"),table:"handouts"})},t.prototype.undelete_handout=function(e){var t;if(t=this.get_store(),null!=t)return e=t.get_handout(e),this._set({deleted:!1,handout_id:e.get("handout_id"),table:"handouts"})},t.prototype._set_handout_field=function(e,t,n){var r,i;if(i=this.get_store(),null!=i)return e=i.get_handout(e),this._set((r={},r[""+t]=n,r.table="handouts",r.handout_id=e.get("handout_id"),r))},t.prototype.set_handout_note=function(e,t){return this._set_handout_field(e,"note",t)},t.prototype._handout_finish_copy=function(e,t,n){var r,i,o,s,a,l;if(null!=t&&null!=e){if(a=this.get_store(),null==a)return;return t=a.get_student(t),e=a.get_handout(e),r={table:"handouts",handout_id:e.get("handout_id")},s=null!=(i=null!=(o=this._get_one(r))?o.status:void 0)?i:{},l=t.get("student_id"),s[l]={time:u.mswalltime()},n&&(s[l].error=n),r.status=s,this._set(r)}},t.prototype._handout_start_copy=function(e,t){var n,r,i,o,s,a,l;if(null!=t&&null!=e){if(a=this.get_store(),null==a)return;if(t=a.get_student(t),e=a.get_handout(e),n={table:"handouts",handout_id:e.get("handout_id")},s=null!=(r=null!=(i=this._get_one(n))?i.status:void 0)?r:{},l=null!=(o=s[t.get("student_id")])?o:{},null!=l.start&&_.server_time()-l.start<=15e3)return!0;l.start=u.mswalltime(),s[t.get("student_id")]=l,n.status=s,this._set(n)}return!1},t.prototype.stop_copying_handout=function(e,t){var n,r,i,o,s;if(null!=t&&null!=e){if(o=this.get_store(),null==o)return;if(t=o.get_student(t),e=o.get_handout(e),n={table:"handouts",handout_id:e.get("handout_id")},i=null!=(r=this._get_one(n))?r.status_map:void 0,null==i)return;if(s=i[t.get("student_id")],null==s)return;if(null!=s.start)return delete s.start,i[t.get("student_id")]=s,n.status_map=i,this._set(n)}},t.prototype.copy_handout_to_student=function(e,t){var n,r,i,o,s,l,c;if(!this._handout_start_copy(e,t))return r=this.set_activity({desc:"Copying handout to a student"}),n=function(n){return function(i){if(n.clear_activity(r),n._handout_finish_copy(e,t,i),i)return n.set_error("copy to student: "+i)}}(this),o=this.get_store(),null!=o&&this._store_is_initialized()?(t=o.get_student(t))?(e=o.get_handout(e))?(l=o.get_student_name(t),this.set_activity({id:r,desc:"Copying handout to "+l}),c=t.get("project_id"),s=t.get("student_id"),i=e.get("path"),a.series([function(e){return function(n){return null==c?(e.set_activity({id:r,desc:l+"'s project doesn't exist, so creating it."}),e.create_student_project(t),o=e.get_store(),null==o?void n("no store"):o.wait({until:function(){return o.get_student_project_id(s)},cb:function(e,t){return c=t,n(e)}})):n()}}(this),function(t){return function(n){return t.set_activity({id:r,desc:"Copying files to "+l+"'s project"}),_.copy_path_between_projects({src_project_id:o.get("course_project_id"),src_path:i,target_project_id:c,target_path:e.get("target_path"),overwrite_newer:!1,delete_missing:!1,backup:!0,exclude_history:!0,cb:n})}}(this)],function(e){return function(e){return n(e)}}(this))):n("no handout"):n("no student"):n("store not yet initialized")},t.prototype.copy_handout_to_all_students=function(e,t){var n,r,o,s,l,c,d;return n="Copying handouts to all students "+(t?"who have not already received it":""),c="copy to student",l=this.set_activity({desc:n}),r=function(e){return function(t){return e.clear_activity(l),t=c+": "+t,e.set_error(t)}}(this),d=this.get_store(),null!=d&&this._store_is_initialized()?(e=d.get_handout(e))?(o="",s=function(n){return function(r,i){var s;return t&&d.handout_last_copied(e,r,!0)?void i():(s=u.mswalltime(),n.copy_handout_to_student(e,r),d.wait({timeout:900,until:function(){return d.handout_last_copied(e,r)>=s},cb:function(e){return e&&(o+="\n "+e),i()}}))}}(this),a.mapLimit(d.get_student_ids({deleted:!1}),i,s,function(e){return function(t){return o?r(o):e.clear_activity(l)}}(this))):r("no handout"):r("store not yet initialized")},t.prototype.open_handout=function(e,t){var n,r,i,o,s,a;if(o=this.get_store(),null!=o)return n=o.get_handout(e),s=o.get_student(t),a=s.get("project_id"),null==a?void this.set_error("open_handout: student project not yet created"):(r=n.get("target_path"),i=a,null==i?void this.set_error("no such project"):this.redux.getProjectActions(i).open_directory(r))},t}(n)},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m=function(e,t){return function(){return e.apply(t,arguments)}},_=function(e,t){function n(){this.constructor=e}for(var r in t)g.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},g={}.hasOwnProperty,v=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};c=t(12),n=c.Actions,o=c.Store,a=t(9),s=a.defaults,d=a.required,u=t(187),i=u.STEPS,l=u.previous_step,p=u.step_direction,f=u.step_verb,h=u.step_ready,exports.CourseStore=r=function(e){function t(){return this.get_handout_status=m(this.get_handout_status,this),this.handout_last_copied=m(this.handout_last_copied,this),this.student_handout_info=m(this.student_handout_info,this),this.get_handout_ids=m(this.get_handout_ids,this),this.get_handout=m(this.get_handout,this),this.get_handouts=m(this.get_handouts,this),this.get_handout_note=m(this.get_handout_note,this),this.get_assignment_status=m(this.get_assignment_status,this),this.has_grade=m(this.has_grade,this),this.last_copied=m(this.last_copied,this),this.student_assignment_info=m(this.student_assignment_info,this),this.num_handouts=m(this.num_handouts,this),this.num_assignments=m(this.num_assignments,this),this.num_running_projects=m(this.num_running_projects,this),this.num_students=m(this.num_students,this),this._num_nondeleted=m(this._num_nondeleted,this),this.get_assignment_ids=m(this.get_assignment_ids,this),this.get_assignment=m(this.get_assignment,this),this.get_sorted_assignments=m(this.get_sorted_assignments,this),this.get_assignments=m(this.get_assignments,this),this.get_assignment_note=m(this.get_assignment_note,this),this.get_due_date=m(this.get_due_date,this),this.get_grade=m(this.get_grade,this),this.get_sorted_students=m(this.get_sorted_students,this),this.get_student_project_id=m(this.get_student_project_id,this),this.get_student_note=m(this.get_student_note,this),this.get_student=m(this.get_student,this),this.get_student_project_ids=m(this.get_student_project_ids,this),this.get_student_ids=m(this.get_student_ids,this),this.get_student_email=m(this.get_student_email,this),this.get_student_name=m(this.get_student_name,this),this.get_students=m(this.get_students,this),this.get_activity=m(this.get_activity,this),this.get_email_invite=m(this.get_email_invite,this),this.get_allow_collabs=m(this.get_allow_collabs,this),this.get_pay=m(this.get_pay,this),this.get_shared_project_id=m(this.get_shared_project_id,this),this.get_peers_that_graded_student=m(this.get_peers_that_graded_student,this),this.get_peers_that_student_will_grade=m(this.get_peers_that_student_will_grade,this),this.any_assignment_uses_peer_grading=m(this.any_assignment_uses_peer_grading,this),t.__super__.constructor.apply(this,arguments)}return _(t,e),t.prototype.any_assignment_uses_peer_grading=function(){var e;return e=!1,this.get_assignments().forEach(function(t){return function(t,n){if(t.getIn(["peer_grade","enabled"])&&!t.get("deleted"))return e=!0,!1}}(this)),e},t.prototype.get_peers_that_student_will_grade=function(e,t){var n,r;return e=this.get_assignment(e),t=this.get_student(t),null!=(n=e.getIn(["peer_grade","map"]))&&null!=(r=n.get(t.get("student_id")))?r.toJS():void 0},t.prototype.get_peers_that_graded_student=function(e,t){var n,r,i,o;if(e=this.get_assignment(e),r=e.getIn(["peer_grade","map"]),null!=r)return t=this.get_student(t),n=t.get("student_id"),function(){var e,t;e=r.toJS(),t=[];for(i in e)o=e[i],v.call(o,n)>=0&&t.push(i);return t}()},t.prototype.get_shared_project_id=function(){return this.getIn(["settings","shared_project_id"])},t.prototype.get_pay=function(){var e;return null!=(e=this.getIn(["settings","pay"]))?e:""},t.prototype.get_allow_collabs=function(){return!0},t.prototype.get_email_invite=function(){var e,t;return e=window.location.hostname,null!=(t=this.getIn(["settings","email_invite"]))?t:"We will use [SageMathCloud](https://"+e+") for the course *{title}*.  \n\nPlease sign up!\n\n--\n\n{name}"},t.prototype.get_activity=function(){return this.get("activity")},t.prototype.get_students=function(){return this.get("students")},t.prototype.get_student_name=function(e,t){var n,r,i,o,s,a,l,c;return null==t&&(t=!1),e=this.get_student(e),null==e?"student":(r=e.get("email_address"),n=e.get("account_id"),i=null!=(l=e.get("first_name"))?l:this.redux.getStore("users").get_first_name(n),a=null!=(c=e.get("last_name"))?c:this.redux.getStore("users").get_last_name(n),s=null!=i&&null!=a?i+" "+a:null!=i?i:null!=a?a:null!=r?r:"student",o=t&&null!=s&&null!=r?s+(" <"+r+">"):s,"Unknown User"===s&&null!=r&&(s=r),t?{simple:s.replace(/\W/g," "),full:o}:s)},t.prototype.get_student_email=function(e){return e=this.get_student(e),null==e?"student":e.get("email_address")},t.prototype.get_student_ids=function(e){var t;if(e=s(e,{deleted:!1}),null!=this.get("students"))return t=[],this.get("students").map(function(n){return function(n,r){if(!!n.get("deleted")===e.deleted)return t.push(r)}}(this)),t},t.prototype.get_student_project_ids=function(){var e;if(null!=this.get("students"))return e=[],this.get("students").map(function(t){return function(t,n){if(!t.get("deleted"))return e.push(t.get("project_id"))}}(this)),e},t.prototype.get_student=function(e){return"string"!=typeof e&&(e=null!=e?e.get("student_id"):void 0),this.getIn(["students",e])},t.prototype.get_student_note=function(e){var t;return null!=(t=this.get_student(e))?t.get("note"):void 0},t.prototype.get_student_project_id=function(e){var t;return null!=(t=this.get_student(e))?t.get("project_id"):void 0},t.prototype.get_sorted_students=function(){var e;return e=[],this.get("students").map(function(t){return function(t,n){if(!t.get("deleted"))return e.push(t)}}(this)),e.sort(function(e){return function(t,n){return a.cmp(e.get_student_name(t),e.get_student_name(n))}}(this)),e},t.prototype.get_grade=function(e,t){var n,r,i;return null!=(n=this.get_assignment(e))&&null!=(r=n.get("grades"))?r.get(null!=(i=this.get_student(t))?i.get("student_id"):void 0):void 0},t.prototype.get_due_date=function(e){var t,n;if(t=null!=(n=this.get_assignment(e))?n.get("due_date"):void 0,null!=t)return new Date(t)},t.prototype.get_assignment_note=function(e){var t;return null!=(t=this.get_assignment(e))?t.get("note"):void 0},t.prototype.get_assignments=function(){return this.get("assignments")},t.prototype.get_sorted_assignments=function(){var e,t;return t=[],this.get_assignments().map(function(e){return function(e,n){if(!e.get("deleted"))return t.push(e)}}(this)),e=function(e){var t,n;return[null!=(t=e.get("due_date"))?t:0,null!=(n=e.get("path"))?n.toLowerCase():void 0]},t.sort(function(t,n){return a.cmp_array(e(t),e(n))}),t},t.prototype.get_assignment=function(e){return"string"!=typeof e&&(e=null!=e?e.get("assignment_id"):void 0),this.getIn(["assignments",e])},t.prototype.get_assignment_ids=function(e){var t;if(e=s(e,{deleted:!1}),this.get_assignments())return t=[],this.get_assignments().map(function(n){return function(n,r){if(!!n.get("deleted")===e.deleted)return t.push(r)}}(this)),t},t.prototype._num_nondeleted=function(e){var t;if(null!=e)return t=0,e.map(function(e){return function(e,n){if(!e.get("deleted"))return t+=1}}(this)),t},t.prototype.num_students=function(){return this._num_nondeleted(this.get_students())},t.prototype.num_running_projects=function(e){var t;return t=0,this.get_students().map(function(n){return function(n,r){if(!n.get("deleted")&&"running"===e.getIn([n.get("project_id"),"state","state"]))return t+=1}}(this)),t},t.prototype.num_assignments=function(){return this._num_nondeleted(this.get_assignments())},t.prototype.num_handouts=function(){return this._num_nondeleted(this.get_handouts())},t.prototype.student_assignment_info=function(e,t){var n,r,i,o,s,a,l,c,u,d,p,h,f;return t=this.get_assignment(t),e=this.get_student(e),f=e.get("student_id"),h=this.get_assignment_status(t),n={last_assignment:null!=(o=t.get("last_assignment"))&&null!=(s=o.get(f))?s.toJS():void 0,last_collect:null!=(a=t.get("last_collect"))&&null!=(l=a.get(f))?l.toJS():void 0,last_peer_assignment:null!=(c=t.get("last_peer_assignment"))&&null!=(u=c.get(f))?u.toJS():void 0,last_peer_collect:null!=(d=t.get("last_peer_collect"))&&null!=(p=d.get(f))?p.toJS():void 0,last_return_graded:null!=(r=t.get("last_return_graded"))&&null!=(i=r.get(f))?i.toJS():void 0,student_id:f,assignment_id:t.get("assignment_id"),peer_assignment:h.not_collect+h.not_assignment===0&&0!==h.collect,peer_collect:null!=h.not_peer_assignment&&0===h.not_peer_assignment}},t.prototype.last_copied=function(e,t,n,r){var i,o,s;if(s=null!=(i=this.get_assignment(t))&&null!=(o=i.get("last_"+e))?o.get(n):void 0,!(null==s||r&&s.get("error")))return s.get("time")},t.prototype.has_grade=function(e,t){var n,r;return null!=(n=this.get_assignment(e))&&null!=(r=n.get("grades"))?r.get(t):void 0},t.prototype.get_assignment_status=function(e){var t,n,r,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y;if(null==this._assignment_status&&(this._assignment_status={},this.on("change",function(e){return function(){return e._assignment_status={}}}(this))),e=this.get_assignment(e),null!=e){if(t=e.get("assignment_id"),null!=this._assignment_status[t])return this._assignment_status[t];if(g=this.get_student_ids({deleted:!1}),null!=g){for(u=null!=(p=e.get("peer_grade"))?p.get("enabled"):void 0,r={},h=i(u),n=0,a=h.length;n<a;n++)v=h[n],r[v]=0,r["not_"+v]=0;for(o=0,l=g.length;o<l;o++)for(_=g[o],d=!0,f=i(u),s=0,c=f.length;s<c;s++)v=f[s],y=null!=(m=e.get("last_"+v))?m.get(_):void 0,null==y||y.get("error")?(d&&("return_graded"!==v||this.has_grade(e,_))&&(r["not_"+v]+=1),d=!1):(d=!0,r[v]+=1);return this._assignment_status[t]=r,r}}},t.prototype.get_handout_note=function(e){var t;return null!=(t=this.get_handout(e))?t.get("note"):void 0},t.prototype.get_handouts=function(){return this.get("handouts")},t.prototype.get_handout=function(e){return"string"!=typeof e&&(e=null!=e?e.get("handout_id"):void 0),this.getIn(["handouts",e])},t.prototype.get_handout_ids=function(e){var t;if(e=s(e,{deleted:!1}),this.get_handouts())return t=[],this.get_handouts().map(function(n){return function(n,r){if(!!n.get("deleted")===e.deleted)return t.push(r)}}(this)),t},t.prototype.student_handout_info=function(e,t){var n,r,i,o,s;return t=this.get_handout(t),e=this.get_student(e),s=e.get("student_id"),o=this.get_handout_status(t),n={status:null!=(r=t.get("status"))&&null!=(i=r.get(s))?i.toJS():void 0,student_id:s,handout_id:t.get("handout_id")}},t.prototype.handout_last_copied=function(e,t){var n,r,i;if(i=null!=(n=this.get_handout(e))&&null!=(r=n.get("status"))?r.get(t):void 0,null!=i&&!i.get("error"))return i.get("time")},t.prototype.get_handout_status=function(e){var t,n,r,i,o,s,a,l;if(null==this._handout_status&&(this._handout_status={},this.on("change",function(e){return function(){return e._handout_status={}}}(this))),e=this.get_handout(e),null!=e){if(t=e.get("handout_id"),null!=this._handout_status[t])return this._handout_status[t];if(a=this.get_student_ids({deleted:!1}),null!=a){for(r={handout:0,not_handout:0},n=0,i=a.length;n<i;n++)s=a[n],l=null!=(o=e.get("status"))?o.get(s):void 0,null==l||l.get("error")?r.not_handout+=1:r.handout+=1;return this._handout_status[t]=r,r}}},t}(o)},function(e,exports,t){var n,r,i,o,s,a;r=t(26),i=t(9),n=i.defaults,o=i.required,a=t(24),s=t(19).salvus_client,exports.create_sync_db=function(e){return function(t,n,o){var a;if(null!=t&&null!=n&&null!=o)return a=s.sync_db({project_id:o.get("course_project_id"),path:o.get("course_filename"),primary_keys:["table","handout_id","student_id","assignment_id"],string_cols:["note","description","title","email_invite"],change_throttle:500,save_interval:3e3}),a.once("init",function(s){var l,c,u,d,p,h,f,m,_;if(s)return null!=n&&n.set_error(s),void console.warn("Error opening '"+o.course_filename+"' -- "+s);for(l=o.get("course_filename").lastIndexOf("."),f={settings:{title:o.get("course_filename").slice(0,l),description:"No description"},assignments:{},students:{},handouts:{}},h=a.get().toJS(),c=0,d=h.length;c<d;c++)_=h[c],"settings"===_.table?i.merge(f.settings,i.copy_without(_,"table")):"students"===_.table?f.students[_.student_id]=i.copy_without(_,"table"):"assignments"===_.table?f.assignments[_.assignment_id]=i.copy_without(_,"table"):"handouts"===_.table&&(f.handouts[_.handout_id]=i.copy_without(_,"table"));for(u in f)m=f[u],f[u]=r.fromJS(m);return null!=n&&n.setState(f),a.on("change",function(e){return null!=n?n._syncdb_change(e):void 0}),a.on("sync",function(){return t.getProjectActions(e.project_id).flag_file_activity(e.filename)}),p=t.getStore("projects"),p.wait({until:function(e){return null!=e.get_users(o.get("course_project_id"))},timeout:30,cb:function(){if(n=n,null!=n)return n.lookup_nonregistered_students(),n.configure_all_projects(),p.on("change",n.handle_projects_store_update),n.handle_projects_store_update(p)}})}),a}}(this)},,function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m=function(e,t){return function(){return e.apply(t,arguments)}},_=function(e,t){function n(){this.constructor=e}for(var r in t)g.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},g={}.hasOwnProperty;r=t(23),o=t(31),l=t(9),s=l.defaults,p=l.required,c=t(30),a=t(40),i=t(36).alert_message,h=t(19).salvus_client,n=t(49).IS_MOBILE,d=t(12).redux,u=t(352),f=$("#salvus-editor-templates"),exports.HTML_MD_Editor=function(e){function d(e,t,n,i){var o;if(this.project_id=e,this.filename=t,this.opts=i,this.focus=m(this.focus,this),this._show=m(this._show,this),this._set=m(this._set,this),this._get=m(this._get,this),this.init_preview_select=m(this.init_preview_select,this),this.update_preview=m(this.update_preview,this),this.to_html_via_exec=m(this.to_html_via_exec,this),this.to_html_via_pandoc=m(this.to_html_via_pandoc,this),this.rst_to_html=m(this.rst_to_html,this),this.java_to_html=m(this.java_to_html,this),this.rmd_to_html=m(this.rmd_to_html,this),this.md_to_html=m(this.md_to_html,this),this.html_to_html=m(this.html_to_html,this),this.to_html=m(this.to_html,this),this.file_path=m(this.file_path,this),this.sync=m(this.sync,this),this.save=m(this.save,this),this.has_unsaved_changes=m(this.has_unsaved_changes,this),this.spell_check=m(this.spell_check,this),this.misspelled_words=m(this.misspelled_words,this),this.print=m(this.print,this),this.init_edit_buttons=m(this.init_edit_buttons,this),this.init_preview_buttons=m(this.init_preview_buttons,this),this.command=m(this.command,this),this.init_buttons=m(this.init_buttons,this),this.action_key=m(this.action_key,this),this.forward_search=m(this.forward_search,this),this.inverse_search=m(this.inverse_search,this),this.set_split_pos=m(this.set_split_pos,this),this.init_draggable_split=m(this.init_draggable_split,this),this.init_keybindings=m(this.init_keybindings,this),this.cm=m(this.cm,this),this.remove=m(this.remove,this),d.__super__.constructor.call(this,this.project_id,this.filename),"html"===this.ext)this.opts.mode="htmlmixed";else if("md"===this.ext)this.opts.mode="gfm";else if("rmd"===this.ext)this.opts.mode="gfm";else if("rst"===this.ext)this.opts.mode="rst";else if("wiki"===this.ext||"mediawiki"===this.ext)this.ext="mediawiki",this.opts.mode="mediawiki";else if("java"!==this.ext)throw Error("file must have extension md, html, rmd, rst, tex, java, or wiki");this.disable_preview=this.local_storage("disable_preview"),null==this.disable_preview&&"htmlmixed"===this.opts.mode&&(this.disable_preview=!0),this.element=f.find(".salvus-editor-html-md").clone(),this.edit_buttons=f.find(".salvus-editor-textedit-buttonbar").clone(),this.element.find(".salvus-editor-html-md-textedit-buttonbar").append(this.edit_buttons),"java"===this.ext&&this.element.find(".salvus-editor-html-md-textedit-buttonbar").hide(),this.preview=this.element.find(".salvus-editor-html-md-preview"),this.preview_content=this.preview.find(".salvus-editor-html-md-preview-content"),this.preview.on("scroll",function(e){return function(){return e.preview_scroll_position=e.preview.scrollTop()}}(this)),this.source_editor=a.codemirror_session_editor(this.project_id,this.filename,this.opts),this.element.find(".salvus-editor-html-md-source-editor").append(this.source_editor.element),this.source_editor.action_key=this.action_key,"java"!==this.ext||this.disable_preview||this.update_preview(),this.spell_check(),o=this.cm(),"java"===this.ext?this.source_editor.on("saved",r.debounce(this.update_preview,500)):o.on("change",r.debounce(this.update_preview,500)),this.init_buttons(),this.init_draggable_split(),this.init_preview_select(),this.init_keybindings()}return _(d,e),d.prototype.remove=function(){var e;return null!=(e=this.source_editor)&&"function"==typeof e.remove?e.remove():void 0},d.prototype.cm=function(){return this.source_editor.syncdoc.focused_codemirror()},d.prototype.init_keybindings=function(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h;o={bold:"Cmd-B Ctrl-B",italic:"Cmd-I Ctrl-I",underline:"Cmd-U Ctrl-U",comment:"Shift-Ctrl-3",strikethrough:"Shift-Cmd-X Shift-Ctrl-X",justifycenter:"Cmd-E Ctrl-E",subscript:"Cmd-= Ctrl-=",superscript:"Shift-Cmd-= Shift-Ctrl-="},n=this.cm().getOption("extraKeys"),null==n&&(n={});for(t in o)for(s=o[t],d=s.split(" "),r=function(e){return function(t){return n[i]=function(n){return e.command(n,t)}}}(this),a=0,l=d.length;a<l;a++)i=d[a],r(t);for(p=this.source_editor.codemirrors(),h=[],u=0,c=p.length;u<c;u++)e=p[u],h.push(e.setOption("extraKeys",n));return h},d.prototype.init_draggable_split=function(){var e,t;return this._split_pos=this.local_storage("split_pos"),this._dragbar=e=this.element.find(".salvus-editor-html-md-resize-bar"),t=this.element.find(".salvus-editor-html-md-content"),this.set_split_pos(this.local_storage("split_pos")),e.draggable({axis:"x",containment:this.element,zIndex:100,start:c.drag_start_iframe_disable,stop:function(n){return function(r,i){var o;return c.drag_stop_iframe_enable(),o=(e.offset().left-t.offset().left)/t.width(),o<.05&&(o=.03),o>.95&&(o=.97),n.set_split_pos(o),n.local_storage("split_pos",o)}}(this)})},d.prototype.set_split_pos=function(e){return this.element.find(".salvus-editor-html-md-source-editor").css("flex-basis",100*e+"%"),this._dragbar.css("left",0)},d.prototype.inverse_search=function(e){},d.prototype.forward_search=function(e){},d.prototype.action_key=function(){},d.prototype.init_buttons=function(){return this.element.find("a").tooltip({delay:{show:500,hide:100}}),this.element.find('a[href="#save"]').click(this.click_save_button),u.can_print(this.ext)?this.print_button=this.element.find('a[href="#print"]').show().click(this.print):this.element.find('a[href="#print"]').remove(),this.init_edit_buttons(),this.init_preview_buttons()},d.prototype.command=function(e,t,n){switch(t){case"link":return e.insert_link();case"image":return e.insert_image();case"SpecialChar":return e.insert_special_char();default:return e.edit_selection({cmd:t,args:n,mode:this.opts.mode}),this.sync()}},d.prototype.init_preview_buttons=function(){var e,t;if(e=this.element.find('a[href="#disable-preview"]').click(function(n){return function(r){return r.preventDefault(),e.hide(),t.show(),n.disable_preview=!0,n.local_storage("disable_preview",!0),n.preview_content.html("")}}(this)),t=this.element.find('a[href="#enable-preview"]').click(function(n){return function(r){return r.preventDefault(),e.show(),t.hide(),n.disable_preview=!1,n.local_storage("disable_preview",!1),n.update_preview()}}(this)),this.disable_preview)return t.show(),e.hide()},d.prototype.init_edit_buttons=function(){var e,t,r,i,o,s,a,l;for(l=this,this.edit_buttons.find("a").click(function(){var e,t;return e=$(this).data("args"),t=$(this).attr("href").slice(1),null!=e&&"object"!=typeof e&&(e=""+e,e.indexOf(",")!==-1&&(e=e.split(","))),l.command(l.cm(),t,e),!1}),s=["clean"],i=0,o=s.length;i<o;i++)a=s[i],this.edit_buttons.find('a[href="#'+a+'"]').hide();return e=this.edit_buttons,r=function(t){return function(){var r,i,o,s;return i=e.find(".sagews-output-editor-foreground-color-selector"),n?void i.hide():(r=i.find("input").colorpicker(),o=i.find("i"),s=function(e,n){if(o.css("color",e),r.css("background-color",e),!n)return t.command(t.cm(),"color",e)},r.change(function(e){var t;return t=r.val(),
s(t)}),r.on("changeColor",function(e){var t;return t=e.color.toHex(),s(t)}),o.click(function(e){return r.colorpicker("show")}),s("#000000",!0))}}(this),r(),(t=function(t){return function(){var r,i,o,s;return i=e.find(".sagews-output-editor-background-color-selector"),n?void i.hide():(r=i.find("input").colorpicker(),o=i.find("i"),s=function(e,n){if(r.css("background-color",e),i.find(".input-group-addon").css("background-color",e),!n)return t.command(t.cm(),"background-color",e)},r.change(function(e){var t;return t=r.val(),s(t)}),r.on("changeColor",function(e){var t;return t=e.color.toHex(),s(t)}),o.click(function(e){return r.colorpicker("show")}),s("#fff8bd",!0))}}(this))()},d.prototype.print=function(){var e;if(!this._printing)return this._printing=!0,this.print_button.icon_spin({start:!0,delay:0}).addClass("disabled"),e=u.Printer(this,this.filename+".pdf"),e.print(function(e){return function(t){if(e._printing=!1,e.print_button.removeClass("disabled"),e.print_button.icon_spin(!1),t)return i({type:"error",message:"Printing error -- "+t})}}(this))},d.prototype.misspelled_words=function(e){var t;return e=s(e,{lang:void 0,cb:p}),null==e.lang&&(e.lang=c.language()),"disable"===e.lang?void e.cb(void 0,[]):(t="html"===this.ext?"html":"tex"===this.ext?"tex":"none",h.exec({project_id:this.project_id,command:"cat '"+this.filename+"'|aspell --mode="+t+" --lang="+e.lang+" list|sort|uniq",bash:!0,err_on_exit:!0,cb:function(t){return function(t,n){return t?void e.cb(t):n.stderr?void e.cb(n.stderr):e.cb(void 0,n.stdout.slice(0,n.stdout.length-1).split("\n"))}}(this)}))},d.prototype.spell_check=function(){return this.misspelled_words({cb:function(e){return function(t,n){var r,i,o,s;if(t);else for(s=e.source_editor.codemirrors(),i=0,o=s.length;i<o;i++){if(r=s[i],!r)return;r.spellcheck_highlight(n)}}}(this)})},d.prototype.has_unsaved_changes=function(){return this.source_editor.has_unsaved_changes()},d.prototype.save=function(e){return this.source_editor.syncdoc.save(function(t){return function(n){return n||t.spell_check(),"function"==typeof e?e(n):void 0}}(this))},d.prototype.sync=function(e){return this.source_editor.syncdoc.sync(e)},d.prototype.outside_tag=function(e,t){var n,r,i;return i=e.slice(0,t),n=i.lastIndexOf(">"),r=i.lastIndexOf("<"),r>n?r:t},d.prototype.file_path=function(){return null==this._file_path&&(this._file_path=l.path_split(this.filename).head),this._file_path},d.prototype.to_html=function(e){var t;return t=this[this.ext+"_to_html"],null!=t?t(e):this.to_html_via_pandoc({cb:e})},d.prototype.html_to_html=function(e){var t,n,r,i,o,s,a,c,u,d,p,h,f,m,_,g,v,y,b;if(b=this._get(),n=this.source_editor.syncdoc.focused_codemirror(),d=b.split("\n"),p={cursor:"︢",from:"︣",to:"︤"},"html"===this.ext)for(_=n.listSelections(),s=0,a=_.length;s<a;s++)y=_[s],y.empty()&&(m=y.head,c=d[m.line],i=this.outside_tag(c,m.ch),d[m.line]=c.slice(0,i)+p.cursor+c.slice(i));if("html"===this.ext)for(i=h=0,g=d.length;0<=g?h<g:h>g;i=0<=g?++h:--h){for(c=d[i],u="",o=f=0,v=c.length;0<=v?f<v:f>v;o=0<=v?++f:--f)"<"===c[o]&&(y=c.slice(0,o),t=y.split(p.cursor).length+y.split(p.from).length+y.split(p.to).length-3,u="<span data-line="+i+" data-ch="+(o-t)+" class='smc-pos'></span>"+c.slice(o)+u,c=c.slice(0,o));d[i]="<span data-line="+i+" data-ch=0 class='smc-pos'></span>"+c+u}return b=d.join("\n"),b=l.replace_all(b,p.cursor,"<span class='smc-html-cursor'></span>"),i=b.indexOf(p.from),o=b.indexOf(p.to),i!==-1&&o!==-1&&(r=$("<span>"),r.html(b.slice(i+1,o)),r.find("*").addClass("smc-html-selection"),b=b.slice(0,i)+"<span class='smc-html-selection'>"+r.html()+"</span>"+b.slice(o+1)),e(void 0,b)},d.prototype.md_to_html=function(e){var n,r;return r=this._get(),n=t(86).markdown_to_html(r),e(void 0,n.s)},d.prototype.rmd_to_html=function(e){var t;return t=l.path_split(this.filename),this.to_html_via_exec({command:"smc-rmd2html",args:[t.tail],path:t.head,cb:e})},d.prototype.java_to_html=function(e){return this.to_html_via_exec({command:"smc-java2html",args:[this.filename],cb:e})},d.prototype.rst_to_html=function(e){return this.to_html_via_exec({command:"rst2html",args:[this.filename],cb:e})},d.prototype.to_html_via_pandoc=function(e){return e.command="pandoc",e.args=["--toc","-t","html","--highlight-style","pygments",this.filename],this.to_html_via_exec(e)},d.prototype.to_html_via_exec=function(e){var t,n;return e=s(e,{command:p,args:p,postprocess:void 0,path:void 0,cb:p}),t=void 0,n=void 0,o.series([function(e){return function(t){return e.save(t)}}(this),function(r){return function(i){return h.exec({project_id:r.project_id,command:e.command,args:e.args,path:e.path,err_on_exit:!1,cb:function(e,r){return e?i(e):(t=r.stdout,n=r.stderr,i())}})}}(this)],function(r){return function(r){return r?e.cb(r):(null!=e.postprocess&&(t=e.postprocess(t)),e.cb(void 0,t,n))}}(this))},d.prototype.update_preview=function(){var e;if(!this.disable_preview)return this._update_preview_lock?void(this._update_preview_redo=!0):(e=l.mswalltime(),this._update_preview_lock=!0,this.to_html(function(e){return function(t,n,r){var i;return e._update_preview_lock=!1,t?void console.log("failed to render preview: "+t):(i=$("<span>").html(n),i.find("script").remove(),i.find("link").remove(),n=i.html(),r?e.preview_content.html("<pre><code>"+r+"</code></pre>"):(e.preview_content.html(n),e.preview_content.process_smc_links({project_id:e.project_id,file_path:e.file_path()}),e.preview_content.find("table").addClass("table"),e.preview_content.mathjax()),e._update_preview_redo?(e._update_preview_redo=!1,e.update_preview()):void 0)}}(this)))},d.prototype.init_preview_select=function(){return this.preview_content.click(function(e){return function(t){var n,r,i;return i=window.getSelection(),n="html"===e.ext?$(t.target).prevAll(".smc-pos:first"):$(t.target).nextAll(".smc-pos:first"),0===n.length&&(n="html"===e.ext?$(i.anchorNode).prevAll(".smc-pos:first"):$(i.anchorNode).nextAll(".smc-pos:first")),0===n.length?void console.log("clicked but not able to determine position"):(r=n.data(),null==r&&(r={ch:0,line:0}),r={ch:r.ch+i.focusOffset,line:r.line},e.cm().setCursor(r),e.cm().scrollIntoView(r.line),e.cm().focus())}}(this))},d.prototype._get=function(){var e;return null!=(e=this.source_editor._get())?e:""},d.prototype._set=function(e){return this.source_editor._set(e)},d.prototype._show=function(){$.browser.safari&&this.element.make_height_defined()},d.prototype.focus=function(){var e;return null!=(e=this.source_editor)?e.focus():void 0},d}(a.FileEditor)},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g=function(e,t){return function(){return e.apply(t,arguments)}},v=function(e,t){function n(){this.constructor=e}for(var r in t)y.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},y={}.hasOwnProperty;$=window.$,_=t(23),r=t(31),c=t(9),h=t(19).salvus_client,u=t(12).redux,d=t(40),n=d.FileEditor,i=d.codemirror_session_editor,p=t(804),s=t(346),a=t(885).jupyter_history_viewer_jquery_shim,f=t(805),m=$("#salvus-editor-templates"),exports.HistoryEditor=function(e){function n(e,t,i,o){this.project_id=e,this.filename=t,this.load_full_history=g(this.load_full_history,this),this.hide=g(this.hide,this),this.show=g(this.show,this),this.mount=g(this.mount,this),this.process_view=g(this.process_view,this),this.resize_diff_slider=g(this.resize_diff_slider,this),this.render_diff_slider=g(this.render_diff_slider,this),this.resize_slider=g(this.resize_slider,this),this.render_slider=g(this.render_slider,this),this.update_buttons=g(this.update_buttons,this),this.goto_diff=g(this.goto_diff,this),this.goto_revision=g(this.goto_revision,this),this.set_doc_diff=g(this.set_doc_diff,this),this.set_doc=g(this.set_doc,this),this.diff_mode=g(this.diff_mode,this),this.init_slider=g(this.init_slider,this),this.init_view_doc=g(this.init_view_doc,this),this.disconnect_from_session=g(this.disconnect_from_session,this),this.remove=g(this.remove,this),this.close=g(this.close,this),this.init_ui=g(this.init_ui,this),this.init_syncstring=g(this.init_syncstring,this),this.init_paths=g(this.init_paths,this),null!=window.smc&&(window.h=this),n.__super__.constructor.call(this,this.project_id,this.filename),this.init_paths(),this.element=m.find(".salvus-editor-history").clone(),r.series([function(e){return function(t){return e.init_syncstring(t)}}(this),function(e){return function(t){return e.init_view_doc(o,t)}}(this)],function(e){return function(t){return t?alert_message({type:"error",message:"Failed to open history document -- "+t}):(e.init_slider(),e.init_ui())}}(this))}return v(n,e),n.prototype.jupyter_classic=function(){var e;return null!=this._jupyter_classic?this._jupyter_classic:this._jupyter_classic=!!(null!=(e=u.getStore("account"))?e.getIn(["editor_settings","jupyter_classic"]):void 0)},n.prototype.init_paths=function(){var e;if(e=c.path_split(this.filename),this._path=e.tail.slice(1,e.tail.length-13),this._open_file_path=this._path,e.head?this._open_file_path=e.head+"/"+this._path:this._open_file_path=this._path,this.ext=c.filename_extension(this._path),"ipynb"===this.ext&&(this.jupyter_classic()?this._path="."+this._path+t(346).IPYTHON_SYNCFILE_EXTENSION:this._path=c.meta_file(this._path,"jupyter2")),e.head)return this._path=e.head+"/"+this._path},n.prototype.init_syncstring=function(e){return h.open_existing_sync_document({project_id:this.project_id,path:this._path,cb:function(t){return function(n,r){return n?"function"==typeof e?e(n):void 0:(t.syncstring=r,t.syncstring.once("connected",e))}}(this)})},n.prototype.init_ui=function(){return this.render_slider(),this.render_diff_slider(),this.syncstring.on("change",function(e){return function(){return e._diff_mode?e.resize_diff_slider():e.resize_slider()}}(this)),this.syncstring.has_full_history()?this.load_all.hide():this.load_all.show(),this.syncstring.wait_until_read_only_known(function(e){return function(t){if(!e.syncstring.get_read_only())return e.element.find('a[href="#revert"]').show()}}(this))},n.prototype.close=function(){return this.remove()},n.prototype.remove=function(){var e,t;return null!=(e=this.syncstring)&&e.close(),null!=(t=this.view_doc)&&"function"==typeof t.remove?t.remove():void 0},n.prototype.disconnect_from_session=function(){return this.close()},n.prototype.init_view_doc=function(e,t){var n,r;switch(e.mode="",e.read_only=!0,this.ext){case"ipynb":this.jupyter_classic()?(this.view_doc=s.jupyter_notebook(this,this._open_file_path,e).data("jupyter_notebook"),this.element.find('a[href="#show-diff"]').hide()):(this.view_doc=a(this.syncstring),this.diff_doc=i(this.project_id,this.filename,e));break;case"tasks":this.view_doc=f.task_list(void 0,void 0,{viewer:!0}).data("task_list"),this.diff_doc=i(this.project_id,this.filename,e);break;default:this.view_doc=i(this.project_id,this.filename,e)}return"course"===(r=this.ext)||"sage-chat"===r?(this.element.find(".salvus-editor-history-no-viewer").show(),this.top_elt=this.element.find(".salvus-editor-history-no-viewer")):this.top_elt=this.element.find(".salvus-editor-history-sliders"),this.element.find(".salvus-editor-history-history_editor").append(this.view_doc.element),"sagews"===this.ext&&(n={allow_javascript_eval:!1,static_viewer:!0,read_only:!0},this.worksheet=new p.SynchronizedWorksheet(this.view_doc,n)),"ipynb"===this.ext&&this.jupyter_classic()?(this.view_doc.once("ready",function(e){return function(){return e.view_doc.element.find(".smc-jupyter-notebook-buttons").hide(),e.show(),t()}}(this)),this.view_doc.once("failed",function(e){return function(){return t("failed")}}(this))):(this.show(),t()),null!=this.diff_doc?this.diff_doc:this.diff_doc=this.view_doc},n.prototype.init_slider=function(){var e,t,n,r,i;for(this.slider=this.element.find(".salvus-editor-history-slider"),this.forward_button=this.element.find('a[href="#forward"]'),this.back_button=this.element.find('a[href="#back"]'),this.load_all=this.element.find('a[href="#all"]'),i=[this.view_doc,this.diff_doc],t=0,n=i.length;t<n;t++)e=i[t],null!=e&&(e.element.find(".salvus-editor-save-group").hide(),e.element.find(".salvus-editor-chat-title").hide(),e.element.find(".smc-editor-file-info-dropdown").hide());return this.slider.show(),this.load_all.click(function(e){return function(){return e.load_full_history(function(t){if(!t)return e.load_all.hide()})}}(this)),this.forward_button.click(function(e){return function(){return!e.forward_button.hasClass("disabled")&&(e._diff_mode?e.set_doc_diff.apply(e,e.goto_diff(e.revision_num1+1,e.revision_num+1)):e.set_doc(e.goto_revision(e.revision_num+1)),!1)}}(this)),this.back_button.click(function(e){return function(){return!e.back_button.hasClass("disabled")&&(e._diff_mode?e.set_doc_diff.apply(e,e.goto_diff(e.revision_num1-1,e.revision_num-1)):e.set_doc(e.goto_revision(e.revision_num-1)),!1)}}(this)),r=function(e){return function(){return u.getProjectActions(e.project_id).open_file({path:e._open_file_path,foreground:!0})}}(this),this.element.find('a[href="#file"]').click(r),this.element.find('a[href="#revert"]').click(function(e){return function(){var t,n,i;if(null!=e.revision_num&&(i=null!=(t=e.syncstring)&&null!=(n=t.all_versions())?n[e.revision_num]:void 0,null!=i))return e.syncstring.revert(i),e.syncstring.save(),r(),e.syncstring.emit("change")}}(this)),this.diff_slider=this.element.find(".salvus-editor-history-diff-slider"),this.element.find('a[href="#show-diff"]').click(function(e){return function(){return e.diff_mode(!0),!1}}(this)),this.element.find('a[href="#hide-diff"]').click(function(e){return function(){return e.diff_mode(!1),!1}}(this))},n.prototype.diff_mode=function(e){var t,n,r,i,o,s,a,l,c,u;if(this._diff_mode=e,e){for(this.view_doc!==this.diff_doc&&(this.element.find(".salvus-editor-history-history_editor").empty().append(this.diff_doc.element),"function"==typeof(t=this.diff_doc).show&&t.show()),this.element.find('a[href="#hide-diff"]').show(),this.element.find('a[href="#show-diff"]').hide(),this.element.find(".salvus-editor-history-diff-mode").show(),this.diff_slider.show(),this.slider.hide(),this.set_doc_diff.apply(this,this.goto_diff()),l=this.diff_doc.codemirrors(),u=[],i=0,s=l.length;i<s;i++)r=l[i],null==this._non_diff_theme&&(this._non_diff_theme=r.getOption("theme")),u.push(r.setOption("theme",""));return u}for(this.view_doc!==this.diff_doc&&(this.element.find(".salvus-editor-history-history_editor").empty().append(this.view_doc.element),"function"==typeof(n=this.view_doc).show&&n.show()),c=this.diff_doc.codemirrors(),o=0,a=c.length;o<a;o++)r=c[o],r.setOption("lineNumbers",!0),r.setOption("gutters",[]),null!=this._non_diff_theme&&r.setOption("theme",this._non_diff_theme),r.setValue(""),r.setValue(this.syncstring.version(this.goto_revision(this.revision_num)).to_str());return this.element.find('a[href="#hide-diff"]').hide(),this.element.find('a[href="#show-diff"]').show(),this.element.find(".salvus-editor-history-diff-mode").hide(),this.diff_slider.hide(),this.slider.show(),this.set_doc(this.goto_revision())},n.prototype.set_doc=function(e){var t;if(null!=e){if("ipynb"!==this.ext||this.jupyter_classic())switch(t=this.syncstring.version(e).to_str(),this.ext){case"ipynb":this.view_doc.dom.set(t);break;case"tasks":this.view_doc.set_value(t);break;default:this.view_doc.codemirror.setValueNoJump(t)}else this.view_doc.set_version(e);return this.process_view()}},n.prototype.set_doc_diff=function(e,t){var n,r,i,o,s,a,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q,Z,X,ee,te,ne,re,ie,oe,se,ae,le,ce;if(null!=this.syncstring){for("ipynb"!==this.ext||this.jupyter_classic()?(oe=this.syncstring.version(e).to_str(),se=this.syncstring.version(t).to_str()):(oe=this.view_doc.to_str(e),se=this.view_doc.to_str(t)),P=l(oe,se),L=P.patches,X=P.to_line,j=[],ee=[],S=[],Q={},s=[],m=void 0,C=0,p=0,_=L.length;p<_;p++){for(le=L[p],T=le.start1,O=le.start2,T+=C,C+=le.length1-le.length2,F=le.diffs,f=0,g=F.length;f<g;f++)for(ce=F[f],U=ce[1],M=0,v=U.length;M<v;M++){if(o=U[M],ce[0]===-1)T+=1,S.push([T,""]);else if(1===ce[0])O+=1,S.push(["",O]);else{if(T+=1,O+=1,h=T+"-"+O,Q[h])continue;S.push([T,O]),Q[h]=!0}j.push(X[o]),ee.push(ce[0])}s.push(j.length-1)}for(V=j.join("\n"),E=function(e,t){return $("<span class='smc-history-diff-number'>"+S[e][t]+"</span>")[0]},W=this.diff_doc.codemirrors(),I=0,y=W.length;I<y;I++){for(a=W[I],a.setValueNoJump(V),a.setOption("lineNumbers",!1),a.setOption("gutters",["smc-history-diff-gutter1","smc-history-diff-gutter2"]),d=D=0,H=ee.length;0<=H?D<H:D>H;d=0<=H?++D:--D)if(ee[d]===-1){for(K=["wrap","gutter"],z=0,b=K.length;z<b;z++)Z=K[z],a.addLineClass(d,Z,"smc-history-diff-"+Z+"-delete"),a.removeLineClass(d,Z,"smc-history-diff-"+Z+"-insert");a.setGutterMarker(d,"smc-history-diff-gutter1",E(d,0))}else if(1===ee[d]){for(G=["wrap","gutter"],R=0,w=G.length;R<w;R++)Z=G[R],a.addLineClass(d,Z,"smc-history-diff-"+Z+"-insert"),a.removeLineClass(d,Z,"smc-history-diff-"+Z+"-delete");a.setGutterMarker(d,"smc-history-diff-gutter2",E(d,1))}else{for(Y=["wrap","gutter"],te=0,x=Y.length;te<x;te++)Z=Y[te],a.removeLineClass(d,Z),a.removeLineClass(d,Z);a.setGutterMarker(d,"smc-history-diff-gutter1",E(d,0)),a.setGutterMarker(d,"smc-history-diff-gutter2",E(d,1))}for(ie=0,k=s.length;ie<k;ie++)d=s[ie],a.addLineClass(d,"wrap","smc-history-diff-wrap-divide")}for(i={},J=this.syncstring.versions(),ae=0,A=J.length;ae<A;ae++)Z=J[ae],Z>e&&Z<=t&&(i[this.syncstring.account_id(Z)]=!0);re=[];for(r in i)n=i[r],N=r===this.project_id?"Project: "+(null!=(B=u.getStore("projects"))?B.get_title(r):void 0):null!=(q=u.getStore("users"))?q.get_name(r):void 0,null!=N&&re.push(c.trunc_middle(N,25).trim());return re.length>0?(re.sort(function(e,t){return c.cmp(e.toLowerCase(),t.toLowerCase())}),ne=re.join(", ")):ne="",this.element.find(".salvus-editor-history-revision-user").text(ne),this.process_view()}},n.prototype.goto_revision=function(e){var t,n,r,i,o,s,a,l,d,p;if(null==e&&(e=this.revision_num),null!=e&&(p=null!=(r=this.syncstring)?r.all_versions():void 0,null!=p&&(a=p[e],null==a&&(e=this.length-1,a=p[e]),this.revision_num=e,null!=a)))return this.slider.slider("option","value",this.revision_num),this.update_buttons(),s=a.toLocaleString(),this.element.find(".salvus-editor-history-revision-time").text($.timeago(s)).attr("title",s),this.element.find(".salvus-editor-history-revision-number").text(", revision "+(e+1)+" (of "+this.length+")"),t=this.syncstring.account_id(a),l=this.syncstring.time_sent(a),null!=l&&Math.abs(l-a)<6e4&&(l=void 0),n=t===this.project_id?"Project: "+(null!=(i=u.getStore("projects"))?i.get_title(t):void 0):null!=(o=u.getStore("users"))?o.get_name(t):void 0,d=null!=n?c.trunc_middle(n,50):"",null!=l&&(d+="  (OFFLINE WARNING: sent "+$.timeago(l)+") "),this.element.find(".salvus-editor-history-revision-user").text(d),a},n.prototype.goto_diff=function(e,t){var n,r,i,o,s,a,l;if(null==t&&(t=this.revision_num),null!=t&&(null==e&&(e=null!=(n=this.revision_num1)?n:Math.max(0,Math.floor(t/2))),l=null!=(r=this.syncstring)?r.all_versions():void 0,null!=l&&(s=l[e],null==s&&(e=0,s=l[e]),a=l[t],null==a&&(t=this.length-1,a=l[t]),this.revision_num1=e,this.revision_num=t,null!=s&&null!=a)))return this.diff_slider.slider("option","values",[e,t]),this.update_buttons(),i=s.toLocaleString(),this.element.find(".salvus-editor-history-revision-time").text($.timeago(i)).attr("title",i),o=a.toLocaleString(),this.element.find(".salvus-editor-history-revision-time2").text($.timeago(o)).attr("title",o),this.element.find(".salvus-editor-history-revision-number").text(", revisions "+(e+1)+" to "+(t+1)+" (of "+this.length+")"),[s,a]},n.prototype.update_buttons=function(){return 0===this.revision_num?this.back_button.addClass("disabled"):this.back_button.removeClass("disabled"),this.revision_num===this.length-1?this.forward_button.addClass("disabled"):this.forward_button.removeClass("disabled")},n.prototype.render_slider=function(){var e,n,r;if(null!=this.syncstring)return this.length=this.syncstring.all_versions().length,this.revision_num=this.length-1,""!==this.ext&&null!=(null!=(e=t(40).file_associations[this.ext])?e.opts.mode:void 0)&&null!=(n=this.view_doc.codemirror)&&n.setOption("mode",t(40).file_associations[this.ext].opts.mode),r=_.debounce(function(e){return function(t){return e.set_doc(t)}}(this),150),this.slider.slider({animate:!1,min:0,max:this.length-1,step:1,value:this.revision_num,slide:function(e){return function(t,n){return r(e.goto_revision(n.value))}}(this)}),this.set_doc(this.goto_revision(this.revision_num))},n.prototype.resize_slider=function(){var e;if(null!=this.syncstring&&(e=this.syncstring.all_versions().length,e!==this.length))return this.length=e,this.slider.slider({max:this.length-1}),this.update_buttons(),this.goto_revision()},n.prototype.render_diff_slider=function(){var e;if(null!=this.syncstring)return this.length=this.syncstring.all_versions().length,this.revision_num=this.length-1,e=_.debounce(function(e){return function(t){if(null!=t)return e.set_doc_diff(t[0],t[1])}}(this),150),this.diff_slider.slider({animate:!1,min:0,max:this.length-1,step:1,values:[Math.max(Math.floor(this.revision_num/2),0),this.revision_num],range:!0,slide:function(t){return function(n,r){return r.values[0]>=r.values[1]?(r.values[0]=Math.max(0,r.values[1]-1),setTimeout(function(){return t.diff_slider.slider({values:r.values})},200)):e(t.goto_diff(r.values[0],r.values[1]))}}(this)})},n.prototype.resize_diff_slider=function(){var e;if(null!=this.syncstring&&(e=this.syncstring.all_versions().length,e!==this.length))return this.length=e,this.diff_slider.slider({max:this.length-1}),this.goto_diff()},n.prototype.process_view=function(){if("sagews"===this.ext)return this.worksheet.process_sage_updates()},n.prototype.mount=function(){return this.mounted||($(document.body).append(this.element),this.mounted=!0),this.mounted},n.prototype.show=function(){var e;if(this.is_active()&&null!=this.element&&null!=this.view_doc)return this.element.show(),this.view_doc.show(),"sagews"===this.ext&&null!=(e=this.worksheet)?e.process_sage_updates():void 0},n.prototype.hide=function(){var e;return null!=(e=this.view_doc)?e.hide():void 0},n.prototype.load_full_history=function(e){var t;if(null!=this.syncstring)return t=this.syncstring.all_versions().length,this.syncstring.load_full_history(function(n){return function(r){var i;return r?"function"==typeof e?e(r):void 0:(n._diff_mode?n.resize_diff_slider():n.resize_slider(),null!=n.revision_num&&(i=n.syncstring.all_versions().length-t,n.goto_revision(n.revision_num+i)),"function"==typeof e?e():void 0)}}(this))},n}(n),o=t(73).dmp,l=function(e,t){var n,r;return r=new c.StringCharMapping,n={patches:o.patch_make(r.to_string(e.split("\n")),r.to_string(t.split("\n"))),to_line:r._to_string}}},function(e,exports,t){var $,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b=function(e,t){return function(){return e.apply(t,arguments)}},w=function(e,t){function n(){this.constructor=e}for(var r in t)x.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},x={}.hasOwnProperty;$=window.$,l=t(31),y=t(23),d=t(9),p=t(30),c=d.defaults,_=d.required,a=t(36).alert_message,m=t(12).redux,u=t(40),h=t(352),f=t(189).project_tasks,g=t(19).salvus_client,v=$("#salvus-editor-templates"),o=RegExp("\\\\documentclass[^}]*}[^]*?\\\\begin{document}[^]*?\\\\end{document}","g"),n={ignore_invalid_latex:"iil",split_pos:"split_pos",config:"conf",render_preview:"rp"},r=10,i=50,s={delay:{show:500,hide:100}},exports.LatexEditor=function(e){function f(e,t,r,i){var o,a,l,c,p,m,_,g,y,w,x;for(this.project_id=e,this.filename=t,this.forward_search=b(this.forward_search,this),this.inverse_search=b(this.inverse_search,this),this._inverse_search=b(this._inverse_search,this),this.ignore_invalid_latex=b(this.ignore_invalid_latex,this),this.invalid_latex=b(this.invalid_latex,this),this.toggle_preview=b(this.toggle_preview,this),this.set_toggle_preview_state=b(this.set_toggle_preview_state,this),this.download_pdf=b(this.download_pdf,this),this.get_rnw_concordance=b(this.get_rnw_concordance,this),this.rnw_concordance=b(this.rnw_concordance,this),this.render_error_message=b(this.render_error_message,this),this._show_error_in_preview=b(this._show_error_in_preview,this),this._show_error_in_file=b(this._show_error_in_file,this),this._render_inline_error=b(this._render_inline_error,this),this._reset_inline_errors=b(this._reset_inline_errors,this),this._render_error_page=b(this._render_error_page,this),this.render_error_page=b(this.render_error_page,this),this.run_latex=b(this.run_latex,this),this.show_page=b(this.show_page,this),this.has_unsaved_changes=b(this.has_unsaved_changes,this),this.focus=b(this.focus,this),this._show=b(this._show,this),this._set=b(this._set,this),this._get=b(this._get,this),this.update_preview=b(this.update_preview,this),this.save=b(this.save,this),this.click_save_button=b(this.click_save_button,this),this.get_resolution=b(this.get_resolution,this),this.set_resolution=b(this.set_resolution,this),this._init_buttons=b(this._init_buttons,this),this.remove=b(this.remove,this),this.action_key=b(this.action_key,this),this._passive_forward_search=b(this._passive_forward_search,this),this._passive_inverse_search=b(this._passive_inverse_search,this),this._pause_passive_search=b(this._pause_passive_search,this),this.save_conf_doc=b(this.save_conf_doc,this),this.load_conf_doc=b(this.load_conf_doc,this),this.set_conf_doc=b(this.set_conf_doc,this),this.save_conf=b(this.save_conf,this),this.load_conf=b(this.load_conf,this),this.set_conf=b(this.set_conf,this),this.set_dragbar_position=b(this.set_dragbar_position,this),this.init_draggable_split=b(this.init_draggable_split,this),this.spell_check=b(this.spell_check,this),this.cms=b(this.cms,this),f.__super__.constructor.call(this,this.project_id,this.filename),i.mode="stex2",this.element=v.find(".salvus-editor-latex").clone(),this._pages={},this._rnw_concordance=null,i.latex_editor=!0,this.latex_editor=u.codemirror_session_editor(this.project_id,this.filename,i),this._pages.latex_editor=this.latex_editor,this.element.find(".salvus-editor-latex-latex_editor").append(this.latex_editor.element),this.element.find(".salvus-editor-codeedit-buttonbar-mode").remove(),this.latex_editor.action_key=this.action_key,this.element.find(".salvus-editor-latex-buttons").show(),c=this.element.find(".salvus-editor-latex-buttonbar"),c.show(),this.latex_editor.on("saved",function(e){return function(){return e.update_preview(function(){var t;if("pdf-preview"===e._current_page)return null!=(t=e.preview_embed)?t.update():void 0}),e.spell_check()}}(this)),this.latex_editor.syncdoc.on("connect",function(e){return function(){return e.preview.zoom_width=e.load_conf().zoom_width,e.update_preview(),e.spell_check()}}(this)),this.latex_editor.print=function(e){return function(){var t;return t=d.change_filename_extension(e.filename,"pdf"),h.Printer(e,t).print(),!1}}(this),x=d.path_split(this.filename),this._path=x.head,this._target=x.tail,m=this.filename.length,this.preview=new u.PDF_Preview(this.project_id,this.filename,void 0,{resolution:this.get_resolution()}),this.element.find(".salvus-editor-latex-png-preview").append(this.preview.element),this._pages["png-preview"]=this.preview,this.preview.on("shift-click",function(e){return function(t){return e._inverse_search(t)}}(this)),$.browser.firefox||(_=d.change_filename_extension(this.filename,"pdf"),this.preview_embed=new u.PDF_PreviewEmbed(this.project_id,_,void 0,{}),this.preview_embed.element.find(".salvus-editor-codemirror-button-row").remove(),this.element.find(".salvus-editor-latex-pdf-preview").append(this.preview_embed.element),this._pages["pdf-preview"]=this.preview_embed),this.log=this.element.find(".salvus-editor-latex-log"),this.log.find("a").tooltip(s),this._pages.log=this.log,this.log_input=this.log.find("input"),this.log_input.tooltip(s),w=function(e){return function(){return e.set_conf_doc({latex_command:e.log_input.val()}),e.save()}}(this),this.log_input.keyup(function(e){return function(e){if(13===e.keyCode)return w()}}(this)),this.log_input.on("blur",w),a=this.element.find(".smc-editor-latex-log-cmd .dropdown-menu"),a.on("click","li",function(e){return function(t){var n,r,i;return t.preventDefault(),r=null!=(i=t.target.hash)?i:"#default",n=e.preview.pdflatex.default_tex_command(r.slice(1)),e.log_input.val(n),e.set_conf_doc({latex_command:n}),e.save(),!0}}(this)),g=this.cms(),l=0,p=g.length;l<p;l++)o=g[l],o._smc_inline_errors={};this.element.on("blur",function(){return $('[data-toggle="popover"]').popover("hide")}),this.errors=this.element.find(".salvus-editor-latex-errors"),this._pages.errors=this.errors,this._error_message_template=this.element.find(".salvus-editor-latex-mesg-template"),this._init_buttons(),this.init_draggable_split(),this._render_preview=null==(y=this.local_storage(n.render_preview))||y,this.set_toggle_preview_state(this._render_preview)}return w(f,e),f.prototype.cms=function(){return this.latex_editor.codemirrors()},f.prototype.spell_check=function(e){return this.preview.pdflatex.spell_check({lang:this.load_conf_doc().lang,cb:function(t){return function(n,r){var i,o,s,a,l;if(n)return"function"==typeof e?e(n):void 0;for(a=t.cms(),l=[],o=0,s=a.length;o<s;o++)i=a[o],l.push(i.spellcheck_highlight(r));return l}}(this)})},f.prototype.init_draggable_split=function(){var e,t;return this._split_pos=this.local_storage(n.split_pos),this._dragbar=e=this.element.find(".salvus-editor-latex-resize-bar"),this.set_dragbar_position(),t=function(t){return function(){var r,i,o;return p.drag_stop_iframe_enable(),r=t.element.offset().left,o=t.element.width(),i=e.offset().left,t._split_pos=(i-r)/o,t.local_storage(n.split_pos,t._split_pos),e.css({left:0}),t.set_dragbar_position()}}(this),e.draggable({axis:"x",containment:this.element,zIndex:10,stop:t,start:p.drag_start_iframe_disable})},f.prototype.set_dragbar_position=function(){var e;return null==this._split_pos&&(this._split_pos=null!=(e=this.local_storage(n.split_pos))?e:.5),this._split_pos=Math.max(u.MIN_SPLIT,Math.min(u.MAX_SPLIT,this._split_pos)),this.element.find(".salvus-editor-latex-latex_editor").css("flex-basis",100*this._split_pos+"%")},f.prototype.set_conf=function(e){var t,n,r;t=this.load_conf();for(n in e)r=e[n],t[n]=r;return this.save_conf(t)},f.prototype.load_conf=function(){var e;return e=this.local_storage(n.config),null==e&&(e={}),e},f.prototype.save_conf=function(e){return this.local_storage(n.config,e)},f.prototype.set_conf_doc=function(e){var t,n,r;t=this.load_conf_doc();for(n in e)r=e[n],t[n]=r;return this.save_conf_doc(t)},f.prototype.load_conf_doc=function(){var e,t,n,r,i,o;if(null==this.latex_editor.codemirror)return{};if(t=this.latex_editor.codemirror.getValue(),r=t.indexOf("%sagemathcloud="),r===-1)return{};i=t.indexOf("=",r),o=t.indexOf("\n",r),o===-1&&(o=t.length);try{e=d.from_json(t.slice(i+1,o))}catch(t){n=t,e={}}return e},f.prototype.save_conf_doc=function(e){var t,n,r,i,o,s,a,l,c;if(t=this.latex_editor.codemirror,null!=t){if(n=t.getValue(),r=n.indexOf("%sagemathcloud="),o="%sagemathcloud="+d.to_json(e),r!==-1){for(a=i=0,l=t.doc.lastLine();0<=l?i<=l:i>=l;a=0<=l?++i:--i)if(c=t.getLine(a),c.indexOf("%sagemathcloud=")!==-1){s=a;break}t.replaceRange(o+"\n",{line:s,ch:0},{line:s+1,ch:0})}else{if(0===d.len(e))return;t.replaceRange("\n"+o,{line:t.doc.lastLine()+1,ch:0})}return this.latex_editor.syncdoc.sync()}},f.prototype._pause_passive_search=function(e){var t;return this._passive_forward_search_disabled=!0,this._passive_inverse_search_disabled=!0,t=function(e){return function(){return e._passive_inverse_search_disabled=!1,e._passive_forward_search_disabled=!1}}(this),setTimeout(t,3e3)},f.prototype._passive_inverse_search=function(e){return this._passive_inverse_search_disabled?void("function"==typeof e&&e()):(this._pause_passive_search(),this.inverse_search({active:!1,cb:function(t){return function(t){return"function"==typeof e?e():void 0}}(this)}))},f.prototype._passive_forward_search=function(e){return this._passive_forward_search_disabled?void("function"==typeof e&&e()):this.forward_search({active:!1,
cb:function(t){return function(n){return t._pause_passive_search(),"function"==typeof e?e():void 0}}(this)})},f.prototype.action_key=function(){return this.show_page("png-preview"),this.forward_search({active:!0})},f.prototype.remove=function(){var e;return this.latex_editor.remove(),this.element.remove(),this.preview.remove(),null!=(e=this.preview_embed)?e.remove():void 0},f.prototype._init_buttons=function(){var e,t,n,r,i;return this.element.find("a").tooltip(s),this.element.find('a[href="#forward-search"]').click(function(e){return function(){return e.show_page("png-preview"),e.forward_search({active:!0}),!1}}(this)),this.element.find('a[href="#inverse-search"]').click(function(e){return function(){return e.show_page("png-preview"),e.inverse_search({active:!0}),!1}}(this)),this.element.find('a[href="#png-preview"]').click(function(e){return function(){return e.show_page("png-preview"),e.preview.focus(),e.save(),!1}}(this)),this.element.find('a[href="#zoom-preview-out"]').click(function(e){return function(){return e.preview.zoom({delta:-5}),e.set_conf({zoom_width:e.preview.zoom_width}),!1}}(this)),this.element.find('a[href="#zoom-preview-in"]').click(function(e){return function(){return e.preview.zoom({delta:5}),e.set_conf({zoom_width:e.preview.zoom_width}),!1}}(this)),this.element.find('a[href="#zoom-preview-fullpage"]').click(function(e){return function(){return e.preview.zoom({width:100}),e.set_conf({zoom_width:e.preview.zoom_width}),!1}}(this)),this.element.find('a[href="#zoom-preview-width"]').click(function(e){return function(){return e.preview.zoom({width:160}),e.set_conf({zoom_width:e.preview.zoom_width}),!1}}(this)),this.element.find('a[href="#pdf-preview"]').click(function(e){return function(){return $.browser.firefox?e.download_pdf():(e.show_page("pdf-preview"),e.preview_embed.focus(),e.preview_embed.update()),!1}}(this)),this.element.find('a[href="#log"]').click(function(e){return function(){var t;return e.show_page("log"),t=e.log.find("textarea"),t.scrollTop(t[0].scrollHeight),!1}}(this)),this.element.find('a[href="#errors"]').click(function(e){return function(){return e.show_page("errors"),!1}}(this)),this.number_of_errors=this.element.find('a[href="#errors"]').find(".salvus-latex-errors-counter"),this.number_of_warnings=this.element.find('a[href="#errors"]').find(".salvus-latex-warnings-counter"),this.element.find('a[href="#pdf-download"]').click(function(e){return function(){return e.download_pdf(),!1}}(this)),this.element.find('a[href="#preview-resolution"]').click(function(e){return function(){return e.set_resolution(),!1}}(this)),this._toggle_preview_button=this.element.find('a[href="#toggle-preview"]'),this._toggle_preview_button.click(function(e){return function(){return e.toggle_preview(),!1}}(this)),i=this.element.find('a[href="#latex-trash-aux"]'),i.click(function(e){return function(){var t,n;return i.icon_spin(!0,t=!0),n=e.log.find("textarea"),n.text(""),e.preview.pdflatex.trash_aux_files(function(r,o){return r?n.text(r):n.text(o),e.preview.pdflatex.last_latex_log="",e.render_error_page(),i.icon_spin(!1,t=!0)}),!1}}(this)),r=this.element.find('a[href="#latex-sage"]'),r.click(function(e){return function(){var t;return e.log.find("textarea").text("Running Sage..."),r.icon_spin(!0,t=!0),e.preview.pdflatex._run_sage(void 0,function(n,i){return r.icon_spin(!1,t=!0),e.log.find("textarea").text(i)}),!1}}(this)),t=this.element.find('a[href="#latex-latex"]'),t.click(function(e){return function(){var n;return e.log.find("textarea").text("Running Latex..."),t.icon_spin(!0,n=!0),e.preview.pdflatex._run_latex(e.load_conf_doc().latex_command,function(r,i){return e.log.find("textarea").text(i),e.render_error_page(),t.icon_spin(!1,n=!0)}),!1}}(this)),n=this.element.find('a[href="#latex-recompile"]'),n.click(function(e){return function(){var t,r;return r=e.log.find("textarea"),r.text("Recompiling ..."),n.icon_spin(!0,t=!0),l.series([function(t){return e.preview.pdflatex.trash_aux_files(function(e,n){return t(e)})},function(t){var n,r;return e.update_preview(t,n=!0,r=!0)}],function(e){return n.icon_spin(!1,t=!0)}),!1}}(this)),e=this.element.find('a[href="#latex-bibtex"]'),e.click(function(t){return function(){var n;return t.log.find("textarea").text("Running Bibtex..."),e.icon_spin(!0,n=!0),t.preview.pdflatex._run_bibtex(function(r,i){return e.icon_spin(!1,n=!0),t.log.find("textarea").text(i)}),!1}}(this))},f.prototype.set_resolution=function(e){var t;if(null==e)return bootbox.prompt("Change preview resolution from "+this.get_resolution()+" dpi to...",function(e){return function(t){if(t)return e.set_resolution(t)}}(this));try{return e=parseInt(e),e<75?e=75:e>600&&(e=600),this.preview.opts.resolution=e,this.set_conf({resolution:e}),this.preview.update()}catch(n){return t=n,a({type:"error",message:"Invalid resolution "+e})}},f.prototype.get_resolution=function(){var e;return null==this.preview?null!=(e=this.load_conf().resolution)?e:150:this.preview.opts.resolution},f.prototype.click_save_button=function(){return this.latex_editor.click_save_button()},f.prototype.save=function(e,t){return null==t&&(t=!1),this.latex_editor.save(function(t){return function(n){if("function"==typeof e&&e(n),!n)return t.update_preview(function(e){var n;if(null==e&&(e=e),"pdf-preview"===t._current_page)return null!=(n=t.preview_embed)?n.update():void 0}),t.spell_check()}}(this))},f.prototype.update_preview=function(e,t,r){var i,s,a,c,u,d,p,h;return null==t&&(t=!1),null==r&&(r=!1),(r||this._render_preview)&&this.latex_editor.syncdoc._fully_loaded?(s=this._get(),null==s?void("function"==typeof e&&e()):t||s!==this._last_update_preview?(u=this.load_conf_doc().latex_command,a=this.preview.pdflatex.filename_tex,i=null==u||u.indexOf(a)>=0,c=null!=(h=this.local_storage(n.ignore_invalid_latex))&&h,c||s.match(o)||!i||r?(this._render_preview&&!r&&this.preview.show_pages(!0),p=this.element.find('a[href="#png-preview"]'),l.series([function(e){return function(t){return e._last_update_preview=s,e.latex_editor.has_unsaved_changes()?e.latex_editor.save(t):t()}}(this),function(e){return function(t){return e.latex_editor.has_uncommitted_changes()&&(delete e._last_update_preview,e.get_rnw_concordance_error=!1),e.run_latex({command:e.load_conf_doc().latex_command,cb:t})}}(this),function(e){return function(t){var n;return r?void t():(p.icon_spin(!0,n=!0),e.preview.update({cb:t}))}}(this)],function(t){return function(n){var i;return r||p.icon_spin(!1,i=!0),n&&delete t._last_update_preview,"function"==typeof e?e(n):void 0}}(this))):(d=this.invalid_latex(a),this.preview.show_message(d),void("function"==typeof e&&e()))):void("function"==typeof e&&e())):void("function"==typeof e&&e())},f.prototype._get=function(){return this.latex_editor._get()},f.prototype._set=function(e){return this.latex_editor._set(e)},f.prototype._show=function(e){return null==e&&(e={}),$.browser.safari&&this.element.make_height_defined(),null==this._show_before?(this.show_page("png-preview"),this._show_before=!0):this.show_page()},f.prototype.focus=function(){var e;return null!=(e=this.latex_editor)?e.focus():void 0},f.prototype.has_unsaved_changes=function(e){var t;return null!=(t=this.latex_editor)?t.has_unsaved_changes(e):void 0},f.prototype.show_page=function(e){var t,n,r,i,o,s,a,l,c,u,d;for(null==e&&(e=this._current_page),this._current_page=e,null==e&&(e="png-preview"),u=["png-preview","pdf-preview","log","errors"],i=0,o=u.length;i<o;i++)a=u[i],this.element.find(".salvus-editor-latex-"+a).hide();for(d=[],l=0,s=u.length;l<s;l++)a=u[l],c=this._pages[a],null!=c&&(r=this.element.find(".salvus-editor-latex-"+a),t=this.element.find('a[href="#'+a+'"]'),a===e?(r.show(),"log"===a?(n=this.load_conf_doc().latex_command,n&&this.log_input.val(n)):"errors"===a?this.render_error_page():c.show(),d.push(t.parent().addClass("active"))):d.push(t.parent().removeClass("active")));return d},f.prototype.run_latex=function(e){var t,n,r,i,o;return null==e&&(e={}),e=c(e,{command:void 0,cb:void 0}),n=this.element.find('a[href="#log"]'),n.icon_spin(!0,r=!0),this._show(),i=this.log.find("textarea"),i.text(""),null==e.command&&(e.command=this.preview.pdflatex.default_tex_command()),this.log_input.val(e.command),t=n.find(".salvus-latex-build-status"),o=function(e){return function(n){return n.start?(t.text(" - "+n.start),i.text(i.text()+"\n\n-----------------------------------------------------\nRunning "+n.start+"...\n\n\n\n")):("latex"===n.end&&e.render_error_page(),t.text(""),i.text(i.text()+"\n"+n.log+"\n")),i.scrollTop(i[0].scrollHeight)}}(this),this.preview.pdflatex.update_pdf({status:o,latex_command:e.command,cb:function(t){return function(i,o){return n.icon_spin(!1,r=!0),t._show(),"function"==typeof e.cb?e.cb():void 0}}(this)})},f.prototype.render_error_page=function(){return l.series([this.get_rnw_concordance,this._render_error_page])},f.prototype._render_error_page=function(e){var n,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M;if(m=this.preview.pdflatex.last_latex_log,null==m)return void e();if(n=t(935).LatexParser,b=new n(m,{ignoreDuplicates:!0}).parse(),b.errors.length?(this.number_of_errors.text("  ("+b.errors.length+")"),this.element.find('a[href="#errors"]').addClass("btn-danger")):(this.number_of_errors.text(""),this.element.find('a[href="#errors"]').removeClass("btn-danger")),l=b.warnings.length+b.typesetting.length,l&&0===b.errors.length?this.number_of_warnings.text("  ("+l+")"):this.number_of_warnings.text(""),this._reset_inline_errors(),"errors"!==this._current_page){for(x=[["error",b.errors],["warning",b.warnings],["typesetting",b.typesetting]],c=0,u=x.length;c<u;c++)for(k=x[c],j=k[0],v=k[1],y=0,d=v.length;y<d;y++)g=v[y],this.render_error_message(g,j,a=!0);return void e()}if(s=this.errors.find(".salvus-latex-errors"),0===b.errors.length)s.html("None");else for(s.html(""),o=0,A=b.errors,w=0,p=A.length;w<p;w++){if(_=A[w],o+=1,o>r){s.append($("<h4>(Not showing "+(b.errors.length-o+1)+" additional errors.)</h4>"));break}s.append(this.render_error_message(_,"error"))}if(s=this.errors.find(".salvus-latex-warnings"),0===b.warnings.length)s.html("None");else for(s.html(""),o=0,C=b.warnings,S=0,h=C.length;S<h;S++){if(_=C[S],o+=1,o>i){s.append($("<h4>(Not showing "+(b.warnings.length-o+1)+" additional warnings.)</h4>"));break}s.append(this.render_error_message(_,"warning"))}if(s=this.errors.find(".salvus-latex-typesetting"),0===b.typesetting.length)s.html("None");else for(s.html(""),o=0,E=b.typesetting,M=0,f=E.length;M<f;M++){if(_=E[M],o+=1,o>i){s.append($("<h4>(Not showing "+(b.typesetting.length-o+1)+" additional typesetting issues.)</h4>"));break}s.append(this.render_error_message(_,"typesetting"))}return e()},f.prototype._reset_inline_errors=function(){var e,t,n,r,i,o,s,a;for($('[data-toggle="popover"]').popover("hide"),o=this.cms(),a=[],t=0,n=o.length;t<n;t++){e=o[t],e.clearGutter("Codemirror-latex-errors"),s=e._smc_inline_errors;for(r in s)i=s[r],e.removeLineClass(i,"background");a.push(e._smc_inline_errors={})}return a},f.prototype._render_inline_error=function(e,t,n,r){var i,o,s,a,l,c,u,d,p,h,f;if(e-=1,"error"===r&&null!=this.latex_editor.codemirror&&!(e in this.latex_editor.codemirror._smc_inline_errors)){for(null!=n&&(o=document.createElement("code"),o.className="smc-latex-inline-error-content",s=n.split(/\r?\n/),s.length>=5&&(s=s.slice(0,4),s.push("[...]")),n=s.join("\n"),o.appendChild(document.createTextNode(n)),n=o.outerHTML),l=$('<i style="color: #d9534f; cursor: pointer;"\nclass="fa fa-exclamation-triangle"\naria-hidden="true"\ndata-container="body"\ndata-toggle="popover"\ndata-placement="right"\ntitle="'+t+'">\n</i>'),p='<div class="popover smc-latex-error-popover" role="tooltip">\n<div class="arrow"></div>\n<h3 class="popover-title"></h3>\n<pre class="popover-content"></pre>\n</div>',l.popover({trigger:"hover",html:!0,content:null!=n?n:"",delay:{show:10,hide:100},template:p}),a={coverGutter:!1,noHScroll:!0},h=this.cms(),f=[],c=0,u=h.length;c<u;c++)i=h[c],i.setGutterMarker(e,"Codemirror-latex-errors",l.get(0)),d=i.addLineClass(e,"background","smc-latex-inline-error-"+r),f.push(i._smc_inline_errors[e]=d);return f}},f.prototype._show_error_in_file=function(e,t){var n;return(n=e.file)?e.line?(n===this.preview.pdflatex.filename_tex||n===this.preview.pdflatex.filename_rnw?this.latex_editor.set_cursor_center_focus({line:e.line-1,ch:0}):(this._path&&(n=this._path+"/"+n),m.getProjectActions(this.project_id).open_file({path:n})),"function"==typeof t?t():void 0):e.page?this._inverse_search({n:e.page,active:!1,x:50,y:50,resolution:this.get_resolution(),cb:t}):(a({type:"error",message:"Unknown location in '"+n+"'."}),void("function"==typeof t&&t())):(a({type:"error",message:"Unable to open unknown file."}),void("function"==typeof t&&t()))},f.prototype._show_error_in_preview=function(e){return this._show_error_in_file(e,function(e){return function(){return e.show_page("png-preview"),e.forward_search({active:!0})}}(this))},f.prototype.render_error_message=function(e,t,n){var r,i,o,s,a,l;if(null==n&&(n=!1),"./"===(null!=(a=e.file)?a.slice(0,2):void 0)&&(e.file=e.file.slice(2)),e.line&&"rnw"===this.preview.pdflatex.ext&&(e.line=this.rnw_concordance(e.line),e.file=this.preview.pdflatex.filename_rnw),!e.line||(l=e.file)!==this.preview.pdflatex.filename_tex&&l!==this.preview.pdflatex.filename_rnw||this._render_inline_error(e.line,e.message,e.content,t),!n){if(!e.line){for(s=e.raw,i=s.lastIndexOf("["),o=i+1;o<s.length&&s[o]>="0"&&s[o]<="9";)o+=1;e.page=s.slice(i+1,o)}return r=this._error_message_template.clone().show(),r.find("a:first").click(function(t){return function(){return t._show_error_in_file(e),!1}}(this)),r.find("a:last").click(function(t){return function(){return t._show_error_in_preview(e),!1}}(this)),r.addClass("salvus-editor-latex-mesg-template-"+e.level),e.line&&r.find(".salvus-latex-mesg-line").text("line "+e.line).data("line",e.line),e.page&&r.find(".salvus-latex-mesg-page").text("page "+e.page).data("page",e.page),e.file&&r.find(".salvus-latex-mesg-file").text(" of "+e.file).data("file",e.file),e.message&&r.find(".salvus-latex-mesg-message").text(e.message),e.content&&r.find(".salvus-latex-mesg-content").show().text(e.content),r}},f.prototype.rnw_concordance=function(e){var t,n;return null==this._rnw_concordance?e:n=null!=(t=this._rnw_concordance[e-1])?t:e},f.prototype.get_rnw_concordance=function(e){var t;return this.get_rnw_concordance_error?void e():"rnw"===this.preview.pdflatex.ext?(t=this.preview.pdflatex.base_filename+"-concordance.tex",this._path&&(t=this._path+"/"+t),g.read_text_file_from_project({project_id:this.project_id,path:t,cb:function(n){return function(r,i){var o,s,a,l,c,u,p,h,f,m,_,g,v;if(null==r&&(r=i.error),r)console.warn("Unable to read concordance file "+t+" -- "+d.to_json(r)),n.get_rnw_concordance_error=!0;else try{for(o=i.content,o=o.split("%").slice(1).join(" ").replace(/\n/g,""),o=o.slice(0,o.indexOf("}")),l=function(){var e,t,n,r;for(n=o.split(/[ ]+/),r=[],e=0,t=n.length;e<t;e++)f=n[e],r.push(parseInt(f));return r}(),h=l[0]-1,_=0,s=[],u=p=1,g=l.length;p<g;u=p+=2)for(c=m=0,v=l[u];0<=v?m<v:m>v;c=0<=v?++m:--m)_+=l[u+1],s.push(_);n._rnw_concordance=s}catch(e){a=e,console.warn("problem reading and processing "+t+":",a),console.trace()}return e()}}(this)})):e()},f.prototype.download_pdf=function(e){return null==e&&(e=!1),m.getProjectActions(this.project_id).download_file({path:d.change_filename_extension(this.filename,"pdf"),print:e})},f.prototype.set_toggle_preview_state=function(e){var t,r;return this.local_storage(n.render_preview,e),this._toggle_preview_button.toggleClass("active",e),this._toggle_preview_button.attr("aria-pressed",e),t=this._toggle_preview_button.find("i"),t.toggleClass("fa-check-square-o",e),t.toggleClass("fa-square-o",!e),e?(this.preview.show_pages(!0),this.preview.update()):(r=$('<div>Preview disabled. Click <a href="#">here</a> to enable.</div>'),r.find("a").click(function(e){return function(){return e.toggle_preview(!0)}}(this)),this.preview.show_message(r))},f.prototype.toggle_preview=function(e){var t,n;return e=this._render_preview=null!=e?e:!this._render_preview,this.set_toggle_preview_state(e),n=function(t){return function(){if(!e)return t.preview.pdflatex.last_latex_log="",t.render_error_page()}}(this),this.save(n,t=e)},f.prototype.invalid_latex=function(e){var t;return t=$("<h2>Invalid LaTeX document</h2>\n<div>\nSorry, it is not possible to render a preview of the document\n<code>"+e+'</code>.\nA minimal LaTeX document must consist of:\n\n<pre>\n\\documentclass{...}  % e.g. \\documentclass{article}\n% preamble ...\n\\begin{document}\n...\n\\end{document}\n</pre>\n\n<div>\nFor more information:\n<a href="https://en.wikibooks.org/wiki/LaTeX/Document_Structure"\n    target="_blank">WikiBooks LaTeX</a>\n</div>\n\n<div style="margin-top: 25px; text-align: center;">\n<a class="btn btn-lg btn-primary" href="#ignore">\n    Ignore this warning and compile\n</a>\n</div>\n</div>'),t.find('a[href="#ignore"]').click(function(e){return function(){return e.ignore_invalid_latex()}}(this)),t},f.prototype.ignore_invalid_latex=function(){var e;return this.local_storage(n.ignore_invalid_latex,!0),this.save(null,e=!0)},f.prototype._inverse_search=function(e){var t,n;return t=e.active,delete e.active,n=e.cb,e.cb=function(e){return function(r,i){return r?t&&a({type:"error",message:"Inverse search error -- "+r}):i.input.toLocaleLowerCase()!==e.filename.toLocaleLowerCase()?t&&m.getProjectActions(e.project_id).open_file({path:i.input}):e.latex_editor.set_cursor_center_focus({line:i.line,ch:0}),"function"==typeof n?n():void 0}}(this),this.preview.pdflatex.inverse_search(e)},f.prototype.inverse_search=function(e){var t,n,r,i,o;return null==e&&(e={}),e=c(e,{active:_,cb:void 0}),r=this.preview.current_page().number,t=this.preview.pdflatex.page(r).element,null==t?void("function"==typeof e.cb&&e.cb("Preview not yet loaded.")):(i=this.preview.page,n=t.find("img")[0].naturalHeight,o=(i.height()/2+i.offset().top-t.offset().top)*n/t.height(),this._inverse_search({n:r,x:0,y:o,resolution:this.preview.pdflatex.page(r).resolution,cb:e.cb}))},f.prototype.forward_search=function(e){var t,n;return null==e&&(e={}),e=c(e,{active:!0,cb:void 0}),t=this.latex_editor.codemirror_with_last_focus,null==t?void("function"==typeof e.cb&&e.cb()):(n=t.getCursor().line+1,this.preview.pdflatex.forward_search({n:n,cb:function(t){return function(n,r){var i,o,s,l,c,u;if(n)e.active&&a({type:"error",message:n});else{if(u=r.y,s=t.preview.pdflatex.page(r.n),c=s.resolution,i=null!=(l=s.element)?l.find("img"):void 0,null==i)return void("function"==typeof e.cb&&e.cb("Page "+r.n+" not yet loaded."));o=i[0].naturalHeight,null==c?u=0:u*=c/72*i.height()/o,t.preview.scroll_into_view({n:r.n,y:u,highlight_line:!0})}return"function"==typeof e.cb?e.cb(n):void 0}}(this)}))},f}(u.FileEditor)},function(e,exports,t){var n,r,i,o,s,a,l;i=t(969)+t(971)+t(975)+t(973)+t(972)+t(968)+t(970)+t(974),$("body").append(i),a=t(12).redux,t(932),t(934),t(924),t(922),s=t(899),r=t(863),l=t(49),n=l.IS_MOBILE,o=l.isMobile,n&&!o.tablet()?s.render():r.render(),$(window).on("beforeunload",a.getActions("page").check_unload),t(803)},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A=function(e,t){return function(){return e.apply(t,arguments)}},C=function(e,t){function n(){this.constructor=e}for(var r in t)E.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},E={}.hasOwnProperty;y=t(12),n=y.Actions,i=y.Store,v=y.redux,b=y.rtypes,s=y.computed,w=t(19).salvus_client,d=t(9),x=t(128).set_url,k=t(202).set_window_title,o=t(36).alert_message,r=function(e){function t(){return this.sign_in=A(this.sign_in,this),this.remove_sign_in_func=A(this.remove_sign_in_func,this),this.set_sign_in_func=A(this.set_sign_in_func,this),this.check_unload=A(this.check_unload,this),this.show_local_storage_warning=A(this.show_local_storage_warning,this),this.show_cookie_warning=A(this.show_cookie_warning,this),this.toggle_fullscreen=A(this.toggle_fullscreen,this),this.set_fullscreen=A(this.set_fullscreen,this),this.set_new_version=A(this.set_new_version,this),this.set_connection_status=A(this.set_connection_status,this),this.set_ping=A(this.set_ping,this),this.toggle_show_file_use=A(this.toggle_show_file_use,this),this.show_connection=A(this.show_connection,this),this.set_active_tab=A(this.set_active_tab,this),this.close_project_tab=A(this.close_project_tab,this),this.clear_ghost_tabs=A(this.clear_ghost_tabs,this),this.add_a_ghost_tab=A(this.add_a_ghost_tab,this),this.clear_all_handlers=A(this.clear_all_handlers,this),this.erase_active_key_handler=A(this.erase_active_key_handler,this),this.unattach_active_key_handler=A(this.unattach_active_key_handler,this),this.set_active_key_handler=A(this.set_active_key_handler,this),t.__super__.constructor.apply(this,arguments)}return C(t,e),t.prototype.set_active_key_handler=function(e){if(null!=e&&($(window).off("keydown",this.active_key_handler),this.active_key_handler=e),null!=this.active_key_handler&&!this.__suppress_key_handlers)return $(window).on("keydown",this.active_key_handler)},t.prototype.unattach_active_key_handler=function(){return $(window).off("keydown",this.active_key_handler)},t.prototype.erase_active_key_handler=function(e){if(null==e||e===this.active_key_handler)return $(window).off("keydown",this.active_key_handler),this.active_key_handler=void 0},t.prototype.clear_all_handlers=function(){return $(window).off("keydown",this.active_key_handler),this.active_key_handler=void 0},t.prototype.add_a_ghost_tab=function(){var e;return e=v.getStore("page").get("num_ghost_tabs"),this.setState({num_ghost_tabs:e+1})},t.prototype.clear_ghost_tabs=function(){return this.setState({num_ghost_tabs:0})},t.prototype.close_project_tab=function(e){var t,n,r,i,o,s,a;if(o=v.getStore("page"),s=v.getStore("projects"),i=s.get("open_projects"),t=o.get("active_top_tab"),n=i.indexOf(e),n!==-1)return a=i.size,e===t&&(r=n===-1||a<=1?"projects":n===a-1?i.get(n-1):i.get(n+1),this.set_active_tab(r)),n===a-1?this.clear_ghost_tabs():this.add_a_ghost_tab(),v.getActions("projects").set_project_closed(e)},t.prototype.set_active_tab=function(e){var t;switch(this.setState({active_top_tab:e}),e){case"projects":return x("/projects"),k("Projects");case"account":return v.getActions("account").push_state(),k("Account");case"about":return x("/help"),k("Help");case void 0:break;default:return null!=(t=v.getProjectActions(e))&&t.push_state(),k("Loading Project"),v.getStore("projects").wait({until:function(t){return function(t){var n;return n=t.getIn(["project_map",e,"title"]),null==n&&(n=t.getIn(["public_project_titles",e])),""===n?"Untitled Project":(null==n&&v.getActions("projects").fetch_public_project_title(e),n)}}(this),timeout:15,cb:function(e){return function(e,t){return k(null!=t?t:"")}}(this)})}},t.prototype.show_connection=function(e){return this.setState({show_connection:e})},t.prototype.toggle_show_file_use=function(){var e;return e=v.getStore("page").get("show_file_use"),e?(this.__suppress_key_handlers=!1,this.set_active_key_handler()):(this.__suppress_key_handlers=!0,this.unattach_active_key_handler()),this.setState({show_file_use:!e})},t.prototype.set_ping=function(e,t){return this.setState({ping:e,avgping:t})},t.prototype.set_connection_status=function(e,t){var n;if("connecting"!==e||t-(null!=(n=v.getStore("page").get("last_status_time"))?n:0)>0)return this.setState({connection_status:e,last_status_time:t})},t.prototype.set_new_version=function(e){return this.setState({new_version:e})},t.prototype.set_fullscreen=function(e){return this.setState({fullscreen:e})},t.prototype.toggle_fullscreen=function(){return this.setState({fullscreen:!v.getStore("page").get("fullscreen")})},t.prototype.show_cookie_warning=function(){return this.setState({cookie_warning:!0})},t.prototype.show_local_storage_warning=function(){return this.setState({local_storage_warning:!0})},t.prototype.check_unload=function(e){var t;if(null!=(t=v.getStore("account"))?t.get_confirm_close():void 0)return"Changes you make may not have been saved."},t.prototype.set_sign_in_func=function(e){return this.sign_in=e},t.prototype.remove_sign_in_func=function(){return this.sign_in=function(e){return function(){return!1}}(this)},t.prototype.sign_in=function(){return!1},t}(n),v.createActions("page",r),v.createStore({name:"page",getInitialState:function(){return{active_top_tab:"account"}},stateTypes:{active_top_tab:b.string,show_connection:b.bool,ping:b.number,avgping:b.number,connection_status:b.string,new_version:b.object,fullscreen:b.bool,cookie_warning:b.bool,local_storage_warning:b.bool,show_file_use:b.bool,num_ghost_tabs:b.number}}),h=[],_=function(){return h.push(+new Date),h=h.slice(-100)},p=function(e){var t,n;return null==e&&(e=10),t=+d.minutes_ago(e),function(){var e,r,i;for(i=[],e=0,r=h.length;e<r;e++)n=h[e],n>t&&i.push(n);return i}().length},m=null,u=[],a=3,l=1,c=60*l*1e3,g=function(){return u.push(+new Date),u=u.slice(-a)},setInterval(g,c),f=function(){return u.length===a&&+d.minutes_ago((a+1)*l)>u[0]},exports.recent_wakeup_from_standby=f,w.on("ping",function(e){var t,n,r;return n=null!=(r=v.getStore("page").get("avgping"))?r:e,e>3*n||n>3*e?n=e:(t=1-Math.exp(-1),n=t*n+(1-t)*e),v.getActions("page").set_ping(e,Math.round(n))}),w.on("connected",function(){return v.getActions("page").set_connection_status("connected",new Date)}),w.on("disconnected",function(e){return _(),v.getActions("page").set_connection_status("disconnected",new Date),v.getActions("page").set_ping(void 0,void 0)}),w.on("connecting",function(){var e,t,n,r,i;if(t=new Date,n=function(){return v.getActions("page").set_connection_status("connecting",t)},window.setTimeout(n,2e3),e=null!=(i=w._num_attempts)?i:1,r=function(t){return h=[],m=+new Date,console.log("ALERT: connection unstable, notification + attempting to fix it -- "+e+" attempts and "+p()+" disconnects"),f()||o(t),w._fix_connection(!0),setTimeout(function(){return h.pop()},500)},console.log("attempt: "+e+" and num_recent_disconnects: "+p()),!(p()>=2||e>=10))return m=null;if(null===m||m<+d.minutes_ago(1)){if(p()>=5||e>=20)return r({type:"error",timeout:10,message:"Your connection is unstable or SMC is temporarily not available."});if(e>=10)return r({type:"info",timeout:10,message:"Your connection could be weak or the SMC service is temporarily unstable. Proceed with caution."})}}),w.on("new_version",function(e){return v.getActions("page").set_new_version(e)})},function(e,exports,t){var $,n,r,i,o,s,a,l,c=function(e,t){return function(){return e.apply(t,arguments)}};$=window.$,o=t(9),r=o.defaults,a=o.required,$.fn.extend({sage_interact:function(e){return e=r(e,{desc:a,execute_code:a,process_output_mesg:a,process_html_output:a,start:void 0,stop:void 0}),this.each(function(){var t,r;return t=$(this),e.elt=t,r=new n(e),t.data("interact",r),r.element})}}),l=$(".salvus-interact-templates"),n=function(){function e(e){this.initialize_interact=c(this.initialize_interact,this),this.del_interact_var=c(this.del_interact_var,this),this.set_interact_var=c(this.set_interact_var,this),this.opts=r(e,{elt:a,desc:a,execute_code:a,process_output_mesg:a,process_html_output:a,start:void 0,stop:void 0}),this.element=l.find(".salvus-interact-container").clone(),this.element.attr("id",e.desc.id).data("interact",this),this.opts.elt.replaceWith(this.element),this.initialize_interact()}return e.prototype.set_interact_var=function(e){var t,n,r,o,s,a,l,c,u,d,p,h;if(h=e.var,a=this.element.find(".salvus-interact-var-"+h),a.length>0){for(d=[],l=0,c=a.length;l<c;l++)t=a[l],s=$(t).find(":first-child"),s.length>0?d.push(s.data("set")(e.default)):(u=i(e,this.element.data("update"),this.opts.process_html_output),$(t).append(u),d.push("function"==typeof(n=u.data("refresh"))?n():void 0));return d}if(p=$("<div class='row'></div>"),o=$("<div class='salvus-interact-var-"+h+"'></div>"),p.append(o),u=i(e,this.element.data("update"),this.opts.process_html_output),null!=u)return o.append(u),this.element.append(p),"function"==typeof(r=u.data("refresh"))?r():void 0},e.prototype.del_interact_var=function(e){return this.element.find(".salvus-interact-var-"+e).remove()},e.prototype.initialize_interact=function(){var e,t,n,r,o,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O;for(c=this.opts.desc,c.width=s(c.width),m={},C=c.layout,p=0,_=C.length;p<_;p++){if(S=C[p],d=$("<div class='row'>"),0===S.length)d.append($("<br>"));else for(h=0,g=S.length;h<g;h++)O=S[h],t=O[0],j=O[1],f=O[2],null!=f&&(m[t]=f),M=$("<div class='col-sm-"+j+" salvus-interact-var-"+t+"'></div>"),d.append(M);this.element.append(d)}for(A=this.element.find(".salvus-interact-var-"),u=!0,T=function(e){return function(t){var n;return A.html(""),u=!1,n=!0,e.opts.execute_code({code:'salvus._execute_interact(salvus.data["id"], salvus.data["vals"])',data:{id:c.id,vals:t},preparse:!1,cb:function(t){var r,i;if(n&&("function"==typeof(r=e.opts).start&&r.start(),n=!1),e.opts.process_output_mesg({mesg:t,element:A}),t.done)return"function"==typeof(i=e.opts).stop&&i.stop(),u=!0}})}}(this),l=[],E=c.controls,w=0,v=E.length;w<v;w++)for(a=E[w],o=this.element.find(".salvus-interact-var-"+a.var),null!=m[a.var]&&(a.label=m[a.var]),x=0,y=o.length;x<y;x++)e=o[x],r=i(a,T,this.opts.process_html_output),l.push(r),$(e).append(r);for(k=0,b=l.length;k<b;k++)r=l[k],"function"==typeof(n=r.data("refresh"))&&n();return this.element.attr("style",c.style),this.element.data("update",T),null!=c.width&&this.element.width(c.width),T({})},e}(),s=function(e){if(null!=e)return"number"==typeof e?e+"ex":e},i=function(e,t,n){var r,i,o,a,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E,S,j,M,T,O,N,I,D,L,z,R,P,B,q,F,U,W,H,K,G,Y,J,V,Q;if(d=l.find(".salvus-interact-control-"+e.control_type).clone(),0!==d.length){switch(null!=e.label&&d.find(".salvus-interact-label").html(e.label).mathjax(),G=void 0,H=function(n){var r;return r={},r[e.var]=n,t(r)},e.width=s(e.width),e.control_type){case"input-box":w=void 0,p=function(){var e;return e=g.val(),w=e,H(e)},e.nrows<=1?(g=d.find("input").show(),g.keypress(function(e){if(13===e.which)return p()})):(g=d.find("textarea").show().attr("rows",e.nrows),e.submit_button=!0,g.keypress(function(e){if(e.shiftKey&&13===e.which)return p(),!1})),G=function(e){return g.val(e),n(g)},g.on("blur",function(){if(g.val()!==w)return p()}),e.submit_button&&(J=d.find(".salvus-interact-control-input-box-submit-button").show(),J.find("a").click(function(){return H(g.val())})),e.readonly&&g.attr("readonly","readonly"),g.width(e.width);break;case"checkbox":g=d.find("input"),G=function(e){return g.attr("checked",e)},g.click(function(e){return H(g.is(":checked"))}),e.readonly&&g.attr("disabled","disabled");break;case"button":if(i=d.find("a"),e.classes)for(L=e.classes.split(/\s+/g),y=0,k=L.length;y<k;y++)c=L[y],i.addClass(c);e.width&&i.width(e.width),e.icon?i.find("i").addClass(e.icon):i.find("i").hide(),i.click(function(e){return H(null)}),G=function(e){return i.find("span").html(e).mathjax()};break;case"text":if(V=d.find(".salvus-interact-control-content"),e.classes)for(z=e.classes.split(/\s+/g),b=0,A=z.length;b<A;b++)c=z[b],V.addClass(c);G=function(e){return null!=V.data("val")&&(V.html(e),n(V),V.mathjax()),V.data("val",e)},d.data("refresh",function(){return V.mathjax({tex:V.data("val")})});break;case"input-grid":for(m=d.find(".salvus-interact-control-grid"),f=[],_=j=0,R=e.nrows;0<=R?j<R:j>R;_=0<=R?++j:--j){for(v=T=0,P=e.ncols;0<=P?T<P:T>P;v=0<=P?++T:--T)a=$('<input type="text">').css("margin","0"),e.width&&a.width(e.width),a.keypress(function(e){if(13===e.which)return K()}),m.append(a),f.push(a);m.append($("<br>"))}K=function(){return H(function(){var e,t,n;for(n=[],t=0,e=f.length;t<e;t++)a=f[t],n.push(a.val());return n}())},d.find("a").click(function(){return K()}),G=function(e){var t,n,r,i,o,s;for(n=m.find("input"),_=0,s=[],i=0,r=e.length;i<r;i++)o=e[i],s.push(function(){var e,r,i;for(i=[],r=0,e=o.length;r<e;r++)t=o[r],$(n[_]).val(t).data("last",t),i.push(_+=1);return i}());return s};break;case"color-selector":g=d.find("input").colorpicker(),U=d.find("i"),g.change(function(e){var t;return t=g.val(),
g.colorpicker("setValue",t)}),g.on("changeColor",function(e){var t;return t=e.color.toHex(),U.css("background-color",t),H(t)}),U.click(function(e){return g.colorpicker("show")}),G=function(e){return g.val(e),U.css("background-color",e)},e.hide_box?g.parent().width("1px"):g.parent().width("9em");break;case"slider":u=d.find(".salvus-interact-control-content"),Y=u.find(".salvus-interact-control-slider"),Q=d.find(".salvus-interact-control-value"),null!=e.width&&Y.width(e.width),Y.slider({animate:e.animate,min:0,max:e.vals.length-1,step:1,value:e.default,change:function(t,n){if(e.display_value&&Q.text(e.vals[n.value]),null!=t.altKey)return H(n.value)}}),G=function(e){return Y.slider("value",e)};break;case"range-slider":u=d.find(".salvus-interact-control-content"),Y=u.find(".salvus-interact-control-slider"),Q=d.find(".salvus-interact-control-value"),e.width&&u.width(e.width),Y.slider({animate:e.animate,range:!0,min:0,max:e.vals.length-1,step:1,values:e.default,change:function(t,n){var r;if(e.display_value&&(r=Y.slider("values"),Q.text(e.vals[r[0]]+" - "+e.vals[r[1]])),null!=t.altKey)return H(Y.slider("values"))}}),G=function(e){return Y.slider("values",e)};break;case"selector":if(u=d.find(".salvus-interact-control-content"),e.buttons||null!==e.nrows||null!==e.ncols){for(u.addClass("salvus-interact-control-selector-buttonbox"),O=null!==e.ncols?e.ncols:null!==e.nrows?Math.ceil(e.lbls.length/e.nrows):e.lbls.length,M=e.lbls.length>O,r=$("<span>"),M&&r.addClass("btn-group"),u.append(r),_=0,B=e.lbls,N=0,C=B.length;N<C;N++){if(x=B[N],i=$("<a class='btn btn-default'>").data("value",_).text(x),null!==e.button_classes)for(o="string"==typeof e.button_classes?e.button_classes:e.button_classes[_],q=o.split(/\s+/g),I=0,E=q.length;I<E;I++)c=q[I],i.addClass(c);e.width&&i.width(e.width),i.click(function(){var e;return e=$(this).data("value"),H(e),G(e)}),r.append(i),_+=1,_%O===0&&_<e.lbls.length&&(u.append($("<br>")),r=$('<span class="btn-group">'),u.append(r))}d.data("refresh",function(){var t,n;if(O!==e.lbls.length&&!e.width)return t=Math.max.apply(this,function(){var e,t,r,i;for(r=u.find("a"),i=[],t=0,e=r.length;t<e;t++)n=r[t],i.push($(n).width());return i}()),u.find("a").width(t)}),G=function(e){return u.find("a.active").removeClass("active"),$(u.find("a")[e]).addClass("active")}}else{for(W=$("<select>"),u.append(W),_=0,F=e.lbls,D=0,S=F.length;D<S;D++)x=F[D],W.append($("<option>").attr("value",_).attr("label",x).text(x)),_+=1;W.change(function(e){return H(W.find(":selected").attr("value"))}),e.width&&W.width(e.width),G=function(e){var t,n,r,i,o;if("number"==typeof e)return $(W.children()[e]).attr("selected",!0);for(e+="",r=W.find("option"),i=[],o=0,t=r.length;o<t;o++)n=r[o],n=$(n),n.attr("value")===e?i.push(n.attr("selected",!0)):i.push(void 0);return i}}break;default:throw"Unknown interact control type '"+e.control_type+"'"}return"text"===e.control_type?(h=$("<div>").html(e.default),n(h),G(h.html())):G(e.default),d.data("set",G),d}}},function(e,exports,t){var $,n;$=window.$,n=t(9).defaults,$.fn.icon_spin=function(e,t){var r,i;return null==t&&(t=!1),"object"==typeof e?(i=n(e,{start:!0,delay:0}),e=i.start,r=i.delay):r=0,this.each(function(){var n,i,o;if(n=$(this),e){if(null!=n.data("fa-spin"))return;return i=function(){if(t&&n.addClass("disabled"),n.data("fa-spin",null),0===n.find("i.fa-spinner").length)return n.append("<i class='fa fa-spinner' style='margin-left:1em'> </i>"),n.find("i.fa-spinner").addClass("fa-spin")},r?n.data("fa-spin",setTimeout(i,r)):i()}return t&&n.removeClass("disabled"),o=n.data("fa-spin"),null!=o&&(clearTimeout(o),n.data("fa-spin",null)),n.find("i.fa-spinner").remove()})},$.fn.maxheight=function(e){return null==e&&(e={}),null==e.offset&&(e.offset=0),this.each(function(){var t;return t=$(this),t.height($(window).height()-t.offset().top-e.offset)}),this},$.fn.make_height_defined=function(){return this.each(function(){var e;return e=$(this),e.height(e.height())}),this},$.fn.hasParent=function(e){return this.filter(function(){return $(e).find(this).length})}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y=function(e,t){return function(){return e.apply(t,arguments)}},b=function(e,t){function n(){this.constructor=e}for(var r in t)w.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},w={}.hasOwnProperty;u=t(26),g=t(23),h=t(9),m=h.required,c=h.defaults,n=t(12).Actions,v=t(351),_=t(304),f=t(929),p=t(350),l=t(349),s=t(347),a=t(348).cm_options,d=void 0,i=t(801).IPynbImporter,r="python2",o=function(e,t,n,r){return"number"!=typeof e&&(e=parseInt(e)),isNaN(e)?r:(e=Math.round(e),e<t?t:e>n?n:e)},exports.JupyterActions=function(e){function t(){return this.switch_to_classical_notebook=y(this.switch_to_classical_notebook,this),this.set_raw_ipynb=y(this.set_raw_ipynb,this),this.set_cell_metadata=y(this.set_cell_metadata,this),this.edit_cell_metadata=y(this.edit_cell_metadata,this),this.set_view_mode=y(this.set_view_mode,this),this.remove_tag=y(this.remove_tag,this),this.add_tag=y(this.add_tag,this),this.delete_attachment_from_cell=y(this.delete_attachment_from_cell,this),this.add_attachment_to_cell=y(this.add_attachment_to_cell,this),this.set_cell_attachment=y(this.set_cell_attachment,this),this.insert_input_at_cursor=y(this.insert_input_at_cursor,this),this._attachment_markdown=y(this._attachment_markdown,this),this.edit_attachments=y(this.edit_attachments,this),this.set_default_kernel=y(this.set_default_kernel,this),this.ensure_positions_are_unique=y(this.ensure_positions_are_unique,this),this.set_cell_slide=y(this.set_cell_slide,this),this.cell_toolbar=y(this.cell_toolbar,this),this.nbconvert_get_error=y(this.nbconvert_get_error,this),this.show_nbconvert_dialog=y(this.show_nbconvert_dialog,this),this.nbconvert=y(this.nbconvert,this),this.set_to_ipynb=y(this.set_to_ipynb,this),this.set_in_backend_key_value_store=y(this.set_in_backend_key_value_store,this),this.submit_password=y(this.submit_password,this),this.submit_input=y(this.submit_input,this),this.scroll=y(this.scroll,this),this.move_edit_cursor=y(this.move_edit_cursor,this),this.command=y(this.command,this),this.insert_image=y(this.insert_image,this),this.set_trust_notebook=y(this.set_trust_notebook,this),this.trust_notebook=y(this.trust_notebook,this),this.close_confirm_dialog=y(this.close_confirm_dialog,this),this.confirm_dialog=y(this.confirm_dialog,this),this.delete_keyboard_shortcut=y(this.delete_keyboard_shortcut,this),this._set_keyboard_settings=y(this._set_keyboard_settings,this),this.add_keyboard_shortcut=y(this.add_keyboard_shortcut,this),this._keyboard_settings=y(this._keyboard_settings,this),this.close_keyboard_shortcuts=y(this.close_keyboard_shortcuts,this),this.show_keyboard_shortcuts=y(this.show_keyboard_shortcuts,this),this.close_find_and_replace=y(this.close_find_and_replace,this),this.show_find_and_replace=y(this.show_find_and_replace,this),this.set_cm_options=y(this.set_cm_options,this),this.reset_more_output=y(this.reset_more_output,this),this.set_more_output=y(this.set_more_output,this),this.fetch_more_output=y(this.fetch_more_output,this),this.set_max_output_length=y(this.set_max_output_length,this),this.focus_unlock=y(this.focus_unlock,this),this.blur_lock=y(this.blur_lock,this),this.blur=y(this.blur,this),this.focus=y(this.focus,this),this.show_about=y(this.show_about,this),this.file_action=y(this.file_action,this),this.set_backend_kernel_info=y(this.set_backend_kernel_info,this),this.signal=y(this.signal,this),this.clear_introspect=y(this.clear_introspect,this),this.introspect=y(this.introspect,this),this.select_complete=y(this.select_complete,this),this.clear_complete=y(this.clear_complete,this),this.complete=y(this.complete,this),this.show_history_viewer=y(this.show_history_viewer,this),this.set_kernel=y(this.set_kernel,this),this.set_cursor=y(this.set_cursor,this),this._get_cell_input=y(this._get_cell_input,this),this.unregister_input_editor=y(this.unregister_input_editor,this),this.register_input_editor=y(this.register_input_editor,this),this.file_new=y(this.file_new,this),this.file_open=y(this.file_open,this),this.set_scroll_state=y(this.set_scroll_state,this),this.zoom=y(this.zoom,this),this.set_local_storage=y(this.set_local_storage,this),this.set_font_size=y(this.set_font_size,this),this.toggle_cell_line_numbers=y(this.toggle_cell_line_numbers,this),this.toggle_line_numbers=y(this.toggle_line_numbers,this),this.set_line_numbers=y(this.set_line_numbers,this),this.set_header_state=y(this.set_header_state,this),this.toggle_header=y(this.toggle_header,this),this.set_toolbar_state=y(this.set_toolbar_state,this),this.toggle_toolbar=y(this.toggle_toolbar,this),this.paste_cells=y(this.paste_cells,this),this.cut_selected_cells=y(this.cut_selected_cells,this),this.copy_selected_cells=y(this.copy_selected_cells,this),this.merge_cells=y(this.merge_cells,this),this.merge_cell_above=y(this.merge_cell_above,this),this.merge_cell_below=y(this.merge_cell_below,this),this.split_current_cell=y(this.split_current_cell,this),this.set_cursor_locs=y(this.set_cursor_locs,this),this.move_cursor_before=y(this.move_cursor_before,this),this.move_cursor_after=y(this.move_cursor_after,this),this.move_cursor=y(this.move_cursor,this),this.move_cursor_to_last_selected_cell=y(this.move_cursor_to_last_selected_cell,this),this.move_cursor_after_selected_cells=y(this.move_cursor_after_selected_cells,this),this.run_all_below=y(this.run_all_below,this),this.run_all_above=y(this.run_all_above,this),this.run_all_cells=y(this.run_all_cells,this),this.shift_enter_run_selected_cells=y(this.shift_enter_run_selected_cells,this),this.run_selected_cells=y(this.run_selected_cells,this),this.clear_cell=y(this.clear_cell,this),this.run_code_cell=y(this.run_code_cell,this),this.run_cell=y(this.run_cell,this),this.redo=y(this.redo,this),this.undo=y(this.undo,this),this.move_selected_cells=y(this.move_selected_cells,this),this.delete_selected_cells=y(this.delete_selected_cells,this),this.insert_cell=y(this.insert_cell,this),this._new_id=y(this._new_id,this),this._id_is_available=y(this._id_is_available,this),this.save_asap=y(this.save_asap,this),this.save=y(this.save,this),this._sync=y(this._sync,this),this._delete=y(this._delete,this),this._set=y(this._set,this),this._syncdb_cursor_activity=y(this._syncdb_cursor_activity,this),this.__syncdb_change=y(this.__syncdb_change,this),this._syncdb_change=y(this._syncdb_change,this),this._syncdb_cell_change=y(this._syncdb_cell_change,this),this.set_cell_list=y(this.set_cell_list,this),this.set_mode=y(this.set_mode,this),this.extend_selection=y(this.extend_selection,this),this.select_cell_range=y(this.select_cell_range,this),this.select_all_cells=y(this.select_all_cells,this),this.unselect_all_cells=y(this.unselect_all_cells,this),this.unselect_cell=y(this.unselect_cell,this),this.select_cell=y(this.select_cell,this),this.set_cur_id_from_index=y(this.set_cur_id_from_index,this),this.set_cur_id=y(this.set_cur_id,this),this.change_cell_to_heading=y(this.change_cell_to_heading,this),this.set_md_cell_not_editing=y(this.set_md_cell_not_editing,this),this.set_md_cell_editing=y(this.set_md_cell_editing,this),this.set_selected_cell_type=y(this.set_selected_cell_type,this),this.set_cell_type=y(this.set_cell_type,this),this.set_cell_pos=y(this.set_cell_pos,this),this.toggle_all_outputs=y(this.toggle_all_outputs,this),this.toggle_selected_outputs=y(this.toggle_selected_outputs,this),this.toggle_output=y(this.toggle_output,this),this.clear_all_outputs=y(this.clear_all_outputs,this),this.clear_selected_outputs=y(this.clear_selected_outputs,this),this.set_cell_output=y(this.set_cell_output,this),this.set_cell_input=y(this.set_cell_input,this),this.set_error=y(this.set_error,this),this.set_jupyter_kernels=y(this.set_jupyter_kernels,this),this._ajax=y(this._ajax,this),this.disable_key_handler=y(this.disable_key_handler,this),this.enable_key_handler=y(this.enable_key_handler,this),this.close=y(this.close,this),this.dbg=y(this.dbg,this),this._account_change=y(this._account_change,this),this.init_scroll_pos_hook=y(this.init_scroll_pos_hook,this),this._init=y(this._init,this),t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype._init=function(e,t,n,r,i){var o,s,a,c,d,p,f;if(r.dbg=function(e){return function(e){return i.dbg("JupyterStore('"+r.get("path")+"')."+e)}}(this),this.util=v,this._state="init",this.store=r,r.syncdb=n,this.syncdb=n,this._client=i,this._is_project=i.is_project(),r._is_project=this._is_project,this._account_id=i.client_id(),this.setState({view_mode:"normal",error:void 0,cur_id:this.store.get_local_storage("cur_id"),toolbar:!this.store.get_local_storage("hide_toolbar"),has_unsaved_changes:!1,sel_ids:u.Set(),md_edit_ids:u.Set(),mode:"escape",font_size:null!=(c=null!=(d=this.store.get_local_storage("font_size"))?d:null!=(p=this.redux.getStore("account"))?p.get("font_size"):void 0)?c:14,project_id:e,directory:null!=(f=h.path_split(t))?f.head:void 0,path:t,is_focused:!1,max_output_length:1e4}),this._client&&(s=function(e){return function(){var t,n;return e.setState({has_unsaved_changes:null!=(t=e.syncdb)?t.has_unsaved_changes():void 0,has_uncommitted_changes:null!=(n=e.syncdb)?n.has_uncommitted_changes():void 0})}}(this),a=function(e){return function(){return s(),setTimeout(s,3e3)}}(this),this.set_save_status=g.debounce(a,1500),this.syncdb.on("metadata-change",this.set_save_status),this.syncdb.on("connected",this.set_save_status)),this.syncdb.on("change",this._syncdb_change),i.is_project()||this.syncdb.on("cursor_activity",this._syncdb_cursor_activity),!i.is_project()&&null!=("undefined"!=typeof window&&null!==window?window.$:void 0))return this.set_jupyter_kernels(),o=this.redux.getStore("account"),o.on("change",this._account_change),this._account_change_editor_settings=o.get("editor_settings"),this._commands=l.commands(this),this.init_scroll_pos_hook()},t.prototype.init_scroll_pos_hook=function(){var e,t;return t=e=void 0,this._hook_before_change=function(e){return function(){var e;return t=null!=(e=$(".cocalc-jupyter-hook").offset())?e.top:void 0}}(this),this._hook_after_change=function(n){return function(){var r;if(e=null!=(r=$(".cocalc-jupyter-hook").offset())?r.top:void 0,null!=t&&null!=e&&t!==e)return n.scroll(e-t)}}(this)},t.prototype._account_change=function(e){var t;if(!e.get("editor_settings").equals(this._account_change_editor_settings))return t=e.get("editor_settings"),this._account_change_editor_settings.get("jupyter_keyboard_shortcuts")!==t.get("jupyter_keyboard_shortcuts")&&this.update_keyboard_shortcuts(),this._account_change_editor_settings=t,this.set_cm_options()},t.prototype.dbg=function(e){return this._client.dbg("JupyterActions('"+this.store.get("path")+"')."+e)},t.prototype.close=function(){var e;if("closed"!==this._state)return this.set_local_storage("cur_id",this.store.get("cur_id")),this._state="closed",this.syncdb.close(),delete this.syncdb,delete this._commands,null!=this._key_handler&&(this.redux.getActions("page").erase_active_key_handler(this._key_handler),delete this._key_handler),null!=this._file_watcher&&(this._file_watcher.close(),delete this._file_watcher),this._is_project?void 0:null!=(e=this.redux.getStore("account"))?e.removeListener("change",this._account_change):void 0},t.prototype.enable_key_handler=function(){if("closed"!==this._state)return null==this._key_handler&&(this._key_handler=p.create_key_handler(this)),this.redux.getActions("page").set_active_key_handler(this._key_handler)},t.prototype.disable_key_handler=function(){return this.redux.getActions("page").erase_active_key_handler(this._key_handler)},t.prototype._ajax=function(e){return e=c(e,{url:m,timeout:15e3,cb:void 0}),"undefined"==typeof $||null===$?void("function"==typeof e.cb&&e.cb("_ajax only makes sense in browser")):void $.ajax({url:e.url,timeout:e.timeout,success:function(t){return function(t){return"function"==typeof e.cb?e.cb(void 0,JSON.parse(t)):void 0}}(this)}).fail(function(t){return function(t){var n;return"function"==typeof e.cb?e.cb(null!=(n=t.statusText)?n:"error"):void 0}}(this))},t.prototype.set_jupyter_kernels=function(){var e;return null!=d?this.setState({kernels:d}):(e=function(e){return function(t){return"closed"===e._state?void t():e._ajax({url:_.get_server_url(e.store.get("project_id"))+"/kernels.json",timeout:3e3,cb:function(n,r){var i;if(n)return void t(n);try{return d=u.fromJS(r),e.setState({kernels:d}),e.setState({kernel_info:e.store.get_kernel_info(e.store.get("kernel"))}),t()}catch(t){return i=t,e.set_error("Error setting Jupyter kernels -- "+r+" "+i)}}})}}(this),h.retry_until_success({f:e,start_delay:1500,max_delay:15e3,max_time:6e4}))},t.prototype.set_error=function(e){var t;return null==e?void this.setState({error:void 0}):(t=this.store.get("error"),t&&(e=e+"\n\n"+t),this.setState({error:e}))},t.prototype.set_cell_input=function(e,t,n){return null==n&&(n=!0),this._set({type:"cell",id:e,input:t,start:null,end:null},n)},t.prototype.set_cell_output=function(e,t,n){return null==n&&(n=!0),this._set({type:"cell",id:e,output:t},n)},t.prototype.clear_selected_outputs=function(){var e,t,n,r,i;for(e=this.store.get("cells"),i=this.store.get_selected_cell_ids_list(),n=0,r=i.length;n<r;n++)t=i[n],null!=e.get(t).get("output")&&this._set({type:"cell",id:t,output:null},!1);return this._sync()},t.prototype.clear_all_outputs=function(){return this.store.get("cells").forEach(function(e){return function(t,n){null!=t.get("output")&&e._set({type:"cell",id:n,output:null},!1)}}(this)),this._sync()},t.prototype.toggle_output=function(e,t){var n,r;if(null==(r=this.store.getIn(["cells",e,"cell_type"]))||r)return this._set((n={type:"cell",id:e},n[""+t]=!this.store.getIn(["cells",e,t]),n))},t.prototype.toggle_selected_outputs=function(e){var t,n,r,i,o,s,a,l;for(n=this.store.get("cells"),a=this.store.get_selected_cell_ids_list(),i=0,o=a.length;i<o;i++)r=a[i],t=n.get(r),(null==(l=t.get("cell_type"))||l)&&this._set((s={type:"cell",id:r},s[""+e]=!t.get(e),s),!1);return this._sync()},t.prototype.toggle_all_outputs=function(e){return this.store.get("cells").forEach(function(t){return function(n,r){var i,o;(null==(o=n.get("cell_type"))||o)&&t._set((i={type:"cell",id:r},i[""+e]=!n.get(e),i),!1)}}(this)),this._sync()},t.prototype.set_cell_pos=function(e,t,n){return null==n&&(n=!0),this._set({type:"cell",id:e,pos:t},n)},t.prototype.set_cell_type=function(e,t){var n;if(null==t&&(t="code"),"markdown"!==t&&"raw"!==t&&"code"!==t)throw Error("cell type (='"+t+"') must be 'markdown', 'raw', or 'code'");return n={type:"cell",id:e,cell_type:t},"code"!==t&&(n.output=n.start=n.end=n.collapsed=n.scrolled=null),this._set(n)},t.prototype.set_selected_cell_type=function(e){var t,n;return n=this.store.get("sel_ids"),t=this.store.get("cur_id"),0!==n.size?n.forEach(function(t){return function(n){t.set_cell_type(n,e)}}(this)):null!=t?this.set_cell_type(t,e):void 0},t.prototype.set_md_cell_editing=function(e){var t;if(t=this.store.get("md_edit_ids"),!t.contains(e))return this.setState({md_edit_ids:t.add(e)})},t.prototype.set_md_cell_not_editing=function(e){var t;if(t=this.store.get("md_edit_ids"),t.contains(e))return this.setState({md_edit_ids:t.delete(e)})},t.prototype.change_cell_to_heading=function(e,t){var n,r,i;for(null==t&&(t=1),this.set_md_cell_editing(e),this.set_cell_type(e,"markdown"),i=h.lstrip(this._get_cell_input(e)),r=0;r<i.length&&"#"===i[r];)r+=1;return i=function(){var e,r,i;for(i=[],n=e=0,r=t;0<=r?e<r:e>r;n=0<=r?++e:--e)i.push("#");return i}().join("")+(h.is_whitespace(i[r])?"":" ")+i.slice(r),this.set_cell_input(e,i)},t.prototype.set_cur_id=function(e){return this.setState({cur_id:e})},t.prototype.set_cur_id_from_index=function(e){var t;if(null!=e&&(t=this.store.get("cell_list"),null!=t))return e<0?e=0:e>=t.size&&(e=t.size-1),this.set_cur_id(t.get(e))},t.prototype.select_cell=function(e){var t;if(t=this.store.get("sel_ids"),!t.contains(e))return this.setState({sel_ids:t.add(e)})},t.prototype.unselect_cell=function(e){var t;if(t=this.store.get("sel_ids"),t.contains(e))return this.setState({sel_ids:t.remove(e)})},t.prototype.unselect_all_cells=function(){return this.setState({sel_ids:u.Set()})},t.prototype.select_all_cells=function(){return this.setState({sel_ids:this.store.get("cell_list").toSet()})},t.prototype.select_cell_range=function(e){var t,n,r,i,o,s,a,l,c,d,p;if(t=this.store.get("cur_id"),null==t)return void this.set_cur_id(e);if(c=this.store.get("sel_ids"),t===e)return void(c.size>0&&this.setState({sel_ids:u.Set()}));for(d=this.store.get("cell_list").toJS(),a=h.enumerate(d),o=0,s=a.length;o<s;o++)l=a[o],i=l[0],p=l[1],p===e&&(n=i),p===t&&(r=i);return c=u.Set(function(){var e,t,o,s;for(s=[],i=e=t=n,o=r;t<=o?e<=o:e>=o;i=t<=o?++e:--e)s.push(d[i]);return s}()),this.setState({sel_ids:c,cur_id:e})},t.prototype.extend_selection=function(e){var t,n,r;if(t=this.store.get("cur_id"),this.move_cursor(e),r=this.store.get("cur_id"),t!==r)return n=this.store.get("sel_ids"),(null!=n?n.get(r):void 0)?n.size<=2?this.unselect_all_cells():this.unselect_cell(t):(this.select_cell(t),this.select_cell(r))},t.prototype.set_mode=function(e){var t,n;if("escape"===e){if("escape"===this.store.get("mode"))return;return this._get_cell_input(),this.setState({mode:e}),this.set_cursor_locs([])}if("edit"!==e)return this.set_error("unknown mode '"+e+"'");if(this.focus_unlock(),"edit"!==this.store.get("mode"))return this.setState({mode:e}),t=this.store.get("cur_id"),n=this.store.getIn(["cells",t,"cell_type"]),"markdown"===n?this.set_md_cell_editing(t):void 0},t.prototype.set_cell_list=function(){var e,t;t=this.store.get("cells"),null!=t&&(e=s.sorted_cell_list(t),e.equals(this.store.get("cell_list"))||this.setState({cell_list:e}))},t.prototype._syncdb_cell_change=function(e,t){var n,r,i,o,s,a;if("string"!=typeof e)return void console.warn("ignoring cell with invalid id='"+JSON.stringify(e)+"'");if(i=null!=(a=this.store.get("cells"))?a:u.Map(),r=!1,s=i.get(e),null==t)this.reset_more_output(e),null!=s&&(o={cells:i.delete(e)},n=this.store.get("cell_list"),null!=n&&(o.cell_list=n.filter(function(t){return t!==e})),this.setState(o));else{if(s=i.get(e),t.equals(s))return;null!=s&&t.get("start")!==s.get("start")&&this.reset_more_output(e),o={cells:i.set(e,t)},null!=s&&s.get("pos")===t.get("pos")||(r=!0),this.setState(o),this.store.getIn(["edit_cell_metadata","id"])===e&&this.edit_cell_metadata(e)}return this._is_project&&this.manager_on_cell_change(e,t,s),this.store.emit("cell_change",e,t,s),r},t.prototype._syncdb_change=function(e){return"function"==typeof this._hook_before_change&&this._hook_before_change(),this.__syncdb_change(e),"function"==typeof this._hook_after_change&&this._hook_after_change(),"function"==typeof this.set_save_status?this.set_save_status():void 0},t.prototype.__syncdb_change=function(e){var t,n,i,s,a,l,c;return i=this._is_project&&"init"===this._state,t=!1,null!=e&&e.forEach(function(e){return function(n){var r,i,s,a,l;switch(l=e.syncdb.get_one(n),n.get("type")){case"cell":e._syncdb_cell_change(n.get("id"),l)&&(t=!0);break;case"fatal":e.setState({fatal:null!=l?l.get("error"):void 0});break;case"nbconvert":e._is_project&&e.nbconvert_change(e.store.get("nbconvert"),l),e.setState({nbconvert:l});break;case"settings":if(null==l)return;a=e.store.get("kernel"),r=l.get("kernel"),s={trust:!!l.get("trust"),backend_state:l.get("backend_state"),kernel_state:l.get("kernel_state"),metadata:l.get("metadata"),max_output_length:o(l.get("max_output_length"),100,1e5,2e4)},r!==a?(s.kernel=r,s.kernel_info=e.store.get_kernel_info(r),s.backend_kernel_info=void 0):i=!1,e.setState(s),e._is_project||a===r||(e.set_backend_kernel_info(),e.set_cm_options())}}}(this)),t&&this.set_cell_list(),n=this.store.get("cur_id"),null!=n&&null!=this.store.getIn(["cells",n])||this.set_cur_id(null!=(a=this.store.get("cell_list"))?a.get(0):void 0),this._is_project?(i&&this.initialize_manager(),this.manager_run_cell_process_queue()):("init"===this._state&&(this._state="ready"),this.store.get("kernel")||(s=null!=(l=null!=(c=this.redux.getStore("account"))?c.getIn(["editor_settings","jupyter","kernel"]):void 0)?l:r,this.set_kernel(s)),"raw"===this.store.get("view_mode")?this.set_raw_ipynb():void 0)},t.prototype._syncdb_cursor_activity=function(){var e,t,n;if(e=t=this.store.get("cells"),n=this.syncdb.get_cursors(),n.forEach(function(t){return function(n,r){var i,o;if(i=null!=(o=t._last_cursors)?o.get(r):void 0,null==i||!i.equals(n))return null!=i&&i.get("locs").forEach(function(t){var n,i,o,s;if(o=t.get("id"),n=e.get(o),null!=n)return i=null!=(s=n.get("cursors"))?s:u.Map(),i.has(r)?(e=e.set(o,n.set("cursors",i.delete(r))),!1):void 0}),n.get("locs").forEach(function(t){var i,o,s,a,l,c;s=t.get("id"),i=e.get(s),null!=i&&(o=null!=(l=i.get("cursors"))?l:u.Map(),t=t.set("time",n.get("time")).delete("id"),a=(null!=(c=o.get(r))?c:u.List()).push(t),o=o.set(r,a),i=i.set("cursors",o),e=e.set(s,i))})}}(this)),this._last_cursors=n,e!==t)return this.setState({cells:e})},t.prototype._set=function(e,t){if(null==t&&(t=!0),"closed"!==this._state)return this.syncdb.exit_undo_mode(),this.syncdb.set(e,t),this._syncdb_change(u.fromJS([h.copy_with(e,["id","type"])]))},t.prototype._delete=function(e,t){if(null==t&&(t=!0),"closed"!==this._state)return this.syncdb.exit_undo_mode(),this.syncdb.delete(e,t),this._syncdb_change(u.fromJS([{type:e.type,id:e.id}]))},t.prototype._sync=function(){if("closed"!==this._state)return this.syncdb.sync()},t.prototype.save=function(){return"edit"===this.store.get("mode")&&this._get_cell_input(),this.syncdb.save(function(e){return function(){return"function"==typeof e.set_save_status?e.set_save_status():void 0}}(this)),"function"==typeof this.set_save_status?this.set_save_status():void 0},t.prototype.save_asap=function(){var e;null!=(e=this.syncdb)&&e.save_asap(function(e){return function(t){if(t)return setTimeout(function(){var t;return null!=(t=e.syncdb)?t.save_asap():void 0},50)}}(this))},t.prototype._id_is_available=function(e){return null==this.store.getIn(["cells",e])},t.prototype._new_id=function(e){var t;for(null==e&&(e=this._id_is_available);;)if(t=h.uuid().slice(0,6),e(t))return t},t.prototype.insert_cell=function(e){var t,n;return n=s.new_cell_pos(this.store.get("cells"),this.store.get("cell_list"),this.store.get("cur_id"),e),t=this._new_id(),this._set({type:"cell",id:t,pos:n,input:""}),this.set_cur_id(t),t},t.prototype.delete_selected_cells=function(e){var t,n,r,i;if(null==e&&(e=!0),i=this.store.get_selected_cell_ids_list(),0!==i.length){for(t=this.store.get("cur_id"),this.move_cursor_after(i[i.length-1]),this.store.get("cur_id")===t&&this.move_cursor_before(i[0]),n=0,r=i.length;n<r;n++)t=i[n],this._delete({type:"cell",id:t},!1);e&&this._sync()}},t.prototype.move_selected_cells=function(e){var t,n,r,i,o,a,l,c,d;if(0!==e&&(c=null!=(a=this.store.get("cell_list"))?a.toJS():void 0,d=s.move_selected_cells(c,this.store.get_selected_cell_ids(),e),null!=d&&!g.isEqual(c,d))){for(t=this.store.get("cells"),n=u.Set(),o=i=0,l=d.length;0<=l?i<l:i>l;o=0<=l?++i:--i)r=d[o],t.get(r).get("pos")!==o&&this.set_cell_pos(r,o,!1);return this._sync()}},t.prototype.undo=function(){var e;null!=(e=this.syncdb)&&e.undo()},t.prototype.redo=function(){var e;null!=(e=this.syncdb)&&e.redo()},t.prototype.run_cell=function(e){var t,n,r,i;if(t=this.store.getIn(["cells",e]),null!=t){switch(this.unselect_all_cells(),n=null!=(i=t.get("cell_type"))?i:"code"){case"code":switch(r=this._get_cell_input(e).trim(),f.run_mode(r,this.store.getIn(["cm_options","mode","name"]))){case"show_source":this.introspect(r.slice(0,r.length-2),1);break;case"show_doc":this.introspect(r.slice(0,r.length-1),0);break;case"empty":this.clear_cell(e);break;case"execute":this.run_code_cell(e)}break;case"markdown":this.set_md_cell_not_editing(e)}this.save_asap()}},t.prototype.run_code_cell=function(e,t){var n;return null==t&&(t=!0),n=this._client.server_time()-0,null!=this._last_start&&n<=this._last_start&&(n=this._last_start+1),this._last_start=n,this._set({type:"cell",id:e,state:"start",start:n,end:null,output:null,exec_count:null,collapsed:null},t),this.set_trust_notebook(!0)},t.prototype.clear_cell=function(e,t){return null==t&&(t=!0),this._set({type:"cell",id:e,state:null,start:null,end:null,output:null,exec_count:null,collapsed:null},t)},t.prototype.run_selected_cells=function(){var e,t,n,r;for(r=this.store.get_selected_cell_ids_list(),t=0,n=r.length;t<n;t++)e=r[t],this.run_cell(e);return this.save_asap()},t.prototype.shift_enter_run_selected_cells=function(){var e,t,n,r;if(r=this.store.get_selected_cell_ids_list(),0!==r.length)return t=r[r.length-1],this.run_selected_cells(),e=this.store.get("cell_list"),(null!=e?e.get(e.size-1):void 0)===t?(this.set_cur_id(t),n=this.insert_cell(1),setTimeout(function(e){return function(){return e.set_cur_id(n),e.set_mode("edit")}}(this),1)):(this.set_mode("escape"),this.move_cursor(1))},t.prototype.run_all_cells=function(){return this.store.get("cell_list").forEach(function(e){return function(t){e.run_cell(t)}}(this)),this.save_asap()},t.prototype.run_all_above=function(){var e,t,n,r,i,o;if(e=this.store.get_cur_cell_index(),null!=e)for(o=null!=(i=this.store.get("cell_list"))?i.toJS().slice(0,e):void 0,n=0,r=o.length;n<r;n++)t=o[n],this.run_cell(t)},t.prototype.run_all_below=function(){var e,t,n,r,i,o;if(e=this.store.get_cur_cell_index(),null!=e)for(o=null!=(i=this.store.get("cell_list"))?i.toJS().slice(e):void 0,n=0,r=o.length;n<r;n++)t=o[n],this.run_cell(t)},t.prototype.move_cursor_after_selected_cells=function(){var e;if(e=this.store.get_selected_cell_ids_list(),e.length>0)return this.move_cursor_after(e[e.length-1])},t.prototype.move_cursor_to_last_selected_cell=function(){var e;if(e=this.store.get_selected_cell_ids_list(),e.length>0)return this.set_cur_id(e[e.length-1])},t.prototype.move_cursor=function(e){this.set_cur_id_from_index(this.store.get_cur_cell_index()+e)},t.prototype.move_cursor_after=function(e){var t;t=this.store.get_cell_index(e),null!=t&&this.set_cur_id_from_index(t+1)},t.prototype.move_cursor_before=function(e){var t;t=this.store.get_cell_index(e),null!=t&&this.set_cur_id_from_index(t-1)},t.prototype.set_cursor_locs=function(e){if(null==e&&(e=[]),0!==e.length)return this._cursor_locs=e,this.syncdb.set_cursor_locs(e)},t.prototype.split_current_cell=function(){var e,t,n,r,i,o,s,a,l,c,u,d,p;if(r=null!=(c=this._cursor_locs)?c[0]:void 0,null!=r&&r.id===this.store.get("cur_id")&&(l=this.insert_cell(-1),t=this.store.get("cells").get(r.id),null!=t&&(n=t.get("cell_type"),"code"!==n&&(this.set_cell_type(l,n),this.set_md_cell_editing(l)),i=t.get("input"),null!=i)))return a=i.split("\n"),p=a.slice(0,r.y),s=a[r.y],o=s.slice(0,r.x),o&&p.push(o),d=p.join("\n"),p=a.slice(r.y+1),u=s.slice(r.x),u&&(p=[u].concat(p)),e=p.join("\n"),this.set_cell_input(l,d,!1),this.set_cell_input(r.id,e,!0),this.set_cur_id(r.id)},t.prototype.merge_cell_below=function(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g;if(null==e&&(e=!0),n=this.store.get("cur_id"),null!=n&&(a=this.store.get_cell_id(1),null!=a&&(t=this.store.get("cells"),null!=t))){if(i=(null!=(d=null!=(p=t.get(n))?p.get("input"):void 0)?d:"")+"\n"+(null!=(h=null!=(f=t.get(a))?f.get("input"):void 0)?h:""),l=void 0,c=null!=(m=t.get(n))?m.get("output"):void 0,u=null!=(_=t.get(a))?_.get("output"):void 0,null==c)l=u;else if(null==u)l=c;else for(l=c,s=c.size,r=o=0,g=u.size;0<=g?o<g:o>g;r=0<=g?++o:--o)l=l.set(""+s,u.get(""+r)),s+=1;this._delete({type:"cell",id:a},!1),this._set({type:"cell",id:n,input:i,output:null!=l?l:null,start:null,end:null},e)}},t.prototype.merge_cell_above=function(){this.move_cursor(-1),this.merge_cell_below()},t.prototype.merge_cells=function(){var e,t,n,r,i,o;if(o=this.store.get_selected_cell_ids_list(),n=null!=o?o.length:void 0,!(null==n||n<=1)){for(this.set_cur_id(o[0]),i=[],e=t=0,r=n-1;0<=r?t<r:t>r;e=0<=r?++t:--t)i.push(this.merge_cell_below(e===n-2));return i}},t.prototype.copy_selected_cells=function(){var e,t,n,r,i,o;for(e=this.store.get("cells"),t=u.List(),o=this.store.get_selected_cell_ids_list(),r=0,i=o.length;r<i;r++)n=o[r],t=t.push(e.get(n));this.store.set_global_clipboard(t);
},t.prototype.cut_selected_cells=function(){return this.copy_selected_cells(),this.delete_selected_cells()},t.prototype.paste_cells=function(e){var t,n,r,i,o,a,l;if(null==e&&(e=1),i=this.store.get("cells"),l=this.store.get_selected_cell_ids_list(),0!==l.length){if(0===e||e===-1)r=this.store.get_cell_id(-1,l[0]);else{if(1!==e)return void console.warn("paste_cells: invalid delta="+e);r=l[l.length-1]}try{if(0===e&&l.length>1&&this.delete_selected_cells(!1),o=this.store.get_global_clipboard(),null==o||0===o.size)return;return null==r?(n=void 0,t=i.getIn([l[0],"pos"])):(n=i.getIn([r,"pos"]),t=i.getIn([this.store.get_cell_id(1,r),"pos"])),a=s.positions_between(n,t,o.size),o.forEach(function(e){return function(t,n){t=t.set("id",e._new_id()),t=t.set("pos",a[n]),e._set(t,!1)}}(this))}finally{this._sync()}}},t.prototype.toggle_toolbar=function(){return this.set_toolbar_state(!this.store.get("toolbar"))},t.prototype.set_toolbar_state=function(e){return this.setState({toolbar:e}),this.set_local_storage("hide_toolbar",!e)},t.prototype.toggle_header=function(){var e;return null!=(e=this.redux)?e.getActions("page").toggle_fullscreen():void 0},t.prototype.set_header_state=function(e){var t;return null!=(t=this.redux)?t.getActions("page").set_fullscreen(e):void 0},t.prototype.set_line_numbers=function(e){var t;this.set_local_storage("line_numbers",!!e),t=this.store.get("cells").map(function(e){return e.delete("line_numbers")}),t.equals(this.store.get("cells"))||this.setState({cells:t}),this.set_cm_options()},t.prototype.toggle_line_numbers=function(){return this.set_line_numbers(!this.store.get_local_storage("line_numbers"))},t.prototype.toggle_cell_line_numbers=function(e){var t,n,r,i,o;if(n=this.store.get("cells"),t=n.get(e),null!=t)return r=null!=(i=null!=(o=t.get("line_numbers"))?o:this.store.get_local_storage("line_numbers"))&&i,this.setState({cells:n.set(e,t.set("line_numbers",!r))})},t.prototype.set_font_size=function(e){return this.setState({font_size:e}),this.set_local_storage("font_size",e)},t.prototype.set_local_storage=function(e,t){var n;if("undefined"!=typeof localStorage&&null!==localStorage)return n=localStorage[this.name],n=null!=n?h.from_json(n):{},null===t?delete n[e]:n[e]=t,localStorage[this.name]=h.to_json(n)},t.prototype.zoom=function(e){return this.set_font_size(this.store.get("font_size")+e)},t.prototype.set_scroll_state=function(e){return this.set_local_storage("scroll",e)},t.prototype.file_open=function(){var e;null!=(e=this.redux)&&e.getProjectActions(this.store.get("project_id")).set_active_tab("files")},t.prototype.file_new=function(){var e;null!=(e=this.redux)&&e.getProjectActions(this.store.get("project_id")).set_active_tab("new")},t.prototype.register_input_editor=function(e,t){null==this._input_editors&&(this._input_editors={}),this._input_editors[e]=t},t.prototype.unregister_input_editor=function(e){var t;return null!=(t=this._input_editors)?delete t[e]:void 0},t.prototype._get_cell_input=function(e){var t,n,r,i;return null==e&&(e=this.store.get("cur_id")),null!=(t=null!=(n=null!=(r=this._input_editors)&&null!=(i=r[e])&&"function"==typeof i.save?i.save():void 0)?n:this.store.getIn(["cells",e,"input"]))?t:""},t.prototype.set_cursor=function(e,t){var n,r;null!=(n=this._input_editors)&&null!=(r=n[e])&&"function"==typeof r.set_cursor&&r.set_cursor(t)},t.prototype.set_kernel=function(e){if(this.store.get("kernel")!==e)return this._set({type:"settings",kernel:e})},t.prototype.show_history_viewer=function(){var e;return null!=(e=this.redux.getProjectActions(this.store.get("project_id")))?e.open_file({path:h.history_path(this.store.get("path")),foreground:!0}):void 0},t.prototype.complete=function(e,t,n,r){var i,o,s,a,l;l=this._complete_request=(null!=(a=this._complete_request)?a:0)+1,this.setState({complete:void 0}),h.is_object(t)?(s=e.split("\n"),i=h.sum(function(){var e,n,r;for(r=[],o=e=0,n=t.line;0<=n?e<n:e>n;o=0<=n?++e:--e)r.push(s[o].length+1);return r}())+t.ch):i=t,this._ajax({url:_.get_complete_url(this.store.get("project_id"),this.store.get("path"),e,i),timeout:5e3,cb:function(e){return function(t,i){var o,s,a;e._complete_request>l||(t?o={error:t}:(o=i,"ok"!==o.status&&(o={error:"completion failed"}),delete o.status),0!==(null!=o&&null!=(s=o.matches)?s.length:void 0)&&(null!=r&&(o.offset=r),e.setState({complete:u.fromJS(o)}),1===(null!=o&&null!=(a=o.matches)?a.length:void 0)&&null!=n&&e.select_complete(n,o.matches[0])))}}(this)})},t.prototype.clear_complete=function(){var e;return this._complete_request=(null!=(e=this._complete_request)?e:0)+1,this.setState({complete:void 0})},t.prototype.select_complete=function(e,t){var n,r,i;if(n=this.store.get("complete"),r=this.store.getIn(["cells",e,"input"]),this.clear_complete(),this.set_mode("edit"),null!=n&&null!=r&&null==n.get("error"))return i=r.slice(0,n.get("cursor_start"))+t+r.slice(n.get("cursor_end")),setTimeout(function(t){return function(){return t.set_cell_input(e,i)}}(this),0)},t.prototype.introspect=function(e,t,n){var r,i;i=this._introspect_request=(null!=(r=this._introspect_request)?r:0)+1,this.setState({introspect:void 0}),null==n&&(n=e.length),this._ajax({url:_.get_introspect_url(this.store.get("project_id"),this.store.get("path"),e,n,t),timeout:3e4,cb:function(e){return function(t,n){var r;if(!(e._introspect_request>i))return t?r={error:t}:(r=n,"ok"!==r.status&&(r={error:"completion failed"}),delete r.status),e.setState({introspect:u.fromJS(r)})}}(this)})},t.prototype.clear_introspect=function(){var e;return this._introspect_request=(null!=(e=this._introspect_request)?e:0)+1,this.setState({introspect:void 0})},t.prototype.signal=function(e){null==e&&(e="SIGINT"),this._ajax({url:_.get_signal_url(this.store.get("project_id"),this.store.get("path"),e),timeout:5e3})},t.prototype.set_backend_kernel_info=function(){var e,t;if(null==this.store.get("backend_kernel_info")){if(this._is_project)return e=this.dbg("set_backend_kernel_info "+h.uuid()),null==this._jupyter_kernel?void e("not defined"):(e("calling kernel_info..."),void this._jupyter_kernel.kernel_info({cb:function(t){return function(n,r){return n?e("error = "+n):(e("got data='"+h.to_json(r)+"'"),t.setState({backend_kernel_info:r}))}}(this)}));if(!this._fetching_backend_kernel_info)return this._fetching_backend_kernel_info=!0,t=function(e){return function(t){return"closed"===e._state&&t(),e._ajax({url:_.get_kernel_info_url(e.store.get("project_id"),e.store.get("path")),timeout:15e3,cb:function(n,r){return n?t(!0):null!=r.error?t(!0):(e.setState({backend_kernel_info:u.fromJS(r)}),e.setState({start_time:r.start_time}),e.set_cm_options(),t())}})}}(this),h.retry_until_success({f:t,max_time:6e4,start_delay:1e3,max_delay:1e4,cb:function(e){return function(t){return e._fetching_backend_kernel_info=!1}}(this)})}},t.prototype.file_action=function(e,t){var n,r,i,o;return n=this.redux.getProjectActions(this.store.get("project_id")),null==t&&(t=this.store.get("path")),"close_file"===e?void n.close_file(t):"open_file"===e?void n.open_file({path:t}):(i=h.path_split(t),r=i.head,o=i.tail,n.open_directory(r),n.set_all_files_unchecked(),n.set_file_checked(t,!0),n.set_file_action(e,function(){return o}))},t.prototype.show_about=function(){return this.setState({about:!0}),this.set_backend_kernel_info()},t.prototype.focus=function(e){if("closed"!==this._state&&!this._blur_lock)return e?setTimeout(this.focus,1):this.setState({is_focused:!0})},t.prototype.blur=function(e){if("closed"!==this._state)return e?setTimeout(this.blur,1):this.setState({is_focused:!1,mode:"escape"})},t.prototype.blur_lock=function(){return this.blur(),this._blur_lock=!0},t.prototype.focus_unlock=function(){return this._blur_lock=!1,this.focus()},t.prototype.set_max_output_length=function(e){return this._set({type:"settings",max_output_length:e})},t.prototype.fetch_more_output=function(e){var t;return t=this._client.server_time()-0,this._ajax({url:_.get_more_output_url(this.store.get("project_id"),this.store.get("path"),e),timeout:6e4,cb:function(n){return function(r,i){return r?n.set_error(r):(n.store.getIn(["cells",e,"scrolled"])||n.toggle_output(e,"scrolled"),n.set_more_output(e,{time:t,mesg_list:i}))}}(this)})},t.prototype.set_more_output=function(e,t){var n,r;if(null!=this.store.getIn(["cells",e]))return r=null!=(n=this.store.get("more_output"))?n:u.Map(),this.setState({more_output:r.set(e,u.fromJS(t))})},t.prototype.reset_more_output=function(e){var t,n;if(t=null!=(n=this.store.get("more_output"))?n:u.Map(),t.has(e))return this.setState({more_output:t.delete(e)})},t.prototype.set_cm_options=function(){var e,t,n,r,i,o,s;if(n=null!=(r=this.store.get_language_info())?r.get("codemirror_mode"):void 0,"string"==typeof n?n={name:n}:null!=(null!=n?n.toJS:void 0)?n=n.toJS():null==n&&(n=this.store.get("kernel")),e=null!=(i=this.redux.getStore("account"))&&null!=(o=i.get("editor_settings"))&&"function"==typeof o.toJS?o.toJS():void 0,t=this.store.get_local_storage("line_numbers"),s=u.fromJS({options:a(n,e,t),markdown:a({name:"gfm2"},e,t)}),!s.equals(this.store.get("cm_options")))return this.setState({cm_options:s})},t.prototype.show_find_and_replace=function(){return this.blur_lock(),this.setState({find_and_replace:!0})},t.prototype.close_find_and_replace=function(){return this.setState({find_and_replace:!1}),this.focus_unlock()},t.prototype.show_keyboard_shortcuts=function(){return this.blur_lock(),this.setState({keyboard_shortcuts:{show:!0}})},t.prototype.close_keyboard_shortcuts=function(){return this.setState({keyboard_shortcuts:void 0}),this.focus_unlock()},t.prototype._keyboard_settings=function(){var e;return null==this._account_change_editor_settings?void console.warn("account settings not loaded"):(e=this._account_change_editor_settings.get("jupyter_keyboard_shortcuts"),null!=e?JSON.parse(e):{})},t.prototype.add_keyboard_shortcut=function(e,t){var n,r,i,o,s,a;if(r=this._keyboard_settings(),null!=r){for(s=null!=(o=r[e])?o:[],n=0,i=s.length;n<i;n++)if(a=s[n],g.isEqual(a,t))return;return s.push(t),r[e]=s,this._set_keyboard_settings(r)}},t.prototype._set_keyboard_settings=function(e){return this.redux.getTable("account").set({editor_settings:{jupyter_keyboard_shortcuts:JSON.stringify(e)}})},t.prototype.delete_keyboard_shortcut=function(e,t){var n,r,i,o,s;if(n=this._keyboard_settings(),null!=n)return i=null!=(r=n[e])?r:[],o=function(){var e,n,r;for(r=[],e=0,n=i.length;e<n;e++)s=i[e],g.isEqual(s,t)||r.push(s);return r}(),o.length===i.length&&i.push(h.merge_copy(t,{remove:!0})),n[e]=i,this._set_keyboard_settings(n)},t.prototype.confirm_dialog=function(e){return this.blur_lock(),this.setState({confirm_dialog:e}),this.store.wait({until:function(e){return function(e){var t;return t=e.get("confirm_dialog"),null==t?"cancel":t.get("choice")}}(this),timeout:0,cb:function(t){return function(n,r){return t.focus_unlock(),e.cb(r)}}(this)})},t.prototype.close_confirm_dialog=function(e){var t;return null==e?this.setState({confirm_dialog:void 0}):(t=this.store.get("confirm_dialog"),null!=t?this.setState({confirm_dialog:t.set("choice",e)}):void 0)},t.prototype.trust_notebook=function(){return this.confirm_dialog({icon:"warning",title:"Trust this Notebook?",body:"A trusted Jupyter notebook may execute hidden malicious Javascript code when you open it. Selecting trust below, or evaluating any cell, will immediately execute any Javascript code in this notebook now and henceforth. (NOTE: SageMathCloud does NOT implement the official Jupyter security model for trusted notebooks; in particular, we assume that you do trust collaborators on your SageMathCloud projects.)",choices:[{title:"Trust",style:"danger",default:!0},{title:"Cancel"}],cb:function(e){return function(t){if("Trust"===t)return e.set_trust_notebook(!0)}}(this)})},t.prototype.set_trust_notebook=function(e){return this._set({type:"settings",trust:!!e})},t.prototype.insert_image=function(){return this.setState({insert_image:!0})},t.prototype.command=function(e){var t,n,r;t=null!=(n=this._commands)&&null!=(r=n[e])?r.f:void 0,null!=t?t():this.set_error("Command '"+e+"' is not implemented")},t.prototype.move_edit_cursor=function(e){return this.set_error("move_edit_cursor not implemented")},t.prototype.scroll=function(e){return this.setState({scroll:e})},t.prototype.submit_input=function(e,t){var n,r,i;if(i=this.store.getIn(["cells",e,"output"]),null!=i&&(r=""+(i.size-1),n=i.get(r),null!=n))return n.getIn(["opts","password"])?void this.submit_password(e,t,function(o){return function(){var s;return t=function(){var e,n,r;for(r=[],s=e=0,n=t.length;0<=n?e<n:e>n;s=0<=n?++e:--e)r.push("●");return r}().join(""),o.set_cell_output(e,i.set(r,n.set("value",t)),!1),o.save_asap()}}(this)):(this.set_cell_output(e,i.set(r,n.set("value",t)),!1),this.save_asap())},t.prototype.submit_password=function(e,t,n){return this.set_in_backend_key_value_store(e,t,n)},t.prototype.set_in_backend_key_value_store=function(e,t,n){return this._ajax({url:_.get_store_url(this.store.get("project_id"),this.store.get("path"),e,t),timeout:15e3,cb:function(e){return function(t){if("closed"!==e._state)return t&&e.set_error("Error setting backend key/value store ("+t+")"),"function"==typeof n?n(t):void 0}}(this)})},t.prototype.set_to_ipynb=function(e,t){var n,o,s,a,l,c,u,d,p,h,f,m,_;if(null==t&&(t=!1),this._state="load",a=null!=(c=null!=(u=e.metadata)&&null!=(d=u.kernelspec)?d.name:void 0)?c:r,t?(_=void 0,m=function(){}):("function"==typeof this.reset_more_output&&this.reset_more_output(),this.syncdb.delete(void 0,!1),_=this.store.get("trust"),m=function(e){return function(t){return e.syncdb.set(t,!1)}}(this)),m({type:"settings",kernel:a}),"function"==typeof this.ensure_backend_kernel_setup&&this.ensure_backend_kernel_setup(),s=new i,s.import({ipynb:e,existing_ids:null!=(p=this.store.get("cell_list"))?p.toJS():void 0,new_id:this._new_id,process_attachment:null!=(h=this._jupyter_kernel)?h.process_attachment:void 0,output_handler:this._output_handler}),t)return void s.close();f=s.cells();for(n in f)o=f[n],m(o);return m({type:"settings",kernel:s.kernel(),trust:_}),l=s.metadata(),null!=l&&m({type:"settings",metadata:l}),s.close(),this.syncdb.sync(function(e){return function(){return"function"==typeof e.ensure_backend_kernel_setup&&e.ensure_backend_kernel_setup(),e._state="ready"}}(this))},t.prototype.nbconvert=function(e){var t;if("start"!==(t=this.store.getIn(["nbconvert","state"]))&&"run"!==t)return this.syncdb.set({type:"nbconvert",args:e,state:"start",error:null})},t.prototype.show_nbconvert_dialog=function(e){var t,n,r,i,o;if(null==e&&(t=this.store.getIn(["nbconvert","args"]),null!=t))for(n=r=0,i=t.length-1;0<=i?r<i:r>i;n=0<=i?++r:--r)"--to"===t[n]&&(e=t[n+1]);if(null==e&&(e="html"),this.setState({nbconvert_dialog:{to:e}}),"start"!==(o=this.store.getIn(["nbconvert","state"]))&&"run"!==o)return this.nbconvert(["--to",e])},t.prototype.nbconvert_get_error=function(){var e;if(e=this.store.getIn(["nbconvert","error","key"]),null!=e)return this._ajax({url:_.get_store_url(this.store.get("project_id"),this.store.get("path"),e),timeout:1e4,cb:function(t){return function(n,r){var i;if("closed"!==t._state)return i=t.store.get("nbconvert"),i.getIn(["error","key"])===e?t.setState({nbconvert:i.set("error",r)}):void 0}}(this)})},t.prototype.cell_toolbar=function(e){return this.setState({cell_toolbar:e})},t.prototype.set_cell_slide=function(e,t){return t||(t=null),this._set({type:"cell",id:e,slide:t})},t.prototype.ensure_positions_are_unique=function(){var e,t,n;if(e=s.ensure_positions_are_unique(this.store.get("cells")),null!=e)for(t in e)n=e[t],this.set_cell_pos(t,n,!1);return this._sync()},t.prototype.set_default_kernel=function(e){var t,n,r,i;this._is_project||(i=this.redux.getStore("account"),null!=i&&(t=null!=(n=null!=(r=i.getIn(["editor_settings","jupyter"]))?r.toJS():void 0)?n:{},t.kernel=e,this.redux.getTable("account").set({editor_settings:{jupyter:t}})))},t.prototype.edit_attachments=function(e){return this.setState({edit_attachments:e})},t.prototype._attachment_markdown=function(e){return"!["+e+"](attachment:"+e+")"},t.prototype.insert_input_at_cursor=function(e,t,n){var r,i,o,s,a;if(null!=this.store.getIn(["cells",e]))return i=this._get_cell_input(e),r=null!=(s=this._cursor_locs)?s[0]:void 0,(null!=r?r.id:void 0)===e?(a=i.split("\n"),o=a[r.y],a[r.y]=o.slice(0,r.x)+t+o.slice(r.x),i=a.join("\n")):i+=t,this._set({type:"cell",id:e,input:i},n)},t.prototype.set_cell_attachment=function(e,t,n,r){var i,o,s,a;if(null==r&&(r=!0),o=this.store.getIn(["cells",e]),null!=o)return i=null!=(s=null!=(a=o.get("attachments"))?a.toJS():void 0)?s:{},i[t]=n,this._set({type:"cell",id:e,attachments:i},r)},t.prototype.add_attachment_to_cell=function(e,t){var n;n=h.path_split(t).tail,n=n.toLowerCase(),n=encodeURIComponent(n).replace(/\(/g,"%28").replace(/\)/g,"%29"),this.set_cell_attachment(e,n,{type:"load",value:t}),this.store.wait({until:function(t){return function(){return"sha1"===t.store.getIn(["cells",e,"attachments",n,"type"])}}(this),cb:function(t){return function(){return setTimeout(function(){return t.insert_input_at_cursor(e,t._attachment_markdown(n),!0)},10)}}(this)})},t.prototype.delete_attachment_from_cell=function(e,t){return this.set_cell_attachment(e,t,null,!1),this.set_cell_input(e,h.replace_all(this._get_cell_input(e),this._attachment_markdown(t),""))},t.prototype.add_tag=function(e,t,n){var r;return null==n&&(n=!0),this._set({type:"cell",id:e,tags:(r={},r[""+t]=!0,r)},n)},t.prototype.remove_tag=function(e,t,n){var r;return null==n&&(n=!0),this._set({type:"cell",id:e,tags:(r={},r[""+t]=null,r)},n)},t.prototype.set_view_mode=function(e){if(this.setState({view_mode:e}),"raw"===e)return this.set_raw_ipynb()},t.prototype.edit_cell_metadata=function(e){var t,n;return t=null!=(n=this.store.getIn(["cells",e,"metadata"]))?n:u.Map(),this.blur_lock(),this.setState({edit_cell_metadata:{id:e,metadata:t}})},t.prototype.set_cell_metadata=function(e,t,n){return null==n&&(n=!0),null==t||0===h.len(t)?void this._set({type:"cell",id:e,metadata:null},n):(this._set({type:"cell",id:e,metadata:null},!1),this._set({type:"cell",id:e,metadata:t},n),this.store.getIn(["edit_cell_metadata","id"])===e?this.edit_cell_metadata(e):void 0)},t.prototype.set_raw_ipynb=function(){if("load"!==this._state)return this.setState({raw_ipynb:u.fromJS(this.store.get_ipynb())})},t.prototype.switch_to_classical_notebook=function(){return this.confirm_dialog({title:"Switch to the Classical Notebook?",body:"If you are having trouble with the new Jupyter Notebook, you can switch back to the Classical Jupyter Notebook.   You can always switch back later (and please let us know what is missing so we can add it!).\n\n---\n\n**WARNING:** Multiple people simultaneously editing a notebook, with some using classical and some using the new mode, will NOT work!  Switching back and forth will likely also cause problems (use TimeTravel to recover).  *Please avoid using classical notebook mode if you possibly can!*",choices:[{title:"Switch to Classical Notebook",style:"warning"},{title:"Continue using new notebook",default:!0}],cb:function(e){return function(t){if(console.log("choice",t),"Switch to Classical Notebook"===t)return e.redux.getTable("account").set({editor_settings:{jupyter_classic:!0}}),e.save(),e.file_action("close_file",e.store.get("path")),e.file_action("open_file",e.store.get("path"))}}(this)})},t}(n)},function(e,exports){var t,n;n=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},t=function(e,t,r){return r?RegExp(e,t):RegExp(n(e),t)},exports.find_matches=function(e,n,r,i,o){var s,a,l,c,u,d,p;null==r&&(r=!1),null==i&&(i=!1),null==o&&(o=100),c="g",r||(c+="i");try{e=t(e,c,i)}catch(e){return a=e,{error:""+a}}for(d=[],u=void 0,l=0,s=!1;null!==(u=e.exec(n));){if(u={start:u.index,stop:u.index+u[0].length},u.stop===u.start)return{matches:[]};if(d.push(u),l++,l>=o){s=!0;break}}return p={matches:d},s&&(p.abort=s),p}},function(module,exports,__webpack_require__){var require,require,requirejs;require=requirejs=function(){return console.warn("require is not available in SageMathCloud; if you need a Javascript library, please request it.")},exports.javascript_eval=function(line,element){var err;try{return eval(line)}catch(e){return err=e,console.warn("Jupyter Eval Error: "+err)}}},function(e,exports,t){var n,r,i,o,s,a,l=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=t(12).Actions,o=t(348).cm_options,s=t(26),i=t(347),a=t(351),r=t(801).IPynbImporter,exports.NBViewerActions=function(e){function t(){return this.close=l(this.close,this),this.set_from_ipynb=l(this.set_from_ipynb,this),this._process=l(this._process,this),this.load_ipynb=l(this.load_ipynb,this),this._init=l(this._init,this),t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype._init=function(e,t,n,r){var i,o;return this.store=n,this.client=r,this.setState({project_id:e,path:t,font_size:null!=(i=null!=(o=this.redux.getStore("account"))?o.get("font_size"):void 0)?i:14}),this._state="ready",this.load_ipynb()},t.prototype.load_ipynb=function(){if(!this.store.get("loading"))return this.setState({loading:new Date}),this.client.public_get_text_file({project_id:this.store.get("project_id"),path:this.store.get("path"),cb:function(e){return function(t,n){var r;if("closed"!==e._state){if(e.setState({loading:void 0}),t)return e.setState({error:"Error loading -- "+t});try{r=JSON.parse(n)}catch(n){return t=n,void e.setState({error:"Error parsing -- "+t})}return e.set_from_ipynb(r)}}}(this)})},t.prototype._process=function(e){var t,n,r,i,o;if(null!=e.data){for(r=a.JUPYTER_MIMETYPES,i=[],t=0,n=r.length;t<n;t++)o=r[t],null!=e.data[o]&&("image"===o.split("/")[0]||"application/pdf"===o)?i.push(e.data[o]={value:e.data[o]}):i.push(void 0);return i}},t.prototype.set_from_ipynb=function(e){var t,n,a,l;return a=new r,a.import({ipynb:e,output_handler:function(e){return function(t){var n;return n=0,{message:function(r){return e._process(r),t.output[""+n]=r,n+=1}}}}(this)}),n=s.fromJS(a.cells()),t=i.sorted_cell_list(n),l=s.fromJS({markdown:void 0,options:o()}),this.setState({cells:n,cell_list:t,cm_options:l})},t.prototype.close=function(){return delete this.store,delete this.client,this._state="closed"},t}(n)},function(e,exports,t){var n,r;r=t(9),n=function(e,t){var n;return null==t&&(t="python"),n=void 0,CodeMirror.runMode(e,t,function(e,t){return n=t}),n},exports.run_mode=function(e,t){var i,o;return e?r.endswith(e,"??")?"comment"===(i=n(e,t))||"string"===i?"execute":"show_source":r.endswith(e,"?")?"comment"===(o=n(e,t))||"string"===o?"execute":"show_doc":"execute":"empty"}},function(e,exports,t){var n,r,i,o,s,a=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;o=t(26),s=t(9),n=t(12).Store,r=t(800).export_to_ipynb,i=void 0,exports.JupyterStore=function(e){function t(){return this.get_raw_link=a(this.get_raw_link,this),this.get_more_output=a(this.get_more_output,this),this.get_language_info=a(this.get_language_info,this),this.get_ipynb=a(this.get_ipynb,this),this.get_kernel_info=a(this.get_kernel_info,this),this.get_local_storage=a(this.get_local_storage,this),this.get_global_clipboard=a(this.get_global_clipboard,this),this.set_global_clipboard=a(this.set_global_clipboard,this),this.get_scroll_state=a(this.get_scroll_state,this),this.get_cell_id=a(this.get_cell_id,this),this.get_cur_cell_index=a(this.get_cur_cell_index,this),this.get_cell_index=a(this.get_cell_index,this),this.get_selected_cell_ids_list=a(this.get_selected_cell_ids_list,this),this.get_selected_cell_ids=a(this.get_selected_cell_ids,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.get_selected_cell_ids=function(){var e,t;return t={},e=this.get("cur_id"),null!=e&&(t[e]=!0),this.get("sel_ids").map(function(e){t[e]=!0}),t},t.prototype.get_selected_cell_ids_list=function(){var e,t;return e=this.get_selected_cell_ids(),t=[],this.get("cell_list").forEach(function(n){return function(n){e[n]&&t.push(n)}}(this)),t},t.prototype.get_cell_index=function(e){var t,n;if(t=this.get("cell_list"),null!=t&&null!=e&&(n=t.indexOf(e),n!==-1))return n},t.prototype.get_cur_cell_index=function(){return this.get_cell_index(this.get("cur_id"))},t.prototype.get_cell_id=function(e,t){var n,r,i;if(null==e&&(e=0),null==t&&(t=void 0),r=null!=t?this.get_cell_index(t):this.get_cur_cell_index(),null!=r&&(r+=e,n=this.get("cell_list"),!(r<0||r>=n.size)))return null!=(i=this.get("cell_list"))?i.get(r):void 0},t.prototype.get_scroll_state=function(){return this.get_local_storage("scroll")},t.prototype.set_global_clipboard=function(e){return i=e},t.prototype.get_global_clipboard=function(){return i},t.prototype.get_local_storage=function(e){var t,n;if(n="undefined"!=typeof localStorage&&null!==localStorage?localStorage[this.name]:void 0,null!=n)return null!=(t=s.from_json(n))?t[e]:void 0},t.prototype.get_kernel_info=function(e){var t,n;return t=void 0,null!=(n=this.get("kernels"))&&n.forEach(function(n){return function(n){if(n.get("name")===e)return t=n.toJS(),!1}}(this)),t},t.prototype.get_ipynb=function(e){var t,n,i,o,s,a,l,c;if(null!=this.get("cells")&&null!=this.get("cell_list")){for(o={},l=null!=(s=null!=(a=this.get("cell_list"))?a.toJS():void 0)?s:[],n=0,i=l.length;n<i;n++)t=l[n],c=this.get_more_output(t),null!=c&&(o[t]=c);return r({cells:this.get("cells"),cell_list:this.get("cell_list"),metadata:this.get("metadata"),kernelspec:this.get_kernel_info(this.get("kernel")),language_info:this.get_language_info(),blob_store:e,more_output:o})}},t.prototype.get_language_info=function(){var e;return null!=(e=this.getIn(["backend_kernel_info","language_info"]))?e:this.getIn(["metadata","language_info"])},t.prototype.get_more_output=function(e){var t,n,r,i,o,s,a,l,c;if(this._is_project){if(null==this._more_output&&(this._more_output={}),i=this._more_output[e],null==i)return;for(r=i.messages,o=["discarded","truncated"],t=0,n=o.length;t<n;t++)c=o[t],i[c]&&(a="truncated"===c?"WARNING: some intermediate output was truncated.\n":"WARNING: "+i[c]+" intermediate output "+(i[c]>1?"messages were":"message was")+" "+c+".\n",l=[{text:a,name:"stderr"}],r=r.length>0?l.concat(r).concat(l):l);return r}return null!=(s=this.getIn(["more_output",e,"mesg_list"]))?s.toJS():void 0},t.prototype.get_raw_link=function(e){return this.redux.getProjectStore(this.get("project_id")).get_raw_link(e)},t}(n)},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k=function(e,t){return function(){return e.apply(t,arguments)}},A=function(e,t){function n(){this.constructor=e}for(var r in t)C.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},C={}.hasOwnProperty;h=t(31),b=t(12),o=b.Actions,s=b.Store,a=b.Table,y=b.redux,p=t(36).alert_message,v=t(9),f=function(){return y.getStore("customize").get("help_email")},x=t(19).salvus_client,w=x.remember_me_key(),n=function(e){function n(){return this.set_active_tab=k(this.set_active_tab,this),this.push_state=k(this.push_state,this),this.sign_out=k(this.sign_out,this),this.reset_password=k(this.reset_password,this),this.forgot_password=k(this.forgot_password,this),this.delete_account=k(this.delete_account,this),this.create_account=k(this.create_account,this),this.sign_in=k(this.sign_in,this),this.set_user_type=k(this.set_user_type,this),n.__super__.constructor.apply(this,arguments)}return A(n,e),n.prototype.set_user_type=function(e){return this.setState({user_type:e})},n.prototype.sign_in=function(e,t){return this.setState({signing_in:!0}),x.sign_in({email_address:e,password:t,remember_me:!0,timeout:30,cb:function(e){return function(t,n){if(e.setState({signing_in:!1}),t)return void e.setState({sign_in_error:"There was an error signing you in ("+t+").  Please try again; if that doesn't work after a few minutes, email "+f()+"."});switch(n.event){case"sign_in_failed":return e.setState({sign_in_error:n.reason});case"signed_in":y.getActions("page").set_active_tab("projects");break;case"error":return e.setState({sign_in_error:n.reason});default:return e.setState({sign_in_error:"The server responded with invalid message when signing in: "+JSON.stringify(n)})}}}(this)})},n.prototype.create_account=function(e,n,r,i){var o,s,a;return s=e.lastIndexOf(" "),s===-1?(a="",o=e):(o=e.slice(0,s).trim(),a=e.slice(s).trim()),this.setState({signing_up:!0}),x.create_account({first_name:o,last_name:a,email_address:n,password:r,agreed_to_terms:!0,token:i,cb:function(e){return function(n,r){var i;if(e.setState({signing_up:!1}),null!=n)return void e.setState({sign_up_error:n});switch(r.event){case"account_creation_failed":return e.setState({sign_up_error:r.reason});case"signed_in":return i=t(30).analytics_event,i("account","create_account"),y.getActions("page").set_active_tab("projects")}}}(this)})},n.prototype.delete_account=function(){return h.series([function(e){return function(e){return y.getActions("billing").cancel_everything(e)}}(this),function(e){return function(t){return x.delete_account({account_id:e.redux.getStore("account").get_account_id(),timeout:40,cb:t})}}(this)],function(e){return function(t){return null!=t?e.setState({account_deletion_error:"Error trying to delete the account: "+t}):e.sign_out(!0)}}(this))},n.prototype.forgot_password=function(e){return x.forgot_password({email_address:e,cb:function(t){return function(n,r){return(null!=r?r.error:void 0)&&(n=r.error),null!=n?t.setState({forgot_password_error:"Error sending password reset message to "+e+" -- "+n+". Write to "+f()+" for help.",forgot_password_success:""}):t.setState({forgot_password_success:"Password reset message sent to "+e+"; if you don't receive it, check your spam folder; if you have further trouble, write to "+f()+".",forgot_password_error:""})}}(this)})},n.prototype.reset_password=function(e,t){return x.reset_forgot_password({reset_code:e,new_password:t,cb:function(e){return function(t,n){return t?e.setState({reset_password_error:"Error communicating with server: "+t}):n.error?e.setState({reset_password_error:n.error}):(window.history.pushState("",document.title,window.location.pathname),e.setState({reset_key:"",reset_password_error:""}))}}(this)})},n.prototype.sign_out=function(e){var n,r;return v.delete_local_storage(w),r="sign_out",e&&(r+="_everywhere"),n=t(30).analytics_event,n("account",r),x.sign_out({everywhere:e,cb:function(e){return function(t){var n;return t?(n="Error signing you out -- "+v.to_json(t)+" -- please refresh your browser and try again.",p({type:"error",message:n}),e.setState({sign_out_error:n,show_sign_out:!1})):($(window).off("beforeunload",y.getActions("page").check_unload),window.location.hash="",window.location=window.location.pathname.slice(0,-8))}}(this)})},n.prototype.push_state=function(e){var n;return n=t(128).set_url,null==e&&(e=this._last_history_state),null==e&&(e=""),this._last_history_state=e,n("/settings"+v.encode_path(e))},n.prototype.set_active_tab=function(e){return this.setState({active_page:e})},n}(o),d=y.createActions("account",n),r=function(e){function n(){return this.get_page_size=k(this.get_page_size,this),this.is_paying_member=k(this.is_paying_member,this),this.get_total_upgrades=k(this.get_total_upgrades,this),this.get_confirm_close=k(this.get_confirm_close,this),this.get_email_address=k(this.get_email_address,this),this.get_username=k(this.get_username,this),this.get_color=k(this.get_color,this),this.get_first_name=k(this.get_first_name,this),this.get_fullname=k(this.get_fullname,this),this.get_editor_settings=k(this.get_editor_settings,this),this.get_terminal_settings=k(this.get_terminal_settings,this),this.is_admin=k(this.is_admin,this),this.is_logged_in=k(this.is_logged_in,this),this.get_account_id=k(this.get_account_id,this),this.get_user_type=k(this.get_user_type,this),n.__super__.constructor.apply(this,arguments);
}return A(n,e),n.prototype.get_user_type=function(){return this.get("user_type")},n.prototype.get_account_id=function(){return this.get("account_id")},n.prototype.is_logged_in=function(){return"signed_in"===this.get_user_type()},n.prototype.is_admin=function(){return this.get("groups").includes("admin")},n.prototype.get_terminal_settings=function(){var e;return null!=(e=this.get("terminal"))?e.toJS():void 0},n.prototype.get_editor_settings=function(){var e;return null!=(e=this.get("editor_settings"))?e.toJS():void 0},n.prototype.get_fullname=function(){var e,t;return(null!=(e=this.get("first_name"))?e:"")+" "+(null!=(t=this.get("last_name"))?t:"")},n.prototype.get_first_name=function(){var e;return null!=(e=this.get("first_name"))?e:""},n.prototype.get_color=function(){var e,t,n;return null!=(e=null!=(t=this.getIn(["profile","color"]))?t:null!=(n=this.get("account_id"))?n.slice(0,6):void 0)?e:"f00"},n.prototype.get_username=function(){return v.make_valid_name(this.get_fullname())},n.prototype.get_email_address=function(){return this.get("email_address")},n.prototype.get_confirm_close=function(){return this.getIn(["other_settings","confirm_close"])},n.prototype.get_total_upgrades=function(){var e;return t(910).get_total_upgrades(null!=(e=this.getIn(["stripe_customer","subscriptions","data"]))?e.toJS():void 0)},n.prototype.is_paying_member=function(){var e,t,n;return t=this.get_total_upgrades(),null!=t&&function(){var r;r=[];for(e in t)n=t[e],r.push(n);return r}().reduce(function(e,t){return e+t},0)>0},n.prototype.get_page_size=function(){var e;return null!=(e=this.getIn(["other_settings","page_size"]))?e:50},n}(s),m=v.deep_copy(t(24).SCHEMA.accounts.user_query.get.fields),m.user_type=v.get_local_storage(w)?"signing_in":"public",y.createStore("account",r,m),i=function(e){function t(){return this._change=k(this._change,this),this.query=k(this.query,this),t.__super__.constructor.apply(this,arguments)}return A(t,e),t.prototype.query=function(){return"accounts"},t.prototype._change=function(e){var t;return this.redux.getActions("account").setState(null!=(t=e.get_one())&&"function"==typeof t.toJS?t.toJS():void 0)},t}(a),y.createTable("account",i),x.on("signed_in",function(){return y.getActions("account").set_user_type("signed_in")}),x.on("signed_out",function(){return y.getActions("account").set_user_type("public")}),x.on("remember_me_failed",function(){return y.getActions("account").set_user_type("public")}),l=void 0,_=function(e){var t;if(l&&(clearInterval(l),l=void 0),e)return t=function(){if(x.is_connected())return y.getActions("projects").save_all_files()},l=setInterval(t,1e3*e)},u=y.getStore("account"),c=void 0,u.on("change",function(){var e;if(e=u.get("autosave"),e!==c)return c=e,_(e)}),g=void 0,u.on("change",function(){var e;if(e=u.getIn(["other_settings","standby_timeout_m"]),g!==e)return g=e,x.set_standby_timeout_m(e)}),u.on("change",function(){var e;if(e=u.getIn(["editor_settings","jupyter_classic"]),null!=e)return e?t(40).switch_to_ipynb_classic():t(802).register()})},function(e,exports,t){var n,r,i,o,s,a,l,c=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d={}.hasOwnProperty;a=t(12),r=a.Table,s=a.redux,o="server_stats",i=s.createActions(o),l=s.createStore(o,{loading:!0}),n=function(e){function t(){return this._change=c(this._change,this),t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.query=function(){return"stats"},t.prototype._change=function(e,t){var n,r,o,s,a;for(o=void 0,a=e.get(t).toArray(),n=0,r=a.length;n<r;n++)s=a[n],null!=s&&(null==o||s.get("time")>o.get("time"))&&(o=s);if(null!=o)return o=o.toJS(),o.time=new Date(o.time),o.loading=!1,i.setState(o)},t}(r),s.createTable(o,n)},function(module,exports,__webpack_require__){var Cell,Worksheet,defaults,log,bind=function(e,t){return function(){return e.apply(t,arguments)}},slice=[].slice;defaults=__webpack_require__(9).defaults,log=function(e){return console.log(e)},Cell=function(){function e(e){this.opts=defaults(e,{output:void 0,cell_id:void 0}),this.output=e.output,this.cell_id=e.cell_id}return e}(),Worksheet=function(){function e(e){this.del_interact_var=bind(this.del_interact_var,this),this.set_interact_var=bind(this.set_interact_var,this),this.kill=bind(this.kill,this),this.interrupt=bind(this.interrupt,this),this.execute_code=bind(this.execute_code,this);var t,n,r,i;for(this.worksheet={},r=["execute_code","interrupt","kill","element"],t=0,n=r.length;t<n;t++)i=r[t],this.worksheet[i]=e[i]}return e.prototype.execute_code=function(e){return"string"==typeof e&&(e={code:e}),this.worksheet.execute_code(e)},e.prototype.interrupt=function(){return this.worksheet.interrupt()},e.prototype.kill=function(){return this.worksheet.kill()},e.prototype.set_interact_var=function(e){var t,n;return t=this.worksheet.element.find("#"+e.id),0===t.length?log("BUG: Attempt to set var of interact with id "+e.id+" failed since no such interact known."):(n=t.data("interact"),null==n?log("BUG: interact with id "+e.id+" doesn't have corresponding data object set.",t):n.set_interact_var(e))},e.prototype.del_interact_var=function(e){var t,n;return t=this.worksheet.element.find("#"+e.id),0===t.length?log("BUG: Attempt to del var of interact with id "+e.id+" failed since no such interact known."):(n=t.data("interact"),null==n?log("BUG: interact with id "+e.id+" doesn't have corresponding data object del.",t):n.del_interact_var(e.name))},e}(),exports.sagews_eval=function(code,worksheet,element,id,obj){var cell,js_error,print;null!=element&&(cell=new Cell({output:element,cell_id:id})),worksheet=new Worksheet(worksheet),print=function(){var e,t,n,r,i;for(i=1<=arguments.length?slice.call(arguments,0):[],e=t=0,n=i.length;0<=n?t<n:t>n;e=0<=n?++t:--t)"string"!=typeof i[e]&&(i[e]=JSON.stringify(null!=(r=i[e])?r:"undefined"));return cell.output.append($("<div></div>").text(""+i.join(" ")))};try{return eval(code)}catch(e){return js_error=e,cell.output.append($("<div class='sagews-output-stderr'></div>").text(js_error+"\n(see the Javascript console for more details)")),console.warn("ERROR evaluating code '"+code+"' in Sage worksheet",js_error),console.trace()}}},function(e,exports,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,m,_,g=function(e,t){return function(){return e.apply(t,arguments)}},v=function(e,t){function n(){this.constructor=e}for(var r in t)y.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},y={}.hasOwnProperty;u=t(9),c=u.defaults,f=u.required,h=t(12),n=h.Actions,o=h.Store,s=h.Table,p=h.redux,l=t(36).alert_message,d="system_notifications",r=function(e){function t(){return this.mark_all_done=g(this.mark_all_done,this),this.send_message=g(this.send_message,this),t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.send_message=function(e){return e=c(e,{id:u.uuid(),time:new Date,text:f,priority:"high"}),_.set(e)},t.prototype.mark_all_done=function(){var e;return null!=(e=m.get("notifications"))?e.map(function(e){return function(e,t){if(!e.get("done"))return _.set({id:t,done:!0})}}(this)):void 0},t}(n),a=p.createActions(d,r),m=p.createStore(d,{loading:!0}),i=function(e){function t(){return this._change=g(this._change,this),t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.query=function(){return"system_notifications"},t.prototype._change=function(e,t){var n,r,i,o,s;a.setState({loading:!1,notifications:e.get()}),o=u.get_local_storage("system_notifications"),i=null!=o?u.from_json(o):{},r=u.minutes_ago(60),e.get().map(function(e){return function(e,t){var n;if(null==i[t]&&(n=e.toJS(),n.time>=r&&"high"===n.priority&&!n.done))return i[t]=n.time,l({type:"info",message:"SYSTEM MESSAGE ("+n.time.toLocaleString()+"): "+n.text,timeout:3600})}}(this));for(n in i)s=i[n],s.time<r&&delete i[n];return u.set_local_storage("system_notifications",u.to_json(i))},t}(s),_=p.createTable(d,i)},function(e,exports,t){var n,r,i,o,s,a,l,c,u;o=79,r=/^LaTeX Warning: (.*)$/,n=/^(Over|Under)full \\(v|h)box/,c=/^(Package \b.+\b Warning:.*)$/,i=/lines? ([0-9]+)/,l=/^Package (\b.+\b) Warning/,a=function(e){var t,n;for(this.text=e.replace(/(\r\n)|\r/g,"\n"),n=this.text.split("\n"),this.lines=[n[0]],t=1;t<n.length;)n[t-1].length===o&&"..."!==n[t-1].slice(-3)?this.lines[this.lines.length-1]+=n[t]:this.lines.push(n[t]),t++;this.row=0},function(){this.nextLine=function(){return this.row++,!(this.row>=this.lines.length)&&this.lines[this.row]},this.rewindLine=function(){this.row--},this.linesUpToNextWhitespaceLine=function(){return this.linesUpToNextMatchingLine(/^ *$/)},this.linesUpToNextMatchingLine=function(e){var t,n;for(t=[],n=this.nextLine(),n!==!1&&t.push(n);n!==!1&&!n.match(e)&&n!==!1;)n=this.nextLine(),n!==!1&&t.push(n);return t}}.call(a.prototype),u={NORMAL:0,ERROR:1},s=function(e,t){this.log=new a(e),this.state=u.NORMAL,t=t||{},this.fileBaseNames=t.fileBaseNames||[/compiles/,/\/usr\/local/],this.ignoreDuplicates=t.ignoreDuplicates,this.data=[],this.fileStack=[],this.currentFileList=this.rootFileList=[],this.openParens=0},function(){return this.parse=function(){for(var e;(this.currentLine=this.log.nextLine())!==!1;)this.state===u.NORMAL&&(this.currentLineIsError()?(this.state=u.ERROR,this.currentError={line:null,file:this.currentFilePath,level:"error",message:this.currentLine.slice(2),content:"",raw:this.currentLine+"\n"}):this.currentLineIsRunawayArgument()?this.parseRunawayArgumentError():this.currentLineIsWarning()?this.parseSingleWarningLine(r):this.currentLineIsHboxWarning()?this.parseHboxLine():this.currentLineIsPackageWarning()?this.parseMultipleWarningLine():this.parseParensForFilenames()),this.state===u.ERROR&&(this.currentError.content+=this.log.linesUpToNextMatchingLine(/^l\.[0-9]+/).join("\n"),this.currentError.content+="\n",this.currentError.raw+=this.currentError.content,e=this.currentError.raw.match(/l\.([0-9]+)/),e&&(this.currentError.line=parseInt(e[1],10)),this.data.push(this.currentError),this.state=u.NORMAL);return this.postProcess(this.data)},this.currentLineIsError=function(){return"!"===this.currentLine[0]},this.currentLineIsRunawayArgument=function(){return this.currentLine.match(/^Runaway argument/)},this.currentLineIsWarning=function(){return!!this.currentLine.match(r)},this.currentLineIsPackageWarning=function(){return!!this.currentLine.match(c)},this.currentLineIsHboxWarning=function(){return!!this.currentLine.match(n)},this.parseRunawayArgumentError=function(){var e;return this.currentError={line:null,file:this.currentFilePath,level:"error",message:this.currentLine,content:"",raw:this.currentLine+"\n"},this.currentError.content+=this.log.linesUpToNextWhitespaceLine().join("\n"),this.currentError.content+="\n",this.currentError.content+=this.log.linesUpToNextWhitespaceLine().join("\n"),this.currentError.raw+=this.currentError.content,e=this.currentError.raw.match(/l\.([0-9]+)/),e&&(this.currentError.line=parseInt(e[1],10)),this.data.push(this.currentError)},this.parseSingleWarningLine=function(e){var t,n,r,o;o=this.currentLine.match(e),o&&(r=o[1],n=r.match(i),t=n?parseInt(n[1],10):null,this.data.push({line:t,file:this.currentFilePath,level:"warning",message:r,raw:r}))},this.parseMultipleWarningLine=function(){var e,t,n,r,o,s,a,u;if(a=this.currentLine.match(c)){for(u=[a[1]],t=this.currentLine.match(i),e=t?parseInt(t[1],10):null,n=this.currentLine.match(l),r=n[1],o=RegExp("(?:\\("+r+"\\))*[\\s]*(.*)","i");this.currentLine=this.log.nextLine();)t=this.currentLine.match(i),e=t?parseInt(t[1],10):e,a=this.currentLine.match(o),u.push(a[1]);s=u.join(" "),this.data.push({line:e,file:this.currentFilePath,level:"warning",message:s,raw:s})}},this.parseHboxLine=function(){var e,t;t=this.currentLine.match(i),e=t?parseInt(t[1],10):null,this.data.push({line:e,file:this.currentFilePath,level:"typesetting",message:this.currentLine,raw:this.currentLine})},this.parseParensForFilenames=function(){var e,t,n,r,i;n=this.currentLine.search(/\(|\)/),n!==-1&&(i=this.currentLine[n],this.currentLine=this.currentLine.slice(n+1),"("===i?(e=this.consumeFilePath(),e?(this.currentFilePath=e,t={path:e,files:[]},this.fileStack.push(t),this.currentFileList.push(t),this.currentFileList=t.files):this.openParens++):")"===i&&(this.openParens>0?this.openParens--:this.fileStack.length>1&&(this.fileStack.pop(),r=this.fileStack[this.fileStack.length-1],this.currentFilePath=r.path,this.currentFileList=r.files)),this.parseParensForFilenames())},this.consumeFilePath=function(){var e,n,r;return!!this.currentLine.match(/^\/?([^ \)]+\/)+/)&&(r=t(1214),e=r(this.currentLine.search(RegExp("$|\\)"))),n=void 0,e===-1?(n=this.currentLine,this.currentLine=""):(n=this.currentLine.slice(0,e),this.currentLine=this.currentLine.slice(e)),n)},this.postProcess=function(e){var t,n,r,i,o,s,a;for(t=[],n=[],a=[],s=[],i=[],r=function(e){return e.raw},o=0;o<e.length;)this.ignoreDuplicates&&i.indexOf(r(e[o]))>-1?o++:("error"===e[o].level?n.push(e[o]):"typesetting"===e[o].level?s.push(e[o]):"warning"===e[o].level&&a.push(e[o]),t.push(e[o]),i.push(r(e[o])),o++);return{errors:n,warnings:a,typesetting:s,all:t,files:this.rootFileList}}}.call(s.prototype),exports.LatexParser=s},,function(e,exports,t){exports=e.exports=t(15)(),exports.push([e.id,'@font-face{font-family:droid-sans-mono;font-style:normal;font-weight:400;src:local("Droid Sans Mono"),local("DroidSansMono"),url('+t(962)+') format("truetype")}#salvus-help{margin-top:1em}.salvus-help-answer{margin-top:2em;padding:2ex;border:1px solid #aaa;background-color:#fff;border-radius:3px;box-shadow:2px 2px 1px #bbb}.salvus-help-list{margin-top:.7ex;border:1px solid #d3d3d3;padding:15px;border-radius:5px;background-color:#f8f8f8}.salvus-a{color:#08c}.salvus-completions{background:#ffffe0;position:absolute;z-index:999;overflow:hidden;box-shadow:8px 8px 4px #bbb;border:3px solid #99f;border-radius:5px}.salvus-completions select{background:#ffffe0;outline:none;border:none;padding:3px;margin:3px;font-family:monospace}.salvus-codemirror-introspect-content-source-code{white-space:pre;font-family:monospace;padding:1ex;overflow:auto}.salvus-codemirror-introspect-content-docstring{white-space:pre;font-family:monospace;overflow:auto;margin-left:2em;margin-right:2em}.nav-pills>.disabled>a,.nav-tabs>.disabled>a{color:#999;cursor:pointer;border:none}.nav-pills>.disabled>a:hover,.nav-tabs>.disabled>a:hover{background-color:transparent}.smc-toggle-show{border-bottom:1px solid grey}#smc-idle-notification{z-index:9999;position:fixed;margin:0;padding:0;top:0;bottom:0;left:0;right:0;background:hsla(0,0%,59%,.5);cursor:pointer}#smc-idle-notification div{color:#fff;background-color:#428bca;min-height:100px;width:350px;border-radius:5px;padding:15px;text-align:center;position:absolute;margin:auto;top:100px;left:0;right:0;cursor:pointer}#smc-idle-notification div h1{font-size:22px}#smc-idle-notification div img{width:80px;height:80px}.special{color:red}.salvus-console{background-color:#eaeaea;padding:0;margin:0;border:0 solid #000}.salvus-console-topbar{padding:0;margin:0;overflow:hidden;border:1px solid #d3d3d3}.salvus-console-filename,.salvus-console-title{padding:10px;font-weight:700;color:#555;padding-top:4px;padding-bottom:0}.salvus-console-title{overflow:hidden;max-width:40%;max-height:1.5em;padding-right:50px}.salvus-console-description{color:#888}.salvus-console-for-mobile{position:absolute;opacity:0;color:#fff}.salvus-console-terminal{height:100%;width:100%;position:absolute;font-family:droid-sans-mono;padding:1px;margin:0;padding:5px;white-space:nowrap;flex:1}.salvus-console-scrollbar{height:99.5%;overflow-x:hidden;overflow-y:scroll;z-index:1}.salvus-console-cursor-blur{border:1px solid grey;border-radius:3px}.salvus-console-cursor-focus{animation:salvus-cursor-blink 1.3s linear 0s infinite;background:#fff;color:#555;border:1px solid #555;margin:-1px}@keyframes salvus-cursor-blink{0%,40%{-webkit-filter:invert(1);filter:invert(1)}50%,90%{-webkit-filter:invert(0);filter:invert(0)}}.salvus-console-textarea{height:0;width:0;border:0 solid #fff;opacity:0;position:fixed}.salvus-console-focus{border:1px solid #77b6e8;border-radius:4px;box-shadow:inset 0 0 4px #77b6e8}.salvus-console-blur{border:1px solid #d3d3d3;border-radius:4px}.salvus-notification-indicator{position:relative;font-size:17pt;color:#666;cursor:pointer;margin-right:6px}.salvus-notification-indicator:hover{color:#222}.salvus-notification-unseen-count{font-size:8pt;color:red;position:absolute;left:16px;top:11px;font-weight:700;background:transparent}.salvus-notification-list{width:50%;z-index:10;margin-left:0;position:fixed;box-shadow:0 0 15px #aaa;border:2px solid #ccc;top:43px;background:#fff;right:2em;overflow-y:auto;overflow-x:hidden;font-size:10pt;padding:4px;border-radius:5px}@media (max-width:767px){.salvus-notification-list{width:75%}}.smc-top-bar>.container{position:absolute;display:flex;padding:0;width:100%}.smc-top-bar>.container>ul>li>a{padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.smc-project-tab-floating{background-color:#fff;border:1px dotted #9a9a9a;line-height:normal;z-index:100}.smc-project-tab-floating,.smc-project-tab-floating>a{display:block;list-style-image:none;list-style-position:outside;list-style-type:none}.smc-project-tab-floating>a{color:#555;height:51px;line-height:20px;outline-color:#555;outline-style:none;outline-width:0;padding:0}.smc-projects-tabs{padding:10px}.smc-dropdown-projects>li>ul{width:100%}.smc-dropdown-projects>li>ul>li>a{height:39px;padding:2px 10px}.smc-project-files-dropdown>a{overflow:hidden;text-overflow:ellipsis}.smc-project-files-dropdown>ul{width:100%}.smc-file-tabs-fixed-desktop>li>a{height:36px;padding:8px 10px;border-radius:5px 5px 0 0}.smc-file-tabs-files-desktop>li>a{padding:13px 15px 7px;border-radius:5px 5px 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.smc-file-tabs-fixed-mobile>li>a{padding:8px 10px}.smc-file-tabs-files-mobile>li>a{padding:13px 15px 7px}.smc-file-tab-floating{background-color:#ededed;color:#333;flex-shrink:1;overflow-x:hidden;overflow-y:hidden;text-align:left;width:250px}.smc-file-tab-floating,.smc-file-tab-floating>a{border-radius:5px 5px 0 0;box-sizing:border-box;display:block;height:36px;line-height:normal;list-style-image:none;list-style-position:outside;list-style-type:none;position:relative}.smc-file-tab-floating>a{background-color:transparent;padding:13px 15px 7px}.highlight{background-color:#ff0}.smc-wizard{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.smc-wizard .modal-header{white-space:nowrap}.smc-wizard .modal-header .btn-close,.smc-wizard .modal-header .nav-pills,.smc-wizard .modal-header .smc-wizard-search,.smc-wizard .modal-header button.close,.smc-wizard .modal-header h2{margin-top:10px}.smc-wizard .modal-header .btn-close>span,.smc-wizard .modal-header button.close>span{font-size:30px}.smc-wizard .modal-body>div.row:first-child ul{height:175px;overflow:auto;padding:1px}.smc-wizard .modal-body>div.row:first-child ul>li{cursor:pointer}.smc-wizard .modal-body>div.row:first-child ul>li:not(.active):hover{background-color:#eee}.smc-wizard .modal-body div.smc-wizard-descr,.smc-wizard .modal-body pre.code{height:200px;overflow:auto;-webkit-user-select:initial;-moz-user-select:initial;-ms-user-select:initial;user-select:auto}.smc-wizard .modal-body div.smc-wizard-descr .attr,.smc-wizard .modal-body div.smc-wizard-descr .attr a,.smc-wizard .modal-body pre.code .attr,.smc-wizard .modal-body pre.code .attr a{font-size:9px;color:grey;margin-top:30px;text-align:right}.smc-wizard div.modal-footer{padding:10px}.smc-wizard span.badge{background-color:#eee;color:#428bca}.smc-wizard span.hl{background-color:#ff0}.smc-wizard .active span.hl{color:#333}.salvus-editor-content{position:absolute;left:0;margin:0;width:100%;padding:0;background:#fff}.salvus-editor-content .table{width:auto}.salvus-editor-close-button-x{font-size:14px;margin-top:9px;margin-right:15px;width:2%}.salvus-editor-close-button-x:hover{color:red}.salvus-editor-tab-filename{overflow:hidden;display:block;white-space:nowrap}.salvus-editor-find{display:inline-block;height:25px;padding:4px 6px;margin-top:3px}.salvus-editor-filename-pill{width:32%;cursor:pointer}.salvus-editor-filename-pill-icon-active{color:orange}@media (max-width:767px){.salvus-editor-filename-pill{width:50%}}@media (max-width:480px){.salvus-editor-filename-pill{width:100%}}.salvus-editor-codemirror{width:100%;padding:0}.salvus-editor-codemirror-button-row{background:#efefef}.salvus-editor-codemirror-filename,.salvus-editor-pdf-title{margin-left:1em;margin-right:10px;font-size:11pt;font-weight:700;color:#555}.salvus-editor-codemirror-cursor{position:absolute;width:15em;z-index:5}.salvus-editor-codemirror-cursor-inside{position:absolute;top:-1.3em;left:.5ex;height:1.15em;width:.1ex;border-left:2px solid #000;border:1px solid #aaa;opacity:.7}.salvus-editor-codemirror-cursor-label{position:absolute;top:-2.9em;left:1.5ex;font-size:8pt;font-family:serif;background-color:hsla(0,0%,100%,.7)}.salvus-editor-recent-files{margin-bottom:0}.salvus-editor-codemirror-sync{font-size:8pt;color:#bbb}.salvus-latex-errors-counter{color:#fff;font-weight:700}.salvus-latex-warnings-counter{color:#fdb600}.salvus-editor-latex-mesg-template{overflow-x:auto;background:#fff;margin-right:2em}.salvus-editor-latex-mesg-template-error{border:2px solid #a00}.salvus-editor-latex-mesg-template-typesetting,.salvus-editor-latex-mesg-template-warning{border:2px solid #fdb600}.salvus-editor-latex-right-pane>.nav>li>a:hover{background-color:#fff}.salvus-editor-latex-right-pane>.nav>li>a.btn-danger:hover{background-color:#ad241f}.salvus-editor-latex-right-pane>.nav-tabs>li.active>a{color:#333}.salvus-editor-latex-right-pane>.nav-tabs>li.active>a.btn-danger{background-color:#ad241f}.salvus-editor-latex-right-pane>.nav-tabs>li>a{color:#555;margin-top:2px;padding-top:6px;padding-bottom:6px}.salvus-editor-latex-right-pane>.nav-tabs>li>a.btn-danger{color:#fff}.smc-latex-inline-error{padding:10px}.smc-latex-inline-error.smc-latex-inline-error-error{border:3px solid #fbb}.smc-latex-inline-error.smc-latex-inline-error-warning{border:3px solid #fdb600}.smc-latex-inline-error.smc-latex-inline-error-typesetting{border:3px solid #aaf}.smc-latex-inline-error>.smc-latex-inline-error-message{padding-bottom:.5em}.smc-latex-inline-error>.smc-latex-inline-error-content{font-family:monospace}.smc-latex-inline-error-error{background-color:#ffe0d9}.smc-latex-inline-error-warning{background-color:#dfffcc}.smc-latex-inline-error-typesetting{background-color:#ccdfff}.smc-latex-error-popover{background-color:#ffcdcc}.smc-latex-error-popover>pre{background-color:#ffcdcc;border:0;font-size:85%}.smc-latex-error-popover>.arrow:after{border-right-color:#ffcdcc!important}.smc-latex-error-popover>.popover-title{background-color:#ffacaa}.Codemirror-latex-errors{padding:0 2px 0 4px;min-width:15px;text-align:right;white-space:nowrap}.salvus-editor-pdf-preview-message{padding:20px}.salvus-latex-mesg-message{font-size:13pt;margin-left:1em}.salvus-latex-mesg-content{font-size:9pt;margin:5px}.salvus-editor-pdf-preview-page{background-color:#666;color:#fff;margin:0 auto;overflow:visible}.salvus-editor-pdf-preview-page-single{background-color:#666;text-align:center;margin:0 auto}.salvus-editor-pdf-preview-page-single img{display:block;max-width:100%;width:100%}.salvus-editor-pdf-preview-spinner{position:absolute;left:2em;top:10em}.salvus-editor-pdf-preview-text{border-top:1px solid #000;text-align:left;margin-left:1em;margin-right:1em;padding-top:1em;color:#8a8a8a}.salvus-editor-pdf-preview-highlight{margin-bottom:-3em;padding-bottom:3em;opacity:.3;background-color:#ff0}.salvus-editor-pdf-preview-buttons{font-size:11pt;border:1px solid #d3d3d3}.salvus-editor-search-openfiles-input{width:80%}.salvus-editor-openfile-excluded-from-search{opacity:.6}.salvus-editor-openfile-included-in-search{border-radius:6px;border:1px solid #aaa;box-shadow:2px 2px 2px 2px #bbb}.smc-users-viewing-document{display:inline-block}.salvus-editor-chat-title{color:#666;margin-right:5px;white-space:nowrap;font-size:18pt;font-weight:700;position:fixed;z-index:10;right:0;margin-top:-2px}.smc-editor-chat-smiley{font-size:125%}.sagews-input{white-space:nowrap}.sagews-input-live:hover{cursor:pointer;background-color:#428bca}.sagews-input-hr{margin:0;margin-right:-10px;margin-bottom:.5ex;display:inline-block;height:3px;background:#ccc}.sagews-input-newcell{width:60%}.sagews-input-eval-state,.sagews-input-run-state{width:20%}.sagews-input-evaluated{background:#428bca}.sagews-input-execute{background:#080}.sagews-input-running{background:#0a0}.sagews-input-waiting{background:#dc4437}.sagews-output{display:block;white-space:normal;word-wrap:break-word;padding-left:2em}.sagews-output-stderr,.sagews-output-stdout{white-space:pre-wrap}.sagews-output-cm-gutter{border-right:1ex solid #5cb85c}.sagews-output-cm-text{overflow-x:auto!important;overflow-y:hidden!important;max-width:100%!important}.sagews-output-cm-wrap{padding-top:1ex!important;padding-bottom:1ex!important;border:1px solid #ddd}.sagews-output-edit-button-group{visibility:hidden}.sagews-output:hover .sagews-output-edit-button-group{visibility:visible}.sagews-output-editor{font-family:helvetica;border:3px solid #add8e6}.sagews-output-editor-content{padding:6px}.sagews-output-editor-buttons{background-color:#efefef;margin-bottom:5px;border:1px solid #d3d3d3}.salvus-editor-codemirror-worksheet-editable-buttons{padding-top:3px}.salvus-editor-mathjax-editor{cursor:pointer;border:1px solid #d3d3d3!important;padding:3px!important;margin-left:5px}.sagews-editor-latex-raw{border:1px solid #d3d3d3;padding:3px;box-shadow:3px 3px 3px 3px #888;margin:0 auto}.sagews-editor-latex-preview{border:1px solid #000;padding:12px}.sagews-output-editor-background-color-selector,.sagews-output-editor-foreground-color-selector{cursor:pointer;width:1px;height:30px}.sagews-output-html,.sagews-output-md{font-family:helvetica}.sagews-output-stderr{color:red}.sagews-output-code{white-space:pre;border:2px solid #add8e6;padding:1ex}.sagews-output-image,.sagews-output-tex{background:#fff}.sagews-output-image>img{cursor:pointer}.sagews-output-video{cursor:pointer;background:#fff;border:1px solid #d3d3d3}.sagews-output-link{cursor:pointer}.sagews-output-hide{height:0;background:#eee}.salvus-editor-image{padding:0;overflow-y:auto;left:0}.salvus-editor-image-container{overflow:auto;background-color:#fff;border:1px solid #aaa;box-shadow:5px 5px 5px 5px #888}.salvus-editor-image-title{margin-left:3em;margin-right:5em;font-size:10pt;font-weight:700;color:#555}.salvus-editor-static-html-content{overflow-y:auto;margin:0;border-top:1px solid #d3d3d3}.salvus-editor-history-history_editor .salvus-editor-codemirror-input-box{width:100%}.salvus-editor-history-slider-style{height:11px;position:relative;margin:11px}.salvus-editor-history-slider-style>.ui-slider-handle{width:16px;height:24px;position:absolute;top:-8px;margin-left:-6px;z-index:5;outline:none}.smc-history-diff-wrap-delete{background-color:#ffecec}.smc-history-diff-gutter-delete{background-color:#fdd}.smc-history-diff-wrap-insert{background-color:#eaffea}.smc-history-diff-gutter-insert{background-color:#dbffdb}.smc-history-diff-wrap-divide{border-bottom:1px solid grey;margin-bottom:2em}.smc-history-diff-gutter1,.smc-history-diff-gutter2{width:50px;color:#999}.smc-history-diff-number{color:#999;padding-left:10px}li{line-height:normal}code{font-size:inherit}.cm-trailingspace{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAYAAAB/qH1jAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QUXCToH00Y1UgAAACFJREFUCNdjPMDBUc/AwNDAAAFMTAwMDA0OP34wQgX/AQBYgwYEx4f9lQAAAABJRU5ErkJggg==);background-position:0 100%;background-repeat:repeat-x}.file-pages{float:none;overflow:hidden}.file-pages>li>a{position:static;padding:13px 15px 7px;border-radius:5px 5px 0 0}.file-pages li.ui-sortable-helper>a{background-color:#eee}.file-pages li.active.ui-sortable-helper>a{background-color:#08c}.nav-pills>li+li{margin-left:0!important}.salvus-editor-codemirror-not-synced{background:red;color:#fff;padding:5px;border-radius:3px}.salvus-editor-resize-bar-layout-1{height:5px;cursor:ns-resize;background:#ddd;border:1px solid grey;border-radius:3px;z-index:1}.salvus-editor-resize-bar-layout-1:hover{background:#888}.salvus-editor-html-md-resize-bar,.salvus-editor-latex-resize-bar,.salvus-editor-resize-bar-layout-2,.smc-vertical-drag-bar{cursor:ew-resize;background:#ddd;width:4px;border:1px solid grey;border-radius:3px;z-index:1}.salvus-editor-html-md-resize-bar:hover,.salvus-editor-latex-resize-bar:hover,.salvus-editor-resize-bar-layout-2:hover,.smc-vertical-drag-bar:hover{background:#888}.salvus-editor-html-md-preview{padding:12px;background:#fff;overflow:auto;border:1px solid grey;border-radius:4px}.smc-html-selection{background-color:#d3d3d3;border:1px solid #d3d3d3}.smc-html-cursor{border-left:1px solid #000;margin-right:-1px}.salvus-html-editor-symbols-dialog td:hover{background:#add8e6}.salvus-editor-codeedit-buttonbar-mode{background:#fafafa;padding:6px 12px;border:1px solid #ddd;cursor:pointer;color:#00008b}.sagews-output-raw_input{font-family:sans-serif;margin:1em}.smc-sagews-gutter-hide-show{width:12px;color:#999;margin-right:14px;margin-left:3px}.CodeMirror-linewidget{overflow:hidden}.smc-editor-codemirror-cursor{position:absolute;width:15em;z-index:5}.smc-editor-codemirror-cursor-inside{position:absolute;top:-1.2em;left:-1px;height:1.2em;width:1px}.smc-editor-codemirror-cursor-label{position:absolute;top:-2.3em;font-size:8pt;font-family:serif;color:#fff}.smc-uncommitted{color:#fff;background-color:red;padding:5px;border-radius:3px;margin-left:5px;margin-right:-5px}h1{font-size:250%}h2{font-size:200%}h3{font-size:170%}h4{font-size:150%}h5{font-size:130%}h6{font-size:110%}.MathJax_SVG_Display{background-color:inherit!important}.smc-vfill{flex:1;display:flex;flex-direction:column;overflow:hidden}.smc-vflex{display:flex;flex-direction:column}.smc-btn-group-nobreak{display:flex;align-items:flex-start}.salvus-editor-codemirror-button-container{border:1px solid #d3d3d3}.smc-message-from-viewer a:link,.smc-message-from-viewer a:visited{color:#ffeb3b}.smc-chat-message img{max-width:100%}.smc-chat-message blockquote{padding:0 0 0 10px;font-size:inherit}.smc-chat-message blockquote p{font-size:inherit}.smc-chat-message pre{font-size:inherit;padding:5px}.cm-tab{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);background-position:100%;background-repeat:no-repeat}.smc-jupyter-nbviewer-content{border:1px solid #d3d3d3}.smc-jupyter-nbviewer{background:#fff;position:fixed;width:100%}.smc-jupyter-notebook{background:#fff;width:100%;left:0;min-height:10em}.smc-jupyter-notebook-history-slider-controls{position:absolute;top:8px;right:5px;width:80%;background:#fff;border:2px solid orange;border-radius:4px;padding:20px;box-shadow:5px 6px 4px #d3d3d3}.smc-jupyter-notebook-history-slider{margin-top:11px}.smc-jupyter-notebook-status-messages{font-size:10pt}.smc-jupyter-notebook-danger{color:#fff;font-weight:700;font-size:7pt;background:red}.smc-jupyter-history-revision-number,.smc-jupyter-history-revision-time{font-size:10pt}.smc-jupyter-cursor{position:absolute;width:15em;z-index:5!important}.smc-jupyter-cursor-inside{height:1.2em;width:1px}.smc-jupyter-cursor-label{font-size:8pt;font-family:serif;color:#fff;z-index:1000}.smc-jupyter-notebook-notebook{width:100%}.salvus-tasks-editor{background:#fff;width:100%}.salvus-task,.salvus-tasks-new{background-color:#fff}.salvus-task{padding:1ex 0 0 1ex;cursor:pointer;border:2px solid transparent;border-radius:1ex;width:99%;margin-left:0;margin-right:0}.highlight-tag{background-color:orange!important;margin:0}.salvus-task:hover{background-color:#efe}.salvus-task-desc{border:1px solid #ddd;padding:1ex;padding-bottom:0;margin:1ex;margin-top:0;background:#fff}.salvus-task-desc:hover{cursor:text}.salvus-tasks-desc-edit{width:100%}.salvus-task-icon{color:#888;padding-top:4px;padding-bottom:0;font-size:9pt}.salvus-task-icon:hover{color:#08c}.salvus-task-sort-icon{font-size:15pt;margin-right:4em}.salvus-task-icon-done-box{font-size:17pt;color:#888}.salvus-task-icon-done-box:hover{color:#51a7e8}.salvus-task-viewer{color:#444}.salvus-current-task{border:2px solid #08c;background-color:#e8f2ff}.salvus-tasks-search-describe{margin-top:4px;font-size:11pt;padding-bottom:4px}.salvus-new-task-cm-editor{margin-bottom:1ex;min-height:2em;padding-left:1ex;padding-right:1ex;border:1px solid #ccc;border-radius:3px;box-shadow:inset 0 1px 2px rgba(0,0,0,.075)}.salvus-new-task-cm-editor-focus{border-color:#51a7e8;box-shadow:inset 0 0 5px rgba(81,167,232,.5)}.salvus-new-task-cm-scroll{overflow-y:hidden;overflow-x:auto}.salvus-tasks-list-heading{padding-bottom:.5ex;font-size:11pt;cursor:pointer}.salvus-tasks-header{padding-right:10px}.salvus-task-header-current{font-weight:700}.salvus-tasks-list{overflow-y:auto;overflow-x:hidden;padding-right:10px;padding-left:10px;border-radius:4px;border:1px solid #d3d3d3}.salvus-task-reorder-handle{font-size:17pt;color:#888;margin-right:6px}.salvus-task-reorder-handle:hover{color:#51a7e8}.salvus-task-icon-active{font-size:13pt}.salvus-task-active,.salvus-task-icon-active-is_active{color:orange}.salvus-task-is_active{background:#ffffe0}.salvus-task-toggle-icon{color:#888;font-size:17pt;margin-left:0!important}.salvus-task-toggle-icon:hover{color:#51a7e8}.salvus-task-active-icon:hover{color:#222}.salvus-task-due,.salvus-task-last-edited{color:#888;font-size:10pt}.salvus-task-due:hover{color:#08c}.salvus-task-done{color:#888;font-size:10pt}.salvus-task-overdue{background:red;color:#fff}.salvus-task-delete{font-size:15pt;color:#888}.salvus-task-delete:hover,.salvus-task-deleted{color:red}.salvus-tasks-filename{font-weight:700;font-size:11pt;color:#666}.salvus-task-due-clear:hover{color:red}.salvus-tasks-hash{background-color:#2f96b4;color:#fff;padding:3px;border-radius:3px;cursor:pointer}.salvus-tasks-hash:hover{background-color:#2a85a0}.salvus-tasks-hashtags{overflow:hidden;padding:3px;margin:0;line-height:0}.salvus-task-checkbox,.salvus-tasks-first{cursor:pointer}.salvus-task-overall-done{opacity:.7}.salvus-task-overall-done:hover{opacity:1}.salvus-task-sort{padding-left:0}.salvus-tasks-loading{font-size:16pt}.salvus-tasks-list-none{margin-left:3em}.salvus-task-search-deleted-icon{margin-bottom:4px}.bootstrap-datetimepicker-widget>ul{padding:0}.salvus-interact-container{padding:1ex;border:1px solid #ccc;border-radius:3px;margin:1ex;padding-left:20px;padding-right:20px}.salvus-interact-control-grid{display:inline-block;margin:1ex;padding:1ex}.salvus-interact-control-selector-buttonbox{background-color:#f0f0f0;padding:5px;border:1px solid #ccc;border-radius:3px}.salvus-interact-control-slider{margin-top:4px;cursor:default}.salvus-interact-input-box-font{font-family:Courier New;font-size:13pt}.salvus-interact-var-{padding:6px;margin:2px;border:1px solid #ddd;border-radius:5px;box-shadow:2px 2px 1px #ddd;overflow-y:auto;white-space:normal}.salvus-3d-container{margin-left:3em;cursor:pointer}.salvus-3d-note{border:1px solid #aaa;padding:3px;border-radius:2px;background:#fafafa;box-shadow:1px 1px 2px}.salvus-3d-dynamic-renderer{border:2px solid #08c;border-radius:3px}.salvus-3d-static-renderer{border:2px solid #d3d3d3;border-radius:3px;display:inline-block;vertical-align:baseline}.smc-d3-graph{cursor:pointer;border:1px solid #d3d3d3}.node{stroke:#fff;stroke-width:1.5px}.directed,.link{fill:none;stroke:#000;stroke-opacity:.6;opacity:.6}marker{fill:#bbb}.json-inspector__selection:focus{opacity:1}.json-inspector,.json-inspector__selection{font-family:Consolas,monospace}.json-inspector__leaf{padding-left:10px}.json-inspector__line{display:block;position:relative;cursor:default}.json-inspector__line:after{content:"";position:absolute;top:0;left:-200px;right:-50px;bottom:0;z-index:-1;pointer-events:none}.json-inspector__line:hover:after{background:rgba(0,0,0,.06)}.json-inspector__leaf_composite>.json-inspector__line{cursor:pointer}.json-inspector__flatpath,.json-inspector__radio{display:none}.json-inspector__value{margin-left:5px}.json-inspector__search{min-width:300px;margin:0 10px 10px 0;padding:2px}.json-inspector__key{color:#505050}.json-inspector__not-found,.json-inspector__value_helper,.json-inspector__value_null{color:#b0b0b0}.json-inspector__value_string{color:#798953}.json-inspector__value_boolean{color:#75b5aa}.json-inspector__value_number{color:#d28445}.json-inspector__hl{background:#ff0;box-shadow:0 -1px 0 2px #ff0;border-radius:2px}.json-inspector__show-original{display:inline-block;padding:0 6px;color:#666;cursor:pointer}.json-inspector__show-original:hover{color:#111}.json-inspector__show-original:before{content:"\\E2\\A5\\201A"}.json-inspector__show-original:hover:after{content:" expand"}.cocalc-jupyter-rendered img,.cocalc-jupyter-rendered svg{max-width:100%;height:auto}.cocalc-jupyter-rendered table.table{width:auto}.cocalc-jupyter-anchor-link{visibility:hidden}.cocalc-jupyter-header:hover .cocalc-jupyter-anchor-link{text-decoration:none!important;padding:0 20px;visibility:visible}.hide{display:none}.tt{font-family:monospace}.lighten{color:#666}.lighten-2{color:#999}.small{font-size:9pt}.smallish{font-size:10pt}.large{font-size:16pt}.Large{font-size:18pt}.huge{font-size:22pt}.bold{font-weight:700}.close{font-size:20pt}.center{text-align:center}body{padding-top:0;width:100vw;overflow-x:hidden}div#smc-react-container{overflow:hidden;position:absolute;top:0}.btn-ms{padding:2px 10px;letter-spacing:normal;line-height:20px;margin:0 0 0 -1px;font-size:11.9px}@media (max-width:767px){.salvus-project{position:relative!important;top:0!important}}.help-smc-logo{width:100px;height:100px}@media (max-width:767px){.help-smc-logo{width:40px;height:40px}}@media (max-width:480px){.modal.fade.in{top:10px}}@media (max-width:767px){.salvus-responsive-mode-test{width:767px}}@media (min-width:768px){.salvus-responsive-mode-test{width:10000px}}@media (max-width:767px){.smc-big-only{display:none}}@media (min-width:768px){.smc-small-only{display:none}}.ui-pnotify-title{font-size:16px}.ui-pnotify-history-container{position:fixed}.CodeMirror,.CodeMirror-wrap{line-height:normal}.boxsizingBorder{box-sizing:border-box}.highlight{background-color:orange;padding:3px;margin:-3px;border-radius:3px}code{color:#333;background-color:transparent;padding:0}blockquote p{font-size:15px}.constrained{max-width:1170px}.modal h3{margin:0}.modal-footer{padding:5px}.modal-backdrop{z-index:100}input[type=email],input[type=password],input[type=text],select{margin-bottom:1px}.btn{white-space:normal}.btn-black{color:#fff;background-color:#000;border-color:#000}a[role=button]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.tooltip{font-size:11px}.navbar-default .navbar-collapse,.navbar-default .navbar-form{position:relative;top:1px}.dropdown-menu{max-height:60vh;overflow-y:auto}.MathJax_SVG_Display{background:#fff}.blink{animation:blink 1s steps(5,start) infinite;-webkit-animation:blink 1s steps(5,start) infinite}@keyframes blink{to{visibility:hidden}}@-webkit-keyframes blink{to{visibility:hidden}}.cm-spell-error{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAYAAAB/qH1jAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QUXCToH00Y1UgAAACFJREFUCNdjPMDBUc/AwNDAAAFMTAwMDA0OP34wQgX/AQBYgwYEx4f9lQAAAABJRU5ErkJggg==);background-position:0 100%;background-repeat:repeat-x}[data-toggle*=collapse]{cursor:pointer}ul.nav.pull-right.navbar-nav li{height:42px}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.smc-grow{transition:all .1s ease-in-out;transition:transform .1s ease-in}.smc-grow:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.smc-grow-two{transition:all .1s ease-in-out;transition:transform .1s ease-in}.smc-grow-two:hover{-webkit-transform:scale(1.4);transform:scale(1.4)}.input-group{z-index:0}footer,footer a{color:gray}@keyframes pulse{0%{color:#c9302c;transform:translateY(0)}2%{color:#c00;transform:translateY(-4px)}4%{color:#c9302c;transform:translateY(0)}6%{color:#c00;transform:translateY(-4px)}8%{color:#c9302c;transform:translateY(0)}to{color:#c9302c}}@keyframes ring{0%{transform:rotate(-15deg)}1%{transform:rotate(12deg)}2%{transform:rotate(-10deg)}3%{transform:rotate(8deg)}5%{transform:rotate(-4deg)}7%{transform:rotate(2deg)}10%{transform:rotate(0deg)}to{transform:rotate(0deg)}}.smc-chat-notification{animation:pulse 10s ease infinite}.smc-bell-notification{animation:ring 10s ease infinite}',""]);
},,,,,,,,,,,,,,,function(e,exports,t){e.exports=t.p+"ef12f5594fc494187aa132f535554ba6.jpg"},,,,,,,,,,function(e,exports,t){e.exports=t.p+"oEIv0Y26OxwrrSMh0Ei6PgqAaKjkBKLaU.ttf"},,,,,,function(e,exports){e.exports='<div class="salvus-3d-templates hide"><span class=salvus-3d-loading><i class="fa fa-cube fa-spin" style=font-size:16pt></i> Loading 3D scene...</span> <span class=salvus-3d-viewer><span class="salvus-3d-note hide">Evaluate to see 3d plot.</span> <span class=salvus-3d-canvas></span> <span class="salvus-3d-canvas-warning lighten hide" style="margin-top: -1em" data-toggle=tooltip data-placement=top title="WARNING: using slow non-WebGL canvas renderer">canvas</span></span></div>'},function(e,exports){e.exports='<div id=salvus-console-templates class=hide><div class="salvus-console smc-vfill salvus-console-blur"><div class=salvus-console-topbar><div class="smc-users-viewing-document salvus-editor-chat-title"></div>&nbsp;&nbsp;<div class=pull-left><span class="btn-group visible-xs"><a href=#decrease-font class="btn btn-default"><i class="fa fa-font" style=font-size:8pt></i></a> <a href=#increase-font class="btn btn-default"><i class="fa fa-font" style=font-size:13pt></i></a> <a href=#refresh class="btn btn-default"><i class="fa fa-repeat" style=font-size:14pt></i></a></span> <span class=hidden-xs><span class=btn-group><a href=#decrease-font class="btn btn-default btn-sm" data-toggle=tooltip data-placement=right title=Smaller><i class="fa fa-font" style=font-size:7pt></i></a> <a href=#increase-font class="btn btn-default btn-sm" data-toggle=tooltip data-placement=right title=Bigger><i class="fa fa-font" style=font-size:10pt></i></a> <a href=#refresh class="btn btn-default btn-sm" data-toggle=tooltip data-placement=right title=Reconnect><i class="fa fa-repeat"></i></a> <a href=#pause class="btn btn-default btn-sm" data-toggle=tooltip data-placement=right title=Pause><i class="fa fa-pause"></i></a> <a href=#paste class="btn btn-default btn-sm" data-toggle=tooltip data-placement=right title="Copyable History"><i class="fa fa-paste"></i></a> <a href=#initfile class="btn btn-default btn-sm" data-toggle=tooltip data-placement=right title="Initialization file"><i class="fa fa-rocket"></i></a></span> &nbsp;&nbsp; <span><span class="salvus-console-font-indicator hide"><i class="fa fa-font"></i> <span class=salvus-console-font-indicator-size></span>pt <a class="btn btn-success btn-sm" href=#font-make-default>make default</a></span></span></span></div><div class="salvus-console-title pull-left"></div>&nbsp;&nbsp;<div class=salvus-console-mobile-input><input class="salvus-console-input-line form-control" type=text style=width:98% placeholder="Type input or paste here..."> <span class=btn-group><a class="btn salvus-console-submit-line btn-default">enter</a> <a class="btn salvus-console-submit-ctrl-c btn-default">ctrl-c</a> <a class="btn salvus-console-submit-tab btn-default">tab</a> <a class="btn salvus-console-submit-up btn-default"><i class="fa fa-arrow-up"></i></a> <a class="btn salvus-console-submit-down btn-default"><i class="fa fa-arrow-down"></i></a> <a class="btn salvus-console-submit-left btn-default"><i class="fa fa-arrow-left"></i></a> <a class="btn salvus-console-submit-right btn-default"><i class="fa fa-arrow-right"></i></a> <a class="btn salvus-console-submit-esc btn-default">esc</a></span></div><textarea class=salvus-console-textarea></textarea></div><div class=smc-vfill style=position:relative><textarea class="salvus-console-for-mobile hide"></textarea><div style="flex:1; display:flex; overflow:hidden" class=salvus-console-terminal-container><div style="flex:1; position:relative"><div class="smc-vfill salvus-console-terminal"></div></div><div class=salvus-console-scrollbar></div></div></div></div></div>'},function(e,exports){e.exports='<div class="salvus-d3-templates hide"><span class=salvus-d3-graph-viewer></span></div>'},function(e,exports){e.exports='<div id=salvus-editor-templates class=hide><div class=salvus-editor><div class=row><div class=col-xs-12><div class=salvus-editor-content></div></div></div></div><ul><li class="super-menu salvus-editor-filename-pill"><div class="salvus-editor-close-button-x pull-right lighten"><i class="fa fa-times"></i></div><a><span class=salvus-editor-tab-filename></span></a></li></ul><div class="salvus-editor-codemirror smc-vfill"><textarea class="salvus-editor-textarea-0 hide"></textarea> <textarea class="salvus-editor-textarea-1 hide"></textarea><div class="salvus-editor-codemirror-content smc-vfill"><div class=salvus-editor-codemirror-button-row><div class=salvus-editor-codemirror-button-container><div class="hidden-xs salvus-editor-chat-title salvus-editor-write-only pull-right"><div class=smc-users-viewing-document></div></div><div class=smc-editor-file-info-dropdown style=float:left;></div><span class=visible-xs><span class=btn-group><a href=#save class="btn btn-success btn-lg"><i class="fa fa-save"></i> Save</a> <a href=#goto-line class="btn btn-default btn-lg"><i class="fa fa-bolt"></i></a></span> <span class="btn-group salvus-editor-codemirror-worksheet-buttons hide"><a href=#execute class="btn btn-success btn-lg"><i class="fa fa-play"></i></a> <a href=#interrupt class="btn btn-warning btn-lg"><i class="fa fa-stop"></i></a> <a href=#kill class="btn btn-warning btn-lg"><i class="fa fa-refresh"></i></a> <a href=#tab class="btn btn-info btn-lg"><i class="fa fa-step-forward"></i></a> <a href=https://github.com/sagemathinc/smc/wiki/sagews target=_blank class="btn btn-info btn-lg" data-original-title title><i class="fa fa-question-circle"></i></a></span> <span class=btn-group><a href=#decrease-font class="btn btn-default btn-lg"><i class="fa fa-font" style=font-size:8pt></i></a> <a href=#increase-font class="btn btn-default btn-lg"><i class="fa fa-font" style=font-size:13pt></i></a></span> <a class="btn btn-primary btn-lg hide" href=#copy-to-another-project><i class="fa fa-send-o"></i> <span>Copy To Your Project...</span></a></span> <span class=hidden-xs><span class="salvus-editor-codemirror-worksheet-buttons hide"><span class="btn-group salvus-editor-write-only"><a href=#execute class="btn btn-success" data-toggle=tooltip data-placement=bottom title="Execute current or selected cells (unless input hidden)."><i class="fa fa-play"></i> &nbsp;<span class=hidden-sm>Run</span></a> <a href=#interrupt class="btn btn-warning" data-toggle=tooltip data-placement=bottom title="Stop the running calculation."><i class="fa fa-stop"></i> <span class=hidden-sm>Stop</span></a> <a href=#kill class="btn btn-warning" data-toggle=tooltip data-placement=bottom title="Restart the running Sage process (all variables reset)."><i class="fa fa-refresh"></i> <span class=hidden-sm>Restart</span></a> <a href=#tab class="btn btn-info" data-toggle=tooltip data-placement=bottom title="Tab completion."><i class="fa fa-step-forward"></i><span class=hidden-sm>Tab</span></a> <a href=https://github.com/sagemathinc/smc/wiki/sagews target=_blank class="btn btn-info" data-original-title title><i class="fa fa-question-circle"></i> Help</a></span> <span class="btn-group salvus-editor-write-only"><a href=#toggle-input class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Toggle display of input of selected cells."><i class="fa fa-toggle-on"></i> in</a> <a href=#toggle-output class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Toggle display of output of selected cells."><i class="fa fa-toggle-on"></i> out</a> <a href=#delete-output class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Delete output of selected cells (unless input hidden)."><i class="fa fa-times-circle"></i></a></span></span></span> <span class="hidden-xs btn-group editor-btn-group"><a href=#autoindent class="btn btn-default salvus-editor-write-only" data-toggle=tooltip data-placement=bottom title="Autoindent selected text"><i class="fa fa-magic"></i></a> <a href=#undo class="btn btn-default salvus-editor-write-only" data-toggle=tooltip data-placement=bottom title=Undo><i class="fa fa-undo"></i></a> <a href=#redo class="btn btn-default salvus-editor-write-only" data-toggle=tooltip data-placement=bottom title=Redo><i class="fa fa-repeat"></i></a> <a href=#search class="btn btn-default btn-history" data-toggle=tooltip data-placement=bottom title=Search><i class="fa fa-search"></i></a><a href=#replace class="btn btn-default salvus-editor-write-only" data-toggle=tooltip data-placement=bottom title=Replace><i class="fa fa-exchange"></i></a> <a href=#split-view class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Split view of document"><i class="fa fa-columns fa-rotate-270 salvus-editor-layout-0 hide"></i> <i class="fa fa-columns salvus-editor-layout-1 hide"></i> <i class="fa fa-tablet fa-rotate-90 salvus-editor-layout-2 hide" style="font-size: 12pt;"></i></a> <a href=#decrease-font class="btn btn-default btn-history" data-toggle=tooltip data-placement=bottom title="Decrease text size"><i class="fa fa-font" style=font-size:7pt></i></a> <a href=#increase-font class="btn btn-default btn-history" data-toggle=tooltip data-placement=bottom title="Increase text size"><i class="fa fa-font" style=font-size:11pt></i></a> <a href=#goto-line class="btn btn-default btn-history" data-toggle=tooltip data-placement=bottom title="Go to line"><i class="fa fa-bolt"></i></a> <a href=#sagews2pdf class="btn btn-default salvus-editor-write-only hide" data-toggle=tooltip data-placement=bottom title="Convert to PDF"><i class="fa fa-file-pdf-o"></i></a> <a href=#print class="btn btn-default salvus-editor-write-only hide" data-toggle=tooltip data-placement=bottom title=Print><i class="fa fa-print"></i></a></span> <span class="btn-group salvus-editor-read-only hide"><a href=#readonly class="hidden-xs btn btn-success salvus-editor-save-group disabled" data-toggle=tooltip data-placement=bottom title="File is read only."><i class="fa fa-save"></i> <span class=hidden-sm>Readonly</span></a> <a href=#history class="hidden-xs btn btn-info salvus-editor-history-button hide" data-toggle=tooltip data-placement=bottom title="View the history of this file."><i class="fa fa-history"></i> <span class=hidden-sm>TimeTravel</span></a></span> <span class="btn-group salvus-editor-write-only"><a href=#save class="hidden-xs btn btn-success salvus-editor-save-group" data-toggle=tooltip data-placement=bottom title="Save file to disk."><i class="fa fa-save"></i> Save <span class="smc-uncommitted hide" data-toggle=tooltip data-placement=bottom title="DANGER: File NOT sent to server and not saved to disk. You will lose work if you close this file.">NOT saved!</span></a> <a href=#history class="hidden-xs btn btn-info salvus-editor-history-button hide" data-toggle=tooltip data-placement=bottom title="View the history of this file."><i class="fa fa-history"></i> <span class=hidden-sm>TimeTravel</span></a></span> <span class=hidden-xs><a class="btn btn-primary hide" href=#copy-to-another-project><i class="fa fa-send-o"></i> <span>Copy To Your Project...</span></a></span> <span class="salvus-editor-codemirror-loading hide"><i class="fa fa-spinner"></i> load…</span> <span class="salvus-editor-latex-buttons hide"><span class=btn-group><a href=#forward-search class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Forward search (Alt+Enter)"><i class="fa fa-mail-forward"></i><span class=hidden-xs>Forward</span></a> <a href=#inverse-search class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Inverse search (Double or Ctrl+Click)"><i class="fa fa-mail-reply"></i><span class=hidden-xs>Inverse</span></a></span></span> <span class=salvus-editor-codemirror-sync><span class="salvus-editor-codemirror-not-synced hide"><i class="fa fa-spinner"></i> sync…</span> <span class="salvus-editor-codemirror-synced hide"><i class="fa fa-ok"></i></span></span> <span class="salvus-editor-codemirror-filename pull-right"></span></div><div class="salvus-editor-buttonbars salvus-editor-write-only"><div class="salvus-editor-latex-buttonbar hide"></div><div class="salvus-editor-codemirror-textedit-buttons hide visible-md-block visible-lg-block"><code class="salvus-editor-codeedit-buttonbar-mode pull-right hide"></code> <span class=react-target></span></div><div class="salvus-editor-codemirror-worksheet-editable-buttons hide"><span class=btn-group><a href=#bold class="btn btn-default" data-toggle=tooltip data-placement=top title=Bold><i class="fa fa-bold"></i></a> <a href=#italic class="btn btn-default" data-toggle=tooltip data-placement=top title=Italic><i class="fa fa-italic"></i></a> <a href=#underline class="btn btn-default" data-toggle=tooltip data-placement=top title=Underline><i class="fa fa-underline"></i></a> <a href=#strikethrough class="btn btn-default" data-toggle=tooltip data-placement=top title="Strike through"><i class="fa fa-strikethrough"></i></a> <a href=#subscript class="btn btn-default" data-toggle=tooltip data-placement=top title="Subscript (use LaTeX for serious equations)"><i class="fa fa-subscript"></i></a> <a href=#superscript class="btn btn-default" data-toggle=tooltip data-placement=top title=Superscript><i class="fa fa-superscript"></i></a></span> <span class=btn-group><a href=#equation data-args=special class="btn btn-default" data-toggle=tooltip data-placement=top title="Inline equation...">$</a> <a href=#display_equation data-args=special class="btn btn-default" data-toggle=tooltip data-placement=top title="Displayed equation...">$$</a> <a href=#insertunorderedlist class="btn btn-default" data-toggle=tooltip data-placement=top title="Insert unordered list"><i class="fa fa-list"></i></a> <a href=#insertorderedlist class="btn btn-default" data-toggle=tooltip data-placement=top title="Insert ordered list"><i class="fa fa-list-ol"></i></a> <a href=#link data-args=special class="btn btn-default" data-toggle=tooltip data-placement=top title="Insert link..."><i class="fa fa-link"></i></a> <a href=#image data-args=special class="btn btn-default" data-toggle=tooltip data-placement=top title="Insert image..."><i class="fa fa-image"></i></a></span> <span class=btn-group><a href=#justifyleft class="btn btn-default" data-toggle=tooltip data-placement=top title="Left justify"><i class="fa fa-align-left"></i></a> <a href=#justifycenter class="btn btn-default" data-toggle=tooltip data-placement=top title="Justify center"><i class="fa fa-align-center"></i></a> <a href=#justifyright class="btn btn-default" data-toggle=tooltip data-placement=top title="Right justify"><i class="fa fa-align-right"></i></a> <a href=#justifyfull class="btn btn-default" data-toggle=tooltip data-placement=top title="Justify full"><i class="fa fa-align-justify"></i></a> <a href=#outdent class="btn btn-default" data-toggle=tooltip data-placement=top title=Outdent><i class="fa fa-outdent"></i></a> <a href=#indent class="btn btn-default" data-toggle=tooltip data-placement=top title=Indent><i class="fa fa-indent"></i></a></span> <span class=btn-group><a href=#undo class="btn btn-default" data-toggle=tooltip data-placement=top title=Undo><i class="fa fa-undo"></i></a> <a href=#redo class="btn btn-default" data-toggle=tooltip data-placement=top title=Redo><i class="fa fa-repeat"></i></a></span> <span class=btn-group><span class="btn-group sagews-output-editor-font smc-tooltip" data-toggle=tooltip data-placement=top title=Fonts><span class="btn btn-default dropdown-toggle" data-toggle=dropdown title=Font><i class="fa fa-font"></i> <b class=caret></b></span><ul class=dropdown-menu></ul></span> <span class="btn-group sagews-output-editor-font-size smc-tooltip" data-toggle=tooltip data-placement=top title="Font size"><span class="btn btn-default dropdown-toggle" data-toggle=dropdown title="Text height"><i class="fa fa-text-height"></i> <b class=caret></b></span><ul class=dropdown-menu></ul></span> <span class="btn-group sagews-output-editor-block-type smc-tooltip" data-toggle=tooltip data-placement=top title="Format type"><span class="btn btn-default dropdown-toggle" data-toggle=dropdown title=Header><i class="fa fa-header"></i> <b class=caret></b></span><ul class=dropdown-menu></ul></span></span> <span class=btn-group><span class="sagews-output-editor-foreground-color-selector input-group color smc-tooltip" data-color-format=rgb data-toggle=tooltip data-placement=top title="Text color"><input type=text style=cursor:pointer class=form-control> <span class=input-group-addon style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class=caret></b></span></span></span> <span class=btn-group><span class="sagews-output-editor-background-color-selector input-group color smc-tooltip" data-color-format=rgb data-toggle=tooltip data-placement=top title="Text background highlight color"><input type=text style=cursor:pointer class=form-control> <span class=input-group-addon style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class=caret></b></span></span></span></div></div></div><div class="salvus-editor-codemirror-input-container-layout-0 hide" style="flex: 1; display: flex; flex-direction: column;"><div class=salvus-editor-codemirror-input-box style="display: flex; flex-direction: column; position:relative;"><div style="position:absolute; height:100%; width:100%"></div></div><div class="salvus-editor-codemirror-input-box-1 hide"><div></div></div></div><div class="salvus-editor-codemirror-input-container-layout-1 hide" style="flex: 1; display: flex; flex-direction: column;"><div class=salvus-editor-codemirror-input-box style="display: flex; flex-direction: column; position:relative;"><div style="position:absolute; height:100%; width:100%"></div></div><div class=salvus-editor-resize-bar-layout-1></div><div class=salvus-editor-codemirror-input-box-1 style="flex: 1; display: flex; flex-direction: column; position:relative;"><div style="position:absolute; height:100%; width:100%"></div></div></div><div class="salvus-editor-codemirror-input-container-layout-2 hide" style="flex: 1; display: flex; flex-direction: row;"><div class=salvus-editor-codemirror-input-box style="display: flex; flex-direction: column; position:relative;"><div style="position:absolute; height:100%; width:100%"></div></div><div class=salvus-editor-resize-bar-layout-2></div><div class=salvus-editor-codemirror-input-box-1 style="flex: 1; display: flex; flex-direction: column; position:relative;"><div style="position:absolute; height:100%; width:100%"></div></div></div></div><div class="salvus-editor-codemirror-startup-message alert alert-warning hide" role=alert></div></div><div class=salvus-editor-codemirror-cursor><span class=salvus-editor-codemirror-cursor-label></span><div class=salvus-editor-codemirror-cursor-inside>&nbsp;&nbsp;&nbsp;</div></div><div class=smc-editor-codemirror-cursor><span class=smc-editor-codemirror-cursor-label></span><div class=smc-editor-codemirror-cursor-inside>&nbsp;&nbsp;&nbsp;</div></div><div class=salvus-editor-image style="margin-left: 1ex;"><span class=visible-xs><span class=btn-group><a href=#close class="btn btn-default btn-lg"><i class="fa fa-toggle-up"></i> <span class=hidden-xs>Files...</span></a> <a class="btn btn-default btn-lg" href=#refresh><i class="fa fa-refresh"></i> Refresh</a></span></span> <span class=hidden-xs><a class="btn btn-default" href=#refresh><i class="fa fa-refresh"></i> Refresh</a></span><div class="hidden-xs salvus-editor-image-title pull-right">The title</div><div class=salvus-editor-image-container><img style=max-width:100%><video controls autoplay loop></video><span>Loading...</span></div></div><div class=salvus-editor-static-html><div class=salvus-editor-static-html-content><iframe style=width:100%;border:0px;></iframe></div></div><div class="salvus-editor-pdf-preview smc-vfill"><div class="salvus-editor-pdf-preview-spinner hide"></div><div class="salvus-editor-pdf-preview-highlight hide"></div><div class=salvus-editor-pdf-preview-buttons><span class=btn-group><a href=#zoom-preview-out class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Zoom out some"><i class="fa fa-search-minus"></i></a> <a href=#zoom-preview-in class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Zoom in some"><i class="fa fa-search-plus"></i></a> <a href=#zoom-preview-fullpage class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Zoom so page width matches viewport"><i class="fa fa-file-o"></i></a> <a href=#zoom-preview-width class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Zoom in close"><i class="fa fa-arrows-alt"></i></a> <a href=#preview-resolution class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Change the preview resolution"><i class="fa fa-th"></i></a> <a href=#pdf-download class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Download the PDF file"><i class="fa fa-download"></i></a></span> <span class="btn-group pull-right"><a href=#toggle-preview class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="If enabled, the LaTeX file is compiled and a preview is rendered."><i class="fa fa-check-square-o"></i> Build preview</a></span></div><div style=flex:1;overflow-y:auto;overflow-x:auto class=salvus-editor-pdf-preview-output><div class=salvus-editor-pdf-preview-page></div><div class="salvus-editor-pdf-preview-message hide"></div></div></div><div class="salvus-editor-pdf-preview-embed smc-vfill"><div class=salvus-editor-codemirror-button-row><span class="salvus-editor-pdf-preview-embed-spinner hide"></span> <span class=btn-group><a class="btn btn-default btn-lg visible-xs" href=#close><i class="fa fa-toggle-up"></i> <span class=hidden-xs>Files...</span></a> <a class="btn btn-default btn-lg visible-xs" href=#refresh><i class="fa fa-refresh"></i> <span class=hidden-xs>Refresh</span></a> <a class="btn btn-default hidden-xs" href=#refresh><i class="fa fa-refresh"></i> <span class=hidden-xs>Refresh</span></a></span> <span class="btn-group pull-right"><a class="btn btn-default salvus-editor-pdf-title hidden-xs"><i class="fa fa-external-link"></i> <span></span></a></span></div><div class="salvus-editor-pdf-preview-embed-page smc-vfill"><iframe frameborder=0 scrolling=no style=width:100%;height:100%><br><br>&nbsp;&nbsp;&nbsp;Your browser doesn\'t support embedded PDF\'s, but you can <a target=_blank>download <span></span></a>...</iframe></div></div><div class="salvus-editor-latex smc-vfill"><div style="display:flex; flex-direction:row; height:100%" class=salvus-editor-latex-content><div class=salvus-editor-latex-latex_editor style="flex-basis:60%; display: flex; flex-direction: column; border: 1px solid grey; border-radius: 4px;"></div><div class=salvus-editor-latex-resize-bar></div><div class="salvus-editor-latex-right-pane smc-vfill" style="flex:1; overflow-y:auto; background: #efefef;"><ul class="nav nav-tabs" role=tablist><li role=presentation class=active><a href=#png-preview role=tab data-toggle=tooltip data-placement=bottom title="Show preview"><i class="fa fa-building"></i> Preview</a></li><li role=presentation><a href=#errors role=tab data-toggle=tooltip data-placement=bottom title="Show errors and warnings"><i class="fa fa-bug"></i><span class=hidden-xs>Issues</span><span class=salvus-latex-errors-counter></span> <span class=salvus-latex-warnings-counter></span></a></li><li role=presentation><a href=#pdf-preview role=tab data-toggle=tooltip data-placement=bottom title="Show final rendered PDF"><i class="fa fa-eye"></i> PDF</a></li><li role=presentation><a href=#log role=tab data-toggle=tooltip data-placement=bottom title="Build control and compilation log"><i class="fa fa-bolt"></i><span class=hidden-xs>Build</span> <span class=salvus-latex-build-status></span></a></li></ul><div class="salvus-editor-latex-pdf-preview smc-vfill hide"></div><div class="salvus-editor-latex-png-preview smc-vfill hide"></div><div class="salvus-editor-latex-errors hide" style="overflow-y: auto; border: 1px solid lightgrey;"><div style=margin-left:2em><h3>Errors</h3><div class=salvus-latex-errors></div><h3>Typesetting Issues</h3><div class=salvus-latex-typesetting></div><h3>Other Warnings</h3><div class=salvus-latex-warnings></div><div style=height:10em></div></div></div><div class="salvus-editor-latex-mesg-template well hide"><a class="btn btn-default" style=max-width:80%><i class="fa fa-mail-reply"></i> <span class=salvus-latex-mesg-line></span> <span class=salvus-latex-mesg-page></span> <span class=salvus-latex-mesg-file></span> <span class=salvus-latex-mesg-message></span></a> <a class="btn pull-right btn-default"><i class="fa fa-mail-forward"></i></a><pre class="salvus-latex-mesg-content lighten hide"></pre></div><div class="salvus-editor-latex-log smc-vfill hide"><span class=btn-group><a href=#latex-recompile class="btn btn-sm btn-success" data-toggle=tooltip data-placement=bottom title="Recompile everything"><i class="fa fa-bolt"></i> Recompile</a> <a href=#latex-latex class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Run Latex"><i class="fa fa-bolt"></i> Latex</a> <a href=#latex-bibtex class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Run Bibtex"><i class="fa fa-bolt"></i> Bibtex</a> <a href=#latex-sage class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Run Sagetex"><i class="fa fa-bolt"></i> Sage</a> <a href=#latex-trash-aux class="btn btn-sm btn-default" data-toggle=tooltip data-placement=bottom title="Delete auxiliary build files."><i class="fa fa-trash-o"></i> Clean</a></span><div class="input-group smc-editor-latex-log-cmd"><input type=text class=form-control data-toggle=tooltip data-placement=bottom title="Hit return after customizing build command"><div class=input-group-btn><button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false><span style="white-space: nowrap;">Command <span class=caret></span></span></button><ul class="dropdown-menu dropdown-menu-right"><li><a href=#pdflatex>PDFLatex (default)</a></li><li><a href=#xelatex>XeLaTeX</a></li><li><a href=#luatex>LuaTex</a></li><li role=separator class=divider></li><li><a href=#old>Old command</a></li></ul></div></div><textarea readonly style="padding:15px; flex:1; width:100%; color:#666; background: #f8f8f0;">You have not run LaTeX yet.</textarea></div><div class="salvus-editor-latex-settings hide"><h1>Settings</h1></div></div></div></div><div class="salvus-editor-html-md smc-vfill"><div class=salvus-editor-html-md-editor-buttonbar></div><div class=salvus-editor-html-md-textedit-buttonbar></div><div style="display:flex; flex-direction:row; height:100%" class=salvus-editor-html-md-content><div class=salvus-editor-html-md-source-editor style="flex-basis:70%; display: flex; flex-direction: column; border: 1px solid grey; border-radius: 4px;"></div><div class=salvus-editor-html-md-resize-bar></div><div class=salvus-editor-html-md-preview style=flex:1><a href=#disable-preview class="pull-right btn btn-default"><i class="fa fa-check-square-o"></i> Preview</a> <a href=#enable-preview class="pull-right btn btn-default btn-lg hide"><i class="fa fa-square-o"></i> Enable Preview</a><div class=salvus-editor-html-md-preview-content></div></div></div></div><div class="salvus-editor-history smc-vfill"><div class=salvus-editor-history-controls style="display:flex; padding-left: 10px; padding-right: 10px; border-bottom: 1px solid lightgrey; border-radius: 4px; background-color:#efefef"><span style="color:#666; font-size:14pt; font-weight: bold; margin-right:1em"><i class="fa fa-history"></i> TimeTravel</span> <span><a href=#show-diff class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Show changes"><i class="fa fa-square-o"></i> Changes</a> <a href=#hide-diff class="btn btn-default hide" data-toggle=tooltip data-placement=bottom title="Show what changed"><i class="fa fa-check-square-o"></i> Changes</a></span> <span class="salvus-editor-history-control-button-container btn-group smc-btn-group-nobreak" style=margin-left:1em><a href=#back class="btn btn-default" data-toggle=tooltip data-placement=bottom title=Back><i class="fa fa-step-backward"></i></a> <a href=#forward class="btn btn-default disabled" data-toggle=tooltip data-placement=bottom title=Forward><i class="fa fa-step-forward"></i></a></span> <span class="btn-group smc-btn-group-nobreak"><a href=#file class="btn btn-info" style=margin-left:1em data-toggle=tooltip data-placement=bottom title="Show full file"><i class="fa fa-file-code-o"></i> Open File</a> <a href=#all class="btn btn-default hide" data-toggle=tooltip data-placement=bottom title="Load complete history"><i class="fa fa-floppy-o"></i> Load All History</a> <a href=#revert class="btn btn-warning hide" style=margin-left:1ex data-toggle=tooltip data-placement=bottom title="Revert the live file to the displayed revision"><i class="fa fa-undo"></i> Revert live version to this</a></span> <span style="color:#666; margin-left: 1em"><span class=salvus-editor-history-revision-time style="font-weight: bold; font-size:12pt"></span><span class="salvus-editor-history-diff-mode hide">&nbsp;&nbsp; to&nbsp;&nbsp;</span><span class="hide salvus-editor-history-diff-mode salvus-editor-history-revision-time2" style="font-weight: bold; font-size:12pt"></span><span class=salvus-editor-history-revision-number></span></span></div><div style="margin-top:7px; margin-right:15px;">&nbsp; <span class="salvus-editor-history-revision-user lighten pull-right"></span></div><div class=salvus-editor-history-sliders style="border-bottom: 1px solid lightgrey;"><div class="salvus-editor-history-slider salvus-editor-history-slider-style"></div><div class="salvus-editor-history-diff-slider hide salvus-editor-history-slider-style"></div></div><div class="salvus-editor-history-no-viewer hide" style=margin-left:15px><b>WARNING:</b> History viewer for this file type not implemented, so showing underlying raw file instead.</div><div class="salvus-editor-history-history_editor smc-vfill"></div></div><span class=sagews-input><span class="sagews-input-hr sagews-input-eval-state"></span> <span class="sagews-input-hr sagews-input-run-state"></span> <span class="sagews-input-hr sagews-input-newcell"></span></span> <span class=sagews-output><span class=sagews-output-container><span class=sagews-output-messages></span></span></span><div class=salvus-ipython-notebook><div class="salvus-ipython-notebook-buttons hidden-xs"><span class="salvus-ipython-notebook-status-messages lighten"></span> <span class="hide salvus-ipython-notebook-danger">DANGER: Users on this VM could connect unless you stop your ipython-notebook server (they would have to know secret internal project-id).</span> <span class=btn-group><a href=#save class="btn btn-sm btn-success" data-toggle=tooltip data-placement=bottom title="Save .ipynb file to disk (file is constantly sync\'d with server)."><i class="fa fa-save"></i> Save</a> <a href=#history class="btn btn-sm btn-info salvus-editor-history-button hide" data-toggle=tooltip data-placement=bottom title="View the history of this file."><i class="fa fa-history"></i> <span class=hidden-sm>TimeTravel</span></a> <a href=#reload class="btn btn-sm btn-warning" data-toggle=tooltip data-placement=bottom title="Reload this Notebook; use if the IPython server is killed or restarted on another port"><i class="fa fa-refresh"></i> Reload</a> <a href=#publish class="btn btn-primary btn-sm" data-toggle=tooltip data-placement=bottom title="Publish this notebook for anybody to see"><i class="fa fa-refresh fa-spin hide"></i> <i class="fa fa-share-square-o"></i> Publish</a> <a href=#info class="btn btn-sm btn-info" data-toggle=tooltip data-placement=bottom title="Extra information about the IPython notebook"><i class="fa fa-info-circle"></i> About</a></span></div><div class=visible-xs><span class=btn-group><a href=#save class="btn btn-success btn-lg"><i class="fa fa-save"></i> Save</a></span> <span class="btn-group salvus-editor-codemirror-worksheet-buttons hide"><a href=#execute class="btn btn-success btn-lg"><i class="fa fa-play"></i> <span>Run</span></a> <a href=#interrupt class="btn btn-warning btn-lg"><i class="fa fa-stop"></i> <span>Stop</span></a> <a href=#tab class="btn btn-default btn-lg"><i class="fa fa-info-circle"></i> <span>Tab</span></a></span> <span class=btn-group><a href=#reload class="btn btn-warning btn-lg"><i class="fa fa-refresh"></i> Reload</a> <a href=#info class="btn btn-info btn-lg"><i class="fa fa-info-circle"></i></a></span></div><h3 class="salvus-ipython-notebook-connecting hide" style=margin-left:2em>Opening...</h3><div class=salvus-ipython-notebook-notebook></div></div><div class="modal salvus-file-print-dialog" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class="close btn-close" aria-hidden=true><span style=font-size:20pt;>×</span></button><h3><i class="fa fa-print"></i> Printable PDF version of <span class=salvus-file-print-filename></span></h3></div><div class=well><h4>Heading<span class=lighten>(click to edit)</span></h4><div class=well style="background-color:white; text-align:center"><h4 class=salvus-file-print-title contenteditable=true></h4><h5 class=salvus-file-print-author contenteditable=true></h5><h5 class=salvus-file-print-date contenteditable=true></h5></div><div class="salvus-file-options-sagews hide"><h4>Worksheet Options</h4><div class=well style=background-color:white><div class=checkbox><label class rel=tooltip title="Table of contents"><input type=checkbox class=salvus-file-print-contents rel=tooltip>Table of contents</label></div><div class=checkbox><label class rel=tooltip title="Keep generated files"><input type=checkbox class=salvus-file-print-keepfiles rel=tooltip>Keep generated files in a sub-directory. This is useful for debugging printing issues or additional editing.<div class="smc-file-printing-tempdir hide"></div></label></div></div></div></div><div class=modal-footer><button class="btn btn-close pull-left btn-default btn-lg">Close</button> <button class="btn btn-primary btn-submit pull-left btn-lg"><i class="fa fa-bolt"></i> Generate PDF</button> <span class="salvus-file-printing-progress hide">Preparing PDF version...</span> <a class="salvus-file-printing-link hide" target=_blank>link to PDF version</a></div></div></div></div><div class="modal salvus-goto-line-dialog" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class="close btn-close" aria-hidden=true><span style=font-size:20pt;>×</span></button><h3><i class="fa fa-bolt"></i> Goto Line</h3></div><div class=well style=margin:1em><div class=lighten>Enter <span class=salvus-goto-line-range></span></div><input class="salvus-goto-line-input form-control" style="width:95%; margin-top: 1ex;" type=text placeholder></div><div class=modal-footer><button class="btn btn-close btn-default">Cancel</button> <button class="btn btn-primary btn-submit">OK</button></div></div></div></div><div class="modal salvus-html-editor-link-dialog" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class="close btn-close" aria-hidden=true><span style=font-size:20pt;>×</span></button><h3><i class="fa fa-link"></i> Insert Link</h3></div><div class=well style=margin:1em><div class=row><div class="col-sm-4 lighten">URL (required)</div><div class=col-sm-8><input class="form-control salvus-html-editor-url" type=text placeholder=URL></div></div><div class=row><div class="col-sm-4 lighten">Displayed Text (optional)</div><div class=col-sm-8><input class="form-control salvus-html-editor-display" type=text placeholder="Displayed Text"></div></div><div class=row><div class="col-sm-4 lighten">Title (optional)</div><div class=col-sm-8><input class="form-control salvus-html-editor-title" type=text placeholder=Title></div></div><div class="row salvus-html-editor-target-row"><div class="col-sm-4 lighten">Target</div><div class=col-sm-8><select class="form-control salvus-html-editor-target"><option value>None</option><option value=_blank>New Window</option></select></div></div></div><div class=modal-footer><button class="btn btn-close btn-default">Cancel</button> <button class="btn btn-primary btn-submit">Create Link</button></div></div></div></div><div class="modal salvus-html-editor-image-dialog" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class="close btn-close" aria-hidden=true><span style=font-size:20pt;>×</span></button><h3><i class="fa fa-image"></i> Insert Image</h3></div><div class=well style=margin:1em><div class=row><div class="col-sm-4 lighten">URL or Filename</div><div class=col-sm-8><input class="form-control salvus-html-editor-url" type=text placeholder=URL></div></div><div class=row><div class="col-sm-4 lighten"><span class=salvus-html-editor-image-width-header-default>Width (optional)</span> <span class="salvus-html-editor-image-width-header-tex hide">Width in percent (0-100)</span></div><div class=col-sm-8><input class="form-control salvus-html-editor-width" type=text placeholder=Width></div></div><div class="row salvus-html-editor-height-row"><div class="col-sm-4 lighten">Height (optional)</div><div class=col-sm-8><input class="form-control salvus-html-editor-height" type=text placeholder=Height></div></div><div class=row><div class="col-sm-4 lighten">Title (optional)</div><div class=col-sm-8><input class="form-control salvus-html-editor-title" type=text placeholder=Title></div></div></div><div class=modal-footer><button class="btn btn-close btn-default">Cancel</button> <button class="btn btn-primary btn-submit">Insert Image</button></div></div></div></div><div class="modal salvus-html-editor-symbols-dialog" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class="close btn-close" aria-hidden=true><span style=font-size:20pt;>×</span></button><h3><i class=fa>&Omega;</i> Insert Symbol</h3></div><div class=well style=margin:1em;font-size:12pt;cursor:pointer><table class=salvus-html-editor-symbols-dialog-table width=100% align=center><tbody><tr align=center><td><b><span title=Aacute>Á</span></b></td><td><b><span title=aacute>á</span></b></td><td><b><span title=Acirc>Â</span></b></td><td><b><span title=acirc>â</span></b></td><td><b><span title=acute>´</span></b></td><td><b><span title=AElig>Æ</span></b></td><td><b><span title=aelig>æ</span></b></td><td><b><span title=Agrave>À</span></b></td><td><b><span title=agrave>à</span></b></td><td><b><span title=alefsym>ℵ</span></b></td><td><b><span title=Alpha>Α</span></b></td><td><b><span title=alpha>α</span></b></td><td><b><span title=amp>&amp;</span></b></td><td><b><span title=and>∧</span></b></td><td><b><span title=ang>∠</span></b></td><td><b><span title=Aring>Å</span></b></td><td><b><span title=aring>å</span></b></td><td><b><span title=asymp>≈</span></b></td><td><b><span title=Atilde>Ã</span></b></td><td><b><span title=atilde>ã</span></b></td><td><b><span title=Auml>Ä</span></b></td><td><b><span title=auml>ä</span></b></td><td><b><span title=bdquo>„</span></b></td><td><b><span title=Beta>Β</span></b></td><td><b><span title=beta>β</span></b></td><td><b><span title=brvbar>¦</span></b></td><td><b><span title=bull>•</span></b></td><td><b><span title=cap>∩</span></b></td><td><b><span title=Ccedil>Ç</span></b></td><td><b><span title=ccedil>ç</span></b></td><td><b><span title=cedil>¸</span></b></td><td><b><span title=cent>¢</span></b></td></tr><tr align=center><td><b><span title=Chi>Χ</span></b></td><td><b><span title=chi>χ</span></b></td><td><b><span title=circ>ˆ</span></b></td><td><b><span title=clubs>♣</span></b></td><td><b><span title=cong>≅</span></b></td><td><b><span title=copy>©</span></b></td><td><b><span title=crarr>↵</span></b></td><td><b><span title=cup>∪</span></b></td><td><b><span title=curren>¤</span></b></td><td><b><span title=dagger>†</span></b></td><td><b><span title=Dagger>‡</span></b></td><td><b><span title=darr>↓</span></b></td><td><b><span title=dArr>⇓</span></b></td><td><b><span title=deg>°</span></b></td><td><b><span title=Delta>Δ</span></b></td><td><b><span title=delta>δ</span></b></td><td><b><span title=diams>♦</span></b></td><td><b><span title=divide>÷</span></b></td><td><b><span title=Eacute>É</span></b></td><td><b><span title=eacute>é</span></b></td><td><b><span title=Ecirc>Ê</span></b></td><td><b><span title=ecirc>ê</span></b></td><td><b><span title=Egrave>È</span></b></td><td><b><span title=egrave>è</span></b></td><td><b><span title=empty>∅</span></b></td><td><b><span title=emsp></span></b></td><td><b><span title=ensp></span></b></td><td><b><span title=Epsilon>Ε</span></b></td><td><b><span title=epsilon>ε</span></b></td><td><b><span title=equiv>≡</span></b></td><td><b><span title=Eta>Η</span></b></td><td><b><span title=eta>η</span></b></td></tr><tr align=center><td><b><span title=ETH>Ð</span></b></td><td><b><span title=eth>ð</span></b></td><td><b><span title=Euml>Ë</span></b></td><td><b><span title=euml>ë</span></b></td><td><b><span title=euro>€</span></b></td><td><b><span title=exist>∃</span></b></td><td><b><span title=fnof>ƒ</span></b></td><td><b><span title=forall>∀</span></b></td><td><b><span title=frac12>½</span></b></td><td><b><span title=frac14>¼</span></b></td><td><b><span title=frac34>¾</span></b></td><td><b><span title=frasl>⁄</span></b></td><td><b><span title=Gamma>Γ</span></b></td><td><b><span title=gamma>γ</span></b></td><td><b><span title=ge>≥</span></b></td><td><b><span title=gt>&gt;</span></b></td><td><b><span title=harr>↔</span></b></td><td><b><span title=hArr>⇔</span></b></td><td><b><span title=hearts>♥</span></b></td><td><b><span title=hellip>…</span></b></td><td><b><span title=Iacute>Í</span></b></td><td><b><span title=iacute>í</span></b></td><td><b><span title=Icirc>Î</span></b></td><td><b><span title=icirc>î</span></b></td><td><b><span title=iexcl>¡</span></b></td><td><b><span title=Igrave>Ì</span></b></td><td><b><span title=igrave>ì</span></b></td><td><b><span title=image>ℑ</span></b></td><td><b><span title=infin>∞</span></b></td><td><b><span title=int>∫</span></b></td><td><b><span title=Iota>Ι</span></b></td><td><b><span title=iota>ι</span></b></td></tr><tr align=center><td><b><span title=iquest>¿</span></b></td><td><b><span title=isin>∈</span></b></td><td><b><span title=Iuml>Ï</span></b></td><td><b><span title=iuml>ï</span></b></td><td><b><span title=Kappa>Κ</span></b></td><td><b><span title=kappa>κ</span></b></td><td><b><span title=Lambda>Λ</span></b></td><td><b><span title=lambda>λ</span></b></td><td><b><span title=lang>〈</span></b></td><td><b><span title=laquo>«</span></b></td><td><b><span title=larr>←</span></b></td><td><b><span title=lArr>⇐</span></b></td><td><b><span title=lceil>⌈</span></b></td><td><b><span title=ldquo>“</span></b></td><td><b><span title=le>≤</span></b></td><td><b><span title=lfloor>⌊</span></b></td><td><b><span title=lowast>∗</span></b></td><td><b><span title=loz>◊</span></b></td><td><b><span title=lrm>‎</span></b></td><td><b><span title=lsaquo>‹</span></b></td><td><b><span title=lsquo>‘</span></b></td><td><b><span title=lt>&lt;</span></b></td><td><b><span title=macr>¯</span></b></td><td><b><span title=mdash>—</span></b></td><td><b><span title=micro>µ</span></b></td><td><b><span title=middot>·</span></b></td><td><b><span title=minus>−</span></b></td><td><b><span title=Mu>Μ</span></b></td><td><b><span title=mu>μ</span></b></td><td><b><span title=nabla>∇</span></b></td><td><b><span title=nbsp>&nbsp;</span></b></td><td><b><span title=ndash>–</span></b></td></tr><tr align=center><td><b><span title=ne>≠</span></b></td><td><b><span title=ni>∋</span></b></td><td><b><span title=not>¬</span></b></td><td><b><span title=notin>∉</span></b></td><td><b><span title=nsub>⊄</span></b></td><td><b><span title=Ntilde>Ñ</span></b></td><td><b><span title=ntilde>ñ</span></b></td><td><b><span title=Nu>Ν</span></b></td><td><b><span title=nu>ν</span></b></td><td><b><span title=Oacute>Ó</span></b></td><td><b><span title=oacute>ó</span></b></td><td><b><span title=Ocirc>Ô</span></b></td><td><b><span title=ocirc>ô</span></b></td><td><b><span title=OElig>Œ</span></b></td><td><b><span title=oelig>œ</span></b></td><td><b><span title=Ograve>Ò</span></b></td><td><b><span title=ograve>ò</span></b></td><td><b><span title=oline>‾</span></b></td><td><b><span title=Omega>Ω</span></b></td><td><b><span title=omega>ω</span></b></td><td><b><span title=Omicron>Ο</span></b></td><td><b><span title=omicron>ο</span></b></td><td><b><span title=oplus>⊕</span></b></td><td><b><span title=or>∨</span></b></td><td><b><span title=ordf>ª</span></b></td><td><b><span title=ordm>º</span></b></td><td><b><span title=Oslash>Ø</span></b></td><td><b><span title=oslash>ø</span></b></td><td><b><span title=Otilde>Õ</span></b></td><td><b><span title=otilde>õ</span></b></td><td><b><span title=otimes>⊗</span></b></td><td><b><span title=Ouml>Ö</span></b></td></tr><tr align=center><td><b><span title=ouml>ö</span></b></td><td><b><span title=para>¶</span></b></td><td><b><span title=part>∂</span></b></td><td><b><span title=permil>‰</span></b></td><td><b><span title=perp>⊥</span></b></td><td><b><span title=Phi>Φ</span></b></td><td><b><span title=phi>φ</span></b></td><td><b><span title=Pi>Π</span></b></td><td><b><span title=pi>π</span></b></td><td><b><span title=piv>ϖ</span></b></td><td><b><span title=plusmn>±</span></b></td><td><b><span title=pound>£</span></b></td><td><b><span title=prime>′</span></b></td><td><b><span title=Prime>″</span></b></td><td><b><span title=prod>∏</span></b></td><td><b><span title=prop>∝</span></b></td><td><b><span title=Psi>Ψ</span></b></td><td><b><span title=psi>ψ</span></b></td><td><b><span title=quot>"</span></b></td><td><b><span title=radic>√</span></b></td><td><b><span title=rang>〉</span></b></td><td><b><span title=raquo>»</span></b></td><td><b><span title=rarr>→</span></b></td><td><b><span title=rArr>⇒</span></b></td><td><b><span title=rceil>⌉</span></b></td><td><b><span title=rdquo>”</span></b></td><td><b><span title=real>ℜ</span></b></td><td><b><span title=reg>®</span></b></td><td><b><span title=rfloor>⌋</span></b></td><td><b><span title=Rho>Ρ</span></b></td><td><b><span title=rho>ρ</span></b></td><td><b><span title=rlm>‏</span></b></td></tr><tr align=center><td><b><span title=rsaquo>›</span></b></td><td><b><span title=rsquo>’</span></b></td><td><b><span title=sbquo>‚</span></b></td><td><b><span title=Scaron>Š</span></b></td><td><b><span title=scaron>š</span></b></td><td><b><span title=sdot>⋅</span></b></td><td><b><span title=sect>§</span></b></td><td><b><span title=shy>­</span></b></td><td><b><span title=Sigma>Σ</span></b></td><td><b><span title=sigma>σ</span></b></td><td><b><span title=sigmaf>ς</span></b></td><td><b><span title=sim>∼</span></b></td><td><b><span title=spades>♠</span></b></td><td><b><span title=sub>⊂</span></b></td><td><b><span title=sube>⊆</span></b></td><td><b><span title=sum>∑</span></b></td><td><b><span title=sup>⊃</span></b></td><td><b><span title=sup1>¹</span></b></td><td><b><span title=sup2>²</span></b></td><td><b><span title=sup3>³</span></b></td><td><b><span title=supe>⊇</span></b></td><td><b><span title=szlig>ß</span></b></td><td><b><span title=Tau>Τ</span></b></td><td><b><span title=tau>τ</span></b></td><td><b><span title=there4>∴</span></b></td><td><b><span title=Theta>Θ</span></b></td><td><b><span title=theta>θ</span></b></td><td><b><span title=thetasym>ϑ</span></b></td><td><b><span title=thinsp></span></b></td><td><b><span title=THORN>Þ</span></b></td><td><b><span title=thorn>þ</span></b></td><td><b><span title=tilde>˜</span></b></td></tr><tr align=center><td><b><span title=times>×</span></b></td><td><b><span title=trade>™</span></b></td><td><b><span title=Uacute>Ú</span></b></td><td><b><span title=uacute>ú</span></b></td><td><b><span title=uarr>↑</span></b></td><td><b><span title=uArr>⇑</span></b></td><td><b><span title=Ucirc>Û</span></b></td><td><b><span title=ucirc>û</span></b></td><td><b><span title=Ugrave>Ù</span></b></td><td><b><span title=ugrave>ù</span></b></td><td><b><span title=uml>¨</span></b></td><td><b><span title=upsih>ϒ</span></b></td><td><b><span title=Upsilon>Υ</span></b></td><td><b><span title=upsilon>υ</span></b></td><td><b><span title=Uuml>Ü</span></b></td><td><b><span title=uuml>ü</span></b></td><td><b><span title=weierp>℘</span></b></td><td><b><span title=Xi>Ξ</span></b></td><td><b><span title=xi>ξ</span></b></td><td><b><span title=Yacute>Ý</span></b></td><td><b><span title=yacute>ý</span></b></td><td><b><span title=yen>¥</span></b></td><td><b><span title=yuml>ÿ</span></b></td><td><b><span title=Yuml>Ÿ</span></b></td><td><b><span title=Zeta>Ζ</span></b></td><td><b><span title=zeta>ζ</span></b></td><td><b><span title=zwj>‍</span></b></td><td><b><span title=zwnj>‌</span></b></td></tr></tbody></table></div><div class=modal-footer><button class="btn btn-close btn-default">Close</button></div></div></div></div><div class=salvus-editor-textedit-buttonbar><span class=btn-group><a href=#bold class="btn btn-default" data-toggle=tooltip data-placement=bottom title=Bold><i class="fa fa-bold"></i></a> <a href=#italic class="btn btn-default" data-toggle=tooltip data-placement=bottom title=Italic><i class="fa fa-italic"></i></a> <a href=#underline class="btn btn-default" data-toggle=tooltip data-placement=bottom title=Underline><i class="fa fa-underline"></i></a> <a href=#strikethrough class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Strike through"><i class="fa fa-strikethrough"></i></a> <a href=#subscript class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Subscript (use LaTeX for serious equations)"><i class="fa fa-subscript"></i></a> <a href=#superscript class="btn btn-default" data-toggle=tooltip data-placement=bottom title=Superscript><i class="fa fa-superscript"></i></a> <a href=#comment class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Comment out selection"><i class="fa fa-comment-o"></i></a></span> <span class=btn-group><a href=#equation class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Inline equation...">$</a> <a href=#display_equation class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Displayed equation...">$$</a> <a href=#insertunorderedlist class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Insert unordered list"><i class="fa fa-list"></i></a> <a href=#insertorderedlist class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Insert ordered list"><i class="fa fa-list-ol"></i></a> <a href=#link data-args=special class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Insert link..."><i class="fa fa-link"></i></a> <a href=#image data-args=special class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Insert image..."><i class="fa fa-image"></i></a> <a href=#table data-args=special class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Insert table"><i class="fa fa-table"></i></a> <a href=#horizontalRule data-args=special class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Insert horizontal line"><i class=fa>&mdash;</i></a> <a href=#SpecialChar data-args=special class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Insert Special Character ..."><i class=fa>&Omega;</i></a></span> <span class=btn-group><a href=#justifyleft class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Left justify"><i class="fa fa-align-left"></i></a> <a href=#justifycenter class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Justify center"><i class="fa fa-align-center"></i></a> <a href=#justifyright class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Right justify"><i class="fa fa-align-right"></i></a> <a href=#justifyfull class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Justify full"><i class="fa fa-align-justify"></i></a> <a href=#indent class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Indent/quote selected text"><i class="fa fa-indent"></i></a> <a href=#unformat class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Remove formatting"><i class="fa fa-remove"></i></a> <a href=#clean class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Make selected HTML valid"><i class="fa fa-code"></i></a></span> <span class=btn-group><span class="btn-group sagews-output-editor-font-face smc-tooltip" data-toggle=tooltip data-placement=bottom title=Fonts><span class="btn btn-default dropdown-toggle" data-toggle=dropdown title=Font><i class="fa fa-font"></i> <b class=caret></b></span><ul class=dropdown-menu></ul></span> <span class="btn-group sagews-output-editor-font-size smc-tooltip" data-toggle=tooltip data-placement=bottom title="Font size"><span class="btn btn-default dropdown-toggle" data-toggle=dropdown title="Text height"><i class="fa fa-text-height"></i> <b class=caret></b></span><ul class=dropdown-menu></ul></span> <span class="btn-group sagews-output-editor-block-type smc-tooltip" data-toggle=tooltip data-placement=bottom title="Format type"><span class="btn btn-default dropdown-toggle" data-toggle=dropdown title=Header><i class="fa fa-header"></i> <b class=caret></b></span><ul class=dropdown-menu></ul></span></span><span class=btn-group><span class="hide sagews-output-editor-foreground-color-selector input-group color smc-tooltip" data-color-format=rgb data-toggle=tooltip data-placement=bottom title="Text color"><input type=text style=cursor:pointer class=form-control> <span class=input-group-addon style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class=caret></b></span></span></span> <span class=btn-group><span class="hide sagews-output-editor-background-color-selector input-group color smc-tooltip" data-color-format=rgb data-toggle=tooltip data-placement=bottom title="Text background highlight color"><input type=text style=cursor:pointer class=form-control> <span class=input-group-addon style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class=caret></b></span></span></span></div><div class="salvus-editor-codeedit-buttonbar hide" style="margin: 2px"></div><div class="salvus-editor-redit-buttonbar hide" style="margin: 2px"></div><div class="salvus-editor-julia-edit-buttonbar hide" style="margin: 2px"></div><div class="salvus-editor-sh-edit-buttonbar hide" style="margin: 2px"></div><div class="salvus-editor-fricas-edit-buttonbar hide" style="margin: 2px"></div><div class="salvus-editor-fallback-edit-buttonbar hide" style="margin: 2px"><a class="btn btn-default" href=#todo>&hellip;</a></div><div class=sagews-output-raw_input><div class=form-inline><div class=form-group><label class=sagews-output-raw_input-prompt style="margin-right: 10px;"></label><div class=input-group><input class="sagews-output-raw_input-value form-control"> <span class=input-group-btn><button class="btn btn-success sagews-output-raw_input-submit" type=button><i class="fa fa-check"></i></button></span></div></div></div></div></div>';
},function(e,exports){e.exports='<div class="salvus-interact-templates hide"><div class="salvus-interact-container container-fluid"></div><div class=salvus-interact-control-input-box><div class=row><div class=col-sm-4><span class="salvus-interact-label pull-right"></span></div><div class=col-sm-8><input type=text class="hide salvus-interact-input-box-font form-control"> <textarea class="hide salvus-interact-input-box-font" spellcheck=false></textarea> <span class="salvus-interact-control-input-box-submit-button hide"><a class="btn btn-default">Submit</a><br><br></span></div></div></div><div class=salvus-interact-control-checkbox><div class=row><div class=col-sm-4><span class="salvus-interact-label pull-right" style="padding-top: 2px;"></span></div><div class=col-sm-8><input type=checkbox></div></div></div><div class=salvus-interact-control-selector><div class=row><div class=col-sm-4><span class="salvus-interact-label pull-right"></span></div><div class=col-sm-8><div class=salvus-interact-control-content></div></div></div></div><div class=salvus-interact-control-button><div class=row><div class=col-sm-4><span class="salvus-interact-label pull-right"></span></div><div class=col-sm-8><a class="btn btn-default"><i class=fa>&nbsp;&nbsp;</i> <span></span></a></div></div></div><div class=salvus-interact-control-text><div class=row><div class=col-sm-4><span class="salvus-interact-label pull-right"></span></div><div class=col-sm-8><span class=salvus-interact-control-content></span></div></div></div><div class=salvus-interact-control-color-selector><div class=row><div class=col-sm-4><span class="salvus-interact-label pull-right"></span></div><div class=col-sm-8><div class="input-group color" data-color-format=rgb><input type=text value style=font-family:monospace class=form-control> <span class=input-group-addon><i class=fa style="height: 16px; width: 16px"></i></span></div></div></div></div><div class=salvus-interact-control-slider><div class=salvus-interact-control-content><div class=row><div class=col-sm-4><div class="salvus-interact-label pull-right"></div></div><div class="pull-left col-sm-6"><div class=salvus-interact-control-slider></div></div><div class=col-sm-2><div class=salvus-interact-control-value></div></div></div></div></div><div class=salvus-interact-control-range-slider><div class=salvus-interact-control-content><div class=row><div class=col-sm-4><div class="salvus-interact-label pull-right"></div></div><div class="pull-left col-sm-6"><div class=salvus-interact-control-slider></div></div><div class=col-sm-2><div class=salvus-interact-control-value></div></div></div></div></div><div class=salvus-interact-control-input-grid><div class=row><div class=col-sm-4><span class="salvus-interact-label pull-right"></span></div><div class=col-sm-8><span class="salvus-interact-control-grid well"></span> <a class="btn btn-success btn-sm"><i class="fa fa-ok"></i><span></span></a></div></div></div></div>'},function(e,exports){e.exports='<div class="smc-jupyter-templates hide"><div class=smc-jupyter-cursor><pre class=smc-jupyter-cursor-label></pre><div class=smc-jupyter-cursor-inside>&nbsp;&nbsp;&nbsp;</div></div><div class="smc-jupyter-notebook smc-vfill"><div class="smc-jupyter-startup-message alert alert-info" role=alert style="width: 94%; margin: 3%;">Loading...</div><div class="hide smc-jupyter-notebook-buttons smc-jupyter-notebook-buttons-hidden-xs hidden-xs"><span class="smc-jupyter-notebook-status-messages lighten"></span> <span class="hide smc-jupyter-notebook-danger">DANGER: Users on this VM could connect unless you stop your ipython-notebook server (they would have to know secret internal project-id).</span> <span class=btn-group><a href=#undo class="btn btn-default salvus-editor-write-only" data-toggle=tooltip data-placement=bottom title=Undo><i class="fa fa-undo"></i></a> <a href=#redo class="btn btn-default salvus-editor-write-only" data-toggle=tooltip data-placement=bottom title=Redo><i class="fa fa-repeat"></i></a> <a href=#font-size-decrease class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Decrease font-size"><i class="fa fa-font" style=font-size:7pt></i></a> <a href=#font-size-increase class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Increase font-size"><i class="fa fa-font" style=font-size:11pt></i></a></span> <span class=btn-group><a href=#save class="btn btn-success" data-toggle=tooltip data-placement=bottom title="Save .ipynb file to disk (file is constantly sync\'d with server)."><i class="fa fa-save"></i> <span class=hidden-sm>Save</span></a> <a href=#history class="btn btn-info salvus-editor-history-button" data-toggle=tooltip data-placement=bottom title="View the history of this file."><i class="fa fa-history"></i> <span class=hidden-sm>TimeTravel</span></a> <a href=#publish class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Publish this notebook for anybody to see"><i class="fa fa-refresh fa-spin hide"></i> <i class="fa fa-share-square-o"></i> <span class=hidden-sm>Publish</span></a> <a href=#info class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Extra information about the Jupyter notebook"><i class="fa fa-question-circle"></i> <span class=hidden-sm>About</span></a> <a href=#refresh class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Reload the notebook"><i class="fa fa-refresh"></i> <span class=hidden-sm>Refresh</span></a> <a href=#modern class="btn btn-default" data-toggle=tooltip data-placement=bottom title="Reload the notebook"><i class="fa fa-exchange"></i> <span class=hidden-sm>Modern Notebook...</span></a></span></div><div class="smc-jupyter-notebook-buttons visible-xs"><span class=btn-group><a href=#save class="btn btn-success"><i class="fa fa-save"></i> Save</a> <a href=#publish class="btn btn-default"><i class="fa fa-share-square-o"></i> Publish</a> <a href=#info class="btn btn-default"><i class="fa fa-info-circle"></i> About</a></span> <span class="btn-group salvus-editor-codemirror-worksheet-buttons hide"><a href=#execute class="btn btn-success btn-lg"><i class="fa fa-play"></i> <span>Run</span></a> <a href=#interrupt class="btn btn-warning btn-lg"><i class="fa fa-stop"></i> <span>Stop</span></a> <a href=#tab class="btn btn-default btn-lg"><i class="fa fa-info-circle"></i> <span>Tab</span></a></span></div><h3 class="smc-jupyter-notebook-connecting hide" style=margin-left:2em>Opening...</h3><div class="smc-jupyter-notebook-notebook smc-vfill"></div></div><div class=smc-jupyter-nbviewer style=height:100%><div style=margin-left:1em><span><a href=#copy class="btn btn-default btn-sm"><i class="fa fa-send-o"></i> Copy Jupyter Notebook to your Project...</a></span> <span><a href=#download class="btn btn-default btn-sm"><i class="fa fa-cloud-download"></i> Download</a></span></div><div class=smc-jupyter-nbviewer-content style=height:100%><iframe style="width:100%;height:100%;border:1px solid lightgray; border-radius:4px;" frameborder=0 scrolling=yes></iframe></div></div><div class="modal smc-jupyter-publish-dialog" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class="close btn-close" aria-hidden=true><span style=font-size:20pt;>×</span></button><h3><i class="fa fa-share-square-o"></i> Publishing IPython Notebook</h3></div><div class=well><div class=smc-jupyter-publish-dialog-publishing>Publishing... <span class=smc-jupyter-publish-status></span><br><div class=progress><div class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100 style="width: 0%;">0%</div></div></div><div class="smc-jupyter-publish-dialog-fail hide"><b>Error:</b> <span></span></div><div class="smc-jupyter-publish-dialog-success hide"><br>Share the following link:<br><br><input class="form-control smc-jupyter-publish-url"><br><span class=lighten>Note: Anybody may read this public notebook and only collaborators may change it.<br>The published notebook does not update automatically. You have to click publish again after saving it.</span></div></div><div class=modal-footer><button class="btn btn-close pull-left btn-default btn-lg">Close</button></div></div></div></div></div>'},function(e,exports){e.exports='<div id=salvus-misc-templates><div class="modal salvus-codemirror-introspect" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog style=width:90%><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true><span style=font-size:20pt;>×</span></button><h4><div class=salvus-codemirror-introspect-title></div></h4></div><div class="salvus-codemirror-introspect-content-source-code cm-s-default"></div><div class="salvus-codemirror-introspect-content-docstring cm-s-default"></div><div class=modal-footer><button class="btn btn-close btn-default">Close</button></div></div></div></div></div>'},function(e,exports){e.exports='<div class="salvus-tasks-templates hide"><div class="smc-vfill salvus-tasks-editor" style=left:0px><div class="smc-vfill row"><div class="smc-vfill col-sm-12 salvus-tasks-content" style="margin-left:3px; padding-right:21px; display:flex; flex-direction:column"><div class="salvus-tasks-hashtags-row row"><div class=col-sm-12><div class="well salvus-tasks-hashtags"><span class="btn-group salvus-tasks-hashtag-bar" style="white-space: normal"></span></div></div></div><div class=row style="padding-top: 0.5ex;"><div class="lighten salvus-tasks-header col-sm-4"><div class=input-group><input class="salvus-tasks-search search-query form-control" type=search placeholder="Find task..."> <span class=input-group-btn><button class="btn btn-default salvus-tasks-search-clear" type=button><i class="fa fa-times-circle"></i></button></span></div></div><div class="lighten col-sm-2"><i class="fa fa-square-o salvus-task-icon-done-box salvus-task-search-done-icon salvus-task-search-not-done"></i> <i class="fa fa-check-square-o salvus-task-icon-done-box salvus-task-search-done-icon salvus-task-search-done hide"></i> Done&nbsp;&nbsp;&nbsp; <i class="fa fa-square-o salvus-task-icon-done-box salvus-task-search-deleted-icon salvus-task-search-not-deleted"></i> <i class="fa fa-check-square-o salvus-task-icon-done-box salvus-task-search-deleted-icon salvus-task-search-deleted hide"></i> Deleted<br><a class="btn btn-danger salvus-task-empty-trash"><i class="fa fa-trash-o"></i> Empty Trash</a></div><div class="lighten salvus-tasks-search-describe col-sm-6">Showing <span class=salvus-tasks-count>0 tasks</span>.&nbsp;&nbsp;<h4 class=salvus-tasks-loading>Loading task list... <i class="fa fa-spin fa-spinner"></i></h4><span class="salvus-tasks-search-contain hide">Only showing tasks that contain <b><i><span class=salvus-tasks-search-query></span></i></b>.</span> <span class="salvus-tasks-search-showing-deleted hide">Showing <b><i>deleted tasks</i></b>.</span> <span class="salvus-tasks-search-showing-done hide">Showing <b><i>completed tasks</i></b>.</span></div></div><div class="salvus-tasks-list-heading row" style="padding-top: 0.5ex;"><div class=col-sm-6 style="margin-right: 5em;"><span class="btn-group salvus-tasks-action-buttons"><a class="btn btn-default" href=#create-task><i class="fa fa-plus-circle"></i> New</a> <a class="btn salvus-tasks-buttons-pos-move btn-default" href=#move-task-to-top><i class="fa fa-hand-o-up"></i></a> <a class="btn salvus-tasks-buttons-pos-move btn-default" href=#move-task-to-bottom><i class="fa fa-hand-o-down"></i></a> <a class="btn btn-danger" href=#delete-task><i class="fa fa-trash-o"></i> <span class=hidden-sm>Delete</span></a> <a class="btn btn-info salvus-tasks-info"><i class="fa fa-question-circle"></i> Help</a></span> <span class="btn-group salvus-tasks-action-buttons" style="margin-left: 0px;"><a class="btn btn-success disabled" href=#save><i class="fa fa-save"></i> <span>Save</span></a> <a class="btn btn-info salvus-editor-history-button hide" href=#history><i class="fa fa-history"></i> <span class=hidden-sm>TimeTravel</span></a></span></div><div class="lighten salvus-tasks-header salvus-task-sort-custom col-sm-3">Custom Order <i class="fa fa-sort-desc pull-right hide salvus-task-sort-icon"></i><i class="fa fa-sort-asc pull-right hide salvus-task-sort-icon"></i></div><div class="lighten salvus-tasks-header salvus-task-sort-due col-sm-1">Due <span class="salvus-tasks-show-done hide">/ Done</span> <i class="fa fa-sort-desc pull-right hide salvus-task-sort-icon"></i><i class="fa fa-sort-asc pull-right hide salvus-task-sort-icon"></i></div><div class="lighten salvus-tasks-header salvus-task-sort-last-edited col-sm-1">Changed <i class="fa fa-sort-desc pull-right hide salvus-task-sort-icon"></i><i class="fa fa-sort-asc pull-right hide salvus-task-sort-icon"></i></div></div><div class="salvus-tasks-list smc-vfill"><div class=salvus-tasks-listing></div><h3 class="salvus-tasks-list-none hide"><a href=#create-task><i class="fa fa-plus-circle"></i> Create a New Task...</a></h3></div></div></div></div><div class="salvus-task row"><div class="col-sm-1 salvus-task-sort"><span class=salvus-task-toggle-icons><i class="fa fa-caret-right salvus-task-toggle-icon pull-right hide"></i> <i class="fa fa-caret-down salvus-task-toggle-icon pull-right"></i></span> <i class="fa fa-reorder salvus-task-reorder-handle"></i> <i class="fa fa-check-square-o salvus-task-viewer-done salvus-task-icon-done-box hide"></i> <i class="fa fa-square-o salvus-task-viewer-not-done salvus-task-icon-done-box"></i> <a class="btn btn-danger salvus-task-undelete hide btn-ms">Undelete</a></div><div class="salvus-tasks-desc-column col-sm-9"><div class=salvus-task-desc></div></div><div class="salvus-task-due-div col-sm-1"><span class=salvus-task-due>none</span> <i class="fa fa-times salvus-task-icon salvus-task-due-clear hide"></i> <span class="salvus-task-done hide"><br>completed <span></span></span></div><div class=col-sm-1><span class=salvus-task-last-edited></span></div></div><div class=salvus-task-editor><div class=salvus-tasks-desc-edit><textarea></textarea><div class=row><div class=col-sm-6><a class="btn btn-default" style=margin-bottom:1ex href=#close data-toggle=tooltip data-placement=bottom title="or press shift+enter">Close</a></div></div></div><div class="input-group salvus-tasks-due-edit pull-right"><input data-format="MM/dd/yyyy HH:mm:ss PP" type=text value class=form-control> <span class=input-group-addon style=cursor:pointer><i class="fa fa-calendar-o"></i></span></div></div><button class="btn btn-info salvus-tasks-hashtag-button btn-ms"></button><div class="modal salvus-tasks-help-dialog" data-backdrop=static tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class="close btn-close"><span style=font-size:20pt;>×</span></button><h3><i class="fa fa-question-circle"></i> Task Lists</h3></div><div class=modal-body>Use task lists to help organize your work on a SageMathCloud project.<h4>Editing the Description (Markdown)</h4>Click or use the cursor keys (and press enter) to edit a task, or create a new task. Use <a href="https://help.github.com/articles/getting-started-with-writing-and-formatting-on-github/" target=_blank>Github style markdown</a> to describe your task, use LaTeX to typeset mathematics (use <code>\\$</code> for a dollar sign), use <code>[ ]</code> and <code>[x]</code> to create checklists, and press shift+enter to save your changes. The editor respects the themes you select in account settings, and external links open in another browser tab. You can toggle showing the full description or only everything up to the first blank line. Of course simultaneous synchronized editing of tasks by multiple clients is fully supported.<h4>Moving tasks</h4>In custom order (the default) click and drag <i class="fa fa-reorder salvus-task-reorder-handle"></i> to change the order of the tasks. You can also click <i class="fa fa-hand-o-up"></i> and <i class="fa fa-hand-o-down"></i> to move the currently selected task to the top or bottom of the currently visible task.<h4>Due date</h4>Each task has an optional due date (and time), which you can set by clicking on the due date (or none). You can see when the task is due, when you last edited it, and click the due column to sort by due date. View finished tasks by selecting the done checkbox.<h4>Hashtags</h4>Put <span class=salvus-tasks-hash><tt>#tag</tt></span> anywhere in the description of a task to create a hashtag, with <i>no space</i> between the hash symbol and the tag identifier. A corresponding button will appear at the top of the screen. Click on the bottom or the hashtag in a task to toggle showing only tasks with that hashtag.<h4>Search</h4>Enter terms in the search box in the upper left to show only tasks containing all search terms.<h4>Keyboard shortcuts</h4>Let mod be any of control, alt, or command. Use mod+s to save, mod+f to find, mod+n to make a new task, mod+space to toggle done state, and mod+arrow to move a task up or down the list. Use arrows (or j and k) to change which task is selected, enter to start editing a task description, and shift+enter to stop editing.<h4>File format</h4>A task list is stored as a file with extension<tt>.tasks</tt>that contains one JSON line per task. You can directly edit this file with other tools (e.g., vim on the command line) and changes should appear in the task list within a few seconds. You can have many task lists, store them in revision control, recover them from snapshots, etc. You can also create a task list by creating a file <code>foo.tasks</code> that has one description per line (as a string):<pre>            "the first task"\n                    "another task"</pre>Or, with one JSON line per task:<pre>            {"desc":"the first task"}\n                    {"desc":"another task"}</pre>Additional optional fields are <code>position</code>, which is a float that determines sort order, <code>done</code>, <code>due</code> and <code>last_edited</code>, which are the number of milliseconds since the epoch in the UTC time zone, and <code>task_id</code> which is a v4 UUID.</div><div class=modal-footer><button class="btn btn-close btn-default">Close</button></div></div></div></div></div>'},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){var n=t(937);"string"==typeof n&&(n=[[e.id,n,""]]);t(16)(n,{});n.locals&&(e.exports=n.locals)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){e.exports=t.p+"CpcBg6QixSdbxhDxsbv1eCFSIUHhHFqQ1.png"},function(e,exports,t){e.exports=t.p+"hffKvk9pHYbmPZztYsIkXhjXpk6KVBG9v.png"},function(e,exports,t){e.exports=t.p+"X4ToFyrQaQGJrcnxYtKVgGQ6Hvz4f6jrN.png"},function(e,exports,t){e.exports=t.p+"hFOFP0SPqcKN2ngInDkVOj0V0tAyxG8wM.png"},,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){var n;(function(e,r){(function(){function i(e,t){if(e!==t){var n=null===e,r=e===E,i=e===e,o=null===t,s=t===E,a=t===t;if(e>t&&!o||!i||n&&!s&&a||r&&a)return 1;if(e<t&&!n||!a||o&&!r&&i||s&&i)return-1}return 0}function o(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function s(e,t,n){if(t!==t)return g(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function a(e){return"function"==typeof e||!1}function l(e){return null==e?"":e+""}function c(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function u(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function d(e,t){return i(e.criteria,t.criteria)||e.index-t.index}function p(e,t,n){for(var r=-1,o=e.criteria,s=t.criteria,a=o.length,l=n.length;++r<a;){var c=i(o[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*("asc"===u||u===!0?1:-1)}}return e.index-t.index}function h(e){return Ge[e]}function f(e){return Ye[e]}function m(e,t,n){return t?e=Qe[e]:n&&(e=Ze[e]),"\\"+e}function _(e){return"\\"+Ze[e]}function g(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function v(e){return!!e&&"object"==typeof e}function y(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function b(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=K,o[++i]=n);return o}function w(e,t){for(var n,r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r],l=t?t(a,r,e):a;r&&n===l||(n=l,s[++o]=a)}return s}function x(e){for(var t=-1,n=e.length;++t<n&&y(e.charCodeAt(t)););return t}function k(e){for(var t=e.length;t--&&y(e.charCodeAt(t)););return t}function A(e){return Je[e]}function C(e){function t(e){if(v(e)&&!Ta(e)&&!(e instanceof y)){if(e instanceof r)return e;if(ns.call(e,"__chain__")&&ns.call(e,"__wrapped__"))return fr(e)}return new r(e)}function n(){}function r(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function y(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ms,this.__views__=[]}function X(){var e=new y(this.__wrapped__);return e.__actions__=tt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=tt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=tt(this.__views__),e}function re(){if(this.__filtered__){var e=new y(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function oe(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ta(e),r=t<0,i=n?e.length:0,o=Yn(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,p=0,h=As(l,this.__takeCount__);if(!n||i<F||i==l&&h==l)return rn(r&&n?e.reverse():e,this.__actions__);var f=[];e:for(;l--&&p<h;){c+=t;for(var m=-1,_=e[c];++m<d;){var g=u[m],v=g.iteratee,y=g.type,b=v(_);if(y==W)_=b;else if(!b){if(y==U)continue e;break e}}f[p++]=_}return f}function Ge(){this.__data__={}}function Ye(e){return this.has(e)&&delete this.__data__[e]}function Je(e){return"__proto__"==e?E:this.__data__[e]}function Ve(e){return"__proto__"!=e&&ns.call(this.__data__,e)}function Qe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:vs(null),set:new ps};t--;)this.push(e[t])}function $e(e,t){var n=e.data,r="string"==typeof t||Li(t)?n.set.has(t):n.hash[t];return r?0:-1}function Xe(e){var t=this.data;"string"==typeof e||Li(e)?t.set.add(e):t.hash[e]=!0}function et(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,s=Uo(r+o);++n<r;)s[n]=e[n];for(;++i<o;)s[n++]=t[i];return s}function tt(e,t){var n=-1,r=e.length;for(t||(t=Uo(r));++n<r;)t[n]=e[n];return t}function nt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function st(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,s=r,a=s;++i<o;){var l=e[i],c=+t(l);n(c,s)&&(s=c,a=l)}return a}function lt(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[++i]=s)}return o}function ct(e,t){for(var n=-1,r=e.length,i=Uo(r);++n<r;)i[n]=t(e[n],n,e);return i}function ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function pt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ht(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ft(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function mt(e,t){return e===E?t:e}function _t(e,t,n,r){return e!==E&&ns.call(r,n)?e:t}function gt(e,t,n){for(var r=-1,i=Fa(t),o=i.length;++r<o;){var s=i[r],a=e[s],l=n(a,t[s],s,e,t);(l===l?l===a:a!==a)&&(a!==E||s in e)||(e[s]=l)}return e}function vt(e,t){return null==t?e:bt(t,Fa(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&$n(e),o=i?e.length:0,s=t.length,a=Uo(s);++n<s;){var l=t[n];i?a[n]=Xn(l,o)?e[l]:E:a[n]=r?E:e[l]}return a}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function wt(e,t,n){var r=typeof e;return"function"==r?t===E?e:an(e,t,n):null==e?Mo:"object"==r?qt(e):t===E?Lo(e):Ft(e,t)}function xt(e,t,n,r,i,o,s){var a;if(n&&(a=i?n(e,r,i):n(e)),a!==E)return a;if(!Li(e))return e;var l=Ta(e);if(l){if(a=Jn(e),!t)return tt(e,a)}else{var c=is.call(e),u=c==Z;if(c!=te&&c!=G&&(!u||i))return Ke[c]?Qn(e,c,t):i?e:{};if(a=Vn(u?{}:e),!t)return vt(a,e)}o||(o=[]),s||(s=[]);for(var d=o.length;d--;)if(o[d]==e)return s[d];return o.push(e),s.push(a),(l?nt:Nt)(e,function(r,i){a[i]=xt(r,t,n,i,e,o,s)}),a}function kt(e,t,n){if("function"!=typeof e)throw new Zo(H);return hs(function(){e.apply(E,n)},t)}function At(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,o=Hn(),a=o==s,l=a&&t.length>=F?_n(t):null,c=t.length;l&&(o=$e,a=!1,t=l);e:for(;++i<n;){var u=e[i];if(a&&u===u){for(var d=c;d--;)if(t[d]===u)continue e;r.push(u)}else o(t,u,0)<0&&r.push(u)}return r}function Ct(e,t){var n=!0;return Rs(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Et(e,t,n,r){var i=r,o=i;return Rs(e,function(e,s,a){var l=+t(e,s,a);(n(l,i)||l===r&&l===o)&&(i=l,o=e)}),o}function St(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===E||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}function jt(e,t){var n=[];return Rs(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Mt(e,t,n,r){var i;return n(e,function(e,n,o){if(t(e,n,o))return i=r?n:e,!1}),i}function Tt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var s=e[i];v(s)&&$n(s)&&(n||Ta(s)||Ei(s))?t?Tt(s,t,n,r):ut(r,s):n||(r[r.length]=s)}return r}function Ot(e,t){return Bs(e,t,to)}function Nt(e,t){return Bs(e,t,Fa)}function It(e,t){return qs(e,t,Fa)}function Dt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];Di(e[s])&&(o[++i]=s)}return o}function Lt(e,t,n){if(null!=e){n!==E&&n in pr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:E}}function zt(e,t,n,r,i,o){return e===t||(null==e||null==t||!Li(e)&&!v(t)?e!==e&&t!==t:Rt(e,t,zt,n,r,i,o))}function Rt(e,t,n,r,i,o,s){var a=Ta(e),l=Ta(t),c=Y,u=Y;a||(c=is.call(e),c==G?c=te:c!=te&&(a=Hi(e))),l||(u=is.call(t),u==G?u=te:u!=te&&(l=Hi(t)));var d=c==te,p=u==te,h=c==u;if(h&&!a&&!d)return qn(e,t,c);if(!i){var f=d&&ns.call(e,"__wrapped__"),m=p&&ns.call(t,"__wrapped__");if(f||m)return n(f?e.value():e,m?t.value():t,r,i,o,s)}if(!h)return!1;o||(o=[]),s||(s=[]);for(var _=o.length;_--;)if(o[_]==e)return s[_]==t;o.push(e),s.push(t);var g=(a?Bn:Fn)(e,t,n,r,i,o,s);return o.pop(),s.pop(),g}function Pt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=pr(e);r--;){var s=t[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<i;){s=t[r];var a=s[0],l=e[a],c=s[1];if(o&&s[2]){if(l===E&&!(a in e))return!1}else{var u=n?n(l,c,a):E;if(!(u===E?zt(c,l,n,!0):u))return!1}}return!0}function Bt(e,t){var n=-1,r=$n(e)?Uo(e.length):[];return Rs(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function qt(e){var t=Kn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(r!==E||n in pr(e)))}}return function(e){return Pt(e,t)}}function Ft(e,t){var n=Ta(e),r=tr(e)&&ir(t),i=e+"";return e=hr(e),function(o){if(null==o)return!1;var s=i;if(o=pr(o),(n||!r)&&!(s in o)){if(o=1==e.length?o:Lt(o,Vt(e,0,-1)),null==o)return!1;s=Sr(e),o=pr(o)}return o[s]===t?t!==E||s in o:zt(t,o[s],E,!0)}}function Ut(e,t,n,r,i){if(!Li(e))return e;var o=$n(t)&&(Ta(t)||Hi(t)),s=o?E:Fa(t);return nt(s||t,function(a,l){if(s&&(l=a,a=t[l]),v(a))r||(r=[]),i||(i=[]),Wt(e,t,l,Ut,n,r,i);else{var c=e[l],u=n?n(c,a,l,e,t):E,d=u===E;d&&(u=a),u===E&&(!o||l in e)||!d&&(u===u?u===c:c!==c)||(e[l]=u)}}),e}function Wt(e,t,n,r,i,o,s){for(var a=o.length,l=t[n];a--;)if(o[a]==l)return e[n]=s[a],E;var c=e[n],u=i?i(c,l,n,e,t):E,d=u===E;d&&(u=l,$n(l)&&(Ta(l)||Hi(l))?u=Ta(c)?c:$n(c)?tt(c):[]:Fi(l)||Ei(l)?u=Ei(c)?Vi(c):Fi(c)?c:{}:d=!1),o.push(l),s.push(u),d?e[n]=r(u,l,i,o,s):(u===u?u!==c:c===c)&&(e[n]=u)}function Ht(e){return function(t){return null==t?E:t[e]}}function Kt(e){var t=e+"";return e=hr(e),function(n){return Lt(n,e,t)}}function Gt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Xn(r)){var i=r;fs.call(e,r,1)}}return e}function Yt(e,t){return e+ys(Ss()*(t-e+1))}function Jt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Vt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,t<0&&(t=-t>i?0:i+t),n=n===E||n>i?i:+n||0,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Uo(i);++r<i;)o[r]=e[r+t];return o}function Qt(e,t){var n;return Rs(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Zt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function $t(e,t,n){var r=Un(),i=-1;t=ct(t,function(e){return r(e)});var o=Bt(e,function(e){var n=ct(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Zt(o,function(e,t){return p(e,t,n)})}function Xt(e,t){var n=0;return Rs(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function en(e,t){var n=-1,r=Hn(),i=e.length,o=r==s,a=o&&i>=F,l=a?_n():null,c=[];l?(r=$e,o=!1):(a=!1,l=t?[]:c);e:for(;++n<i;){var u=e[n],d=t?t(u,n,e):u;if(o&&u===u){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),c.push(u)}else r(l,d,0)<0&&((t||a)&&l.push(d),c.push(u))}return c}function tn(e,t){for(var n=-1,r=t.length,i=Uo(r);++n<r;)i[n]=e[t[n]];return i}function nn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Vt(e,r?0:o,r?o+1:i):Vt(e,r?o+1:0,r?i:o)}function rn(e,t){var n=e;n instanceof y&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,ut([n],o.args))}return n}function on(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&i<=Ns){for(;r<i;){var o=r+i>>>1,s=e[o];(n?s<=t:s<t)&&null!==s?r=o+1:i=o}return i}return sn(e,t,Mo,n)}function sn(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,s=t!==t,a=null===t,l=t===E;i<o;){var c=ys((i+o)/2),u=n(e[c]),d=u!==E,p=u===u;if(s)var h=p||r;else h=a?p&&d&&(r||null!=u):l?p&&(r||d):null!=u&&(r?u<=t:u<t);h?i=c+1:o=c}return As(o,Os)}function an(e,t,n){if("function"!=typeof e)return Mo;if(t===E)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)}}return function(){return e.apply(t,arguments)}}function ln(e){var t=new as(e.byteLength),n=new ms(t);return n.set(new ms(e)),t}function cn(e,t,n){for(var r=n.length,i=-1,o=ks(e.length-r,0),s=-1,a=t.length,l=Uo(a+o);++s<a;)l[s]=t[s];for(;++i<r;)l[n[i]]=e[i];for(;o--;)l[s++]=e[i++];return l}function un(e,t,n){for(var r=-1,i=n.length,o=-1,s=ks(e.length-i,0),a=-1,l=t.length,c=Uo(s+l);++o<s;)c[o]=e[o];for(var u=o;++a<l;)c[u+a]=t[a];for(;++r<i;)c[u+n[r]]=e[o++];return c}function dn(e,t){return function(n,r,i){var o=t?t():{};if(r=Un(r,i,3),Ta(n))for(var s=-1,a=n.length;++s<a;){var l=n[s];e(o,l,r(l,s,n),n)}else Rs(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function pn(e){return vi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:E,s=i>2?n[2]:E,a=i>1?n[i-1]:E;for("function"==typeof o?(o=an(o,a,5),i-=2):(o="function"==typeof a?a:E,i-=o?1:0),s&&er(n[0],n[1],s)&&(o=i<3?E:o,i=1);++r<i;){var l=n[r];l&&e(t,l,o)}return t})}function hn(e,t){return function(n,r){var i=n?Ws(n):0;if(!rr(i))return e(n,r);for(var o=t?i:-1,s=pr(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function fn(e){return function(t,n,r){for(var i=pr(t),o=r(t),s=o.length,a=e?s:-1;e?a--:++a<s;){var l=o[a];if(n(i[l],l,i)===!1)break}return t}}function mn(e,t){function n(){var i=this&&this!==rt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vn(e);return n}function _n(e){return vs&&ps?new Ze(e):null}function gn(e){return function(t){for(var n=-1,r=Eo(po(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);
case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zs(e.prototype),r=e.apply(n,t);return Li(r)?r:n}}function yn(e){function t(n,r,i){i&&er(n,r,i)&&(r=E);var o=Pn(n,e,E,E,E,E,E,r);return o.placeholder=t.placeholder,o}return t}function bn(e,t){return vi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(E,n))})}function wn(e,t){return function(n,r,i){if(i&&er(n,r,i)&&(r=E),r=Un(r,i,3),1==r.length){n=Ta(n)?n:dr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return Et(n,r,e,t)}}function xn(e,t){return function(n,r,i){if(r=Un(r,i,3),Ta(n)){var s=o(n,r,t);return s>-1?n[s]:E}return Mt(n,r,e)}}function kn(e){return function(t,n,r){return t&&t.length?(n=Un(n,r,3),o(t,n,e)):-1}}function An(e){return function(t,n,r){return n=Un(n,r,3),Mt(t,n,e,!0)}}function Cn(e){return function(){for(var t,n=arguments.length,i=e?n:-1,o=0,s=Uo(n);e?i--:++i<n;){var a=s[o++]=arguments[i];if("function"!=typeof a)throw new Zo(H);!t&&r.prototype.thru&&"wrapper"==Wn(a)&&(t=new r([],!0))}for(i=t?-1:n;++i<n;){a=s[i];var l=Wn(a),c="wrapper"==l?Us(a):E;t=c&&nr(c[0])&&c[1]==(L|O|I|z)&&!c[4].length&&1==c[9]?t[Wn(c[0])].apply(t,c[3]):1==a.length&&nr(a)?t[l]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ta(r)&&r.length>=F)return t.plant(r).value();for(var i=0,o=n?s[i].apply(this,e):r;++i<n;)o=s[i].call(this,o);return o}}}function En(e,t){return function(n,r,i){return"function"==typeof r&&i===E&&Ta(n)?e(n,r):t(n,an(r,i,3))}}function Sn(e){return function(t,n,r){return"function"==typeof n&&r===E||(n=an(n,r,3)),e(t,n,to)}}function jn(e){return function(t,n,r){return"function"==typeof n&&r===E||(n=an(n,r,3)),e(t,n)}}function Mn(e){return function(t,n,r){var i={};return n=Un(n,r,3),Nt(t,function(t,r,o){var s=n(t,r,o);r=e?s:r,t=e?t:s,i[r]=t}),i}}function Tn(e){return function(t,n,r){return t=l(t),(e?t:"")+Dn(t,n,r)+(e?"":t)}}function On(e){var t=vi(function(n,r){var i=b(r,t.placeholder);return Pn(n,e,E,r,i)});return t}function Nn(e,t){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&o===E&&Ta(n)?e(n,r,i,s):Jt(n,Un(r,o,4),i,s,t)}}function In(e,t,n,r,i,o,s,a,l,c){function u(){for(var v=arguments.length,y=v,w=Uo(v);y--;)w[y]=arguments[y];if(r&&(w=cn(w,r,i)),o&&(w=un(w,o,s)),f||_){var x=u.placeholder,k=b(w,x);if(v-=k.length,v<c){var A=a?tt(a):E,C=ks(c-v,0),S=f?k:E,T=f?E:k,O=f?w:E,N=f?E:w;t|=f?I:D,t&=~(f?D:I),m||(t&=~(j|M));var L=[e,t,n,O,S,N,T,A,l,C],z=In.apply(E,L);return nr(e)&&Hs(z,L),z.placeholder=x,z}}var R=p?n:this,P=h?R[e]:e;return a&&(w=cr(w,a)),d&&l<w.length&&(w.length=l),this&&this!==rt&&this instanceof u&&(P=g||vn(e)),P.apply(R,w)}var d=t&L,p=t&j,h=t&M,f=t&O,m=t&T,_=t&N,g=h?E:vn(e);return u}function Dn(e,t,n){var r=e.length;if(t=+t,r>=t||!ws(t))return"";var i=t-r;return n=null==n?" ":n+"",vo(n,gs(i/n.length)).slice(0,i)}function Ln(e,t,n,r){function i(){for(var t=-1,a=arguments.length,l=-1,c=r.length,u=Uo(c+a);++l<c;)u[l]=r[l];for(;a--;)u[l++]=arguments[++t];var d=this&&this!==rt&&this instanceof i?s:e;return d.apply(o?n:this,u)}var o=t&j,s=vn(e);return i}function zn(e){var t=Go[e];return function(e,n){return n=n===E?0:+n||0,n?(n=us(10,n),t(e*n)/n):t(e)}}function Rn(e){return function(t,n,r,i){var o=Un(r);return null==r&&o===wt?on(t,n,e):sn(t,n,o(r,i,1),e)}}function Pn(e,t,n,r,i,o,s,a){var l=t&M;if(!l&&"function"!=typeof e)throw new Zo(H);var c=r?r.length:0;if(c||(t&=~(I|D),r=i=E),c-=i?i.length:0,t&D){var u=r,d=i;r=i=E}var p=l?E:Us(e),h=[e,t,n,r,i,u,d,o,s,a];if(p&&(or(h,p),t=h[1],a=h[9]),h[9]=null==a?l?0:e.length:ks(a-c,0)||0,t==j)var f=mn(h[0],h[2]);else f=t!=I&&t!=(j|I)||h[4].length?In.apply(E,h):Ln.apply(E,h);var m=p?Fs:Hs;return m(f,h)}function Bn(e,t,n,r,i,o,s){var a=-1,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;for(;++a<l;){var u=e[a],d=t[a],p=r?r(i?d:u,i?u:d,a):E;if(p!==E){if(p)continue;return!1}if(i){if(!ht(t,function(e){return u===e||n(u,e,r,i,o,s)}))return!1}else if(u!==d&&!n(u,d,r,i,o,s))return!1}return!0}function qn(e,t,n){switch(n){case J:case V:return+e==+t;case Q:return e.name==t.name&&e.message==t.message;case ee:return e!=+e?t!=+t:e==+t;case ne:case ie:return e==t+""}return!1}function Fn(e,t,n,r,i,o,s){var a=Fa(e),l=a.length,c=Fa(t),u=c.length;if(l!=u&&!i)return!1;for(var d=l;d--;){var p=a[d];if(!(i?p in t:ns.call(t,p)))return!1}for(var h=i;++d<l;){p=a[d];var f=e[p],m=t[p],_=r?r(i?m:f,i?f:m,p):E;if(!(_===E?n(f,m,r,i,o,s):_))return!1;h||(h="constructor"==p)}if(!h){var g=e.constructor,v=t.constructor;if(g!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function Un(e,n,r){var i=t.callback||So;return i=i===So?wt:i,r?i(e,n,r):i}function Wn(e){for(var t=e.name,n=Ls[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Hn(e,n,r){var i=t.indexOf||Cr;return i=i===Cr?s:i,e?i(e,n,r):i}function Kn(e){for(var t=no(e),n=t.length;n--;)t[n][2]=ir(t[n][1]);return t}function Gn(e,t){var n=null==e?E:e[t];return Pi(n)?n:E}function Yn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=As(t,e+s);break;case"takeRight":e=ks(e,t-s)}}return{start:e,end:t}}function Jn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ns.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Vn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Jo),new t}function Qn(e,t,n){var r=e.constructor;switch(t){case se:return ln(e);case J:case V:return new r(+e);case ae:case le:case ce:case ue:case de:case pe:case he:case fe:case me:var i=e.buffer;return new r(n?ln(i):i,e.byteOffset,e.length);case ee:case ie:return new r(e);case ne:var o=new r(e.source,De.exec(e));o.lastIndex=e.lastIndex}return o}function Zn(e,t,n){null==e||tr(t,e)||(t=hr(t),e=1==t.length?e:Lt(e,Vt(t,0,-1)),t=Sr(t));var r=null==e?e:e[t];return null==r?E:r.apply(e,n)}function $n(e){return null!=e&&rr(Ws(e))}function Xn(e,t){return e="number"==typeof e||Re.test(e)?+e:-1,t=null==t?Is:t,e>-1&&e%1==0&&e<t}function er(e,t,n){if(!Li(n))return!1;var r=typeof t;if("number"==r?$n(n)&&Xn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function tr(e,t){var n=typeof e;if("string"==n&&Se.test(e)||"number"==n)return!0;if(Ta(e))return!1;var r=!Ee.test(e);return r||null!=t&&e in pr(t)}function nr(e){var n=Wn(e);if(!(n in y.prototype))return!1;var r=t[n];if(e===r)return!0;var i=Us(r);return!!i&&e===i[0]}function rr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Is}function ir(e){return e===e&&!Li(e)}function or(e,t){var n=e[1],r=t[1],i=n|r,o=i<L,s=r==L&&n==O||r==L&&n==z&&e[7].length<=t[8]||r==(L|z)&&n==O;if(!o&&!s)return e;r&j&&(e[2]=t[2],i|=n&j?0:T);var a=t[3];if(a){var l=e[3];e[3]=l?cn(l,a,t[4]):tt(a),e[4]=l?b(e[3],K):tt(t[4])}return a=t[5],a&&(l=e[5],e[5]=l?un(l,a,t[6]):tt(a),e[6]=l?b(e[5],K):tt(t[6])),a=t[7],a&&(e[7]=tt(a)),r&L&&(e[8]=null==e[8]?t[8]:As(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function sr(e,t){return e===E?t:Oa(e,t,sr)}function ar(e,t){e=pr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function lr(e,t){var n={};return Ot(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function cr(e,t){for(var n=e.length,r=As(t.length,n),i=tt(e);r--;){var o=t[r];e[r]=Xn(o,n)?i[o]:E}return e}function ur(e){for(var t=to(e),n=t.length,r=n&&e.length,i=!!r&&rr(r)&&(Ta(e)||Ei(e)),o=-1,s=[];++o<n;){var a=t[o];(i&&Xn(a,r)||ns.call(e,a))&&s.push(a)}return s}function dr(e){return null==e?[]:$n(e)?Li(e)?e:Jo(e):so(e)}function pr(e){return Li(e)?e:Jo(e)}function hr(e){if(Ta(e))return e;var t=[];return l(e).replace(je,function(e,n,r,i){t.push(r?i.replace(Ne,"$1"):n||e)}),t}function fr(e){return e instanceof y?e.clone():new r(e.__wrapped__,e.__chain__,tt(e.__actions__))}function mr(e,t,n){t=(n?er(e,t,n):null==t)?1:ks(ys(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,s=Uo(gs(i/t));r<i;)s[++o]=Vt(e,r,r+=t);return s}function _r(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function gr(e,t,n){var r=e?e.length:0;return r?((n?er(e,t,n):null==t)&&(t=1),Vt(e,t<0?0:t)):[]}function vr(e,t,n){var r=e?e.length:0;return r?((n?er(e,t,n):null==t)&&(t=1),t=r-(+t||0),Vt(e,0,t<0?0:t)):[]}function yr(e,t,n){return e&&e.length?nn(e,Un(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?nn(e,Un(t,n,3),!0):[]}function wr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&er(e,t,n)&&(n=0,r=i),St(e,t,n,r)):[]}function xr(e){return e?e[0]:E}function kr(e,t,n){var r=e?e.length:0;return n&&er(e,t,n)&&(t=!1),r?Tt(e,t):[]}function Ar(e){var t=e?e.length:0;return t?Tt(e,!0):[]}function Cr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?ks(r+n,0):n;else if(n){var i=on(e,t);return i<r&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return s(e,t,n||0)}function Er(e){return vr(e,1)}function Sr(e){var t=e?e.length:0;return t?e[t-1]:E}function jr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?ks(r+n,0):As(n||0,r-1))+1;else if(n){i=on(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return g(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Mr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Hn(),i=e.length;++n<i;)for(var o=0,s=e[n];(o=r(t,s,o))>-1;)fs.call(t,o,1);return t}function Tr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],s=e.length;for(t=Un(t,n,3);++i<s;){var a=e[i];t(a,i,e)&&(r.push(a),o.push(i))}return Gt(e,o),r}function Or(e){return gr(e,1)}function Nr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&er(e,t,n)&&(t=0,n=r),Vt(e,t,n)):[]}function Ir(e,t,n){var r=e?e.length:0;return r?((n?er(e,t,n):null==t)&&(t=1),Vt(e,0,t<0?0:t)):[]}function Dr(e,t,n){var r=e?e.length:0;return r?((n?er(e,t,n):null==t)&&(t=1),t=r-(+t||0),Vt(e,t<0?0:t)):[]}function Lr(e,t,n){return e&&e.length?nn(e,Un(t,n,3),!1,!0):[]}function zr(e,t,n){return e&&e.length?nn(e,Un(t,n,3)):[]}function Rr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=er(e,t,r)?E:t,t=!1);var o=Un();return null==n&&o===wt||(n=o(n,r,3)),t&&Hn()==s?w(e,n):en(e,n)}function Pr(e){if(!e||!e.length)return[];var t=-1,n=0;e=lt(e,function(e){if($n(e))return n=ks(e.length,n),!0});for(var r=Uo(n);++t<n;)r[t]=ct(e,Ht(t));return r}function Br(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Pr(e);return null==t?i:(t=an(t,n,4),ct(i,function(e){return dt(e,t,E,!0)}))}function qr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if($n(n))var r=r?ut(At(r,n),At(n,r)):n}return r?en(r):[]}function Fr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ta(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ur(e){var n=t(e);return n.__chain__=!0,n}function Wr(e,t,n){return t.call(n,e),e}function Hr(e,t,n){return t.call(n,e)}function Kr(){return Ur(this)}function Gr(){return new r(this.value(),this.__chain__)}function Yr(e){for(var t,r=this;r instanceof n;){var i=fr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Jr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof y){var n=e;return this.__actions__.length&&(n=new y(this)),n=n.reverse(),n.__actions__.push({func:Hr,args:[t],thisArg:E}),new r(n,this.__chain__)}return this.thru(t)}function Vr(){return this.value()+""}function Qr(){return rn(this.__wrapped__,this.__actions__)}function Zr(e,t,n){var r=Ta(e)?st:Ct;return n&&er(e,t,n)&&(t=E),"function"==typeof t&&n===E||(t=Un(t,n,3)),r(e,t)}function $r(e,t,n){var r=Ta(e)?lt:jt;return t=Un(t,n,3),r(e,t)}function Xr(e,t){return oa(e,qt(t))}function ei(e,t,n,r){var i=e?Ws(e):0;return rr(i)||(e=so(e),i=e.length),n="number"!=typeof n||r&&er(t,n,r)?0:n<0?ks(i+n,0):n||0,"string"==typeof e||!Ta(e)&&Wi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Hn(e,t,n)>-1}function ti(e,t,n){var r=Ta(e)?ct:Bt;return t=Un(t,n,3),r(e,t)}function ni(e,t){return ti(e,Lo(t))}function ri(e,t,n){var r=Ta(e)?lt:jt;return t=Un(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ii(e,t,n){if(n?er(e,t,n):null==t){e=dr(e);var r=e.length;return r>0?e[Yt(0,r-1)]:E}var i=-1,o=Ji(e),r=o.length,s=r-1;for(t=As(t<0?0:+t||0,r);++i<t;){var a=Yt(i,s),l=o[a];o[a]=o[i],o[i]=l}return o.length=t,o}function oi(e){return ii(e,Ms)}function si(e){var t=e?Ws(e):0;return rr(t)?t:Fa(e).length}function ai(e,t,n){var r=Ta(e)?ht:Qt;return n&&er(e,t,n)&&(t=E),"function"==typeof t&&n===E||(t=Un(t,n,3)),r(e,t)}function li(e,t,n){if(null==e)return[];n&&er(e,t,n)&&(t=E);var r=-1;t=Un(t,n,3);var i=Bt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Zt(i,d)}function ci(e,t,n,r){return null==e?[]:(r&&er(t,n,r)&&(n=E),Ta(t)||(t=null==t?[]:[t]),Ta(n)||(n=null==n?[]:[n]),$t(e,t,n))}function ui(e,t){return $r(e,qt(t))}function di(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Zo(H);var n=e;e=t,t=n}return e=ws(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}}function pi(e,t,n){return n&&er(e,t,n)&&(t=E),t=e&&null==t?e.length:ks(+t||0,0),Pn(e,L,E,E,E,E,t)}function hi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Zo(H);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=E),n}}function fi(e,t,n){function r(){h&&ls(h),c&&ls(c),m=0,c=h=f=E}function i(t,n){n&&ls(n),c=h=f=E,t&&(m=_a(),u=e.apply(p,l),h||c||(l=p=E))}function o(){var e=t-(_a()-d);e<=0||e>t?i(f,c):h=hs(o,e)}function s(){i(g,h)}function a(){if(l=arguments,d=_a(),p=this,f=g&&(h||!v),_===!1)var n=v&&!h;else{c||v||(m=d);var r=_-(d-m),i=r<=0||r>_;i?(c&&(c=ls(c)),m=d,u=e.apply(p,l)):c||(c=hs(s,r))}return i&&h?h=ls(h):h||t===_||(h=hs(o,t)),n&&(i=!0,u=e.apply(p,l)),!i||h||c||(l=p=E),u}var l,c,u,d,p,h,f,m=0,_=!1,g=!0;if("function"!=typeof e)throw new Zo(H);if(t=t<0?0:+t||0,n===!0){var v=!0;g=!1}else Li(n)&&(v=!!n.leading,_="maxWait"in n&&ks(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g);return a.cancel=r,a}function mi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Zo(H);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new mi.Cache,n}function _i(e){if("function"!=typeof e)throw new Zo(H);return function(){return!e.apply(this,arguments)}}function gi(e){return hi(2,e)}function vi(e,t){if("function"!=typeof e)throw new Zo(H);return t=ks(t===E?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=ks(n.length-t,0),o=Uo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Uo(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=o,e.apply(this,s)}}function yi(e){if("function"!=typeof e)throw new Zo(H);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Zo(H);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fi(e,t,{leading:r,maxWait:+t,trailing:i})}function wi(e,t){return t=null==t?Mo:t,Pn(t,I,E,[e],[])}function xi(e,t,n,r){return t&&"boolean"!=typeof t&&er(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?xt(e,t,an(n,r,1)):xt(e,t)}function ki(e,t,n){return"function"==typeof t?xt(e,!0,an(t,n,1)):xt(e,!0)}function Ai(e,t){return e>t}function Ci(e,t){return e>=t}function Ei(e){return v(e)&&$n(e)&&ns.call(e,"callee")&&!ds.call(e,"callee")}function Si(e){return e===!0||e===!1||v(e)&&is.call(e)==J}function ji(e){return v(e)&&is.call(e)==V}function Mi(e){return!!e&&1===e.nodeType&&v(e)&&!Fi(e)}function Ti(e){return null==e||($n(e)&&(Ta(e)||Wi(e)||Ei(e)||v(e)&&Di(e.splice))?!e.length:!Fa(e).length)}function Oi(e,t,n,r){n="function"==typeof n?an(n,r,3):E;var i=n?n(e,t):E;return i===E?zt(e,t,n):!!i}function Ni(e){return v(e)&&"string"==typeof e.message&&is.call(e)==Q}function Ii(e){return"number"==typeof e&&ws(e)}function Di(e){return Li(e)&&is.call(e)==Z}function Li(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function zi(e,t,n,r){return n="function"==typeof n?an(n,r,3):E,Pt(e,Kn(t),n)}function Ri(e){return qi(e)&&e!=+e}function Pi(e){return null!=e&&(Di(e)?ss.test(ts.call(e)):v(e)&&ze.test(e))}function Bi(e){return null===e}function qi(e){return"number"==typeof e||v(e)&&is.call(e)==ee}function Fi(e){var t;if(!v(e)||is.call(e)!=te||Ei(e)||!ns.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Ot(e,function(e,t){n=t}),n===E||ns.call(e,n)}function Ui(e){return Li(e)&&is.call(e)==ne}function Wi(e){return"string"==typeof e||v(e)&&is.call(e)==ie}function Hi(e){return v(e)&&rr(e.length)&&!!He[is.call(e)]}function Ki(e){return e===E}function Gi(e,t){return e<t}function Yi(e,t){return e<=t}function Ji(e){var t=e?Ws(e):0;return rr(t)?t?tt(e):[]:so(e)}function Vi(e){return bt(e,to(e))}function Qi(e,t,n){var r=zs(e);return n&&er(e,t,n)&&(t=E),t?vt(r,t):r}function Zi(e){return Dt(e,to(e))}function $i(e,t,n){var r=null==e?E:Lt(e,hr(t),t+"");return r===E?n:r}function Xi(e,t){if(null==e)return!1;var n=ns.call(e,t);if(!n&&!tr(t)){if(t=hr(t),e=1==t.length?e:Lt(e,Vt(t,0,-1)),null==e)return!1;t=Sr(t),n=ns.call(e,t)}return n||rr(e.length)&&Xn(t,e.length)&&(Ta(e)||Ei(e))}function eo(e,t,n){n&&er(e,t,n)&&(t=E);for(var r=-1,i=Fa(e),o=i.length,s={};++r<o;){var a=i[r],l=e[a];t?ns.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s}function to(e){if(null==e)return[];Li(e)||(e=Jo(e));var t=e.length;t=t&&rr(t)&&(Ta(e)||Ei(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Uo(t),s=t>0;++r<t;)o[r]=r+"";for(var a in e)s&&Xn(a,t)||"constructor"==a&&(i||!ns.call(e,a))||o.push(a);return o}function no(e){e=pr(e);for(var t=-1,n=Fa(e),r=n.length,i=Uo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function ro(e,t,n){var r=null==e?E:e[t];return r===E&&(null==e||tr(t,e)||(t=hr(t),e=1==t.length?e:Lt(e,Vt(t,0,-1)),r=null==e?E:e[Sr(t)]),r=r===E?n:r),Di(r)?r.call(e):r}function io(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||tr(t,e)?[r]:hr(t);for(var i=-1,o=t.length,s=o-1,a=e;null!=a&&++i<o;){var l=t[i];Li(a)&&(i==s?a[l]=n:null==a[l]&&(a[l]=Xn(t[i+1])?[]:{})),a=a[l]}return e}function oo(e,t,n,r){var i=Ta(e)||Hi(e);if(t=Un(t,r,4),null==n)if(i||Li(e)){var o=e.constructor;n=i?Ta(e)?new o:[]:zs(Di(o)?o.prototype:E)}else n={};return(i?nt:Nt)(e,function(e,r,i){return t(n,e,r,i)}),n}function so(e){return tn(e,Fa(e))}function ao(e){return tn(e,to(e))}function lo(e,t,n){return t=+t||0,n===E?(n=t,t=0):n=+n||0,e>=As(t,n)&&e<ks(t,n)}function co(e,t,n){n&&er(e,t,n)&&(t=n=E);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Ss();return As(e+o*(t-e+cs("1e-"+((o+"").length-1))),t)}return Yt(e,t)}function uo(e){return e=l(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function po(e){return e=l(e),e&&e.replace(Pe,h).replace(Oe,"")}function ho(e,t,n){e=l(e),t+="";var r=e.length;return n=n===E?r:As(n<0?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fo(e){return e=l(e),e&&xe.test(e)?e.replace(be,f):e}function mo(e){return e=l(e),e&&Te.test(e)?e.replace(Me,m):e||"(?:)"}function _o(e,t,n){e=l(e),t=+t;var r=e.length;if(r>=t||!ws(t))return e;var i=(t-r)/2,o=ys(i),s=gs(i);return n=Dn("",s,n),n.slice(0,o)+e+n}function go(e,t,n){return(n?er(e,t,n):null==t)?t=0:t&&(t=+t),e=wo(e),Es(e,t||(Le.test(e)?16:10))}function vo(e,t){var n="";if(e=l(e),t=+t,t<1||!e||!ws(t))return n;do t%2&&(n+=e),t=ys(t/2),e+=e;while(t);return n}function yo(e,t,n){return e=l(e),n=null==n?0:As(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function bo(e,n,r){var i=t.templateSettings;r&&er(e,n,r)&&(n=r=E),e=l(e),n=gt(vt({},r||n),i,_t);var o,s,a=gt(vt({},n.imports),i.imports,_t),c=Fa(a),u=tn(a,c),d=0,p=n.interpolate||Be,h="__p += '",f=Vo((n.escape||Be).source+"|"+p.source+"|"+(p===Ce?Ie:Be).source+"|"+(n.evaluate||Be).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++We+"]")+"\n";e.replace(f,function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(d,l).replace(qe,_),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),h+="';\n";var g=n.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(_e,""):h).replace(ge,"$1").replace(ve,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=$a(function(){return Ko(c,m+"return "+h).apply(E,u)});if(v.source=h,Ni(v))throw v;return v}function wo(e,t,n){var r=e;return(e=l(e))?(n?er(r,t,n):null==t)?e.slice(x(e),k(e)+1):(t+="",e.slice(c(e,t),u(e,t)+1)):e}function xo(e,t,n){var r=e;return e=l(e),e?(n?er(r,t,n):null==t)?e.slice(x(e)):e.slice(c(e,t+"")):e}function ko(e,t,n){var r=e;return e=l(e),e?(n?er(r,t,n):null==t)?e.slice(0,k(e)+1):e.slice(0,u(e,t+"")+1):e}function Ao(e,t,n){n&&er(e,t,n)&&(t=E);var r=R,i=P;if(null!=t)if(Li(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?l(t.omission):i}else r=+t||0;if(e=l(e),r>=e.length)return e;var s=r-i.length;if(s<1)return i;var a=e.slice(0,s);if(null==o)return a+i;if(Ui(o)){if(e.slice(s).search(o)){var c,u,d=e.slice(0,s);for(o.global||(o=Vo(o.source,(De.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)u=c.index;a=a.slice(0,null==u?s:u)}}else if(e.indexOf(o,s)!=s){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+i}function Co(e){return e=l(e),e&&we.test(e)?e.replace(ye,A):e}function Eo(e,t,n){return n&&er(e,t,n)&&(t=E),e=l(e),e.match(t||Fe)||[]}function So(e,t,n){return n&&er(e,t,n)&&(t=E),v(e)?To(e):wt(e,t)}function jo(e){return function(){return e}}function Mo(e){return e}function To(e){return qt(xt(e,!0))}function Oo(e,t){return Ft(e,xt(t,!0))}function No(e,t,n){if(null==n){var r=Li(t),i=r?Fa(t):E,o=i&&i.length?Dt(t,i):E;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Dt(t,Fa(t)));var s=!0,a=-1,l=Di(e),c=o.length;n===!1?s=!1:Li(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var u=o[a],d=t[u];e[u]=d,l&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__),i=r.__actions__=tt(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ut([this.value()],arguments))}}(d))}return e}function Io(){return rt._=os,this}function Do(){}function Lo(e){return tr(e)?Ht(e):Kt(e)}function zo(e){return function(t){return Lt(e,hr(t),t+"")}}function Ro(e,t,n){n&&er(e,t,n)&&(t=n=E),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=ks(gs((t-e)/(n||1)),0),o=Uo(i);++r<i;)o[r]=e,e+=n;return o}function Po(e,t,n){if(e=ys(e),e<1||!ws(e))return[];var r=-1,i=Uo(As(e,Ts));for(t=an(t,n,1);++r<e;)r<Ts?i[r]=t(r):t(r);return i}function Bo(e){var t=++rs;return l(e)+t}function qo(e,t){return(+e||0)+(+t||0)}function Fo(e,t,n){return n&&er(e,t,n)&&(t=E),t=Un(t,n,3),1==t.length?ft(Ta(e)?e:dr(e),t):Xt(e,t)}e=e?it.defaults(rt.Object(),e,it.pick(rt,Ue)):rt;var Uo=e.Array,Wo=e.Date,Ho=e.Error,Ko=e.Function,Go=e.Math,Yo=e.Number,Jo=e.Object,Vo=e.RegExp,Qo=e.String,Zo=e.TypeError,$o=Uo.prototype,Xo=Jo.prototype,es=Qo.prototype,ts=Ko.prototype.toString,ns=Xo.hasOwnProperty,rs=0,is=Xo.toString,os=rt._,ss=Vo("^"+ts.call(ns).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),as=e.ArrayBuffer,ls=e.clearTimeout,cs=e.parseFloat,us=Go.pow,ds=Xo.propertyIsEnumerable,ps=Gn(e,"Set"),hs=e.setTimeout,fs=$o.splice,ms=e.Uint8Array,_s=Gn(e,"WeakMap"),gs=Go.ceil,vs=Gn(Jo,"create"),ys=Go.floor,bs=Gn(Uo,"isArray"),ws=e.isFinite,xs=Gn(Jo,"keys"),ks=Go.max,As=Go.min,Cs=Gn(Wo,"now"),Es=e.parseInt,Ss=Go.random,js=Yo.NEGATIVE_INFINITY,Ms=Yo.POSITIVE_INFINITY,Ts=4294967295,Os=Ts-1,Ns=Ts>>>1,Is=9007199254740991,Ds=_s&&new _s,Ls={};t.support={};t.templateSettings={escape:ke,evaluate:Ae,interpolate:Ce,variable:"",imports:{_:t}};var zs=function(){function e(){}return function(t){if(Li(t)){e.prototype=t;var n=new e;e.prototype=E}return n||{}}}(),Rs=hn(Nt),Ps=hn(It,!0),Bs=fn(),qs=fn(!0),Fs=Ds?function(e,t){return Ds.set(e,t),e}:Mo,Us=Ds?function(e){return Ds.get(e)}:Do,Ws=Ht("length"),Hs=function(){var e=0,t=0;return function(n,r){var i=_a(),o=q-(i-t);if(t=i,o>0){if(++e>=B)return n}else e=0;return Fs(n,r)}}(),Ks=vi(function(e,t){return v(e)&&$n(e)?At(e,Tt(t,!1,!0)):[]}),Gs=kn(),Ys=kn(!0),Js=vi(function(e){for(var t=e.length,n=t,r=Uo(d),i=Hn(),o=i==s,a=[];n--;){var l=e[n]=$n(l=e[n])?l:[];r[n]=o&&l.length>=120?_n(n&&l):null}var c=e[0],u=-1,d=c?c.length:0,p=r[0];e:for(;++u<d;)if(l=c[u],(p?$e(p,l):i(a,l,0))<0){for(var n=t;--n;){var h=r[n];if((h?$e(h,l):i(e[n],l,0))<0)continue e}p&&p.push(l),a.push(l)}return a}),Vs=vi(function(e,t){t=Tt(t);var n=yt(e,t);return Gt(e,t.sort(i)),n}),Qs=Rn(),Zs=Rn(!0),$s=vi(function(e){return en(Tt(e,!1,!0))}),Xs=vi(function(e,t){return $n(e)?At(e,t):[]}),ea=vi(Pr),ta=vi(function(e){var t=e.length,n=t>2?e[t-2]:E,r=t>1?e[t-1]:E;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):E,r=E),e.length=t,Br(e,n,r)}),na=vi(function(e){return e=Tt(e),this.thru(function(t){return et(Ta(t)?t:[pr(t)],e)})}),ra=vi(function(e,t){return yt(e,Tt(t))}),ia=dn(function(e,t,n){ns.call(e,n)?++e[n]:e[n]=1}),oa=xn(Rs),sa=xn(Ps,!0),aa=En(nt,Rs),la=En(ot,Ps),ca=dn(function(e,t,n){ns.call(e,n)?e[n].push(t):e[n]=[t]}),ua=dn(function(e,t,n){e[n]=t}),da=vi(function(e,t,n){var r=-1,i="function"==typeof t,o=tr(t),s=$n(e)?Uo(e.length):[];return Rs(e,function(e){var a=i?t:o&&null!=e?e[t]:E;s[++r]=a?a.apply(e,n):Zn(e,t,n)}),s}),pa=dn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ha=Nn(dt,Rs),fa=Nn(pt,Ps),ma=vi(function(e,t){if(null==e)return[];var n=t[2];return n&&er(t[0],t[1],n)&&(t.length=1),$t(e,Tt(t),[])}),_a=Cs||function(){return(new Wo).getTime()},ga=vi(function(e,t,n){var r=j;if(n.length){var i=b(n,ga.placeholder);r|=I}return Pn(e,r,t,n,i)}),va=vi(function(e,t){t=t.length?Tt(t):Zi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Pn(e[i],j,e)}return e}),ya=vi(function(e,t,n){var r=j|M;if(n.length){var i=b(n,ya.placeholder);r|=I}return Pn(t,r,e,n,i)}),ba=yn(O),wa=yn(N),xa=vi(function(e,t){return kt(e,1,t)}),ka=vi(function(e,t,n){return kt(e,t,n)}),Aa=Cn(),Ca=Cn(!0),Ea=vi(function(e,t){if(t=Tt(t),"function"!=typeof e||!st(t,a))throw new Zo(H);var n=t.length;return vi(function(r){for(var i=As(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Sa=On(I),ja=On(D),Ma=vi(function(e,t){return Pn(e,z,E,E,E,Tt(t))}),Ta=bs||function(e){return v(e)&&rr(e.length)&&is.call(e)==Y},Oa=pn(Ut),Na=pn(function(e,t,n){return n?gt(e,t,n):vt(e,t)}),Ia=bn(Na,mt),Da=bn(Oa,sr),La=An(Nt),za=An(It),Ra=Sn(Bs),Pa=Sn(qs),Ba=jn(Nt),qa=jn(It),Fa=xs?function(e){var t=null==e?E:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&$n(e)?ur(e):Li(e)?xs(e):[]}:ur,Ua=Mn(!0),Wa=Mn(),Ha=vi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ct(Tt(t),Qo);return ar(e,At(to(e),t))}var n=an(t[0],t[1],3);return lr(e,function(e,t,r){return!n(e,t,r)})}),Ka=vi(function(e,t){return null==e?{}:"function"==typeof t[0]?lr(e,an(t[0],t[1],3)):ar(e,Tt(t))}),Ga=gn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ya=gn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ja=Tn(),Va=Tn(!0),Qa=gn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Za=gn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),$a=vi(function(e,t){try{return e.apply(E,t)}catch(e){return Ni(e)?e:new Ho(e)}}),Xa=vi(function(e,t){return function(n){return Zn(n,e,t)}}),el=vi(function(e,t){return function(n){return Zn(e,n,t)}}),tl=zn("ceil"),nl=zn("floor"),rl=wn(Ai,js),il=wn(Gi,Ms),ol=zn("round");return t.prototype=n.prototype,r.prototype=zs(n.prototype),r.prototype.constructor=r,y.prototype=zs(n.prototype),y.prototype.constructor=y,Ge.prototype.delete=Ye,Ge.prototype.get=Je,Ge.prototype.has=Ve,Ge.prototype.set=Qe,Ze.prototype.push=Xe,mi.Cache=Ge,t.after=di,t.ary=pi,t.assign=Na,t.at=ra,t.before=hi,t.bind=ga,t.bindAll=va,t.bindKey=ya,t.callback=So,t.chain=Ur,t.chunk=mr,t.compact=_r,t.constant=jo,t.countBy=ia,t.create=Qi,t.curry=ba,t.curryRight=wa,t.debounce=fi,t.defaults=Ia,t.defaultsDeep=Da,t.defer=xa,t.delay=ka,t.difference=Ks,t.drop=gr,t.dropRight=vr,t.dropRightWhile=yr,t.dropWhile=br,t.fill=wr,t.filter=$r,t.flatten=kr,t.flattenDeep=Ar,t.flow=Aa,t.flowRight=Ca,t.forEach=aa,t.forEachRight=la,t.forIn=Ra,t.forInRight=Pa,t.forOwn=Ba,t.forOwnRight=qa,t.functions=Zi,t.groupBy=ca,t.indexBy=ua,t.initial=Er,t.intersection=Js,t.invert=eo,t.invoke=da,t.keys=Fa,t.keysIn=to,t.map=ti,t.mapKeys=Ua,t.mapValues=Wa,t.matches=To,t.matchesProperty=Oo,t.memoize=mi,t.merge=Oa,t.method=Xa,t.methodOf=el,t.mixin=No,t.modArgs=Ea,t.negate=_i,t.omit=Ha,t.once=gi,t.pairs=no,t.partial=Sa,t.partialRight=ja,t.partition=pa,t.pick=Ka,t.pluck=ni,t.property=Lo,t.propertyOf=zo,t.pull=Mr,t.pullAt=Vs,t.range=Ro,t.rearg=Ma,t.reject=ri,t.remove=Tr,t.rest=Or,t.restParam=vi,t.set=io,t.shuffle=oi,t.slice=Nr,t.sortBy=li,t.sortByAll=ma,t.sortByOrder=ci,t.spread=yi,t.take=Ir,t.takeRight=Dr,t.takeRightWhile=Lr,t.takeWhile=zr,t.tap=Wr,t.throttle=bi,t.thru=Hr,t.times=Po,t.toArray=Ji,t.toPlainObject=Vi,t.transform=oo,t.union=$s,t.uniq=Rr,t.unzip=Pr,t.unzipWith=Br,t.values=so,t.valuesIn=ao,t.where=ui,t.without=Xs,t.wrap=wi,t.xor=qr,t.zip=ea,t.zipObject=Fr,t.zipWith=ta,t.backflow=Ca,t.collect=ti,t.compose=Ca,t.each=aa,t.eachRight=la,t.extend=Na,t.iteratee=So,t.methods=Zi,t.object=Fr,t.select=$r,t.tail=Or,t.unique=Rr,No(t,t),t.add=qo,t.attempt=$a,t.camelCase=Ga,t.capitalize=uo,t.ceil=tl,t.clone=xi,t.cloneDeep=ki,t.deburr=po,t.endsWith=ho,t.escape=fo,t.escapeRegExp=mo,t.every=Zr,t.find=oa,t.findIndex=Gs,t.findKey=La,t.findLast=sa,t.findLastIndex=Ys,t.findLastKey=za,t.findWhere=Xr,t.first=xr,t.floor=nl,t.get=$i,t.gt=Ai,t.gte=Ci,t.has=Xi,t.identity=Mo,t.includes=ei,t.indexOf=Cr,t.inRange=lo,t.isArguments=Ei,t.isArray=Ta,t.isBoolean=Si,t.isDate=ji,t.isElement=Mi,t.isEmpty=Ti,t.isEqual=Oi,t.isError=Ni,t.isFinite=Ii,t.isFunction=Di,t.isMatch=zi,t.isNaN=Ri,t.isNative=Pi,t.isNull=Bi,t.isNumber=qi,t.isObject=Li,t.isPlainObject=Fi,t.isRegExp=Ui,t.isString=Wi,t.isTypedArray=Hi,t.isUndefined=Ki,t.kebabCase=Ya,t.last=Sr,t.lastIndexOf=jr,t.lt=Gi,t.lte=Yi,t.max=rl,t.min=il,t.noConflict=Io,t.noop=Do,t.now=_a,t.pad=_o,t.padLeft=Ja,t.padRight=Va,t.parseInt=go,t.random=co,t.reduce=ha,t.reduceRight=fa,t.repeat=vo,t.result=ro,t.round=ol,t.runInContext=C,t.size=si,t.snakeCase=Qa,t.some=ai,t.sortedIndex=Qs,t.sortedLastIndex=Zs,t.startCase=Za,t.startsWith=yo,t.sum=Fo,t.template=bo,t.trim=wo,t.trimLeft=xo,t.trimRight=ko,t.trunc=Ao,t.unescape=Co,t.uniqueId=Bo,t.words=Eo,t.all=Zr,t.any=ai,t.contains=ei,t.eq=Oi,t.detect=oa,t.foldl=ha,t.foldr=fa,t.head=xr,t.include=ei,t.inject=ha,No(t,function(){var e={};return Nt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ii,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ii(t,e)}):ii(this.value())},t.VERSION=S,nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),nt(["drop","take"],function(e,t){y.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new y(this);n=null==n?1:ks(ys(n)||0,0);var i=this.clone();return r?i.__takeCount__=As(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},y.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),nt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=W;y.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Un(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),nt(["first","last"],function(e,t){var n="take"+(t?"Right":"");y.prototype[e]=function(){return this[n](1).value()[0]}}),nt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");y.prototype[e]=function(){return this.__filtered__?new y(this):this[n](1)}}),nt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?qt:Lo;y.prototype[e]=function(e){
return this[n](r(e))}}),y.prototype.compact=function(){return this.filter(Mo)},y.prototype.reject=function(e,t){return e=Un(e,t,1),this.filter(function(t){return!e(t)})},y.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new y(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==E&&(t=+t||0,n=t<0?n.dropRight(-t):n.take(t-e)),n)},y.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},y.prototype.toArray=function(){return this.take(Ms)},Nt(y.prototype,function(e,n){var i=/^(?:filter|map|reject)|While$/.test(n),o=/^(?:first|last)$/.test(n),s=t[o?"take"+("last"==n?"Right":""):n];s&&(t.prototype[n]=function(){var t=o?[1]:arguments,n=this.__chain__,a=this.__wrapped__,l=!!this.__actions__.length,c=a instanceof y,u=t[0],d=c||Ta(a);d&&i&&"function"==typeof u&&1!=u.length&&(c=d=!1);var p=function(e){return o&&n?s(e,1)[0]:s.apply(E,ut([e],t))},h={func:Hr,args:[p],thisArg:E},f=c&&!l;if(o&&!n)return f?(a=a.clone(),a.__actions__.push(h),e.call(a)):s.call(E,this.value())[0];if(!o&&d){a=f?a:new y(this);var m=e.apply(a,t);return m.__actions__.push(h),new r(m,n)}return this.thru(p)})}),nt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?es:$o)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Nt(y.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=Ls[i]||(Ls[i]=[]);o.push({name:n,func:r})}}),Ls[In(E,M).name]=[{name:"wrapper",func:E}],y.prototype.clone=X,y.prototype.reverse=re,y.prototype.value=oe,t.prototype.chain=Kr,t.prototype.commit=Gr,t.prototype.concat=na,t.prototype.plant=Yr,t.prototype.reverse=Jr,t.prototype.toString=Vr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Qr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var E,S="3.10.1",j=1,M=2,T=4,O=8,N=16,I=32,D=64,L=128,z=256,R=30,P="...",B=150,q=16,F=200,U=1,W=2,H="Expected a function",K="__lodash_placeholder__",G="[object Arguments]",Y="[object Array]",J="[object Boolean]",V="[object Date]",Q="[object Error]",Z="[object Function]",X="[object Map]",ee="[object Number]",te="[object Object]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object WeakMap]",se="[object ArrayBuffer]",ae="[object Float32Array]",le="[object Float64Array]",ce="[object Int8Array]",ue="[object Int16Array]",de="[object Int32Array]",pe="[object Uint8Array]",he="[object Uint8ClampedArray]",fe="[object Uint16Array]",me="[object Uint32Array]",_e=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39|#96);/g,be=/[&<>"'`]/g,we=RegExp(ye.source),xe=RegExp(be.source),ke=/<%-([\s\S]+?)%>/g,Ae=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Se=/^\w*$/,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Me=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Te=RegExp(Me.source),Oe=/[\u0300-\u036f\ufe20-\ufe23]/g,Ne=/\\(\\)?/g,Ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,De=/\w*$/,Le=/^0[xX]/,ze=/^\[object .+?Constructor\]$/,Re=/^\d+$/,Pe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Be=/($^)/,qe=/['\n\r\u2028\u2029\\]/g,Fe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ue=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],We=-1,He={};He[ae]=He[le]=He[ce]=He[ue]=He[de]=He[pe]=He[he]=He[fe]=He[me]=!0,He[G]=He[Y]=He[se]=He[J]=He[V]=He[Q]=He[Z]=He[X]=He[ee]=He[te]=He[ne]=He[re]=He[ie]=He[oe]=!1;var Ke={};Ke[G]=Ke[Y]=Ke[se]=Ke[J]=Ke[V]=Ke[ae]=Ke[le]=Ke[ce]=Ke[ue]=Ke[de]=Ke[ee]=Ke[te]=Ke[ne]=Ke[ie]=Ke[pe]=Ke[he]=Ke[fe]=Ke[me]=!0,Ke[Q]=Ke[Z]=Ke[X]=Ke[re]=Ke[oe]=!1;var Ge={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Je={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ve={function:!0,object:!0},Qe={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$e=Ve[typeof exports]&&exports&&!exports.nodeType&&exports,Xe=Ve[typeof e]&&e&&!e.nodeType&&e,et=$e&&Xe&&"object"==typeof r&&r&&r.Object&&r,tt=Ve[typeof self]&&self&&self.Object&&self,nt=Ve[typeof window]&&window&&window.Object&&window,rt=(Xe&&Xe.exports===$e&&$e,et||nt!==(this&&this.window)&&nt||tt||this),it=C();rt._=it,n=function(){return it}.call(exports,t,exports,e),!(n!==E&&(e.exports=n))}).call(this)}).call(exports,t(130)(e),function(){return this}())},,,,function(e,exports){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],i=function(){function e(){t(this,e),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}return n(e,null,[{key:"escapeForHtml",value:function(t){return(new e).escapeForHtml(t)}},{key:"linkify",value:function(t){return(new e).linkify(t)}},{key:"ansiToHtml",value:function(t,n){return(new e).ansiToHtml(t,n)}},{key:"ansiToJson",value:function(t,n){return(new e).ansiToJson(t,n)}},{key:"ansiToText",value:function(t){return(new e).ansiToText(t)}}]),n(e,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var e=0;e<2;++e)for(var t=0;t<8;++t)this.PALETTE_COLORS.push(r[e][t].color);for(var n=[0,95,135,175,215,255],i=function(e,t,r){return n[e]+", "+n[t]+", "+n[r]},o=0;o<6;++o)for(var s=0;s<6;++s)for(var a=0;a<6;++a)this.PALETTE_COLORS.push(i(o,s,a));for(var l=8,c=0;c<24;++c,l+=10)this.PALETTE_COLORS.push(i(l,l,l))}},{key:"escapeForHtml",value:function(e){return e.replace(/[&<>]/gm,function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":""})}},{key:"linkify",value:function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(e){return'<a href="'+e+'">'+e+"</a>"})}},{key:"ansiToHtml",value:function(e,t){return this.process(e,t,!0)}},{key:"ansiToJson",value:function(e,t){return t=t||{},t.json=!0,t.clearLine=!1,this.process(e,t,!0)}},{key:"ansiToText",value:function(e){return this.process(e,{},!1)}},{key:"process",value:function(e,t,n){var r=this,i=this,o=e.split(/\033\[/),s=o.shift();void 0!==t&&null!==t||(t={}),t.clearLine=/\r/.test(e);var a=o.map(function(e){return r.processChunk(e,t,n)});if(t&&t.json){var l=i.processChunkJson("");return l.content=s,l.clearLine=t.clearLine,a.unshift(l),t.remove_empty&&(a=a.filter(function(e){return!e.isEmpty()})),a}return a.unshift(s),a.join("")}},{key:"processChunkJson",value:function(e,t,n){t=void 0===t?{}:t;var i=t.use_classes=void 0!==t.use_classes&&t.use_classes,o=t.key=i?"class":"color",s={content:e,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,clearLine:t.clearLine,decoration:null,was_processed:!1,isEmpty:function(){return!s.content}},a=e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!a)return s;var l=(s.content=a[4],a[2].split(";"));if(""!==a[1]||"m"!==a[3])return s;if(!n)return s;var c=this;for(c.decoration=null;l.length>0;){var u=l.shift(),d=parseInt(u);if(isNaN(d)||0===d)c.fg=c.bg=c.decoration=null,c.bright=0;else if(1===d)c.bright=1,c.decoration="bright";else if(2===d)c.decoration="dim";else if(4==d)c.decoration="underline";else if(5==d)c.decoration="blink";else if(7===d)c.decoration="reverse";else if(8===d)c.decoration="hidden";else if(39==d)c.fg=null;else if(49==d)c.bg=null;else if(d>=30&&d<38)c.fg=r[c.bright][d%10][o];else if(d>=90&&d<98)c.fg=r[1][d%10][o];else if(d>=40&&d<48)c.bg=r[0][d%10][o];else if(d>=100&&d<108)c.bg=r[1][d%10][o];else if(38===d||48===d){var p=38===d;if(l.length>=1){var h=l.shift();if("5"===h&&l.length>=1){var f=parseInt(l.shift());if(f>=0&&f<=255)if(i){var m=f>=16?"ansi-palette-"+f:r[f>7?1:0][f%8].class;p?c.fg=m:c.bg=m}else this.PALETTE_COLORS||c.setupPalette(),p?c.fg=this.PALETTE_COLORS[f]:c.bg=this.PALETTE_COLORS[f]}else if("2"===h&&l.length>=3){var _=parseInt(l.shift()),g=parseInt(l.shift()),v=parseInt(l.shift());if(_>=0&&_<=255&&g>=0&&g<=255&&v>=0&&v<=255){var y=_+", "+g+", "+v;i?p?(c.fg="ansi-truecolor",c.fg_truecolor=y):(c.bg="ansi-truecolor",c.bg_truecolor=y):p?c.fg=y:c.bg=y}}}}}if(null===c.fg&&null===c.bg&&null===c.decoration)return s;return s.fg=c.fg,s.bg=c.bg,s.fg_truecolor=c.fg_truecolor,s.bg_truecolor=c.bg_truecolor,s.decoration=c.decoration,s.was_processed=!0,s}},{key:"processChunk",value:function(e,t,n){var r=this;t=t||{};var i=this.processChunkJson(e,t,n);if(t.json)return i;if(i.isEmpty())return"";if(!i.was_processed)return i.content;var o=t.use_classes,s=[],a=[],l={},c=function(e){var t=[],n=void 0;for(n in e)e.hasOwnProperty(n)&&t.push("data-"+n+'="'+r.escapeForHtml(e[n])+'"');return t.length>0?" "+t.join(" "):""};return i.fg&&(o?(a.push(i.fg+"-fg"),null!==i.fg_truecolor&&(l["ansi-truecolor-fg"]=i.fg_truecolor,i.fg_truecolor=null)):s.push("color:rgb("+i.fg+")")),i.bg&&(o?(a.push(i.bg+"-bg"),null!==i.bg_truecolor&&(l["ansi-truecolor-bg"]=i.bg_truecolor,i.bg_truecolor=null)):s.push("background-color:rgb("+i.bg+")")),i.decoration&&(o?a.push("ansi-"+i.decoration):"underline"!==i.decoration&&"blink"!==i.decoration||s.push("text-decoration:"+i.decoration)),o?'<span class="'+a.join(" ")+'"'+c(l)+">"+i.content+"</span>":'<span style="'+s.join(";")+'"'+c(l)+">"+i.content+"</span>"}}]),e}();e.exports=i},function(e,exports){function t(e){if(!e)return"";if(!/\r/.test(e))return e;for(e=e.replace(/\r+\n/gm,"\n");/\r[^$]/.test(e);){var t=/^(.*)\r+/m.exec(e)[1],n=/\r+(.*)$/m.exec(e)[1];n+=t.slice(n.length,t.length),e=e.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,n)}return e}e.exports=t},function(e,exports){"use strict";function t(e){if(!Array.isArray(e))throw new TypeError("Expected value to be an array");return n(e)}function n(e){return o(e,[])}function r(e,t){if(!Array.isArray(e))throw new TypeError("Expected value to be an array");return i(e,t)}function i(e,t){if("number"!=typeof t)throw new TypeError("Expected the depth to be a number");return s(e,[],t)}function o(e,t){for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?o(r,t):t.push(r)}return t}function s(e,t,n){n--;for(var r=0;r<e.length;r++){var i=e[r];n>-1&&Array.isArray(i)?s(i,t,n):t.push(i)}return t}e.exports=t,e.exports.from=n,e.exports.depth=r,e.exports.fromDepth=i},function(e,exports,t){"use strict";var n=t(1061);e.exports=function(e){return n(Array.isArray(e)?e:[e]).filter(Boolean)}},,,,,,,,,,,,,,,,,function(e,exports){function t(){return(new Date).getTime()}e.exports=Date.now||t},function(e,exports,t){var n=t(1079);e.exports=function(e,t,r){function i(){var u=n()-l;u<t&&u>0?o=setTimeout(i,t-u):(o=null,r||(c=e.apply(a,s),o||(a=s=null)))}var o,s,a,l,c;return null==t&&(t=100),function(){a=this,s=arguments,l=n();var u=r&&!o;return o||(o=setTimeout(i,t)),u&&(c=e.apply(a,s),a=s=null),c}}},function(e,exports,t){"use strict";var n=t(1218),r=t(844),i=t(1082),o=function(e,t){this.options=t||{},this.delims=e||[],this.defaults=r({},{beginning:"^",matter:"([\\s\\S]+?)",body:"([\\s\\S]+|\\s?)",end:"$",flags:""},t)};o.prototype.create=function(e,t){Array.isArray(e)||(t=e,e=["---","---"]);var n=r({},this.defaults,t);n.body=e[2]||n.body||"";var o=i.buildRegexGroup(e[0],n),s=i.buildRegexGroup(e[1],n),a=n.matter+s+n.body+n.end;return r(n,{open:o,close:s,delims:e},{evaluate:RegExp(n.beginning+o+a,n.flags),interpolate:RegExp(n.beginning+o+"="+a,n.flags),escape:RegExp(n.beginning+o+"-"+a,n.flags)})},o.prototype.matter=function(e,t){return n(this.create(e,t),["evaluate"]).evaluate},o.prototype.templates=function(e,t){var i={body:"",beginning:"",end:"",flags:"g",noncapture:!1},o=this.create(e,r(i,t));return n(o,["interpolate","evaluate","escape"])},e.exports=o},function(e,exports,t){"use strict";var n=t(844),r=t(1062);exports.escapeDelim=function(e){return e.replace(/(.)/g,"\\$1")},exports.buildRegexGroup=function(e,t){var i=n({escape:!1,noncapture:!1},t);e=r(e);var o=e.length;return e=o>0?e.join("|"):e,e=i.escape===!0?exports.escapeDelim(e):e,(i.noncapture===!0||o>1)&&(e="(?:"+e+")"),e}},function(e,exports){"use strict";e.exports=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e)===!1)break}},function(e,exports,t){"use strict";var n=t(1083),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){n(e,function(n,o){if(r.call(e,o))return t.call(i,e[o],o,e)})}},function(e,exports,t){!function(t,n){var r,i,o,s,a,l,c,u,d,p,h,f,m,_,g,v,y,b,w,x,k,A,C,E;r=function(e){return new r.prototype.init(e)},e.exports=r,r.cultures={},r.prototype={constructor:r,init:function(e){return this.cultures=r.cultures,this.cultureSelector=e,this}},r.prototype.init.prototype=r.prototype,r.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},r.cultures.default.calendar=r.cultures.default.calendars.standard,r.cultures.en=r.cultures.default,r.cultureSelector="en",i=/^0x[a-f0-9]+$/i,o=/^[+\-]?infinity$/i,s=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,a=/^\s+|\s+$/g,l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},c=function(e,t){return e.substr(e.length-t.length)===t},u=function(){var e,t,r,i,o,s,a=arguments[0]||{},l=1,c=arguments.length,f=!1;for("boolean"==typeof a&&(f=a,a=arguments[1]||{},l=2),"object"==typeof a||p(a)||(a={});l<c;l++)if(null!=(e=arguments[l]))for(t in e)r=a[t],i=e[t],a!==i&&(f&&i&&(h(i)||(o=d(i)))?(o?(o=!1,s=r&&d(r)?r:[]):s=r&&h(r)?r:{},a[t]=u(f,s,i)):i!==n&&(a[t]=i));return a},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=function(e){return"[object Function]"===Object.prototype.toString.call(e)},h=function(e){return"[object Object]"===Object.prototype.toString.call(e)},f=function(e,t){return 0===e.indexOf(t)},m=function(e){return(e+"").replace(a,"")},_=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},g=function(e,t,n){var r;for(r=e.length;r<t;r+=1)e=n?"0"+e:e+"0";return e},v=function(e,t){for(var n=0,r=!1,i=0,o=e.length;i<o;i++){var s=e.charAt(i);switch(s){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(s),r=!1}}return n},y=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(1===i){if(n=r[t],!n)throw"Invalid date format string '"+t+"'.";t=n}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},b=function(e,t,n){function r(e,t){var n,r=e+"";return t>1&&r.length<t?(n=g[t-2]+r,n.substr(n.length-t,t)):n=r}function i(){return f||m?f:(f=w.test(t),m=!0,f)}function o(e,t){if(_)return _[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var s,a=n.calendar,l=a.convert;if(!t||!t.length||"i"===t){if(n&&n.name.length)if(l)s=b(e,a.patterns.F,n);else{var c=new Date(e.getTime()),u=k(e,a.eras);c.setFullYear(A(e,a,u)),s=c.toLocaleString()}else s=""+e;return s}var d=a.eras,p="s"===t;t=y(a,t),s=[];var h,f,m,_,g=["0","00","000"],w=/([^d]|^)(d|dd)([^d]|$)/g,C=0,E=x();for(!p&&l&&(_=l.fromGregorian(e));;){var S=E.lastIndex,j=E.exec(t),M=t.slice(S,j?j.index:t.length);if(C+=v(M,s),!j)break;if(C%2)s.push(j[0]);else{var T=j[0],O=T.length;switch(T){case"ddd":case"dddd":var N=3===O?a.days.namesAbbr:a.days.names;s.push(N[e.getDay()]);break;case"d":case"dd":f=!0,s.push(r(o(e,2),O));break;case"MMM":case"MMMM":var I=o(e,1);s.push(a.monthsGenitive&&i()?a.monthsGenitive[3===O?"namesAbbr":"names"][I]:a.months[3===O?"namesAbbr":"names"][I]);break;case"M":case"MM":s.push(r(o(e,1)+1,O));break;case"y":case"yy":case"yyyy":I=_?_[0]:A(e,a,k(e,d),p),O<4&&(I%=100),s.push(r(I,O));break;case"h":case"hh":h=e.getHours()%12,0===h&&(h=12),s.push(r(h,O));break;case"H":case"HH":s.push(r(e.getHours(),O));break;case"m":case"mm":s.push(r(e.getMinutes(),O));break;case"s":case"ss":s.push(r(e.getSeconds(),O));break;case"t":case"tt":I=e.getHours()<12?a.AM?a.AM[0]:" ":a.PM?a.PM[0]:" ",s.push(1===O?I.charAt(0):I);break;case"f":case"ff":case"fff":s.push(r(e.getMilliseconds(),3).substr(0,O));break;case"z":case"zz":h=e.getTimezoneOffset()/60,s.push((h<=0?"+":"-")+r(Math.floor(Math.abs(h)),O));break;case"zzz":h=e.getTimezoneOffset()/60,s.push((h<=0?"+":"-")+r(Math.floor(Math.abs(h)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":a.eras&&s.push(a.eras[k(e,d)].name);break;case"/":s.push(a["/"]);break;default:throw"Invalid date format pattern '"+T+"'."}}}return s.join("")},function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],o=1,s=Math.pow(10,t),a=Math.round(e*s)/s;isFinite(a)||(a=e),e=a;var l=e+"",c="",u=l.split(/e/i),d=u.length>1?parseInt(u[1],10):0;l=u[0],u=l.split("."),l=u[0],c=u.length>1?u[1]:"";d>0?(c=g(c,d,!1),l+=c.slice(0,d),c=c.substr(d)):d<0&&(d=-d,l=g(l,d+1,!0),c=l.slice(-d,l.length)+c,l=l.slice(0,-d)),c=t>0?n["."]+(c.length>t?c.slice(0,t):g(c,t)):"";for(var p=l.length-1,h=n[","],f="";p>=0;){if(0===i||i>p)return l.slice(0,p+1)+(f.length?h+f+c:c);f=l.slice(p-i+1,p+1)+(f.length?h+f:""),p-=i,o<r.length&&(i=r[o],o++)}return l.slice(0,p+1)+h+f+c},w=function(t,n,r){if(!isFinite(t))return t===1/0?r.numberFormat.positiveInfinity:t===-(1/0)?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||"i"===n)return r.name.length?t.toLocaleString():""+t;n=n||"D";var i,o=r.numberFormat,s=Math.abs(t),a=-1;n.length>1&&(a=parseInt(n.slice(1),10));var l,c=n.charAt(0).toUpperCase();switch(c){case"D":i="n",s=_(s),a!==-1&&(s=g(""+s,a,!0)),t<0&&(s="-"+s);break;case"N":l=o;case"C":l=l||o.currency;case"P":l=l||o.percent,i=t<0?l.pattern[0]:l.pattern[1]||"n",a===-1&&(a=l.decimals),s=e(s*("P"===c?100:1),a,l);break;default:throw"Bad number format specifier: "+c}for(var u=/n|\$|-|%/g,d="";;){var p=u.lastIndex,h=u.exec(i);if(d+=i.slice(p,h?h.index:i.length),!h)break;switch(h[0]){case"n":d+=s;break;case"$":d+=o.currency.symbol;break;case"-":/[1-9]/.test(s)&&(d+=o["-"]);break;case"%":d+=o.percent.symbol}}return d}}(),x=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},k=function(e,t){if(!t)return 0;for(var n,r=e.getTime(),i=0,o=t.length;i<o;i++)if(n=t[i].start,null===n||r>=n)return i;return 0},A=function(e,t,n,r){var i=e.getFullYear();return!r&&t.eras&&(i-=t.eras[n].offset),i},function(){var e,t,n,r,i,o,s;e=function(e,t){if(t<100){var n=new Date,r=k(n),i=A(n,e,r),o=e.twoDigitYearMax;o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o,t+=i-i%100,t>o&&(t-=100)}return t},t=function(e,t,n){var r,i=e.days,a=e._upperDays;return a||(e._upperDays=a=[s(i.names),s(i.namesAbbr),s(i.namesShort)]),t=o(t),n?(r=l(a[1],t),r===-1&&(r=l(a[2],t))):r=l(a[0],t),r},n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,a=e._upperMonths,c=e._upperMonthsGen;a||(e._upperMonths=a=[s(r.names),s(r.namesAbbr)],e._upperMonthsGen=c=[s(i.names),s(i.namesAbbr)]),t=o(t);var u=l(n?a[1]:a[0],t);return u<0&&(u=l(n?c[1]:c[0],t)),u},r=function(e,t){var n=e._parseRegExp;if(n){var r=n[t];if(r)return r}else e._parseRegExp=n={};for(var i,o=y(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],a=[],l=0,c=0,u=x();null!==(i=u.exec(o));){var d=o.slice(l,i.index);if(l=u.lastIndex,c+=v(d,s),c%2)s.push(i[0]);else{var p,h=i[0],f=h.length;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":p="(\\D+)";break;case"tt":case"t":p="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":p="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":p="(\\d\\d?)";break;case"zzz":p="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":p="([+-]?\\d\\d?)";break;case"/":p="(\\/)";break;default:throw"Invalid date format pattern '"+h+"'."}p&&s.push(p),a.push(i[0])}}v(o.slice(l),s),s.push("$");var m=s.join("").replace(/\s+/g,"\\s+"),_={regExp:m,groups:a};return n[t]=_},i=function(e,t,n){return e<t||e>n},o=function(e){return e.split(" ").join(" ").toUpperCase()},s=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=o(e[n]);return t},C=function(o,s,a){o=m(o);var l=a.calendar,c=r(l,s),u=RegExp(c.regExp).exec(o);if(null===u)return null;for(var d,p=c.groups,h=null,_=null,g=null,v=null,y=null,b=0,w=0,x=0,k=0,A=null,C=!1,E=0,S=p.length;E<S;E++){var j=u[E+1];if(j){var M=p[E],T=M.length,O=parseInt(j,10);switch(M){case"dd":case"d":if(v=O,i(v,1,31))return null;break;case"MMM":case"MMMM":if(g=n(l,j,3===T),i(g,0,11))return null;break;case"M":case"MM":if(g=O-1,i(g,0,11))return null;break;case"y":case"yy":case"yyyy":if(_=T<4?e(l,O):O,i(_,0,9999))return null;break;case"h":case"hh":if(b=O,12===b&&(b=0),i(b,0,11))return null;break;case"H":case"HH":if(b=O,i(b,0,23))return null;break;case"m":case"mm":if(w=O,i(w,0,59))return null;break;case"s":case"ss":if(x=O,i(x,0,59))return null;break;case"tt":case"t":if(C=l.PM&&(j===l.PM[0]||j===l.PM[1]||j===l.PM[2]),!C&&(!l.AM||j!==l.AM[0]&&j!==l.AM[1]&&j!==l.AM[2]))return null;break;case"f":case"ff":case"fff":if(k=O*Math.pow(10,3-T),i(k,0,999))return null;break;case"ddd":case"dddd":if(y=t(l,j,3===T),i(y,0,6))return null;break;case"zzz":var N=j.split(/:/);if(2!==N.length)return null;if(d=parseInt(N[0],10),i(d,-12,13))return null;var I=parseInt(N[1],10);if(i(I,0,59))return null;A=60*d+(f(j,"-")?-I:I);break;case"z":case"zz":if(d=O,i(d,-12,13))return null;A=60*d;break;case"g":case"gg":var D=j;if(!D||!l.eras)return null;D=m(D.toLowerCase());for(var L=0,z=l.eras.length;L<z;L++)if(D===l.eras[L].name.toLowerCase()){h=L;break}if(null===h)return null}}}var R,P=new Date,B=l.convert;if(R=B?B.fromGregorian(P)[0]:P.getFullYear(),null===_?_=R:l.eras&&(_+=l.eras[h||0].offset),null===g&&(g=0),null===v&&(v=1),B){if(P=B.toGregorian(_,g,v),null===P)return null}else{if(P.setFullYear(_,g,v),P.getDate()!==v)return null;if(null!==y&&P.getDay()!==y)return null}if(C&&b<12&&(b+=12),P.setHours(b,w,x,k),null!==A){var q=P.getMinutes()-(A+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(q/60,10),q%60)}return P}}(),E=function(e,t,n){var r,i=t["-"],o=t["+"];switch(n){case"n -":i=" "+i,o=" "+o;case"n-":c(e,i)?r=["-",e.substr(0,e.length-i.length)]:c(e,o)&&(r=["+",e.substr(0,e.length-o.length)]);break;case"- n":i+=" ",o+=" ";case"-n":f(e,i)?r=["-",e.substr(i.length)]:f(e,o)&&(r=["+",e.substr(o.length)]);break;case"(n)":f(e,"(")&&c(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]},r.prototype.findClosestCulture=function(e){return r.findClosestCulture.call(this,e)},r.prototype.format=function(e,t,n){return r.format.call(this,e,t,n)},r.prototype.localize=function(e,t){return r.localize.call(this,e,t)},r.prototype.parseInt=function(e,t,n){return r.parseInt.call(this,e,t,n)},r.prototype.parseFloat=function(e,t,n){return r.parseFloat.call(this,e,t,n)},r.prototype.culture=function(e){return r.culture.call(this,e)},r.addCultureInfo=function(e,t,n){var r={},i=!1;"string"!=typeof e?(n=e,e=this.culture().name,r=this.cultures[e]):"string"!=typeof t?(n=t,i=null==this.cultures[e],r=this.cultures[e]||this.cultures.default):(i=!0,r=this.cultures[t]),this.cultures[e]=u(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},r.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),d(e)){var n,r,i=this.cultures,o=e,s=o.length,a=[];for(r=0;r<s;r++){e=m(o[r]);var l,c=e.split(";");n=m(c[0]),1===c.length?l=1:(e=m(c[1]),0===e.indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1),a.push({lang:n,pri:l})}for(a.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),r=0;r<s;r++)if(n=a[r].lang,t=i[n])return t;for(r=0;r<s;r++)for(n=a[r].lang;;){var u=n.lastIndexOf("-");if(u===-1)break;if(n=n.substr(0,u),t=i[n])return t}for(r=0;r<s;r++){n=a[r].lang;for(var p in i){var h=i[p];if(h.language==n)return h}}}else if("object"==typeof e)return e;return t||null},r.format=function(e,t,n){var r=this.findClosestCulture(n);return e instanceof Date?e=b(e,t,r):"number"==typeof e&&(e=w(e,t,r)),e},r.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},r.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,o;if(t){if("string"==typeof t&&(t=[t]),t.length)for(var s=0,a=t.length;s<a;s++){var l=t[s];if(l&&(r=C(e,l,n)))break}}else{o=n.calendar.patterns;for(i in o)if(r=C(e,o[i],n))break}return r||null},r.parseInt=function(e,t,n){return _(r.parseFloat(e,t,n))},r.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var r=this.findClosestCulture(n),a=NaN,l=r.numberFormat;if(e.indexOf(r.numberFormat.currency.symbol)>-1&&(e=e.replace(r.numberFormat.currency.symbol,""),e=e.replace(r.numberFormat.currency["."],r.numberFormat["."])),e.indexOf(r.numberFormat.percent.symbol)>-1&&(e=e.replace(r.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),o.test(e))a=parseFloat(e);else if(!t&&i.test(e))a=parseInt(e,16);else{var c=E(e,l,l.pattern[0]),u=c[0],d=c[1];""===u&&"(n)"!==l.pattern[0]&&(c=E(e,l,"(n)"),u=c[0],d=c[1]),""===u&&"-n"!==l.pattern[0]&&(c=E(e,l,"-n"),u=c[0],d=c[1]),u=u||"+";var p,h,f=d.indexOf("e");f<0&&(f=d.indexOf("E")),f<0?(h=d,p=null):(h=d.substr(0,f),p=d.substr(f+1));var m,_,g=l["."],v=h.indexOf(g);v<0?(m=h,_=null):(m=h.substr(0,v),_=h.substr(v+g.length));var y=l[","];m=m.split(y).join("");var b=y.replace(/\u00A0/g," ");y!==b&&(m=m.split(b).join(""));var w=u+m;if(null!==_&&(w+="."+_),null!==p){var x=E(p,l,"-n");w+="e"+(x[0]||"+")+x[1]}s.test(w)&&(a=parseFloat(w))}return a},r.culture=function(e){return n!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this)},function(e,exports){"use strict";e.exports=function(e){return!!e&&"object"==typeof e&&e.constructor===Object}},,,,,,,,,,,,,,,,,,function(e,exports){function t(e){return!!e&&"object"==typeof e}function n(e,t){var n=null==e?void 0:e[t];return o(n)?n:void 0}function r(e){return i(e)&&d.call(e)==s}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return null!=e&&(r(e)?p.test(c.call(e)):t(e)&&a.test(e))}var s="[object Function]",a=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=l.toString,p=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,exports){function t(e){return r(e)&&h.call(e,"callee")&&(!m.call(e,"callee")||f.call(e)==c)}function n(e){return null!=e&&o(e.length)&&!i(e)}function r(e){return a(e)&&n(e)}function i(e){var t=s(e)?f.call(e):"";return t==u||t==d}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==typeof e}var l=9007199254740991,c="[object Arguments]",u="[object Function]",d="[object GeneratorFunction]",p=Object.prototype,h=p.hasOwnProperty,f=p.toString,m=p.propertyIsEnumerable;e.exports=t},function(e,exports){function t(e){return!!e&&"object"==typeof e}function n(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_}function i(e){return o(e)&&h.call(e)==l}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null!=e&&(i(e)?f.test(d.call(e)):t(e)&&c.test(e))}var a="[object Array]",l="[object Function]",c=/^\[object .+?Constructor\]$/,u=Object.prototype,d=Function.prototype.toString,p=u.hasOwnProperty,h=u.toString,f=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=n(Array,"isArray"),_=9007199254740991,g=m||function(e){return t(e)&&r(e.length)&&h.call(e)==a};e.exports=g},function(e,exports,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&o(g(e))}function i(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?_:t,e>-1&&e%1==0&&e<t}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_}function s(e){for(var t=l(e),n=t.length,r=n&&e.length,s=!!r&&o(r)&&(d(e)||u(e)),a=-1,c=[];++a<n;){var p=t[a];(s&&i(p,r)||f.call(e,p))&&c.push(p)}return c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){if(null==e)return[];a(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(d(e)||u(e))&&t||0;for(var n=e.constructor,r=-1,s="function"==typeof n&&n.prototype===e,l=Array(t),c=t>0;++r<t;)l[r]=r+"";for(var p in e)c&&i(p,t)||"constructor"==p&&(s||!f.call(e,p))||l.push(p);return l}var c=t(1104),u=t(1105),d=t(1106),p=/^\d+$/,h=Object.prototype,f=h.hasOwnProperty,m=c(Object,"keys"),_=9007199254740991,g=n("length"),v=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?s(e):a(e)?m(e):[]}:s;e.exports=v},function(e,exports,t){var n=t(155),r=t(92),i=n(r,"DataView");e.exports=i},function(e,exports,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var r=t(1163),i=t(1164),o=t(1165),s=t(1166),a=t(1167);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=o,n.prototype.has=s,n.prototype.set=a,e.exports=n;
},function(e,exports,t){var n=t(155),r=t(92),i=n(r,"Promise");e.exports=i},function(e,exports,t){var n=t(155),r=t(92),i=n(r,"Set");e.exports=i},function(e,exports,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=t(588),i=t(1188),o=t(1189);n.prototype.add=n.prototype.push=i,n.prototype.has=o,e.exports=n},function(e,exports,t){var n=t(92),r=n.Uint8Array;e.exports=r},function(e,exports,t){var n=t(155),r=t(92),i=n(r,"WeakMap");e.exports=i},function(e,exports){function t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=t},function(e,exports){function t(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}e.exports=t},function(e,exports,t){function n(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&s(e),p=!n&&!c&&!d&&l(e),h=n||c||d||p,f=h?r(e.length,String):[],m=f.length;for(var _ in e)!t&&!u.call(e,_)||h&&("length"==_||d&&("offset"==_||"parent"==_)||p&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||a(_,m))||f.push(_);return f}var r=t(1143),i=t(597),o=t(112),s=t(841),a=t(593),l=t(843),c=Object.prototype,u=c.hasOwnProperty;e.exports=n},function(e,exports){function t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=t},function(e,exports){function t(e){return e.split("")}e.exports=t},function(e,exports,t){var n=t(1123),r=t(1150),i=r(n);e.exports=i},function(e,exports,t){function n(e,t,o,s,a){var l=-1,c=e.length;for(o||(o=i),a||(a=[]);++l<c;){var u=e[l];t>0&&o(u)?t>1?n(u,t-1,o,s,a):r(a,u):s||(a[a.length]=u)}return a}var r=t(828),i=t(1168);e.exports=n},function(e,exports,t){var n=t(1151),r=n();e.exports=r},function(e,exports,t){function n(e,t){return e&&r(e,t,i)}var r=t(1122),i=t(317);e.exports=n},function(e,exports,t){function n(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}var r=t(828),i=t(112);e.exports=n},function(e,exports){function t(e,t){return null!=e&&t in Object(e)}e.exports=t},function(e,exports,t){function n(e){return i(e)&&r(e)==o}var r=t(133),i=t(134),o="[object Arguments]";e.exports=n},function(e,exports,t){function n(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?h:a(e),x=b?h:a(t);w=w==p?f:w,x=x==p?f:x;var k=w==f,A=x==f,C=w==x;if(C&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(C&&!k)return v||(v=new r),y||u(e)?i(e,t,n,m,g,v):o(e,t,w,n,m,g,v);if(!(n&d)){var E=k&&_.call(e,"__wrapped__"),S=A&&_.call(t,"__wrapped__");if(E||S){var j=E?e.value():e,M=S?t.value():t;return v||(v=new r),g(j,M,n,m,v)}}return!!C&&(v||(v=new r),s(e,t,n,m,g,v))}var r=t(826),i=t(836),o=t(1154),s=t(1155),a=t(1159),l=t(112),c=t(841),u=t(843),d=1,p="[object Arguments]",h="[object Array]",f="[object Object]",m=Object.prototype,_=m.hasOwnProperty;e.exports=n},function(e,exports,t){function n(e,t,n,a){var l=n.length,c=l,u=!a;if(null==e)return!c;for(e=Object(e);l--;){var d=n[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){d=n[l];var p=d[0],h=e[p],f=d[1];if(u&&d[2]){if(void 0===h&&!(p in e))return!1}else{var m=new r;if(a)var _=a(h,f,p,e,t,m);if(!(void 0===_?i(f,h,o|s,a,m):_))return!1}}return!0}var r=t(826),i=t(832),o=1,s=2;e.exports=n},function(e,exports){function t(e){return e!==e}e.exports=t},function(e,exports,t){function n(e){if(!o(e)||i(e))return!1;var t=r(e)?h:l;return t.test(s(e))}var r=t(842),i=t(1171),o=t(240),s=t(840),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,p=u.hasOwnProperty,h=RegExp("^"+d.call(p).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,exports,t){function n(e){return o(e)&&i(e.length)&&!!T[r(e)]}var r=t(133),i=t(598),o=t(134),s="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",h="[object Number]",f="[object Object]",m="[object RegExp]",_="[object Set]",g="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",j="[object Uint16Array]",M="[object Uint32Array]",T={};T[w]=T[x]=T[k]=T[A]=T[C]=T[E]=T[S]=T[j]=T[M]=!0,T[s]=T[a]=T[y]=T[l]=T[b]=T[c]=T[u]=T[d]=T[p]=T[h]=T[f]=T[m]=T[_]=T[g]=T[v]=!1,e.exports=n},function(e,exports,t){function n(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=t(1172),i=t(1185),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,exports,t){function n(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}var r=t(1120),i=t(239);e.exports=n},function(e,exports,t){function n(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=t(1128),i=t(1157),o=t(838);e.exports=n},function(e,exports,t){function n(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,u|d)}}var r=t(832),i=t(1204),o=t(1205),s=t(594),a=t(837),l=t(838),c=t(315),u=1,d=2;e.exports=n},function(e,exports,t){function n(e,t,n){var u=-1;t=r(t.length?t:[c],a(i));var d=o(e,function(e,n,i){var o=r(t,function(t){return t(e)});return{criteria:o,index:++u,value:e}});return s(d,function(e,t){return l(e,t,n)})}var r=t(827),i=t(589),o=t(1133),s=t(1142),a=t(833),l=t(1148),c=t(316);e.exports=n},function(e,exports){function t(e){return function(t){return null==t?void 0:t[e]}}e.exports=t},function(e,exports,t){function n(e){return function(t){return r(t,e)}}var r=t(830);e.exports=n},function(e,exports,t){function n(e,t){return o(i(e,t,r),e+"")}var r=t(316),i=t(1187),o=t(1191);e.exports=n},function(e,exports,t){var n=t(1201),r=t(1153),i=t(316),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=o},function(e,exports){function t(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=t},function(e,exports){function t(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=t},function(e,exports){function t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=t},function(e,exports){function t(e,t){return e.has(t)}e.exports=t},function(e,exports,t){function n(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}var r=t(831);e.exports=n},function(e,exports,t){function n(e,t){for(var n=-1,i=e.length;++n<i&&r(t,e[n],0)>-1;);return n}var r=t(831);e.exports=n},function(e,exports,t){function n(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,s=r(e),a=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!u&&e<t||u&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}var r=t(241);e.exports=n},function(e,exports,t){function n(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,l=n.length;++i<a;){var c=r(o[i],s[i]);if(c){if(i>=l)return c;var u=n[i];return c*("desc"==u?-1:1)}}return e.index-t.index}var r=t(1147);e.exports=n},function(e,exports,t){var n=t(92),r=n["__core-js_shared__"];e.exports=r},function(e,exports,t){function n(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&i(a[s],s,a)!==!1;);return n}}var r=t(239);e.exports=n},function(e,exports){function t(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(n(o[l],l,o)===!1)break}return t}}e.exports=t},function(e,exports,t){function n(e){return function(t,n,s){var a=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}}var r=t(589),i=t(239),o=t(317);e.exports=n},function(e,exports,t){var n=t(155),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,exports,t){function n(e,t,n,r,x,A,C){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!A(new i(e),new i(t)));case d:case p:case m:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case v:return e==t+"";case f:var E=a;case g:var S=r&c;if(E||(E=l),e.size!=t.size&&!S)return!1;var j=C.get(e);if(j)return j==t;r|=u,C.set(e,t);var M=s(E(e),E(t),r,x,A,C);return C.delete(e),M;case y:if(k)return k.call(e)==k.call(t)}return!1}var r=t(132),i=t(1113),o=t(596),s=t(836),a=t(1183),l=t(1190),c=1,u=2,d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Map]",m="[object Number]",_="[object RegExp]",g="[object Set]",v="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,k=x?x.valueOf:void 0;e.exports=n},function(e,exports,t){function n(e,t,n,o,a,l){var c=n&i,u=r(e),d=u.length,p=r(t),h=p.length;if(d!=h&&!c)return!1;for(var f=d;f--;){var m=u[f];if(!(c?m in t:s.call(t,m)))return!1}var _=l.get(e);if(_&&l.get(t))return _==t;var g=!0;l.set(e,t),l.set(t,e);for(var v=c;++f<d;){m=u[f];var y=e[m],b=t[m];if(o)var w=c?o(b,y,m,t,e,l):o(y,b,m,e,t,l);if(!(void 0===w?y===b||a(y,b,n,o,l):w)){g=!1;break}v||(v="constructor"==m)}if(g&&!v){var x=e.constructor,k=t.constructor;x!=k&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k)&&(g=!1)}return l.delete(e),l.delete(t),g}var r=t(1156),i=1,o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,exports,t){function n(e){return r(e,o,i)}var r=t(1124),i=t(1158),o=t(317);e.exports=n},function(e,exports,t){function n(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}var r=t(837),i=t(317);e.exports=n},function(e,exports,t){var n=t(1116),r=t(1209),i=Object.prototype,o=i.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return o.call(e,t)}))}:r;e.exports=a},function(e,exports,t){var n=t(1108),r=t(587),i=t(1110),o=t(1111),s=t(1114),a=t(133),l=t(840),c="[object Map]",u="[object Object]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=l(n),_=l(r),g=l(i),v=l(o),y=l(s),b=a;(n&&b(new n(new ArrayBuffer(1)))!=f||r&&b(new r)!=c||i&&b(i.resolve())!=d||o&&b(new o)!=p||s&&b(new s)!=h)&&(b=function(e){var t=a(e),n=t==u?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return f;case _:return c;case g:return d;case v:return p;case y:return h}return t}),e.exports=b},function(e,exports){function t(e,t){return null==e?void 0:e[t]}e.exports=t},function(e,exports,t){function n(e,t,n){t=r(t,e);for(var c=-1,u=t.length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:(u=null==e?0:e.length,!!u&&a(u)&&s(p,u)&&(o(e)||i(e)))}var r=t(834),i=t(597),o=t(112),s=t(593),a=t(598),l=t(315);e.exports=n},function(e,exports){function t(e){return c.test(e)}var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=r+i+o,a="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+n+s+a+"]");e.exports=t},function(e,exports,t){function n(){this.__data__=r?r(null):{},this.size=0}var r=t(313);e.exports=n},function(e,exports){function t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=t},function(e,exports,t){function n(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return s.call(t,e)?t[e]:void 0}var r=t(313),i="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,exports,t){function n(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}var r=t(313),i=Object.prototype,o=i.hasOwnProperty;e.exports=n},function(e,exports,t){function n(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}var r=t(313),i="__lodash_hash_undefined__";e.exports=n},function(e,exports,t){function n(e){return o(e)||i(e)||!!(s&&e&&e[s])}var r=t(132),i=t(597),o=t(112),s=r?r.isConcatSpreadable:void 0;e.exports=n},function(e,exports,t){function n(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}var r=t(596),i=t(239),o=t(593),s=t(240);e.exports=n},function(e,exports){function t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=t},function(e,exports,t){function n(e){return!!i&&i in e}var r=t(1149),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,exports){function t(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}var n=Object.prototype;e.exports=t},function(e,exports){function t(){this.__data__=[],this.size=0}e.exports=t},function(e,exports,t){function n(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():o.call(t,n,1),--this.size,!0}var r=t(310),i=Array.prototype,o=i.splice;e.exports=n},function(e,exports,t){function n(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=t(310);e.exports=n},function(e,exports,t){function n(e){return r(this.__data__,e)>-1}var r=t(310);e.exports=n},function(e,exports,t){function n(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var r=t(310);e.exports=n},function(e,exports,t){function n(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}var r=t(1109),i=t(309),o=t(587);e.exports=n},function(e,exports,t){function n(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=t(312);e.exports=n},function(e,exports,t){function n(e){return r(this,e).get(e)}var r=t(312);e.exports=n},function(e,exports,t){function n(e){return r(this,e).has(e)}var r=t(312);e.exports=n},function(e,exports,t){function n(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var r=t(312);e.exports=n},function(e,exports){function t(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=t},function(e,exports,t){function n(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}var r=t(1206),i=500;e.exports=n},function(e,exports,t){var n=t(314),r=n(Object.keys,Object);e.exports=r},function(e,exports,t){(function(e){var n=t(311),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(exports,t(130)(e))},function(e,exports,t){function n(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(l),r(e,this,c)}}var r=t(1115),i=Math.max;e.exports=n},function(e,exports){function t(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=t},function(e,exports){function t(e){return this.__data__.has(e)}e.exports=t},function(e,exports){function t(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=t},function(e,exports,t){var n=t(1140),r=t(1192),i=r(n);e.exports=i},function(e,exports){function t(e){var t=0,o=0;return function(){var s=i(),a=r-(s-o);if(o=s,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,r=16,i=Date.now;e.exports=t},function(e,exports,t){function n(){this.__data__=new r,this.size=0}var r=t(309);e.exports=n},function(e,exports){function t(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=t},function(e,exports){function t(e){return this.__data__.get(e)}e.exports=t},function(e,exports){function t(e){return this.__data__.has(e)}e.exports=t},function(e,exports,t){function n(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}var r=t(309),i=t(587),o=t(588),s=200;e.exports=n},function(e,exports){function t(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=t},function(e,exports,t){var n=t(1184),r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=n(function(e){var t=[];return r.test(e)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=s},function(e,exports){function t(e){return e.match(w)||[]}var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=r+i+o,a="\\ufe0e\\ufe0f",l="["+n+"]",c="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+c+"|"+u+")",p="[^"+n+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",_=d+"?",g="["+a+"]?",v="(?:"+m+"(?:"+[p,h,f].join("|")+")"+g+_+")*",y=g+_+v,b="(?:"+[p+c+"?",c,h,f,l].join("|")+")",w=RegExp(u+"(?="+u+")|"+b+y,"g");e.exports=t},function(e,exports){function t(e){return function(){return e}}e.exports=t},function(e,exports,t){var n=t(1152),r=t(1203),i=n(r);e.exports=i},function(e,exports,t){function n(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),r(e,i(t,3),l)}var r=t(829),i=t(589),o=t(1212),s=Math.max;e.exports=n},function(e,exports,t){function n(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}var r=t(830);e.exports=n},function(e,exports,t){function n(e,t){return null!=e&&i(e,t,r)}var r=t(1125),i=t(1161);e.exports=n},function(e,exports,t){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var o=function(){var n=arguments,r=t?t.apply(this,n):n[0],i=o.cache;if(i.has(r))return i.get(r);var s=e.apply(this,n);return o.cache=i.set(r,s)||i,s};return o.cache=new(n.Cache||r),o}var r=t(588),i="Expected a function";n.Cache=r,e.exports=n},function(e,exports,t){function n(e){return o(e)?r(s(e)):i(e)}var r=t(1137),i=t(1138),o=t(594),s=t(315);e.exports=n},function(e,exports,t){var n=t(1121),r=t(1136),i=t(1139),o=t(1169),s=i(function(e,t){if(null==e)return[];var i=t.length;return i>1&&o(e,t[0],t[1])?t=[]:i>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,n(t,1),[])});e.exports=s},function(e,exports){function t(){return[]}e.exports=t},function(e,exports){function t(){return!1}e.exports=t},function(e,exports,t){function n(e){if(!e)return 0===e?e:0;if(e=r(e),e===i||e===-i){var t=e<0?-1:1;return t*o}return e===e?e:0}var r=t(1213),i=1/0,o=1.7976931348623157e308;e.exports=n},function(e,exports,t){function n(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=t(1211);e.exports=n},function(e,exports,t){function n(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?o:+e}var r=t(240),i=t(241),o=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=n},function(e,exports,t){function n(e,t,n){if(e=a(e),e&&(n||void 0===t))return e.replace(l,"");if(!e||!(t=r(t)))return e;var c=s(e),u=o(c,s(t))+1;return i(c,0,u).join("")}var r=t(590),i=t(835),o=t(1145),s=t(839),a=t(599),l=/\s+$/;e.exports=n},function(e,exports,t){function n(e,t,n){if(e=a(e),e&&(n||void 0===t))return e.replace(l,"");if(!e||!(t=r(t)))return e;var c=s(e),u=o(c,s(t));return i(c,u).join("")}var r=t(590),i=t(835),o=t(1146),s=t(839),a=t(599),l=/^\s+/;e.exports=n},function(e,exports){"use strict";function t(e){for(var t=a(e),n=1732584193,r=-271733879,i=-1732584194,l=271733878,c=0;c<t.length;c+=16){var f=n,m=r,_=i,g=l;n=u(n,r,i,l,t[c+0],7,-680876936),l=u(l,n,r,i,t[c+1],12,-389564586),i=u(i,l,n,r,t[c+2],17,606105819),r=u(r,i,l,n,t[c+3],22,-1044525330),n=u(n,r,i,l,t[c+4],7,-176418897),l=u(l,n,r,i,t[c+5],12,1200080426),i=u(i,l,n,r,t[c+6],17,-1473231341),r=u(r,i,l,n,t[c+7],22,-45705983),n=u(n,r,i,l,t[c+8],7,1770035416),l=u(l,n,r,i,t[c+9],12,-1958414417),i=u(i,l,n,r,t[c+10],17,-42063),r=u(r,i,l,n,t[c+11],22,-1990404162),n=u(n,r,i,l,t[c+12],7,1804603682),l=u(l,n,r,i,t[c+13],12,-40341101),i=u(i,l,n,r,t[c+14],17,-1502002290),r=u(r,i,l,n,t[c+15],22,1236535329),n=d(n,r,i,l,t[c+1],5,-165796510),l=d(l,n,r,i,t[c+6],9,-1069501632),i=d(i,l,n,r,t[c+11],14,643717713),r=d(r,i,l,n,t[c+0],20,-373897302),n=d(n,r,i,l,t[c+5],5,-701558691),l=d(l,n,r,i,t[c+10],9,38016083),i=d(i,l,n,r,t[c+15],14,-660478335),r=d(r,i,l,n,t[c+4],20,-405537848),n=d(n,r,i,l,t[c+9],5,568446438),l=d(l,n,r,i,t[c+14],9,-1019803690),i=d(i,l,n,r,t[c+3],14,-187363961),r=d(r,i,l,n,t[c+8],20,1163531501),n=d(n,r,i,l,t[c+13],5,-1444681467),l=d(l,n,r,i,t[c+2],9,-51403784),i=d(i,l,n,r,t[c+7],14,1735328473),r=d(r,i,l,n,t[c+12],20,-1926607734),n=p(n,r,i,l,t[c+5],4,-378558),l=p(l,n,r,i,t[c+8],11,-2022574463),i=p(i,l,n,r,t[c+11],16,1839030562),r=p(r,i,l,n,t[c+14],23,-35309556),n=p(n,r,i,l,t[c+1],4,-1530992060),l=p(l,n,r,i,t[c+4],11,1272893353),i=p(i,l,n,r,t[c+7],16,-155497632),r=p(r,i,l,n,t[c+10],23,-1094730640),n=p(n,r,i,l,t[c+13],4,681279174),l=p(l,n,r,i,t[c+0],11,-358537222),i=p(i,l,n,r,t[c+3],16,-722521979),r=p(r,i,l,n,t[c+6],23,76029189),n=p(n,r,i,l,t[c+9],4,-640364487),l=p(l,n,r,i,t[c+12],11,-421815835),i=p(i,l,n,r,t[c+15],16,530742520),r=p(r,i,l,n,t[c+2],23,-995338651),n=h(n,r,i,l,t[c+0],6,-198630844),l=h(l,n,r,i,t[c+7],10,1126891415),i=h(i,l,n,r,t[c+14],15,-1416354905),r=h(r,i,l,n,t[c+5],21,-57434055),n=h(n,r,i,l,t[c+12],6,1700485571),l=h(l,n,r,i,t[c+3],10,-1894986606),i=h(i,l,n,r,t[c+10],15,-1051523),r=h(r,i,l,n,t[c+1],21,-2054922799),n=h(n,r,i,l,t[c+8],6,1873313359),l=h(l,n,r,i,t[c+15],10,-30611744),i=h(i,l,n,r,t[c+6],15,-1560198380),r=h(r,i,l,n,t[c+13],21,1309151649),n=h(n,r,i,l,t[c+4],6,-145523070),l=h(l,n,r,i,t[c+11],10,-1120210379),i=h(i,l,n,r,t[c+2],15,718787259),r=h(r,i,l,n,t[c+9],21,-343485551),n=o(n,f),r=o(r,m),i=o(i,_),l=o(l,g)}return s(n)+s(r)+s(i)+s(l)}function n(e,t){var n=1&e|1&t,r=e>>>1|t>>>1;return r<<1|n}function r(e,t){var n=1&e^1&t,r=e>>>1^t>>>1;return r<<1|n}function i(e,t){var n=1&e&(1&t),r=e>>>1&t>>>1;return r<<1|n}function o(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function s(e){var t,n="";for(t=0;t<=3;t++)n+=f.charAt(e>>8*t+4&15)+f.charAt(e>>8*t&15);return n}function a(e){var t,n=(e.length+8>>6)+1,r=Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;r[t>>2]|=128<<(8*e.length+t)%4*8;var i=8*e.length;return r[16*n-2]=255&i,r[16*n-2]|=(i>>>8&255)<<8,r[16*n-2]|=(i>>>16&255)<<16,r[16*n-2]|=(i>>>24&255)<<24,r}function l(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,s){return o(l(o(o(t,e),o(r,s)),i),n)}function u(e,t,r,o,s,a,l){return c(n(i(t,r),i(~t,o)),e,t,s,a,l)}function d(e,t,r,o,s,a,l){return c(n(i(t,o),i(r,~o)),e,t,s,a,l)}function p(e,t,n,i,o,s,a){return c(r(r(t,n),i),e,t,o,s,a)}function h(e,t,i,o,s,a,l){return c(r(i,n(t,~o)),e,t,s,a,l)}e.exports=t;var f="0123456789abcdef"},,function(e,exports){"use strict";e.exports=function(e,t){if(null==e)return{};"string"==typeof t&&(t=[].slice.call(arguments,1));for(var n=t.length,r={},i=0;i<n;i++){var o=t[i];e.hasOwnProperty(o)&&(r[o]=e[o])}return r}},function(e,exports,t){e.exports=t(1222).use(t(846)).use(t(1221)).use(t(845)).use(t(191)).use(t(1220)).use(t(1229)).use(t(1223)).use(t(1224)).use(t(1225)).use(t(1226)).use(t(1227)).use(t(1228)).use(t(1230)).use(t(1231)).use(t(1232)).use(t(1233)).use(t(1234))},function(e,exports){e.exports=function(e){e.installColorSpace("CMYK",["cyan","magenta","yellow","black","alpha"],{rgb:function(){return new e.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var t=this._red,n=this._green,r=this._blue,i=1-t,o=1-n,s=1-r,a=1;return t||n||r?(a=Math.min(i,Math.min(o,s)),i=(i-a)/(1-a),o=(o-a)/(1-a),s=(s-a)/(1-a)):a=1,new e.CMYK(i,o,s,a,this._alpha)}})}},function(e,exports,t){e.exports=function(e){e.use(t(846)),e.installColorSpace("LAB",["l","a","b","alpha"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var t=function(e){var t=Math.pow(e,3);return t>.008856?t:(e-16/116)/7.87},n=(this._l+16)/116,r=this._a/500+n,i=n-this._b/200;return new e.XYZ(95.047*t(r),100*t(n),108.883*t(i),this._alpha)}})}},function(e,exports){function t(e){if(Array.isArray(e)){if("string"==typeof e[0]&&"function"==typeof t[e[0]])return new t[e[0]](e.slice(1,e.length));if(4===e.length)return new t.RGB(e[0]/255,e[1]/255,e[2]/255,e[3]/255)}else if("string"==typeof e){var n=e.toLowerCase();t.namedColors[n]&&(e="#"+t.namedColors[n]),"transparent"===n&&(e="rgba(0,0,0,0)");var i=e.match(a);if(i){var s=i[1].toUpperCase(),l=r(i[8])?i[8]:parseFloat(i[8]),c="H"===s[0],u=i[3]?100:c?360:255,d=i[5]||c?100:255,p=i[7]||c?100:255;if(r(t[s]))throw Error("color."+s+" is not installed.");return new t[s](parseFloat(i[2])/u,parseFloat(i[4])/d,parseFloat(i[6])/p,l)}e.length<6&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var h=e.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(h)return new t.RGB(parseInt(h[1],16)/255,parseInt(h[2],16)/255,parseInt(h[3],16)/255);if(t.CMYK){var f=e.match(RegExp("^cmyk\\("+o.source+","+o.source+","+o.source+","+o.source+"\\)$","i"));if(f)return new t.CMYK(parseFloat(f[1])/100,parseFloat(f[2])/100,parseFloat(f[3])/100,parseFloat(f[4])/100)}}else if("object"==typeof e&&e.isColor)return e;return!1}var n=[],r=function(e){return void 0===e},i=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,o=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,s=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,a=RegExp("^(rgb|hsl|hsv)a?\\("+i.source+","+i.source+","+i.source+"(?:,"+s.source+")?\\)$","i");t.namedColors={},t.installColorSpace=function(e,i,o){function s(e,n){var r={};r[n.toLowerCase()]=function(){return this.rgb()[n.toLowerCase()]()},t[n].propertyNames.forEach(function(e){var t="black"===e?"k":e.charAt(0);r[e]=r[t]=function(t,r){return this[n.toLowerCase()]()[e](t,r)}});for(var i in r)r.hasOwnProperty(i)&&void 0===t[e].prototype[i]&&(t[e].prototype[i]=r[i])}t[e]=function(t){var n=Array.isArray(t)?t:arguments;i.forEach(function(t,r){var o=n[r];if("alpha"===t)this._alpha=isNaN(o)||o>1?1:o<0?0:o;else{if(isNaN(o))throw Error("["+e+"]: Invalid color: ("+i.join(",")+")");"hue"===t?this._hue=o<0?o-Math.floor(o):o%1:this["_"+t]=o<0?0:o>1?1:o}},this)},t[e].propertyNames=i;var a=t[e].prototype;["valueOf","hex","hexa","css","cssa"].forEach(function(t){a[t]=a[t]||("RGB"===e?a.hex:function(){return this.rgb()[t]()})}),a.isColor=!0,a.equals=function(t,n){r(n)&&(n=1e-10),t=t[e.toLowerCase()]();for(var o=0;o<i.length;o+=1)if(Math.abs(this["_"+i[o]]-t["_"+i[o]])>n)return!1;return!0},a.toJSON=function(){return[e].concat(i.map(function(e){return this["_"+e]},this))};for(var l in o)if(o.hasOwnProperty(l)){var c=l.match(/^from(.*)$/);c?t[c[1].toUpperCase()].prototype[e.toLowerCase()]=o[l]:a[l]=o[l]}return a[e.toLowerCase()]=function(){return this},a.toString=function(){return"["+e+" "+i.map(function(e){return this["_"+e]}).join(", ")+"]"},i.forEach(function(e){var t="black"===e?"k":e.charAt(0);a[e]=a[t]=function(t,n){return void 0===t?this["_"+e]:n?new this.constructor(i.map(function(n){return this["_"+n]+(e===n?t:0)},this)):new this.constructor(i.map(function(n){return e===n?t:this["_"+n]},this))}}),n.forEach(function(t){s(e,t),s(t,e)}),n.push(e),t},t.pluginList=[],t.use=function(e){return t.pluginList.indexOf(e)===-1&&(this.pluginList.push(e),e(t)),t},t.installMethod=function(e,r){return n.forEach(function(n){t[n].prototype[e]=r}),this},t.installColorSpace("RGB",["red","green","blue","alpha"],{hex:function(){var e=(65536*Math.round(255*this._red)+256*Math.round(255*this._green)+Math.round(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this._alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+")"},cssa:function(){return"rgba("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+","+this._alpha+")"}}),e.exports=t},function(e,exports){e.exports=function(e){e.installMethod("clearer",function(e){return this.alpha(isNaN(e)?-.1:-e,!0)})}},function(e,exports,t){e.exports=function(e){e.use(t(191)),e.installMethod("darken",function(e){return this.lightness(isNaN(e)?-.1:-e,!0)})}},function(e,exports,t){e.exports=function(e){e.use(t(191)),e.installMethod("desaturate",function(e){return this.saturation(isNaN(e)?-.1:-e,!0)})}},function(e,exports){e.exports=function(e){function t(){var t=this.rgb(),n=.3*t._red+.59*t._green+.11*t._blue;return new e.RGB(n,n,n,t._alpha)}e.installMethod("greyscale",t).installMethod("grayscale",t)}},function(e,exports,t){e.exports=function(e){e.use(t(191)),e.installMethod("lighten",function(e){return this.lightness(isNaN(e)?.1:e,!0)})}},function(e,exports){e.exports=function(e){e.installMethod("mix",function(t,n){t=e(t).rgb(),n=1-(isNaN(n)?.5:n);var r=2*n-1,i=this._alpha-t._alpha,o=((r*i===-1?r:(r+i)/(1+r*i))+1)/2,s=1-o,a=this.rgb();return new e.RGB(a._red*o+t._red*s,a._green*o+t._green*s,a._blue*o+t._blue*s,a._alpha*n+t._alpha*(1-n))})}},function(e,exports){e.exports=function(e){e.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",
violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}}},function(e,exports){e.exports=function(e){e.installMethod("negate",function(){var t=this.rgb();return new e.RGB(1-t._red,1-t._green,1-t._blue,this._alpha)})}},function(e,exports){e.exports=function(e){e.installMethod("opaquer",function(e){return this.alpha(isNaN(e)?.1:e,!0)})}},function(e,exports,t){e.exports=function(e){e.use(t(191)),e.installMethod("rotate",function(e){return this.hue((e||0)/360,!0)})}},function(e,exports,t){e.exports=function(e){e.use(t(191)),e.installMethod("saturate",function(e){return this.saturation(isNaN(e)?.1:e,!0)})}},function(e,exports){e.exports=function(e){e.installMethod("toAlpha",function(e){var t=this.rgb(),n=e(e).rgb(),r=1e-10,i=new e.RGB(0,0,0,t._alpha),o=["_red","_green","_blue"];return o.forEach(function(e){t[e]<r?i[e]=t[e]:t[e]>n[e]?i[e]=(t[e]-n[e])/(1-n[e]):t[e]>n[e]?i[e]=(n[e]-t[e])/n[e]:i[e]=0}),i._red>i._green?i._red>i._blue?t._alpha=i._red:t._alpha=i._blue:i._green>i._blue?t._alpha=i._green:t._alpha=i._blue,t._alpha<r?t:(o.forEach(function(e){t[e]=(t[e]-n[e])/t._alpha+n[e]}),t._alpha*=i._alpha,t)})}},function(e,exports){"use strict";function t(e,t){var r=e.constructor.prototype,i="function"==typeof t?t:t&&"object"==typeof t?function(e){return!t[e]&&1!==n[e]&&"function"==typeof r[e]}:function(e){return 1!==n[e]&&"function"==typeof r[e]},o=Object.getOwnPropertyNames(r).filter(i);return o.push("setState"),o.forEach(function(t){e[t]=e[t].bind(e)}),e}var n={constructor:1,render:1,shouldComponentUpdate:1,componentWillMount:1,componentDidMount:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillUnmount:1};exports.default=t,e.exports=exports.default},function(e,exports,t){"use strict";var n=t(320),r=t(1238),i=t(323);n.inject();var o={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:i};e.exports=o},function(e,exports){"use strict";var t={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=t},function(e,exports,t){"use strict";function n(e,t){var n;try{return h.injection.injectBatchingStrategy(d),n=p.getPooled(t),_++,n.perform(function(){var r=m(e,!0),i=u.mountComponent(r,n,null,a(),f,0);return t||(i=c.addChecksumToMarkup(i)),i},null)}finally{_--,p.release(n),_||h.injection.injectBatchingStrategy(l)}}function r(e){return s.isValidElement(e)?void 0:o("46"),n(e,!1)}function i(e){return s.isValidElement(e)?void 0:o("47"),n(e,!0)}var o=t(20),s=t(72),a=t(318),l=t(319),c=(t(45),t(321)),u=t(71),d=t(1237),p=t(322),h=t(47),f=t(85),m=t(192),_=(t(14),0);e.exports={renderToString:r,renderToStaticMarkup:i}},function(e,exports,t){"use strict";e.exports=t(1236)},function(e,exports,t){!function(n,r){e.exports=r(t(1),t(29))}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,exports,t){"use strict";e.exports=t(1).default,e.exports.DraggableCore=t(17).default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=t(2),d=n(u),p=t(3),h=n(p),f=t(11),m=n(f),_=t(12),g=n(_),v=t(13),y=t(16),b=t(14),w=t(17),x=n(w),k=t(19),A=n(k),C=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){(0,A.default)("Draggable: onDragStart: %j",t);var r=n.props.onStart(e,(0,y.createDraggableData)(n,t));return r!==!1&&void n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,A.default)("Draggable: onDrag: %j",t);var r=(0,y.createDraggableData)(n,t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,s=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var a=(0,y.getBoundPosition)(n,i.x,i.y),c=l(a,2);i.x=c[0],i.y=c[1],i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(s-i.y),r.x=o,r.y=s,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}var u=n.props.onDrag(e,r);return u!==!1&&void n.setState(i)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;var r=n.props.onStop(e,(0,y.createDraggableData)(n,t));if(r===!1)return!1;(0,A.default)("Draggable: onDragStop: %j",t);var i={dragging:!1,slackX:0,slackY:0},o=!!n.props.position;if(o){var s=n.props.position,a=s.x,l=s.y;i.x=a,i.y=l}n.setState(i)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(t,e),c(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&m.default.findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,i=!!this.props.position,o=!i||this.state.dragging,s=this.props.position||this.props.defaultPosition,l={x:(0,y.canDragX)(this)&&o?this.state.x:s.x,y:(0,y.canDragY)(this)&&o?this.state.y:s.y};this.state.isElementSVG?n=(0,v.createSVGTransform)(l):t=(0,v.createCSSTransform)(l);var c=this.props,u=c.defaultClassName,p=c.defaultClassNameDragging,h=c.defaultClassNameDragged,f=(0,g.default)(this.props.children.props.className||"",u,(e={},r(e,p,this.state.dragging),r(e,h,this.state.dragged),e));return d.default.createElement(x.default,a({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),d.default.cloneElement(d.default.Children.only(this.props.children),{className:f,style:a({},this.props.children.props.style,t),transform:n}))}}]),t}(d.default.Component);C.displayName="Draggable",C.propTypes=a({},x.default.propTypes,{axis:h.default.oneOf(["both","x","y","none"]),bounds:h.default.oneOfType([h.default.shape({left:h.default.number,right:h.default.number,top:h.default.number,bottom:h.default.number}),h.default.string,h.default.oneOf([!1])]),defaultClassName:h.default.string,defaultClassNameDragging:h.default.string,defaultClassNameDragged:h.default.string,defaultPosition:h.default.shape({x:h.default.number,y:h.default.number}),position:h.default.shape({x:h.default.number,y:h.default.number}),className:b.dontSetMe,style:b.dontSetMe,transform:b.dontSetMe}),C.defaultProps=a({},x.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),exports.default=C},function(t,exports){t.exports=e},function(e,exports,t){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},i=!0;e.exports=t(4)(r,i)}else e.exports=t(10)()},function(e,exports,t){"use strict";var n=t(5),r=t(6),i=t(7),o=t(8),s=t(9);e.exports=function(e,t){function a(e){var t=e&&(E&&e[E]||e[S]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function u(e){function n(n,l,u,d,p,h,f){if(d=d||j,h=h||u,f!==o)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&"undefined"!=typeof console){var m=d+":"+u;!s[m]&&a<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,d),s[m]=!0,a++)}return null==l[u]?n?new c(null===l[u]?"The "+p+" `"+h+"` is marked as required "+("in `"+d+"`, but its value is `null`."):"The "+p+" `"+h+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:e(l,u,d,p,h)}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var s={},a=0;var l=n.bind(null,!1);return l.isRequired=n.bind(null,!0),l}function d(e){function t(t,n,r,i,o,s){var a=t[n],l=k(a);if(l!==e){var u=A(a);return new c("Invalid "+i+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return u(t)}function p(){return u(n.thatReturnsNull)}function h(e){function t(t,n,r,i,s){if("function"!=typeof e)return new c("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var l=k(a);return new c("Invalid "+i+" `"+s+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<a.length;u++){var d=e(a,u,r,i,s+"["+u+"]",o);if(d instanceof Error)return d}return null}return u(t)}function f(){function t(t,n,r,i,o){var s=t[n];if(!e(s)){var a=k(s);return new c("Invalid "+i+" `"+o+"` of type "+("`"+a+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return u(t)}function m(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var s=e.name||j,a=C(t[n]);return new c("Invalid "+i+" `"+o+"` of type "+("`"+a+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return u(t)}function _(e){function t(t,n,r,i,o){for(var s=t[n],a=0;a<e.length;a++)if(l(s,e[a]))return null;var u=JSON.stringify(e);return new c("Invalid "+i+" `"+o+"` of value `"+s+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return Array.isArray(e)?u(t):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV?i(!1,"Invalid argument supplied to oneOf, expected an instance of array."):void 0,n.thatReturnsNull)}function g(e){function t(t,n,r,i,s){if("function"!=typeof e)return new c("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],l=k(a);if("object"!==l)return new c("Invalid "+i+" `"+s+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an object."));for(var u in a)if(a.hasOwnProperty(u)){var d=e(a,u,r,i,s+"."+u,o);if(d instanceof Error)return d}return null}return u(t)}function v(e){function t(t,n,r,i,s){for(var a=0;a<e.length;a++){var l=e[a];if(null==l(t,n,r,i,s,o))return null}return new c("Invalid "+i+" `"+s+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?u(t):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV?i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0,n.thatReturnsNull)}function y(){function e(e,t,n,r,i){return w(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return u(e)}function b(e){function t(t,n,r,i,s){var a=t[n],l=k(a);if("object"!==l)return new c("Invalid "+i+" `"+s+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `object`."));for(var u in e){var d=e[u];if(d){var p=d(a,u,r,i,s+"."+u,o);if(p)return p}}return null}return u(t)}function w(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var n=a(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!w(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!w(o[1]))return!1}return!0;default:return!1}}function x(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function k(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":x(t,e)?"symbol":t}function A(e){var t=k(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function C(e){return e.constructor&&e.constructor.name?e.constructor.name:j}var E="function"==typeof Symbol&&Symbol.iterator,S="@@iterator",j="<<anonymous>>",M={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:p(),arrayOf:h,element:f(),instanceOf:m,node:y(),objectOf:g,oneOf:_,oneOfType:v,shape:b};return c.prototype=Error.prototype,M.checkPropTypes=s,M.PropTypes=M,M}},function(e,exports){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,exports,t){"use strict";function n(e,t,n,i,o,s,a,l){if(r(t),!e){var c;if(void 0===t)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,s,a,l],d=0;c=Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&(r=function(e){if(void 0===e)throw Error("invariant requires an error message argument")}),e.exports=n},function(e,exports,t){"use strict";var n=t(5),r=n;"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&!function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw Error(o)}catch(e){}};r=function(t,n){if(void 0===n)throw Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.apply(void 0,[n].concat(i))}}}(),e.exports=r},function(e,exports){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,exports,t){"use strict";function n(e,t,n,a,l){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var u;try{r("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",n,c),u=e[c](t,c,a,n,null,o)}catch(e){u=e}if(i(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",n,c,typeof u),u instanceof Error&&!(u.message in s)){s[u.message]=!0;var d=l?l():"";i(!1,"Failed %s type: %s%s",n,u.message,null!=d?d:"")}}}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var r=t(6),i=t(7),o=t(8),s={};e.exports=n},function(e,exports,t){"use strict";var n=t(5),r=t(6);e.exports=function(){function e(){r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return i.checkPropTypes=n,i.PropTypes=i,i}},function(e,exports){e.exports=t},function(e,exports,t){var n,r;!function(){"use strict";function t(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(t.apply(null,r));else if("object"===o)for(var s in r)i.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=t:(n=[],r=function(){return t}.apply(exports,n),!(void 0!==r&&(e.exports=r)))}()},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return A||(A=(0,w.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,w.isFunction)(e[t])})),e[A].call(e,t)}function o(e,t,n){var r=e;do{if(i(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function s(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function a(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function l(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,w.int)(n.borderTopWidth),t+=(0,w.int)(n.borderBottomWidth)}function c(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,w.int)(n.borderLeftWidth),t+=(0,w.int)(n.borderRightWidth)}function u(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,w.int)(n.paddingTop),t-=(0,w.int)(n.paddingBottom)}function d(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,w.int)(n.paddingLeft),t-=(0,w.int)(n.paddingRight)}function p(e,t){var n=t===t.ownerDocument.body,r=n?{left:0,top:0}:t.getBoundingClientRect(),i=e.clientX+t.scrollLeft-r.left,o=e.clientY+t.scrollTop-r.top;return{x:i,y:o}}function h(e){var t=e.x,n=e.y;return r({},(0,x.browserPrefixToKey)("transform",k.default),"translate("+t+"px,"+n+"px)")}function f(e){var t=e.x,n=e.y;return"translate("+t+","+n+")"}function m(e,t){return e.targetTouches&&(0,w.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,w.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function _(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function g(e){var t=e.getAttribute("style")||"";j.test(t)||e.setAttribute("style",t+S)}function v(e){var t=e.getAttribute("style")||"";e.setAttribute("style",t.replace(j,""))}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b({touchAction:"none"},e)}Object.defineProperty(exports,"__esModule",{value:!0});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.matchesSelector=i,exports.matchesSelectorAndParentsTo=o,exports.addEvent=s,exports.removeEvent=a,exports.outerHeight=l,exports.outerWidth=c,exports.innerHeight=u,exports.innerWidth=d,exports.offsetXYFromParent=p,exports.createCSSTransform=h,exports.createSVGTransform=f,exports.getTouch=m,exports.getTouchIdentifier=_,exports.addUserSelectStyles=g,exports.removeUserSelectStyles=v,exports.styleHacks=y;var w=t(14),x=t(15),k=n(x),A="",C=(0,x.getPrefix)("user-select"),E=(0,x.browserPrefixToStyle)("user-select",C),S=";"+E+": none;",j=RegExp(";?"+E+": none;")},function(e,exports){"use strict";function t(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function n(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function r(e){return"number"==typeof e&&!isNaN(e)}function i(e){return parseInt(e,10)}function o(e,t,n){if(e[t])return Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findInArray=t,exports.isFunction=n,exports.isNum=r,exports.int=i,exports.dontSetMe=o},function(e,exports){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<o.length;r++)if(n(e,o[r])in t)return o[r];return""}function n(e,t){return t?""+t+i(e):e}function r(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function i(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPrefix=t,exports.browserPrefixToKey=n,exports.browserPrefixToStyle=r;var o=["Moz","Webkit","O","ms"];exports.default=t()},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:u(r);var i=h.default.findDOMNode(e);if("string"==typeof r){var o=i.ownerDocument,s=o.defaultView,a=void 0;if("parent"===r)a=i.parentNode;else if(a=o.querySelector(r),!a)throw Error('Bounds selector "'+r+'" could not find an element.');var l=s.getComputedStyle(i),c=s.getComputedStyle(a);r={left:-i.offsetLeft+(0,d.int)(c.paddingLeft)+(0,d.int)(l.marginLeft),top:-i.offsetTop+(0,d.int)(c.paddingTop)+(0,d.int)(l.marginTop),right:(0,f.innerWidth)(a)-(0,f.outerWidth)(i)-i.offsetLeft+(0,d.int)(c.paddingRight)-(0,d.int)(l.marginRight),bottom:(0,f.innerHeight)(a)-(0,f.outerHeight)(i)-i.offsetTop+(0,d.int)(c.paddingBottom)-(0,d.int)(l.marginBottom)}}return(0,d.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,d.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,d.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,d.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function i(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function o(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"both"===e.props.axis||"y"===e.props.axis}function a(e,t,n){var r="number"==typeof t?(0,f.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=h.default.findDOMNode(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,f.offsetXYFromParent)(r||e,o)}function l(e,t,n){var r=e.state,i=!(0,d.isNum)(r.lastX);return i?{node:h.default.findDOMNode(e),deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:h.default.findDOMNode(e),deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function c(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function u(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBoundPosition=r,exports.snapToGrid=i,exports.canDragX=o,exports.canDragY=s,exports.getControlPosition=a,exports.createCoreData=l,exports.createDraggableData=c;var d=t(14),p=t(11),h=n(p),f=t(13)},function(e,exports,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=t(2),c=n(l),u=t(3),d=n(u),p=t(11),h=n(p),f=t(13),m=t(16),_=t(14),g=t(19),v=n(g),y={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},b=y.mouse,w=function(e){function t(){var e,n,o,a;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},o.handleDragStart=function(e){if(o.props.onMouseDown(e),!o.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=h.default.findDOMNode(o),n=t.ownerDocument;if(!(o.props.disabled||!(e.target instanceof n.defaultView.Node)||o.props.handle&&!(0,f.matchesSelectorAndParentsTo)(e.target,o.props.handle,t)||o.props.cancel&&(0,f.matchesSelectorAndParentsTo)(e.target,o.props.cancel,t))){var r=(0,f.getTouchIdentifier)(e);o.setState({touchIdentifier:r});var i=(0,m.getControlPosition)(e,r,o);if(null!=i){var s=i.x,a=i.y,l=(0,m.createCoreData)(o,s,a);(0,v.default)("DraggableCore: handleDragStart: %j",l),(0,v.default)("calling",o.props.onStart);var c=o.props.onStart(e,l);c!==!1&&(o.props.enableUserSelectHack&&(0,f.addUserSelectStyles)(n.body),o.setState({dragging:!0,lastX:s,lastY:a}),(0,f.addEvent)(n,b.move,o.handleDrag),(0,f.addEvent)(n,b.stop,o.handleDragStop))}}},o.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,m.getControlPosition)(e,o.state.touchIdentifier,o);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(o.props.grid)){var i=n-o.state.lastX,a=r-o.state.lastY,l=(0,m.snapToGrid)(o.props.grid,i,a),c=s(l,2);if(i=c[0],a=c[1],!i&&!a)return;n=o.state.lastX+i,r=o.state.lastY+a}var u=(0,m.createCoreData)(o,n,r);(0,v.default)("DraggableCore: handleDrag: %j",u);var d=o.props.onDrag(e,u);if(d!==!1)o.setState({lastX:n,lastY:r});else try{o.handleDragStop(new MouseEvent("mouseup"))}catch(e){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.handleDragStop(p)}}},o.handleDragStop=function(e){if(o.state.dragging){var t=(0,m.getControlPosition)(e,o.state.touchIdentifier,o);if(null!=t){var n=t.x,r=t.y,i=(0,m.createCoreData)(o,n,r),s=h.default.findDOMNode(o),a=s.ownerDocument;o.props.enableUserSelectHack&&(0,f.removeUserSelectStyles)(a.body),(0,v.default)("DraggableCore: handleDragStop: %j",i),o.setState({dragging:!1,lastX:NaN,lastY:NaN}),o.props.onStop(e,i),(0,v.default)("DraggableCore: Removing handlers"),(0,f.removeEvent)(a,b.move,o.handleDrag),(0,f.removeEvent)(a,b.stop,o.handleDragStop)}}},o.onMouseDown=function(e){return b=y.mouse,o.handleDragStart(e)},o.onMouseUp=function(e){return b=y.mouse,o.handleDragStop(e)},o.onTouchStart=function(e){return b=y.touch,o.handleDragStart(e)},o.onTouchEnd=function(e){return b=y.touch,o.handleDragStop(e)},a=n,i(o,a)}return o(t,e),a(t,[{key:"componentWillUnmount",value:function(){var e=h.default.findDOMNode(this),t=e.ownerDocument;(0,f.removeEvent)(t,y.mouse.move,this.handleDrag),(0,f.removeEvent)(t,y.touch.move,this.handleDrag),(0,f.removeEvent)(t,y.mouse.stop,this.handleDragStop),(0,f.removeEvent)(t,y.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,f.removeUserSelectStyles)(t.body)}},{key:"render",value:function(){return c.default.cloneElement(c.default.Children.only(this.props.children),{style:(0,f.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(c.default.Component);w.displayName="DraggableCore",w.propTypes={allowAnyClick:d.default.bool,disabled:d.default.bool,enableUserSelectHack:d.default.bool,offsetParent:function(t,n){if(e.browser&&t[n]&&1!==t[n].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:d.default.arrayOf(d.default.number),handle:d.default.string,cancel:d.default.string,onStart:d.default.func,onDrag:d.default.func,onStop:d.default.func,onMouseDown:d.default.func,className:_.dontSetMe,style:_.dontSetMe,transform:_.dontSetMe},w.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},exports.default=w}).call(exports,t(18))},function(e,exports){function t(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function o(){f&&p&&(f=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!f){var e=r(o);f=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,f=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var c,u,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var p,h=[],f=!1,m=-1;d.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||f||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(e){throw Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,exports,t){"use strict";function n(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n}])})},function(e,exports,t){var n=t(1),r=n.DOM,i=t(1244),o=n.createFactory(i),s=t(1246),a=n.createFactory(s),l=t(1242),c=t(847),u=t(1245),d=t(849);e.exports=n.createClass({propTypes:{data:n.PropTypes.any.isRequired,search:n.PropTypes.oneOfType([n.PropTypes.func,n.PropTypes.bool]),onClick:n.PropTypes.func,validateQuery:n.PropTypes.func,isExpanded:n.PropTypes.func,filterOptions:n.PropTypes.object,
query:n.PropTypes.string},getDefaultProps:function(){return{data:null,search:a,className:"",id:"json-"+Date.now(),onClick:d,filterOptions:{},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1}}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=""!==t.query&&e.validateQuery(t.query),i=n?t.filterer(t.query):e.data,s=n&&c(i);return r.div({className:"json-inspector "+e.className},this.renderToolbar(),s?r.div({className:"json-inspector__not-found"},"Nothing found"):o({data:i,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel}))},renderToolbar:function(){var e=this.props.search;if(e)return r.div({className:"json-inspector__toolbar"},e({onChange:this.search,data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t="string"==typeof e.query&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:l(e,t)})},getOriginal:function(e){return u(this.props.data,e)}})},function(e,exports,t){function n(e,t,c){return s(e).reduce(function(s,u){var d,p=e[u];return a(p)?(r(t,u,c)||r(t,p,c))&&(s[u]=p):r(t,u,c)?s[u]=p:(d=n(p,t,c),l(d)||o(s,i(u,d))),s},{})}function r(e,t,n){if(t){var r=t+"",i=e;return n.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),r.indexOf(i)!==-1}}function i(e,t){var n={};return n[e]=t,n}var o=t(25),s=Object.keys,a=t(848),l=t(847);e.exports=function(e,t){t||(t={});var r={};return function(i){var o;if(!r[i])for(var s=i.length-1;s>0;s-=1)if(o=i.substr(0,s),r[o]){r[i]=n(r[o],i,t);break}return r[i]||(r[i]=n(e,i,t)),r[i]}}},function(e,exports,t){var n=t(1),r=n.DOM.span;e.exports=n.createClass({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return r(null,e.string);var n=e.highlight.source.length,i=e.string.substr(t,n);return r(null,e.string.split(e.highlight).map(function(e,t){return r({key:t},t>0?r({className:"json-inspector__hl"},i):null,e)}))}})},function(e,exports,t){function n(e){return e+(1===e?" item":" items")}function r(e,t){if(u(t)){var n=a(t+"");return e+":"+n}return e+"["+c(t)+"]"}function i(e,t){return e.indexOf(t)!==-1}var o=t(1),s=o.DOM,a=t(1216),l=t(1247),c=t(729),u=t(848),d=t(1243),p=o.createFactory(d),h=".root.",f=o.createClass({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+l(),t=this.props,n={path:this.keypath(),key:""+t.label,value:t.data},r=this._onClick.bind(this,n);return s.div({className:this.getClassName(),id:"leaf-"+this._rootPath()},s.input({className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),s.label({className:"json-inspector__line",htmlFor:e,onClick:r},s.div({className:"json-inspector__flatpath"},n.path),s.span({className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=c(e);switch(t){case"Array":return s.span({className:"json-inspector__value json-inspector__value_helper"},"[] "+n(e.length));case"Object":return s.span({className:"json-inspector__value json-inspector__value_helper"},"{} "+n(Object.keys(e).length));default:return s.span({className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(e+""),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!u(n)?Object.keys(n).map(function(i){var o=n[i];return m({data:o,label:i,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:this.state.original?null:e.getOriginal,key:r(i,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel})},this):null},renderShowOriginalButton:function(){var e=this.props;return u(e.data)||this.state.original||!e.getOriginal||!e.query||i(this.keypath(),e.query)?null:s.span({className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"==typeof this.props.interactiveLabel?this.props.interactiveLabel({value:e+"",originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!i(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(h.length)},data:function(){return this.state.original||this.props.data},format:function(e){return p({string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),u(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!i(t,e.query)&&"function"==typeof e.getOriginal:e.isExpanded(t,e.data))}}),m=o.createFactory(f);e.exports=f},function(e,exports,t){function n(e,t){var s=t.split(o),a=s.shift();if(!a)return e;var l=i(e);return"Array"===l&&e[r(a)]?n(e[r(a)],s.join(o)):"Object"===l&&e[a]?n(e[a],s.join(o)):void 0}function r(e){return parseInt(e,10)}var i=t(729),o=".";e.exports=n},function(e,exports,t){var n=(t(1080),t(1)),r=n.DOM.input,i=t(849);e.exports=n.createClass({getDefaultProps:function(){return{onChange:i}},render:function(){return r({className:"json-inspector__search",type:"search",placeholder:"Search",value:this.props.query,onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}})},function(e,exports){var t=Math.ceil(10*Math.random());e.exports=function(){return++t}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotifyResize=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=t(1),c=n(l),u=t(1235),d=n(u),p=t(1269),h=n(p),f={position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1,overflow:"hidden",display:"block",pointerEvents:"none",opacity:0,direction:"ltr",textAlign:"start"},m={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"auto"},_={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"auto"},g={position:"absolute",top:0,left:0,width:"200%",height:"200%"},v=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return(0,d.default)(n),n.state={notifyResizeWidth:0,notifyResizeHeight:0,expandToolWidth:0,expandToolHeight:0,contractToolWidth:0,contractToolHeight:0},n}return o(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return"function"==typeof e.shouldComponentUpdate?e.shouldComponentUpdate(e,this.props,t,this.state):!(0,h.default)(t,this.state)||!(0,h.default)(e,this.props)}},{key:"componentDidMount",value:function(){if("function"==typeof this.props.onMount&&this.props.onMount(this),this.resetResizeTool(),this.props.notifyOnMount){var e=this.notifyResizeSize,t=e.notifyResizeWidth,n=e.notifyResizeHeight;this.onResize({width:t,height:n})}}},{key:"render",value:function(){return c.default.createElement("div",{ref:"notifyResize",style:f,onScroll:this.checkResize},this.renderExpandTool(),this.renderContractTool())}},{key:"renderExpandTool",value:function(){return c.default.createElement("div",{ref:"expandTool",className:"expandTool",style:m},c.default.createElement("div",{ref:"expandToolInner",className:"expandToolInner",style:{position:"absolute",top:0,left:0,width:this.state.expandToolWidth,height:this.state.expandToolHeight}}))}},{key:"renderContractTool",value:function(){return c.default.createElement("div",{ref:"contractTool",className:"contractTool",style:_,onScroll:this.checkResize},c.default.createElement("div",{ref:"contractInner",style:g}))}},{key:"resetResizeTool",value:function(){this.setDimensions(),this.scrollToBottomExpandTool()}},{key:"setDimensions",value:function(){var e=this.notifyResizeSize=this.getDimensions(),t=e.notifyResizeWidth,n=e.notifyResizeHeight;this.setState({notifyResizeWidth:t,notifyResizeHeight:n,expandToolWidth:t+1,expandToolHeight:n+1})}},{key:"getDimensions",value:function(){var e=this.refs.notifyResize,t=e.parentElement||e,n=void 0;return n="function"==typeof this.props.measureSize?this.props.measureSize(t,e):{width:t.offsetWidth,height:t.offsetHeight},{notifyResizeWidth:n.width,notifyResizeHeight:n.height}}},{key:"scrollToBottomExpandTool",value:function(){var e=this;this.refs.notifyResize&&setTimeout(function(){var t=e.refs.expandTool;t&&(t.scrollTop=t.scrollHeight,t.scrollLeft=t.scrollWidth);var n=e.refs.contractTool;n&&(n.scrollTop=n.scrollHeight,n.scrollLeft=n.scrollWidth)},0)}},{key:"checkResize",value:function(){var e=this.getDimensions(),t=e.notifyResizeWidth,n=e.notifyResizeHeight;t===this.state.notifyResizeWidth&&n===this.state.notifyResizeHeight||(this.onResize({width:t,height:n}),this.resetResizeTool())}},{key:"onResize",value:function(e){var t=e.width,n=e.height;"function"==typeof this.props.onResize&&this.props.onResize({width:t,height:n})}}]),t}(c.default.Component);v.propTypes={onResize:l.PropTypes.func,onMount:l.PropTypes.func,notifyOnMount:l.PropTypes.bool};var y=function(e){return function(t){function n(e){r(this,n);var t=i(this,Object.getPrototypeOf(n).call(this,e));return(0,d.default)(t),t}return o(n,t),a(n,[{key:"componentDidMount",value:function(){this.component=this.refs.component;this.notifyResize||console.warn("For notifyResize to work you must render resizeTool from {props.resizeTool}")}},{key:"onNotifyResizeMount",value:function(e){this.notifyResize=e}},{key:"render",value:function(){var t=c.default.createElement(v,{onResize:this.onResize,onMount:this.onNotifyResizeMount,notifyOnMount:this.props.notifyOnMount});return c.default.createElement(e,s({ref:"component"},this.props,{resizeTool:t}))}},{key:"onResize",value:function(){if("function"==typeof this.props.onResize){var e;(e=this.props).onResize.apply(e,arguments)}if("function"==typeof this.refs.component.onResize){var t;(t=this.refs.component).onResize.apply(t,arguments)}}}]),n}(c.default.Component)};exports.default=y,exports.NotifyResize=v},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(1250),i=n(r);exports.default=i.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=t(1),u=n(c),d=t(11),p=n(d),h=20,f={root:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},sidebar:{zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform .3s ease-out",WebkitTransition:"-webkit-transform .3s ease-out",willChange:"transform",overflowY:"auto"},content:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"scroll",WebkitOverflowScrolling:"touch",transition:"left .3s ease-out, right .3s ease-out"},overlay:{zIndex:1,position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0,visibility:"hidden",transition:"opacity .3s ease-out, visibility .3s ease-out",backgroundColor:"rgba(0,0,0,.3)"},dragHandle:{zIndex:1,position:"fixed",top:0,bottom:0}},m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sidebarWidth:e.defaultSidebarWidth,touchIdentifier:null,touchStartX:null,touchStartY:null,touchCurrentX:null,touchCurrentY:null,dragSupported:!1},n.overlayClicked=n.overlayClicked.bind(n),n.onTouchStart=n.onTouchStart.bind(n),n.onTouchMove=n.onTouchMove.bind(n),n.onTouchEnd=n.onTouchEnd.bind(n),n.onScroll=n.onScroll.bind(n),n.saveSidebarRef=n.saveSidebarRef.bind(n),n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.setState({dragSupported:"object"===("undefined"==typeof window?"undefined":a(window))&&"ontouchstart"in window}),this.saveSidebarWidth()}},{key:"componentDidUpdate",value:function(){this.isTouching()||this.saveSidebarWidth()}},{key:"onTouchStart",value:function(e){if(!this.isTouching()){var t=e.targetTouches[0];this.setState({touchIdentifier:t.identifier,touchStartX:t.clientX,touchStartY:t.clientY,touchCurrentX:t.clientX,touchCurrentY:t.clientY})}}},{key:"onTouchMove",value:function(e){if(this.isTouching())for(var t=0;t<e.targetTouches.length;t++)if(e.targetTouches[t].identifier===this.state.touchIdentifier){this.setState({touchCurrentX:e.targetTouches[t].clientX,touchCurrentY:e.targetTouches[t].clientY});break}}},{key:"onTouchEnd",value:function(){if(this.isTouching()){var e=this.touchSidebarWidth();(this.props.open&&e<this.state.sidebarWidth-this.props.dragToggleDistance||!this.props.open&&e>this.props.dragToggleDistance)&&this.props.onSetOpen(!this.props.open),this.setState({touchIdentifier:null,touchStartX:null,touchStartY:null,touchCurrentX:null,touchCurrentY:null})}}},{key:"onScroll",value:function(){this.isTouching()&&this.inCancelDistanceOnScroll()&&this.setState({touchIdentifier:null,touchStartX:null,touchStartY:null,touchCurrentX:null,touchCurrentY:null})}},{key:"inCancelDistanceOnScroll",value:function(){var e=void 0;return e=this.props.pullRight?Math.abs(this.state.touchCurrentX-this.state.touchStartX)<h:Math.abs(this.state.touchStartX-this.state.touchCurrentX)<h}},{key:"isTouching",value:function(){return null!==this.state.touchIdentifier}},{key:"overlayClicked",value:function(){this.props.open&&this.props.onSetOpen(!1)}},{key:"saveSidebarWidth",value:function(){var e=this.sidebar.offsetWidth;e!==this.state.sidebarWidth&&this.setState({sidebarWidth:e})}},{key:"saveSidebarRef",value:function(e){this.sidebar=e}},{key:"touchSidebarWidth",value:function(){return this.props.pullRight?this.props.open&&window.innerWidth-this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth+this.state.touchStartX-this.state.touchCurrentX:this.state.sidebarWidth:Math.min(window.innerWidth-this.state.touchCurrentX,this.state.sidebarWidth):this.props.open&&this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth:this.state.sidebarWidth-this.state.touchStartX+this.state.touchCurrentX:Math.min(this.state.touchCurrentX,this.state.sidebarWidth)}},{key:"render",value:function(){var e=s({},f.sidebar,this.props.styles.sidebar),t=s({},f.content,this.props.styles.content),n=s({},f.overlay,this.props.styles.overlay),r=this.state.dragSupported&&this.props.touch,i=this.isTouching(),o={className:this.props.rootClassName,style:s({},f.root,this.props.styles.root),role:"navigation"},a=void 0;if(this.props.pullRight?(e.right=0,e.transform="translateX(100%)",e.WebkitTransform="translateX(100%)",this.props.shadow&&(e.boxShadow="-2px 2px 4px rgba(0, 0, 0, 0.15)")):(e.left=0,e.transform="translateX(-100%)",e.WebkitTransform="translateX(-100%)",this.props.shadow&&(e.boxShadow="2px 2px 4px rgba(0, 0, 0, 0.15)")),i){var l=this.touchSidebarWidth()/this.state.sidebarWidth;this.props.pullRight?(e.transform="translateX("+100*(1-l)+"%)",e.WebkitTransform="translateX("+100*(1-l)+"%)"):(e.transform="translateX(-"+100*(1-l)+"%)",e.WebkitTransform="translateX(-"+100*(1-l)+"%)"),n.opacity=l,n.visibility="visible"}else this.props.docked?(0!==this.state.sidebarWidth&&(e.transform="translateX(0%)",e.WebkitTransform="translateX(0%)"),this.props.pullRight?t.right=this.state.sidebarWidth+"px":t.left=this.state.sidebarWidth+"px"):this.props.open&&(e.transform="translateX(0%)",e.WebkitTransform="translateX(0%)",n.opacity=1,n.visibility="visible");if(!i&&this.props.transitions||(e.transition="none",e.WebkitTransition="none",t.transition="none",n.transition="none"),r)if(this.props.open)o.onTouchStart=this.onTouchStart,o.onTouchMove=this.onTouchMove,o.onTouchEnd=this.onTouchEnd,o.onTouchCancel=this.onTouchEnd,o.onScroll=this.onScroll;else{var c=s({},f.dragHandle,this.props.styles.dragHandle);c.width=this.props.touchHandleWidth,this.props.pullRight?c.right=0:c.left=0,a=u.default.createElement("div",{style:c,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd})}return u.default.createElement("div",o,u.default.createElement("div",{className:this.props.sidebarClassName,style:e,ref:this.saveSidebarRef},this.props.sidebar),u.default.createElement("div",{className:this.props.overlayClassName,style:n,role:"presentation",tabIndex:"0",onClick:this.overlayClicked}),u.default.createElement("div",{className:this.props.contentClassName,style:t},a,this.props.children))}}]),t}(c.Component);m.propTypes={children:p.default.node.isRequired,styles:p.default.shape({root:p.default.object,sidebar:p.default.object,content:p.default.object,overlay:p.default.object,dragHandle:p.default.object}),rootClassName:p.default.string,sidebarClassName:p.default.string,contentClassName:p.default.string,overlayClassName:p.default.string,sidebar:p.default.node.isRequired,docked:p.default.bool,open:p.default.bool,transitions:p.default.bool,touch:p.default.bool,touchHandleWidth:p.default.number,pullRight:p.default.bool,shadow:p.default.bool,dragToggleDistance:p.default.number,onSetOpen:p.default.func,defaultSidebarWidth:p.default.number},m.defaultProps={docked:!1,open:!1,transitions:!0,touch:!0,touchHandleWidth:20,pullRight:!1,shadow:!0,dragToggleDistance:30,onSetOpen:function(){},styles:{},defaultSidebarWidth:0},exports.default=m},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t(1202),s=n(o),a=t(1208),l=n(a),c=function(){function e(){r(this,e),this.refs={}}return i(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);n!==-1&&this.refs[e].splice(n,1)}},{key:"getActive",value:function(){var e=this;return(0,s.default)(this.refs[this.active.collection],function(t){var n=t.node;return n.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.active.collection:arguments[0];return(0,l.default)(this.refs[e],function(e){var t=e.node;return t.sortableInfo.index})}}]),e}();exports.default=c},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t,n,a=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(e){i(this,n);var t=o(this,Object.getPrototypeOf(n).call(this));return t.state={},t.handleStart=function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2===e.button||i(e))return!1;t._touched=!0,t._pos={x:e.clientX,y:e.clientY};var o=(0,g.closest)(e.target,function(e){return null!=e.sortableInfo});if(o&&!t.state.sorting&&o.sortableInfo){var s=t.props.useDragHandle,a=o.sortableInfo,l=a.index,c=a.collection;if(s&&!(0,g.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:c},r||(t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.handleMove=function(e){var n=t.props.distance;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.clientX,y:t._pos.y-e.clientY};var r=Math.abs(t._delta.x)+Math.abs(t._delta.y);n?r>=n&&t.handlePress(e):t.cancel()}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var i=t.props,o=i.axis,s=i.onSortStart,a=i.helperClass,l=i.hideSortableGhost,c=i.useWindowAsScrollContainer,u=n.node,d=n.collection,p=u.sortableInfo.index,h=(0,g.getElementMargin)(u),f=t.container.getBoundingClientRect();t.node=u,t.margin=h,t.width=u.offsetWidth,t.height=u.offsetHeight,t.dimension="x"==o?t.width:t.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=u.getBoundingClientRect(),t.index=p,t.newIndex=p;var m=t.edge="x"==o?"Left":"Top";if(t.offsetEdge=t.getEdgeOffset(m,u),t.initialOffset=t.getOffset(e),t.initialScroll=t.scrollContainer["scroll"+m],t.helper=t.document.body.appendChild(u.cloneNode(!0)),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-h.top+"px",t.helper.style.left=t.boundingClientRect.left-h.left+"px",t.helper.style.width=t.width+"px",l&&(t.sortableGhost=u,u.style.visibility="hidden"),"x"==o?(t.minTranslate=(c?0:f.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate=(c?t.contentWindow.innerWidth:f.left+f.width)-t.boundingClientRect.left-t.width/2):(t.minTranslate=(c?0:f.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate=(c?t.contentWindow.innerHeight:f.top+f.height)-t.boundingClientRect.top-t.height/2),a){var _;(_=t.helper.classList).add.apply(_,r(a.split(" ")))}t.listenerNode=e.touches?u:t.contentWindow,g.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),g.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:p}),s&&s({node:u,index:p,collection:d},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager.active.collection;t.listenerNode&&(g.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),g.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(t.sortableGhost.style.visibility="");for(var s=t.manager.refs[o],a=0,l=s.length;a<l;a++){var c=s[a],u=c.node;c.edgeOffset=null,u.style[g.vendorPrefix+"Transform"]="",u.style[g.vendorPrefix+"TransitionDuration"]=""}"function"==typeof i&&i({oldIndex:t.index,newIndex:t.newIndex,collection:o},e),clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),t._touched=!1},t.autoscroll=function(){var e=t.translate,n=void 0,r=1,i=10;e>=t.maxTranslate-t.dimension/2?(n=1,r=i*Math.abs((t.maxTranslate-t.dimension/2-e)/t.dimension)):e<=t.minTranslate+t.dimension/2&&(n=-1,r=i*Math.abs((e-t.dimension/2-t.minTranslate)/t.dimension)),t.autoscrollInterval&&(clearTimeout(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),n&&(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e=1*r*n;t.scrollContainer["scroll"+t.edge]+=e,t.translate+=e,t.animateNodes()},5))},t.manager=new _.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,y.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t}return s(n,t),u(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.contentWindow,r=t.getContainer;this.container="function"==typeof r?r(this.getWrappedInstance()):f.default.findDOMNode(this),this.document=this.container.ownerDocument||document,this.scrollContainer=this.props.useWindowAsScrollContainer?this.document.body:this.container,this.contentWindow="function"==typeof n?n():n;var i=function(t){g.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})};for(var o in this.events)i(o)}},{key:"componentWillUnmount",value:function(){var e=this,t=function(t){g.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})};for(var n in this.events)t(n)}},{key:"getEdgeOffset",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t)return t.parentNode!==this.container?this.getEdgeOffset(e,t.parentNode,n+t["offset"+e]):t["offset"+e]+n}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].clientX:e.clientX,y:e.touches?e.touches[0].clientY:e.clientY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,y.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=c(t,2),r=n[0],i=n[1];return[this.getLockPixelOffset(r),this.getLockPixelOffset(i)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n="px";if("string"==typeof e){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,y.default)(null!==r,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=parseFloat(e),n=r[1]}return(0,y.default)(isFinite(t),"lockOffset value should be a finite. Given %s",e),"%"===n&&(t=t*this.dimension/100),t}},{key:"updatePosition",value:function(e){var t=this.props,n=t.axis,r=t.lockAxis,i=t.lockToContainerEdges,o=this.getOffset(e),s={x:o.x-this.initialOffset.x,y:o.y-this.initialOffset.y};if(this.translate=s[n],i){var a=this.getLockPixelOffsets(),l=c(a,2),u=l[0],d=l[1],p=this.dimension/2-u,h=this.dimension/2-d;s[n]=(0,g.limit)(this.minTranslate+p,this.maxTranslate-h,s[n])}switch(r){case"x":s.y=0;break;case"y":s.x=0}this.helper.style[g.vendorPrefix+"Transform"]="translate3d("+s.x+"px,"+s.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.axis,n=e.transitionDuration,r=e.hideSortableGhost,i=this.manager.getOrderedRefs(),o=this.scrollContainer["scroll"+this.edge]-this.initialScroll,s=this.offsetEdge+this.translate+o;this.newIndex=null;for(var a=0,l=i.length;a<l;a++){var c=i[a],u=c.node,d=c.edgeOffset,p=u.sortableInfo.index,h="x"==t?u.offsetWidth:u.offsetHeight,f=this.dimension>h?h/2:this.dimension/2,m=0,_=0,v=0;null==d&&(i[a].edgeOffset=d=this.getEdgeOffset(this.edge,u)),p!==this.index?(n&&(u.style[g.vendorPrefix+"TransitionDuration"]=n+"ms"),p>this.index&&s+f>=d?(m=-(this.dimension+this.marginOffset[t]),this.newIndex=p):p<this.index&&s<=d+f&&(m=this.dimension+this.marginOffset[t],null==this.newIndex&&(this.newIndex=p)),"x"==t?_=m:v=m,u.style[g.vendorPrefix+"Transform"]="translate3d("+_+"px,"+v+"px,0)"):r&&(this.sortableGhost=u,u.style.visibility="hidden")}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,y.default)(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=a.withRef?"wrappedInstance":null;return p.default.createElement(e,l({ref:t},this.props,this.state))}}]),n}(d.Component),t.displayName=e.displayName?"SortableList("+e.displayName+")":"SortableList",t.WrappedComponent=e,t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,contentWindow:"undefined"!=typeof window?window:null,shouldCancelStart:function(e){if(["input","textarea","select","option"].indexOf(e.target.tagName.toLowerCase())!==-1)return!0},lockToContainerEdges:!1,lockOffset:"50%"},t.propTypes={axis:d.PropTypes.oneOf(["x","y"]),distance:d.PropTypes.number,lockAxis:d.PropTypes.string,helperClass:d.PropTypes.string,transitionDuration:d.PropTypes.number,contentWindow:d.PropTypes.any,onSortStart:d.PropTypes.func,onSortMove:d.PropTypes.func,onSortEnd:d.PropTypes.func,shouldCancelStart:d.PropTypes.func,pressDelay:d.PropTypes.number,useDragHandle:d.PropTypes.bool,useWindowAsScrollContainer:d.PropTypes.bool,hideSortableGhost:d.PropTypes.bool,lockToContainerEdges:d.PropTypes.bool,lockOffset:d.PropTypes.oneOfType([d.PropTypes.number,d.PropTypes.string,d.PropTypes.arrayOf(d.PropTypes.oneOfType([d.PropTypes.number,d.PropTypes.string]))]),getContainer:d.PropTypes.func},t.childContextTypes={manager:d.PropTypes.object.isRequired},n}Object.defineProperty(exports,"__esModule",{
value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();exports.default=a;var d=t(1),p=n(d),h=t(29),f=n(h),m=t(1251),_=n(m),g=t(851),v=t(58),y=n(v)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,s=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(){return r(this,n),i(this,Object.getPrototypeOf(n).apply(this,arguments))}return o(n,t),l(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index;n||this.setDraggable(t,r)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.index;if(t!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var n=e.collection,r=e.disabled,i=e.index;r?this.removeDraggable(n):this.setDraggable(n,i)}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,n=e.disabled;n||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,d.findDOMNode)(this);n.sortableInfo={index:t,collection:e},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,h.default)(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=s.withRef?"wrappedInstance":null;return u.default.createElement(e,a({ref:t},this.props))}}]),n}(c.Component),t.displayName=e.displayName?"SortableElement("+e.displayName+")":"SortableElement",t.WrappedComponent=e,t.contextTypes={manager:c.PropTypes.object.isRequired},t.propTypes={index:c.PropTypes.number.isRequired,collection:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string]),disabled:c.PropTypes.bool},t.defaultProps={collection:0},n}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();exports.default=s;var c=t(1),u=n(c),d=t(29),p=t(58),h=n(p)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,s=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(){return r(this,n),i(this,Object.getPrototypeOf(n).apply(this,arguments))}return o(n,t),l(n,[{key:"componentDidMount",value:function(){var e=(0,d.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,h.default)(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=s.withRef?"wrappedInstance":null;return u.default.createElement(e,a({ref:t},this.props))}}]),n}(c.Component),t.displayName=e.displayName?"SortableHandle("+e.displayName+")":"SortableHandle",t.WrappedComponent=e,n}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();exports.default=s;var c=t(1),u=n(c),d=t(29),p=t(58),h=n(p)},function(e,exports,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var i=t(193),o=r(i),s=t(46),a=n(s);exports.default={setAnimate:function(e){o.default.animate=e},setLocalizers:function(e){var t=e.date,n=e.number;t&&this.setDateLocalizer(t),n&&this.setNumberLocalizer(n)},setDateLocalizer:a.setDate,setNumberLocalizer:a.setNumber},e.exports=exports.default},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e=new Date(e),e.setFullYear(e.getFullYear()+10),e.setMilliseconds(e.getMilliseconds()-1),e}function i(e){return e=new Date(e),e.setFullYear(e.getFullYear()+100),e.setMilliseconds(e.getMilliseconds()-1),e}function o(e){var t=e.locale&&!e.cultures?s(e):a(e);return u.default.setLocalizers(t),t}function s(e){var t=function(t){return t?e(t):e},n={formats:{date:{date:"short"},time:{time:"short"},default:{datetime:"medium"},header:"MMMM yyyy",footer:{date:"full"},weekday:"eeeeee",dayOfMonth:"dd",month:"MMM",year:"yyyy",decade:function(e,t,n){return n.format(e,n.formats.year,t)+" - "+n.format(r(e),n.formats.year,t)},century:function(e,t,n){return n.format(e,n.formats.year,t)+" - "+n.format(i(e),n.formats.year,t)}},propType:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.object,l.PropTypes.func]),firstOfWeek:function(e){var n=new Date,r=Math.max(parseInt(t(e).formatDate(n,{raw:"e"}),10)-1,0);return Math.abs(n.getDay()-r)},parse:function(e,n,r){return n="string"==typeof n?{raw:n}:n,t(r).parseDate(e,n)},format:function(e,n,r){return n="string"==typeof n?{raw:n}:n,t(r).formatDate(e,n)}},o={formats:{default:{maximumFractionDigits:0}},propType:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),parse:function(e,n){return t(n).parseNumber(e)},format:function(e,n,r){return null==e?e:n&&n.currency?t(r).formatCurrency(e,n.currency,n):t(r).formatNumber(e,n)},decimalChar:function(e,t){var n=this.format(1.1,{raw:"0.0"},t);return n[n.length-2]||"."},precision:function(e){return e&&null!=e.maximumFractionDigits?e.maximumFractionDigits:null}};return{date:n,number:o}}function a(e){function t(t){return t?e.findClosestCulture(t):e.culture()}function n(e){return e=t(e),e&&e.calendar.firstDay||0}function o(e){var n=t(arguments[1]),r=n.name,i=function(){return n.calendar.days.namesShort.slice()},o=a[r]||(a[r]=i());return o[e.getDay()]}function s(e,n){var r=t(n),i=r.numberFormat;return"string"==typeof e&&(e.indexOf("p")!==-1&&(i=i.percent),e.indexOf("c")!==-1&&(i=i.curency)),i}var a=Object.create(null),l={formats:{date:"d",time:"t",default:"f",header:"MMMM yyyy",footer:"D",weekday:o,dayOfMonth:"dd",month:"MMM",year:"yyyy",decade:function(e,t,n){return n.format(e,n.formats.year,t)+" - "+n.format(r(e),n.formats.year,t)},century:function(e,t,n){return n.format(e,n.formats.year,t)+" - "+n.format(i(e),n.formats.year,t)}},firstOfWeek:n,parse:function(t,n,r){return e.parseDate(t,n,r)},format:function(t,n,r){return e.format(t,n,r)}},c={formats:{default:"D"},parse:function(t,n){return e.parseFloat(t,10,n)},format:function(t,n,r){return e.format(t,n,r)},decimalChar:function(e,t){var n=s(e,t);return n["."]||"."},precision:function(e,t){var n=s(e,t);return"string"==typeof e&&e.length>1?parseFloat(e.substr(1)):n?n.decimals:null}};return{date:l,number:c}}exports.__esModule=!0,exports.default=o;var l=t(1),c=t(1255),u=n(c);e.exports=exports.default},function(e,exports){"use strict";e.exports=/[\]\/\\$()*+.?[^{|}]/g},function(e,exports,t){"use strict";function n(e,t,n){if("function"==typeof t||n){n||(n=t,t=null),t=c({},r,t);var s,a,u=t.highlight,d=0;try{s=o.lex(e,t)}catch(e){return n(e)}a=s.length;var p=function(e){if(e)return t.highlight=u,n(e);var r;try{r=i.parse(s,t)}catch(t){e=t}return t.highlight=u,e?n(e):n(null,r)};if(!u||u.length<3)return p();if(delete t.highlight,!a)return p();for(;d<a;d+=1){var h=s[d];return"code"!==h.type?(a-=1)||p():u(h.text,h.lang,function(e,t){return e?p(e):null===t||t===h.text?(a-=1)||p():(h.text=t,h.escaped=!0,void((a-=1)||p()))})}}else try{return t&&(t=c({},r,t)),i.parse(o.lex(e,t),t)}catch(e){if(e.message+="\n  [remarked]: please report this to https://github.com/jonschlinkert/remarked.",(t||r).silent)return"<p>An error occured:</p><pre>"+l._escape(e.message+"",!0)+"</pre>";throw e}}var r=t(328),i=t(1262),o=t(1261),s=t(852),a=t(329),l=t(300),c=t(853);n.options=n.setOptions=function(e){return c(r,e),this},n.defaults=r,n.Parser=i,n.parser=i.parse,n.Renderer=a,n.Lexer=o,n.lexer=o.lex,n.InlineLexer=s,n.inlineLexer=s.output,n.parse=n,e.exports=n},function(e,exports,t){"use strict";var n=t(300),r=t(854),i=e.exports={};i.blockquote=/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,i.bullet=/(?:[*+-]|\d+\.)/,i.closed=/<(tag)[\s\S]+?<\/\1>/,i.closing=/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/,i.code=/^( {4}[^\n]+\n*)+/,i.comment=/<!--[\s\S]*?-->/,i.def=/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,i.heading=/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,i.hr=/^( *[-*_]){3,} *(?:\n+|$)/,i.html=/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,i.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,i.lheading=/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,i.list=/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,i.newline=/^\n+/,i.paragraph=/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,i.text=/^[^\n]+/,i.item=r(i.item,"gm")(/bull/g,i.bullet)(),i.list=r(i.list)(/bull/g,i.bullet)("def","\\n+(?="+i.def.source+")")("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")(),i.blockquote=r(i.blockquote)("def",i.def)();var o=["a","abbr","b","bdi","bdo","br","cite","code","data","del","dfn","em","i","img","ins","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr"];i._tag="(?!(?:"+o.join("|")+")\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",i.html=r(i.html)("comment",i.comment)("closed",i.closed)("closing",i.closing)(/tag/g,i._tag)(),i.paragraph=r(i.paragraph)("hr",i.hr)("heading",i.heading)("lheading",i.lheading)("blockquote",i.blockquote)("tag","<"+i._tag)("def",i.def)(),i.fences=n._noop,i.nptable=n._noop,i.table=n._noop,i.normal=n._merge({},i);var s={fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/};s.paragraph=r(i.paragraph)("(?!","(?!"+s.fences.source.replace("\\1","\\2")+"|"+i.list.source.replace("\\1","\\3")+"|")(),i.gfm=n._merge({},i.normal,{fences:s.fences,paragraph:s.paragraph}),i.tables=n._merge({},i.gfm,{nptable:s.nptable,table:s.table})},function(e,exports,t){"use strict";var n=t(300),r=t(854),i=n._merge,o=e.exports={},s=function(e){return o[e].source};o.br=/^ {2,}\n(?!\s*$)/,o.code=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,o.del=n._noop,o.escape=/^\\([\\`*{}\[\]()#+\-.!_><])/,o.autolink=/^<([^ >]+(@|:\/)[^ >]+)>/,o.inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,o.href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,o.link=RegExp("^!?\\[("+s("inside")+")\\]\\("+s("href")+"\\)"),o.reflink=RegExp("^!?\\[("+s("inside")+")\\]\\s*\\[([^\\]]*)\\]"),o.nolink=/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,o.em=/^\b_([\s\S]*?[^_\s])_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,o.strong=/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,o.tag=/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,o.text=/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,o.url=n._noop,o.normal=i({},o),o.pedantic=i({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),o.gfm=i({},o.normal,{escape:r(o.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:r(o.text)("]|","~]|")("|","|https?:\\/\\/|")()}),o.breaks=i({},o.gfm,{br:r(o.br)("{2,}","*")(),text:r(o.gfm.text)("{2,}","*")()})},function(e,exports,t){"use strict";function n(e){this.tokens=[],this.tokens.links={},this._options=e||r,this.rules=i.normal,this._options.gfm&&(this._options.tables?this.rules=i.tables:this.rules=i.gfm)}var r=t(328),i=t(1259);n.rules=i,n.lex=function(e,t){var r=new n(t);return r.lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n?/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,t,n){e=e.replace(/^ +$/gm,"");for(var r,o,s,a,l,c,u,d,p;e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this._options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(t&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},a=0;a<l.align.length;a+=1)/^ *-+: *$/.test(l.align[a])?l.align[a]="right":/^ *:-+: *$/.test(l.align[a])?l.align[a]="center":/^ *:-+ *$/.test(l.align[a])?l.align[a]="left":l.align[a]=null;for(a=0;a<l.cells.length;a+=1)l.cells[a]=l.cells[a].split(/ *\| */);this.tokens.push(l)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,t,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),o=s[2],this.tokens.push({type:"list_start",ordered:o.length>1}),s=s[0].match(this.rules.item),d=!1,c=s.length,a=0;a<c;a+=1){l=s[a],p=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(p-=l.length,l=this._options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(RegExp("^ {1,"+p+"}","gm"),"")),this._options.smartLists&&a!==c-1&&(r=i.bullet.exec(s[a+1])[0],o===r||o.length>1&&r.length>1||(e=s.slice(a+1).join("\n")+e,a=c-1));var h=function(e,t){var n=/\n\n(?!\s*$)/;return t.discountItems&&(n=/(^|\n)(?! )[^\n]+\n\n(?!\s*$)/),n.test(e)};u=d||h(l,this._options),a!==c-1&&(d="\n"===l.charAt(l.length-1),u||(u=d)),this.tokens.push({type:u?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this._options.sanitize?"paragraph":"html",pre:"pre"===s[1]||"script"===s[1]||"style"===s[1],text:s[0]});else if(!n&&t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(t&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},a=0;a<l.align.length;a+=1)/^ *-+: *$/.test(l.align[a])?l.align[a]="right":/^ *:-+: *$/.test(l.align[a])?l.align[a]="center":/^ *:-+ *$/.test(l.align[a])?l.align[a]="left":l.align[a]=null;for(a=0;a<l.cells.length;a+=1)l.cells[a]=l.cells[a].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens},e.exports=n},function(e,exports,t){"use strict";var n=t(328),r=t(329),i=t(852),o=e.exports=function(e){this.tokens=[],this.token=null,this._options=e||n,this._options.renderer=this._options.renderer||new r(this._options),this.renderer=this._options.renderer,this.renderer.options=this._options};o.parse=function(e,t,n){var r=new o(t,n);return r.parse(e)},o.prototype.parse=function(e){this.inline=new i(e.links,this._options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){var e,t;switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var n,r,i,o,s;for(t="",e="",i="",n=0;n<this.token.header.length;n+=1)o={header:!0,align:this.token.align[n]},i+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(t+=this.renderer.tablerow(i),n=0;n<this.token.cells.length;n+=1){for(r=this.token.cells[n],i="",s=0;s<r.length;s+=1)i+=this.renderer.tablecell(this.inline.output(r[s]),{header:!1,align:this.token.align[s]});e+=this.renderer.tablerow(i)}return this.renderer.table(t,e);case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":var a=this.token.ordered;for(e="";"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,a);case"list_item_start":for(e="";"list_item_end"!==this.next().type;)e+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(e);case"loose_item_start":for(e="";"list_item_end"!==this.next().type;)e+=this.tok();return this.renderer.listitem(e);case"html":var l=this.token.pre||this._options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}}},function(e,exports){e.exports="<blockquote>\n<%= quote %></blockquote>\n"},function(e,exports){e.exports='<h<%= level %> id="<%= slugify(raw) %>"><%= text %></h<%= level %>>\n'},function(e,exports,t){e.exports={blockquote:t(1263),heading:t(1264)}},function(e,exports){e.exports=function(e,t){var n=t?/&/g:RegExp("&(?!#?\\w+;)","g");return e.replace(/\\&/,"__amp__").replace(n,"&amp;").replace(/\\</g,"__lt__").replace(/\\>/g,"__gt__").replace(/\\"/g,"__quot__").replace(/\\'/g,"__39__").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/__amp__/g,"\\&").replace(/__lt__/g,"\\<").replace(/__gt__/g,"\\>").replace(/__quot__/g,'"').replace(/__39__/g,"'")}},function(e,exports,t){function n(e){return null==e?"":(e+"").replace(i,"\\$1")}function r(e){return null==e?"\\s":e.source?e.source:"["+n(e)+"]"}var i=t(1257),o=function(e,t){if(null==e)return"";if(!t&&String.prototype.trim)return String.prototype.trim.call(e);t=r(t);var n=RegExp("^"+t+"+|"+t+"+$","g");return(e+"").replace(n,"")},s=function(e){return o(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},a="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",l="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz";e.exports=function(e){if(null==e)return"";var t=RegExp(r(a),"g");return e=(e+"").toLowerCase().replace(t,function(e){var t=a.indexOf(e);return l.charAt(t)||"-"}),e=e.replace(/[^\w\s-]/g,""),s(e)}},function(e,exports){e.exports=function(e){return e.replace(/&([#\w]+);/g,function(e,t){return console.log(t),t=t.toLowerCase().replace(/\\&/,"__amp__").replace(/\\</g,"__lt__").replace(/\\>/g,"__gt__").replace(/\\"/g,"__quot__").replace(/\\'/g,"__39__").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/__amp__/g,"\\&").replace(/__lt__/g,"\\<").replace(/__gt__/g,"\\>").replace(/__quot__/g,'"').replace(/__39__/g,"'"),"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}},function(e,exports,t){"use strict";var n=t(1107);e.exports=function(e,t,r,i){var o=r?r.call(i,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=n(e),a=n(t),l=s.length;if(l!==a.length)return!1;i=i||null;for(var c=Object.prototype.hasOwnProperty.bind(t),u=0;u<l;u++){var d=s[u];if(!c(d))return!1;var p=e[d],h=t[d],f=r?r.call(i,p,h,d):void 0;if(f===!1||void 0===f&&p!==h)return!1}return!0}},function(e,exports,t){"use strict";var n=t(1055),r=t(1081),i={body:"",beginning:"",end:"",flags:"g"},o=function(e,t,o){t=n.extend({},t);var s=n.extend({},i,o),a=n.extend({},{variable:s.variable},s.settings||{}),l=e;if(s.delims)for(a=n.extend({},a,r(s.delims,s));e.indexOf(s.delims[0])>=0&&(e=n.template(e,t,a),e!==l););else for(;(e.indexOf("${")>=0||e.indexOf("%>")>=0)&&(e=n.template(e,t,a),e!==l););return e};o.read=function(e,t,n){return e=fs.readFileSync(e,"utf8"),o(e,t,n)},e.exports=o},,,function(e,exports,t){var n,r;!function(i,o){"object"==typeof e&&e.exports?e.exports=o():(n=o,r="function"==typeof n?n.call(exports,t,exports,e):n,!(void 0!==r&&(e.exports=r)))}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+n/r*100,s=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[i]||(u.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",u.cssRules.length),p[i]=1),i}function r(e,t){var n,r,i=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==i[t])return t;for(r=0;r<d.length;r++)if(n=d[r]+t,void 0!==i[n])return n}function i(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=o(e||{},a.defaults,h)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}u.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,r){function o(){return i(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(e,a,l){t(p,t(i(o(),{rotation:360/r.lines*e+"deg",left:~~a}),t(i(n("roundrect",{arcsize:r.corners}),{width:c,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:l}),n("fill",{color:s(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,c=r.scale*(r.length+r.width),u=2*r.scale*c,d=-(r.width+r.length)*r.scale*2+"px",p=i(o(),{position:"absolute",top:d,left:d});if(r.shadow)for(l=1;l<=r.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)a(l);return t(e,p)},a.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var c,u,d=["webkit","Moz","ms","O"],p={},h={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},o(a.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,o=n.el=e(null,{className:r.className});if(i(o,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!c){var s,a=0,l=(r.lines-1)*(1-r.direction)/2,u=r.fps,d=u/r.speed,p=(1-r.opacity)/(d*r.trail/100),h=d/r.lines;!function e(){a++;for(var t=0;t<r.lines;t++)s=Math.max(1-(a+(r.lines-t)*h)%d*p,r.opacity),n.opacity(o,t*r.direction+l,s,r);n.timeout=n.el&&setTimeout(e,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,o){function a(t,n){return i(e(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var l,u=0,d=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)l=i(e(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,d+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,i(a("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,a(s(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){u=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var f=i(e("group"),{behavior:"url(#default#VML)"});!r(f,"transform")&&f.adj?l():c=r(f,"animation")}return a})},,,,,,,,,,,,function(e,exports,t,n){"use strict";var r=t(n),i=(t(14),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},a=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},l=function(e){var t=this;e instanceof t?void 0:r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,u=i,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=c),n.release=l,n},p={addPoolingTo:d,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:s,fourArgumentPooler:a};e.exports=p}]));